window.__require = function e(t, o, i) {
function n(r, s) {
if (!o[r]) {
if (!t[r]) {
var c = r.split("/");
c = c[c.length - 1];
if (!t[c]) {
var l = "function" == typeof __require && __require;
if (!s && l) return l(c, !0);
if (a) return a(c, !0);
throw new Error("Cannot find module '" + r + "'");
}
r = c;
}
var d = o[r] = {
exports: {}
};
t[r][0].call(d.exports, function(e) {
return n(t[r][1][e] || e);
}, d, d.exports, e, t, o, i);
}
return o[r].exports;
}
for (var a = "function" == typeof __require && __require, r = 0; r < i.length; r++) n(i[r]);
return n;
}({
ADManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ee84b9NApJJZIy+ecs+ZrZ9", "ADManager");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.ADType = void 0;
var n, a = e("../Components/MyEvent"), r = e("../Data/LanguageData"), s = e("../SDKInterface/GoogleAdMob"), c = e("../GameNetWork/NetWorkAll"), l = e("../Util/GameUtil"), d = e("./EventRecorder");
(function(e) {
e[e.googleMob = 1] = "googleMob";
e[e.facebookAD = 2] = "facebookAD";
e[e.appLovinAD = 3] = "appLovinAD";
e[e.unityAD = 4] = "unityAD";
})(n = o.ADType || (o.ADType = {}));
var h = cc._decorator, u = h.ccclass, p = (h.property, function() {
function e() {
this.adNextRewardAmount = 1e3;
this.adNextRewardIntervalTime = 10;
this.adNextShowType = n.googleMob;
this.canGetADReward = !1;
this.autoReward = !1;
this.currCompleteADType = n.googleMob;
}
t = e;
e.prototype.initAD = function() {
this.adNextRewardAmount = l.default.readData("adRewardAmount") || 1e3;
this.adNextRewardIntervalTime = l.default.readData("adRewardIntervalTime") || 10;
this.adNextShowType = l.default.readData("adNextShowType") || n.googleMob;
s.default.inst.loadAD();
};
e.prototype.loadAD = function(e) {
console.log("load ad type : " + e);
s.default.inst.loadAD();
};
e.prototype.showAD = function() {
l.default.alert("AD is not ready !");
};
e.prototype.presentAD = function(e) {
s.default.inst.showAD();
console.log("show ad type : " + e);
};
e.prototype.onCompleteAD = function(e, t) {
d.default.record(d.EventID.adView, "type", e + "");
this.canGetADReward = !0;
1 == this.autoReward && c.default.getInstance().socketSend.getAdRewardInfo(1);
this.autoReward = !1;
this.currCompleteADType = e;
a.MyEvent.getInstance().emit("NOTIFY_COMPLETE_AD", t);
};
e.prototype.onLoadAdFailed = function(e) {
l.default.alert(r.default.ins.STRING_HALL("noAdDesc"));
d.default.record(d.EventID.noAd, "type", e + "");
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ u ], e);
}());
o.default = p;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Data/LanguageData": "LanguageData",
"../GameNetWork/NetWorkAll": "NetWorkAll",
"../SDKInterface/GoogleAdMob": "GoogleAdMob",
"../Util/GameUtil": "GameUtil",
"./EventRecorder": "EventRecorder"
} ],
ActivityData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "91268l7fa9H+LtLmFE0JKeg", "ActivityData");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function() {
function e() {
this._activityData = [];
}
Object.defineProperty(e.prototype, "activityData", {
get: function() {
return this._activityData;
},
set: function(e) {
this._activityData = e;
},
enumerable: !1,
configurable: !0
});
e.prototype.toNameGetData = function(e) {
var t = null;
this._activityData.forEach(function(o) {
e != o.fileName || (t = o);
});
return t;
};
Object.defineProperty(e, "ins", {
get: function() {
this._inst || (this._inst = new e());
return this._inst;
},
enumerable: !1,
configurable: !0
});
return e;
}();
o.default = i;
cc._RF.pop();
}, {} ],
ActivityDialog: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "468f5BMxDpLubXhSqJbzMLQ", "ActivityDialog");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Components/DialogBase"), s = e("../Conf/Config"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {};
t.prototype.start = function() {
e.prototype.start.call(this);
var t = this.node.getChildByName("btnClose"), o = this.node.getChildByName("bg"), i = this.node.getChildByName("btnOK"), n = this._data, a = n.bgImage, r = n.btnImage, c = n.closeImage;
cc.loader.load(s.default.resourceUrl + a.url, function(e, t) {
if (e) console.log("download err ", e); else {
console.log("download success ");
var i = new cc.SpriteFrame(t);
o.getComponent(cc.Sprite).spriteFrame = i;
o.x = a.x;
o.y = a.y;
o.width = i.getRect().width;
o.height = i.getRect().height;
a.clickable && 1 == a.clickable && o.on("click", this._onClickAction, this);
}
}.bind(this));
cc.loader.load(s.default.resourceUrl + r.url, function(e, t) {
if (e) console.log("download err ", e); else {
console.log("download success ");
var o = new cc.SpriteFrame(t);
i.getComponent(cc.Sprite).spriteFrame = o;
i.x = r.x;
i.y = r.y;
i.width = o.getRect().width;
i.height = o.getRect().height;
r.clickable && 1 == r.clickable && i.on("click", this._onClickAction, this);
}
}.bind(this));
cc.loader.load(s.default.resourceUrl + c.url, function(e, o) {
if (e) console.log("download err ", e); else {
console.log("download success ");
var i = new cc.SpriteFrame(o);
t.getComponent(cc.Sprite).spriteFrame = i;
t.x = c.x;
t.y = c.y;
t.width = i.getRect().width;
t.height = i.getRect().height;
t.on("click", this.onClose, this);
}
}.bind(this));
};
t.prototype._onClickAction = function() {
this.onClose();
};
return a([ l ], t);
}(r.default));
o.default = d;
cc._RF.pop();
}, {
"../Components/DialogBase": "DialogBase",
"../Conf/Config": "Config"
} ],
ActivityListDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "36b27TfiE9PWYsD+JrFnMKp", "ActivityListDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../data/MyData"), s = e("../../../public/MyComponent/GameHppayUtil"), c = e("../../../public/MyComponent/WindowBase"), l = e("../../../data/GameLangData"), d = e("../../../manager/GameSoundMgr"), h = e("../../../public/ThirdParty/happyList"), u = e("../../../data/conf/GameRes"), p = e("../../../communication/GameLobbyHttp"), f = cc._decorator, m = f.ccclass, g = (f.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._labelCurrIndexDesc = null;
t._topBar = null;
t._labelMyChip = null;
t._rootNode = null;
t.mActivityListView = null;
t.mActivityListData = [];
t.isClose = !1;
return t;
}
t.prototype.onLoad = function() {
this.setView();
var e = this.node.getChildByName("dlgBg").getChildByName("bg");
this.setNodeFullScreen(e);
};
t.prototype.setView = function() {
this._rootNode = this.node.getChildByName("dlgBg");
this._rootNode.getChildByName("closeBtn").on("click", this.closeSelf, this);
this._topBar = this._rootNode.getChildByName("topBar");
this._topBar.getChildByName("serverBtn").on("click", this.onLine, this);
this._topBar.getChildByName("serverBtn").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("customerService");
this._labelCurrIndexDesc = this._topBar.getChildByName("labelTitle").getComponent(cc.Label);
this._labelMyChip = this._topBar.getChildByName("chip").getChildByName("labelChip");
this.mActivityListView = this._rootNode.getChildByName("activityList").getComponent(h.default);
this._rootNode.active = !1;
};
t.prototype.closeSelf = function() {
this.isClose = !0;
this.onClose();
};
t.prototype.onLine = function() {
d.default.inst.playGameEffect(d.AudioRes.click);
s.default.showFeedback();
};
t.prototype.onShow = function(t) {
e.prototype.onShow.call(this, t);
this.needAnimation = !1;
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.isClose = !1;
this.register("ActivityListDlg", [ "CLOSE_ACTIVITY_DIALOG", "MONEY_UPDATE_EVENT", "ON_GET_ACTIVITY_LIST_SUCCESS", "UPDATE_GAME_RED_NOTIFICA" ]);
this._initUserInfo(r.default.UserData.chip, r.default.UserData.point, r.default.UserData.coin);
s.default.loadSprAtlasFrame(this._topBar.getChildByName("chip").getChildByName("icon"), u.GameResInfo.CURRENCY_ROOT_DIR + u.GameResInfo.CURRENCY_ICON);
this._labelCurrIndexDesc.string = l.default.ins.GET_NEWHALL_LANG("activity");
p.default.getInstance().getActivityList(1);
this.showLoading();
};
t.prototype.onListRender = function(e, t) {
this.exView.onListRenderEx(e, t);
};
t.prototype.onGetActivityListData = function(e) {
this.hideLoading();
this.exView.onGetActivityListDataEx(e);
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "MONEY_UPDATE_EVENT":
this._updateMyInfo();
break;

case "CLOSE_ACTIVITY_DIALOG":
this.closeSelf();
break;

case "ON_GET_ACTIVITY_LIST_SUCCESS":
this.onGetActivityListData(t);
break;

case "UPDATE_GAME_RED_NOTIFICA":
this.updateRedTips();
}
};
t.prototype.updateRedTips = function() {
this.exView.updateRedTipsEx();
};
t.prototype._initUserInfo = function(e) {
this._labelMyChip.getComponent(cc.Label).string = "" + s.default.cul(e.toFixed(2));
};
t.prototype._updateMyInfo = function() {
this.exView.updateMyInfoEx();
};
return a([ m ], t);
}(c.default));
o.default = g;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../data/MyData": "MyData",
"../../../data/conf/GameRes": "GameRes",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../../public/ThirdParty/happyList": "happyList"
} ],
AdapterHpMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1f50dBWQy5KuZ/UPSNqY4+d", "AdapterHpMgr");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.AdaptaterType = void 0;
var n, a = cc._decorator, r = a.ccclass, s = (a.property, function() {
function e() {}
t = e;
Object.defineProperty(e, "inst", {
get: function() {
if (null == this._instance) {
this._instance = new t();
this._instance.visibleSize = cc.view.getVisibleSize();
console.log("visiable size: " + this._instance.visibleSize);
}
return this._instance;
},
enumerable: !1,
configurable: !0
});
e.prototype.removeAdaptater = function(e) {
e.getComponent(cc.Widget) && e.removeComponent(cc.Widget);
};
e.prototype.adapatByType = function(e, t, o) {
var i = t.getComponent(cc.Widget);
i || (i = t.addComponent(cc.Widget));
switch (e) {
case n.Top:
if (cc.sys.platform === cc.sys.WECHAT_GAME) {
var a = window.wx.getMenuButtonBoundingClientRect(), r = window.wx.getSystemInfoSync();
o = cc.find("Canvas").height * (a.top / r.screenHeight);
}
i.top = o || 0;
i.isAbsoluteTop = !0;
i.isAlignTop = !0;
break;

case n.Bottom:
i.bottom = o || 0;
i.isAbsoluteBottom = !0;
i.isAlignBottom = !0;
break;

case n.Left:
i.left = o || 0;
i.isAbsoluteLeft = !0;
i.isAlignLeft = !0;
break;

case n.Right:
i.right = o || 0;
i.isAbsoluteRight = !0;
i.isAlignRight = !0;
break;

case n.FullScreen:
i.right = 0;
i.left = 0;
i.top = 0;
i.bottom = 0;
i.isAlignLeft = !0;
i.isAlignRight = !0;
i.isAlignBottom = !0;
i.isAlignTop = !0;
}
i.target = cc.find("Canvas");
i.updateAlignment();
};
var t;
e._instance = null;
return t = i([ r ], e);
}());
o.default = s;
(function(e) {
e[e.Center = 0] = "Center";
e[e.Top = 1] = "Top";
e[e.Bottom = 2] = "Bottom";
e[e.Left = 3] = "Left";
e[e.Right = 4] = "Right";
e[e.FullScreen = 5] = "FullScreen";
})(n = o.AdaptaterType || (o.AdaptaterType = {}));
cc._RF.pop();
}, {} ],
AdapterMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "13ba7eb8NdABbc8Jt/9mII+", "AdapterMgr");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.AdaptaterType = void 0;
var n, a = cc._decorator, r = a.ccclass, s = (a.property, function() {
function e() {}
t = e;
Object.defineProperty(e, "inst", {
get: function() {
if (null == this._instance) {
this._instance = new t();
this._instance.visibleSize = cc.view.getVisibleSize();
console.log("visiable size: " + this._instance.visibleSize);
}
return this._instance;
},
enumerable: !1,
configurable: !0
});
e.prototype.adapatByType = function(e, t, o) {
var i = t.getComponent(cc.Widget);
i || (i = t.addComponent(cc.Widget));
switch (e) {
case n.Top:
if (cc.sys.platform === cc.sys.WECHAT_GAME) {
var a = window.wx.getMenuButtonBoundingClientRect(), r = window.wx.getSystemInfoSync();
o = cc.find("Canvas").height * (a.top / r.screenHeight);
}
i.top = o || 0;
i.isAbsoluteTop = !0;
i.isAlignTop = !0;
break;

case n.Bottom:
i.bottom = o || 0;
i.isAbsoluteBottom = !0;
i.isAlignBottom = !0;
break;

case n.Left:
i.left = o || 0;
i.isAbsoluteLeft = !0;
i.isAlignLeft = !0;
break;

case n.Right:
i.right = o || 0;
i.isAbsoluteRight = !0;
i.isAlignRight = !0;
break;

case n.FullScreen:
i.right = 0;
i.left = 0;
i.top = 0;
i.bottom = 0;
i.isAlignLeft = !0;
i.isAlignRight = !0;
i.isAlignBottom = !0;
i.isAlignTop = !0;
}
i.target = cc.find("Canvas");
i.updateAlignment();
};
e.prototype.removeAdaptater = function(e) {
e.getComponent(cc.Widget) && e.removeComponent(cc.Widget);
};
var t;
e._instance = null;
return t = i([ r ], e);
}());
o.default = s;
(function(e) {
e[e.Center = 0] = "Center";
e[e.Top = 1] = "Top";
e[e.Bottom = 2] = "Bottom";
e[e.Left = 3] = "Left";
e[e.Right = 4] = "Right";
e[e.FullScreen = 5] = "FullScreen";
})(n = o.AdaptaterType || (o.AdaptaterType = {}));
cc._RF.pop();
}, {} ],
AlertWithConfirm: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "dd62dtiZYRAmZcxUNc7ooPU", "AlertWithConfirm");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Components/DialogBase"), s = e("../Data/LanguageData"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._labelTitle = null;
t._labelConfirmDesc = null;
t._labelConfirmContent = null;
return t;
}
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
var t = this.node.getChildByName("dialog");
this._labelTitle = t.getChildByName("labelTitle").getComponent(cc.Label);
this._labelConfirmDesc = t.getChildByName("labelContentDesc").getComponent(cc.Label);
this._labelConfirmContent = t.getChildByName("labelContentConfirm").getComponent(cc.Label);
var o = t.getChildByName("btnOK"), i = t.getChildByName("btnCancel");
this._btnList = [ o, i ];
this.addBtnClick();
this._labelTitle.string = s.default.ins.STRING_COMMON("tips");
o.getChildByName("label").getComponent(cc.Label).string = s.default.ins.STRING_DIALOG("enter");
i.getChildByName("label").getComponent(cc.Label).string = s.default.ins.STRING_DIALOG("cancel");
};
t.prototype.start = function() {
e.prototype.start.call(this);
this._labelConfirmContent.string = this._data.confirmContent;
this._data.title && (this._labelTitle.string = this._data.title);
this._data.confirmDesc && (this._labelConfirmDesc.string = this._data.confirmDesc);
this._data.callback && (this._callback = this._data.callback);
this._data.x && (this.node.getChildByName("dialog").x = this._data.x);
this._data.y && (this.node.getChildByName("dialog").y = this._data.y);
};
t.prototype.onBtnClick = function(t) {
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "btnOK":
this._onConfirm();
break;

case "btnCancel":
this._onCancel();
}
};
t.prototype._onConfirm = function() {
null != this._callback && this._callback();
this.onClose();
};
t.prototype._onCancel = function() {
this.onClose();
};
return a([ l ], t);
}(r.default));
o.default = d;
cc._RF.pop();
}, {
"../Components/DialogBase": "DialogBase",
"../Data/LanguageData": "LanguageData"
} ],
AlertWithNoTitle: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "acf5cfNMiZD45xfV1AJVwwy", "AlertWithNoTitle");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Components/DialogBase"), s = e("../Data/LanguageData"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._labelContent = null;
t._btnOK = null;
t._btnOKLabel = null;
return t;
}
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
var t = this.node.getChildByName("dialog");
this._labelContent = t.getChildByName("labelContent").getComponent(cc.Label);
this._btnOK = t.getChildByName("btnOK");
this._btnOKLabel = this._btnOK.getChildByName("label").getComponent(cc.Label);
this._btnOKLabel.string = s.default.ins.STRING_DIALOG("enter");
this._btnList = [ this._btnOK ];
this.addBtnClick();
};
t.prototype.start = function() {
e.prototype.start.call(this);
this._labelContent.string = this._data.content;
this._data.btnDesc && (this._btnOKLabel.string = this._data.btnDesc);
this._data.callback && (this._callback = this._data.callback);
this._data.x && (this.node.getChildByName("dialog").x = this._data.x);
this._data.y && (this.node.getChildByName("dialog").y = this._data.y);
};
t.prototype.onBtnClick = function(t) {
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "btnOK":
this._onConfirm();
}
};
t.prototype._onConfirm = function() {
null != this._callback && this._callback();
this.onClose();
};
return a([ l ], t);
}(r.default));
o.default = d;
cc._RF.pop();
}, {
"../Components/DialogBase": "DialogBase",
"../Data/LanguageData": "LanguageData"
} ],
Alert: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f26a1sAAzNNPJqzT2FrTpnB", "Alert");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Components/DialogBase"), s = e("../Data/LanguageData"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._labelTitle = null;
t._labelContent = null;
t._btnOK = null;
t._btnOKLabel = null;
t._btnOKYellow = null;
t._btnOKYellowLabel = null;
return t;
}
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
var t = this.node.getChildByName("dialog");
this._labelTitle = t.getChildByName("labelTitle").getComponent(cc.Label);
this._labelContent = t.getChildByName("labelContent").getComponent(cc.Label);
this._btnOK = t.getChildByName("btnOK");
this._btnOKLabel = this._btnOK.getChildByName("label").getComponent(cc.Label);
this._btnOKYellow = t.getChildByName("btnOKYellow");
this._btnOKYellowLabel = this._btnOKYellow.getChildByName("label").getComponent(cc.Label);
this._labelTitle.string = s.default.ins.STRING_COMMON("tips");
this._btnOKLabel.string = s.default.ins.STRING_DIALOG("enter");
this._btnOKYellowLabel.string = s.default.ins.STRING_DIALOG("enter");
this._btnList = [ this._btnOK, this._btnOKYellow ];
this.addBtnClick();
};
t.prototype.start = function() {
e.prototype.start.call(this);
this._labelContent.string = this._data.content;
this._data.title && (this._labelTitle.string = this._data.title);
if (this._data.btnDesc) {
this._btnOKLabel.string = this._data.btnDesc;
this._btnOKYellowLabel.string = this._data.btnDesc;
}
this._data.callback && (this._callback = this._data.callback);
if (1 == (this._data.btnType || 1)) {
this._btnOK.active = !0;
this._btnOKYellow.active = !1;
this._btnOK.getComponent(cc.Button).enabled = !0;
this._btnOKYellow.getComponent(cc.Button).enabled = !1;
} else {
this._btnOK.active = !1;
this._btnOKYellow.active = !0;
this._btnOK.getComponent(cc.Button).enabled = !1;
this._btnOKYellow.getComponent(cc.Button).enabled = !0;
}
this._data.x && (this.node.getChildByName("dialog").x = this._data.x);
this._data.y && (this.node.getChildByName("dialog").y = this._data.y);
};
t.prototype.onBtnClick = function(t) {
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "btnOK":
case "btnOKYellow":
this._onConfirm();
}
};
t.prototype._onConfirm = function() {
null != this._callback && this._callback();
this.onClose();
};
return a([ l ], t);
}(r.default));
o.default = d;
cc._RF.pop();
}, {
"../Components/DialogBase": "DialogBase",
"../Data/LanguageData": "LanguageData"
} ],
AndroidFirebase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8df18qn+SJLyZfqauu8e9mK", "AndroidFirebase");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.GoogleAccount = o.GoogleAccountResultCode = void 0;
var r, s = e("../data/conf/AndroidInterfaces"), c = e("../public/MyComponent/GameEvent"), l = cc._decorator, d = l.ccclass;
l.property;
(function(e) {
e[e.authSuccess = 0] = "authSuccess";
e[e.authInvalid = 3] = "authInvalid";
e[e.authValid = 2] = "authValid";
e[e.authCancel = 1] = "authCancel";
e[e.authError = -1] = "authError";
})(r = o.GoogleAccountResultCode || (o.GoogleAccountResultCode = {}));
var h = function() {
function e() {}
e.token = "";
e.pid = "";
e.isAuth = !1;
e.isBind = !1;
return e;
}();
o.GoogleAccount = h;
var u = function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
o = t;
Object.defineProperty(t, "inst", {
get: function() {
null == this._inst && (this._inst = new o());
return this._inst;
},
enumerable: !1,
configurable: !0
});
t.prototype.initFirebaseAuth = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(s.InterfaceAndroidPath.androidNativeInterface, "initGGAuth", "()V");
};
t.prototype.authSuccessCallBack = function(e, t) {
h.token = e;
h.pid = t;
h.isAuth = !0;
c.GameEvent.ins().emit("ON_GOOGLE_AUTH_SUCCESS");
};
t.prototype.authFailedCallBack = function() {
h.isAuth = !1;
c.GameEvent.ins().emit("ON_GOOGLE_AUTH_FAILED");
};
t.prototype.login = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(s.InterfaceAndroidPath.androidNativeInterface, "loginGoogle", "()V");
};
t.prototype.loginSuccessCallback = function(e, t) {
h.token = e;
h.pid = t;
var o = {};
o.token = e;
o.pid = t;
o.retCode = r.authSuccess;
h.isAuth = !0;
c.GameEvent.ins().emit("ON_GOOGLE_LOGIN_CALLBACK", o);
};
t.prototype.loginFailedCallBack = function(e) {
var t = {};
t.retCode = r.authError;
t.errorMsg = e;
console.log("google login error msg = ", e);
h.isAuth = !1;
c.GameEvent.ins().emit("ON_GOOGLE_LOGIN_CALLBACK", t);
};
t.prototype.initDeepLink = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(s.InterfaceAndroidPath.androidNativeInterface, "getGGDeepLinkUrl", "()V");
};
t.prototype.setGGDeepLink = function(e) {
console.log("deepGGLinkUrl = ", e);
var t = e.split("?");
if (t && 2 == t.length) {
var i = t[1].split("&");
if (i && i.length > 0) {
for (var n = [], a = 0; a < i.length; a++) {
var r = i[a].split("=");
if (r && 2 == r.length) {
var s = {};
s.key = r[0];
s.value = r[1];
if ("action" == s.key) {
o.deepLinkAction = s.value;
console.log("action = ", o.deepLinkAction);
} else if ("subAction" == s.key) {
o.deepLinkSubAction = decodeURIComponent(s.value);
console.log("subAction = ", o.deepLinkSubAction);
} else if ("gameType" == s.key) {
o.deepLinkGameType = Number(decodeURIComponent(s.value));
console.log("gameType = ", o.deepLinkGameType);
} else n.push(s);
}
}
o.deepLinkParams = n;
}
}
};
var o;
t._inst = null;
t.deepLinkParams = [];
t.deepLinkAction = 0;
t.deepLinkSubAction = "";
t.deepLinkGameType = 1;
return o = a([ d ], t);
}(cc.Component);
o.default = u;
cc.FirebaseCallBack = u.inst;
cc._RF.pop();
}, {
"../data/conf/AndroidInterfaces": "AndroidInterfaces",
"../public/MyComponent/GameEvent": "GameEvent"
} ],
AndroidInfo: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "af707uQDVpPcatzL8qq4HNZ", "AndroidInfo");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../data/conf/GameInfo"), s = e("../public/MyComponent/GameHppayUtil"), c = e("../public/MyComponent/GameEvent"), l = e("../data/GameLangData"), d = e("./AndroidPayment"), h = e("../manager/ReportGameEvent"), u = e("../data/conf/AndroidInterfaces"), p = e("../login/HotUpdateManager"), f = cc._decorator, m = f.ccclass, g = (f.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
o = t;
Object.defineProperty(t, "inst", {
get: function() {
null == this._inst && (this._inst = new o());
return this._inst;
},
enumerable: !1,
configurable: !0
});
t.prototype.getAppID = function() {
if (cc.sys.isBrowser) {
r.default.appid = r.default.webParamData.appid || r.default.appid;
c.GameEvent.ins().emit("ON_INIT_APPID");
} else cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.getAppID, "()V") : cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.getAppID + ":", "none") : c.GameEvent.ins().emit("ON_INIT_APPID");
};
t.prototype.boyaaSetAppID = function(e) {
console.log("init appID", e);
r.default.appid = e;
c.GameEvent.ins().emit("ON_INIT_APPID");
};
t.prototype.installApp = function(e) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.installApp, "(Ljava/lang/String;)V", e) : (cc.sys.os, 
cc.sys.OS_IOS));
};
t.prototype.getInstallSource = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.getInstallSource, "()V") : cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.getInstallSource + ":", "none"));
};
t.prototype.setCUID = function(e) {
if (cc.sys.isBrowser) {
r.default.installSource = "WebSource";
c.GameEvent.ins().emit("ON_GET_INSTALL_SOURCE", r.default.installSource);
} else cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.setCUID, "(Ljava/lang/String;)V", e) : cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.setCUID + ":", "" + e);
};
t.prototype.setInstallSource = function(e) {
console.log("setInstallSource = ", e);
if ("none" != e) {
r.default.installSource = e;
c.GameEvent.ins().emit("ON_GET_INSTALL_SOURCE", e);
}
};
t.prototype.getLaunchAttrs = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.getLaunchAttrs, "()V") : (cc.sys.os, 
cc.sys.OS_IOS));
};
t.prototype.setLaunchAttrs = function(e) {
r.default.launchAttrs = e;
};
t.prototype.getAppVersion = function() {
cc.sys.isBrowser ? r.default.ver = r.default.webParamData.appver || r.default.ver : cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.getAppVersion, "()V") : cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.getAppVersion + ":", "");
};
t.prototype.boyaaSetAppVersion = function(e) {
var t = p.default.getCacheVersion();
console.log("cache version = ", t);
if (null == t) {
r.default.appVersion = e;
r.default.ver = parseInt(e.replace(".", "").replace(".", ""));
} else {
r.default.appVersion = t;
r.default.ver = parseInt(t.replace(".", "").replace(".", ""));
}
console.log("init appVersion", r.default.ver, r.default.appVersion);
};
t.prototype.getDeviceID = function() {
cc.sys.isBrowser ? r.default.devId = s.default.readData("account") || r.default.webParamData.devid || r.default.devId : cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.getDeviceID, "()V") : cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.getDeviceID + ":", "") : r.default.devId = s.default.readData("account") || r.default.webParamData.devid || r.default.devId;
};
t.prototype.boyaaSetDevId = function(e) {
console.log("init device Id", e);
r.default.devId = e;
};
t.prototype.getSystemVersion = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.getSysVerson, "()V") : cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.getSysVerson + ":", ""));
};
t.prototype.boyaaSetSystemVersion = function(e) {
r.default.systemVersion = e;
};
t.prototype.getDeviceInfo = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.getDeviceInfo, "()V") : cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.getDeviceInfo + ":", "") : r.default.devInfo = "webapp");
};
t.prototype.boyaaSetDeviceInfo = function(e) {
console.log("init device info", e);
r.default.devInfo = e;
};
t.prototype.getDeviceLanguage = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.getDeviceLanguage, "()V") : cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.getDeviceLanguage + ":", ""));
};
t.prototype.boyaaSetLocalLanguage = function(e) {
console.log("init device language", e);
r.default.sourceLanguage = e;
};
t.prototype.getTimeZone = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.getDeviceTimeZone + ":", "none") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.getDeviceTimeZone, "()V"));
};
t.prototype.boyaaSetTimeZone = function(e) {
r.default.timeZone = e;
};
t.prototype.getLocalTime = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.getDeviceTime + ":", "none") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.getDeviceTime, "()V"));
};
t.prototype.boyaaSetLocalTime = function(e) {
r.default.localTime = e;
};
t.prototype.setScreenOrientation = function(e) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.setScreenOrentation + ":", e) : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.setScreenOrentation, "(I)V", e));
};
t.prototype.hideSplash = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.hideSplash + ":", "none") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.hideSplash, "(I)V", 0));
};
t.prototype.getKeyBoardHeight = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.getSoftKeyBoardHeight, "()V");
};
t.prototype.setKeyBoardHeight = function(e) {
console.log("keyboard height ", e);
c.GameEvent.ins().emit("ON_GET_KEYBOARD_HEIGHT", e);
};
t.prototype.getCurrKeyboardHeight = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.getSoftKeyBoardCurrHeight, "()V");
};
t.prototype.setCurrKeyboardHeight = function(e) {
console.log("curr keyboard height ", e);
c.GameEvent.ins().emit("ON_GET_KEYBOARD_INVISIBLE_HEIGHT", e);
};
t.prototype.showWebviewLoading = function(e) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.showGameLoading + ":", e) : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.showGameLoading, "(I)V", e));
};
t.prototype.hideWebviewLoading = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.hideGameLoading + ":", "") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.hideGameLoading, "()V"));
};
t.prototype.showFullWebView = function(e, t) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.showGamePage + ":portrait:", e, t) : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.showGamePage, "(Ljava/lang/String;I)V", e, t));
};
t.prototype.hideWebviewBackBtn = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.hideGameHomeBtn + ":", "") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.hideGameHomeBtn, "()V"));
};
t.prototype.backHall = function() {
c.GameEvent.ins().emit("ON_BACK_HALL");
};
t.prototype.onWebLoadComplete = function() {
c.GameEvent.ins().emit("ON_LOAD_COMPLETE");
};
t.prototype.onWebLoadError = function() {
c.GameEvent.ins().emit("ON_LOAD_ERROR");
};
t.prototype.boyaaSetScreenOrientation = function(e) {
c.GameEvent.ins().emit("EVENT_ORIENTATION_CHANGED", e);
};
t.prototype.chatWithWhatsApp = function(e, t) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, "chatInWhatsApp:", "" + t) : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, "chatToWhatsApp", "(Ljava/lang/String;Ljava/lang/String;)V", "" + e, "" + t));
};
t.prototype.initPushToken = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, "getPushToken:", "none") : cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, "getGGPushToken", "()V") : r.default.pushToken = "simulatorpushtoken2021");
};
t.prototype.setPushToken = function(e) {
console.log("init push token", e);
r.default.pushToken = e;
};
t.prototype.registerPushNotification = function() {
if (!cc.sys.isBrowser) if (cc.sys.os == cc.sys.OS_IOS) {
console.log("registerPushNotification 333");
jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, "registerPushNotification:", "none");
} else cc.sys.os, cc.sys.OS_ANDROID;
};
t.prototype.requestSKAdNetwork = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, "requestSKAdNetwork:", "none") : (cc.sys.os, 
cc.sys.OS_ANDROID));
};
t.prototype.getNetworkEnvironment = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.getNetStatus + ":", "123") : cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.getNetStatus, "()V") : r.default.networkEnvironment = "Desktop");
};
t.prototype.setNetworkEnvironment = function(e) {
console.log("setNetworkEnvironment = ", e);
r.default.networkEnvironment = e;
};
t.prototype.getIsEmulator = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.getIsEmulator + ":", "123") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.getIsEmulator, "()V"));
};
t.prototype.setIsEmulator = function(e) {
console.log("iseMulator = ", e);
r.default.isEmulator = e;
};
t.prototype.getSimLocation = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.getSimLocation + ":", "123") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.getSimLocation, "()V"));
};
t.prototype.setSimLocation = function(e) {
console.log("simCardLocation = ", e);
r.default.simCardLocation = e;
};
t.prototype.getGoogleProduct = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.getGooglePruduct, "()V");
};
t.prototype.setGoogleProduct = function(e) {
console.log("setGoogleProduct", e);
d.default.inst.productID = e;
};
t.prototype.onPaymentFailed = function(e, t) {
console.log("onPaymentFailed ", t);
d.default.inst.onPaymentFailed(e, t);
};
t.prototype.onRequestProducts = function(e, t, o, i, n) {
console.log("onRequestProducts ", i);
d.default.inst.onRequestProducts(e, t, o, i, n);
};
t.prototype.onHttpPostSuccess = function(e, t, o) {
var i = {};
i.maxMsgId = e;
i.imageID = t;
i.imageName = o;
c.GameEvent.ins().emit("ON_HTTP_POST_SUCCESS", i);
};
t.prototype.onHttpPostFailed = function(e) {
c.GameEvent.ins().emit("ON_HTTP_POST_FAIL", e);
};
t.prototype.initClipBoard = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.getClipBoardStr + ":", "()V") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.getClipBoardStr, "()V"));
};
t.prototype.setClipBoardText = function(e) {
console.log("init clipboard ", e);
r.default.clipboardStr = e;
};
t.prototype.onNativeSaveFile = function(e) {
console.log("onNativeSaveFile", e);
c.GameEvent.ins().emit("ON_SAVE_FILE", e);
};
t.prototype.gotoComment = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, "gotoComment:", "") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, "goComment", "()V"));
};
t.prototype.openStore = function(e, t, o) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, "openStore:", e) : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.goStore, "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", e, t, o));
};
t.prototype.recordEvent = function(e, t, o) {
h.default.record(e, t, o);
};
t.prototype.copyStr = function(e) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.iosNativeInterface, u.NativeInterface.copyStr + ":", "" + e) : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.copyStr, "(Ljava/lang/String;)V", e));
};
t.prototype.copyStrCallBack = function() {
c.GameEvent.ins().emit("ON_COPY_SUCCESS");
};
t.prototype.alert = function(e) {
c.GameEvent.ins().emit("ON_SAVE_IMAGE_SUCCESS");
s.default.alert(l.default.ins.STRING_COMMON(e));
};
t.prototype.getIPByHost = function(e) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, u.NativeInterface.getLocalHost, "(Ljava/lang/String;)V", e);
};
t.prototype.setHostIP = function(e) {
console.log("ipAddress = ", e);
h.default.newRecord(h.ReportEventType.hostIP, "ip", e);
};
t.prototype.createQRCodeWithString = function(e) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, "createQRWithString", "(Ljava/lang/String;)V", e);
};
t.prototype.createQRCodeWithBase64String = function(e) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, "createQRWithBase64String", "(Ljava/lang/String;)V", e);
};
t.prototype.saveQRToGallery = function(e, t, o, i) {
console.log("date " + o);
console.log("time " + i);
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, "saveQRInGallery", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", e, t, o, i);
};
t.prototype.saveQRImageToGallery = function(e, t, o, i) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, "saveQRImageInGallery", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", e, t, o, i);
};
t.prototype.getDeepLink = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, "getAppDeepLink", "()V");
};
t.prototype.setAppDeepLink = function(e) {
console.log("deeplink = ", e);
r.default.deeplink = e;
};
t.prototype.adJustRecord = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.InterfaceAndroidPath.androidNativeInterface, "adJustRecord", "(Ljava/lang/String;)V", "");
};
var o;
t._inst = null;
return o = a([ m ], t);
}(cc.Component));
o.default = g;
cc.NativeCallBack = g.inst;
cc._RF.pop();
}, {
"../data/GameLangData": "GameLangData",
"../data/conf/AndroidInterfaces": "AndroidInterfaces",
"../data/conf/GameInfo": "GameInfo",
"../login/HotUpdateManager": "HotUpdateManager",
"../manager/ReportGameEvent": "ReportGameEvent",
"../public/MyComponent/GameEvent": "GameEvent",
"../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"./AndroidPayment": "AndroidPayment"
} ],
AndroidInterfaces: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0f52cXAoVJGw6MqvXCgKHj1", "AndroidInterfaces");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.NativeInterface = o.InterfaceAndroidPath = void 0;
(function(e) {
e.androidNativeInterface = "com/boyaa/games/AppInterface";
e.iosNativeInterface = "ZTInterface";
})(o.InterfaceAndroidPath || (o.InterfaceAndroidPath = {}));
(function(e) {
e.hideSplash = "boyaaHideSplash";
e.getAppID = "boyaaGetAppID";
e.getAppVersion = "boyaaGetAppVersion";
e.getSysVerson = "boyaaGetSysVersion";
e.getDeviceID = "boyaaGetDeviceID";
e.getDeviceInfo = "boyaaGetDeviceInfo";
e.getDeviceTimeZone = "boyaaGetTimeZone";
e.getDeviceTime = "boyaaGetDeviceTime";
e.getDeviceLanguage = "boyaaGetDeviceLanguage";
e.setScreenOrentation = "boyaaSetScreenOrentation";
e.getClipBoardStr = "boyaaGetClipBoardStr";
e.copyStr = "boyaaCopyStr";
e.getNetStatus = "boyaaGetNetStatus";
e.getLocalHost = "boyaaGetLocalHost";
e.getSimLocation = "getSIMLocation";
e.getIsEmulator = "getIsEmulator";
e.goStore = "goStore";
e.getInstallSource = "boyaaGetInstallSource";
e.getLaunchAttrs = "boyaaGetLaunchAttrs";
e.setCUID = "setCUID";
e.getSoftKeyBoardHeight = "boyaaGetSoftKeyBoardHeight";
e.getSoftKeyBoardCurrHeight = "boyaaGetSoftKeyBoardCurrHeight";
e.showGameLoading = "boyaaShowGameLoading";
e.hideGameLoading = "boyaaHideGameLoading";
e.showGamePage = "boyaaShowGamePage";
e.hideGameHomeBtn = "boyaaHideGameHomeBtn";
e.getGooglePruduct = "getGooglePruduct";
e.googlePay = "boyaaGooglePay";
e.googleConsume = "boyaaGoogleConsume";
e.googleQuery = "boyaaGoogleQuery";
e.installApp = "boyaaInstallApp";
})(o.NativeInterface || (o.NativeInterface = {}));
cc._RF.pop();
}, {} ],
AndroidPayment: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "80791MX22VPx5+Vype9WcLx", "AndroidPayment");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.PayType = void 0;
var r, s = e("../public/MyComponent/GameEvent"), c = e("../data/conf/GameConfig"), l = e("../data/MyData"), d = e("../data/GameLangData"), h = e("../public/MyComponent/GameHppayUtil"), u = e("../communication/GameLobbyHttp"), p = e("../data/conf/AndroidInterfaces");
(function(e) {
e[e.none = 0] = "none";
e[e.apple = 1] = "apple";
e[e.google = 2] = "google";
})(r = o.PayType || (o.PayType = {}));
var f = cc._decorator, m = f.ccclass, g = (f.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.productID = "";
t.payType = r.google;
return t;
}
o = t;
Object.defineProperty(t, "inst", {
get: function() {
null == this._inst && (this._inst = new o());
return this._inst;
},
enumerable: !1,
configurable: !0
});
t.prototype.queryUndonePurchase = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(p.InterfaceAndroidPath.androidNativeInterface, p.NativeInterface.googleQuery, "()V");
};
t.prototype.consumePurchase = function(e) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(p.InterfaceAndroidPath.androidNativeInterface, p.NativeInterface.googleConsume, "(Ljava/lang/String;)V", e);
};
t.prototype.buyCommodity = function(e) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(p.InterfaceAndroidPath.androidNativeInterface, p.NativeInterface.googlePay, "(Ljava/lang/String;)V", e);
};
t.prototype.onRequestProducts = function(e, t, o, i, n) {
s.GameEvent.ins().emit("ON_GOOGLE_PAY_SUCCESS", i);
"ENTER_REVIEW" != h.default.readData("GAME_SWITCHER") && this.getChips(e, t, o, i, n);
};
t.prototype.getChips = function(e, t, o, i, n) {
var a = this;
console.log("payment getChips ", e, "productToken ", o, "orderId ", t, "productIDs ", i, "packageName ", n);
var r = {};
r.uid = l.default.UserData.userId;
r.payType = e;
r.apple_receipt = o;
r.orderID = t;
r.productIDs = i;
r.packageName = n;
u.default.getInstance().httpPostWithFullUrl(c.default.gpUrl + "callback/gppaynotify", r, function(e) {
console.log("payment :error code", e.error_code);
if (0 == e.error_code) {
console.log("payment success", e.data);
for (var t = e.data, o = 0; o < t.length; o++) {
var i = t[o];
if (1 == i.status) {
console.log("payment :status error", i.status);
console.log("payment :success get productId = ", i.productId);
console.log("payment :orderId = ", i.orderId);
a.consumePurchase(i.productId);
l.default.UserData.firstStrike = 0;
s.GameEvent.ins().emit("APPPAY_CALLBACK_EVENT");
} else i.status, console.log("payment :status error", i.status);
}
} else r.error_code, console.log("payment :status error", r.error_code);
});
};
t.prototype.onPaymentFailed = function(e, t) {
console.log("payment failed, error code = ", t);
h.default.alert(d.default.ins.STRING_COMMON("appPayErr"));
s.GameEvent.ins().emit("APPPAY_CALLBACK_EVENT");
};
var o;
t._inst = null;
return o = a([ m ], t);
}(cc.Component));
o.default = g;
cc._RF.pop();
}, {
"../communication/GameLobbyHttp": "GameLobbyHttp",
"../data/GameLangData": "GameLangData",
"../data/MyData": "MyData",
"../data/conf/AndroidInterfaces": "AndroidInterfaces",
"../data/conf/GameConfig": "GameConfig",
"../public/MyComponent/GameEvent": "GameEvent",
"../public/MyComponent/GameHppayUtil": "GameHppayUtil"
} ],
AniLayerScript: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a8789QxXWdNxrPW4OGlMSsk", "AniLayerScript");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Base/BaseView"), s = e("../Util/GameUtil"), c = cc._decorator, l = c.ccclass, d = (c.property, 
c.menu), h = function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.setSeatManager = function(e) {
this._seatManager = e;
};
t.prototype.onLoad = function() {
this.register("AniLayerScript", [ "BROADCAST_ROOM_GIVEGIFT_EVENT" ]);
};
t.prototype.start = function() {};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "BROADCAST_ROOM_GIVEGIFT_EVENT":
this.actionGivegift(t);
}
};
t.prototype.actionGivegift = function(e) {
var t = this, o = this._seatManager.toUserIdGetSeat(e.fromUid);
e.list.forEach(function(i) {
var n = t._seatManager.toUserIdGetSeat(i), a = null;
s.default.isnull(o) && (a = o.node.position);
var r = null;
s.default.isnull(n) && (r = n.node.position);
t.playGiveGift(e.giftId, a, r, n);
});
};
t.prototype.playGiveGift = function(e, t, o, i) {
if (s.default.isnull(o)) {
var n = new cc.Node();
n.addComponent(cc.Sprite);
s.default.setGiftIcon(n.getComponent(cc.Sprite), e);
n.parent = this.node;
n.getComponent(cc.Sprite).sizeMode = cc.Sprite.SizeMode.CUSTOM;
n.width = 90;
n.height = 90;
if (s.default.isnull(t)) {
n.setPosition(t.x, t.y);
cc.tween(n).to(1, {
x: o.x - 78,
y: o.y - 31
}).call(function() {
n.destroy();
i.setGiftIcon(e);
}).start();
} else {
n.setPosition(o.x, o.y);
n.destroy();
i.setGiftIcon(e);
}
}
};
return a([ l, d("roomScript/AniLayerScript") ], t);
}(r.default);
o.default = h;
cc._RF.pop();
}, {
"../Base/BaseView": "BaseView",
"../Util/GameUtil": "GameUtil"
} ],
ApplePay: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4b4a1oxl35MtqZcRZHzA2Aj", "ApplePay");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.PayType = void 0;
var r, s = e("../PublicTools/GameEvents"), c = e("../FireData/CommonData"), l = e("../GameHttpTools/HttpTools"), d = e("../GameCommon/NVSGameUtil"), h = e("./GameRecorder"), u = e("../GameFireData/GameAllData"), p = e("../Conf/GuardConfig");
(function(e) {
e[e.none = 0] = "none";
e[e.apple = 1] = "apple";
e[e.google = 2] = "google";
})(r = o.PayType || (o.PayType = {}));
var f = cc._decorator, m = f.ccclass, g = (f.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.productID = "";
t.payType = r.google;
t.unCompleteOrders = [];
t.priceInfos = {};
return t;
}
o = t;
Object.defineProperty(t, "inst", {
get: function() {
null == this._inst && (this._inst = new o());
return this._inst;
},
enumerable: !1,
configurable: !0
});
t.prototype.init = function(e) {
cc.sys.os == cc.sys.OS_ANDROID ? this.payType = r.google : cc.sys.os == cc.sys.OS_IOS && (this.payType = r.apple);
100 == e ? this.payType = r.apple : 500 == e && (this.payType = r.google);
this.initProducts("");
console.log("init.payType = ", this.payType);
};
t.prototype.initProducts = function() {
cc.sys.isBrowser;
};
t.prototype.queryUndonePurchase = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(p.AndroidInterfacePath.GooglePayInterface, "queryUndonePurchase", "(Ljava/lang/String;)V", "");
};
t.prototype.consumePurchase = function(e) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(p.AndroidInterfacePath.GooglePayInterface, "consumePurchase", "(Ljava/lang/String;)V", e);
};
t.prototype.buyCommodity = function(e) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("AppController", "purchase:", e) : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(p.AndroidInterfacePath.GooglePayInterface, "purchase", "(Ljava/lang/String;)V", e));
};
t.prototype.resetUndoneOrders = function() {
console.log("PaymentInterface:resetUndoneOrders");
this.unCompleteOrders = [];
};
t.prototype.onGetUndonePurchase = function(e, t, o, i, n) {
if ("ENTER_GAME" != d.default.readData("GAME_SWITCHER")) {
console.log("PaymentInterface ", e, "productToken ", o, "orderId ", t, "productIDs ", i, "packageName ", n);
this.getChips(e, t, o, i, n);
}
};
t.prototype.startRequestChips = function() {
"ENTER_GAME" != d.default.readData("GAME_SWITCHER") && console.log("PaymentInterface:startRequestChips");
};
t.prototype.getChips = function(e, t, o, i, n) {
var a = this;
console.log("getChips ", e, "productToken ", o, "orderId ", t, "productIDs ", i, "packageName ", n);
var r = {};
r.uid = c.default.UserData.userId;
r.payType = e;
r.apple_receipt = o;
r.orderID = t;
r.productIDs = i;
r.packageName = n;
l.default.getInstance().httpPostWithFullUrl(u.default.GPPayURL + "callback/gppaynotify", r, function(e) {
console.log("payment :error code", e.error_code);
if (0 == e.error_code) {
console.log("payment success", e.data);
for (var t = e.data, o = 0; o < t.length; o++) {
var i = t[o];
if (1 == i.status) {
console.log("payment :status error", i.status);
console.log("payment :success get productId = ", i.productId);
console.log("payment :orderId = ", i.orderId);
a.consumePurchase(i.productId);
c.default.UserData.firstStrike = 0;
s.MyEvent.getInstance().emit("APPPAY_CALLBACK_EVENT");
} else 0 == i.status || console.log("payment :status error", i.status);
}
} else r.error_code;
});
};
t.prototype.onPaymentFailed = function(e, t) {
h.default.record(h.EventID.paymentFailed, "paymentFailedErrCode", t);
console.log("payment failed, error code = ", t);
s.MyEvent.getInstance().emit("APPPAY_CALLBACK_EVENT");
};
t.prototype.removeStorageData = function(e) {
var t = JSON.parse(d.default.readData(c.default.storageData.appPay));
t[e] && delete t[e];
d.default.saceJsonData(c.default.storageData.appPay, t);
};
t.prototype.getProductInfoCallBack = function(e, t, o) {
c.default.hallData.productInfo[o] = e;
c.default.hallData.productCountry = t;
};
t.prototype.initProductPriceInfo = function(e, t, o) {
console.log("this.payType = ", this.payType);
console.log(e, t, o);
if (this.payType == r.apple) ; else if (this.payType == r.google) {
this.priceInfos[e] = t + o;
console.log("this.payType = ", this.priceInfos[e]);
}
};
Object.defineProperty(t.prototype, "priceInfo", {
get: function() {
return this.priceInfos;
},
enumerable: !1,
configurable: !0
});
var o;
t._inst = null;
return o = a([ m ], t);
}(cc.Component));
o.default = g;
cc.PayInterface = g.inst;
cc._RF.pop();
}, {
"../Conf/GuardConfig": "GuardConfig",
"../FireData/CommonData": "CommonData",
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../GameFireData/GameAllData": "GameAllData",
"../GameHttpTools/HttpTools": "HttpTools",
"../PublicTools/GameEvents": "GameEvents",
"./GameRecorder": "GameRecorder"
} ],
BJLCardRecorder: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "861ed0YpT5GAbRGjPEwDoOR", "BJLCardRecorder");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Conf/Const"), s = e("../Data/GameData"), c = e("../Data/LanguageData"), l = e("../Http/MyHttp"), d = e("../UIFrame/SoundMgr"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.root = null;
t.cardList = {};
return t;
}
t.prototype.onLoad = function() {
this.node.on("click", this.onClose, this);
this.root = this.node.getChildByName("bg");
this.node.active = !1;
this.root.getChildByName("btnClose").on("click", this.onClose, this);
this.root.getChildByName("labelTitle").getComponent(cc.Label).string = c.default.ins.STRING_ROOM("cardRecorderTitle");
this.cardList.A = [ this.root.getChildByName("cardA1").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardA2").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardA3").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardA4").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("totalA").getComponent(cc.Label) ];
this.cardList[2] = [ this.root.getChildByName("card21").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card22").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card23").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card24").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("total2").getComponent(cc.Label) ];
this.cardList[3] = [ this.root.getChildByName("card31").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card32").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card33").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card34").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("total3").getComponent(cc.Label) ];
this.cardList[4] = [ this.root.getChildByName("card41").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card42").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card43").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card44").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("total4").getComponent(cc.Label) ];
this.cardList[5] = [ this.root.getChildByName("card51").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card52").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card53").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card54").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("total5").getComponent(cc.Label) ];
this.cardList[6] = [ this.root.getChildByName("card61").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card62").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card63").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card64").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("total6").getComponent(cc.Label) ];
this.cardList[7] = [ this.root.getChildByName("card71").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card72").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card73").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card74").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("total7").getComponent(cc.Label) ];
this.cardList[8] = [ this.root.getChildByName("card81").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card82").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card83").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card84").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("total8").getComponent(cc.Label) ];
this.cardList[9] = [ this.root.getChildByName("card91").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card92").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card93").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card94").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("total9").getComponent(cc.Label) ];
this.cardList.T = [ this.root.getChildByName("card101").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card102").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card103").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card104").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("total10").getComponent(cc.Label) ];
this.cardList.J = [ this.root.getChildByName("cardJ1").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardJ2").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardJ3").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardJ4").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("totalJ").getComponent(cc.Label) ];
this.cardList.Q = [ this.root.getChildByName("cardQ1").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardQ2").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardQ3").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardQ4").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("totalQ").getComponent(cc.Label) ];
this.cardList.K = [ this.root.getChildByName("cardK1").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardK2").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardK3").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardK4").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("totalK").getComponent(cc.Label) ];
};
t.prototype.onClose = function() {
d.default.inst.playEffect("closeSound");
this.hide();
};
t.prototype.hide = function() {
var e = this;
cc.tween(this.root).to(.2, {
position: cc.v3(-1500, 0)
}).call(function() {
e.node.active = !1;
}, this).start();
};
t.prototype.show = function() {
this.node.active = !0;
cc.tween(this.root).to(.2, {
position: cc.v3(-533, 0)
}).start();
l.default.getInstance().getOpenedCardInfo(r.gameType.baccarat, s.default.roomData.roomType, s.default.roomData.roomId, s.default.roomData.shuffleID);
};
t.prototype.refresh = function(e) {
this.cardList.A[0].string = e.A.S;
this.cardList.A[1].string = e.A.H;
this.cardList.A[2].string = e.A.C;
this.cardList.A[3].string = e.A.D;
this.cardList.A[4].string = e.A.O + "/" + e.A.T;
this.cardList[2][0].string = e[2].S;
this.cardList[2][1].string = e[2].H;
this.cardList[2][2].string = e[2].C;
this.cardList[2][3].string = e[2].D;
this.cardList[2][4].string = e[2].O + "/" + e[2].T;
this.cardList[3][0].string = e[3].S;
this.cardList[3][1].string = e[3].H;
this.cardList[3][2].string = e[3].C;
this.cardList[3][3].string = e[3].D;
this.cardList[3][4].string = e[3].O + "/" + e[3].T;
this.cardList[4][0].string = e[4].S;
this.cardList[4][1].string = e[4].H;
this.cardList[4][2].string = e[4].C;
this.cardList[4][3].string = e[4].D;
this.cardList[4][4].string = e[4].O + "/" + e[4].T;
this.cardList[5][0].string = e[5].S;
this.cardList[5][1].string = e[5].H;
this.cardList[5][2].string = e[5].C;
this.cardList[5][3].string = e[5].D;
this.cardList[5][4].string = e[5].O + "/" + e[5].T;
this.cardList[6][0].string = e[6].S;
this.cardList[6][1].string = e[6].H;
this.cardList[6][2].string = e[6].C;
this.cardList[6][3].string = e[6].D;
this.cardList[6][4].string = e[6].O + "/" + e[6].T;
this.cardList[7][0].string = e[7].S;
this.cardList[7][1].string = e[7].H;
this.cardList[7][2].string = e[7].C;
this.cardList[7][3].string = e[7].D;
this.cardList[7][4].string = e[7].O + "/" + e[7].T;
this.cardList[8][0].string = e[8].S;
this.cardList[8][1].string = e[8].H;
this.cardList[8][2].string = e[8].C;
this.cardList[8][3].string = e[8].D;
this.cardList[8][4].string = e[8].O + "/" + e[8].T;
this.cardList[9][0].string = e[9].S;
this.cardList[9][1].string = e[9].H;
this.cardList[9][2].string = e[9].C;
this.cardList[9][3].string = e[9].D;
this.cardList[9][4].string = e[9].O + "/" + e[9].T;
this.cardList.T[0].string = e.T.S;
this.cardList.T[1].string = e.T.H;
this.cardList.T[2].string = e.T.C;
this.cardList.T[3].string = e.T.D;
this.cardList.T[4].string = e.T.O + "/" + e.T.T;
this.cardList.J[0].string = e.J.S;
this.cardList.J[1].string = e.J.H;
this.cardList.J[2].string = e.J.C;
this.cardList.J[3].string = e.J.D;
this.cardList.J[4].string = e.J.O + "/" + e.J.T;
this.cardList.Q[0].string = e.Q.S;
this.cardList.Q[1].string = e.Q.H;
this.cardList.Q[2].string = e.Q.C;
this.cardList.Q[3].string = e.Q.D;
this.cardList.Q[4].string = e.Q.O + "/" + e.Q.T;
this.cardList.K[0].string = e.K.S;
this.cardList.K[1].string = e.K.H;
this.cardList.K[2].string = e.K.C;
this.cardList.K[3].string = e.K.D;
this.cardList.K[4].string = e.K.O + "/" + e.K.T;
};
t.prototype.start = function() {};
return a([ u ], t);
}(cc.Component));
o.default = p;
cc._RF.pop();
}, {
"../Conf/Const": "Const",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../Http/MyHttp": "MyHttp",
"../UIFrame/SoundMgr": "SoundMgr"
} ],
BJLCardSHA512: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "127b8QVHaBCdpaV+84O+CUh", "BJLCardSHA512");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.BJLCardSHA512_TAB = void 0;
var r, s = e("../Components/MyEvent"), c = e("../Data/GameData"), l = e("../Data/LanguageData"), d = e("../Interface/PhoneInfo"), h = e("../Manager/CardCreator"), u = e("../UIFrame/List"), p = e("../UIFrame/SoundMgr"), f = e("../Util/GameUtil");
(function(e) {
e[e.cardSha512List = 0] = "cardSha512List";
e[e.cardSha512Details = 1] = "cardSha512Details";
e[e.cardSha512Desc = 2] = "cardSha512Desc";
})(r = o.BJLCardSHA512_TAB || (o.BJLCardSHA512_TAB = {}));
var m = cc._decorator, g = m.ccclass, y = (m.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.root = null;
t.cardSha512Data = [];
t.cardAllSha512Node = null;
t.cardSha512DetailNode = null;
t.cardSha512DescNode = null;
t.cardAllListView = null;
t.cardIndexLabel = null;
t.cardNode = null;
t.cardKey = null;
t.cardSecret = null;
t.cardCheckSecret = null;
t.helpNode = null;
t.helpNodeDesc = null;
t.copy3Btn = null;
t.copy2Btn = null;
t.copy1Btn = null;
t.confirmBtn = null;
t.copy1 = null;
t.copy2 = null;
t.copy3 = null;
return t;
}
t.prototype.onLoad = function() {
this.node.on("click", this.onClose, this);
this.root = this.node.getChildByName("bg");
this.node.active = !1;
this.root.getChildByName("btnClose").on("click", this.onClose, this);
this.root.on("click", this.onClickBG, this);
this.cardAllSha512Node = this.root.getChildByName("cardAllSha512Node");
this.cardSha512DetailNode = this.root.getChildByName("cardSha512Node");
this.cardSha512DescNode = this.root.getChildByName("cardSha512DescNode");
this.cardAllSha512Node.getChildByName("btnHelp").on("click", this.onShowSha512Desc, this);
this.cardSha512DetailNode.getChildByName("btnBack").on("click", this.onBack, this);
this.cardSha512DescNode.getChildByName("btnBack").on("click", this.onBack, this);
var e = this.cardSha512DescNode.getChildByName("scrollView").getChildByName("view").getChildByName("content"), t = e.getChildByName("label"), o = t.getComponent(cc.Label);
o.string = l.default.ins.STRING_ROOM("SHA512Help");
o._forceUpdateRenderData(!0);
e.height = t.height;
this.cardAllListView = this.cardAllSha512Node.getChildByName("scrollView").getComponent(u.default);
var i = this.cardSha512DetailNode.getChildByName("cardSha512Info");
this.cardIndexLabel = i.getChildByName("cardID").getComponent(cc.Label);
this.cardNode = i.getChildByName("cardNode");
this.cardKey = i.getChildByName("cardSecret").getComponent(cc.Label);
i.getChildByName("btnHelp").on("click", this.onHelp1, this);
i.getChildByName("btnAllSha512").on("click", this.showAllSha512, this);
i.getChildByName("btnHelp1").on("click", this.onHelp2, this);
i.getChildByName("btnCopy").on("click", this.onCopy1, this);
this.copy1Btn = i.getChildByName("btnCopy").getComponent(cc.Button);
var n = this.cardSha512DetailNode.getChildByName("cardSha512Key");
this.cardSecret = n.getChildByName("cardKey").getComponent(cc.Label);
n.getChildByName("btnCopy").on("click", this.onCopy2, this);
n.getChildByName("btnHelp").on("click", this.onHelp3, this);
this.copy2Btn = n.getChildByName("btnCopy").getComponent(cc.Button);
var a = this.cardSha512DetailNode.getChildByName("cardSha512Result");
this.cardCheckSecret = a.getChildByName("cardSecret").getComponent(cc.Label);
a.getChildByName("btnHelp").on("click", this.onHelp4, this);
this.copy3Btn = a.getChildByName("btnCopy").getComponent(cc.Button);
this.copy3Btn.node.on("click", this.onCopy3, this);
this.cardSha512DetailNode.getChildByName("btnConfirm").on("click", this.onCheckKey, this);
this.confirmBtn = this.cardSha512DetailNode.getChildByName("btnConfirm").getComponent(cc.Button);
this.helpNode = this.cardSha512DetailNode.getChildByName("helpNode");
this.helpNodeDesc = this.helpNode.getChildByName("descLabel").getComponent(cc.Label);
this.helpNode.active = !1;
this.root.getChildByName("labelTitle").getComponent(cc.Label).string = l.default.ins.STRING_ROOM("cardSha512Title");
this.copy3Btn.node.getChildByName("image").getChildByName("label").getComponent(cc.Label).string = l.default.ins.STRING_ROOM("copy");
n.getChildByName("btnCopy").getChildByName("image").getChildByName("label").getComponent(cc.Label).string = l.default.ins.STRING_ROOM("copy");
i.getChildByName("btnCopy").getChildByName("image").getChildByName("label").getComponent(cc.Label).string = l.default.ins.STRING_ROOM("copy");
i.getChildByName("btnAllSha512").getChildByName("image").getChildByName("label").getComponent(cc.Label).string = l.default.ins.STRING_ROOM("allSha512List");
this.cardSha512DetailNode.getChildByName("btnConfirm").getChildByName("image").getChildByName("label").getComponent(cc.Label).string = l.default.ins.STRING_ROOM("sha512Confirm");
i.getChildByName("cardSecretTitle").getComponent(cc.Label).string = l.default.ins.STRING_ROOM("sha512des1");
n.getChildByName("cardKeyTitle").getComponent(cc.Label).string = l.default.ins.STRING_ROOM("sha512des2");
a.getChildByName("cardSecretTitle").getComponent(cc.Label).string = l.default.ins.STRING_ROOM("sha512des3");
this.copy3 = this.copy3Btn.node.getChildByName("image").getChildByName("label").getComponent(cc.Label);
this.copy2 = n.getChildByName("btnCopy").getChildByName("image").getChildByName("label").getComponent(cc.Label);
this.copy1 = i.getChildByName("btnCopy").getChildByName("image").getChildByName("label").getComponent(cc.Label);
};
t.prototype.onClose = function() {
p.default.inst.playEffect("closeSound");
this.hide();
};
t.prototype.hide = function() {
var e = this;
cc.tween(this.root).to(.2, {
position: cc.v3(-1500, 0)
}).call(function() {
e.node.active = !1;
}, this).start();
};
t.prototype.onClickBG = function() {
this.helpNode.active = !1;
};
t.prototype.onHelp1 = function() {
var e = this;
p.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this.helpNodeDesc.string = l.default.ins.STRING_ROOM("SHA512Help1");
this.helpNodeDesc._forceUpdateRenderData(!0);
this.helpNode.height = this.helpNodeDesc.node.height + 35;
this.helpNode.active = !0;
this.helpNode.x = -278;
this.helpNode.y = 400;
this.scheduleOnce(function() {
e.helpNode.active = !1;
}, 3);
};
t.prototype.onHelp2 = function() {
var e = this;
p.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this.helpNodeDesc.string = l.default.ins.STRING_ROOM("SHA512Help2");
this.helpNodeDesc._forceUpdateRenderData(!0);
this.helpNode.height = this.helpNodeDesc.node.height + 35;
this.helpNode.active = !0;
this.helpNode.x = -278;
this.helpNode.y = 240;
this.scheduleOnce(function() {
e.helpNode.active = !1;
}, 3);
};
t.prototype.onHelp3 = function() {
var e = this;
p.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this.helpNodeDesc.string = l.default.ins.STRING_ROOM("SHA512Help3");
this.helpNodeDesc._forceUpdateRenderData(!0);
this.helpNode.height = this.helpNodeDesc.node.height + 35;
this.helpNode.active = !0;
this.helpNode.x = -278;
this.helpNode.y = -5;
this.scheduleOnce(function() {
e.helpNode.active = !1;
}, 3);
};
t.prototype.onHelp4 = function() {
var e = this;
p.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this.helpNodeDesc.string = l.default.ins.STRING_ROOM("SHA512Help4");
this.helpNodeDesc._forceUpdateRenderData(!0);
this.helpNode.height = this.helpNodeDesc.node.height + 35;
this.helpNode.active = !0;
this.helpNode.x = -278;
this.helpNode.y = -252;
this.scheduleOnce(function() {
e.helpNode.active = !1;
}, 3);
};
t.prototype.onCopy1 = function() {
p.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
var e = this.cardKey.string;
d.default.inst.copyStr(e);
this.copy1.string = l.default.ins.STRING_ROOM("copyed");
this.copy1Btn.interactable = !1;
f.default.alert(l.default.ins.STRING_COMMON("copySuccess"), cc.color(253, 174, 45), new cc.Vec2(-810, 177), !0);
};
t.prototype.onCopy2 = function() {
p.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
var e = this.cardSecret.string;
d.default.inst.copyStr(e);
this.copy2.string = l.default.ins.STRING_ROOM("copyed");
this.copy2Btn.interactable = !1;
f.default.alert(l.default.ins.STRING_COMMON("copySuccess"), cc.color(253, 174, 45), new cc.Vec2(-810, -68), !0);
};
t.prototype.onCopy3 = function() {
p.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
var e = this.cardCheckSecret.string;
d.default.inst.copyStr(e);
this.copy3.string = l.default.ins.STRING_ROOM("copyed");
this.copy3Btn.interactable = !1;
f.default.alert(l.default.ins.STRING_COMMON("copySuccess"), cc.color(253, 174, 45), new cc.Vec2(-810, -312), !0);
};
t.prototype.onCheckKey = function() {
p.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this.cardCheckSecret.string = this.cardSecret.string;
this.copy3Btn.interactable = !0;
this.confirmBtn.interactable = !1;
};
t.prototype.showAllSha512 = function() {
this.cardAllSha512Node.active = !0;
this.cardSha512DescNode.active = !1;
this.cardSha512DetailNode.active = !1;
};
t.prototype.onBack = function() {
p.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this.cardAllSha512Node.active = !0;
this.cardSha512DescNode.active = !1;
this.cardSha512DetailNode.active = !1;
};
t.prototype.onShowSha512Desc = function() {
p.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this.cardAllSha512Node.active = !1;
this.cardSha512DescNode.active = !0;
this.cardSha512DetailNode.active = !1;
};
t.prototype.initCardsData = function(e) {
this.cardSha512Data = [];
for (var t = e[416].index, o = 0; o < e.length - 2; o++) o < t ? this.cardSha512Data.push(e[o]) : o == t ? this.cardSha512Data.push(e[416]) : this.cardSha512Data.push(e[o - 1]);
};
t.prototype.updateCardsData = function(e) {
for (var t = 0; t < this.cardSha512Data.length; t++) if (this.cardSha512Data[t].cardId == e.cardId) {
this.cardSha512Data[t].open = 1;
this.cardSha512Data[t].card = e.card;
this.cardSha512Data[t].cCode = e.cCode;
this.cardSha512Data[t].text = e.text;
break;
}
};
t.prototype.onCreateItem = function(e, t) {
e.removeAllChildren();
if (0 == t) {
var o = new cc.Node();
o.addComponent(cc.Label);
o.color = new cc.Color(149, 186, 244);
var i = o.getComponent(cc.Label);
i.overflow = cc.Label.Overflow.RESIZE_HEIGHT;
i.fontSize = 30;
o.width = 508;
i.string = l.default.ins.STRING_ROOM("BJSha512Desc");
i._forceUpdateRenderData(!0);
o.parent = e;
e.height = o.height;
} else {
for (var n = 5 * (t - 1), a = 0; a < 5; a++) {
var r = this.cardSha512Data[n + a];
if (null != r) {
var s = h.default.inst.getTinyCardWithStr(r.card, r.cardId, !1, !0, c.default.roomData.cardColor);
s.addComponent(cc.Button);
s.off("click");
s.x = 105 * a - 205;
s.parent = e;
s.scaleX = 98 / s.width;
s.scaleY = 132 / s.height;
r.cardId <= 416 && s.on("click", this.onClickCard, this);
var d = new cc.Node();
d.addComponent(cc.Label);
d.getComponent(cc.Label).fontSize = 30;
d.getComponent(cc.Label).string = f.default.formatNumberToStr(r.cardId, 3);
d.color = new cc.Color(202, 223, 255);
d.parent = e;
d.x = 105 * a - 205;
d.y = -92;
}
}
e.height = 177;
}
};
t.prototype.onClickCard = function(e) {
var t = e.node.getChildByName("cardIndex");
if (null != t) {
var o = f.default.formatStrToNumber(t.getComponent(cc.Label).string), i = this.getCardInfo(o);
if (null != i) {
var n = {};
n.tab = r.cardSha512Details;
n.cardInfo = i;
this.show(n);
}
}
};
t.prototype.getCardInfo = function(e) {
for (var t = this.cardSha512Data.length, o = 0; o < t; o++) {
var i = this.cardSha512Data[o];
if (i.cardId == e) return i;
}
return null;
};
t.prototype.show = function(e) {
if (e.tab == r.cardSha512Details) {
this.cardAllSha512Node.active = !1;
this.cardSha512DescNode.active = !1;
this.cardSha512DetailNode.active = !0;
this.initCardDetails(e.cardInfo);
} else {
this.cardAllSha512Node.active = !0;
this.cardSha512DescNode.active = !1;
this.cardSha512DetailNode.active = !1;
}
this.node.active = !0;
cc.tween(this.root).to(.2, {
position: cc.v3(-533, 0)
}).start();
var t = Math.floor((this.cardSha512Data.length - 1) / 5) + 2;
this.cardAllListView.numItems = t;
var o = c.default.roomData.remainCardCount, i = t - Math.floor((o - 2) / 5) - 3;
i < 0 && (i = 0);
this.cardAllListView.scrollTo(i, 0);
};
t.prototype.showCardDetails = function(e) {
var t = this.getCardInfo(e);
if (null != t) {
var o = {};
o.tab = r.cardSha512Details;
o.cardInfo = t;
this.show(o);
}
};
t.prototype.initCardDetails = function(e) {
var t = e.cardId, o = e.card, i = e.open, n = e.cCode, a = e.text;
this.copy1Btn.interactable = !0;
this.copy2Btn.interactable = !0;
this.copy3Btn.interactable = !1;
this.cardIndexLabel.string = l.default.ins.STRING_ROOM("Number") + f.default.formatNumberToStr(t, 3);
this.cardSecret.string = a;
this.cardKey.string = n;
if (1 == i) {
this.cardCheckSecret.string = "";
this.copy1Btn.interactable = !0;
this.confirmBtn.interactable = !0;
} else {
this.cardCheckSecret.string = l.default.ins.STRING_ROOM("sha512CheckDesc");
this.copy1Btn.interactable = !1;
this.confirmBtn.interactable = !1;
}
this.cardNode.removeAllChildren();
var r = h.default.inst.getTinyCardWithStr(o, t, !1, !1, c.default.roomData.cardColor);
r.parent = this.cardNode;
r.scaleX = .7;
r.scaleY = .7;
this.copy1.string = l.default.ins.STRING_ROOM("copy");
this.copy2.string = l.default.ins.STRING_ROOM("copy");
this.copy3.string = l.default.ins.STRING_ROOM("copy");
};
t.prototype.start = function() {};
return a([ g ], t);
}(cc.Component));
o.default = y;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../Interface/PhoneInfo": "PhoneInfo",
"../Manager/CardCreator": "CardCreator",
"../UIFrame/List": "List",
"../UIFrame/SoundMgr": "SoundMgr",
"../Util/GameUtil": "GameUtil"
} ],
BaccaratRoomList: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "6fe18+HhoZEPrQb6cgrjQD4", "BaccaratRoomList");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../Conf/Const"), n = e("../Util/CalculationLine"), a = e("../Util/GameUtil"), r = function() {
function e() {
this._zplLength = 8;
this._dlLength = 26;
this._dyzlLength = 26;
this._xlLength = 26;
this._yylLength = 26;
this._miniDlLength = 42;
this._freeRoomList = [];
this._chargeRoomList = [];
this._toturialRoadInfo = [];
this._roomRoadInfo = [];
this._currRequestRoomType = 0;
this._selfVipRoomList = [];
this._otherVipRoomList = [];
}
e.prototype.resetRoomList = function() {
this._freeRoomList = [];
this._chargeRoomList = [];
};
Object.defineProperty(e.prototype, "currRequestRoomType", {
get: function() {
return this._currRequestRoomType;
},
set: function(e) {
this._currRequestRoomType = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "roomList", {
set: function(e) {
var t = this;
e.roomList.forEach(function(e) {
if (e.goldType == i.goldType.free) {
t._freeRoomList[e.roomId] = e;
var o = t._generateWaybill(e.gameRecord);
t._freeRoomList[e.roomId].waybillData = o;
} else if (e.goldType == i.goldType.charge) {
t._chargeRoomList[e.roomId] = e;
o = t._generateWaybill(e.gameRecord);
t._chargeRoomList[e.roomId].waybillData = o;
}
});
this._currRequestRoomType = e.type;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "roomRoadInfo", {
get: function() {
return this._roomRoadInfo;
},
set: function(e) {
var t = this;
this._roomRoadInfo.type = e.type;
this._roomRoadInfo.roomNum = e.roomNum;
var o = [];
e.roadInfo.forEach(function(e) {
var i = [];
i.roomId = e.roomId;
i.gameRecord = e.gameRecord;
var n = t._generateWaybill(e.gameRecord);
i.waybillData = n;
o[e.roomId] = i;
});
this._roomRoadInfo.info = o;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "toturialRoadInfo", {
get: function() {
this._toturialRoadInfo = [];
this._toturialRoadInfo.push({
postion: 32768,
point: 7
});
this._toturialRoadInfo.push({
postion: 16384,
point: 5
});
this._toturialRoadInfo.push({
postion: 4096,
point: 4
});
this._toturialRoadInfo.push({
postion: 32768,
point: 6
});
this._toturialRoadInfo.push({
postion: 32768,
point: 6
});
this._toturialRoadInfo.push({
postion: 17920,
point: 6
});
this._toturialRoadInfo.push({
postion: 33024,
point: 9
});
this._toturialRoadInfo.push({
postion: 32768,
point: 6
});
this._toturialRoadInfo.push({
postion: 16640,
point: 8
});
this._toturialRoadInfo.push({
postion: 33024,
point: 9
});
this._toturialRoadInfo.push({
postion: 33792,
point: 4
});
this._toturialRoadInfo.push({
postion: 33024,
point: 9
});
this._toturialRoadInfo.push({
postion: 17664,
point: 8
});
this._toturialRoadInfo.push({
postion: 33024,
point: 9
});
this._toturialRoadInfo.push({
postion: 16512,
point: 6
});
this._toturialRoadInfo.push({
postion: 16640,
point: 9
});
this._toturialRoadInfo.push({
postion: 16640,
point: 8
});
this._toturialRoadInfo.push({
postion: 32768,
point: 7
});
this._toturialRoadInfo.push({
postion: 32768,
point: 5
});
this._toturialRoadInfo.push({
postion: 16640,
point: 8
});
this._toturialRoadInfo.push({
postion: 33024,
point: 8
});
this._toturialRoadInfo.push({
postion: 16384,
point: 9
});
this._toturialRoadInfo.push({
postion: 24832,
point: 8
});
this._toturialRoadInfo.push({
postion: 16384,
point: 7
});
this._toturialRoadInfo.push({
postion: 16384,
point: 5
});
this._toturialRoadInfo.push({
postion: 16384,
point: 5
});
this._toturialRoadInfo.push({
postion: 16384,
point: 5
});
this._toturialRoadInfo.push({
postion: 33024,
point: 9
});
this._toturialRoadInfo.push({
postion: 17664,
point: 8
});
this._toturialRoadInfo.push({
postion: 16384,
point: 5
});
this._toturialRoadInfo.push({
postion: 33792,
point: 4
});
this._toturialRoadInfo.push({
postion: 33024,
point: 9
});
this._toturialRoadInfo.push({
postion: 17664,
point: 8
});
this._toturialRoadInfo.push({
postion: 33024,
point: 9
});
this._toturialRoadInfo.push({
postion: 16512,
point: 6
});
this._toturialRoadInfo.push({
postion: 16384,
point: 5
});
this._toturialRoadInfo.push({
postion: 16384,
point: 5
});
this._toturialRoadInfo.push({
postion: 16384,
point: 5
});
this._toturialRoadInfo.push({
postion: 16384,
point: 5
});
this._toturialRoadInfo.push({
postion: 16384,
point: 5
});
return this._toturialRoadInfo;
},
set: function(e) {
this._toturialRoadInfo = e;
},
enumerable: !1,
configurable: !0
});
e.prototype.getRoomList = function(e) {
var t = [];
e == i.goldType.free ? this._freeRoomList.forEach(function(o) {
o.roomType = e;
t[o.zorder] = o;
}) : e != i.goldType.charge && e != i.goldType.tiger || this._chargeRoomList.forEach(function(o) {
o.roomType = e;
t[o.zorder] = o;
});
return t;
};
e.prototype.getOriginalRoomList = function(e) {
return e == i.goldType.free ? this._freeRoomList : e == i.goldType.charge ? this._chargeRoomList : void 0;
};
e.prototype.updateRoomList = function(e, t) {
var o = null;
e == i.goldType.free ? o = this._freeRoomList : e != i.goldType.charge && e != i.goldType.tiger || (o = this._chargeRoomList);
o.forEach(function(e) {
if (a.default.isnull(t[e.roomId])) {
e.gameRecord = t[e.roomId].gameRecord;
e.waybillData = t[e.roomId].waybillData;
}
});
};
e.prototype._generateWaybill = function(e) {
for (var t = [], o = {
banker: 0,
player: 0,
draw: 0
}, i = 0; i < e.length; i++) {
var r = e[i];
t[i] = a.default.getWinData(r.postion.toString(2), r.point);
1 == t[i].result ? o.player += 1 : 2 == t[i].result ? o.banker += 1 : 3 == t[i].result && (o.draw += 1);
}
var s = n.default.getInstance().getZplWayBill(t, 1);
s = this._selfAdaptionWaybill(s, this._zplLength);
var c = n.default.getInstance().setRoomListWaybillData(t);
c[5] = this._selfAdaptionWaybill(c[0], this._miniDlLength);
c[0] = this._selfAdaptionWaybill(c[0], this._dlLength);
c[2] = this._selfAdaptionWaybill(c[2], this._dyzlLength);
c[3] = this._selfAdaptionWaybill(c[3], this._xlLength);
c[4] = this._selfAdaptionWaybill(c[4], this._yylLength);
return {
zplList: s,
waybillArr: c,
outcomeType: o
};
};
e.prototype._selfAdaptionWaybill = function(e, t) {
e.length > t && e.splice(0, e.length - t);
return e;
};
Object.defineProperty(e.prototype, "freeRoomList", {
get: function() {
return this._freeRoomList;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "chargeRoomList", {
get: function() {
return this._chargeRoomList;
},
enumerable: !1,
configurable: !0
});
e.prototype.updateRoomInfo = function(e) {
if ("hallScene" == cc.director.getScene().name || "ipadhallScene" == cc.director.getScene().name) {
var t;
e.goldType == i.goldType.free ? t = this._getAvailableData(e, this._freeRoomList) : e.goldType == i.goldType.charge && (t = this._getAvailableData(e, this._chargeRoomList));
if (t) for (var o = 0; o < e.list.length; o++) e.list[o];
}
};
e.prototype.pushSelfVipRoomList = function(e) {
var t = this;
e.forEach(function(e) {
var o = t._generateWaybill(e.gameRecord);
e.waybillData = o;
t._selfVipRoomList.push(e);
});
};
Object.defineProperty(e.prototype, "selfVipRoomList", {
get: function() {
return this._selfVipRoomList;
},
enumerable: !1,
configurable: !0
});
e.prototype.pushOtherVipRoomList = function(e) {
var t = this;
e.forEach(function(e) {
var o = t._generateWaybill(e.gameRecord);
e.waybillData = o;
t._otherVipRoomList.push(e);
});
};
Object.defineProperty(e.prototype, "otherVipRoomList", {
get: function() {
return this._otherVipRoomList;
},
enumerable: !1,
configurable: !0
});
e.prototype.clearVipRoomList = function(e) {
e == i.vipRLFlag.self ? this._selfVipRoomList = [] : this._otherVipRoomList = [];
};
e.prototype._getAvailableData = function(e, t) {
return t[e.roomId];
};
e.getInstance = function() {
this.instance || (this.instance = new e());
return this.instance;
};
return e;
}();
o.default = r;
cc._RF.pop();
}, {
"../Conf/Const": "Const",
"../Util/CalculationLine": "CalculationLine",
"../Util/GameUtil": "GameUtil"
} ],
BaccaratSeatManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "46b83e4kkRLn4Qb2ohNApFr", "BaccaratSeatManager");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Conf/BaccatRoomConf"), s = e("../Room/Seat"), c = e("../Base/BaseView"), l = e("../Data/GameData"), d = e("../Util/GameUtil"), h = e("../UIFrame/SoundMgr"), u = e("../Conf/Const"), p = e("../Data/LanguageData"), f = e("./EmoticonPlayer"), m = cc._decorator, g = m.ccclass, y = m.property, _ = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.seatPrefab = null;
t._playerDealUserid = 0;
t._bankerDealUserid = 0;
t._ejimoList = [ [], [], [], [], [], [], [] ];
return t;
}
t.prototype.onLoad = function() {
var e = this;
this._seatList = [];
this._seatScriptList = [];
this._playerDeal = this.node.getChildByName("publicPlayer");
this._bankerDeal = this.node.getChildByName("publicBanker");
this._playerDealUserid = 0;
this._bankerDealUserid = 0;
this._playerDeal.opacity = 0;
this._bankerDeal.opacity = 0;
this._levelUpAni = this.node.getChildByName("level_up");
this._initSeat();
this.scheduleOnce(function() {
e._showSystemChat();
}, 1);
};
t.prototype._showSystemChat = function() {};
t.prototype._initSeat = function() {
for (var e = 0; e < 7; e++) {
var t = cc.instantiate(this.seatPrefab);
t.parent = this.node;
var o = r.default.getInstance().SeatPos[e];
t.setPosition(o.x, o.y);
var i = t.getComponent(s.default);
i.seatId = e + 1;
i.actualSeatId = e + 1;
if (6 == e) {
this._seatList.unshift(t);
this._seatScriptList.unshift(i);
} else {
this._seatList.push(t);
this._seatScriptList.push(i);
}
}
};
t.prototype.showChatMsg = function(e) {
var t = e.userId, o = e.msg, i = this.toUserIdGetSeat(t);
i && i.showChatMsg(o);
};
t.prototype.showSystemMsg = function(e, t) {
var o = this.toUserIdGetSeat(e);
o && o.showSystemMsg(t);
};
t.prototype.clearMsgBox = function() {
for (var e = 0; e < this._seatScriptList.length; e++) {
var t = this._seatScriptList[e];
0 != t.userId && t.clearMsgBox();
}
};
t.prototype.sitDown = function(e, t) {
var o = this.toActualSeatIdGetSeat(e.seatId);
o.sitDown(e, !1, t);
if (e.userId == l.default.UserData.userId && l.default.roomData.roomReconnectIng) {
this.changSeatToThreeSeat();
o.node.scale = 1.2;
o.node.y = r.default.getInstance().SeatPos[2].y - 15;
} else e.userId != l.default.UserData.userId || o.isInitiativeSitDown || this.reserveThreeSeat(e);
e.userId == l.default.UserData.userId && this._seatScriptList.forEach(function(e) {
e.changeState();
});
};
t.prototype.standUp = function(e) {
this.toActualSeatIdGetSeat(e.seatId).standUp(e);
var t = e.userId;
this._playerDealUserid == t ? this.moveOpenCardMark(0, this._bankerDealUserid) : this._bankerDealUserid == t && this.moveOpenCardMark(this._playerDealUserid, 0);
e.userId == l.default.UserData.userId && this._seatScriptList.forEach(function(e) {
e.changeState();
});
};
t.prototype.updateSeatStatus = function() {
this._seatScriptList.forEach(function(e) {
e.changeState();
});
};
t.prototype.hideAllSeat = function() {
for (var e = 0; e < this._seatList.length; e++) this._seatList[e].opacity = 0;
};
t.prototype.showAllSeat = function() {
for (var e = 0; e < this._seatList.length; e++) {
var t = this._seatList[e];
t.opacity = 255;
t.active = !0;
}
};
t.prototype.toSeatIdGetSeat = function(e) {
for (var t = 0; t < this._seatList.length; t++) {
var o = this._seatList[t];
if (o.seatId == e) return o;
}
return null;
};
t.prototype.toActualSeatIdGetSeat = function(e) {
for (var t = 0; t < this._seatScriptList.length; t++) {
var o = this._seatScriptList[t];
if (o.actualSeatId == e) return o;
}
return null;
};
t.prototype.toUserIdGetSeat = function(e) {
for (var t = 0; t < this._seatScriptList.length; t++) {
var o = this._seatScriptList[t];
if (o.userId == e) return o;
}
return null;
};
t.prototype.getAllSeatUid = function() {
for (var e = [], t = 0; t < this._seatScriptList.length; t++) {
var o = this._seatScriptList[t];
0 != o.userId && e.push(o.userId);
}
return e;
};
t.prototype.gatherAnimation = function() {
for (var e = 0; e < this._seatList.length; e++) {
var t = this._seatList[e];
if (!d.default.isnull(t)) return;
cc.tween(t).to(.5, {
opacity: 0,
scale: 1.2
}, {
easing: "quadOut"
}).start();
"shuffle_cartoon" == l.default.roomData.gameState || "shuffle" == l.default.roomData.gameState ? t.getComponent(s.default).setSelfNameAndMoney(!0) : t.getComponent(s.default).setSelfNameAndMoney();
}
};
t.prototype.separateAnimation = function(e) {
var t = .5;
e && (t = e);
for (var o = 0; o < this._seatList.length; o++) {
var i = this._seatList[o], n = 1, a = i.getPosition().y;
if (3 == i.getComponent(s.default).seatId) if (i.getComponent(s.default).userId == l.default.UserData.userId) {
n = 1.2;
a = r.default.getInstance().SeatPos[2].y - 15;
} else a = r.default.getInstance().SeatPos[2].y;
cc.tween(i).to(0, {
y: a
}).to(t, {
opacity: 255,
scale: n
}, {
easing: "quartIn"
}).start();
}
};
t.prototype.reserveThreeSeat = function(e) {
if (3 != e.seatId) {
for (var t, o, i, n, a = 0; a < 7; a++) {
var r = this._seatScriptList[a];
if (r.seatId == e.seatId) {
t = r;
i = a;
}
if (3 == r.seatId) {
o = r;
n = a;
}
}
var s = this._seatScriptList[i];
this._seatScriptList[i] = this._seatScriptList[n];
this._seatScriptList[n] = s;
var c = {
positon: t.node.getPosition(),
seatId: t.seatId
};
t.node.setPosition(o.node.getPosition());
t.seatId = o.seatId;
o.node.setPosition(c.positon);
o.seatId = c.seatId;
}
};
t.prototype.changSeatToThreeSeat = function() {
var e = r.default.getInstance().SeatPos, t = this.toUserIdGetSeat(l.default.UserData.userId);
if (t && 3 != t.seatId) {
var o, i = [], n = 0;
this._seatScriptList.forEach(function(e, o) {
i[o] = e.seatId;
e.seatId == t.seatId && (n = o);
});
i.forEach(function(e, t) {
3 == e && (o = i.splice(t, 1));
});
i.splice(n, 0, o[0]);
this._seatScriptList.forEach(function(t, o) {
t.seatId = i[o];
if (t.userId != l.default.UserData.userId) if (l.default.roomData.roomReconnectIng) {
t.node.x = e[t.seatId - 1].x;
t.node.y = e[t.seatId - 1].y;
} else cc.tween(t.node).to(.2, {
position: cc.v3(e[t.seatId - 1].x, e[t.seatId - 1].y)
}).start();
});
if (l.default.roomData.roomReconnectIng) {
t.node.x = e[2].x;
t.node.y = e[2].y;
t.seatId = 3;
} else cc.tween(t.node).to(.3, {
position: cc.v3(e[2].x, e[2].y + 400)
}).to(.2, {
position: cc.v3(e[2].x, e[2].y)
}).call(function() {
t.seatId = 3;
}, this).start();
}
};
t.prototype.moveOpenCardMark = function(e, t, o) {
var i = .3;
o && (i = 0);
var n = r.default.getInstance().mipaiPlayerMarkPos;
if (this._playerDealUserid != e) {
if (e > 0) {
var a = this.toUserIdGetSeat(e);
if (null == a) return;
var c = a.getComponent(s.default).seatId, d = r.default.getInstance().SeatPos[c - 1], h = 1.38, u = 102 / 64, p = .9, f = 0;
e == l.default.UserData.userId && a.node.scale > 1 && (f = -15);
e == l.default.UserData.userId && (p = 1);
cc.tween(this._playerDeal).to(i, {
x: d.x,
y: d.y + f,
scaleX: h * p,
scaleY: u * p
}).start();
a.node.opacity < 255 && (this._playerDeal.opacity = 0);
} else cc.tween(this._playerDeal).to(i, {
x: n[0].x + r.default.getInstance().table_offset.x,
y: n[0].y,
scale: 1
}).start();
this._playerDealUserid = e;
}
if (this._bankerDealUserid != t) {
if (t > 0) {
var m = this.toUserIdGetSeat(t);
if (null == m) return;
var g = m.getComponent(s.default).seatId, y = r.default.getInstance().SeatPos[g - 1];
h = 1.38, u = 102 / 64, p = .9, f = 0;
console.log("", t, l.default.UserData.userId);
t == l.default.UserData.userId && m.node.scale > 1 && (f = -15);
t == l.default.UserData.userId && (p = 1);
cc.tween(this._bankerDeal).to(i, {
x: y.x,
y: y.y + f,
scaleX: h * p,
scaleY: u * p
}).start();
m.node.opacity < 255 && (this._bankerDeal.opacity = 0);
} else cc.tween(this._bankerDeal).to(i, {
x: n[1].x + r.default.getInstance().table_offset.x,
y: n[1].y,
scale: 1
}).start();
this._bankerDealUserid = t;
}
};
t.prototype.openFlop = function(e) {
var t = this;
if ("th" == p.default.ins.getCountryLanguage()) {
this._img1 = "room/english/banker1SmallEn";
this._img2 = "room/english/banker2SmallEn";
} else {
this._img1 = "room/english/player1SmallEn";
this._img2 = "room/english/player2SmallEn";
}
var o = this._playerDeal.getPosition();
if (2 == e) {
if ("th" == p.default.ins.getCountryLanguage()) {
this._img1 = "room/english/banker1SmallEn";
this._img2 = "room/english/banker2SmallEn";
} else {
this._img1 = "room/english/banker1SmallEn";
this._img2 = "room/english/banker2SmallEn";
}
o = this._bankerDeal.getPosition();
}
if (!this._flopCard) {
this._flopCard = new cc.Node();
this._flopCard.addComponent(cc.Sprite);
d.default.loadSpriteFrame(this._flopCard, this._img1);
this._flopCard.parent = this.node;
this._shadow = new cc.Node();
this._shadow.addComponent(cc.Sprite);
d.default.loadSpriteFrame(this._shadow, this._img1);
this._shadow.parent = this.node;
this._shadow.color = new cc.Color(0, 0, 0, 255);
this._shadow.opacity = 25.5;
this._spark = this.node.getChildByName("spark");
}
this._flopCard.setPosition(o);
this._shadow.setPosition(o);
this._spark.setPosition(o);
d.default.loadSpriteFrame(this._flopCard, this._img1);
d.default.loadSpriteFrame(this._shadow, this._img1);
this._flopCard.scaleX = 1;
this._flopCard.scaleY = 1;
this._flopCard.zIndex = 20;
this._shadow.scaleX = 1;
this._shadow.scaleY = 1;
this._shadow.zIndex = 19;
this._flopCard.active = !0;
this._shadow.active = !0;
this._spark.active = !1;
cc.tween(this._shadow).to(.15, {
scaleX: 166 / 138,
scaleY: 122 / 102,
y: o.y - 38
}, {
easing: "quadOut"
}).to(4 / 60, {
scaleX: 166 / 138,
scaleY: 10 / 102,
y: o.y - 38
}).to(5 / 60, {
scaleX: 166 / 138,
scaleY: 122 / 102,
y: o.y - 38
}).to(7 / 60, {
scaleX: 1,
scaleY: 1,
y: o.y - 2
}).call(function() {
t._shadow.opacity = 0;
}, this).start();
cc.tween(this._flopCard).to(.15, {
scaleX: 152 / 138,
scaleY: 112 / 102,
y: o.y + 50
}, {
easing: "quadOut"
}).to(4 / 60, {
scaleX: 152 / 138,
scaleY: 78 / 102,
y: o.y + 62
}).call(function() {
d.default.loadSpriteFrame(t._flopCard, t._img2);
t._flopCard.y = o.y + 65;
t._flopCard.scaleX = 52 / 138;
t._flopCard.scaleY = 61 / 102;
cc.tween(t._flopCard).to(4 / 60, {
scaleX: 152 / 138,
scaleY: 112 / 102,
y: o.y + 50
}, {
easing: "circOut"
}).to(7 / 60, {
scaleX: 131 / 138,
scaleY: 97 / 102,
y: o.y
}, {
easing: "circOut"
}).to(2 / 60, {
scaleX: 142 / 138,
scaleY: 105 / 102
}).to(2 / 60, {
scaleX: 1,
scaleY: 1
}).call(function() {
t._spark.active = !0;
t._spark.zIndex = t._flopCard.zIndex + 1;
t._spark.getComponent("cc.Animation").play("spark");
2 == e ? t._bankerDeal.opacity = 0 : t._playerDeal.opacity = 0;
}, t).start();
}, this).start();
};
t.prototype.hideFlop = function() {
d.default.isnull(this._flopCard) && (this._flopCard.active = !1);
d.default.isnull(this._shadow) && (this._shadow.active = !1);
d.default.isnull(this._spark) && (this._spark.active = !1);
};
t.prototype.clearOpenCardMark = function() {
this._playerDealUserid = 0;
this._bankerDealUserid = 0;
};
t.prototype.OpenCardMark = function(e) {
r.default.getInstance().mipaiPlayerMarkPos;
if (3 != e) {
var t = 0, o = null;
if (1 == e) {
t = this._playerDealUserid;
o = this.toUserIdGetSeat(t);
this._playerDeal.opacity = 0;
} else if (2 == e) {
t = this._bankerDealUserid;
o = this.toUserIdGetSeat(t);
this._bankerDeal.opacity = 0;
}
if (t > 0 && o) {
o.flopSign(e);
o.openFlop();
} else this.openFlop(e);
cc.tween(this.node).delay(13 / 60).call(function() {
h.default.inst.playEffect("flop_bard");
}, this).start();
this.clearOpenCardMark();
} else this.clearOpenCardMark();
};
t.prototype.hideSeatOrSelfFlop = function() {
for (var e = r.default.getInstance().mipaiPlayerMarkPos, t = 0; t < this._seatScriptList.length; t++) {
var o = this._seatScriptList[t];
d.default.isnull(o) && o.hideFlop();
}
this._playerDeal.setPosition(cc.v2(e[0].x + r.default.getInstance().table_offset.x, e[0].y));
this._playerDeal.scale = 1;
this._playerDeal.opacity = 255;
this._bankerDeal.setPosition(cc.v2(e[1].x + r.default.getInstance().table_offset.x, e[1].y));
this._bankerDeal.scale = 1;
this._bankerDeal.opacity = 255;
this.hideFlop();
};
t.prototype.hideDealers = function() {
this._playerDeal.opacity = 0;
this._bankerDeal.opacity = 0;
};
t.prototype.getOpenCardMarkSeat = function(e) {
var t = 0, o = null;
if (1 == e) {
t = this._playerDealUserid;
o = this.toUserIdGetSeat(t);
} else if (2 == e) {
t = this._bankerDealUserid;
o = this.toUserIdGetSeat(t);
}
return !!o;
};
t.prototype.removeCutSeat = function() {
var e = this.node.getChildByName("CUT_SEAT");
if (null != e) {
e.removeFromParent(!0);
e = null;
}
};
t.prototype.cutCardEnterScene = function(e) {
var t = cc.instantiate(this.seatPrefab);
this._cutSeat = t;
t.parent = this.node;
t.name = "CUT_SEAT";
var o = r.default.getInstance().SeatPos[7];
t.setPosition(o.x, o.y);
e.money = e.gold;
l.default.roomData.goldType == u.goldType.charge && (e.money = e.coin);
t.getComponent(s.default).sitDown(e, !0);
t.getComponent(s.default).showCountDown(e.timeOut / 1e3, 0);
this.hideAllSeat();
};
t.prototype.hideCutSeaat = function() {
d.default.isnull(this._cutSeat) && this._cutSeat.destroy();
};
t.prototype.seatReady = function(e) {
var t = this.toUserIdGetSeat(e);
if (d.default.isnull(t)) {
t.setName(p.default.ins.STRING_ROOM("ready"));
t.hideOpenCardBtn();
}
};
t.prototype.reductionSeatName = function() {
for (var e = 0; e < this._seatScriptList.length; e++) {
var t = this._seatScriptList[e];
t && 0 != t.userId && t.setName();
}
};
t.prototype.setSeatMoney = function(e) {
if (e) for (var t = 0; t < e.length; t++) {
var o = e[t], i = this.toUserIdGetSeat(o.userId);
i && i.setMoney(o.money);
}
};
t.prototype.allSeatShowCountDown = function(e, t) {
for (var o = 0; o < this._seatScriptList.length; o++) {
var i = this._seatScriptList[o];
0 != i.userId && i.showCountDown(e, t, !0);
}
};
t.prototype.allSeatHideCountDown = function() {
for (var e = 0; e < this._seatScriptList.length; e++) this._seatScriptList[e].hideOpenCardBtn();
};
t.prototype.allSeatStandUp = function() {
var e = this;
this._seatScriptList.forEach(function(t) {
var o = {
seatId: t.seatId,
userId: t.userId,
userName: t.userName
};
e.standUp(o);
});
};
t.prototype.showAnimationEjimo = function(e, t) {
if (l.default.roomData.tableState != u.tableAnimationState.bet) {
var o = this.toUserIdGetSeat(e.userId);
if (d.default.isnull(o)) {
var i = this.node.convertToWorldSpaceAR(o.node.getPosition()), n = t.convertToNodeSpaceAR(i), a = new cc.Vec2(n.x - 1, n.y);
e.userId == l.default.UserData.userId ? f.default.play(e.id, t, a, 270) : f.default.play(e.id, t, a, 224);
}
}
};
t.prototype.removeAllEjimo = function(e) {
if (e) {
this._ejimoList[e].forEach(function(e) {
d.default.isnull(e) && e.removeFromParent();
});
this._ejimoList[e] = [];
} else {
this._ejimoList.forEach(function(e) {
e.forEach(function(e) {
d.default.isnull(e) && e.removeFromParent();
});
});
this._ejimoList = [ [], [], [], [], [], [], [] ];
}
};
t.prototype.settlementSetInfo = function(e) {
var t = this;
e.forEach(function(e) {
var o = t.toUserIdGetSeat(e.userId);
d.default.isnull(o) && o.updateInfo(e);
});
};
a([ y(cc.Prefab) ], t.prototype, "seatPrefab", void 0);
return a([ g ], t);
}(c.default);
o.default = _;
cc._RF.pop();
}, {
"../Base/BaseView": "BaseView",
"../Conf/BaccatRoomConf": "BaccatRoomConf",
"../Conf/Const": "Const",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../Room/Seat": "Seat",
"../UIFrame/SoundMgr": "SoundMgr",
"../Util/GameUtil": "GameUtil",
"./EmoticonPlayer": "EmoticonPlayer"
} ],
BaccatRoomConf: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "840649uh7xBZ57HihNez80z", "BaccatRoomConf");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("./ScreenAdapter"), n = e("./Const"), a = e("../Data/GameData"), r = e("../Util/GameUtil"), s = e("../Data/LanguageData"), c = e("./Game"), l = function() {
function e() {
this.Waybill = {};
}
e.prototype.initData = function() {
if (i.default.getInstance().screenType == n.screenTypeEnum.isIphoneX) {
this.Waybill = {
x: -cc.winSize.width / 2 + 362,
y: 0
};
this.table_offset = {
x: 278,
y: 0
};
this.SeatPos = [ {
x: 967,
y: 310
}, {
x: 1202,
y: 261
}, {
x: 1438,
y: 230
}, {
x: 1669,
y: 261
}, {
x: 1918,
y: 308
}, {
x: 2132,
y: 406
}, {
x: 752,
y: 408
}, {
x: 1439,
y: 959
} ];
this.SeatAnimationPos = [ {
x: 1064,
y: 276
}, {
x: 1247,
y: 248
}, {
x: 1528,
y: 249
}, {
x: 1634,
y: 248
}, {
x: 1822,
y: 274
}, {
x: 1992,
y: 352
}, {
x: 892,
y: 329
} ];
this.mySitDownPos = {
x: 1439,
y: 95,
y2: 117,
y3: 107,
y4: 85
};
this.operationPos = [ {
x: 811,
y: 100
}, {
x: 1158,
y: 100
}, {
x: 1720,
y: 100
}, {
x: 2067,
y: 100
} ];
this.betAggregatePos = [ {
x: 1252,
y: 233
}, {
x: 1344,
y: 233
}, {
x: 1437,
y: 233
}, {
x: 1529,
y: 233
}, {
x: 1621,
y: 233
} ];
this.betDiffusePos = [ {
x: 1023,
y: 277
}, {
x: 1229,
y: 250
}, {
x: 1438,
y: 238
}, {
x: 1652,
y: 249
}, {
x: 1857,
y: 276
} ];
this.tableChipsPos = [ [ {
x: -299.5,
y: 24
}, {
x: -71.5,
y: -119
}, {
x: 240.5,
y: -167.5
}, {
x: 557.5,
y: -119
}, {
x: 762.5,
y: 0
}, {
x: 921.5,
y: 181
}, {
x: -436.5,
y: 185
} ], [ {
x: -195.5,
y: 108
}, {
x: -11.5,
y: -3
}, {
x: 240.5,
y: -31
}, {
x: 493.5,
y: 2
}, {
x: 657.5,
y: 96
}, {
x: 781.5,
y: 221
}, {
x: -309.5,
y: 221
} ], [ {
x: -110,
y: 216.5
} ], [ {
x: 98,
y: 108.5
} ], [ {
x: 378,
y: 108.5
} ], [ {
x: 595,
y: 217.5
} ] ];
this.winTableChipsPos = [ [ {
x: -237.5,
y: -9
}, {
x: -5.5,
y: -119
}, {
x: 306.5,
y: -167.5
}, {
x: 623.5,
y: -99
}, {
x: 825.5,
y: 43
}, {
x: 929.5,
y: 245
}, {
x: -454.5,
y: 249
} ], [ {
x: -133.5,
y: 97
}, {
x: 54.5,
y: -3
}, {
x: 306.5,
y: -31
}, {
x: 555.5,
y: 18
}, {
x: 719.5,
y: 127
}, {
x: 798.5,
y: 283
}, {
x: -320.5,
y: 284
} ], [ {
x: -166,
y: 272.5
} ], [ {
x: 164,
y: 108.5
} ], [ {
x: 444,
y: 128.5
} ], [ {
x: 651,
y: 273.5
} ] ];
this.tigerTableChipsPos = [ [ {
x: -299.7,
y: 16.15
}, {
x: -71.7,
y: -118.85
}, {
x: 241.3,
y: -168.85
}, {
x: 557.3,
y: -118.85
}, {
x: 762.3,
y: 1.15
}, {
x: 921.3,
y: 181.15
}, {
x: -435.7,
y: 185.15
} ], [ {
x: -191.7,
y: 94.15
}, {
x: -.7,
y: -2.85
}, {
x: 241.3,
y: -43.85
}, {
x: 493.3,
y: -2.85
}, {
x: 695.3,
y: 100.15
}, {
x: 799.3,
y: 212.15
}, {
x: -310.7,
y: 221.15
} ], [ {
x: -153.7,
y: 244.15
} ], [ {
x: -37.7,
y: 148.15
} ], [ {
x: 138.3,
y: 93.15
} ], [ {
x: 349.3,
y: 93.15
} ], [ {
x: 505.3,
y: 137.15
} ], [ {
x: 644.3,
y: 237.15
} ] ];
this.winTigerTableChipsPos = [ [ {
x: -361.7,
y: 48.15
}, {
x: -1.7,
y: -118.85
}, {
x: 311.3,
y: -168.85
}, {
x: 623.3,
y: -88.85
}, {
x: 829.3,
y: 44.15
}, {
x: 941.3,
y: 248.15
}, {
x: -453.7,
y: 248.15
} ], [ {
x: -256.7,
y: 120.15
}, {
x: -63.7,
y: 3.15
}, {
x: 311.3,
y: -43.85
}, {
x: 560.3,
y: 27.15
}, {
x: 628.3,
y: 81.15
}, {
x: 817.3,
y: 278.15
}, {
x: -334.7,
y: 284.15
} ], [ {
x: -216.7,
y: 283.15
} ], [ {
x: 25.3,
y: 155.15
} ], [ {
x: 202.3,
y: 93.15
} ], [ {
x: 283.3,
y: 93.15
} ], [ {
x: 571.3,
y: 161.15
} ], [ {
x: 699.3,
y: 291.15
} ] ];
this.tableChipLabelPos = [ [ {
x: -270.3,
y: 52.35
}, {
x: -42.3,
y: -90.65
}, {
x: 269.7,
y: -139.15
}, {
x: 586.7,
y: -90.65
}, {
x: 791.7,
y: 28.35
}, {
x: 950.7,
y: 209.35
}, {
x: -407.3,
y: 213.35
} ], [ {
x: -166.3,
y: 136.35
}, {
x: 17.7,
y: 25.35
}, {
x: 269.7,
y: -2.65
}, {
x: 522.7,
y: 30.35
}, {
x: 686.7,
y: 124.35
}, {
x: 810.7,
y: 249.35
}, {
x: -280.3,
y: 249.35
} ], [ {
x: -80.8,
y: 244.85
} ], [ {
x: 127.2,
y: 136.85
} ], [ {
x: 407.2,
y: 136.85
} ], [ {
x: 624.2,
y: 245.85
} ] ];
this.tigerTableChipLabelPos = [ [ {
x: -270.5,
y: 44.5
}, {
x: -42.5,
y: -90.5
}, {
x: 270.5,
y: -140.5
}, {
x: 586.5,
y: -90.5
}, {
x: 791.5,
y: 29.5
}, {
x: 950.5,
y: 209.5
}, {
x: -406.5,
y: 213.5
} ], [ {
x: -162.5,
y: 122.5
}, {
x: 28.5,
y: 25.5
}, {
x: 270.5,
y: -15.5
}, {
x: 522.5,
y: 25.5
}, {
x: 724.5,
y: 128.5
}, {
x: 828.5,
y: 240.5
}, {
x: -281.5,
y: 249.5
} ], [ {
x: -124.5,
y: 272.5
} ], [ {
x: -8.5,
y: 176.5
} ], [ {
x: 167.5,
y: 121.5
} ], [ {
x: 378.5,
y: 121.5
} ], [ {
x: 534.5,
y: 165.5
} ], [ {
x: 673.5,
y: 265.5
} ] ];
this.dealCardPos = [ {
x: 1236.5,
y: 925
}, {
x: 1517,
y: 925
}, {
x: 1361,
y: 925
}, {
x: 1641,
y: 925
}, {
x: 1087,
y: 925
}, {
x: 1789,
y: 925
} ];
this.broadcastMipaiPos = [ [ {
x: 892,
y: 512
}, {
x: 1066,
y: 512
}, {
x: 979,
y: 512
} ], [ {
x: 1104,
y: 468
}, {
x: 1278,
y: 468
}, {
x: 1191,
y: 468
} ], [ {
x: 1344,
y: 432
}, {
x: 1518,
y: 432
}, {
x: 1431,
y: 432
} ], [ {
x: 1583,
y: 467
}, {
x: 1757,
y: 467
}, {
x: 1670,
y: 467
} ], [ {
x: 1821,
y: 501
}, {
x: 1996,
y: 501
}, {
x: 1908,
y: 501
} ], [ {
x: 1960,
y: 602
}, {
x: 2134,
y: 602
}, {
x: 2047,
y: 602
} ], [ {
x: 732,
y: 602
}, {
x: 907,
y: 602
}, {
x: 819,
y: 602
} ] ];
this.mipaiPlayerMarkPos = [ {
x: 805,
y: 1024
}, {
x: 1513,
y: 1024
}, {
x: cc.winSize.width / 2,
y: cc.winSize.height / 2 + 55
} ];
this.cutCardPos = [ [ {
x: 1438,
y: 708
} ], [ {
x: 1373,
y: 708
} ], [ {
x: 1308,
y: 708
} ], [ {
x: 1243,
y: 708
} ], [ {
x: 1178,
y: 708
} ], [ {
x: 1178,
y: 708
}, {
x: 1438,
y: 542
} ], [ {
x: 1178,
y: 708
}, {
x: 1373,
y: 542
} ], [ {
x: 1178,
y: 708
}, {
x: 1308,
y: 542
} ], [ {
x: 1178,
y: 708
}, {
x: 1243,
y: 542
} ], [ {
x: 1178,
y: 708
}, {
x: 1178,
y: 542
} ], [ {
x: 1438,
y: 898
} ] ];
this.vociferatePos = [ {
x: 756,
y: 90
}, {
x: 983,
y: 90
}, {
x: 1210,
y: 90
}, {
x: 1668,
y: 90
}, {
x: 1895,
y: 90
} ];
this.roomTabelAniPoint = [ {
y: 80,
x: -69.5
}, {
x: 0,
y: 0
} ];
this.roomTabelAniScale = [ {
x: 3587 / 2870,
y: 1352 / 1080
}, {
x: 1,
y: 1
} ];
this.roomListLevelPos = [ [ 156, 332, 508, 684, 860 ], [ 182, 432, 680 ] ];
this.cardBox = {
x: 1950,
zIndex: 100
};
this.dealCardInfo = [ {
x: 1960,
y: 1090
}, {
x: 1770,
y: 900
} ];
this.recoveryCardInfo = [ {
x: 1448,
y: 934
}, {
x: 950,
y: 934
}, {
x: 910,
y: 1090
} ];
this.settltMoneyPoint = [ {
x: 278,
y: cc.winSize.height / 2 - 100
}, {
x: cc.winSize.width / 2 + 278,
y: cc.winSize.height - 100
} ];
this.myMipaiPoint = [ {
x: 626,
y: 538
}, {
x: 1683,
y: 538
}, {
x: cc.winSize.width / 2,
y: cc.winSize.height / 2 + 55
} ];
} else if (i.default.getInstance().screenType == n.screenTypeEnum.isIpad) {
this.Waybill = {
x: 0,
y: 768
};
this.table_offset = {
x: 0,
y: -228
};
this.SeatPos = [ {
x: 447.5,
y: 451
}, {
x: 749.5,
y: 282
}, {
x: 1169.5,
y: 228
}, {
x: 1589.5,
y: 282
}, {
x: 1888.5,
y: 451
}, {
x: 2082.5,
y: 697
}, {
x: 262.5,
y: 697
}, {
x: 1169.5,
y: 966
} ];
this.SeatAnimationPos = [ {
x: 1064,
y: 276
}, {
x: 1247,
y: 248
}, {
x: 1528,
y: 249
}, {
x: 1634,
y: 248
}, {
x: 1822,
y: 274
}, {
x: 1992,
y: 352
}, {
x: 892,
y: 329
} ];
this.mySitDownPos = {
x: 1169.5,
y: 95,
y2: 117,
y3: 107,
y4: 85
};
this.operationPos = [ {
x: 811,
y: 100
}, {
x: 1158,
y: 100
}, {
x: 1720,
y: 100
}, {
x: 2067,
y: 100
} ];
this.betAggregatePos = [ {
x: 983.5,
y: 233
}, {
x: 1075.5,
y: 233
}, {
x: 1168.5,
y: 233
}, {
x: 1260.5,
y: 233
}, {
x: 1352.5,
y: 233
} ];
this.betDiffusePos = [ {
x: 754.5,
y: 277
}, {
x: 960.5,
y: 250
}, {
x: 1169.5,
y: 238
}, {
x: 1383.5,
y: 249
}, {
x: 1588.5,
y: 276
} ];
this.tableChipsPos = [ [ {
x: -564.7,
y: 32.65
}, {
x: -338.7,
y: -108.35
}, {
x: -26.7,
y: -157.35
}, {
x: 283.3,
y: -108.35
}, {
x: 487.8,
y: 8.15
}, {
x: 647.3,
y: 187.65
}, {
x: -698.7,
y: 191.65
} ], [ {
x: -463.7,
y: 117.65
}, {
x: -278.7,
y: 6.65
}, {
x: -26.7,
y: -20.35
}, {
x: 221.3,
y: 12.65
}, {
x: 383.3,
y: 114.65
}, {
x: 507.3,
y: 228.65
}, {
x: -565.7,
y: 228.65
} ], [ {
x: -376.7,
y: 223.65
} ], [ {
x: -169.7,
y: 117.65
} ], [ {
x: 106.3,
y: 117.65
} ], [ {
x: 322.3,
y: 223.65
} ] ];
this.winTableChipsPos = [ [ {
x: -498.7,
y: 3.65
}, {
x: -270.7,
y: -105.35
}, {
x: 36.3,
y: -154.35
}, {
x: 345.3,
y: -88.35
}, {
x: 552.8,
y: 54.15
}, {
x: 646.3,
y: 250.65
}, {
x: -710.7,
y: 254.65
} ], [ {
x: -401.7,
y: 106.65
}, {
x: -206.7,
y: 8.65
}, {
x: 44.3,
y: -19.35
}, {
x: 286.3,
y: 31.65
}, {
x: 447.3,
y: 140.65
}, {
x: 519.3,
y: 295.65
}, {
x: -573.7,
y: 294.65
} ], [ {
x: -434.7,
y: 285.65
} ], [ {
x: -95.7,
y: 118.65
} ], [ {
x: 179.3,
y: 140.65
} ], [ {
x: 380.3,
y: 285.65
} ] ];
this.tigerTableChipsPos = [ [ {
x: -559.7,
y: 28.65
}, {
x: -335.7,
y: -105.35
}, {
x: -29.7,
y: -153.35
}, {
x: 280.3,
y: -106.35
}, {
x: 483.3,
y: 12.65
}, {
x: 640.3,
y: 189.65
}, {
x: -692.7,
y: 193.65
} ], [ {
x: -453.7,
y: 104.65
}, {
x: -267.7,
y: 9.65
}, {
x: -29.7,
y: -30.35
}, {
x: 219.3,
y: 8.65
}, {
x: 415.3,
y: 110.65
}, {
x: 517.3,
y: 220.65
}, {
x: -570.7,
y: 230.65
} ], [ {
x: -415.7,
y: 252.65
} ], [ {
x: -301.7,
y: 157.65
} ], [ {
x: -130.7,
y: 103.65
} ], [ {
x: 76.3,
y: 102.65
} ], [ {
x: 231.3,
y: 147.65
} ], [ {
x: 366.3,
y: 244.65
} ] ];
this.winTigerTableChipsPos = [ [ {
x: -617.7,
y: 61.65
}, {
x: -259.7,
y: -105.35
}, {
x: 48.3,
y: -154.35
}, {
x: 352.3,
y: -71.35
}, {
x: 553.3,
y: 60.65
}, {
x: 658.3,
y: 260.65
}, {
x: -713.7,
y: 262.65
} ], [ {
x: -523.7,
y: 131.65
}, {
x: -334.7,
y: 13.65
}, {
x: 48.3,
y: -31.35
}, {
x: 288.3,
y: 40.65
}, {
x: 352.3,
y: 90.65
}, {
x: 537.3,
y: 292.65
}, {
x: -597.7,
y: 296.65
} ], [ {
x: -484.7,
y: 294.65
} ], [ {
x: -239.7,
y: 162.65
} ], [ {
x: -63.7,
y: 104.65
} ], [ {
x: 7.3,
y: 104.65
} ], [ {
x: 299.3,
y: 171.65
} ], [ {
x: 425.3,
y: 302.65
} ] ];
this.tableChipLabelPos = [ [ {
x: -535.5,
y: 61
}, {
x: -309.5,
y: -80
}, {
x: 2.5,
y: -129
}, {
x: 312.5,
y: -80
}, {
x: 517,
y: 36.5
}, {
x: 676.5,
y: 216
}, {
x: -669.5,
y: 220
} ], [ {
x: -434.5,
y: 146
}, {
x: -249.5,
y: 35
}, {
x: 2.5,
y: 8
}, {
x: 250.5,
y: 41
}, {
x: 412.5,
y: 143
}, {
x: 536.5,
y: 257
}, {
x: -536.5,
y: 257
} ], [ {
x: -347.5,
y: 252
} ], [ {
x: -140.5,
y: 146
} ], [ {
x: 135.5,
y: 146
} ], [ {
x: 351.5,
y: 252
} ] ];
this.tigerTableChipLabelPos = [ [ {
x: -530.5,
y: 57
}, {
x: -306.5,
y: -77
}, {
x: -.5,
y: -125
}, {
x: 309.5,
y: -78
}, {
x: 512.5,
y: 41
}, {
x: 669.5,
y: 218
}, {
x: -663.5,
y: 222
} ], [ {
x: -424.5,
y: 133
}, {
x: -238.5,
y: 38
}, {
x: -.5,
y: -2
}, {
x: 248.5,
y: 37
}, {
x: 444.5,
y: 139
}, {
x: 546.5,
y: 249
}, {
x: -541.5,
y: 259
} ], [ {
x: -386.5,
y: 281
} ], [ {
x: -272.5,
y: 186
} ], [ {
x: 29.2 - 130.7,
y: 132
} ], [ {
x: 105.5,
y: 131
} ], [ {
x: 260.5,
y: 176
} ], [ {
x: 395.5,
y: 273
} ] ];
this.dealCardPos = [ {
x: 967.5,
y: 966
}, {
x: 1247.5,
y: 966
}, {
x: 1091.5,
y: 966
}, {
x: 1371.5,
y: 966
}, {
x: 819.5,
y: 966
}, {
x: 1519.5,
y: 966
} ];
this.broadcastMipaiPos = [ [ {
x: 477.5,
y: 606
}, {
x: 651.5,
y: 606
}, {
x: 564.5,
y: 606
} ], [ {
x: 669.5,
y: 438
}, {
x: 843.5,
y: 438
}, {
x: 756.5,
y: 438
} ], [ {
x: 1082.5,
y: 362
}, {
x: 1256.5,
y: 362
}, {
x: 1169.5,
y: 362
} ], [ {
x: 1501.5,
y: 438
}, {
x: 1675.5,
y: 438
}, {
x: 1588.5,
y: 438
} ], [ {
x: 1687.5,
y: 606
}, {
x: 1861.5,
y: 606
}, {
x: 1948.5,
y: 606
} ], [ {
x: 1838.5,
y: 846
}, {
x: 2012.5,
y: 846
}, {
x: 1925.5,
y: 846
} ], [ {
x: 326.5,
y: 846
}, {
x: 500.5,
y: 846
}, {
x: 413.5,
y: 846
} ] ];
this.mipaiPlayerMarkPos = [ {
x: 827.5,
y: 1065.5
}, {
x: 1510.5,
y: 1065.5
}, {
x: cc.winSize.width / 2 + 145.5,
y: 587.5
} ];
this.cutCardPos = [ [ {
x: 1169.5,
y: 708
} ], [ {
x: 1104.5,
y: 708
} ], [ {
x: 1039.5,
y: 708
} ], [ {
x: 974.5,
y: 708
} ], [ {
x: 909.5,
y: 708
} ], [ {
x: 909.5,
y: 708
}, {
x: 1169.5,
y: 542
} ], [ {
x: 909.5,
y: 708
}, {
x: 1104.5,
y: 542
} ], [ {
x: 909.5,
y: 708
}, {
x: 1039.5,
y: 542
} ], [ {
x: 909.5,
y: 708
}, {
x: 974.5,
y: 542
} ], [ {
x: 909.5,
y: 708
}, {
x: 909.5,
y: 542
} ], [ {
x: 1169.5,
y: 898
} ] ], this.vociferatePos = [ {
x: 292.5,
y: 95
}, {
x: 569.5,
y: 95
}, {
x: 846.5,
y: 95
}, {
x: 1492.5,
y: 95
}, {
x: 1769.5,
y: 95
} ];
this.roomTabelAniPoint = [ {
y: -148,
x: 0
}, {
x: 0,
y: -228
} ];
this.roomTabelAniScale = [ {
x: 3587 / 2870 * 1.1,
y: 1352 / 1080 * 1.1
}, {
x: 1.1,
y: 1.1
} ];
this.roomListLevelPos = [ [ 183, 355, 513.5, 670.5, 842 ], [ 209, 455, 666.6 ] ];
this.cardBox = {
x: 1742,
zIndex: 90
};
this.dealCardInfo = [ {
x: 1752,
y: 1143.5
}, {
x: 1542,
y: 953.5
} ];
this.recoveryCardInfo = [ {
x: 1178.5,
y: 966
}, {
x: 680.5,
y: 966
}, {
x: 640,
y: 1143.5
} ];
this.settltMoneyPoint = [ {
x: 0,
y: cc.winSize.height / 2 - 100
}, {
x: cc.winSize.width / 2,
y: cc.winSize.height - 100
} ];
this.myMipaiPoint = [ {
x: 626,
y: 538
}, {
x: 1683,
y: 538
}, {
x: 1169.5,
y: cc.winSize.height / 2 - 55
} ];
} else {
this.Waybill = {
x: -cc.winSize.width / 2 + 362,
y: 0
};
this.table_offset = {
x: 278,
y: 0
};
this.SeatPos = [ {
x: 967,
y: 310
}, {
x: 1202,
y: 261
}, {
x: 1438,
y: 230
}, {
x: 1669,
y: 261
}, {
x: 1918,
y: 308
}, {
x: 2132,
y: 406
}, {
x: 752,
y: 408
}, {
x: 1439,
y: 959
} ];
this.SeatAnimationPos = [ {
x: 1064,
y: 276
}, {
x: 1247,
y: 248
}, {
x: 1528,
y: 249
}, {
x: 1634,
y: 248
}, {
x: 1822,
y: 274
}, {
x: 1992,
y: 352
}, {
x: 892,
y: 329
} ];
this.mySitDownPos = {
x: 1439,
y: 95,
y2: 117,
y3: 107,
y4: 85
};
this.operationPos = [ {
x: 811,
y: 100
}, {
x: 1158,
y: 100
}, {
x: 1720,
y: 100
}, {
x: 2067,
y: 100
} ];
this.betAggregatePos = [ {
x: 1252,
y: 233
}, {
x: 1344,
y: 233
}, {
x: 1437,
y: 233
}, {
x: 1529,
y: 233
}, {
x: 1621,
y: 233
} ];
this.betDiffusePos = [ {
x: 1023,
y: 277
}, {
x: 1229,
y: 250
}, {
x: 1438,
y: 238
}, {
x: 1652,
y: 249
}, {
x: 1857,
y: 276
} ];
this.tableChipsPos = [ [ {
x: -299.5,
y: 24
}, {
x: -71.5,
y: -119
}, {
x: 240.5,
y: -167.5
}, {
x: 557.5,
y: -119
}, {
x: 762.5,
y: 0
}, {
x: 921.5,
y: 181
}, {
x: -436.5,
y: 185
} ], [ {
x: -195.5,
y: 108
}, {
x: -11.5,
y: -3
}, {
x: 240.5,
y: -31
}, {
x: 493.5,
y: 2
}, {
x: 657.5,
y: 96
}, {
x: 781.5,
y: 221
}, {
x: -309.5,
y: 221
} ], [ {
x: -110,
y: 216.5
} ], [ {
x: 98,
y: 108.5
} ], [ {
x: 378,
y: 108.5
} ], [ {
x: 595,
y: 217.5
} ] ];
this.winTableChipsPos = [ [ {
x: -237.5,
y: -9
}, {
x: -5.5,
y: -119
}, {
x: 306.5,
y: -167.5
}, {
x: 623.5,
y: -99
}, {
x: 825.5,
y: 43
}, {
x: 929.5,
y: 245
}, {
x: -454.5,
y: 249
} ], [ {
x: -133.5,
y: 97
}, {
x: 54.5,
y: -3
}, {
x: 306.5,
y: -31
}, {
x: 555.5,
y: 18
}, {
x: 719.5,
y: 127
}, {
x: 798.5,
y: 283
}, {
x: -320.5,
y: 284
} ], [ {
x: -166,
y: 272.5
} ], [ {
x: 164,
y: 108.5
} ], [ {
x: 444,
y: 128.5
} ], [ {
x: 651,
y: 273.5
} ] ];
this.tigerTableChipsPos = [ [ {
x: -299.7,
y: 16.15
}, {
x: -71.7,
y: -118.85
}, {
x: 241.3,
y: -168.85
}, {
x: 557.3,
y: -118.85
}, {
x: 762.3,
y: 1.15
}, {
x: 921.3,
y: 181.15
}, {
x: -435.7,
y: 185.15
} ], [ {
x: -191.7,
y: 94.15
}, {
x: -.7,
y: -2.85
}, {
x: 241.3,
y: -43.85
}, {
x: 493.3,
y: -2.85
}, {
x: 695.3,
y: 100.15
}, {
x: 799.3,
y: 212.15
}, {
x: -310.7,
y: 221.15
} ], [ {
x: -153.7,
y: 244.15
} ], [ {
x: -37.7,
y: 148.15
} ], [ {
x: 138.3,
y: 93.15
} ], [ {
x: 349.3,
y: 93.15
} ], [ {
x: 505.3,
y: 137.15
} ], [ {
x: 644.3,
y: 237.15
} ] ];
this.winTigerTableChipsPos = [ [ {
x: -361.7,
y: 48.15
}, {
x: -1.7,
y: -118.85
}, {
x: 311.3,
y: -168.85
}, {
x: 623.3,
y: -88.85
}, {
x: 829.3,
y: 44.15
}, {
x: 941.3,
y: 248.15
}, {
x: -453.7,
y: 248.15
} ], [ {
x: -256.7,
y: 120.15
}, {
x: -63.7,
y: 3.15
}, {
x: 311.3,
y: -43.85
}, {
x: 560.3,
y: 27.15
}, {
x: 628.3,
y: 81.15
}, {
x: 817.3,
y: 278.15
}, {
x: -334.7,
y: 284.15
} ], [ {
x: -216.7,
y: 283.15
} ], [ {
x: 25.3,
y: 155.15
} ], [ {
x: 202.3,
y: 93.15
} ], [ {
x: 283.3,
y: 93.15
} ], [ {
x: 571.3,
y: 161.15
} ], [ {
x: 699.3,
y: 291.15
} ] ];
this.tableChipLabelPos = [ [ {
x: -270.3,
y: 52.35
}, {
x: -42.3,
y: -90.65
}, {
x: 269.7,
y: -139.15
}, {
x: 586.7,
y: -90.65
}, {
x: 791.7,
y: 28.35
}, {
x: 950.7,
y: 209.35
}, {
x: -407.3,
y: 213.35
} ], [ {
x: -166.3,
y: 136.35
}, {
x: 17.7,
y: 25.35
}, {
x: 269.7,
y: -2.65
}, {
x: 522.7,
y: 30.35
}, {
x: 686.7,
y: 124.35
}, {
x: 810.7,
y: 249.35
}, {
x: -280.3,
y: 249.35
} ], [ {
x: -80.8,
y: 244.85
} ], [ {
x: 127.2,
y: 136.85
} ], [ {
x: 407.2,
y: 136.85
} ], [ {
x: 624.2,
y: 245.85
} ] ];
this.tigerTableChipLabelPos = [ [ {
x: -270.5,
y: 44.5
}, {
x: -42.5,
y: -90.5
}, {
x: 270.5,
y: -140.5
}, {
x: 586.5,
y: -90.5
}, {
x: 791.5,
y: 29.5
}, {
x: 950.5,
y: 209.5
}, {
x: -406.5,
y: 213.5
} ], [ {
x: -162.5,
y: 122.5
}, {
x: 28.5,
y: 25.5
}, {
x: 270.5,
y: -15.5
}, {
x: 522.5,
y: 25.5
}, {
x: 724.5,
y: 128.5
}, {
x: 828.5,
y: 240.5
}, {
x: -281.5,
y: 249.5
} ], [ {
x: -124.5,
y: 272.5
} ], [ {
x: -8.5,
y: 176.5
} ], [ {
x: 167.5,
y: 121.5
} ], [ {
x: 378.5,
y: 121.5
} ], [ {
x: 534.5,
y: 165.5
} ], [ {
x: 673.5,
y: 265.5
} ] ];
this.dealCardPos = [ {
x: 1236.5,
y: 925
}, {
x: 1517,
y: 925
}, {
x: 1361,
y: 925
}, {
x: 1641,
y: 925
}, {
x: 1087,
y: 925
}, {
x: 1789,
y: 925
} ];
this.broadcastMipaiPos = [ [ {
x: 892,
y: 512
}, {
x: 1066,
y: 512
}, {
x: 979,
y: 512
} ], [ {
x: 1104,
y: 468
}, {
x: 1278,
y: 468
}, {
x: 1191,
y: 468
} ], [ {
x: 1344,
y: 432
}, {
x: 1518,
y: 432
}, {
x: 1431,
y: 432
} ], [ {
x: 1583,
y: 467
}, {
x: 1757,
y: 467
}, {
x: 1670,
y: 467
} ], [ {
x: 1821,
y: 501
}, {
x: 1996,
y: 501
}, {
x: 1908,
y: 501
} ], [ {
x: 1960,
y: 602
}, {
x: 2134,
y: 602
}, {
x: 2047,
y: 602
} ], [ {
x: 732,
y: 602
}, {
x: 907,
y: 602
}, {
x: 819,
y: 602
} ] ];
this.mipaiPlayerMarkPos = [ {
x: 805,
y: 1024
}, {
x: 1513,
y: 1024
}, {
x: cc.winSize.width / 2,
y: cc.winSize.height / 2 + 55
} ];
this.cutCardPos = [ [ {
x: 1438,
y: 708
} ], [ {
x: 1373,
y: 708
} ], [ {
x: 1308,
y: 708
} ], [ {
x: 1243,
y: 708
} ], [ {
x: 1178,
y: 708
} ], [ {
x: 1178,
y: 708
}, {
x: 1438,
y: 542
} ], [ {
x: 1178,
y: 708
}, {
x: 1373,
y: 542
} ], [ {
x: 1178,
y: 708
}, {
x: 1308,
y: 542
} ], [ {
x: 1178,
y: 708
}, {
x: 1243,
y: 542
} ], [ {
x: 1178,
y: 708
}, {
x: 1178,
y: 542
} ], [ {
x: 1438,
y: 898
} ] ];
this.vociferatePos = [ {
x: 756,
y: 90
}, {
x: 983,
y: 90
}, {
x: 1210,
y: 90
}, {
x: 1668,
y: 90
}, {
x: 1895,
y: 90
} ];
this.roomTabelAniPoint = [ {
y: 80,
x: -69.5
}, {
y: 0,
x: 0
} ];
this.roomTabelAniScale = [ {
x: 3587 / 2870,
y: 1352 / 1080
}, {
x: 1,
y: 1
} ];
this.roomListLevelPos = [ [ 156, 332, 508, 684, 860 ], [ 182, 432, 680 ] ];
this.cardBox = {
x: 1970,
zIndex: 100
};
this.dealCardInfo = [ {
x: 1980,
y: 1090
}, {
x: 1770,
y: 900
} ];
this.recoveryCardInfo = [ {
x: 1448,
y: 934
}, {
x: 950,
y: 934
}, {
x: 910,
y: 1090
} ];
this.settltMoneyPoint = [ {
x: 278,
y: cc.winSize.height / 2 - 100
}, {
x: cc.winSize.width / 2 + 278,
y: cc.winSize.height - 100
} ];
this.myMipaiPoint = [ {
x: 626,
y: 538
}, {
x: 1683,
y: 538
}, {
x: cc.winSize.width / 2,
y: cc.winSize.height / 2 + 55
} ];
}
this.gameTimeData = {
openingAnimation: 1.5,
enterScene: 1,
cutCard: 15,
cutCardChange: 1.8,
cutCard2: 2,
bet: 15,
card1: 1.5,
card2: 1,
card3: 1.8,
card4: 2.6,
bankerOpen: 1,
playerOpenMake: 2.2,
mipaiOverGoBack: .8
};
};
e.prototype.getChipBox = function() {
var e = "room/table/freeChipBoxLevel3";
if (a.default.roomData.playType == n.baccaratRoomType.singapore) switch (a.default.roomData.minChip) {
case 10:
e = "room/table/free/freeChipBoxLevel2";
break;

case 100:
e = "room/table/free/freeChipBoxLevel3";
break;

case 1e3:
e = "room/table/free/freeChipBoxLevel4";
break;

case 1e4:
case 1e5:
e = "room/table/free/freeChipBoxLevel5";
} else switch (a.default.roomData.minChip) {
case 10:
e = "room/table/charge/chargeChipBoxLevel1";
break;

case 100:
e = "room/table/charge/chargeChipBoxLevel2";
break;

case 1e3:
e = "room/table/charge/chargeChipBoxLevel3";
break;

case 1e4:
case 1e5:
e = "room/table/charge/chargeChipBoxLevel4";
}
return e;
};
e.prototype.getBetRichTextUrl = function() {
var e = "room/bet/tatistics1";
a.default.roomData.goldType == n.goldType.free ? e = "room/bet/tatistics2" : a.default.roomData.goldType == n.goldType.charge && (e = "room/bet/tatistics1");
return e;
};
e.prototype.getTabelTextureUrl = function() {
var e = "room/table/free/table";
a.default.roomData.roomType == n.goldType.free ? e = "room/table/free/table" : a.default.roomData.roomType == n.goldType.charge ? e = "room/table/charge/tableCharge" : a.default.roomData.roomType == n.goldType.tiger ? e = "room/table/free/table" : a.default.roomData.roomType == n.goldType.vip && (e = a.default.roomData.playType == n.baccaratRoomType.singapore ? "room/table/free/table" : "room/table/charge/tableCharge");
return e;
};
e.prototype.getCarpetTextureUrl = function() {
var e = "room/table/charge/carpet";
a.default.roomData.roomType == n.goldType.free ? e = "room/table/free/carpet" : a.default.roomData.roomType == n.goldType.charge ? e = "room/table/charge/carpet" : a.default.roomData.roomType == n.goldType.tiger ? e = "room/table/free/carpet" : a.default.roomData.roomType == n.goldType.vip && (e = a.default.roomData.playType == n.baccaratRoomType.singapore ? "room/table/free/carpet" : "room/table/charge/carpet");
return e;
};
e.prototype.getWinColor = function() {
var e = new cc.Color(117, 255, 114), t = new cc.Color(142, 207, 240), o = new cc.Color(100, 226, 97);
if (a.default.roomData.roomType == n.goldType.free) {
e = new cc.Color(117, 255, 114);
t = new cc.Color(125, 210, 164);
o = new cc.Color(100, 226, 97);
} else if (a.default.roomData.roomType == n.goldType.charge) {
e = new cc.Color(77, 200, 60);
t = new cc.Color(142, 207, 240);
o = new cc.Color(77, 200, 60);
} else if (a.default.roomData.roomType == n.goldType.tiger) {
e = new cc.Color(117, 255, 114);
t = new cc.Color(125, 210, 164);
o = new cc.Color(100, 226, 97);
} else if (a.default.roomData.roomType == n.goldType.vip) if (a.default.roomData.playType == n.baccaratRoomType.singapore) {
e = new cc.Color(117, 255, 114);
t = new cc.Color(125, 210, 164);
o = new cc.Color(100, 226, 97);
} else {
e = new cc.Color(77, 200, 60);
t = new cc.Color(142, 207, 240);
o = new cc.Color(77, 200, 60);
}
return [ e, t, o ];
};
e.prototype.getTableDeskUrl = function(e) {
a.default.roomData.playType == n.baccaratRoomType.singapore ? c.default.localLanguage == c.LocalLanguage.tw ? r.default.loadSpriteFrame(e, "tableWord", "room/tigerTable/tigerTable") : c.default.localLanguage == c.LocalLanguage.th ? r.default.loadSpriteFrame(e, "room/english/tigerTableth") : r.default.loadSpriteFrame(e, "room/english/tigerTableEn") : c.default.localLanguage == c.LocalLanguage.tw ? r.default.loadSpriteFrame(e, "tableWord", "room/table/table") : c.default.localLanguage == c.LocalLanguage.th ? r.default.loadSpriteFrame(e, "room/english/tableth") : r.default.loadSpriteFrame(e, "room/english/tableEn");
};
e.prototype.getFlyingCardsPlayer = function(e) {
"cn" == s.default.ins.getCountryLanguage() || "tw" == s.default.ins.getCountryLanguage() ? r.default.loadSpriteFrame(e, "room/public/player1Small") : r.default.loadSpriteFrame(e, "room/english/tigerTableEn");
};
e.prototype.getTableBetLineUrl = function(e) {
if (a.default.roomData.playType == n.baccaratRoomType.singapore) {
r.default.loadSpriteFrame(e, "tableBetLine", "room/tigerTable/tigerTable");
r.default.loadSpriteFrame(e.getChildByName("tableBetLine"), "tableBetLine", "room/tigerTable/tigerTable");
e.opacity = 127.5;
} else {
r.default.loadSpriteFrame(e, "tableBetLine", "room/table/table");
r.default.loadSpriteFrame(e.getChildByName("tableBetLine"), "tableBetLine", "room/table/table");
e.opacity = 255;
}
};
e.prototype.getDealerUrl = function() {
return "room/table/free/freeDealer";
};
e.prototype.getColor = function() {
return new cc.Color(205, 246, 255);
};
e.prototype.getWinAnimUrl = function(e) {
var t = "room/settlement/charge/player";
if (a.default.roomData.goldType == n.goldType.charge) switch (e) {
case 1:
t = "room/settlement/charge/player";
break;

case 2:
t = "room/settlement/charge/banker";
break;

case 3:
t = "room/settlement/charge/playerPair";
break;

case 4:
t = "room/settlement/charge/pice";
break;

case 5:
t = "room/settlement/charge/luckySix";
break;

case 6:
t = "room/settlement/charge/bankerPair";
} else if (a.default.roomData.goldType == n.goldType.free) switch (e) {
case 1:
t = "room/settlement/free/player";
break;

case 2:
t = "room/settlement/free/banker";
break;

case 3:
t = "room/settlement/free/playerPair";
break;

case 4:
t = "room/settlement/free/pice";
break;

case 5:
t = "room/settlement/free/luckySix";
break;

case 6:
t = "room/settlement/free/bankerPair";
}
return t;
};
e.prototype.getCardColor = function(e) {
var t = "card/red";
switch (a.default.roomData.cardColor) {
case 1:
t = "card/red";
e && (t = "card/red112x150");
break;

case 2:
t = "card/yellow";
e && (t = "card/yellow112x150");
break;

case 3:
t = "card/blue";
e && (t = "card/blue112x150");
}
return t;
};
e.prototype.tigerSendMapping = function(e) {
var t = -1;
switch (e) {
case 0:
t = 0;
break;

case 1:
t = 1;
break;

case 2:
t = 12;
break;

case 3:
t = 3;
break;

case 4:
t = 9;
break;

case 5:
t = 8;
break;

case 6:
t = 4;
break;

case 7:
t = 6;
}
return t;
};
e.prototype.tigerProcMapping = function(e) {
var t = -1;
switch (e) {
case 0:
t = 0;
break;

case 1:
t = 1;
break;

case 12:
t = 2;
break;

case 3:
t = 3;
break;

case 9:
t = 4;
break;

case 8:
t = 5;
break;

case 4:
t = 6;
break;

case 6:
t = 7;
}
return t;
};
e.getInstance = function() {
this.instance || (this.instance = new e());
return this.instance;
};
return e;
}();
o.default = l;
cc._RF.pop();
}, {
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../Util/GameUtil": "GameUtil",
"./Const": "Const",
"./Game": "Game",
"./ScreenAdapter": "ScreenAdapter"
} ],
BankData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0fe59tyEPlLEqkrGbY64zTf", "BankData");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, n = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../UIFrame/CocosHelper"), s = cc._decorator, c = s.ccclass, l = (s.property, 
function() {
function e() {}
t = e;
e.prototype.start = function() {};
e.prototype.initBankData = function() {
return n(this, void 0, void 0, function() {
var e = this;
return a(this, function(t) {
switch (t.label) {
case 0:
return [ 4, r.default.loadResSync("file/bank.json", cc.JsonAsset).then(function(t) {
e._bankList = t.json;
}) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
e.prototype.initBankDataPhp = function() {
return n(this, void 0, void 0, function() {
var e = this;
return a(this, function(t) {
switch (t.label) {
case 0:
return [ 4, r.default.loadResSync("file/bankPhp.json", cc.JsonAsset).then(function(t) {
e._bankListPhp = t.json;
}) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
Object.defineProperty(e.prototype, "bankList", {
get: function() {
return this._bankList;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "bankListPhp", {
get: function() {
return this._bankListPhp;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e, "ins", {
get: function() {
this.instance || (this.instance = new t());
return this.instance;
},
enumerable: !1,
configurable: !0
});
var t;
return t = i([ c ], e);
}());
o.default = l;
cc._RF.pop();
}, {
"../UIFrame/CocosHelper": "CocosHelper"
} ],
BaseView: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e8eb1FBisdKgoFV+fsLi2qI", "BaseView");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Components/MyEvent"), s = e("../UIFrame/SoundMgr"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {};
t.prototype.start = function() {
this.addBtnClick();
};
t.prototype.register = function(e, t) {
this._typeName = e;
for (var o = 0; o < t.length; o++) {
var i = t[o];
r.MyEvent.getInstance().on(i, this.handleAppEvent.bind(this), e);
}
};
t.prototype.addBtnClick = function() {
if (this._btnList && !(this._btnList.length <= 0)) for (var e = 0; e < this._btnList.length; e++) this._btnList[e].on("click", this.onBtnClick, this);
};
t.prototype.onBtnClick = function() {
s.default.inst.playEffect("btnSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
};
t.prototype.handleAppEvent = function(e) {
console.log(e, "");
};
t.prototype.onDestroy = function() {
r.MyEvent.getInstance().removeByNode(this._typeName);
cc.audioEngine.stopAll();
};
t.prototype.onClose = function() {};
return a([ l ], t);
}(cc.Component));
o.default = d;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../UIFrame/SoundMgr": "SoundMgr"
} ],
BetScript: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ee1fadWk01MXY4/lCgtgqcz", "BetScript");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Base/BaseView"), s = e("../Components/MyEvent"), c = e("../Conf/BaccatRoomConf"), l = e("../Conf/Const"), d = (e("../Conf/Game"), 
e("../Data/GameData")), h = e("../Data/LanguageData"), u = e("../Data/RoomData"), p = e("../Dialog/Confirm"), f = e("../Manager/DialogManager"), m = e("../Socket/WebSocketManager"), g = e("../UIFrame/SoundMgr"), y = e("../UIFrame/UIManager"), _ = e("../Util/GameUtil"), C = e("./TableBet"), b = cc._decorator, v = b.ccclass, S = (b.property, 
function(e) {
n(t, e);
function t() {
var t = e.call(this) || this;
t.tempBet = null;
t.onBetCd = !0;
t._btnCd = !0;
return t;
}
t.prototype.onLoad = function() {
this.register("BetScript", [ "ROOM_CLICK_BET_REGION_EVENT" ]);
this._operationNode = this.node.getChildByName("operationNode");
this._betChips = this.node.getChildByName("betChips");
this._supportNode = this.node.getChildByName("supportNode");
this._countdownBg = this.node.getChildByName("countdownBg");
this._countdown = this.node.getChildByName("countdownBg").getChildByName("countdown");
this._countdownLabel = this.node.getChildByName("countdownBg").getChildByName("label");
this._countdownBg.x = this._countdownBg.x + c.default.getInstance().table_offset.x;
this._selfMoney = _.default.getNowMoney(d.default.roomData.goldType);
this.reset();
this._repeatBet = this._operationNode.getChildByName("repeatBet");
this._doubleBet = this._operationNode.getChildByName("doubleBet");
this._withdrawBet = this._operationNode.getChildByName("withdrawBet");
this._enterBet = this._operationNode.getChildByName("enterBet");
this._skipOverBet = this._operationNode.getChildByName("skipOverBet");
this._myInfoNode = this.node.getChildByName("myInfoNode");
this._freeInfoBg = this._myInfoNode.getChildByName("freeInfoBg");
this._moneyLabel = this._myInfoNode.getChildByName("moneyLabel");
this._nameLabel = this._myInfoNode.getChildByName("nameLabel");
this._repeatBet.on("click", this.onRepeat, this);
this._doubleBet.on("click", this.onDouble, this);
this._withdrawBet.on("click", this.onWithdraw, this);
this._enterBet.on("click", this.onEnter, this);
this._skipOverBet.on("click", this.onEnter, this);
this._initBet();
this._initView();
this.setLabelString();
_.default.setVipNameColor(this._nameLabel, d.default.UserData.vipExp, new cc.Color(255, 228, 209));
};
t.prototype._initView = function() {
u.default.getInstance().betNum = 0;
this._betLight2.setPosition(this.betArr[0].getPosition());
};
t.prototype.upadateMoney = function(e) {
if (e.seatPlayerData) for (var t = 0; t < e.seatPlayerData.length; t++) {
var o = e.seatPlayerData[t];
if (o.userId != d.default.UserData.userId) ; else {
_.default.setNowMoney(o.money, d.default.roomData.goldType);
this.changeMoney();
}
}
};
t.prototype.changeMoney = function(e) {
var t = this;
if (e) {
this._selfMoney = this._selfMoney + e;
_.default.setNowMoney(this._selfMoney, d.default.roomData.goldType);
} else this._selfMoney = _.default.getNowMoney(d.default.roomData.goldType);
this._moneyLabel.getComponent(cc.Label)._forceUpdateRenderData(!0);
this._moneyLabel.width;
_.default.labelChange(this._moneyLabel, this._selfMoney, function() {
console.log("", t._moneyLabel.width);
});
};
t.prototype._initBet = function() {
var e, t = this;
e = d.default.roomData.goldType == l.goldType.charge ? C.default.chargeChipsConf : C.default.freeChipsConf;
this._nameLabel.getComponent(cc.Label).string = d.default.UserData.nickname;
this.changeMoney();
this._betSection = d.default.roomData.roomConf.betConf;
this.betArr = [];
this._touchFirstPos = null;
for (var o = 1; o < 6; o++) {
var i = this._betChips.getChildByName("chips" + o);
i.attr({
money: this._betSection[o - 1]
});
_.default.setNodeSpriteFrame(i.getChildByName("Background"), e[this._betSection[o - 1]]);
i.on("click", this.onBet, this);
this.betArr.push(i);
}
this._betLight2 = this._betChips.getChildByName("roudlight1");
this._betSection[0] >= 1e5 ? this.scheduleOnce(function() {
t._betLight2.getComponent(sp.Skeleton).setAnimation(0, "fang", !0);
t._betLight2.x = t._betLight2.x - 2;
t._betLight2.y = t._betLight2.y + 4;
t._betLight2.scale = .96;
}, .1) : this._betLight2.getComponent(sp.Skeleton).setAnimation(0, "yuan", !0);
this._updateLock();
};
t.prototype._updateLock = function() {};
t.prototype._addGetMoneyBet = function() {
var e = c.default.getInstance().betDiffusePos;
if (d.default.roomData.goldType == l.goldType.free) {
if (!_.default.isnull(this._freeCoinBet)) {
this._freeCoinBet = new cc.Node();
this._freeCoinBet.addComponent(cc.Sprite);
_.default.loadSpriteFrame(this._freeCoinBet, "betAdvert", "room/bet/bet");
this._freeCoinBet.addComponent(cc.Button);
this._freeCoinBet.getComponent(cc.Button).transition = cc.Button.Transition.COLOR;
this._freeCoinBet.getComponent(cc.Button).pressedColor = new cc.Color(255, 255, 255, 150);
this._freeCoinBet.on("click", function() {});
this._betChips.addChild(this._freeCoinBet);
this._freeCoinBet.setPosition(e[1].x, e[1].y);
}
if (!_.default.isnull(this._taskBet)) {
this._taskBet = new cc.Node();
this._taskBet.addComponent(cc.Sprite);
_.default.loadSpriteFrame(this._taskBet, "betActivity", "room/bet/bet");
this._taskBet.addComponent(cc.Button);
this._taskBet.getComponent(cc.Button).transition = cc.Button.Transition.COLOR;
this._taskBet.getComponent(cc.Button).pressedColor = new cc.Color(255, 255, 255, 150);
this._taskBet.on("click", function() {});
this._betChips.addChild(this._taskBet);
this._taskBet.setPosition(e[3].x, e[3].y);
}
this._freeCoinBet.active = !1;
this._taskBet.active = !1;
if (!_.default.moneyInsufficient(d.default.roomData.goldType, d.default.roomData.minChip)) {
this._freeCoinBet.active = !0;
this._taskBet.active = !0;
this._betChips.active = !0;
this._operationNode.active = !0;
this.betArr.forEach(function(e) {
e.stopAllActions();
e.opacity = 0;
});
}
} else {
if (!_.default.isnull(this._openMallBet)) {
this._openMallBet = new cc.Node();
this._openMallBet.addComponent(cc.Sprite);
_.default.loadSpriteFrame(this._openMallBet, "betMall", "room/bet/bet");
this._openMallBet.addComponent(cc.Button);
this._openMallBet.getComponent(cc.Button).transition = cc.Button.Transition.COLOR;
this._openMallBet.getComponent(cc.Button).pressedColor = new cc.Color(255, 255, 255, 150);
this._openMallBet.on("click", function() {
f.default.inst.showFullView(f.FullViewIndex.gameShop);
});
this._betChips.addChild(this._openMallBet);
this._openMallBet.setPosition(e[2].x, e[2].y);
}
this._openMallBet.active = !1;
if (!_.default.moneyInsufficient(d.default.roomData.goldType, d.default.roomData.minChip)) {
this._betChips.active = !0;
this._operationNode.active = !0;
this._betLight2.active = !1;
}
}
};
t.prototype.onBet = function(e) {
var t = this;
console.log("on bet ........");
if (this.onBetCd) {
var o = e.node;
if (0 != o.getComponent(cc.Button).enableAutoGrayEffect) {
u.default.getInstance().betNum = this.betNameChangeNum(o.name);
this._betLight2.setPosition(o.getPosition());
if (o.money >= 1e5) {
this._betLight2.getComponent(sp.Skeleton).setAnimation(0, "fang", !0);
this._betLight2.x = o.getPosition().x - 2;
this._betLight2.y = o.getPosition().y + 4;
this._betLight2.scale = .96;
} else this._betLight2.getComponent(sp.Skeleton).setAnimation(0, "yuan", !0);
this._betLight2.active = !0;
this.onBetCd = !1;
this.scheduleOnce(function() {
t.onBetCd = !0;
}, .3);
} else _.default.alert(h.default.ins.STRING_ROOM("unlockDesc"));
}
};
t.prototype.betNameChangeNum = function(e) {
var t = 0;
"chips1" == e ? t = 0 : "chips2" == e ? t = 1 : "chips3" == e ? t = 2 : "chips4" == e ? t = 3 : "chips5" == e && (t = 4);
return t;
};
t.prototype.onEnter = function() {
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
s.MyEvent.getInstance().emit("CLIENT_BET_OVER_EVENT");
m.default.getInstance().socketSend.betOver();
this._operationNode.active = !1;
this._supportNode.active = !1;
g.default.inst.playEffect("btnSound");
};
t.prototype.onWithdraw = function() {
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
m.default.getInstance().socketSend.baccaratRecallPreBet();
g.default.inst.playEffect("btnSound");
};
t.prototype.onDouble = function() {
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
var e = u.default.getInstance().repeatBetRegion;
u.default.getInstance().getIsNowBet()[0] && (e = u.default.getInstance().myBetRegion);
for (var t = [], o = 0; o < e.length; o++) {
var i = e[o];
if (i > 0) {
var n = {
chipType: o,
chipValue: i + i
};
d.default.roomData.playType == l.baccaratRoomType.singapore && (n = {
chipType: c.default.getInstance().tigerSendMapping(o),
chipValue: i + i
});
if (u.default.getInstance().getIsNowBet()[0]) {
n = {
chipType: o,
chipValue: i
};
d.default.roomData.playType == l.baccaratRoomType.singapore && (n = {
chipType: c.default.getInstance().tigerSendMapping(o),
chipValue: i
});
}
t.push(n);
}
}
m.default.getInstance().socketSend.baccaratPreBet(t);
g.default.inst.playEffect("btnSound");
};
t.prototype.onRepeat = function() {
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
if (_.default.moneyInsufficient(d.default.roomData.goldType, u.default.getInstance().getIsRecord()[1])) {
for (var e = u.default.getInstance().repeatBetRegion, t = [], o = 0; o < e.length; o++) {
var i = e[o];
if (i > 0) {
var n = {
chipType: o,
chipValue: i
};
d.default.roomData.playType == l.baccaratRoomType.singapore && (n = {
chipType: c.default.getInstance().tigerSendMapping(o),
chipValue: i
});
t.push(n);
}
}
m.default.getInstance().socketSend.baccaratPreBet(t);
this._repeatBet.getComponent(cc.Button).interactable = !1;
g.default.inst.playEffect("btnSound");
} else {
g.default.inst.playEffect("betTipsSound");
if (d.default.roomData.goldType == l.goldType.free) {
f.default.inst.showDialog(f.DialogIndex.coinInsufficient);
return;
}
var a = new p.RechargeConf();
y.default.getInstance().openUIForm("prefab/dialog/confirm", [ a ]);
}
};
t.prototype.reset = function() {
this._operationNode.active = !1;
this._betChips.active = !1;
this._supportNode.active = !1;
};
t.prototype.start = function() {
this.changeMoney();
};
t.prototype.showBetChips = function() {
this._betChips.active = !0;
this._operationNode.active = !0;
};
t.prototype.hideTimer = function() {
this._countdownBg.opacity = 0;
};
t.prototype.showTimer = function() {
this._countdownBg.opacity = 255;
};
t.prototype.showCountDown = function(e, t) {
var o = this;
this.hideCountDown();
if (!(!e || e <= 0 || isNaN(e))) {
this._countdownBg.active = !0;
d.default.UserData.seatId <= 0 && (this._countdownBg.active = !1);
this._countdownBg.opacity = 255;
var i = e, n = t || 0;
this._countdown.getComponent(cc.Sprite).fillRange = 0;
this._countdownLabel.getComponent(cc.Label).string = i - n + "";
var a = this._countdown, r = this._countdown.getChildByName("moveLine");
cc.tween(this._countdown).call(function() {
_.default.loadSpriteFrame(a, "betColor1", "room/seat/seat");
_.default.loadSpriteFrame(r, "betLine1", "room/seat/seat");
}, this).delay(.2 * i).to(.05 * i, {
color: new cc.Color(253, 255, 65)
}).call(function() {
_.default.loadSpriteFrame(a, "betColor2", "room/seat/seat");
_.default.loadSpriteFrame(r, "betLine2", "room/seat/seat");
}, this).delay(.2 * i).to(.05 * i, {
color: new cc.Color(255, 166, 25, 255)
}).call(function() {
_.default.loadSpriteFrame(a, "betColor3", "room/seat/seat");
_.default.loadSpriteFrame(r, "betLine3", "room/seat/seat");
}, this).delay(.2 * i).to(.05 * i, {
color: new cc.Color(229, 47, 35, 255)
}).call(function() {
_.default.loadSpriteFrame(a, "betColor4", "room/seat/seat");
_.default.loadSpriteFrame(r, "betLine4", "room/seat/seat");
}, this).start();
var s = !1, c = !1, l = !1, h = cc.callFunc(function() {
var e = -(n += 1 / 22) / i;
r.angle = 90 + 360 * e;
o._countdown.getComponent(cc.Sprite).fillRange = e;
var t = i - Math.floor(n);
d.default.roomData.RemainTimeOut = i - t;
d.default.roomData.countDownTime = Math.floor(t);
o._countdownLabel.getComponent(cc.Label).string = Math.floor(t) + "";
if (2 == t && !s) {
s = !0;
d.default.UserData.seatId > 0 && g.default.inst.playEffect("reciprocal3or2");
}
if (1 == t && !c) {
c = !0;
d.default.UserData.seatId > 0 && g.default.inst.playEffect("reciprocal3or2");
}
if (0 == t && !l) {
l = !0;
d.default.UserData.seatId > 0 && g.default.inst.playEffect("reciprocal1");
}
n >= i && o.hideCountDown();
}), u = cc.sequence(cc.delayTime(1 / 22), h), p = cc.repeatForever(u);
this._countdown.runAction(p);
}
};
t.prototype.hideCountDown = function() {
this._countdown.stopAllActions();
this._countdownLabel.stopAllActions();
this._countdown.color = new cc.Color(77, 232, 80);
this._countdownBg.active = !1;
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ROOM_CLICK_BET_REGION_EVENT":
u.default.getInstance().betNum;
this.sendBet(t, this._betSection[u.default.getInstance().betNum]);
}
};
t.prototype.sendBet = function(e, t) {
if ("chipin" == d.default.roomData.gameState && d.default.UserData.seatId > 0 && d.default.roomData.ifBetQualification) {
if (!_.default.moneyInsufficient(d.default.roomData.goldType, t)) {
g.default.inst.playEffect("betTipsSound");
_.default.showChargeTips(d.default.roomData.minChip);
return;
}
var o = [];
o.push({
chipType: e,
chipValue: t
});
m.default.getInstance().socketSend.baccaratPreBet(o);
}
};
t.prototype.operationChange = function(e) {
this._repeatBet.getComponent(cc.Button).interactable = !1;
this._doubleBet.getComponent(cc.Button).interactable = !1;
this._withdrawBet.getComponent(cc.Button).interactable = !1;
this._enterBet.getComponent(cc.Button).interactable = !1;
this._skipOverBet.active = !1;
var t = _.default.seekChild(this._enterBet, "Label");
switch (e) {
case l.betChange.start:
this._enterBet.getComponent(cc.Button).interactable = !0;
console.log(u.default.getInstance().getIsNowBet());
if (0 == u.default.getInstance().getIsNowBet()[0]) {
this._enterBet.active = !1;
this._skipOverBet.active = !0;
} else {
this._enterBet.active = !0;
this._skipOverBet.active = !1;
}
if (u.default.getInstance().getIsRecord()[0]) {
this._repeatBet.getComponent(cc.Button).interactable = !0;
this._doubleBet.getComponent(cc.Button).interactable = !0;
_.default.moneyInsufficient(d.default.roomData.goldType, u.default.getInstance().getIsRecord()[1]) || (this._doubleBet.getComponent(cc.Button).interactable = !1);
}
break;

case l.betChange.betPlaced:
this._withdrawBet.getComponent(cc.Button).interactable = !0;
this._enterBet.getComponent(cc.Button).interactable = !0;
this._enterBet.active = !0;
t.getComponent(cc.Label).string = h.default.ins.STRING_ROOM("enter");
this._doubleBet.getComponent(cc.Button).interactable = !0;
_.default.moneyInsufficient(d.default.roomData.goldType, u.default.getInstance().getIsNowBet()[1]) || (this._doubleBet.getComponent(cc.Button).interactable = !1);
break;

case l.betChange.recall:
this._enterBet.getComponent(cc.Button).interactable = !0;
this._enterBet.active = !1;
this._skipOverBet.active = !0;
if (u.default.getInstance().getIsRecord()[0]) {
this._repeatBet.getComponent(cc.Button).interactable = !0;
this._doubleBet.getComponent(cc.Button).interactable = !0;
_.default.moneyInsufficient(d.default.roomData.goldType, u.default.getInstance().getIsRecord()[1]) || (this._doubleBet.getComponent(cc.Button).interactable = !1);
}
}
};
t.prototype.setReady = function(e) {
var t = this;
if (d.default.UserData.seatId > 0) if (e) {
this._nameLabel.active = !1;
_.default.loadSpriteFrame(this._freeInfoBg, "room/seat/beReadyBg");
this._myInfoNode.getChildByName("readyLabel").active = !0;
this._myInfoNode.getChildByName("readyLabel").getComponent(cc.Label).string = e;
} else this.scheduleOnce(function() {
t._nameLabel.active = !0;
t._nameLabel.getComponent(cc.Label).string = d.default.UserData.nickname;
_.default.loadSpriteFrame(t._freeInfoBg, "room/seat/chargeInfoBg");
t._myInfoNode.getChildByName("readyLabel").active = !1;
}, 0);
};
t.prototype.setBetState = function() {
var e = this;
console.log("", this._betSection[u.default.getInstance().betNum], _.default.getNowMoney(d.default.roomData.goldType));
this._betSection[u.default.getInstance().betNum] <= _.default.getNowMoney(d.default.roomData.goldType) ? this.betArr.forEach(function(e) {
var t = e.money;
_.default.moneyInsufficient(d.default.roomData.goldType, t) ? e.getComponent(cc.Button).interactable = !0 : e.getComponent(cc.Button).interactable = !1;
}) : this.betArr.forEach(function(t, o) {
var i = t.money;
if (_.default.moneyInsufficient(d.default.roomData.goldType, i)) t.getComponent(cc.Button).interactable = !0; else {
t.getComponent(cc.Button).interactable = !1;
u.default.getInstance().betNum <= o && e.betArr.forEach(function(t, o) {
if (t.money <= e._selfMoney) {
u.default.getInstance().betNum = o;
e._betLight2.setPosition(t.getPosition());
if (t.money >= 1e5) {
e._betLight2.getComponent(sp.Skeleton).setAnimation(0, "fang", !0);
e._betLight2.x = t.getPosition().x - 2;
e._betLight2.y = t.getPosition().y + 4;
e._betLight2.scale = .96;
} else e._betLight2.getComponent(sp.Skeleton).setAnimation(0, "yuan", !0);
}
});
}
});
};
t.prototype.separateAnimation = function() {
var e = this;
console.log("", this._operationNode.active);
if (!this._operationNode.active) {
this._betLight2.active = !1;
this._operationNode.active = !1;
var t = c.default.getInstance().betDiffusePos, o = c.default.getInstance().betAggregatePos, i = [ -20, -10, 0, 10, 20 ];
this.moveMyInfoNode(!0);
for (var n = 0; n < this.betArr.length; n++) {
var a = this.betArr[n];
if (_.default.isnull(a)) {
a.stopAllActions();
a.setPosition(o[n].x, o[n].y);
a.opacity = 0;
a.angle = i[n];
a.scaleX = 107 / 134;
a.scaleY = .796875;
cc.tween(a).to(.5, {
opacity: 255,
position: cc.v2(t[n].x, t[n].y),
scaleX: 1,
scaleY: 1,
angle: 0
}, {
easing: "quadOut"
}).call(function() {
e._betChips.active = !0;
e._betLight2.active = !0;
e._operationNode.active = !0;
}, this).start();
}
}
this.setBetState();
this.changeMoney();
this._updateLock();
this._addGetMoneyBet();
}
};
t.prototype.gatherAnimation = function() {
var e = this;
this._operationNode.active = !1;
var t = c.default.getInstance().betAggregatePos;
this._betLight2.active = !1;
var o = [ -20, -10, 0, 10, 20 ];
this.moveMyInfoNode(!1);
for (var i = 0; i < this.betArr.length; i++) {
var n = this.betArr[i];
n.stopAllActions();
cc.tween(n).to(.5, {
opacity: 0,
position: cc.v2(t[i].x, t[i].y),
scaleX: 1,
scaleY: 1,
angle: o[i]
}, {
easing: "quartIn"
}).call(function() {
e._betChips.active = !1;
}, this).start();
}
d.default.roomData.ifBetQualification = !1;
};
t.prototype.moveMyInfoNode = function(e, t) {
var o = this;
this._myInfoNode.stopAllActions();
if (d.default.UserData.seatId <= 0 || "shuffle" == d.default.roomData.gameState || "shuffle_cartoon" == d.default.roomData.gameState) this._myInfoNode.active = !1; else {
this._myInfoNode.active = !0;
s.MyEvent.getInstance().emit("SHOW_MYINFONODE_EVENT");
var i = c.default.getInstance().mySitDownPos.y3;
if (e) {
this._myInfoNode.position = cc.v3(c.default.getInstance().mySitDownPos.x, c.default.getInstance().mySitDownPos.y2);
i = c.default.getInstance().mySitDownPos.y4;
} else this._myInfoNode.position = cc.v3(c.default.getInstance().mySitDownPos.x, c.default.getInstance().mySitDownPos.y);
cc.tween(this._myInfoNode).to(.5, {
y: i
}).call(function() {
o._myInfoNode.active = !0;
s.MyEvent.getInstance().emit("SHOW_MYINFONODE_EVENT");
}, this).start();
d.default.roomData.ifBetQualification = !0;
t && (this._myInfoNode.y = 107);
}
};
t.prototype.updateActionBtn = function() {};
t.prototype.hideMyInfoNode = function() {
var e = this;
this._myInfoNode.active = !1;
this.scheduleOnce(function() {
e._myInfoNode.active = !1;
}, .5);
};
t.prototype.showMyInfoNode = function() {
this._myInfoNode.active = !0;
};
t.prototype.showVociferateView = function() {
if (!_.default.isnull(this._vociferateBtn1)) {
this._vociferateBtn1 = this._supportNode.getChildByName("btn1");
this._vociferateBtn2 = this._supportNode.getChildByName("btn2");
this._vociferateBtn3 = this._supportNode.getChildByName("btn3");
this._vociferateBtn4 = this._supportNode.getChildByName("btn4");
this._vociferateBtn5 = this._supportNode.getChildByName("btn5");
this._vociferateBtn1.on("click", this.onBtn, this);
this._vociferateBtn2.on("click", this.onBtn, this);
this._vociferateBtn3.on("click", this.onBtn, this);
this._vociferateBtn4.on("click", this.onBtn, this);
this._vociferateBtn5.on("click", this.onBtn, this);
}
this._vociferateBtn1.active = !1;
this._vociferateBtn2.active = !1;
this._vociferateBtn3.active = !1;
this._vociferateBtn4.active = !1;
this._vociferateBtn5.active = !1;
u.default.getInstance().myBetRegion[0] > 0 ? l.betRegion.player : u.default.getInstance().myBetRegion[1] > 0 && l.betRegion.banker;
};
t.prototype.onBtn = function(e) {
var t = this;
console.log(e.node.name, e.node.vociferateName, "");
if (this._btnCd) {
this._btnCd = !1;
var o = -1;
u.default.getInstance().myBetRegion[0] > 0 ? o = l.betRegion.player : u.default.getInstance().myBetRegion[1] > 0 && (o = l.betRegion.banker);
m.default.getInstance().socketSend.sendBroadcast(l.broadcastType.vociferate, {
msg: e.node.vociferateName,
type: o
});
this.scheduleOnce(function() {
t._btnCd = !0;
}, .5);
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
}
};
t.prototype.hideVociferateView = function() {
_.default.isnull(this._supportNode) && (this._supportNode.active = !1);
};
t.prototype.setLabelString = function() {
this._repeatBet.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("repeat");
this._doubleBet.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("double");
this._withdrawBet.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("withdraw");
this._enterBet.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("enter");
this._skipOverBet.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("skip");
};
return a([ v ], t);
}(r.default));
o.default = S;
cc._RF.pop();
}, {
"../Base/BaseView": "BaseView",
"../Components/MyEvent": "MyEvent",
"../Conf/BaccatRoomConf": "BaccatRoomConf",
"../Conf/Const": "Const",
"../Conf/Game": "Game",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../Data/RoomData": "RoomData",
"../Dialog/Confirm": "Confirm",
"../Manager/DialogManager": "DialogManager",
"../Socket/WebSocketManager": "WebSocketManager",
"../UIFrame/SoundMgr": "SoundMgr",
"../UIFrame/UIManager": "UIManager",
"../Util/GameUtil": "GameUtil",
"./TableBet": "TableBet"
} ],
BigNumUtils: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c4b72NccXhGKofOUM3hVrvP", "BigNumUtils");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.RountType = void 0;
var i;
(function(e) {
e[e.Round = 0] = "Round";
e[e.Floor = 1] = "Floor";
e[e.Ceil = 2] = "Ceil";
})(i = o.RountType || (o.RountType = {}));
var n = function() {
function e() {}
e.BNPlus = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
for (var o = [ 0, 0 ], i = 0; i < e.length; i++) {
var n, a, r = e[i], s = +r;
if (0 === s || s && Infinity !== s) {
a = r < 10 ? 0 : Math.floor(Math.log10(+r) + 1e-6);
n = r < 10 ? r : r / Math.pow(10, a);
} else if (r) {
n = +(r = r.split("e"))[0] || 0;
a = +r[1] || 0;
} else {
n = 0;
a = 0;
}
if (a > o[1]) {
o[0] /= Math.pow(10, a - o[1]);
o[0] += n;
o[1] = a;
} else o[0] += n / Math.pow(10, o[1] - a);
}
for (var c = o[0] >= 0 ? 1 : -1, l = Math.abs(o[0]); l < 1 && o[1] > 0; ) {
l *= 10;
o[1] -= 1;
}
for (;l > 10; ) {
l /= 10;
o[1] += 1;
}
return (l *= c) + "e" + o[1];
};
e.BNMinus = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
for (var o = [ 0, 0 ], i = 0; i < e.length; i++) {
var n, a, r = e[i], s = i, c = +r;
if (0 === c || c && Infinity !== c) {
a = r < 10 ? 0 : Math.floor(Math.log10(+r) + 1e-6);
n = r < 10 ? r : r / Math.pow(10, a);
} else {
n = +(r = r.split("e"))[0];
a = +r[1];
}
if (s) if (o[1] < a) {
o[0] = o[0] / Math.pow(10, a - o[1]) - n;
o[1] = a;
} else o[0] -= n / Math.pow(10, o[1] - a); else {
o[0] = n;
o[1] = a;
}
}
for (var l = o[0] >= 0 ? 1 : -1, d = Math.abs(o[0]); d < 1 && o[1] > 0; ) {
d *= 10;
o[1] -= 1;
}
for (;d > 10; ) {
d /= 10;
o[1] += 1;
}
return (d *= l) + "e" + o[1];
};
e.BNTimes = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
var o = [ 0, 0 ];
e.forEach(function(e, t) {
var i, n, a = +e;
if (0 === a || a && Infinity !== a) {
n = e < 10 ? 0 : Math.floor(Math.log10(+e) + 1e-6);
i = e < 10 ? e : e / Math.pow(10, n);
} else if (e) {
i = +(e = e.split("e"))[0] || 0;
n = +e[1] || 0;
} else {
i = 1;
n = 0;
}
if (t) {
o[0] *= i;
o[1] += n;
if (o[0] > 1e300) {
o[0] /= 1e300;
o[1] += 300;
}
} else {
o[0] = i;
o[1] = n;
}
});
for (var i = o[0] >= 0 ? 1 : -1, n = Math.abs(o[0]); n < 1 && o[1] > 0; ) {
n *= 10;
o[1] -= 1;
}
for (;n > 10; ) {
n /= 10;
o[1] += 1;
}
return n * i + "e" + o[1];
};
e.BNDevide = function(e, t) {
if (0 == +t) return 0;
var o = [ 0, 0 ], i = 1;
[ e, t ].forEach(function(e, t) {
var n, a, r = +e, s = Math.abs(r);
if (0 === s || s && Infinity !== s) {
a = s < 10 ? 0 : Math.floor(Math.log10(s) + 1e-6);
n = s < 10 ? s : s / Math.pow(10, a);
} else {
r = +(e = e.split("e"))[0];
n = Math.abs(r);
a = +e[1];
}
i *= r >= 0 ? 1 : -1;
if (0 === t) {
o[0] = n;
o[1] = a;
} else {
o[0] /= n;
o[1] -= a;
}
});
for (var n = Math.abs(o[0]); n < 1 && o[1] > 0; ) {
n *= 10;
o[1] -= 1;
}
for (;n > 10; ) {
n /= 10;
o[1] += 1;
}
n *= i;
return o[1] < 100 ? n * Math.pow(10, o[1]) : this.BNTimes(n, this.BNPow(10, o[1]));
};
e.BNCompare = function(e, t) {
var o = [ 0, 0 ], i = [ 0, 0 ];
[ e, t ].forEach(function(e, t) {
var n = +e;
if (0 === n || n && Infinity !== n) {
i[t] = e < 10 ? 0 : Math.floor(Math.log10(+e) + 1e-6);
o[t] = e < 10 ? e : e / Math.pow(10, i[t]);
} else {
e = e.split("e");
o[t] = +e[0];
i[t] = +e[1];
}
});
return o[0] * o[1] < 0 ? o[0] > 0 ? 1 : -1 : i[1] > i[0] ? -1 : i[1] < i[0] ? 1 : o[1] > o[0] ? -1 : o[1] < o[0] ? 1 : 0;
};
e.BNPow = function(e, t) {
if (!e) return "0";
if (!t) return "1";
var o = Math.floor(Math.log(1e300) / Math.log(e)), i = 1;
if ((o = Math.max(o, 1)) >= t) i = Math.pow(e, t); else {
for (var n = Math.floor(t / o), a = [], r = Math.pow(e, o), s = 0; s < n; s++) a.push(r);
a.push(Math.pow(e, t - o * n));
i = this.BNTimes.apply(this, a);
}
return i;
};
e.BNMax = function(e, t) {
return this.BNCompare(e, t) > 0 ? e : t;
};
e.BNMin = function(e, t) {
return this.BNCompare(e, t) > 0 ? t : e;
};
e.BNLog = function(e) {
var t = +e;
if (0 === t || t && Infinity !== t) {
var o = t >= 0 ? 1 : -1;
t = Math.abs(t);
return o * Math.log10(t);
}
return +e.split("e")[1];
};
e.BNSqrt = function(e) {
var t = +e;
if (0 === t || t && Infinity !== t) return Math.sqrt(t);
var o = e.split("e"), i = +o[0], n = +o[1];
return Math.sqrt(i) + "e" + n / 2;
};
e.BNSqrtEx = function(e, t) {
var o = +e;
if (0 === o || o && Infinity !== o) return Math.pow(o, 1 / t);
var i = e.split("e"), n = +i[0], a = +i[1];
return Math.pow(n, 1 / t) + "e" + a / t;
};
e.BNFloor = function(e) {
var t = +e;
return 0 === t || t && Infinity !== t ? Math.floor(t) : e;
};
e.BNCeil = function(e) {
var t = +e;
return 0 === t || t && Infinity !== t ? Math.ceil(t) : e;
};
e.BNRound = function(e) {
var t = +e;
return 0 === t || t && Infinity !== t ? Math.round(t) : e;
};
e.BN2Number = function(e) {
var t = +e;
if (0 === t || t && Infinity !== t) return t;
var o = e.split("e");
return +o[0] * Math.pow(10, o[1]);
};
e.getOwnString = function(e) {
return this.getNumberString(e, void 0, void 0, i.Floor);
};
e.getCostString = function(e) {
return this.getNumberString(e, void 0, void 0, i.Ceil);
};
e.getNumberString = function(e, t, o, n) {
void 0 === t && (t = 0);
void 0 === n && (n = i.Round);
var a, r, s, c = +e;
if (0 === c || c && Infinity !== c) {
if (e < 1e3) return this.roundNum(e, n, t);
var l = "" + Math.round(e), d = 0;
if (~l.indexOf("e")) {
var h = +l.split("e")[0], u = +l.split("e")[1];
d = u += Math.floor(Math.log10(h));
} else d = Math.floor(Math.log10(e));
a = ~l.indexOf("e") ? +l.split("e")[0] * Math.pow(10, d % 3) : +l.slice(0, d % 3 + 4) / 1e3;
r = d / 3 >> 0;
} else {
if (+(e = e.split("e"))[1] < 3) {
var p = e[0] * Math.pow(10, e[1]);
return this.roundNum(p, n, t);
}
a = e[0] * Math.pow(10, e[1] % 3);
for (;a > 1e3; ) {
a /= 1e3;
e[1] = +e[1] + 3;
}
r = e[1] / 3 >> 0;
}
if (r < 4) s = [ "", "K", "M", "B" ][r]; else {
var f = (r - 4) / 26 >> 0, m = f / 26 >> 0, g = (r - 4) % 26, y = "abcdefghijklmnopqrstuvwxyz", _ = y.toUpperCase();
s = (m < 2 ? y : _)[f % 26] + (m % 2 ? _ : y)[g];
}
void 0 === o && (o = a < 10 ? 2 : a < 100 ? 1 : 0);
return this.roundNum(a, n, o) + s;
};
e.roundNum = function(e, t, o) {
var n, a;
n = t === i.Round ? Math.round : t === i.Ceil ? Math.ceil : Math.floor;
if (0 === o) a = n(e); else {
var r = Math.pow(10, o);
a = n(r * e) / r;
}
return a.toFixed(o);
};
e.getFixNumber = function(e, t) {
void 0 === t && (t = 1);
var o = Math.pow(10, t);
return Math.floor(e * o) / o;
};
e.getPercentString = function(e, t) {
void 0 === t && (t = 1);
return "string" == typeof e ? this.getNumberString(this.BNTimes(e, 100), t) + "%" : this.getNumberString(100 * e, t) + "%";
};
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
BindMPDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e1922D08HpDtK3xsjkrn2PG", "BindMPDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../public/MyComponent/WindowBase"), s = e("../../data/MyData"), c = e("../../data/GameLangData"), l = e("../../manager/DlgGameMgr"), d = e("../../public/ThirdParty/GameSysDefine"), h = e("../../manager/GameSoundMgr"), u = e("../../public/MyComponent/GameHppayUtil"), p = e("../executor/BindMPEx"), f = cc._decorator, m = f.ccclass, g = (f.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.formType = d.FormType.PopUp;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new p.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
var e = this;
u.default.seekNodeChild(this.node, "closeBtn").on("click", this.onClose, this);
this._dialog = this.node.getChildByName("dlgBg");
this.register("BingPhoneDialog", [ "BINGDING_PHONE_SUCCESS", "ON_CLOSE_DIALOG", "ON_SHOW_DIALOG" ]);
this._verifyCodeBtn = this._dialog.getChildByName("verifyCodeBtn");
this._nextBtn = this._dialog.getChildByName("nextBtn");
this._editBoxPhoneNumber = this._dialog.getChildByName("inputPhontNumber").getComponent(cc.EditBox);
this._editBoxVCode = this._dialog.getChildByName("inputVerifyCode").getComponent(cc.EditBox);
this._editBoxPhoneNumber.node.on("editing-did-ended", this._onInputEnded, this);
this._editBoxVCode.node.on("editing-did-ended", this.onEditingVCodeDidEnded, this);
this._btnGetVCode = this._dialog.getChildByName("verifyCodeBtn");
this._labelVCode = this._btnGetVCode.getChildByName("label").getComponent(cc.Label);
[ this._verifyCodeBtn, this._nextBtn ].forEach(function(t) {
t.on("click", e.onBtn, e);
});
this._dialog.getChildByName("titleLabel").getComponent(cc.Label).string = c.default.ins.GET_LOGIN_LANG("addMobile");
u.default.labelShadow(this._dialog.getChildByName("titleLabel").getComponent(cc.Label));
this._labelVCode.getComponent(cc.Label).string = c.default.ins.GET_LOGIN_LANG("getVCode");
this._nextBtn.getChildByName("label").getComponent(cc.Label).string = c.default.ins.GET_HALL_LANG("confirm");
this._editBoxPhoneNumber.placeholder = c.default.ins.GET_LOGIN_LANG("enterPhoneNo");
this._editBoxVCode.placeholder = c.default.ins.GET_LOGIN_LANG("enter4DigitVCode");
this._btnGetVCode.getComponent(cc.Button).interactable = !1;
this._btnGetVCode.opacity = 155;
this._nextBtn.getComponent(cc.Button).interactable = !1;
this._dialog.getChildByName("noSmSCode").on("click", function() {
l.default.inst.showFullView(l.FullScreenType.services);
}, this);
this._dialog.getChildByName("noSmSCode").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("noReceiveCode");
this._dialog.getChildByName("noSmSCode").active = !1;
};
t.prototype.onEditingVCodeDidEnded = function() {
this.exView.onEditingVCodeDidEndedEx();
};
t.prototype._onInputEnded = function() {
this.exView.onInputEndedEx();
};
t.prototype.handleAppEvent = function(e) {
e.arg;
switch (e.key) {
case "BINGDING_PHONE_SUCCESS":
this.bindPhoneSucces();
break;

case "ON_CLOSE_DIALOG":
this._editBoxPhoneNumber.node.active = !0;
this._editBoxVCode.node.active = !0;
break;

case "ON_SHOW_DIALOG":
this._editBoxPhoneNumber.node.active = !1;
this._editBoxVCode.node.active = !1;
}
};
t.prototype.bindPhoneSucces = function() {
s.default.UserData.bindPhoneStatus = 1;
u.default.alert(c.default.ins.GET_ALERT_LANG("bindSuccess"));
this.closeDialog();
};
t.prototype.onBtn = function(e) {
h.default.inst.playGameEffect(h.AudioRes.click);
switch (e.node.name) {
case "closeBtn":
this.onClose();
break;

case "verifyCodeBtn":
this._onGetVCode();
break;

case "nextBtn":
this._onNext();
}
};
t.prototype.onShow = function() {
this.canDestory = !0;
};
t.prototype.start = function() {};
t.prototype._onGetVCode = function() {
this.exView.onGetVCodeEx();
};
t.prototype._onVcodeTick = function() {
if (this._tickCount > 0) {
this._tickCount--;
this._labelVCode.string = this._tickCount + "s";
} else {
this._btnGetVCode.getComponent(cc.Button).enabled = !0;
this._btnGetVCode.opacity = 255;
this._labelVCode.string = c.default.ins.GET_LOGIN_LANG("resend");
this.unschedule(this._onVcodeTick);
this._dialog.getChildByName("noSmSCode").active = !0;
}
};
t.prototype._onNext = function() {
this.exView.onNextEx();
};
return a([ m ], t);
}(r.default));
o.default = g;
cc._RF.pop();
}, {
"../../data/GameLangData": "GameLangData",
"../../data/MyData": "MyData",
"../../manager/DlgGameMgr": "DlgGameMgr",
"../../manager/GameSoundMgr": "GameSoundMgr",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/WindowBase": "WindowBase",
"../../public/ThirdParty/GameSysDefine": "GameSysDefine",
"../executor/BindMPEx": "BindMPEx"
} ],
BindMPEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8cb05k2St1CAY2dcQhaxoRr", "BindMPEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../communication/GameLoginHttp"), s = e("../../data/GameLangData"), c = e("../../data/conf/GameInfo"), l = e("../../manager/DlgGameMgr"), d = e("../../public/MyComponent/ViewExecutorBase"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {
this._editBoxVCode = this.node._editBoxVCode;
this._editBoxPhoneNumber = this.node._editBoxPhoneNumber;
this._nextBtn = this.node._nextBtn;
this._verifyCodeBtn = this.node._verifyCodeBtn;
this._btnGetVCode = this.node._btnGetVCode;
};
t.prototype.onEditingVCodeDidEndedEx = function() {
4 == this._editBoxVCode.string.length ? this._editBoxVCode.textLabel.node.color = new cc.Color(248, 248, 248, 255) : this._editBoxVCode.textLabel.node.color = new cc.Color(200, 40, 20, 255);
"" != this._editBoxVCode.string && 4 == this._editBoxVCode.string.length && "" != this._editBoxPhoneNumber.string && this._editBoxPhoneNumber.string.length > 0 ? this._nextBtn.getComponent(cc.Button).interactable = !0 : this._nextBtn.getComponent(cc.Button).interactable = !1;
};
t.prototype.onInputEndedEx = function() {
if (this._editBoxPhoneNumber.string.length > 0) {
this._editBoxPhoneNumber.textLabel.node.color = new cc.Color(248, 248, 248, 255);
this._verifyCodeBtn.getComponent(cc.Button).interactable = !0;
"" != this._editBoxVCode.string && 4 == this._editBoxVCode.string.length ? this._nextBtn.getComponent(cc.Button).interactable = !0 : this._nextBtn.getComponent(cc.Button).interactable = !1;
} else {
this._editBoxPhoneNumber.textLabel.node.color = new cc.Color(200, 40, 20, 255);
this._nextBtn.getComponent(cc.Button).interactable = !1;
this._verifyCodeBtn.getComponent(cc.Button).interactable = !1;
}
};
t.prototype.onGetVCodeEx = function() {
var e = this, t = this._editBoxPhoneNumber.string;
l.default.inst.showAlertWithConfirm("" + c.default.phoneStart + t, s.default.ins.GET_LOGIN_LANG("sendVCodeDesc"), s.default.ins.GET_LOGIN_LANG("confirmPhoneNumber"), function() {
e._btnGetVCode.getComponent(cc.Button).enabled = !1;
e._btnGetVCode.opacity = 155;
r.default.getInstance().getVcode(c.default.ereaCode, c.default.phoneStart + t, 4);
e.node._tickCount = 120;
e.node._labelVCode.string = e.node._tickCount + "s";
e.node.schedule(e.node._onVcodeTick, 1);
});
};
t.prototype.onNextEx = function() {
var e = this._editBoxPhoneNumber.string, t = this._editBoxVCode.string;
r.default.getInstance().bindPhone(c.default.ereaCode, e, t);
};
return a([ u ], t);
}(d.default));
o.default = p;
cc._RF.pop();
}, {
"../../communication/GameLoginHttp": "GameLoginHttp",
"../../data/GameLangData": "GameLangData",
"../../data/conf/GameInfo": "GameInfo",
"../../manager/DlgGameMgr": "DlgGameMgr",
"../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
BindPixDialogEX: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1ee52clU0VAUqTW6XHlVlTH", "BindPixDialogEX");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../communication/GameLobbyHttp"), s = e("../../../data/GameLangData"), c = e("../../../manager/DlgGameMgr"), l = e("../../../manager/GameSoundMgr"), d = e("../../../public/MyComponent/ViewExecutorBase"), h = e("../../proxy/bank/PlayerWithdraw"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {
this.root = this.node.root;
this.cardHolder = this.node.cardHolder;
this.bankNumber = this.node.bankNumber;
this.bankName = this.node.bankName;
this.currSelectBank = this.node.currSelectBank;
};
t.prototype.updateLanguageUIEx = function() {
this.root.getChildByName("labelTitle").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("bindGCashTitle");
this.root.getChildByName("labelName").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("payeeName");
this.root.getChildByName("labelBankName").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("accountType");
this.root.getChildByName("labelBankNumber").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("payeeAccount");
this.root.getChildByName("btnConfirm").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("confirm");
this.root.getChildByName("tips2").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("bindDesc3");
this.cardHolder.placeholderLabel.string = s.default.ins.GET_NEWHALL_LANG("inputCardHolderName");
this.bankNumber.placeholderLabel.string = s.default.ins.GET_NEWHALL_LANG("enterAccountTips");
this.bankName.string = s.default.ins.GET_NEWHALL_LANG("selectPIX");
};
t.prototype.onConfirmEx = function() {
l.default.inst.playGameEffect(l.AudioRes.click);
var e = this.cardHolder.string, t = this.bankNumber.string, o = {};
o.bankCode = this.node.currSelectBank.bank_code;
o.cardholder = e;
o.number = t;
o.type = 1;
o.bank_code = h.WithdrawCode.pix;
r.default.getInstance().updateBankInfo(o);
};
t.prototype.onSelectBankEx = function() {
l.default.inst.playGameEffect(l.AudioRes.click);
c.default.inst.showDlg(c.DlgType.selectPix);
};
return a([ p ], t);
}(d.default));
o.default = f;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../manager/DlgGameMgr": "DlgGameMgr",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase",
"../../proxy/bank/PlayerWithdraw": "PlayerWithdraw"
} ],
BindPixDialog: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f54b95T4L5DnJB+HH+OANT1", "BindPixDialog");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../public/MyComponent/GameHppayUtil"), c = e("../../executor/bank/BindPixDialogEX"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.cardHolder = null;
t.bankName = null;
t.bankNumber = null;
t.currSelectBank = {};
t.root = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new c.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
this.root = this.node.getChildByName("dlgBg");
this.root.getChildByName("closeBtn").on("click", this.onClose, this);
this.root.getChildByName("btnConfirm").on("click", this.onConfirm, this);
this.root.getChildByName("btnSelectBank").on("click", this.onSelectBank, this);
this.root.getChildByName("input1").on("click", this.onSelectBank, this);
this.cardHolder = this.root.getChildByName("editboxName").getComponent(cc.EditBox);
this.bankNumber = this.root.getChildByName("editboxCardNumber").getComponent(cc.EditBox);
this.bankName = this.root.getChildByName("bankName").getComponent(cc.Label);
this.root.getChildByName("btnConfirm").getComponent(cc.Button).interactable = !1;
this.cardHolder.node.on("editing-did-ended", this.onInputCardHolderNameEnded, this);
this.bankNumber.node.on("editing-did-ended", this.onInputBankNumberEnded, this);
};
t.prototype.updateLanguageUI = function() {
this.exView.updateLanguageUIEx();
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.updateLanguageUI();
s.default.labelShadow(this.root.getChildByName("labelTitle").getComponent(cc.Label), new cc.Color(223, 32, 193), cc.v2(0, -3));
if (null != this._data) {
this.cardHolder.string = this._data.cardholder || "";
this.bankNumber.string = this._data.number || "";
this.bankName.string = this._data.bankName || "";
this.currSelectBank.bank_code = this._data.bankCode;
this.currSelectBank.bank_name = this._data.bankName;
}
this.register("WithdrawBankInfoDialog", [ "CHOOSE_BANK_EVENT" ]);
};
t.prototype.onConfirm = function() {
this.exView.onConfirmEx();
};
t.prototype.onSelectBank = function() {
this.exView.onSelectBankEx();
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "CHOOSE_BANK_EVENT":
this.chooseBank(t);
}
};
t.prototype.chooseBank = function(e) {
console.log("currSelectBank", this.currSelectBank);
this.currSelectBank = e;
this.bankName.string = e.bank_name;
this.bankName.node.color = new cc.Color(255, 255, 255);
this.bankNumber.string = "";
this.onInputBankNameEnded();
};
t.prototype.onInputCardHolderNameEnded = function() {
"" != this.bankName.string && "" != this.cardHolder.string && "" != this.bankNumber.string && (this.root.getChildByName("btnConfirm").getComponent(cc.Button).interactable = !0);
};
t.prototype.onInputBankNameEnded = function() {
"" != this.bankName.string && "" != this.cardHolder.string && "" != this.bankNumber.string && (this.root.getChildByName("btnConfirm").getComponent(cc.Button).interactable = !0);
"EMAIL" == this.bankName.string ? this.bankNumber.inputMode = cc.EditBox.InputMode.EMAIL_ADDR : "CPF" == this.bankName.string || "PHONE" == this.bankName.string ? this.bankNumber.inputMode = cc.EditBox.InputMode.NUMERIC : this.bankNumber.inputMode = cc.EditBox.InputMode.SINGLE_LINE;
};
t.prototype.onInputBankNumberEnded = function() {
"" != this.bankName.string && "" != this.cardHolder.string && (this.root.getChildByName("btnConfirm").getComponent(cc.Button).interactable = !0);
};
return a([ d ], t);
}(r.default));
o.default = h;
cc._RF.pop();
}, {
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../executor/bank/BindPixDialogEX": "BindPixDialogEX"
} ],
BirdAnimalsData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a67e08rbT1G2I5jvmjusHkq", "BirdAnimalsData");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = cc._decorator, a = n.ccclass, r = (n.property, function() {
function e() {}
t = e;
e.prototype.start = function() {};
e.reset = function() {
t.startPosition = 1;
t.endPosition = 1;
};
var t;
e.roomInfo = null;
e.roomType = 1;
e.moneyType = 1;
e.playType = 1;
e.roomID = 0;
e.cardColor = 0;
e.minChip = 0;
e.maxChip = 0;
e.maxTie = 0;
e.maxFlush = 0;
e.leftCardsInBox = 0;
e.selfSeatID = 1;
e.selfMoney = 0;
e.cutCardPos = 0;
e.shuffleID = 0;
e.currSelectBet = 100;
e.currSelectBetIndex = 0;
e.trackTime = 10;
e.startPosition = 1;
e.endPosition = 1;
e.currGameStatus = "pause";
e.trackIconList = [ 0, 9, 8, 7, 3, 2, 6, 5, 4, 3, 7, 8, 9, 1, 4, 5, 6, 2, 3, 7, 8, 9, 2, 6, 5, 4 ];
e.spineAnimationNameList = [ "1", "L1", "L2", "L3", "R1", "R2", "R3", "animation", "down1", "down2", "down3", "up1", "up2", "up3" ];
e.waybillList = [ {
type: "trend_icon_shark",
name: "trend_icon_big_1"
}, {
type: "trend_icon_beast",
name: "trend_icon_big_9"
}, {
type: "trend_icon_beast",
name: "trend_icon_big_7"
}, {
type: "trend_icon_beast",
name: "trend_icon_big_5"
}, {
type: "trend_icon_beast",
name: "trend_icon_big_3"
}, {
type: "trend_icon_bird",
name: "trend_icon_big_4"
}, {
type: "trend_icon_bird",
name: "trend_icon_big_6"
}, {
type: "trend_icon_bird",
name: "trend_icon_big_8"
}, {
type: "trend_icon_bird",
name: "trend_icon_big_10"
}, {
type: "trend_icon_beast",
name: "trend_icon_big_3"
}, {
type: "trend_icon_beast",
name: "trend_icon_big_5"
}, {
type: "trend_icon_beast",
name: "trend_icon_big_7"
}, {
type: "trend_icon_beast",
name: "trend_icon_big_9"
}, {
type: "trend_icon_shark",
name: "trend_icon_big_2"
}, {
type: "trend_icon_bird",
name: "trend_icon_big_10"
}, {
type: "trend_icon_bird",
name: "trend_icon_big_8"
}, {
type: "trend_icon_bird",
name: "trend_icon_big_6"
}, {
type: "trend_icon_bird",
name: "trend_icon_big_4"
}, {
type: "trend_icon_beast",
name: "trend_icon_big_3"
}, {
type: "trend_icon_beast",
name: "trend_icon_big_5"
}, {
type: "trend_icon_beast",
name: "trend_icon_big_7"
}, {
type: "trend_icon_beast",
name: "trend_icon_big_9"
}, {
type: "trend_icon_bird",
name: "trend_icon_big_4"
}, {
type: "trend_icon_bird",
name: "trend_icon_big_6"
}, {
type: "trend_icon_beast",
name: "trend_icon_big_8"
}, {
type: "trend_icon_bird",
name: "trend_icon_big_10"
} ];
return t = i([ a ], e);
}());
o.default = r;
cc._RF.pop();
}, {} ],
BroadcastData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "99cdd+T6EJB+rr/nTFWUZgr", "BroadcastData");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i, n = e("../Dialog/Confirm"), a = e("../UIFrame/UIManager"), r = e("../Util/GameUtil");
(function(e) {
e[e.disposable_airing = 6] = "disposable_airing";
e[e.dialog_airing = 7] = "dialog_airing";
e[e.loop_airing = 8] = "loop_airing";
})(i || (i = {}));
var s = function() {
function e() {
this._oneData = [];
this._dialogData = [];
this._loopData = [];
this._loopNum = 0;
this._dialogNum = 0;
}
e.prototype.pushAiring = function(e) {
if (e.type == i.disposable_airing) this._oneData.push(e); else if (e.type == i.dialog_airing) {
this._dialogData.push(e);
this._dialogNum > 0 && this.getDiaolg();
} else if (e.type == i.loop_airing) {
this._loopData.push(e);
this._loopNum = this._loopData.length - 1;
}
};
e.prototype.getAiring = function() {
var e;
if (this._oneData.length > 0) {
e = r.default.copyData(this._oneData[0]);
this._oneData.shift();
} else if (this._loopData.length > 0) {
this._loopData.length <= this._loopNum && (this._loopNum = 0);
e = r.default.copyData(this._loopData[this._loopNum]);
this._loopNum += 1;
}
return e;
};
e.prototype.getDiaolg = function() {
if (this._dialogNum <= 0) {
this._dialogNum += 1;
return this._dialogData;
}
var e = this._dialogData[this._dialogData.length - 1];
if (r.default.isnull(e) && e.content) {
var t = new n.ConfirmData();
t.desc = e.content;
t.oneBtn = !0;
a.default.getInstance().openUIForm("prefab/dialog/confirm", [ t ]);
this._dialogNum += 1;
}
};
Object.defineProperty(e, "ins", {
get: function() {
this._inst || (this._inst = new e());
return this._inst;
},
enumerable: !1,
configurable: !0
});
return e;
}();
o.default = s;
cc._RF.pop();
}, {
"../Dialog/Confirm": "Confirm",
"../UIFrame/UIManager": "UIManager",
"../Util/GameUtil": "GameUtil"
} ],
BroadcastGameData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ea6b3tH88FGRriD0/G50SRo", "BroadcastGameData");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i, n = e("../dialog/proxy/GameConfirmDlg"), a = e("../public/ThirdParty/UIGameMgr"), r = e("../public/MyComponent/GameHppayUtil"), s = e("../manager/DlgGameMgr");
(function(e) {
e[e.disposable_airing = 6] = "disposable_airing";
e[e.dialog_airing = 7] = "dialog_airing";
e[e.loop_airing = 8] = "loop_airing";
})(i || (i = {}));
var c = function() {
function e() {
this._oneData = [];
this._dialogData = [];
this._loopData = [];
this._loopNum = 0;
this._dialogNum = 0;
}
e.prototype.pushAiring = function(e) {
if (e.type == i.disposable_airing) this._oneData.push(e); else if (e.type == i.dialog_airing) {
this._dialogData.push(e);
this._dialogNum > 0 && this.getDiaolg();
} else if (e.type == i.loop_airing) {
this._loopData.push(e);
this._loopNum = this._loopData.length - 1;
}
};
e.prototype.getAiring = function() {
var e;
if (this._oneData.length > 0) {
e = r.default.copyData(this._oneData[0]);
this._oneData.shift();
} else if (this._loopData.length > 0) {
this._loopData.length <= this._loopNum && (this._loopNum = 0);
e = r.default.copyData(this._loopData[this._loopNum]);
this._loopNum += 1;
}
return e;
};
e.prototype.getDiaolg = function() {
if (this._dialogNum <= 0) {
this._dialogNum += 1;
return this._dialogData;
}
var e = this._dialogData[this._dialogData.length - 1];
if (r.default.isnull(e) && e.content) {
var t = new n.ConfirmData();
t.desc = e.content;
t.oneBtn = !0;
a.default.inst().openUIForm(s.DlgType.confirm, [ t ]);
this._dialogNum += 1;
}
};
Object.defineProperty(e, "ins", {
get: function() {
this._inst || (this._inst = new e());
return this._inst;
},
enumerable: !1,
configurable: !0
});
return e;
}();
o.default = c;
cc._RF.pop();
}, {
"../dialog/proxy/GameConfirmDlg": "GameConfirmDlg",
"../manager/DlgGameMgr": "DlgGameMgr",
"../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../public/ThirdParty/UIGameMgr": "UIGameMgr"
} ],
CalculationLine: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "35c32AcRUNCqoBVAmHElFOV", "CalculationLine");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function() {
function e() {}
e.getInstance = function() {
this.instance || (this.instance = new e());
return this.instance;
};
e.prototype.setWaybillData = function(e) {
for (var t = [], o = 0; o < e.length; o++) t[o] = e[o].result;
var i = this.DlWaybill(t, e), n = this.sortWaybill(t);
return [ i, n, this.DyzWaybill(n), this.XlWayBill(n), this.YyWayBill(n) ];
};
e.prototype.setCustomLengthWaybillData = function(t, o) {
for (var i = [], n = 0; n < t.length; n++) i[n] = t[n].result;
var a = o.dlLength || e.dlAutoLength, r = o.dyzLength || e.dyzlAutoLength, s = o.xlLength || e.xlAutoLength, c = o.yylLength || e.yylAutoLength, l = o.yylColumn || 6, d = this.DlWaybill(i, t, a), h = this.sortWaybill(i);
return [ d, h, this.DyzWaybill(h, r), this.XlWayBill(h, s), this.YyWayBill(h, c, l) ];
};
e.prototype.setRoomListWaybillData = function(e, t) {
for (var o = [], i = 0; i < e.length; i++) o[i] = e[i].result;
var n = this.DlWaybill(o, e, 1), a = this.sortWaybill(o), r = 12;
t && (r = t);
return [ n, a, this.DyzWaybill(a, 1), this.XlWayBill(a, 1), this.YyWayBill(a, 1, r) ];
};
e.prototype.getZplWayBill = function(t, o) {
var i = [];
this.zplNumList = [];
var n = e.zplAutoLength;
o && (n = o);
for (var a = 0; a < n; a++) {
i[a] = [];
this.zplNumList[a] = [];
for (var r = 0; r < 6; r++) {
i[a][r] = {
result: 0
};
this.zplNumList[a][r] = 0;
}
}
for (var s = 0, c = 0, l = 0, d = 0; d < t.length; d++) {
if (!i[s]) {
i.push([ {
result: 0
}, {
result: 0
}, {
result: 0
}, {
result: 0
}, {
result: 0
}, {
result: 0
} ]);
this.zplNumList.push([ 0, 0, 0, 0, 0, 0 ]);
}
i[s][c] = t[d];
l += 1;
this.zplNumList[s][c] = l;
if (6 == (c += 1)) {
c = 0;
s += 1;
}
}
return i;
};
e.prototype.YyWayBill = function(t, o, i) {
var n = t, a = [], r = [];
this.yylNumList = [];
var s = e.yylAutoLength, c = 6;
o && (s = o);
i && (c = i);
for (var l = 0; l < s; l++) {
r[l] = [];
this.yylNumList[l] = [];
for (var d = 0; d < c; d++) {
r[l][d] = 0;
this.yylNumList[l][d] = 0;
}
}
if (n.length < 4) return r;
if (n[3][1]) a = [ 3, 1 ]; else {
if (!n[4] || !n[4][0]) return r;
a = [ 4, 0 ];
}
var h, u = 0, p = 0, f = 0, m = 0;
function g(e, t, o) {
if (o >= 2) {
var i = null != e[t - 3][o] ? 1 : 2, n = null != e[t - 3][o - 1] ? 1 : 2;
return 1 == i ? i : 1 == n ? i : 1;
}
return null != e[t - 3][o] ? 1 : 2;
}
function y(e, t) {
return e[t - 1].length == e[t - 4].length ? 1 : 2;
}
var _ = !0, C = c - 1;
for (l = a[0]; l < n.length; l++) for (d = 0; d < n[l].length; d++) if (0 == u && 0 == p && _) {
if (3 == a[0] && 1 == d) {
h = g(n, l, d);
_ = !1;
} else if (4 == a[0]) {
h = y(n, l);
_ = !1;
}
if (!_) {
r[u + f][p] = h;
m += 1;
this.yylNumList[u + f][p] = m;
}
} else {
if ((h = 0 == d ? y(n, l) : g(n, l, d)) == r[u + f][p]) p < C && 0 == r[u + f][p + 1] ? p += 1 : f += 1; else {
u += 1;
p = 0;
f = 0;
}
if (!r[u + f]) {
r[u + f] = [ 0, 0, 0, 0, 0, 0 ];
this.yylNumList[u + f] = [ 0, 0, 0, 0, 0, 0 ];
if (i) if (6 == i) {
r[u + f] = [ 0, 0, 0, 0, 0, 0 ];
this.yylNumList[u + f] = [ 0, 0, 0, 0, 0, 0 ];
} else {
r[u + f] = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
this.yylNumList[u + f] = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
}
}
r[u + f][p] = h;
m += 1;
this.yylNumList[u + f][p] = m;
}
return r;
};
e.prototype.XlWayBill = function(t, o) {
var i = t, n = [], a = [];
this.xlNumList = [];
var r = e.xlAutoLength;
o && (r = o);
for (var s = 0; s < r; s++) {
a[s] = [];
this.xlNumList[s] = [];
for (var c = 0; c < 6; c++) {
a[s][c] = 0;
this.xlNumList[s][c] = 0;
}
}
if (i.length < 3) return a;
if (i[2][1]) n = [ 2, 1 ]; else {
if (!i[3] || !i[3][0]) return a;
n = [ 3, 0 ];
}
var l, d = 0, h = 0, u = 0, p = 0;
function f(e, t, o) {
if (o >= 2) {
var i = null != e[t - 2][o] ? 1 : 2, n = null != e[t - 2][o - 1] ? 1 : 2;
return 1 == i ? i : 1 == n ? i : 1;
}
return null != e[t - 2][o] ? 1 : 2;
}
function m(e, t) {
return e[t - 1].length == e[t - 3].length ? 1 : 2;
}
var g = !0;
for (s = n[0]; s < i.length; s++) for (c = 0; c < i[s].length; c++) if (0 == d && 0 == h && g) {
if (2 == n[0] && 1 == c) {
l = f(i, s, c);
g = !1;
} else if (3 == n[0]) {
l = m(i, s);
g = !1;
}
if (!g) {
a[d + u][h] = l;
p += 1;
this.xlNumList[d + u][h] = p;
}
} else {
if ((l = 0 == c ? m(i, s) : f(i, s, c)) == a[d + u][h]) h < 5 && 0 == a[d + u][h + 1] ? h += 1 : u += 1; else {
d += 1;
h = 0;
u = 0;
}
if (!a[d + u]) {
a[d + u] = [ 0, 0, 0, 0, 0, 0 ];
this.xlNumList[d + u] = [ 0, 0, 0, 0, 0, 0 ];
}
a[d + u][h] = l;
p += 1;
this.xlNumList[d + u][h] = p;
}
return a;
};
e.prototype.DyzWaybill = function(t, o) {
var i = t, n = [], a = [];
this.dyzNumList = [];
var r = e.dyzlAutoLength;
o && (r = o);
for (var s = 0; s < r; s++) {
a[s] = [];
this.dyzNumList[s] = [];
for (var c = 0; c < 6; c++) {
a[s][c] = 0;
this.dyzNumList[s][c] = 0;
}
}
if (i.length < 2) return a;
if (i[1][1]) n = [ 1, 1 ]; else {
if (!i[2] || !i[2][0]) return a;
n = [ 2, 0 ];
}
var l, d = 0, h = 0, u = 0;
function p(e, t, o) {
if (o >= 2) {
var i = null != e[t - 1][o] ? 1 : 2, n = null != e[t - 1][o - 1] ? 1 : 2;
return 1 == i ? i : 1 == n ? i : 1;
}
return null != e[t - 1][o] ? 1 : 2;
}
function f(e, t) {
return e[t - 1].length == e[t - 2].length ? 1 : 2;
}
var m = !0, g = 0;
for (s = n[0]; s < i.length; s++) for (c = 0; c < i[s].length; c++) if (0 == d && 0 == h && m) {
if (1 == n[0] && 1 == c) {
l = p(i, s, c);
m = !1;
} else if (2 == n[0]) {
l = f(i, s);
m = !1;
}
if (!m) {
a[d + u][h] = l;
g += 1;
this.dyzNumList[d + u][h] = g;
}
} else {
if ((l = 0 == c ? f(i, s) : p(i, s, c)) == a[d + u][h]) h <= 5 && 0 == a[d + u][h + 1] ? h += 1 : u += 1; else {
d += 1;
h = 0;
u = 0;
}
if (!a[d + u]) {
a[d + u] = [ 0, 0, 0, 0, 0, 0 ];
this.dyzNumList[d + u] = [ 0, 0, 0, 0, 0, 0 ];
}
a[d + u][h] = l;
g += 1;
this.dyzNumList[d + u][h] = g;
}
return a;
};
e.prototype.sortWaybill = function(e) {
for (var t = [], o = [], i = -1, n = 0; n < e.length; n++) {
var a = e[n];
if (3 != a) if (-1 == i) {
i = a;
o[o.length] = a;
} else {
if (i == a) o[o.length] = a; else if (i != a) {
t[t.length] = o;
(o = [])[o.length] = a;
}
i = a;
}
n == e.length - 1 && (t[t.length] = o);
}
return t;
};
e.prototype.DlWaybill = function(t, o, i) {
var n = t, a = [];
this.dlNumList = [];
var r = e.dlAutoLength;
i && (r = i);
for (var s = 0; s < r; s++) {
a[s] = [];
this.dlNumList[s] = [];
for (var c = 0; c < 6; c++) {
a[s][c] = {
id: 0,
pice: 0,
player: 0,
banker: 0,
lucky: 0
};
this.dlNumList[s][c] = 0;
}
}
var l = 0, d = 0, h = 0, u = 0;
for (s = 0; s < n.length; s++) {
var p = n[s];
if (!a[l + h]) {
a[l + h] = [ {
id: 0,
pice: 0,
player: 0,
banker: 0,
lucky: 0
}, {
id: 0,
pice: 0,
player: 0,
banker: 0,
lucky: 0
}, {
id: 0,
pice: 0,
player: 0,
banker: 0,
lucky: 0
}, {
id: 0,
pice: 0,
player: 0,
banker: 0,
lucky: 0
}, {
id: 0,
pice: 0,
player: 0,
banker: 0,
lucky: 0
}, {
id: 0,
pice: 0,
player: 0,
banker: 0,
lucky: 0
} ];
this.dlNumList[l + h] = [ 0, 0, 0, 0, 0, 0 ];
}
if (3 != p) {
a[l + h][d].id = p;
u += 1;
this.dlNumList[l + h][d] = u;
o[s].playerPair && (a[l + h][d].player = 1);
o[s].bankerPair && (a[l + h][d].banker = 1);
o[s].tager && (a[l + h][d].lucky = 1);
if (n[s + 1] != p && 3 != n[s + 1]) {
l += 1;
d = 0;
h = 0;
}
n[s + 1] == p && 3 != n[s + 1] && (d < 5 && 0 == a[l + h][d + 1].id ? d += 1 : h += 1);
} else {
a[l + h][d].pice += 1;
if (n[s + 1] == a[l + h][d].id) a[l + h][d + 1] && 0 == a[l + h][d + 1].id ? d += 1 : h += 1; else if (n[s + 1] != a[l + h][d].id && 3 != n[s + 1]) if (3 == n[0] && 0 == s) d = 0; else if (3 == n[0] && 3 == n[1] && s <= 1) d = 0; else if (0 == l && 0 == d) {
l += 1;
d = 0;
h = 0;
} else {
l += 1;
d = 0;
h = 0;
}
}
}
return a;
};
e.zplAutoLength = 9;
e.dlAutoLength = 15;
e.dyzlAutoLength = 30;
e.xlAutoLength = 30;
e.yylAutoLength = 30;
return e;
}();
o.default = i;
cc._RF.pop();
}, {} ],
CardCreator: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "afee5YdoWBJxIvk5z4EtjbH", "CardCreator");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.CardColor = o.CardColorType = o.CardBackColor = void 0;
var n, a, r, s = e("../Conf/Const"), c = e("../Conf/ScreenAdapter"), l = e("../Util/GameUtil"), d = e("../Util/SpritePreLoader");
(function(e) {
e[e.red = 1] = "red";
e[e.yellow = 2] = "yellow";
e[e.blue = 3] = "blue";
e[e.cut = 99] = "cut";
})(n = o.CardBackColor || (o.CardBackColor = {}));
(function(e) {
e.spade = "spade";
e.heart = "heart";
e.club = "club";
e.diamond = "diamond";
})(a = o.CardColorType || (o.CardColorType = {}));
(function(e) {
e[e.spade = 1] = "spade";
e[e.heart = 2] = "heart";
e[e.club = 3] = "club";
e[e.diamond = 4] = "diamond";
})(r = o.CardColor || (o.CardColor = {}));
var h = cc._decorator, u = h.ccclass, p = (h.property, function() {
function e() {
this.cardNums = [ 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 770, 771, 772, 773, 774, 775, 776, 777, 778, 779, 780, 781, 782, 1026, 1027, 1028, 1029, 1030, 1031, 1032, 1033, 1034, 1035, 1036, 1037, 1038 ];
this.cardColorPositionConfig = {
2: {
count: 2,
pointArr: [ {
x: 0,
y: 294,
angle: 0
}, {
x: 0,
y: -294,
angle: 180
} ]
},
3: {
count: 3,
pointArr: [ {
x: 0,
y: 294,
angle: 0
}, {
x: 0,
y: 0,
angle: 0
}, {
x: 0,
y: -294,
angle: 180
} ]
},
4: {
count: 4,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
5: {
count: 5,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: 0,
y: 0,
angle: 0
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
6: {
count: 6,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: -140,
y: 0,
angle: 0
}, {
x: 138,
y: 0,
angle: 0
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
7: {
count: 7,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: 0,
y: 147,
angle: 0
}, {
x: -140,
y: 0,
angle: 0
}, {
x: 138,
y: 0,
angle: 0
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
8: {
count: 8,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: 0,
y: 147,
angle: 0
}, {
x: -140,
y: 0,
angle: 0
}, {
x: 138,
y: 0,
angle: 0
}, {
x: 0,
y: -147,
angle: 180
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
9: {
count: 9,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: -140,
y: 98,
angle: 0
}, {
x: 138,
y: 98,
angle: 0
}, {
x: 0,
y: 0,
angle: 0
}, {
x: -140,
y: -98,
angle: 180
}, {
x: 138,
y: -98,
angle: 180
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
10: {
count: 10,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: 0,
y: 196,
angle: 0
}, {
x: -140,
y: 98,
angle: 0
}, {
x: 138,
y: 98,
angle: 0
}, {
x: -140,
y: -98,
angle: 180
}, {
x: 138,
y: -98,
angle: 180
}, {
x: 0,
y: -196,
angle: 180
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
11: {
count: 1,
pointArr: [ {
x: 0,
y: 0,
angle: 0
} ]
},
12: {
count: 1,
pointArr: [ {
x: 0,
y: 0,
angle: 0
} ]
},
13: {
count: 1,
pointArr: [ {
x: 0,
y: 0,
angle: 0
} ]
},
14: {
count: 1,
pointArr: [ {
x: 0,
y: 0,
angle: 0
} ]
}
};
this.strCardColor = {
S: 1,
H: 2,
C: 3,
D: 4
};
this.strCardValue = {
A: 14,
2: 2,
3: 3,
4: 4,
5: 5,
6: 6,
7: 7,
8: 8,
9: 9,
T: 10,
J: 11,
Q: 12,
K: 13
};
this.cardColorFrameJ = null;
this.cardColorFrameQ = null;
this.cardColorFrameK = null;
this.cardColorFrame = null;
this.cardColorFrameSmall = null;
this.cardRedNum = null;
this.cardBlackNum = null;
}
t = e;
e.prototype.init = function() {
this.cardColorFrameJ = [ d.SPCache.pokerColorCardsJ[a.spade], d.SPCache.pokerColorCardsJ[a.heart], d.SPCache.pokerColorCardsJ[a.club], d.SPCache.pokerColorCardsJ[a.diamond] ];
this.cardColorFrameQ = [ d.SPCache.pokerColorCardsQ[a.spade], d.SPCache.pokerColorCardsQ[a.heart], d.SPCache.pokerColorCardsQ[a.club], d.SPCache.pokerColorCardsQ[a.diamond] ];
this.cardColorFrameK = [ d.SPCache.pokerColorCardsK[a.spade], d.SPCache.pokerColorCardsK[a.heart], d.SPCache.pokerColorCardsK[a.club], d.SPCache.pokerColorCardsK[a.diamond] ];
this.cardColorFrame = [ d.SPCache.pokerColors[a.spade], d.SPCache.pokerColors[a.heart], d.SPCache.pokerColors[a.club], d.SPCache.pokerColors[a.diamond] ];
this.cardColorFrameSmall = [ d.SPCache.pokerColorsSmall[a.spade], d.SPCache.pokerColorsSmall[a.heart], d.SPCache.pokerColorsSmall[a.club], d.SPCache.pokerColorsSmall[a.diamond] ];
this.cardRedNum = [ d.SPCache.pokerRedNumbers[2], d.SPCache.pokerRedNumbers[3], d.SPCache.pokerRedNumbers[4], d.SPCache.pokerRedNumbers[5], d.SPCache.pokerRedNumbers[6], d.SPCache.pokerRedNumbers[7], d.SPCache.pokerRedNumbers[8], d.SPCache.pokerRedNumbers[9], d.SPCache.pokerRedNumbers[10], d.SPCache.pokerRedNumbers[11], d.SPCache.pokerRedNumbers[12], d.SPCache.pokerRedNumbers[13], d.SPCache.pokerRedNumbers[14] ];
this.cardBlackNum = [ d.SPCache.pokerBlackNumbers[2], d.SPCache.pokerBlackNumbers[3], d.SPCache.pokerBlackNumbers[4], d.SPCache.pokerBlackNumbers[5], d.SPCache.pokerBlackNumbers[6], d.SPCache.pokerBlackNumbers[7], d.SPCache.pokerBlackNumbers[8], d.SPCache.pokerBlackNumbers[9], d.SPCache.pokerBlackNumbers[10], d.SPCache.pokerBlackNumbers[11], d.SPCache.pokerBlackNumbers[12], d.SPCache.pokerBlackNumbers[13], d.SPCache.pokerBlackNumbers[14] ];
};
e.prototype.getCardFront = function() {
var e = new cc.Node();
e.addComponent(cc.Sprite);
e.getComponent(cc.Sprite).spriteFrame = d.SPCache.pokerFront;
return e;
};
e.prototype.getCardBack = function(e, t) {
var o = new cc.Node();
o.addComponent(cc.Sprite);
if (e == n.blue) o.getComponent(cc.Sprite).spriteFrame = t ? d.SPCache.pokerBgBlueSmall : d.SPCache.pokerBgBlue; else if (e == n.red) o.getComponent(cc.Sprite).spriteFrame = t ? d.SPCache.pokerBgRedSmall : d.SPCache.pokerBgRed; else if (e == n.yellow) o.getComponent(cc.Sprite).spriteFrame = t ? d.SPCache.pokerBgYellowSmall : d.SPCache.pokerBgYellow; else {
if (e != n.cut) return null;
o.getComponent(cc.Sprite).spriteFrame = d.SPCache.pokerCardRandom;
}
return o;
};
e.prototype.getHalfCard = function(e) {
var t = Math.floor(e / 256), o = e % 16, i = new cc.Node();
i.addComponent(cc.Sprite);
i.getComponent(cc.Sprite).spriteFrame = d.SPCache.tinyHalfCardBg;
i.name = e + "";
var n = new cc.Node();
n.addComponent(cc.Sprite);
n.getComponent(cc.Sprite).spriteFrame = this.getTinyCardNum(o, t);
1 != t && 3 != t || (n.color = new cc.Color(37, 33, 47, 255));
n.x = -11;
n.y = 0;
n.scale = .36;
n.parent = i;
var a = new cc.Node();
a.addComponent(cc.Sprite);
a.getComponent(cc.Sprite).spriteFrame = this.getTinyCardColor(o, t);
a.scale = .24;
a.x = 10;
a.y = 0;
a.parent = i;
return i;
};
e.prototype.refreshCardWithStr = function(e, t, o) {
var i = this.strCardColor[t.charAt(1)], n = this.strCardValue[t.charAt(0)], a = e.getChildByName("topNum");
null != a && (a.getComponent(cc.Sprite).spriteFrame = this.getTinyCardNum(n, i));
var r = e.getChildByName("topColor");
if (null != r) {
r.getComponent(cc.Sprite).spriteFrame = this.getTinyCardColor(n, i);
a.color = 1 == i || 3 == i ? new cc.Color(37, 33, 47, 255) : new cc.Color(255, 255, 255, 255);
}
var s = e.getChildByName("cardIcon");
if (null != s) {
s.getComponent(cc.Sprite).spriteFrame = this.getTinyCardIcon(n, i);
if (n >= 11 && n <= 13) {
s.x = 1;
s.y = -5;
} else {
s.x = 18;
s.y = -36;
}
}
var c = e.getChildByName("cardIndex");
null != c && (c.getComponent(cc.Label).string = l.default.formatNumberToStr(o, 3));
};
e.prototype.getTinyCardWithStr = function(e, t, o, i, n) {
if (444 == t) return this.getRandomCard();
if ("" == e) return this.getTinyCardBack(t, o, i, n);
var a = o, r = i;
null == a && (a = !0);
null == r && (r = !0);
var s = this.strCardColor[e.charAt(1)], c = this.strCardValue[e.charAt(0)], h = new cc.Node();
h.name = "card";
h.addComponent(cc.Sprite);
h.getComponent(cc.Sprite).spriteFrame = d.SPCache.tinyPokerFront;
h.name = e;
var u = new cc.Node();
u.addComponent(cc.Sprite);
u.getComponent(cc.Sprite).spriteFrame = this.getTinyCardNum(c, s);
1 != s && 3 != s || (u.color = new cc.Color(37, 33, 47, 255));
u.x = -42;
u.y = 56;
u.name = "topNum";
u.parent = h;
var p = new cc.Node();
p.addComponent(cc.Sprite);
p.getComponent(cc.Sprite).spriteFrame = this.getTinyCardColor(c, s);
p.scale = .5;
p.x = -42;
p.y = 3;
p.parent = h;
p.name = "topColor";
var f = new cc.Node();
f.addComponent(cc.Sprite);
f.getComponent(cc.Sprite).spriteFrame = this.getTinyCardIcon(c, s);
f.parent = h;
f.name = "cardIcon";
if (t) {
var m = new cc.Node();
m.addComponent(cc.Sprite);
m.getComponent(cc.Sprite).spriteFrame = d.SPCache.tinyPokerFlag;
m.anchorX = 0;
m.anchorY = 0;
m.x = -70;
m.y = -93;
m.parent = h;
m.opacity = r ? 255 : 0;
var g = new cc.Node();
g.addComponent(cc.Label);
g.getComponent(cc.Label).string = l.default.formatNumberToStr(t, 3);
g.getComponent(cc.Label).fontSize = 34;
g.getComponent(cc.Label).enableBold = !0;
g.addComponent(cc.LabelOutline);
g.getComponent(cc.LabelOutline).color = new cc.Color(255, 255, 255);
g.getComponent(cc.LabelOutline).width = 5;
g.color = new cc.Color(79, 79, 79);
g.anchorY = 1;
g.anchorX = 1;
g.x = 57;
g.y = 85;
g.name = "cardIndex";
g.parent = h;
g.opacity = a ? 255 : 0;
}
if (c >= 11 && c <= 13) {
f.x = 1;
f.y = -5;
} else {
f.x = 18;
f.y = -36;
}
return h;
};
e.prototype.getTinyCard = function(e, t) {
if (0 == e) return this.getTinyCardBack(t);
var o = Math.floor(e / 256), i = e % 16, n = new cc.Node();
n.addComponent(cc.Sprite);
n.getComponent(cc.Sprite).spriteFrame = d.SPCache.tinyPokerFront;
n.name = e + "";
var a = new cc.Node();
a.addComponent(cc.Sprite);
a.getComponent(cc.Sprite).spriteFrame = this.getTinyCardNum(i, o);
1 != o && 3 != o || (a.color = new cc.Color(37, 33, 47, 255));
a.x = -42;
a.y = 56;
a.parent = n;
var r = new cc.Node();
r.addComponent(cc.Sprite);
r.getComponent(cc.Sprite).spriteFrame = this.getTinyCardColor(i, o);
r.scale = .5;
r.x = -42;
r.y = 3;
r.parent = n;
var s = new cc.Node();
s.addComponent(cc.Sprite);
s.getComponent(cc.Sprite).spriteFrame = this.getTinyCardIcon(i, o);
s.parent = n;
if (t = 0) {
var c = new cc.Node();
c.addComponent(cc.Sprite);
c.getComponent(cc.Sprite).spriteFrame = d.SPCache.tinyPokerFlag;
c.anchorX = 0;
c.anchorY = 0;
c.x = -70;
c.y = -93;
c.parent = n;
var h = new cc.Node();
h.addComponent(cc.Label);
h.getComponent(cc.Label).string = l.default.formatNumberToStr(t, 3);
h.getComponent(cc.Label).fontSize = 34;
h.getComponent(cc.Label).enableBold = !0;
h.addComponent(cc.LabelOutline);
h.getComponent(cc.LabelOutline).color = new cc.Color(255, 255, 255);
h.getComponent(cc.LabelOutline).width = 5;
h.color = new cc.Color(79, 79, 79);
h.anchorY = 1;
h.anchorX = 1;
h.x = 65;
h.y = 95;
h.name = "cardIndex";
h.parent = n;
}
if (i >= 11 && i <= 13) {
s.x = 1;
s.y = -5;
} else {
s.x = 18;
s.y = -36;
}
return n;
};
e.prototype.getTinyCardNum = function(e) {
return d.SPCache.tinyPokerRedNumberIcon[e + ""];
};
e.prototype.getTinyCardColor = function(e, t) {
return d.SPCache.tinyPokerBigIcon[t + ""];
};
e.prototype.getTinyCardIcon = function(e, t) {
return e <= 10 && e >= 2 ? d.SPCache.tinyPokerBigIcon[t + ""] : 11 == e ? 1 == t || 3 == t ? d.SPCache.tinyPokerIconBlackJ : d.SPCache.tinyPokerIconRedJ : 12 == e ? 1 == t || 3 == t ? d.SPCache.tinyPokerIconBlackQ : d.SPCache.tinyPokerIconRedQ : 13 == e ? 1 == t || 3 == t ? d.SPCache.tinyPokerIconBlackQ : d.SPCache.tinyPokerIconRedQ : 14 == e ? 1 == t ? d.SPCache.tinyPokerSpadeA : d.SPCache.tinyPokerBigIcon[t + ""] : void 0;
};
e.prototype.getTinyCardBack = function(e, t, o, i) {
var n = new cc.Node();
n.addComponent(cc.Sprite);
n.name = "cardBack";
null == i ? n.getComponent(cc.Sprite).spriteFrame = d.SPCache.tinyPokerBack : 1 == i ? n.getComponent(cc.Sprite).spriteFrame = d.SPCache.pokerBgRedSmall : 2 == i ? n.getComponent(cc.Sprite).spriteFrame = d.SPCache.pokerBgYellowSmall : 3 == i && (n.getComponent(cc.Sprite).spriteFrame = d.SPCache.pokerBgBlueSmall);
n.name = "0";
null == t && !0;
null == o && !0;
return n;
};
e.prototype.getCard = function(e) {
var t = Math.floor(e / 256), o = e % 16, i = new cc.Node();
i.addComponent(cc.Sprite);
i.getComponent(cc.Sprite).spriteFrame = d.SPCache.pokerFront;
var n = new cc.Node();
n.x = 0;
n.y = 0;
n.parent = i;
this.setCenterColor(n, o, t);
var a = new cc.Node();
a.x = 0;
a.y = 0;
a.parent = i;
a.name = "cardValueNode";
var r = new cc.Node();
r.addComponent(cc.Sprite);
r.getComponent(cc.Sprite).spriteFrame = this.getCardNum(o, t);
r.x = -278;
r.y = 363;
r.parent = a;
var s = new cc.Node();
s.addComponent(cc.Sprite);
s.getComponent(cc.Sprite).spriteFrame = this.getCardColor(o, t);
s.x = -278;
s.y = 257;
s.parent = a;
var c = new cc.Node();
c.addComponent(cc.Sprite);
c.getComponent(cc.Sprite).spriteFrame = this.getCardNum(o, t);
c.x = 277;
c.y = -362;
c.angle = 180;
c.parent = a;
var l = new cc.Node();
l.addComponent(cc.Sprite);
l.getComponent(cc.Sprite).spriteFrame = this.getCardColor(o, t);
l.x = 277;
l.y = -256;
l.angle = 180;
l.parent = a;
return i;
};
e.prototype.getCardWithoutValue = function(e) {
var t = Math.floor(e / 256), o = e % 16, i = new cc.Node();
i.addComponent(cc.Sprite);
i.getComponent(cc.Sprite).spriteFrame = d.SPCache.pokerFront;
i.x = 5e3;
i.y = 5e3;
var n = new cc.Node();
n.x = 0;
n.y = 0;
n.parent = i;
this.setCenterColor(n, o, t);
i.parent = cc.find("Canvas");
var a = i.addComponent(cc.Camera);
a.zoomRatio = 1.15;
c.default.getInstance().screenType == s.screenTypeEnum.isIphone6Szie ? a.zoomRatio = 1.08 : c.default.getInstance().screenType == s.screenTypeEnum.isIpad && (a.zoomRatio = 1.65);
var r = new cc.RenderTexture();
r.initWithSize(i.width, i.height, cc.RenderTexture.DepthStencilFormat.RB_FMT_S8);
a.targetTexture = r;
a.render();
var l = new cc.SpriteFrame();
l.setTexture(r);
var h = new cc.Node();
h.addComponent(cc.Sprite);
h.getComponent(cc.Sprite).spriteFrame = l;
i.removeFromParent(!0);
return h;
};
e.prototype.setCenterColor = function(e, t, o) {
var i = null;
t <= 10 ? i = this.cardColorFrame[o - 1] : t <= 13 ? 11 == t ? i = this.cardColorFrameJ[o - 1] : 12 == t ? i = this.cardColorFrameQ[o - 1] : 13 == t && (i = this.cardColorFrameK[o - 1]) : 14 == t && (i = o == r.spade ? d.SPCache.pokerColorSpadeA : this.cardColorFrame[o - 1]);
var n = this.cardColorPositionConfig[t];
if (n) for (var a = 0; a < n.count; a++) {
var s = new cc.Node();
s.angle = n.pointArr[a].angle;
s.addComponent(cc.Sprite);
s.getComponent(cc.Sprite).spriteFrame = i;
s.setPosition(n.pointArr[a].x, n.pointArr[a].y);
s.parent = e;
} else console.log("", "card num = ", t, "  color = ", o);
};
e.prototype.getCardNum = function(e, t) {
return t == r.spade || t == r.club ? this.cardBlackNum[e - 2] : this.cardRedNum[e - 2];
};
e.prototype.getCardColor = function(e, t) {
return this.cardColorFrameSmall[t - 1];
};
e.prototype.getShoesCard = function() {
var e = new cc.Node();
e.addComponent(cc.Sprite);
e.getComponent(cc.Sprite).spriteFrame = d.SPCache.pokerShoesCard;
return e;
};
e.prototype.getRandomCard = function() {
var e = new cc.Node();
e.addComponent(cc.Sprite);
e.getComponent(cc.Sprite).spriteFrame = d.SPCache.pokerCardRandom;
e.name = "cutCard";
return e;
};
e.prototype.getCutCard = function() {
var e = new cc.Node();
e.addComponent(cc.Sprite);
e.getComponent(cc.Sprite).spriteFrame = d.SPCache.pokerCardCut;
return e;
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ u ], e);
}());
o.default = p;
cc._RF.pop();
}, {
"../Conf/Const": "Const",
"../Conf/ScreenAdapter": "ScreenAdapter",
"../Util/GameUtil": "GameUtil",
"../Util/SpritePreLoader": "SpritePreLoader"
} ],
CardLayerScript: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "aff13zQBztHPJYW/998w2op", "CardLayerScript");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r, s = e("../Components/MyEvent"), c = e("../Conf/BaccatRoomConf"), l = e("../Conf/Const"), d = e("../Data/GameData"), h = e("../Data/LanguageData"), u = e("../Data/RoomData"), p = e("../Http/MyHttp"), f = e("../Manager/CardCreator"), m = e("../Manager/CardManager"), g = e("../Manager/DialogManager"), y = e("../Socket/WebSocketManager"), _ = e("../UIFrame/CocosHelper"), C = e("../UIFrame/SoundMgr"), b = e("../UIFrame/UIManager"), v = e("../Util/GameUtil"), S = e("../Util/SpritePreLoader"), I = e("../Util/test"), B = cc._decorator, w = B.ccclass, N = B.property;
(function(e) {
e[e.cut = 0] = "cut";
e[e.player = 1] = "player";
e[e.banker = 2] = "banker";
})(r || (r = {}));
var L = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.cutCard = null;
t.playerCardNumList = [];
t.bankerCardNumList = [];
t.totalCardList = [];
t._cardSize = {
x: 112 / 634,
y: 150 / 936
};
t._playerCardArr = [];
t._bankerCardArr = [];
t._playerOpenFrama = 0;
t._bankerOpenFrama = 0;
t._playingCardszIndex = 30;
t._timeX = 0;
t._endingPointList = [ 0, 0 ];
t.cutCardIndex = 0;
t._cutCardList = [];
t._cardList = [];
t._activeCutCard = !1;
return t;
}
t.prototype.onLoad = function() {
this._dealer = this.node.getChildByName("lid");
this._dealCardPos = c.default.getInstance().dealCardPos;
this._openCardBtn = this.node.getChildByName("openCardBtn");
this._countdown = this._openCardBtn.getChildByName("countdown");
this._openCardBtn.active = !1;
this._openCardBtn.zIndex = 100;
this._openCardLabel = v.default.seekChild(this._openCardBtn, "label");
this._dealer.x = c.default.getInstance().cardBox.x;
this._dealer.zIndex = c.default.getInstance().cardBox.zIndex;
this._settlementBg = this.node.parent.getChildByName("tableLayer").getChildByName("settlement");
this._playerPoint = this._settlementBg.getChildByName("playerLabel");
this._bankerPoint = this._settlementBg.getChildByName("bankerLabel");
this.setLabelString();
};
t.prototype.start = function() {
this._openCardBtn.on("click", this.onOpenCard, this);
};
t.prototype.dealCards = function(e, t) {
v.default.isnull(this._cutCard) && this.closingAnimation(this._cutCard);
b.default.getInstance().closeUIForm("prefab/dialog/cutCardTips");
this.cutCardIndex = 0;
this._playerCardArr = [];
this._bankerCardArr = [];
this._endingPointList = [ 0, 0 ];
this._cutCardData = null;
this.claerCard();
for (var o = 0; o < e.length; o++) {
if (e[o].whose == r.player) {
this._playerCardArr.push(e[o]);
this._endingPointList[0] += v.default.getCardPoint(e[o].card);
} else if (e[o].whose == r.banker) {
this._bankerCardArr.push(e[o]);
this._endingPointList[1] += v.default.getCardPoint(e[o].card);
} else this._cutCardData = {
index: o,
data: e
};
if (o == e.length - 1) {
this._endingPointList[0] = this._endingPointList[0] % 10;
this._endingPointList[1] = this._endingPointList[1] % 10;
}
}
if (!t) {
this._removeSubstituteBtn();
if (e[0].whose == r.cut) this.startThecutCard(0, !0); else {
this._cutCardData && this._cutCardData.index && (this.cutCardIndex = this._cutCardData.index);
if (this._cutCardData && this._cutCardData.index <= 3) {
this.startThecutCard(this._cutCardData.index);
this.startTheDeal(this._cutCardData.index);
} else this.startTheDeal(0);
}
}
};
t.prototype.startThecutCard = function(e, t) {
var o = this, i = 0;
if ("deal_card" == d.default.roomData.gameState) switch (e) {
case 1:
i = 1;
break;

case 2:
i = 1.8;
break;

case 3:
i = 2.6;
}
this._cutCard = new cc.Node();
this._cutCard.addComponent(cc.Sprite);
this._cutCard.getComponent(cc.Sprite).spriteFrame = S.SPCache.pokerCardRandom;
this._cutCard.scale = .5;
var n = c.default.getInstance().cutCardPos[5][1];
this.moveCard(this._cutCard, {
scaleX: this._cardSize.x,
scaleY: this._cardSize.y,
moveTime: .2,
delayTime: i,
pointX: n.x,
pointY: n.y
}, !1, !0);
var a = t;
a || (d.default.roomData.isTheLastGame = !0);
this.scheduleOnce(function() {
a && d.default.UserData.seatId > 0 ? b.default.getInstance().openUIForm("prefab/dialog/cutCardTips") : o.closingAnimation(o._cutCard);
}, i + 1);
};
t.prototype.onClickCard = function() {};
t.prototype.startTheDeal = function(e) {
var t = function(t) {
return e >= t || 0 == e ? 0 : t - e;
};
this.playerCard1 = m.default.inst.getPlayerCard1(this._playerCardArr[0].card, d.default.roomData.cardColor);
this.playerCard1.attr({
cardid: 1
});
this.playerCard1.attr({
isopen: 0
});
this.playerCard1.attr({
cardnum: this._playerCardArr[0].card
});
this.moveCard(this.playerCard1, {
scaleX: this._cardSize.x,
scaleY: this._cardSize.y,
moveTime: .2,
delayTime: 0,
pointX: this._dealCardPos[0].x,
pointY: this._dealCardPos[0].y
}, !1);
this.playerCard1.attr({
cardIndex: this._playerCardArr[0].cardIndex
});
this.playerCard1.addComponent(cc.Button);
this.playerCard1.on("click", this.onClickCard, this);
this.playerCard2 = m.default.inst.getPlayerCard2(this._playerCardArr[1].card, d.default.roomData.cardColor);
this.playerCard2.attr({
cardid: 2
});
this.playerCard2.attr({
isopen: 0
});
this.playerCard2.attr({
cardnum: this._playerCardArr[1].card
});
this.moveCard(this.playerCard2, {
scaleX: this._cardSize.x,
scaleY: this._cardSize.y,
moveTime: .2,
delayTime: c.default.getInstance().gameTimeData.card3 + .8 * t(3),
pointX: this._dealCardPos[2].x,
pointY: this._dealCardPos[2].y
}, !1);
this.playerCard2.attr({
cardIndex: this._playerCardArr[1].cardIndex
});
this.playerCard2.addComponent(cc.Button);
this.playerCard2.on("click", this.onClickCard, this);
this.bankerCard1 = m.default.inst.getBankerCard1(this._bankerCardArr[0].card, d.default.roomData.cardColor);
this.bankerCard1.attr({
cardid: 3
});
this.bankerCard1.attr({
isopen: 0
});
this.bankerCard1.attr({
cardnum: this._bankerCardArr[0].card
});
this.moveCard(this.bankerCard1, {
scaleX: this._cardSize.x,
scaleY: this._cardSize.y,
moveTime: .2,
delayTime: c.default.getInstance().gameTimeData.card2 + .8 * t(2),
pointX: this._dealCardPos[1].x,
pointY: this._dealCardPos[1].y
}, !1);
this.bankerCard1.attr({
cardIndex: this._bankerCardArr[0].cardIndex
});
this.bankerCard1.addComponent(cc.Button);
this.bankerCard1.on("click", this.onClickCard, this);
this.bankerCard2 = m.default.inst.getBankerCard2(this._bankerCardArr[1].card, d.default.roomData.cardColor);
this.bankerCard2.attr({
cardid: 4
});
this.bankerCard2.attr({
isopen: 0
});
this.bankerCard2.attr({
cardnum: this._bankerCardArr[1].card
});
this.moveCard(this.bankerCard2, {
scaleX: this._cardSize.x,
scaleY: this._cardSize.y,
moveTime: .2,
delayTime: c.default.getInstance().gameTimeData.card4 + .8 * t(4),
pointX: this._dealCardPos[3].x,
pointY: this._dealCardPos[3].y
}, !1);
this.bankerCard2.attr({
cardIndex: this._bankerCardArr[1].cardIndex
});
this.bankerCard2.addComponent(cc.Button);
this.bankerCard2.on("click", this.onClickCard, this);
this.totalCardList = [ this.playerCard1, this.playerCard2, this.bankerCard1, this.bankerCard2, null, null ];
};
t.prototype.playerRecoilCard = function(e) {
var t = this, o = this._playerCardArr[2].card;
e && (o = e);
this.playerCard3 = m.default.inst.getExtraPlayerCard(o, d.default.roomData.cardColor);
this.playerCard3.attr({
cardid: 5
});
this.playerCard3.attr({
isopen: 0
});
this.playerCard3.attr({
cardnum: o
});
this.playerCard3.setPosition(1970, 1e3);
this._playingCardszIndex = this._playingCardszIndex + 10;
this.playerCard3.zIndex = this._playingCardszIndex;
this.playerCard3.attr({
cardIndex: this._playerCardArr[2].cardIndex
});
this.playerCard3.addComponent(cc.Button);
this.playerCard3.on("click", this.onClickCard, this);
this.totalCardList[4] = this.playerCard3;
this.scheduleOnce(function() {
if (v.default.isnull(t.playerCard3)) {
t.playerCard3.getComponent(I.default).setRotate();
t.playerCard3.getComponent(I.default).smallSizeBgMaterial(!0);
}
}, .1);
var i = 0;
if (4 == this.cutCardIndex) {
i = 1;
this.startThecutCard(4);
this.cutCardIndex = 0;
}
this.moveCard(this.playerCard3, {
scaleX: this._cardSize.x,
scaleY: this._cardSize.y,
moveTime: .2,
delayTime: i,
pointX: this._dealCardPos[4].x,
pointY: this._dealCardPos[4].y
}, !0);
};
t.prototype.bankerRecoilCard = function(e) {
var t = this, o = this._bankerCardArr[2].card;
e && (o = e);
this.bankerCard3 = m.default.inst.getExtraBankerCard(o, d.default.roomData.cardColor);
this.bankerCard3.attr({
cardid: 6
});
this.bankerCard3.attr({
isopen: 0
});
this.bankerCard3.attr({
cardnum: o
});
this.totalCardList[5] = this.bankerCard3;
this.bankerCard3.setPosition(1970, 1e3);
this._playingCardszIndex = this._playingCardszIndex + 10;
this.bankerCard3.zIndex = this._playingCardszIndex;
this.bankerCard3.attr({
cardIndex: this._bankerCardArr[2].cardIndex
});
this.bankerCard3.addComponent(cc.Button);
this.bankerCard3.on("click", this.onClickCard, this);
this.scheduleOnce(function() {
if (v.default.isnull(t.bankerCard3)) {
t.bankerCard3.getComponent(I.default).setRotate();
t.bankerCard3.getComponent(I.default).smallSizeBgMaterial(!0);
}
}, .1);
var i = 0;
if (4 == this.cutCardIndex || 5 == this.cutCardIndex) {
i = 1;
this.startThecutCard(this.cutCardIndex);
this.cutCardIndex = 0;
}
this.moveCard(this.bankerCard3, {
scaleX: this._cardSize.x,
scaleY: this._cardSize.y,
moveTime: .2,
delayTime: i,
pointX: this._dealCardPos[5].x,
pointY: this._dealCardPos[5].y
}, !0);
};
t.prototype.moveCard = function(e, t, o, i) {
var n = this, a = c.default.getInstance().dealCardInfo, r = t.scaleX || 1, s = t.scaleY || 1, l = t.pointX || e.getPosition().x, h = t.pointY || e.getPosition().y, u = t.moveTime;
t.moveTime || (u = .2);
var p = t.delayTime || 0;
if (d.default.roomData.roomReconnectIng) {
u = 0;
p = 0;
}
e.setPosition(a[0].x, a[0].y);
e.scaleX = 84 / 634;
e.scaleY = 113 / 936;
e.parent = this.node;
e.angle = -122;
e.stopAllActions();
var f = cc.tween;
f(e).delay(p).call(function() {
if (1 == e.cardid || 2 == e.cardid) {
C.default.inst.playEffect("deal");
C.default.inst.playEffect("hnd_player", !1, !0);
} else if (3 == e.cardid || 4 == e.cardid) {
C.default.inst.playEffect("deal");
C.default.inst.playEffect("hnd_banker", !1, !0);
} else if (5 == e.cardid) {
C.default.inst.playEffect("deal");
C.default.inst.playEffect("add_player_card", !1, !0);
} else if (6 == e.cardid) {
C.default.inst.playEffect("deal");
C.default.inst.playEffect("add_banker_card", !1, !0);
} else 99 == e.cardid && C.default.inst.playEffect("deal");
n._setPlayingCardszIndex(e);
null == i && (d.default.roomData.remainCardCount -= 1);
}, this).parallel(f().bezierTo(u, cc.v2(a[0].x, a[0].y), cc.v2(a[1].x, a[1].y), cc.v2(l, h)), f().to(u, {
scaleX: r,
scaleY: s,
angle: 0
})).start();
var m = new cc.Node();
m.addComponent(cc.Sprite);
m.getComponent(cc.Sprite).spriteFrame = S.SPCache.pokerFront;
m.color = new cc.Color(0, 0, 0, 255);
m.opacity = 40;
m.parent = e;
m.zIndex = -1;
m.x = 0;
m.y = 0;
o && (m.angle = -90);
cc.tween(m).to(u / 2, {
x: 4,
y: -10
}).to(u / 2, {
x: 0,
y: 0
}).call(function() {
m.removeFromParent();
}, this).start();
};
t.prototype.claerCard = function() {
if (this.playerCard1) {
v.default.stopAll(this.playerCard1, I.default);
v.default.stopAll(this.playerCard2, I.default);
v.default.stopAll(this.bankerCard1, I.default);
v.default.stopAll(this.bankerCard2, I.default);
this.playerCard1.destroy();
this.playerCard2.destroy();
this.bankerCard1.destroy();
this.bankerCard2.destroy();
this.playerCard1 = null;
this.playerCard2 = null;
this.bankerCard1 = null;
this.bankerCard2 = null;
}
if (this.playerCard3) {
v.default.stopAll(this.playerCard3, I.default);
this.playerCard3.destroy();
this.playerCard3 = null;
}
if (this.bankerCard3) {
v.default.stopAll(this.bankerCard3, I.default);
this.bankerCard3.destroy();
this.bankerCard3 = null;
}
if (this._cutCard) {
v.default.stopAll(this._cutCard, I.default);
this._cutCard.destroy();
}
this._playerOpenFrama = 0;
this._bankerOpenFrama = 0;
this._playingCardszIndex = 30;
this.playerCardNumList = [];
this.bankerCardNumList = [];
this._playerNum = 0;
this._bankerNum = 0;
d.default.roomData.playerShowCard = [ 0, 0, 0 ];
d.default.roomData.bankerShowCard = [ 0, 0, 0 ];
};
t.prototype.gameOver = function(e) {
var t = this;
this.scheduleOnce(function() {
if ("settlement" == d.default.roomData.gameState) {
s.MyEvent.getInstance().emit("ON_WIN_PAY_START");
s.MyEvent.getInstance().emit("ON_COLLECT_CARD");
if (t.playerCard1) {
t.closingAnimation(t.playerCard1, 0);
t.closingAnimation(t.playerCard2, 0);
t.closingAnimation(t.bankerCard1, 0);
t.closingAnimation(t.bankerCard2, 0, function() {
t.claerCard();
});
}
t.playerCard3 && t.closingAnimation(t.playerCard3, 90);
t.bankerCard3 && t.closingAnimation(t.bankerCard3, -90);
}
u.default.getInstance().resetTable();
if (1 == u.default.getInstance().needSwitchRoom) {
u.default.getInstance().needSwitchRoom = !1;
y.default.getInstance().socketSend.loaveRoom();
}
}, e);
};
t.prototype.closingAnimation = function(e, t) {
var o = c.default.getInstance().recoveryCardInfo, i = cc.tween;
t || (t = 0);
v.default.isnull(e) && i(e).to(.3, {
x: o[0].x,
angle: e.angle - t
}, {
easing: "quartIn"
}).parallel(i().bezierTo(.2, cc.v2(o[0].x, o[0].y), cc.v2(o[1].x, o[1].y), cc.v2(o[2].x, o[2].y)), i().to(.2, {
opacity: 0,
scaleX: 84 / 634,
scaleY: 113 / 936
})).call(function() {}, this).start();
};
t.prototype.directOutcome = function() {
var e = this;
this.scheduleOnce(function() {
e.automaticFlop(e.playerCard1, r.player, "player_squeeze", "left");
e.automaticFlop(e.playerCard2, r.player, "player_squeeze");
}, 2);
this.scheduleOnce(function() {
e.automaticFlop(e.bankerCard1, r.banker, "banker_squeeze");
e.automaticFlop(e.bankerCard2, r.banker, "banker_squeeze", "right");
}, 3);
};
t.prototype.BroadcastOpenCard = function(e, t) {
var o = this, i = e.list, n = e.isPlayerOpend, a = [], l = [];
if (t) {
this._playerOpenFrama = 0;
this._bankerOpenFrama = 0;
}
e.list.forEach(function(e) {
e.whose == r.player ? d.default.roomData.playerShowCard[e.index] = v.default.getCardPoint(e.card) : e.whose == r.banker && (d.default.roomData.bankerShowCard[e.index] = v.default.getCardPoint(e.card));
});
var h = 0, u = c.default.getInstance().gameTimeData.bankerOpen;
1 == n ? u = 0 : i[0].whose == r.player && this.bankerCardNumList.length >= 2 && (h = c.default.getInstance().gameTimeData.bankerOpen);
if (0 == d.default.roomData.playerMiCardId && 0 != d.default.roomData.bankerMiCardId && 4 == i.length) {
h = c.default.getInstance().gameTimeData.bankerOpen;
u = 0;
}
for (var p = 0; p < i.length; p++) {
var f = i[p];
if (f.whose == r.cut) return;
var m = v.default.getCardPoint(f.card);
if (f.whose == r.player) {
this.playerCardNumList[f.index - 1] = m;
a.push(f);
} else {
this.bankerCardNumList[f.index - 1] = m;
l.push(f);
}
}
if (1 != i.length) {
if (0 == this._playerOpenFrama && a.length >= 2) {
this.scheduleOnce(function() {
o.automaticFlop(o.playerCard1, r.player, "player_squeeze", "left", n);
o.automaticFlop(o.playerCard2, r.player, "player_squeeze", null, n);
o.setSettlementLabel(!0, 2);
}, h);
s.MyEvent.getInstance().emit("HIDE_VOCIFERATE_EVENT");
}
if (1 == this._playerOpenFrama && 1 == a.length) if (1 == a[0].index) {
this.automaticFlop(this.playerCard1, r.player, "player_squeeze", "left", n);
this.setSettlementLabel(!0, 2);
} else if (2 == a[0].index) {
this.automaticFlop(this.playerCard2, r.player, "player_squeeze", null, n);
this.setSettlementLabel(!0, 2);
}
if (0 == this._bankerOpenFrama && l.length >= 2) {
this.scheduleOnce(function() {
o.automaticFlop(o.bankerCard1, r.banker, "banker_squeeze", null, n);
o.automaticFlop(o.bankerCard2, r.banker, "banker_squeeze", "right", n);
o._bankerNum = o.bankerCardNumList[0] + o.bankerCardNumList[1];
o.setSettlementLabel(!0, 2);
}, u);
s.MyEvent.getInstance().emit("HIDE_VOCIFERATE_EVENT");
}
if (1 == this._bankerOpenFrama && 1 == l.length && 1 == l[0].index) {
this.automaticFlop(this.bankerCard1, r.banker, "banker_squeeze", null, n);
this._bankerNum = this.bankerCardNumList[0] + this.bankerCardNumList[1];
this.setSettlementLabel(!0, 2);
}
var g = c.default.getInstance().gameTimeData.playerOpenMake;
1 == i.length && (g = 0);
if (t) e.list.forEach(function(e) {
if (e.whose == r.player && 3 == e.index) {
o.playerCard3 && o.automaticFlop(o.playerCard3, r.player, "player_squeeze_second", "left", n);
o.setSettlementLabel(!0, 3);
}
if (e.whose == r.banker && 3 == e.index) {
o.bankerCard3 && o.automaticFlop(o.bankerCard3, r.banker, "banker_squeeze_second", "right", n);
o.setSettlementLabel(!0, 3);
}
}); else {
if (3 == this.playerCardNumList.length) {
this.scheduleOnce(function() {
var e = 0;
o.playerCard3 || (e = .8);
o.scheduleOnce(function() {
o.playerCard3 && o.automaticFlop(o.playerCard3, r.player, "player_squeeze_second", "left", n);
o.setSettlementLabel(!0, 3);
}, e);
}, g);
g += 1.8;
}
this.scheduleOnce(function() {
if (2 == o._bankerOpenFrama && 3 == o.bankerCardNumList.length) {
var e = 0;
o.bankerCard3 || (e = .5);
o.scheduleOnce(function() {
o.bankerCard3 && o.automaticFlop(o.bankerCard3, r.banker, "banker_squeeze_second", "right", n);
o.setSettlementLabel(!0, 3);
}, e);
}
}, g);
}
} else {
var y = i[0];
if (y.whose == r.player) {
if (1 == y.index) if (v.default.isnull(this.playerCard1)) {
this.automaticFlop(this.playerCard1, r.player, "player_squeeze", "left", n);
this.setSettlementLabel(!0, 2);
} else _.default.sleepSync(1).then(function() {
if (v.default.isnull(o.playerCard1)) {
o.automaticFlop(o.playerCard1, r.player, "player_squeeze", "left", n);
o.setSettlementLabel(!0, 2);
}
}); else if (2 == y.index) if (v.default.isnull(this.playerCard2)) {
this.automaticFlop(this.playerCard2, r.player, "player_squeeze", null, n);
this.setSettlementLabel(!0, 2);
} else _.default.sleepSync(1).then(function() {
if (v.default.isnull(o.playerCard2)) {
o.automaticFlop(o.playerCard2, r.player, "player_squeeze", null, n);
o.setSettlementLabel(!0, 2);
}
}); else if (3 == y.index) if (v.default.isnull(this.playerCard3)) {
this.automaticFlop(this.playerCard3, r.player, "player_squeeze_second", "left", n);
this.setSettlementLabel(!0, 3);
} else _.default.sleepSync(1).then(function() {
if (v.default.isnull(o.playerCard3)) {
o.automaticFlop(o.playerCard3, r.player, "player_squeeze_second", "left", n);
o.setSettlementLabel(!0, 3);
}
});
} else if (1 == y.index) if (v.default.isnull(this.bankerCard1)) {
this.automaticFlop(this.bankerCard1, r.banker, "banker_squeeze", null, n);
this.setSettlementLabel(!0, 2);
} else _.default.sleepSync(1).then(function() {
if (v.default.isnull(o.bankerCard1)) {
o.automaticFlop(o.bankerCard1, r.banker, "banker_squeeze", null, n);
o.setSettlementLabel(!0, 2);
}
}); else if (2 == y.index) if (v.default.isnull(this.bankerCard2)) {
this.automaticFlop(this.bankerCard2, r.banker, "banker_squeeze", "right", n);
this.setSettlementLabel(!0, 2);
} else _.default.sleepSync(1).then(function() {
if (v.default.isnull(o.bankerCard2)) {
o.automaticFlop(o.bankerCard2, r.banker, "banker_squeeze", "right", n);
o.setSettlementLabel(!0, 2);
}
}); else if (3 == y.index) if (v.default.isnull(this.bankerCard3)) {
this.automaticFlop(this.bankerCard3, r.banker, "banker_squeeze_second", "right", n);
this.setSettlementLabel(!0, 3);
} else _.default.sleepSync(1).then(function() {
if (v.default.isnull(o.bankerCard3)) {
o.automaticFlop(o.bankerCard3, r.banker, "banker_squeeze_second", "right", n);
o.setSettlementLabel(!0, 3);
}
});
}
};
t.prototype.setSettlementLabel = function(e) {
var t = this, o = e;
this.scheduleOnce(function() {
t._playerPoint.getComponent(cc.Label).string = "0";
t._bankerPoint.getComponent(cc.Label).string = "0";
t._settlementBg.active = o;
var e = 0;
d.default.roomData.playerShowCard.forEach(function(t) {
e += t;
});
e %= 10;
var i = 0;
d.default.roomData.bankerShowCard.forEach(function(e) {
i += e;
});
i %= 10;
if ("settlement" == d.default.roomData.gameState) {
t._endingPointList[0] != e && (e = t._endingPointList[0]);
t._endingPointList[1] != i && (i = t._endingPointList[1]);
}
t._playerNum = e;
t._bankerNum = i;
if (d.default.roomData.roomReconnectIng) {
if (d.default.roomData.openCardEd.length > 0) {
var n = 0, a = 0;
d.default.roomData.openCardEd.forEach(function(e) {
1 == e.whose ? n += v.default.getCardPoint(e.card) : 2 == e.whose && (a += v.default.getCardPoint(e.card));
});
t._playerPoint.getComponent(cc.Label).string = n % 10 + "";
t._bankerPoint.getComponent(cc.Label).string = a % 10 + "";
if ((n % 10 == 0 || a % 10 == 0) && "chipin" != d.default.roomData.gameState) {
isNaN(e) || 0 != t._playerOpenFrama || (t._playerPoint.getComponent(cc.Label).string = e + "");
isNaN(i) || 0 != t._bankerOpenFrama || (t._bankerPoint.getComponent(cc.Label).string = i + "");
}
}
} else {
!isNaN(e) && t._playerOpenFrama >= 1 && (t._playerPoint.getComponent(cc.Label).string = e + "");
!isNaN(i) && t._bankerOpenFrama >= 1 && (t._bankerPoint.getComponent(cc.Label).string = i + "");
0 == t._playerOpenFrama && "0" == t._playerPoint.getComponent(cc.Label).string && "chipin" != d.default.roomData.gameState && d.default.roomData.playerMiCardId > 0 && (t._playerPoint.getComponent(cc.Label).string = e + "");
0 == t._bankerOpenFrama && "0" == t._bankerPoint.getComponent(cc.Label).string && "chipin" != d.default.roomData.gameState && d.default.roomData.bankerMiCardId > 0 && (t._bankerPoint.getComponent(cc.Label).string = i + "");
}
if (d.default.roomData.playerMiCardId != d.default.UserData.userId && d.default.roomData.bankerMiCardId != d.default.UserData.userId) {
0 == i && 0 == t._bankerOpenFrama && (i = -1);
s.MyEvent.getInstance().emit("BACCARAT_VOCIFERATE_EVENT", {
player: e,
banker: i
});
}
}, .3);
};
t.prototype.setPointActtive = function(e) {
if (!e) {
this._playerPoint.getComponent(cc.Label).string = "";
this._bankerPoint.getComponent(cc.Label).string = "";
}
};
t.prototype.playPoint = function(e, t, o, i) {
var n = this, a = o, r = i;
this.scheduleOnce(function() {
for (var t = e, o = 0, i = 0; i < n.playerCardNumList.length; i++) o += n.playerCardNumList[i];
o = n._playerNum;
var c = 0;
for (i = 0; i < n.bankerCardNumList.length; i++) c += n.bankerCardNumList[i];
c = n._bankerNum;
var h = !1, u = !1, p = !1, f = !1, m = 2, g = 2, y = 0, _ = 0;
console.log("", o, c, !v.default.isnull(n.playerCard3), !v.default.isnull(n.bankerCard3));
if (o >= 8 && !v.default.isnull(n.playerCard3)) {
h = !0;
m = 3;
}
if (c >= 8 && !v.default.isnull(n.bankerCard3)) {
u = !0;
g = 3;
}
2 == t && 6 == c && (p = !0);
3 == t && 6 == c && d.default.roomData.playType == l.baccaratRoomType.singapore && (f = !0);
null != n._playerCardArr[0] && null != n._playerCardArr[1] && n._playerCardArr[0].card % 16 == n._playerCardArr[1].card % 16 && (y = 1);
null != n._bankerCardArr[0] && null != n._bankerCardArr[1] && n._bankerCardArr[0].card % 16 == n._bankerCardArr[1].card % 16 && (_ = 1);
C.default.inst.playerPoint(o, h, y);
cc.tween(n.node).delay(m + y).call(function() {
C.default.inst.bankerPoint(c, function() {}, u, _);
}, n).delay(g + _).call(function() {
s.MyEvent.getInstance().emit("BACCARAT_POINT_BG_CHANGE_COLOR", e);
a();
}, n).delay(1).call(function() {
r();
if (1 == t) C.default.inst.playEffect("win_player", !1, !0); else if (2 == t) {
C.default.inst.playEffect("win_banker", !1, !0);
p && n.scheduleOnce(function() {
C.default.inst.playEffect("tiger", !1, !0);
}, 1);
} else 3 == t && (f ? C.default.inst.playEffect("tiger_draw", !1, !0) : C.default.inst.playEffect("draw", !1, !0));
}, n).start();
}, 1.5);
};
t.prototype.automaticFlop = function(e, t, o, i, n) {
var a = this;
t == r.player ? this._playerOpenFrama += 1 : t == r.banker && (this._bankerOpenFrama += 1);
var c = o;
s.MyEvent.getInstance().emit("CHANGE_GUIDE_STATUS", 0);
if (v.default.isnull(e)) {
e.addComponent(cc.Button);
e.on("click", this.onClickCard, this);
e.isopen = 1;
e.getComponent(I.default).automaticFlop(function() {
a.setSettlementLabel(!0);
}, i);
var l;
l = n && 1 == n ? 1 : t == r.player && d.default.roomData.playerMiCardId > 0 ? 1 : t == r.banker && d.default.roomData.bankerMiCardId > 0 ? 1 : 0;
this.scheduleOnce(function() {
v.default.isnull(e) && null != e.getComponent(I.default) && e.getComponent(I.default).addCardNumer();
}, l);
this.scheduleOnce(function() {
v.default.isnull(e) && !e.getComponent(I.default).isOpenTouch && a.openCardFace(c);
}, .5);
}
};
t.prototype.playingCards = function(e, t, o) {
o.timeOut, o.timeOut, o.RemainTimeOut;
if (t && t.userId) if (t.userId == d.default.UserData.userId) {
d.default.UserData.seatId > 0 && g.default.inst.closeAllDialog();
g.default.inst.hideFullScreen();
} else {
var i = this._playerPoint.getComponent(cc.Label).string, n = this._bankerPoint.getComponent(cc.Label).string;
n = n;
0 == (i = i) && 0 == n || this.setSettlementLabel(!0, 3);
t.seatId >= 1 && this.broadcastSqueezeCard(t);
}
};
t.prototype._setPlayingCardszIndex = function(e) {
if (v.default.isnull(e)) {
e.zIndex = this._playingCardszIndex;
this._playingCardszIndex += 1;
}
};
t.prototype._createSubstituteBtn = function(e, t) {
var o = this;
this._substituteBtn1 = cc.instantiate(this.node.getChildByName("substitute"));
this._substituteBtn2 = cc.instantiate(this.node.getChildByName("substitute"));
this._substituteBtn1.parent = this.node;
this._substituteBtn2.parent = this.node;
this._substituteBtn1.setPosition(e.getPosition());
this._substituteBtn2.setPosition(t.getPosition());
this._setPlayingCardszIndex(this._substituteBtn1);
this._setPlayingCardszIndex(this._substituteBtn2);
this._substituteBtn1.on("click", function() {
if (v.default.isnull(e)) {
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
e.getComponent(I.default).openClick();
var t = e.cardIndex;
o._substituteBtn1.destroy();
s.MyEvent.getInstance().emit("UPDATE_CARD_DETAILS", t);
}
});
this._substituteBtn2.on("click", function() {
if (v.default.isnull(t)) {
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
t.getComponent(I.default).openClick();
var e = t.cardIndex;
o._substituteBtn2.destroy();
s.MyEvent.getInstance().emit("UPDATE_CARD_DETAILS", e);
}
});
};
t.prototype._removeSubstituteBtn = function(e) {
if (e) {
v.default.isnull(this._substituteBtn1) && e.x == this._substituteBtn1.x && this._substituteBtn1.destroy();
v.default.isnull(this._substituteBtn2) && e.x == this._substituteBtn2.x && this._substituteBtn2.destroy();
} else {
v.default.isnull(this._substituteBtn1) && this._substituteBtn1.destroy();
v.default.isnull(this._substituteBtn2) && this._substituteBtn2.destroy();
}
};
t.prototype.squeeze = function(e, t, o, i) {
var n = this, a = d.default.roomData.gameState, r = o, l = i;
this._setPlayingCardszIndex(e);
var h = .3, u = !0, p = !0;
if (d.default.roomData.roomReconnectIng) {
d.default.roomData.openCardEd.forEach(function(o) {
o.card == e.cardnum && (u = !1);
o.card == t.cardnum && (p = !1);
});
h = 1 / 60;
}
if (u) {
e.getComponent(I.default).removeCardBackNumber();
cc.tween(e).call(function() {
e.getComponent(I.default).rotateAnimation(h, -90);
e.getComponent(I.default).smallSizeBgMaterial(!1);
}, this).to(h, {
position: cc.v3(c.default.getInstance().myMipaiPoint[0].x, c.default.getInstance().myMipaiPoint[0].y),
scale: .9
}, {
easing: "quadOut"
}).call(function() {
v.default.isnull(e) && e.getComponent(I.default).openTouch(function() {
n.openCardFace(a);
});
}, this).start();
this._setPlayingCardszIndex(t);
}
if (p) {
t.getComponent(I.default).removeCardBackNumber();
cc.tween(t).call(function() {
t.getComponent(I.default).rotateAnimation(h, -90);
t.getComponent(I.default).smallSizeBgMaterial(!1);
}, this).to(h, {
position: cc.v3(c.default.getInstance().myMipaiPoint[1].x, c.default.getInstance().myMipaiPoint[1].y),
scale: .9
}, {
easing: "quadOut"
}).call(function() {
if (v.default.isnull(t)) {
t.getComponent(I.default).openTouch(function() {
n.openCardFace(a);
});
d.default.roomData.playerMiCardId == d.default.UserData.userId && 0 == d.default.roomData.bankerMiCardId ? n._createSubstituteBtn(n.bankerCard1, n.bankerCard2) : 0 == d.default.roomData.playerMiCardId && d.default.roomData.bankerMiCardId == d.default.UserData.userId && n._createSubstituteBtn(n.playerCard1, n.playerCard2);
}
}, this).start();
}
(u || p) && this.scheduleOnce(function() {
n.showOpenCardBtn(r, l);
}, .3);
d.default.roomData.roomReconnectIng && this.scheduleOnce(function() {
!u && p && n.moveMiCardToCenter(t);
u && !p && n.moveMiCardToCenter(e);
}, 4 / 60);
this.scheduleOnce(function() {
s.MyEvent.getInstance().emit("CHANGE_GUIDE_STATUS", 3);
}, .5);
};
t.prototype.moveMiCardToCenter = function(e) {
e.zIndex = this._playingCardszIndex + 2;
this._substituteBtn1 && (this._substituteBtn1.zIndex = e.zIndex + 1);
this._substituteBtn2 && (this._substituteBtn2.zIndex = e.zIndex + 1);
var t = e.getPosition(), o = cc.v2(c.default.getInstance().mipaiPlayerMarkPos[2].x, c.default.getInstance().mipaiPlayerMarkPos[2].y), i = e.scaleX, n = .3;
d.default.roomData.roomReconnectIng && (n = 0);
e.getComponent(I.default).moveCard(t, o, i, 1, .3, n);
};
t.prototype.squeeze2 = function(e, t, o) {
var i = this;
this._setPlayingCardszIndex(e);
var n = t, a = o, r = d.default.roomData.gameState;
e.getComponent(I.default).smallSizeBgMaterial(!1);
var s = .3;
d.default.roomData.roomReconnectIng && (s = 0);
console.log("", cc.winSize.width, cc.winSize.height);
e.getComponent(I.default).removeCardBackNumber();
cc.tween(e).to(s, {
position: cc.v3(c.default.getInstance().myMipaiPoint[2].x, c.default.getInstance().myMipaiPoint[2].y),
scale: 1
}, {
easing: "quadOut"
}).call(function() {
if (v.default.isnull(e)) {
e.getComponent(I.default).resetCardRect();
e.getComponent(I.default).openTouch(function() {
i.openCardFace(r);
});
i.showOpenCardBtn(n, a);
}
}, this).start();
};
t.prototype.broadcastSqueezeCard = function(e) {
c.default.getInstance().broadcastMipaiPos[e.seatId - 1];
d.default.roomData.roomReconnectIng;
};
t.prototype.openCardFace = function() {};
t.prototype.reductionCard = function(e, t, o) {
var i = this;
if (null != e) {
var n = t.scaleX, a = t.scaleY, r = t.x, s = t.y;
e.addComponent(cc.Button);
e.off("click");
e.on("click", this.onClickCard, this);
if (d.default.roomData.roomReconnectIng) {
e.setPosition(cc.v3(r, s));
e.scaleX = n;
e.scaleY = a;
} else cc.tween(e).delay(.5).to(.3, {
position: cc.v3(r, s),
scaleX: n,
scaleY: a
}, {
easing: "quartIn"
}).call(function() {
e.getComponent(I.default).addCardNumer();
}).start();
var c = 0;
o && (c = -90);
v.default.isnull(e) && v.default.isnull(e.getComponent(I.default)._cardFace) && cc.tween(e.getComponent(I.default)._cardFace).delay(.5).to(.3, {
angle: c
}).call(function() {
e.getComponent(I.default)._cardFace.angle = c;
i.setSettlementLabel(!0);
}, this).start();
}
};
t.prototype.setDdealerVisible = function(e) {
this._dealer.active = e;
};
t.prototype.showOpenCardBtn = function(e, t) {
var o = this;
this.hideOpenCardBtn();
this._openCardBtn.active = !0;
var i = e, n = t;
this._countdown.color = new cc.Color(255, 255, 255);
this._countdown.getComponent(cc.Sprite).fillRange = 0;
this._countdown.color = new cc.Color(77, 232, 80);
cc.tween(this._countdown).delay(.2 * i).to(.05 * i, {
color: new cc.Color(253, 255, 65)
}).delay(.2 * i).to(.05 * i, {
color: new cc.Color(255, 166, 25, 255)
}).delay(.2 * i).to(.05 * i, {
color: new cc.Color(229, 47, 35, 255)
}).start();
var a = !1, r = !1, s = !1, c = cc.callFunc(function() {
n += 1 / 22;
o._countdown.getComponent(cc.Sprite).fillRange = n / i * -1;
var e = i - Math.floor(n);
if (2 == e && !a) {
a = !0;
C.default.inst.playEffect("reciprocal3or2");
}
if (1 == e && !r) {
r = !0;
C.default.inst.playEffect("reciprocal3or2");
}
if (0 == e && !s) {
s = !0;
C.default.inst.playEffect("reciprocal1");
}
n >= i && o.hideOpenCardBtn();
}), l = cc.sequence(cc.delayTime(1 / 22), c), d = cc.repeatForever(l);
this._countdown.runAction(d);
};
t.prototype.hideOpenCardBtn = function() {
this._countdown.stopAllActions();
this._countdown.color = new cc.Color(255, 255, 255);
this._openCardBtn.active = !1;
};
t.prototype.onOpenCard = function() {
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
};
t.prototype.playerOpen = function(e, t) {
console.log("playerOpen = ", e);
this.totalCardList[e - 1];
switch (e) {
case 1:
y.default.getInstance().socketSend.reportOpenCard([ {
whose: 1,
index: 1,
card: t
} ]);
v.default.isnull(this.playerCard2) && 0 == this.playerCard2.isopen && d.default.roomData.playerMiCardId == d.default.UserData.userId && this.moveMiCardToCenter(this.playerCard2);
break;

case 2:
y.default.getInstance().socketSend.reportOpenCard([ {
whose: 1,
index: 2,
card: t
} ]);
v.default.isnull(this.playerCard1) && 0 == this.playerCard1.isopen && d.default.roomData.playerMiCardId == d.default.UserData.userId && this.moveMiCardToCenter(this.playerCard1);
break;

case 3:
y.default.getInstance().socketSend.reportOpenCard([ {
whose: 2,
index: 1,
card: t
} ]);
v.default.isnull(this.bankerCard2) && 0 == this.bankerCard2.isopen && d.default.roomData.bankerMiCardId == d.default.UserData.userId && this.moveMiCardToCenter(this.bankerCard2);
break;

case 4:
y.default.getInstance().socketSend.reportOpenCard([ {
whose: 2,
index: 2,
card: t
} ]);
v.default.isnull(this.bankerCard1) && 0 == this.bankerCard1.isopen && d.default.roomData.bankerMiCardId == d.default.UserData.userId && this.moveMiCardToCenter(this.bankerCard1);
break;

case 5:
y.default.getInstance().socketSend.reportOpenCard([ {
whose: 1,
index: 3,
card: t
} ]);
break;

case 6:
y.default.getInstance().socketSend.reportOpenCard([ {
whose: 2,
index: 3,
card: t
} ]);
}
};
t.prototype.broadcastMoveCard = function(e) {
var t = this.toIdGetCard(e.cardId);
if (v.default.isnull(t)) {
var o = v.default.copyData(e.cardId);
2 == o ? o = 3 : 3 == o && (o = 2);
c.default.getInstance().dealCardPos[o - 1];
if (v.default.isnull(t)) {
t.getComponent(I.default).broadcastMove(e.startPos, e.nowPos);
t.getComponent(I.default).removeCardBackNumber();
}
}
};
t.prototype.broadcastChangeAngleCard = function(e) {
var t = this.toIdGetCard(e.cardId);
if (v.default.isnull(t)) {
var o = v.default.copyData(e.cardId);
2 == o ? o = 3 : 3 == o && (o = 2);
var i = c.default.getInstance().dealCardPos[o - 1];
t.x == i.x && t.y == i.y || v.default.isnull(t) && t.getComponent(I.default).broadcastAngle(e.angle);
}
};
t.prototype.broadcastResetCard = function(e) {
var t = this.toIdGetCard(e.cardId);
v.default.isnull(t) && t.getComponent(I.default).broadcastResetPos();
};
t.prototype.broadcaseOpenCard = function(e) {
var t = this.toIdGetCard(e.cardId);
if (v.default.isnull(t)) {
t.isopen = 1;
t.getComponent(I.default).openCardFace();
this.openCardFace();
}
};
t.prototype.toIdGetCard = function(e) {
switch (e) {
case 1:
return this.playerCard1;

case 2:
return this.playerCard2;

case 3:
return this.bankerCard1;

case 4:
return this.bankerCard2;

case 5:
return this.playerCard3;

case 6:
return this.bankerCard3;
}
};
t.prototype.removeCutCard = function() {
var e = this.node.getChildByName("CUT_CARD_LAYER");
if (null != e) {
e.removeFromParent(!0);
e = null;
}
};
t.prototype.cutCardEnterScene = function(e) {
var t = this;
this._activeCutCard = !1;
this._cardLayer = new cc.Node();
this._cardLayer.name = "CUT_CARD_LAYER", this._cardLayer.setContentSize(cc.size(cc.winSize.width, cc.winSize.height));
this._cardLayer.parent = this.node;
this._cardLayer.setAnchorPoint(cc.v2(0, 0));
this._cardLayer.scale = .1;
this._cardLayer.setPosition(cc.v2(2e3, 1080));
e.userId != d.default.UserData.userId ? C.default.inst.playEffect("please_wait", !1, !0) : C.default.inst.playEffect("please_cut_card", !1, !0);
v.default.isnull(this._cutCard) && this.closingAnimation(this._cutCard);
cc.winSize.width, cc.winSize.width;
var o = cc.winSize.width - (cc.winSize.width - 1170) / 2 + 231, i = [], n = function() {
var n = new cc.Node();
n.addComponent(cc.Sprite);
n.getComponent(cc.Sprite).spriteFrame = S.SPCache.pokerCardCut;
t._cardLayer.addChild(n);
n.zIndex = 113;
n.setPosition(o - 585, i[0].y + 60);
t._blackCard = n;
t._blackCard.attr({
userid: e.userId
});
t._startingPoint = i[i.length - 1].x + 76 + Math.floor(146.5);
t._endPoint = i[0].x + 88 - Math.floor(146.5);
if (e.userId == d.default.UserData.userId) {
var a = Date.now();
v.default.addTouchEvent(n, function(e, o) {
var r = e.getLocation();
if ("touchmove" == e.type) {
t._timeX = Date.now();
a - t._timeX > 15e4 && (a = 0);
var s = r.x;
if (s < t._endPoint && s > t._startingPoint) {
o.x = s;
var c = (s - t._startingPoint) / (t._endPoint - t._startingPoint);
if (t._timeX - a > 100) {
y.default.getInstance().socketSend.sendBroadcast(l.broadcastType.cutCard_move, {
percentage: c,
time: t._timeX - a
});
a = t._timeX;
}
}
for (var d = 0; d < i.length; d++) {
var h = i[d];
if (o.x - 208 > h.x) {
o.zIndex = h.zIndex + 1 - 20;
n.zIndex = o.zIndex;
break;
}
}
} else if ("touchend" == e.type || "touchcancel" == e.type) {
o.targetOff();
t.cutCardAnim();
y.default.getInstance().socketSend.sendBroadcast(l.broadcastType.cutCard_ing, {});
}
}, n);
}
}, a = S.SPCache.pokerShoesCard;
d.default.roomData.cardColor == f.CardBackColor.blue ? a = S.SPCache.pokerShoesCardBlue : d.default.roomData.cardColor == f.CardBackColor.yellow && (a = S.SPCache.pokerShoesCardYellow);
for (var r = 0; r < 195; r++) {
var s = new cc.Node();
s.addComponent(cc.Sprite);
s.getComponent(cc.Sprite).spriteFrame = a;
s.parent = this._cardLayer;
s.zIndex = r + 1;
s.setPosition(o - 6 * r, 347);
i.push(s);
}
cc.tween(this._cardLayer).to(c.default.getInstance().gameTimeData.enterScene, {
scale: 1,
x: 0,
y: 0
}).call(function() {
t._cardList = i;
n();
}, this).start();
};
t.prototype.broadcastReceivedMoveCutCard = function(e) {
if (v.default.isnull(this._blackCard)) {
this._blackCard.x = this._startingPoint + (this._endPoint - this._startingPoint) * (e.percentage / 100);
for (var t = 0; t < this._cardList.length; t++) {
var o = this._cardList[t];
if (this._blackCard.x - 208 > o.x) {
this._blackCard.zIndex = o.zIndex + 1 - 20;
break;
}
}
}
};
t.prototype.cutCardAnim = function() {
var e = this;
if (!this._activeCutCard && v.default.isnull(this._blackCard)) {
this._blackCard.userid == d.default.UserData.userId && y.default.getInstance().socketSend.endCutCard();
this._activeCutCard = !0;
for (var t, o = this._cardList, i = this._blackCard, n = 0; n < o.length; n++) {
var a = o[n];
if (i.x - 88 > a.x) {
i.zIndex = a.zIndex + 1;
t = n;
cc.tween(i).to(.5, {
x: a.x - 6,
y: a.y
}).call(function() {
s.MyEvent.getInstance().emit("CUT_CARD_END_EVENT");
i.opacity = 0;
for (var n = function(i) {
var n = o[i];
i <= t ? cc.tween(n).by(c.default.getInstance().gameTimeData.cutCardChange / 3, {
x: 0,
y: 304
}).call(function() {
n.zIndex = 300 + i;
}, e).by(c.default.getInstance().gameTimeData.cutCardChange / 3, {
x: 6 * -(o.length - t),
y: 0
}).by(c.default.getInstance().gameTimeData.cutCardChange / 3, {
x: 0,
y: -304
}).start() : cc.tween(n).by(c.default.getInstance().gameTimeData.cutCardChange / 3, {
x: 0,
y: 0
}).by(c.default.getInstance().gameTimeData.cutCardChange / 3, {
x: 6 * t,
y: 0
}).by(c.default.getInstance().gameTimeData.cutCardChange / 3, {
x: 0,
y: 0
}).start();
}, a = 0; a < o.length; a++) n(a);
cc.tween(e._cardLayer).delay(c.default.getInstance().gameTimeData.cutCardChange + 1).to(.2, {
scale: .1,
x: 2e3,
y: 1080
}).call(function() {
e._blackCard.destroy();
e._cardLayer.destroy();
}, e).start();
}, this).start();
break;
}
}
}
};
t.prototype.dealCutCard = function(e) {
var t = this, o = d.default.roomData.cutCardNum, i = c.default.getInstance().cutCardPos[10][0], n = m.default.inst.getCutCard(o, d.default.roomData.cardColor);
n.attr({
cardid: 99
});
n.attr({
cardIndex: 1
});
this._cutCardList.push(n);
this.moveCard(n, {
scaleX: this._cardSize.x,
scaleY: this._cardSize.y,
moveTime: .2,
delayTime: 0,
pointX: i.x,
pointY: i.y
}, !1);
var a = o % 16;
14 == a ? a = 1 : a > 10 && (a = 10);
this.scheduleOnce(function() {
p.default.getInstance().getCardSHA512Detail(l.gameType.baccarat, d.default.roomData.roomType, d.default.roomData.roomId, d.default.roomData.shuffleID, 1);
n.getComponent(I.default).automaticFlop(function() {});
t.scheduleOnce(function() {
for (var o = function(e) {
t.scheduleOnce(function() {
var o, i = m.default.inst.getCutCard(0, d.default.roomData.cardColor);
i.attr({
cardid: 99
});
i.attr({
cardIndex: e + 2
});
t._cutCardList.push(i);
o = a <= 5 ? c.default.getInstance().cutCardPos[a - 1][0] : e < 5 ? c.default.getInstance().cutCardPos[a - 1][0] : c.default.getInstance().cutCardPos[a - 1][1];
e < 5 ? t.moveCard(i, {
scaleX: t._cardSize.x,
scaleY: t._cardSize.y,
moveTime: .2,
delayTime: 0,
pointX: o.x + 130 * e,
pointY: o.y
}, !1) : t.moveCard(i, {
scaleX: t._cardSize.x,
scaleY: t._cardSize.y,
moveTime: .2,
delayTime: 0,
pointX: o.x + 130 * (e - 5),
pointY: o.y
}, !1);
}, .2 * e);
}, i = 0; i < a; i++) o(i);
t.scheduleOnce(function() {
for (var o = function(o) {
var i = t._cutCardList[o];
v.default.isnull(i) && cc.tween(i).to(.5, {
x: c.default.getInstance().cutCardPos[10][0].x,
y: c.default.getInstance().cutCardPos[10][0].y
}).call(function() {
t.closingAnimation(i);
e();
}, t).start();
}, i = 0; i < t._cutCardList.length; i++) o(i);
}, .2 * (a + 1) + .5);
}, .2);
}, .3);
};
Object.defineProperty(t.prototype, "cutCardData", {
get: function() {
return this._cutCardData;
},
enumerable: !1,
configurable: !0
});
t.prototype.setLabelString = function() {
v.default.isnull(this._openCardLabel) && (this._openCardLabel.getComponent(cc.Label).string = h.default.ins.STRING_ROOM("openCard"));
};
t.prototype.errorCorrection = function() {
var e = this;
this.setSettlementLabel(!0, 3);
var t = function() {
if (v.default.isnull(e.playerCard1) && !e.playerCard1.getComponent(I.default).cardFace) {
e.playerCard1.getComponent(I.default).automaticFlop(function() {
e.setSettlementLabel(!0);
}, "left");
e.reductionCard(e.playerCard1, {
scaleX: e._cardSize.x,
scaleY: e._cardSize.y,
x: e._dealCardPos[0].x,
y: e._dealCardPos[0].y
});
}
if (v.default.isnull(e.playerCard2) && !e.playerCard2.getComponent(I.default).cardFace) {
e.playerCard2.getComponent(I.default).automaticFlop(function() {
e.setSettlementLabel(!0);
});
e.reductionCard(e.playerCard2, {
scaleX: e._cardSize.x,
scaleY: e._cardSize.y,
x: e._dealCardPos[2].x,
y: e._dealCardPos[2].y
});
}
}, o = function() {
if (v.default.isnull(e.playerCard3) && !e.playerCard3.getComponent(I.default).cardFace) {
e.playerCard3.getComponent(I.default).automaticFlop(function() {
e.setSettlementLabel(!0);
}, "left");
e.reductionCard(e.playerCard3, {
scaleX: e._cardSize.x,
scaleY: e._cardSize.y,
x: e._dealCardPos[4].x,
y: e._dealCardPos[4].y
}, !0);
}
}, i = function() {
if (v.default.isnull(e.bankerCard1) && !e.bankerCard1.getComponent(I.default).cardFace) {
e.bankerCard1.getComponent(I.default).automaticFlop(function() {
e.setSettlementLabel(!0);
}, "right");
e.reductionCard(e.bankerCard1, {
scaleX: e._cardSize.x,
scaleY: e._cardSize.y,
x: e._dealCardPos[1].x,
y: e._dealCardPos[1].y
});
}
if (v.default.isnull(e.bankerCard2) && !e.bankerCard2.getComponent(I.default).cardFace) {
e.bankerCard2.getComponent(I.default).automaticFlop(function() {
e.setSettlementLabel(!0);
});
e.reductionCard(e.bankerCard2, {
scaleX: e._cardSize.x,
scaleY: e._cardSize.y,
x: e._dealCardPos[3].x,
y: e._dealCardPos[3].y
});
}
}, n = function() {
if (v.default.isnull(e.bankerCard3) && !e.bankerCard3.getComponent(I.default).cardFace) {
e.bankerCard3.getComponent(I.default).automaticFlop(function() {
e.setSettlementLabel(!0);
}, "right");
e.reductionCard(e.bankerCard3, {
scaleX: e._cardSize.x,
scaleY: e._cardSize.y,
x: e._dealCardPos[5].x,
y: e._dealCardPos[5].y
}, !0);
}
};
if ("settlement" == d.default.roomData.gameState) {
var a = 0, s = 0;
d.default.roomData.sendCards.forEach(function(e) {
e.whose == r.player ? a += 1 : e.whose == r.banker && (s += 1);
if (a <= 2) t(); else if (3 == a) {
t();
o();
}
if (s <= 2) i(); else if (3 == s) {
i();
n();
}
});
} else if ("banker_squeeze" == d.default.roomData.gameState) d.default.roomData.playerMiCardId > 0 && t(); else if ("player_squeeze_second" == d.default.roomData.gameState) {
t();
i();
} else if ("banker_squeeze_second" == d.default.roomData.gameState) {
t();
i();
d.default.roomData.playerMiCardId > 0 && o();
}
};
t.prototype.reconnectHandle = function(e) {
var t = this;
console.log("2222", e, new Date().getTime());
this.playerCard1 = m.default.inst.getPlayerCard1(this._playerCardArr[0].card, d.default.roomData.cardColor);
this.playerCard1.attr({
cardid: 1
});
this.playerCard1.attr({
isopen: 0
});
this.playerCard1.attr({
cardnum: this._playerCardArr[0].card
});
this.reconnectMoveCard(this.playerCard1, {
scaleX: this._cardSize.x,
scaleY: this._cardSize.y,
moveTime: 0,
delayTime: 0,
pointX: this._dealCardPos[0].x,
pointY: this._dealCardPos[0].y
});
this.playerCard1.attr({
cardIndex: this._playerCardArr[0].cardIndex
});
this.playerCard1.addComponent(cc.Button);
this.playerCard1.on("click", this.onClickCard, this);
this.playerCard2 = m.default.inst.getPlayerCard2(this._playerCardArr[1].card, d.default.roomData.cardColor);
this.playerCard2.attr({
cardid: 2
});
this.playerCard2.attr({
isopen: 0
});
this.playerCard2.attr({
cardnum: this._playerCardArr[1].card
});
this.reconnectMoveCard(this.playerCard2, {
scaleX: this._cardSize.x,
scaleY: this._cardSize.y,
moveTime: 0,
delayTime: 0,
pointX: this._dealCardPos[2].x,
pointY: this._dealCardPos[2].y
});
this.playerCard2.attr({
cardIndex: this._playerCardArr[1].cardIndex
});
this.playerCard2.addComponent(cc.Button);
this.playerCard2.on("click", this.onClickCard, this);
this.bankerCard1 = m.default.inst.getBankerCard1(this._bankerCardArr[0].card, d.default.roomData.cardColor);
this.bankerCard1.attr({
cardid: 3
});
this.bankerCard1.attr({
isopen: 0
});
this.bankerCard1.attr({
cardnum: this._bankerCardArr[0].card
});
this.reconnectMoveCard(this.bankerCard1, {
scaleX: this._cardSize.x,
scaleY: this._cardSize.y,
moveTime: 0,
delayTime: 0,
pointX: this._dealCardPos[1].x,
pointY: this._dealCardPos[1].y
});
this.bankerCard1.attr({
cardIndex: this._bankerCardArr[0].cardIndex
});
this.bankerCard1.addComponent(cc.Button);
this.bankerCard1.on("click", this.onClickCard, this);
this.bankerCard2 = m.default.inst.getBankerCard2(this._bankerCardArr[1].card, d.default.roomData.cardColor);
this.bankerCard2.attr({
cardid: 4
});
this.bankerCard2.attr({
isopen: 0
});
this.bankerCard2.attr({
cardnum: this._bankerCardArr[1].card
});
this.reconnectMoveCard(this.bankerCard2, {
scaleX: this._cardSize.x,
scaleY: this._cardSize.y,
moveTime: 0,
delayTime: 0,
pointX: this._dealCardPos[3].x,
pointY: this._dealCardPos[3].y
});
this.bankerCard2.attr({
cardIndex: this._bankerCardArr[1].cardIndex
});
this.bankerCard2.addComponent(cc.Button);
this.bankerCard2.on("click", this.onClickCard, this);
this.scheduleOnce(function() {
t.BroadcastOpenCard({
list: e,
isPlayerOpend: 1
}, !0);
}, 1 / 60);
};
t.prototype.removeCardBackNumber = function(e) {
var t = this;
this.scheduleOnce(function() {
if ("player_squeeze" == e) {
t.playerCard1.getComponent(I.default).removeCardBackNumber();
t.playerCard2.getComponent(I.default).removeCardBackNumber();
} else if ("banker_squeeze" == e) {
t.bankerCard1.getComponent(I.default).removeCardBackNumber();
t.bankerCard2.getComponent(I.default).removeCardBackNumber();
} else "player_squeeze_second" == e || "deal_player_card3" == e ? t.playerCard3.getComponent(I.default).removeCardBackNumber() : "banker_squeeze_second" != e && "deal_banker_card3" != e || t.bankerCard3.getComponent(I.default).removeCardBackNumber();
}, .1);
};
t.prototype.reconnectMoveCard = function() {};
t.prototype.reconnectPlayerRecoilCard = function(e) {
var t = this, o = this._playerCardArr[2].card;
e && (o = e);
this.playerCard3 = m.default.inst.getExtraPlayerCard(o, d.default.roomData.cardColor);
this.playerCard3.attr({
cardid: 5
});
this.playerCard3.attr({
isopen: 0
});
this.playerCard3.attr({
cardnum: o
});
this.playerCard3.setPosition(1970, 1e3);
this.playerCard3.attr({
cardIndex: this._playerCardArr[2].cardIndex
});
this.playerCard3.addComponent(cc.Button);
this.playerCard3.on("click", this.onClickCard, this);
this.totalCardList[4] = this.playerCard3;
this.scheduleOnce(function() {
if (v.default.isnull(t.playerCard3)) {
t.playerCard3.getComponent(I.default).setRotate();
t.playerCard3.getComponent(I.default).smallSizeBgMaterial(!0);
}
}, 1 / 60);
this.reconnectMoveCard(this.playerCard3, {
scaleX: this._cardSize.x,
scaleY: this._cardSize.y,
moveTime: 0,
delayTime: 0,
pointX: this._dealCardPos[4].x,
pointY: this._dealCardPos[4].y
});
};
t.prototype.reconnectBankerRecoilCard = function(e) {
var t = this, o = this._bankerCardArr[2].card;
e && (o = e);
this.bankerCard3 = m.default.inst.getExtraBankerCard(o, d.default.roomData.cardColor);
this.bankerCard3.attr({
cardid: 6
});
this.bankerCard3.attr({
isopen: 0
});
this.bankerCard3.attr({
cardnum: o
});
this.totalCardList[5] = this.bankerCard3;
this.bankerCard3.setPosition(1970, 1e3);
this.bankerCard3.attr({
cardIndex: this._bankerCardArr[2].cardIndex
});
this.bankerCard3.addComponent(cc.Button);
this.bankerCard3.on("click", this.onClickCard, this);
this.scheduleOnce(function() {
if (v.default.isnull(t.bankerCard3)) {
t.bankerCard3.getComponent(I.default).setRotate();
t.bankerCard3.getComponent(I.default).smallSizeBgMaterial(!0);
}
}, 1 / 60);
this.reconnectMoveCard(this.bankerCard3, {
scaleX: this._cardSize.x,
scaleY: this._cardSize.y,
moveTime: 0,
delayTime: 0,
pointX: this._dealCardPos[5].x,
pointY: this._dealCardPos[5].y
});
};
t.prototype.reconnectRoomOpenCard = function(e) {
var t = this;
console.log("");
var o = function(e) {
v.default.isnull(e) && e.getComponent(I.default).reconnectAutomaticFlop();
};
e.list.forEach(function(e) {
if (1 == e.whose) {
if (1 == e.index) {
o(t.playerCard1);
t.reductionCard(t.playerCard1, {
scaleX: t._cardSize.x,
scaleY: t._cardSize.y,
x: t._dealCardPos[0].x,
y: t._dealCardPos[0].y
});
} else if (2 == e.index) {
o(t.playerCard2);
t.reductionCard(t.playerCard2, {
scaleX: t._cardSize.x,
scaleY: t._cardSize.y,
x: t._dealCardPos[2].x,
y: t._dealCardPos[2].y
});
} else if (3 == e.index) {
o(t.playerCard3);
t.reductionCard(t.playerCard3, {
scaleX: t._cardSize.x,
scaleY: t._cardSize.y,
x: t._dealCardPos[4].x,
y: t._dealCardPos[4].y
}, !0);
}
d.default.roomData.playerShowCard[e.index] = v.default.getCardPoint(e.card);
} else if (2 == e.whose) {
if (1 == e.index) {
o(t.bankerCard1);
t.reductionCard(t.bankerCard1, {
scaleX: t._cardSize.x,
scaleY: t._cardSize.y,
x: t._dealCardPos[1].x,
y: t._dealCardPos[1].y
});
} else if (2 == e.index) {
o(t.bankerCard2);
t.reductionCard(t.bankerCard2, {
scaleX: t._cardSize.x,
scaleY: t._cardSize.y,
x: t._dealCardPos[3].x,
y: t._dealCardPos[3].y
});
} else if (3 == e.index) {
o(t.bankerCard3);
t.reductionCard(t.bankerCard3, {
scaleX: t._cardSize.x,
scaleY: t._cardSize.y,
x: t._dealCardPos[5].x,
y: t._dealCardPos[5].y
}, !0);
}
d.default.roomData.bankerShowCard[e.index] = v.default.getCardPoint(e.card);
}
});
var i = 0;
d.default.roomData.playerShowCard.forEach(function(e) {
i += e;
});
i %= 10;
var n = 0;
d.default.roomData.bankerShowCard.forEach(function(e) {
n += e;
});
n %= 10;
this._playerPoint.getComponent(cc.Label).string = i + "";
this._bankerPoint.getComponent(cc.Label).string = n + "";
};
t.prototype.roomStatusChangeBoard = function() {
d.default.roomData.gameState;
};
a([ N(cc.Prefab) ], t.prototype, "cutCard", void 0);
return a([ w ], t);
}(cc.Component);
o.default = L;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Conf/BaccatRoomConf": "BaccatRoomConf",
"../Conf/Const": "Const",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../Data/RoomData": "RoomData",
"../Http/MyHttp": "MyHttp",
"../Manager/CardCreator": "CardCreator",
"../Manager/CardManager": "CardManager",
"../Manager/DialogManager": "DialogManager",
"../Socket/WebSocketManager": "WebSocketManager",
"../UIFrame/CocosHelper": "CocosHelper",
"../UIFrame/SoundMgr": "SoundMgr",
"../UIFrame/UIManager": "UIManager",
"../Util/GameUtil": "GameUtil",
"../Util/SpritePreLoader": "SpritePreLoader",
"../Util/test": "test"
} ],
CardManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5aeccOQ1wFLsZi/kgYR/60z", "CardManager");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("../Util/SpritePreLoader"), a = e("./CardCreator"), r = e("./MiCard"), s = cc._decorator, c = s.ccclass, l = (s.property, 
function() {
function e() {
this._playerCard1 = null;
this._playerCard2 = null;
this._playerExtraCard = null;
this._bankerCard1 = null;
this._bankerCard2 = null;
this._bankerExtraCard = null;
this._cutCard = null;
}
t = e;
e.prototype.initCards = function() {};
e.prototype.getPlayerCard1 = function(e, t, o) {
this._playerCard1 = new r.default();
this._playerCard1.init(e, t, o);
return this._playerCard1;
};
e.prototype.getPlayerCard2 = function(e, t, o) {
this._playerCard2 = new r.default();
this._playerCard2.init(e, t, o);
return this._playerCard2;
};
e.prototype.getExtraPlayerCard = function(e, t, o) {
this._playerExtraCard = new r.default();
this._playerExtraCard.init(e, t, o);
return this._playerExtraCard;
};
e.prototype.getBankerCard1 = function(e, t, o) {
this._bankerCard1 = new r.default();
this._bankerCard1.init(e, t, o);
return this._bankerCard1;
};
e.prototype.getBankerCard2 = function(e, t, o) {
this._bankerCard2 = new r.default();
this._bankerCard2.init(e, t, o);
return this._bankerCard2;
};
e.prototype.getExtraBankerCard = function(e, t, o) {
this._bankerExtraCard = new r.default();
this._bankerExtraCard.init(e, t, o);
return this._bankerExtraCard;
};
e.prototype.getCutCard = function(e, t, o) {
this._cutCard = new r.default();
this._cutCard.init(e, t, o);
return this._cutCard;
};
e.prototype.getCardBackSpriteFrame = function(e, t) {
return e == a.CardBackColor.blue ? t ? n.SPCache.pokerBgBlueSmall : n.SPCache.pokerBgBlue : e == a.CardBackColor.red ? t ? n.SPCache.pokerBgRedSmall : n.SPCache.pokerBgRed : e == a.CardBackColor.yellow ? t ? n.SPCache.pokerBgYellowSmall : n.SPCache.pokerBgYellow : void 0;
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ c ], e);
}());
o.default = l;
cc._RF.pop();
}, {
"../Util/SpritePreLoader": "SpritePreLoader",
"./CardCreator": "CardCreator",
"./MiCard": "MiCard"
} ],
CardRecorder: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7d9a59AcM9OKpr+gAlznjCZ", "CardRecorder");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Conf/Game"), s = e("../Data/LanguageData"), c = e("../Http/MyHttp"), l = e("../UIFrame/SoundMgr"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.root = null;
t.cardList = {};
t.movePositionX = 0;
return t;
}
t.prototype.onLoad = function() {
this.node.on("click", this.onClose, this);
this.root = this.node.getChildByName("bg");
this.node.active = !1;
this.root.getChildByName("btnClose").on("click", this.onClose, this);
this.cardList.A = [ this.root.getChildByName("cardA1").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardA2").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardA3").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardA4").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("totalA").getComponent(cc.Label) ];
this.cardList[2] = [ this.root.getChildByName("card21").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card22").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card23").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card24").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("total2").getComponent(cc.Label) ];
this.cardList[3] = [ this.root.getChildByName("card31").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card32").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card33").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card34").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("total3").getComponent(cc.Label) ];
this.cardList[4] = [ this.root.getChildByName("card41").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card42").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card43").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card44").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("total4").getComponent(cc.Label) ];
this.cardList[5] = [ this.root.getChildByName("card51").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card52").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card53").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card54").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("total5").getComponent(cc.Label) ];
this.cardList[6] = [ this.root.getChildByName("card61").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card62").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card63").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card64").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("total6").getComponent(cc.Label) ];
this.cardList[7] = [ this.root.getChildByName("card71").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card72").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card73").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card74").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("total7").getComponent(cc.Label) ];
this.cardList[8] = [ this.root.getChildByName("card81").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card82").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card83").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card84").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("total8").getComponent(cc.Label) ];
this.cardList[9] = [ this.root.getChildByName("card91").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card92").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card93").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card94").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("total9").getComponent(cc.Label) ];
this.cardList.T = [ this.root.getChildByName("card101").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card102").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card103").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("card104").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("total10").getComponent(cc.Label) ];
this.cardList.J = [ this.root.getChildByName("cardJ1").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardJ2").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardJ3").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardJ4").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("totalJ").getComponent(cc.Label) ];
this.cardList.Q = [ this.root.getChildByName("cardQ1").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardQ2").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardQ3").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardQ4").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("totalQ").getComponent(cc.Label) ];
this.cardList.K = [ this.root.getChildByName("cardK1").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardK2").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardK3").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("cardK4").getChildByName("opened").getComponent(cc.Label), this.root.getChildByName("totalK").getComponent(cc.Label) ];
this.refreshLabel();
"" == r.default.prefabEndTag ? this.movePositionX = -533 : this.movePositionX = -470;
};
t.prototype.refreshLabel = function() {
this.root.getChildByName("labelTitle").getComponent(cc.Label).string = s.default.ins.STRING_ROOM("cardRecorderTitle");
};
t.prototype.onClose = function() {
l.default.inst.playEffect("closeSound");
this.hide();
};
t.prototype.hide = function() {
var e = this;
cc.tween(this.root).to(.2, {
x: -1500
}).call(function() {
e.node.active = !1;
}, this).start();
};
t.prototype.show = function(e, t, o, i) {
this.node.active = !0;
cc.tween(this.root).to(.2, {
x: this.movePositionX
}).start();
c.default.getInstance().getOpenedCardInfo(e, t, o, i);
};
t.prototype.refresh = function(e) {
this.cardList.A[0].string = e.A.S;
this.cardList.A[1].string = e.A.H;
this.cardList.A[2].string = e.A.C;
this.cardList.A[3].string = e.A.D;
this.cardList.A[4].string = e.A.O + "/" + e.A.T;
this.cardList[2][0].string = e[2].S;
this.cardList[2][1].string = e[2].H;
this.cardList[2][2].string = e[2].C;
this.cardList[2][3].string = e[2].D;
this.cardList[2][4].string = e[2].O + "/" + e[2].T;
this.cardList[3][0].string = e[3].S;
this.cardList[3][1].string = e[3].H;
this.cardList[3][2].string = e[3].C;
this.cardList[3][3].string = e[3].D;
this.cardList[3][4].string = e[3].O + "/" + e[3].T;
this.cardList[4][0].string = e[4].S;
this.cardList[4][1].string = e[4].H;
this.cardList[4][2].string = e[4].C;
this.cardList[4][3].string = e[4].D;
this.cardList[4][4].string = e[4].O + "/" + e[4].T;
this.cardList[5][0].string = e[5].S;
this.cardList[5][1].string = e[5].H;
this.cardList[5][2].string = e[5].C;
this.cardList[5][3].string = e[5].D;
this.cardList[5][4].string = e[5].O + "/" + e[5].T;
this.cardList[6][0].string = e[6].S;
this.cardList[6][1].string = e[6].H;
this.cardList[6][2].string = e[6].C;
this.cardList[6][3].string = e[6].D;
this.cardList[6][4].string = e[6].O + "/" + e[6].T;
this.cardList[7][0].string = e[7].S;
this.cardList[7][1].string = e[7].H;
this.cardList[7][2].string = e[7].C;
this.cardList[7][3].string = e[7].D;
this.cardList[7][4].string = e[7].O + "/" + e[7].T;
this.cardList[8][0].string = e[8].S;
this.cardList[8][1].string = e[8].H;
this.cardList[8][2].string = e[8].C;
this.cardList[8][3].string = e[8].D;
this.cardList[8][4].string = e[8].O + "/" + e[8].T;
this.cardList[9][0].string = e[9].S;
this.cardList[9][1].string = e[9].H;
this.cardList[9][2].string = e[9].C;
this.cardList[9][3].string = e[9].D;
this.cardList[9][4].string = e[9].O + "/" + e[9].T;
this.cardList.T[0].string = e.T.S;
this.cardList.T[1].string = e.T.H;
this.cardList.T[2].string = e.T.C;
this.cardList.T[3].string = e.T.D;
this.cardList.T[4].string = e.T.O + "/" + e.T.T;
this.cardList.J[0].string = e.J.S;
this.cardList.J[1].string = e.J.H;
this.cardList.J[2].string = e.J.C;
this.cardList.J[3].string = e.J.D;
this.cardList.J[4].string = e.J.O + "/" + e.J.T;
this.cardList.Q[0].string = e.Q.S;
this.cardList.Q[1].string = e.Q.H;
this.cardList.Q[2].string = e.Q.C;
this.cardList.Q[3].string = e.Q.D;
this.cardList.Q[4].string = e.Q.O + "/" + e.Q.T;
this.cardList.K[0].string = e.K.S;
this.cardList.K[1].string = e.K.H;
this.cardList.K[2].string = e.K.C;
this.cardList.K[3].string = e.K.D;
this.cardList.K[4].string = e.K.O + "/" + e.K.T;
};
t.prototype.start = function() {};
return a([ h ], t);
}(cc.Component));
o.default = u;
cc._RF.pop();
}, {
"../Conf/Game": "Game",
"../Data/LanguageData": "LanguageData",
"../Http/MyHttp": "MyHttp",
"../UIFrame/SoundMgr": "SoundMgr"
} ],
CardSHA512: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "47b37oeC3NA1picjJsRrT3w", "CardSHA512");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.CardSHA512_TAB = void 0;
var r, s = e("../Components/MyEvent"), c = e("../Conf/Const"), l = e("../Conf/Game"), d = e("../Data/LanguageData"), h = e("../Http/MyHttp"), u = e("../Interface/PhoneInfo"), p = e("../Manager/CardCreator"), f = e("../UIFrame/List"), m = e("../UIFrame/SoundMgr"), g = e("../Util/GameUtil"), y = e("../Util/SpritePreLoader");
(function(e) {
e[e.cardSha512List = 0] = "cardSha512List";
e[e.cardSha512Details = 1] = "cardSha512Details";
e[e.cardSha512Desc = 2] = "cardSha512Desc";
})(r = o.CardSHA512_TAB || (o.CardSHA512_TAB = {}));
var _ = cc._decorator, C = _.ccclass, b = (_.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.root = null;
t.cardSha512Data = [];
t.cardAllSha512Node = null;
t.cardSha512DetailNode = null;
t.cardSha512DescNode = null;
t.cardAllListView = null;
t.cardIndexLabel = null;
t.cardNode = null;
t.cardKey = null;
t.cardSecret = null;
t.cardCheckSecret = null;
t.helpNode = null;
t.helpNodeDesc = null;
t.copy3Btn = null;
t.copy2Btn = null;
t.copy1Btn = null;
t.confirmBtn = null;
t.copy1 = null;
t.copy2 = null;
t.copy3 = null;
t.leftCardInBox = 0;
t.helpDesc = null;
t.helpContent = null;
t.cardColor = null;
t.sha512Height = 0;
t.currGameType = c.gameType.baccarat;
t.movePositionX = 0;
return t;
}
t.prototype.onLoad = function() {
this.currGameType = c.gameType.baccarat;
var e = cc.director.getScene().name;
"baccaratRoom" == e ? this.currGameType = c.gameType.baccarat : "blackjackRoom" == e && (this.currGameType = c.gameType.blackjack);
"" == l.default.prefabEndTag ? this.movePositionX = -533 : this.movePositionX = -470;
};
t.prototype.start = function() {};
t.prototype.onClose = function() {
m.default.inst.playEffect("closeSound");
this.hide();
};
t.prototype.hide = function() {
var e = this;
cc.tween(this.root).to(.2, {
x: -1500
}).call(function() {
e.node.active = !1;
}, this).start();
};
t.prototype.onClickBG = function() {
this.helpNode.active = !1;
};
t.prototype.initNodes = function() {
this.node.on("click", this.onClose, this);
this.root = this.node.getChildByName("bg");
this.node.active = !1;
this.root.getChildByName("btnClose").on("click", this.onClose, this);
this.root.on("click", this.onClickBG, this);
this.cardAllSha512Node = this.root.getChildByName("cardAllSha512Node");
this.cardSha512DetailNode = this.root.getChildByName("cardSha512Node");
this.cardSha512DescNode = this.root.getChildByName("cardSha512DescNode");
this.cardAllSha512Node.getChildByName("btnHelp").on("click", this.onShowSha512Desc, this);
this.cardSha512DetailNode.getChildByName("btnBack").on("click", this.onBack, this);
this.cardSha512DescNode.getChildByName("btnBack").on("click", this.onBack, this);
this.helpContent = this.cardSha512DescNode.getChildByName("scrollView").getChildByName("view").getChildByName("content");
this.helpDesc = this.helpContent.getChildByName("label");
this.cardAllListView = this.cardAllSha512Node.getChildByName("scrollView").getComponent(f.default);
var e = this.cardSha512DetailNode.getChildByName("cardSha512Info");
this.cardIndexLabel = e.getChildByName("cardID").getComponent(cc.Label);
this.cardNode = e.getChildByName("cardNode");
this.cardKey = e.getChildByName("cardSecret").getComponent(cc.Label);
e.getChildByName("btnHelp").on("click", this.onHelp1, this);
e.getChildByName("btnAllSha512").on("click", this.showAllSha512, this);
e.getChildByName("btnHelp1").on("click", this.onHelp2, this);
e.getChildByName("btnCopy").on("click", this.onCopy1, this);
this.copy1Btn = e.getChildByName("btnCopy").getComponent(cc.Button);
var t = this.cardSha512DetailNode.getChildByName("cardSha512Key");
this.cardSecret = t.getChildByName("cardKey").getComponent(cc.Label);
t.getChildByName("btnCopy").on("click", this.onCopy2, this);
t.getChildByName("btnHelp").on("click", this.onHelp3, this);
this.copy2Btn = t.getChildByName("btnCopy").getComponent(cc.Button);
var o = this.cardSha512DetailNode.getChildByName("cardSha512Result");
this.cardCheckSecret = o.getChildByName("cardSecret").getComponent(cc.Label);
o.getChildByName("btnHelp").on("click", this.onHelp4, this);
this.copy3Btn = o.getChildByName("btnCopy").getComponent(cc.Button);
this.copy3Btn.node.on("click", this.onCopy3, this);
this.cardSha512DetailNode.getChildByName("btnConfirm").on("click", this.onCheckKey, this);
this.confirmBtn = this.cardSha512DetailNode.getChildByName("btnConfirm").getComponent(cc.Button);
this.helpNode = this.cardSha512DetailNode.getChildByName("helpNode");
this.helpNodeDesc = this.helpNode.getChildByName("descLabel").getComponent(cc.Label);
this.helpNode.active = !1;
this.copy3 = this.copy3Btn.node.getChildByName("image").getChildByName("label").getComponent(cc.Label);
this.copy2 = t.getChildByName("btnCopy").getChildByName("image").getChildByName("label").getComponent(cc.Label);
this.copy1 = e.getChildByName("btnCopy").getChildByName("image").getChildByName("label").getComponent(cc.Label);
this.refreshLabel();
};
t.prototype.refreshLabel = function() {
var e = this.cardSha512DetailNode.getChildByName("cardSha512Key"), t = this.cardSha512DetailNode.getChildByName("cardSha512Info"), o = this.cardSha512DetailNode.getChildByName("cardSha512Result");
this.root.getChildByName("labelTitle").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("cardSha512Title");
this.copy3Btn.node.getChildByName("image").getChildByName("label").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("copy");
e.getChildByName("btnCopy").getChildByName("image").getChildByName("label").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("copy");
t.getChildByName("btnCopy").getChildByName("image").getChildByName("label").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("copy");
t.getChildByName("btnAllSha512").getChildByName("image").getChildByName("label").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("allSha512List");
this.cardSha512DetailNode.getChildByName("btnConfirm").getChildByName("image").getChildByName("label").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("sha512Confirm");
t.getChildByName("cardSecretTitle").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("sha512des1");
e.getChildByName("cardKeyTitle").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("sha512des2");
o.getChildByName("cardSecretTitle").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("sha512des3");
var i = new cc.Node();
i.addComponent(cc.Label);
i.color = new cc.Color(149, 186, 244);
var n = i.getComponent(cc.Label);
n.overflow = cc.Label.Overflow.RESIZE_HEIGHT;
n.cacheMode = cc.Label.CacheMode.CHAR;
n.fontSize = 30;
i.width = 508;
n.string = d.default.ins.STRING_ROOM("Sha512Desc");
n._forceUpdateRenderData(!0);
this.sha512Height = i.height;
var a = this.helpDesc.getComponent(cc.Label);
this.currGameType == c.gameType.blackjack ? a.string = d.default.ins.STRING_ROOM("BJSha512Desc") : this.currGameType == c.gameType.dragonTigerFight ? a.string = d.default.ins.STRING_ROOM("dtSHA512Help") : a.string = d.default.ins.STRING_ROOM("SHA512Help");
a._forceUpdateRenderData(!0);
this.helpContent.height = this.helpDesc.height;
};
t.prototype.initAllCardSha512 = function(e, t, o, i) {
this.currGameType = e;
h.default.getInstance().getAllCardListInfo(e, t, o, i);
};
t.prototype.onHelp1 = function() {
var e = this;
m.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this.helpNodeDesc.string = d.default.ins.STRING_ROOM("SHA512Help1");
this.helpNodeDesc._forceUpdateRenderData(!0);
this.helpNode.height = this.helpNodeDesc.node.height + 35;
this.helpNode.active = !0;
if ("" == l.default.prefabEndTag) {
this.helpNode.x = -278;
this.helpNode.y = 400;
} else {
this.helpNode.x = -278;
this.helpNode.y = 500;
}
this.scheduleOnce(function() {
e.helpNode.active = !1;
}, 3);
};
t.prototype.onHelp2 = function() {
var e = this;
m.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this.helpNodeDesc.string = d.default.ins.STRING_ROOM("SHA512Help2");
this.helpNodeDesc._forceUpdateRenderData(!0);
this.helpNode.height = this.helpNodeDesc.node.height + 35;
this.helpNode.active = !0;
if ("" == l.default.prefabEndTag) {
this.helpNode.x = -278;
this.helpNode.y = 240;
} else {
this.helpNode.x = -278;
this.helpNode.y = 340;
}
this.scheduleOnce(function() {
e.helpNode.active = !1;
}, 3);
};
t.prototype.onHelp3 = function() {
var e = this;
m.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this.helpNodeDesc.string = d.default.ins.STRING_ROOM("SHA512Help3");
this.helpNodeDesc._forceUpdateRenderData(!0);
this.helpNode.height = this.helpNodeDesc.node.height + 35;
this.helpNode.active = !0;
if ("" == l.default.prefabEndTag) {
this.helpNode.x = -278;
this.helpNode.y = -5;
} else {
this.helpNode.x = -278;
this.helpNode.y = 45;
}
this.scheduleOnce(function() {
e.helpNode.active = !1;
}, 3);
};
t.prototype.onHelp4 = function() {
var e = this;
m.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this.helpNodeDesc.string = d.default.ins.STRING_ROOM("SHA512Help4");
this.helpNodeDesc._forceUpdateRenderData(!0);
this.helpNode.height = this.helpNodeDesc.node.height + 35;
this.helpNode.active = !0;
if ("" == l.default.prefabEndTag) {
this.helpNode.x = -278;
this.helpNode.y = -252;
} else {
this.helpNode.x = -278;
this.helpNode.y = -280;
}
this.scheduleOnce(function() {
e.helpNode.active = !1;
}, 3);
};
t.prototype.onCopy1 = function() {
m.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
var e = this.cardKey.string;
u.default.inst.copyStr(e);
this.copy1.string = d.default.ins.STRING_ROOM("copyed");
this.copy1Btn.interactable = !1;
"" == l.default.prefabEndTag ? g.default.alert(d.default.ins.STRING_COMMON("copySuccess"), cc.color(253, 174, 45), new cc.Vec2(-810, 177), !0) : g.default.alert(d.default.ins.STRING_COMMON("copySuccess"), cc.color(253, 174, 45), new cc.Vec2(-900, 577), !0);
};
t.prototype.onCopy2 = function() {
m.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
var e = this.cardSecret.string;
u.default.inst.copyStr(e);
this.copy2.string = d.default.ins.STRING_ROOM("copyed");
this.copy2Btn.interactable = !1;
"" == l.default.prefabEndTag ? g.default.alert(d.default.ins.STRING_COMMON("copySuccess"), cc.color(253, 174, 45), new cc.Vec2(-810, -68), !0) : g.default.alert(d.default.ins.STRING_COMMON("copySuccess"), cc.color(253, 174, 45), new cc.Vec2(-900, 277), !0);
};
t.prototype.onCopy3 = function() {
m.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
var e = this.cardCheckSecret.string;
u.default.inst.copyStr(e);
this.copy3.string = d.default.ins.STRING_ROOM("copyed");
this.copy3Btn.interactable = !1;
"" == l.default.prefabEndTag ? g.default.alert(d.default.ins.STRING_COMMON("copySuccess"), cc.color(253, 174, 45), new cc.Vec2(-810, -312), !0) : g.default.alert(d.default.ins.STRING_COMMON("copySuccess"), cc.color(253, 174, 45), new cc.Vec2(-900, -20), !0);
};
t.prototype.onCheckKey = function() {
m.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this.cardCheckSecret.string = this.cardSecret.string;
this.copy3Btn.interactable = !0;
this.confirmBtn.interactable = !1;
};
t.prototype.showAllSha512 = function() {
this.cardAllSha512Node.active = !0;
this.cardSha512DescNode.active = !1;
this.cardSha512DetailNode.active = !1;
};
t.prototype.onBack = function() {
m.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this.cardAllSha512Node.active = !0;
this.cardSha512DescNode.active = !1;
this.cardSha512DetailNode.active = !1;
};
t.prototype.onShowSha512Desc = function() {
m.default.inst.playEffect("closeSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this.cardAllSha512Node.active = !1;
this.cardSha512DescNode.active = !0;
this.cardSha512DetailNode.active = !1;
};
t.prototype.initCardsData = function(e) {
this.cardSha512Data = [];
for (var t = e[416].index, o = 0; o < e.length - 2; o++) o < t ? this.cardSha512Data.push(e[o]) : o == t ? this.cardSha512Data.push(e[416]) : this.cardSha512Data.push(e[o - 1]);
};
t.prototype.updateCardsData = function(e) {
for (var t = 0; t < this.cardSha512Data.length; t++) if (this.cardSha512Data[t].cardId == e.cardId) {
this.cardSha512Data[t].open = 1;
this.cardSha512Data[t].card = e.card;
this.cardSha512Data[t].cCode = e.cCode;
this.cardSha512Data[t].text = e.text;
break;
}
};
t.prototype.onCreateItem = function(e, t) {
var o = e.getChildByName("title"), i = e.getChildByName("cards");
if (0 == t) {
null != i && (i.active = !1);
if (null != o) o.active = !0; else {
(o = new cc.Node()).addComponent(cc.Label);
o.name = "title";
o.color = new cc.Color(149, 186, 244);
var n = o.getComponent(cc.Label);
n.overflow = cc.Label.Overflow.RESIZE_HEIGHT;
n.cacheMode = cc.Label.CacheMode.CHAR;
n.fontSize = 30;
o.width = 508;
n.string = d.default.ins.STRING_ROOM("Sha512Desc");
o.parent = e;
e.height = this.sha512Height;
}
} else {
var a = 5 * (t - 1);
null != o && (o.active = !1);
if (null != i) {
i.active = !0;
for (var r = 0; r < 5; r++) if (null != (u = i.getChildByName("cardNode" + r))) {
u.active = !0;
if (null != (f = this.cardSha512Data[a + r])) if (444 == f.cardId) {
if (null != (c = u.getChildByName("cutCard"))) c.active = !0; else {
(c = p.default.inst.getRandomCard()).name = "cutCard";
c.addComponent(cc.Button);
c.off("click");
c.x = 105 * r - 205;
c.parent = u;
c.scaleX = 98 / c.width;
c.scaleY = 132 / c.height;
}
null != (m = u.getChildByName("card")) && (m.active = !1);
null != (_ = u.getChildByName("number")) && (_.active = !1);
null != (l = u.getChildByName("cardBack")) && (l.active = !1);
} else if ("" == f.card) {
if (null != (l = u.getChildByName("cardBack"))) {
l.active = !0;
null == this.cardColor ? l.getComponent(cc.Sprite).spriteFrame = y.SPCache.tinyPokerBack : 1 == this.cardColor ? l.getComponent(cc.Sprite).spriteFrame = y.SPCache.pokerBgRedSmall : 2 == this.cardColor ? l.getComponent(cc.Sprite).spriteFrame = y.SPCache.pokerBgYellowSmall : 3 == this.cardColor && (l.getComponent(cc.Sprite).spriteFrame = y.SPCache.pokerBgBlueSmall);
l.getChildByName("cardIndex").getComponent(cc.Label).string = g.default.formatNumberToStr(f.cardId, 3);
} else {
(l = p.default.inst.getTinyCardBack(f.cardId, !1, !0, this.cardColor)).addComponent(cc.Button);
l.name = "cardBack";
l.off("click");
l.x = 105 * r - 205;
l.parent = u;
l.scaleX = 98 / l.width;
l.scaleY = 132 / l.height;
l.on("click", this.onClickCard, this);
}
if (null != (_ = u.getChildByName("number"))) {
_.active = !0;
_.getComponent(cc.Label).string = g.default.formatNumberToStr(f.cardId, 3);
} else {
var s = new cc.Node();
s.addComponent(cc.Label);
s.getComponent(cc.Label).fontSize = 30;
s.getComponent(cc.Label).cacheMode = cc.Label.CacheMode.CHAR;
s.getComponent(cc.Label).string = g.default.formatNumberToStr(f.cardId, 3);
s.color = new cc.Color(202, 223, 255);
s.parent = u;
s.name = "number";
s.x = 105 * r - 205;
s.y = -92;
}
null != (c = u.getChildByName("cutCard")) && (c.active = !1);
null != (m = u.getChildByName("card")) && (m.active = !1);
} else {
var c, l;
if (null != (m = u.getChildByName("card"))) {
m.active = !0;
p.default.inst.refreshCardWithStr(m, f.card, f.cardId, !1, !0, this.cardColor);
} else {
(m = p.default.inst.getTinyCardWithStr(f.card, f.cardId, !1, !0, this.cardColor)).addComponent(cc.Button);
m.name = "card";
m.off("click");
m.x = 105 * r - 205;
m.parent = u;
m.scaleX = 98 / m.width;
m.scaleY = 132 / m.height;
m.on("click", this.onClickCard, this);
}
if (null != (_ = u.getChildByName("number"))) {
_.active = !0;
_.getComponent(cc.Label).string = g.default.formatNumberToStr(f.cardId, 3);
} else {
var h = new cc.Node();
h.addComponent(cc.Label);
h.getComponent(cc.Label).fontSize = 30;
h.getComponent(cc.Label).cacheMode = cc.Label.CacheMode.CHAR;
h.getComponent(cc.Label).string = g.default.formatNumberToStr(f.cardId, 3);
h.color = new cc.Color(202, 223, 255);
h.parent = u;
h.name = "number";
h.x = 105 * r - 205;
h.y = -92;
}
null != (c = u.getChildByName("cutCard")) && (c.active = !1);
null != (l = u.getChildByName("cardBack")) && (l.active = !1);
} else u.active = !1;
}
} else {
(i = new cc.Node()).name = "cards";
i.parent = e;
for (r = 0; r < 5; r++) {
var u, f;
(u = new cc.Node()).name = "cardNode" + r;
u.parent = i;
if (null != (f = this.cardSha512Data[a + r])) {
var m, _;
(m = p.default.inst.getTinyCardWithStr(f.card, f.cardId, !1, !0, this.cardColor)).addComponent(cc.Button);
444 == f.cardId ? m.name = "cutCard" : "" == f.card ? m.name = "cardBack" : m.name = "card";
m.off("click");
m.x = 105 * r - 205;
m.parent = u;
m.scaleX = 98 / m.width;
m.scaleY = 132 / m.height;
(_ = new cc.Node()).addComponent(cc.Label);
_.getComponent(cc.Label).fontSize = 30;
_.getComponent(cc.Label).cacheMode = cc.Label.CacheMode.CHAR;
_.getComponent(cc.Label).string = g.default.formatNumberToStr(f.cardId, 3);
_.color = new cc.Color(202, 223, 255);
_.parent = u;
_.name = "number";
_.x = 105 * r - 205;
_.y = -92;
f.cardId <= 416 ? m.on("click", this.onClickCard, this) : _.active = !1;
}
}
}
e.height = 177;
}
};
t.prototype.onClickCard = function(e) {
var t = e.node.getChildByName("cardIndex");
if (null != t) {
var o = g.default.formatStrToNumber(t.getComponent(cc.Label).string), i = this.getCardInfo(o);
if (null != i) {
var n = {};
n.tab = r.cardSha512Details;
n.cardInfo = i;
this.show(n, this.leftCardInBox, this.cardColor);
}
}
};
t.prototype.getCardInfo = function(e) {
for (var t = this.cardSha512Data.length, o = 0; o < t; o++) {
var i = this.cardSha512Data[o];
if (i.cardId == e) return i;
}
return null;
};
t.prototype.show = function(e, t, o) {
this.cardColor = o;
if (e.tab == r.cardSha512Details) {
this.cardAllSha512Node.active = !1;
this.cardSha512DescNode.active = !1;
this.cardSha512DetailNode.active = !0;
this.initCardDetails(e.cardInfo);
} else {
this.cardAllSha512Node.active = !0;
this.cardSha512DescNode.active = !1;
this.cardSha512DetailNode.active = !1;
}
this.leftCardInBox = t;
this.node.active = !0;
cc.tween(this.root).to(.2, {
x: this.movePositionX
}).start();
var i = Math.floor((this.cardSha512Data.length - 1) / 5) + 2;
this.cardAllListView.numItems = i;
var n = t, a = i - Math.floor((n - 2) / 5) - 3;
a < 0 && (a = 0);
this.cardAllListView.scrollTo(a, 0);
};
t.prototype.showCardDetails = function(e, t, o) {
this.leftCardInBox = t;
var i = this.getCardInfo(e);
if (null != i) {
var n = {};
n.tab = r.cardSha512Details;
n.cardInfo = i;
this.show(n, t, o);
}
};
t.prototype.initCardDetails = function(e) {
var t = e.cardId, o = e.card, i = e.open, n = e.cCode, a = e.text;
this.copy1Btn.interactable = !0;
this.copy2Btn.interactable = !0;
this.copy3Btn.interactable = !1;
this.cardIndexLabel.string = d.default.ins.STRING_ROOM("Number") + g.default.formatNumberToStr(t, 3);
this.cardSecret.string = a;
this.cardKey.string = n;
if (1 == i) {
this.cardCheckSecret.string = "";
this.copy1Btn.interactable = !0;
this.confirmBtn.interactable = !0;
} else {
this.cardCheckSecret.string = d.default.ins.STRING_ROOM("Sha512Desc");
this.copy1Btn.interactable = !1;
this.confirmBtn.interactable = !1;
}
this.cardNode.removeAllChildren();
var r = p.default.inst.getTinyCardWithStr(o, t, !1, !1, this.cardColor);
r.parent = this.cardNode;
r.scaleX = .7;
r.scaleY = .7;
this.copy1.string = d.default.ins.STRING_ROOM("copy");
this.copy2.string = d.default.ins.STRING_ROOM("copy");
this.copy3.string = d.default.ins.STRING_ROOM("copy");
};
return a([ C ], t);
}(cc.Component));
o.default = b;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Conf/Const": "Const",
"../Conf/Game": "Game",
"../Data/LanguageData": "LanguageData",
"../Http/MyHttp": "MyHttp",
"../Interface/PhoneInfo": "PhoneInfo",
"../Manager/CardCreator": "CardCreator",
"../UIFrame/List": "List",
"../UIFrame/SoundMgr": "SoundMgr",
"../Util/GameUtil": "GameUtil",
"../Util/SpritePreLoader": "SpritePreLoader"
} ],
ChargeOldDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e045cSLwDdIEaGna2T/xLqV", "ChargeOldDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../data/GameLangData"), s = e("../../../public/MyComponent/WindowBase"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
this.node.getChildByName("btnClose").on("click", this.onClose, this);
this.node.getChildByName("btnOK").on("click", this._onOK, this);
this.node.getChildByName("btnCancel").on("click", this._onCancel, this);
this.node.getChildByName("btnOK").getChildByName("Label").getComponent(cc.Label).string = r.default.ins.GET_DIALOG_LANG("nowRecharge");
this.node.getChildByName("btnCancel").getChildByName("Label").getComponent(cc.Label).string = r.default.ins.GET_DIALOG_LANG("IKnow");
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = r.default.ins.STRING_COMMON("tips");
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.setDataView();
};
t.prototype.setDataView = function() {
var e = this._data, t = e.content || "", o = e.title || r.default.ins.STRING_COMMON("tips");
this.node.getChildByName("labelContent").getComponent(cc.Label).string = t;
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = o;
};
t.prototype._onCancel = function() {
this.onClose();
};
t.prototype._onOK = function() {};
return a([ l ], t);
}(s.default));
o.default = d;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../public/MyComponent/WindowBase": "WindowBase"
} ],
ChipCreator: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "78d4dpJhrhORrs/CctqTTOQ", "ChipCreator");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.ChipValue = void 0;
var n = e("../Components/ChipPool"), a = e("../Conf/Const"), r = e("../Util/SpritePreLoader");
(function(e) {
e[e.value0 = .5] = "value0";
e[e.value1 = 1] = "value1";
e[e.value5 = 5] = "value5";
e[e.value10 = 10] = "value10";
e[e.value20 = 20] = "value20";
e[e.value50 = 50] = "value50";
e[e.value100 = 100] = "value100";
e[e.value500 = 500] = "value500";
e[e.value1k = 1e3] = "value1k";
e[e.value5k = 5e3] = "value5k";
e[e.value10k = 1e4] = "value10k";
e[e.value50k = 5e4] = "value50k";
e[e.value100k = 1e5] = "value100k";
e[e.value500k = 5e5] = "value500k";
e[e.value1m = 1e6] = "value1m";
e[e.value5m = 5e6] = "value5m";
e[e.value10m = 1e7] = "value10m";
})(o.ChipValue || (o.ChipValue = {}));
var s = cc._decorator, c = s.ccclass, l = (s.property, function() {
function e() {}
t = e;
e.prototype.getChipNode = function(e, t) {
r.SPCache.chipsCharge;
t == a.goldType.free && r.SPCache.chipsFree;
for (var o = e, i = this.splitChip(o), s = [], c = 0; c < i.length; c++) {
var l = n.default.inst.get(i[c]);
s.push(l);
}
return s;
};
e.prototype.getFreeChipSpriteFrame = function(e) {
return r.SPCache.chipsFree[e];
};
e.prototype.getFreeChargeSpriteFrame = function(e) {
return r.SPCache.chipsCharge[e];
};
e.prototype.getChipShadow = function(e) {
return e >= 1e5 ? this.getChipSquareShadow() : this.getChipCircleShadow();
};
e.prototype.getChipCircleShadow = function() {
var e = new cc.Node();
e.addComponent(cc.Sprite);
e.getComponent(cc.Sprite).spriteFrame = r.SPCache.chipShadowCircle;
return e;
};
e.prototype.getChipSquareShadow = function() {
var e = new cc.Node();
e.addComponent(cc.Sprite);
e.getComponent(cc.Sprite).spriteFrame = r.SPCache.chipShadowSquare;
return e;
};
e.prototype.splitChip = function(e) {
for (var o = [], i = e, n = 0; i > 0; ) {
var a = t.chipsArray[n];
if (a <= i) {
i -= a;
o.push(a);
n = 0;
} else n += 1;
}
return o;
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e.chipsArray = [ 1e7, 5e6, 1e6, 5e5, 1e5, 5e4, 1e4, 5e3, 1e3, 500, 100, 50, 20, 10, 5, 1, .5 ];
e._inst = null;
return t = i([ c ], e);
}());
o.default = l;
cc._RF.pop();
}, {
"../Components/ChipPool": "ChipPool",
"../Conf/Const": "Const",
"../Util/SpritePreLoader": "SpritePreLoader"
} ],
ChipPool: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "818fcWYS8VGXqWJDEeRiXEP", "ChipPool");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.ChipValue = void 0;
var n, a = e("../Util/SpritePreLoader");
(function(e) {
e[e.value0 = .5] = "value0";
e[e.value1 = 1] = "value1";
e[e.value5 = 5] = "value5";
e[e.value10 = 10] = "value10";
e[e.value20 = 20] = "value20";
e[e.value50 = 50] = "value50";
e[e.value100 = 100] = "value100";
e[e.value500 = 500] = "value500";
e[e.value1k = 1e3] = "value1k";
e[e.value5k = 5e3] = "value5k";
e[e.value10k = 1e4] = "value10k";
e[e.value50k = 5e4] = "value50k";
e[e.value100k = 1e5] = "value100k";
e[e.value500k = 5e5] = "value500k";
e[e.value1m = 1e6] = "value1m";
e[e.value5m = 5e6] = "value5m";
e[e.value10m = 1e7] = "value10m";
})(n = o.ChipValue || (o.ChipValue = {}));
var r = cc._decorator, s = r.ccclass, c = (r.property, function() {
function e() {
this.mChipPool = {};
this.mChipPointer = {};
}
t = e;
e.prototype.prepare = function() {
this.mChipPool[n.value0] = [];
this.mChipPool[n.value1] = [];
this.mChipPool[n.value5] = [];
this.mChipPool[n.value10] = [];
this.mChipPool[n.value20] = [];
this.mChipPool[n.value50] = [];
this.mChipPool[n.value100] = [];
this.mChipPool[n.value500] = [];
this.mChipPool[n.value1k] = [];
this.mChipPool[n.value5k] = [];
this.mChipPool[n.value10k] = [];
this.mChipPool[n.value50k] = [];
this.mChipPool[n.value100k] = [];
this.mChipPool[n.value500k] = [];
this.mChipPool[n.value1m] = [];
this.mChipPool[n.value5m] = [];
this.mChipPool[n.value10m] = [];
this.mChipPointer[n.value0] = 0;
this.mChipPointer[n.value1] = 0;
this.mChipPointer[n.value5] = 0;
this.mChipPointer[n.value10] = 0;
this.mChipPointer[n.value20] = 0;
this.mChipPointer[n.value50] = 0;
this.mChipPointer[n.value100] = 0;
this.mChipPointer[n.value500] = 0;
this.mChipPointer[n.value1k] = 0;
this.mChipPointer[n.value5k] = 0;
this.mChipPointer[n.value10k] = 0;
this.mChipPointer[n.value50k] = 0;
this.mChipPointer[n.value100k] = 0;
this.mChipPointer[n.value500k] = 0;
this.mChipPointer[n.value1m] = 0;
this.mChipPointer[n.value5m] = 0;
this.mChipPointer[n.value10m] = 0;
this.preCreateChipNode(n.value0, 10);
this.preCreateChipNode(n.value1, 50);
this.preCreateChipNode(n.value5, 50);
this.preCreateChipNode(n.value10, 50);
this.preCreateChipNode(n.value20, 50);
this.preCreateChipNode(n.value50, 100);
this.preCreateChipNode(n.value100, 300);
this.preCreateChipNode(n.value500, 100);
this.preCreateChipNode(n.value1k, 100);
this.preCreateChipNode(n.value5k, 50);
this.preCreateChipNode(n.value10k, 10);
this.preCreateChipNode(n.value50k, 10);
this.preCreateChipNode(n.value100k, 5);
this.preCreateChipNode(n.value500k, 4);
this.preCreateChipNode(n.value1m, 3);
this.preCreateChipNode(n.value5m, 2);
this.preCreateChipNode(n.value10m, 1);
};
e.prototype.get = function(e) {
var t = null, o = this.mChipPool[e].length;
if (this.mChipPointer[e] < o) {
if (null == (t = this.mChipPool[e][this.mChipPointer[e]])) {
t = this.createChipNode(e);
this.mChipPool[e][this.mChipPointer[e]] = t;
}
this.mChipPointer[e]++;
console.log("chip pool get chip in pool ", e, "  pointer", this.mChipPointer[e]);
} else {
t = this.createChipNode(e);
this.mChipPool[e].push(t);
this.mChipPointer[e]++;
console.log("chip pool create node chip ", e, "  pointer", this.mChipPointer[e]);
}
return t;
};
e.prototype.destroy = function() {
for (var e in this.mChipPool) for (var t = this.mChipPool[e], o = 0; o < t.length; o++) {
var i = t[o];
null != i && i.destroy();
}
this.mChipPool[n.value0] = [];
this.mChipPool[n.value1] = [];
this.mChipPool[n.value5] = [];
this.mChipPool[n.value10] = [];
this.mChipPool[n.value20] = [];
this.mChipPool[n.value50] = [];
this.mChipPool[n.value100] = [];
this.mChipPool[n.value500] = [];
this.mChipPool[n.value1k] = [];
this.mChipPool[n.value5k] = [];
this.mChipPool[n.value10k] = [];
this.mChipPool[n.value50k] = [];
this.mChipPool[n.value100k] = [];
this.mChipPool[n.value500k] = [];
this.mChipPool[n.value1m] = [];
this.mChipPool[n.value5m] = [];
this.mChipPool[n.value10m] = [];
this.mChipPointer[n.value0] = 0;
this.mChipPointer[n.value1] = 0;
this.mChipPointer[n.value5] = 0;
this.mChipPointer[n.value10] = 0;
this.mChipPointer[n.value20] = 0;
this.mChipPointer[n.value50] = 0;
this.mChipPointer[n.value100] = 0;
this.mChipPointer[n.value500] = 0;
this.mChipPointer[n.value1k] = 0;
this.mChipPointer[n.value5k] = 0;
this.mChipPointer[n.value10k] = 0;
this.mChipPointer[n.value50k] = 0;
this.mChipPointer[n.value100k] = 0;
this.mChipPointer[n.value500k] = 0;
this.mChipPointer[n.value1m] = 0;
this.mChipPointer[n.value5m] = 0;
this.mChipPointer[n.value10m] = 0;
};
e.prototype.reset = function() {
for (var e in this.mChipPool) for (var t = this.mChipPool[e], o = 0; o < t.length; o++) {
var i = t[o];
null != i && i.removeFromParent(!1);
}
this.mChipPointer[n.value0] = 0;
this.mChipPointer[n.value1] = 0;
this.mChipPointer[n.value5] = 0;
this.mChipPointer[n.value10] = 0;
this.mChipPointer[n.value20] = 0;
this.mChipPointer[n.value50] = 0;
this.mChipPointer[n.value100] = 0;
this.mChipPointer[n.value500] = 0;
this.mChipPointer[n.value1k] = 0;
this.mChipPointer[n.value5k] = 0;
this.mChipPointer[n.value10k] = 0;
this.mChipPointer[n.value50k] = 0;
this.mChipPointer[n.value100k] = 0;
this.mChipPointer[n.value500k] = 0;
this.mChipPointer[n.value1m] = 0;
this.mChipPointer[n.value5m] = 0;
this.mChipPointer[n.value10m] = 0;
};
e.prototype.preCreateChipNode = function(e, t) {
for (var o = 0; o < t; o++) {
var i = this.createChipNode(e);
this.mChipPool[e].push(i);
}
};
e.prototype.createChipNode = function(e) {
var t = a.SPCache.chipsCharge, o = new cc.Node();
o.addComponent(cc.Sprite);
o.getComponent(cc.Sprite).spriteFrame = t[e];
return o;
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ s ], e);
}());
o.default = c;
cc._RF.pop();
}, {
"../Util/SpritePreLoader": "SpritePreLoader"
} ],
ClickEffect: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "091b0/d9KFMdYFXuq6PgzHP", "ClickEffect");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.ClickEffect = void 0;
var r = cc._decorator, s = r.ccclass, c = (r.property, function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.showEffect = function() {};
return a([ s ], t);
}(cc.Node));
o.ClickEffect = c;
cc._RF.pop();
}, {} ],
CocosHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "316acH1gkJNEbs4ES6o2E8Q", "CocosHelper");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.LoadProgress = void 0;
var a = e("./config/SysDefine"), r = function() {};
o.LoadProgress = r;
var s = function() {
function e() {}
e.runRepeatTweenSync = function(e, t) {
for (var o = [], a = 2; a < arguments.length; a++) o[a - 2] = arguments[a];
return i(this, void 0, void 0, function() {
return n(this, function() {
return [ 2, new Promise(function() {
for (var i = cc.tween(e), n = 0, a = o; n < a.length; n++) {
var r = a[n];
i = i.then(r);
}
t < 0 ? cc.tween(e).repeatForever(i).start() : cc.tween(e).repeat(t, i).start();
}) ];
});
});
};
e.runTweenSync = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return i(this, void 0, Promise, function() {
return n(this, function() {
return [ 2, new Promise(function(o) {
for (var i = cc.tween(e), n = 0, a = t; n < a.length; n++) {
var r = a[n];
i = i.then(r);
}
i.call(function() {
o();
}).start();
}) ];
});
});
};
e.prototype.stopTween = function(e) {
cc.Tween.stopAllByTarget(e);
};
e.prototype.stopTweenByTag = function(e) {
cc.Tween.stopAllByTag(e);
};
e.runActionSync = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return i(this, void 0, void 0, function() {
return n(this, function() {
return !t || t.length <= 0 ? [ 2 ] : [ 2, new Promise(function(o) {
t.push(cc.callFunc(function() {
o(!0);
}));
e.runAction(cc.sequence(t));
}) ];
});
});
};
e.runAnimSync = function(t, o) {
return i(this, void 0, void 0, function() {
var i, a, r, s;
return n(this, function(n) {
switch (n.label) {
case 0:
if (!(i = t.getComponent(cc.Animation))) return [ 2 ];
a = null;
if (o) {
r = i.getClips();
if ("number" == typeof o) a = r[o]; else if ("string" == typeof o) for (s = 0; s < r.length; s++) if (r[s].name === o) {
a = r[s];
break;
}
} else a = i.defaultClip;
return a ? [ 4, e.sleepSync(a.duration) ] : [ 2 ];

case 1:
n.sent();
return [ 2 ];
}
});
});
};
e.loadResThrowErrorSync = function() {
return null;
};
e.loadRes = function(e, t, o) {
return i(this, void 0, void 0, function() {
var i = this;
return n(this, function() {
if (this._loadingMap[e]) {
this._loadingMap[e].push(o);
return [ 2 ];
}
this._loadingMap[e] = [ o ];
this.loadResSync(e, t).then(function(t) {
for (var o = 0, n = i._loadingMap[e]; o < n.length; o++) (0, n[o])(t);
i._loadingMap[e] = null;
delete i._loadingMap[e];
});
return [ 2 ];
});
});
};
e.loadResSync = function(t, o, i) {
var n = this;
if (t && o) {
e.loadProgress.url = t;
i && (this.loadProgress.cb = i);
return new Promise(function(i) {
cc.loader.loadRes(t, o, n._progressCallback, function(o, n) {
if (o) {
cc.error(t + " []  " + o);
i(null);
} else i(n);
e.loadProgress.url = "";
e.loadProgress.completedCount = 0;
e.loadProgress.totalCount = 0;
e.loadProgress.item = null;
e.loadProgress.cb = null;
});
});
}
cc.error("", t, o);
};
e.loadBundleRes = function(e, t, o) {
var i = cc.assetManager.getBundle(t);
if (i) return new Promise(function(t) {
i.load(e, o, function(o, i) {
if (o) {
cc.error(e + " []  " + o);
t(null);
} else t(i);
});
});
};
e._progressCallback = function(t, o, i) {
e.loadProgress.completedCount = t;
e.loadProgress.totalCount = o;
e.loadProgress.item = i;
e.loadProgress.cb && e.loadProgress.cb(t, o, i);
};
e.findChildInNode = function(e, t) {
if (t.name == e) return t;
for (var o = 0; o < t.childrenCount; o++) {
var i = this.findChildInNode(e, t.children[o]);
if (i) return i;
}
return null;
};
e.checkNodePrefix = function(e) {
return e[0] === a.SysDefine.SYS_STANDARD_Prefix;
};
e.checkBindChildren = function(e) {
return e[e.length - 1] !== a.SysDefine.SYS_STANDARD_End;
};
e.getPrefixNames = function(e) {
if (null !== e) return e.split(a.SysDefine.SYS_STANDARD_Separator);
};
e.getComponentName = function(e) {
var t = e.name.match(/<.*>$/);
return t && t.length > 0 ? t[0].slice(1, -1) : e.name;
};
e.loadBundleSync = function(e, t) {
return new Promise(function(o) {
cc.assetManager.loadBundle(e, t, function(t, i) {
if (t) o(i); else {
cc.error("bundle, url: " + e + ", err:" + t);
o(null);
}
});
});
};
e.loadAssetFromBundleSync = function(e, t) {
var o = cc.assetManager.getBundle(e);
if (!o) {
cc.error("bundle, bundle, bundleUrl:" + e);
return null;
}
return new Promise(function(e) {
o.load(t, function(o, i) {
if (o) {
cc.error("bundle, asset, url:" + t + ", err:" + o);
e(null);
} else e(i);
});
});
};
e.loadAssetSync = function(e) {
var t = this;
return new Promise(function(o) {
cc.resources.load(e, function(i, n) {
if (i) {
t.addRef(n);
o(n);
} else {
cc.error("asset, url:" + e + ", err: " + i);
o(null);
}
});
});
};
e.releaseAsset = function(e) {
this.decRes(e);
};
e.addRef = function(e) {
if (e instanceof Array) for (var t = 0, o = e; t < o.length; t++) o[t].addRef(); else e.addRef();
};
e.decRes = function(e) {
if (e instanceof Array) for (var t = 0, o = e; t < o.length; t++) o[t].decRef(); else e.decRef();
};
e.testForCallback = function(e) {
setTimeout(function() {
e(1);
}, 1e3);
return 1;
};
e.captureScreen = function(e, t) {
var o = new cc.RenderTexture(), i = e.targetTexture, n = cc.rect(0, 0, cc.visibleRect.width, cc.visibleRect.height);
t && (n = t instanceof cc.Node ? t.getBoundingBoxToWorld() : t);
o.initWithSize(cc.visibleRect.width, cc.visibleRect.height, cc.RenderTexture.DepthStencilFormat.RB_FMT_S8);
e.targetTexture = o;
e.render();
e.targetTexture = i;
var a = new ArrayBuffer(n.width * n.height * 4), r = new Uint8Array(a);
o.readPixels(r, n.x, n.y, n.width, n.height);
return r;
};
e.loadProgress = new r();
e.sleepSync = function(e) {
return new Promise(function(t) {
setTimeout(function() {
t(!0);
}, 1e3 * e);
});
};
e._loadingMap = {};
return e;
}();
o.default = s;
cc._RF.pop();
}, {
"./config/SysDefine": "SysDefine"
} ],
CocosPublic: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "88311w7oU1LiLMFYTYzF2gH", "CocosPublic");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.LoadProgress = void 0;
var a = e("./GameSysDefine"), r = function() {};
o.LoadProgress = r;
var s = function() {
function e() {}
e.getPrefixNames = function(e) {
if (null !== e) return e.split(a.GameSysDefine.SYS_STANDARD_Separator);
};
e.getComponentName = function(e) {
var t = e.name.match(/<.*>$/);
return t && t.length > 0 ? t[0].slice(1, -1) : e.name;
};
e.captureScreen = function(e, t) {
var o = new cc.RenderTexture(), i = e.targetTexture, n = cc.rect(0, 0, cc.visibleRect.width, cc.visibleRect.height);
t && (n = t instanceof cc.Node ? t.getBoundingBoxToWorld() : t);
o.initWithSize(cc.visibleRect.width, cc.visibleRect.height, cc.RenderTexture.DepthStencilFormat.RB_FMT_S8);
e.targetTexture = o;
e.render();
e.targetTexture = i;
var a = new ArrayBuffer(n.width * n.height * 4), r = new Uint8Array(a);
o.readPixels(r, n.x, n.y, n.width, n.height);
return r;
};
e.runTweenSync = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return i(this, void 0, Promise, function() {
return n(this, function() {
return [ 2, new Promise(function(o) {
for (var i = cc.tween(e), n = 0, a = t; n < a.length; n++) {
var r = a[n];
i = i.then(r);
}
i.call(function() {
o();
}).start();
}) ];
});
});
};
e.runRepeatTweenSync = function(e, t) {
for (var o = [], a = 2; a < arguments.length; a++) o[a - 2] = arguments[a];
return i(this, void 0, void 0, function() {
return n(this, function() {
return [ 2, new Promise(function() {
for (var i = cc.tween(e), n = 0, a = o; n < a.length; n++) {
var r = a[n];
i = i.then(r);
}
t < 0 ? cc.tween(e).repeatForever(i).start() : cc.tween(e).repeat(t, i).start();
}) ];
});
});
};
e.prototype.stopTween = function(e) {
cc.Tween.stopAllByTarget(e);
};
e.prototype.stopTweenByTag = function(e) {
cc.Tween.stopAllByTag(e);
};
e.runActionSync = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return i(this, void 0, void 0, function() {
return n(this, function() {
return !t || t.length <= 0 ? [ 2 ] : [ 2, new Promise(function(o) {
t.push(cc.callFunc(function() {
o(!0);
}));
e.runAction(cc.sequence(t));
}) ];
});
});
};
e.runAnimSync = function(t, o) {
return i(this, void 0, void 0, function() {
var i, a, r, s;
return n(this, function(n) {
switch (n.label) {
case 0:
if (!(i = t.getComponent(cc.Animation))) return [ 2 ];
a = null;
if (o) {
r = i.getClips();
if ("number" == typeof o) a = r[o]; else if ("string" == typeof o) for (s = 0; s < r.length; s++) if (r[s].name === o) {
a = r[s];
break;
}
} else a = i.defaultClip;
return a ? [ 4, e.sleepSync(a.duration) ] : [ 2 ];

case 1:
n.sent();
return [ 2 ];
}
});
});
};
e.loadResThrowErrorSync = function() {
return null;
};
e.decRes = function(e) {
if (e instanceof Array) for (var t = 0, o = e; t < o.length; t++) o[t].decRef(); else e.decRef();
};
e.loadRes = function(e, t, o) {
return i(this, void 0, void 0, function() {
var i = this;
return n(this, function() {
if (this._loadingMap[e]) {
this._loadingMap[e].push(o);
return [ 2 ];
}
this._loadingMap[e] = [ o ];
this.loadResSync(e, t).then(function(t) {
for (var o = 0, n = i._loadingMap[e]; o < n.length; o++) (0, n[o])(t);
i._loadingMap[e] = null;
delete i._loadingMap[e];
});
return [ 2 ];
});
});
};
e.loadResSync = function(t, o, i) {
var n = this;
if (t && o) {
e.loadProgress.url = t;
i && (this.loadProgress.cb = i);
return new Promise(function(i) {
cc.loader.loadRes(t, o, n._progressCallback, function(o, n) {
if (o) {
cc.error(t + " []  " + o);
i(null);
} else i(n);
e.loadProgress.url = "";
e.loadProgress.completedCount = 0;
e.loadProgress.totalCount = 0;
e.loadProgress.item = null;
e.loadProgress.cb = null;
});
});
}
cc.error("", t, o);
};
e.loadAssetFromBundleSync = function(e, t) {
var o = cc.assetManager.getBundle(e);
if (!o) {
cc.error("bundle, bundle, bundleUrl:" + e);
return null;
}
return new Promise(function(e) {
o.load(t, function(o, i) {
if (o) {
cc.error("bundle, asset, url:" + t + ", err:" + o);
e(null);
} else e(i);
});
});
};
e.loadBundleRes = function(e, t, o) {
var i = cc.assetManager.getBundle(t);
if (i) return new Promise(function(t) {
i.load(e, o, function(o, i) {
if (o) {
cc.error(e + " []  " + o);
t(null);
} else t(i);
});
});
};
e._progressCallback = function(t, o, i) {
e.loadProgress.completedCount = t;
e.loadProgress.totalCount = o;
e.loadProgress.item = i;
e.loadProgress.cb && e.loadProgress.cb(t, o, i);
};
e.findChildInNode = function(e, t) {
if (t.name == e) return t;
for (var o = 0; o < t.childrenCount; o++) {
var i = this.findChildInNode(e, t.children[o]);
if (i) return i;
}
return null;
};
e.checkNodePrefix = function(e) {
return e[0] === a.GameSysDefine.SYS_STANDARD_Prefix;
};
e.checkBindChildren = function(e) {
return e[e.length - 1] !== a.GameSysDefine.SYS_STANDARD_End;
};
e.loadBundleSync = function(e, t) {
return new Promise(function(o) {
cc.assetManager.loadBundle(e, t, function(t, i) {
if (t) o(i); else {
cc.error("bundle, url: " + e + ", err:" + t);
o(null);
}
});
});
};
e.loadAssetSync = function(e) {
var t = this;
return new Promise(function(o) {
cc.resources.load(e, function(i, n) {
if (i) {
t.addRef(n);
o(n);
} else {
cc.error("asset, url:" + e + ", err: " + i);
o(null);
}
});
});
};
e.releaseAsset = function(e) {
this.decRes(e);
};
e.addRef = function(e) {
if (e instanceof Array) for (var t = 0, o = e; t < o.length; t++) o[t].addRef(); else e.addRef();
};
e.testForCallback = function(e) {
setTimeout(function() {
e(1);
}, 1e3);
return 1;
};
e.loadProgress = new r();
e.sleepSync = function(e) {
return new Promise(function(t) {
setTimeout(function() {
t(!0);
}, 1e3 * e);
});
};
e._loadingMap = {};
return e;
}();
o.default = s;
cc._RF.pop();
}, {
"./GameSysDefine": "GameSysDefine"
} ],
CoinInsuficient: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ec977OOqAZADZ90KQ/mAkiK", "CoinInsuficient");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Data/LanguageData"), s = e("../Components/DialogBase"), c = e("../Util/GameUtil"), l = e("../Data/GameData"), d = e("../Manager/DialogManager"), h = e("../Manager/ADManager"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.root = null;
return t;
}
t.prototype.onLoad = function() {
this.root = this.node.getChildByName("dialog");
this.root.getChildByName("btnClose").on("click", this.onClose, this);
this.root.getChildByName("btnOK").on("click", this._onOK, this);
this.root.getChildByName("btnMore").on("click", this._onCancel, this);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.root.getChildByName("descLabel").getComponent(cc.RichText).string = r.default.ins.STRING_ROOM("coinInsuficientDesc");
this.root.getChildByName("titleLabel").getComponent(cc.Label).string = r.default.ins.STRING_DIALOG("coinTips");
this.root.getChildByName("btnMore").getChildByName("label").getComponent(cc.Label).string = r.default.ins.STRING_DIALOG("freeCoin");
this.root.getChildByName("btnOK").getChildByName("label").getComponent(cc.Label).string = r.default.ins.STRING_DIALOG("buyChips");
this.root.getChildByName("btnMore").getChildByName("label").getComponent(cc.Label)._forceUpdateRenderData(!0);
var t = this.root.getChildByName("btnMore").getChildByName("label").width + this.root.getChildByName("btnMore").getChildByName("icon").width + 5;
this.root.getChildByName("btnMore").getChildByName("icon").x = -t / 2;
this.root.getChildByName("btnMore").getChildByName("label").x = this.root.getChildByName("btnMore").getChildByName("icon").x + this.root.getChildByName("btnMore").getChildByName("icon").width + 5;
if (c.default.isADValid()) {
this.root.getChildByName("btnMore").active = !0;
this.root.getChildByName("btnOK").active = !0;
} else {
this.root.getChildByName("btnMore").active = !1;
this.root.getChildByName("btnOK").active = !0;
this.root.getChildByName("btnOK").x = 0;
}
};
t.prototype._onCancel = function() {
h.default.inst.showAD(!0);
this.onClose();
};
t.prototype._onOK = function() {
1 == l.default.UserData.firstStrike ? d.default.inst.showFullView(d.DialogIndex.firstCharge) : d.default.inst.showFullView(d.FullViewIndex.gameShop);
this.onClose();
};
return a([ p ], t);
}(s.default));
o.default = f;
cc._RF.pop();
}, {
"../Components/DialogBase": "DialogBase",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../Manager/ADManager": "ADManager",
"../Manager/DialogManager": "DialogManager",
"../Util/GameUtil": "GameUtil"
} ],
ColorAssembler2D: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "bc1a7Fy5shJRbzcN8933B1R", "ColorAssembler2D");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = r.property, l = r.executeInEditMode, d = r.requireComponent, h = r.disallowMultiple, u = r.menu, p = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._colors = [];
return t;
}
Object.defineProperty(t.prototype, "colors", {
get: function() {
return this._colors;
},
set: function(e) {
this._colors = e;
cc.director.once(cc.Director.EVENT_AFTER_DRAW, this._updateColors, this);
},
enumerable: !1,
configurable: !0
});
t.prototype.onEnable = function() {
cc.director.once(cc.Director.EVENT_AFTER_DRAW, this._updateColors, this);
};
t.prototype.onDisable = function() {
cc.director.off(cc.Director.EVENT_AFTER_DRAW, this._updateColors, this);
this.node._renderFlag |= cc.RenderFlow.FLAG_COLOR;
};
t.prototype._updateColors = function() {
var e = this.getComponent(cc.RenderComponent);
if (e) {
var t = e._assembler;
if (t instanceof cc.Assembler2D) {
var o = t._renderData.uintVDatas[0];
if (o) for (var i = this.node.color, n = t.floatsPerVert, a = 0, r = t.colorOffset, s = o.length; r < s; r += n) o[r] = (this.colors[a++] || i)._val;
}
}
};
a([ c ], t.prototype, "_colors", void 0);
a([ c({
type: [ cc.Color ]
}) ], t.prototype, "colors", null);
return a([ s, h(), u("/ColorAssembler2D"), l, d(cc.RenderComponent) ], t);
}(cc.Component);
o.default = p;
cc._RF.pop();
}, {} ],
ColorAssemblerGame: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "765015VZylN+Y04LjaUzIni", "ColorAssemblerGame");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = r.property, l = r.executeInEditMode, d = r.requireComponent, h = r.disallowMultiple, u = r.menu, p = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._colors = [];
return t;
}
Object.defineProperty(t.prototype, "colors", {
get: function() {
return this._colors;
},
set: function(e) {
this._colors = e;
cc.director.once(cc.Director.EVENT_AFTER_DRAW, this._updateColors, this);
},
enumerable: !1,
configurable: !0
});
t.prototype.onDisable = function() {
cc.director.off(cc.Director.EVENT_AFTER_DRAW, this._updateColors, this);
this.node._renderFlag |= cc.RenderFlow.FLAG_COLOR;
};
t.prototype.onEnable = function() {
cc.director.once(cc.Director.EVENT_AFTER_DRAW, this._updateColors, this);
};
t.prototype._updateColors = function() {
var e = this.getComponent(cc.RenderComponent);
if (e) {
var t = e._assembler;
if (t instanceof cc.Assembler2D) {
var o = t._renderData.uintVDatas[0];
if (o) for (var i = this.node.color, n = t.floatsPerVert, a = 0, r = t.colorOffset, s = o.length; r < s; r += n) o[r] = (this.colors[a++] || i)._val;
}
}
};
a([ c ], t.prototype, "_colors", void 0);
a([ c({
type: [ cc.Color ]
}) ], t.prototype, "colors", null);
return a([ s, h(), u("/ColorAssemblerGame"), l, d(cc.RenderComponent) ], t);
}(cc.Component);
o.default = p;
cc._RF.pop();
}, {} ],
CommonData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ab0f9RbErhNCY1QPhsQSDiM", "CommonData");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function() {
function e() {}
e.resetRoomData = function() {
this.roomData.playerMiCardId = 0;
this.roomData.bankerMiCardId = 0;
};
e.setCard = function(t, o, i) {
i ? e.frameCahces[t] = o : e.noNumFrameCahces[t] = o;
};
e.getCard = function(t, o) {
return o ? e.frameCahces[t] ? e.frameCahces[t] : null : e.noNumFrameCahces[t] ? e.noNumFrameCahces[t] : null;
};
e.clearHallData = function() {
e.hallData.giveCoinInfo = {
count: 0,
list: {}
};
e.UserData.faceBookBinding = !1;
e.UserData.phoneBinding = !1;
};
e.clearRoomData = function() {
e.roomData.goldType = 0;
e.roomData.roomId = 0;
e.roomData.timeLevel = 0;
e.roomData.autoOpen = 0;
e.roomData.dutyType = 0;
e.roomData.minChip = 0;
e.roomData.maxBlind = 0;
e.roomData.maxOther = 0;
e.roomData.maxLucky6 = 0;
e.roomData.cardColor = 0;
e.roomData.cutCardNum = 0;
e.roomData.cutCardPos = 0;
e.roomData.count = 0;
e.roomData.road = [];
e.roomData.remainCount = 0;
e.roomData.remainCardCount = 0;
e.roomData.gameState = "";
e.roomData.timeOut = 0;
e.roomData.RemainTimeOut = 0;
e.roomData.sendCards = [];
e.roomData.allChipins = [];
e.roomData.standChipins = [];
e.roomData.seatedData = [];
e.roomData.standData = [];
e.roomData.openCardEd = [];
e.roomData.selfChipData = [];
e.roomData.isReconnect = 0;
e.roomData.roomConf = {};
e.roomData.playerMiCardId = 0;
e.roomData.bankerMiCardId = 0;
e.roomData.shuffleInfo = {};
e.roomData.betBankerOrPlayerEd = 99;
e.roomData.tipsCutCardDialog = !1;
e.roomData.chatList = [];
e.roomData.reconnectData = {};
e.roomData.roomMembers = {};
e.roomData.ifBetQualification = !1;
e.roomData.countDownTime = 0;
e.roomData.isTheLastGame = !1;
e.roomData.tableState = 0;
e.roomData.playerShowCard = [ 0, 0, 0 ];
e.roomData.bankerShowCard = [ 0, 0, 0 ];
e.roomData.signOut = !1;
e.roomData.roomReconnectIng = !1;
};
e.clearbindData = function() {
e.bindData.phoneNum = "";
e.bindData.fbName = "";
};
e.UserData = {
server: "ws://192.168.1.100:8828",
conf: "http://127.0.0.1/",
userId: 0,
registered: 0,
nickname: "",
country: "",
exp: 0,
chip: 0,
coin: 0,
point: 0,
vipExp: 0,
gameType: 0,
goldType: 0,
roomId: 0,
ukey: "",
maxvipExp: 0,
seatId: 0,
safeChip: 0,
giftId: 0,
faceBookBinding: !1,
phoneBinding: !1,
coinFeedback: !0,
screenshotShar: !0,
sandLanguage: 1,
showLanguage: 1,
shockSetUp: !0,
musicSetUp: .5,
soundSetUp: .5,
firstStrike: 0
};
e.roomData = {
gameType: 0,
roomType: 0,
goldType: 0,
playType: 0,
roomId: 0,
timeLevel: 0,
autoOpen: 0,
dutyType: 0,
minChip: 0,
maxBlind: 0,
maxOther: 0,
maxLucky6: 0,
cardColor: 0,
cutCardNum: 0,
cutCardPos: 0,
count: 0,
road: [],
remainCount: 0,
remainCardCount: 0,
gameState: "",
timeOut: 0,
RemainTimeOut: 0,
sendCards: [],
allChipins: [],
standChipins: [],
seatedData: [],
standData: [],
openCardEd: [],
selfChipData: [],
isReconnect: 0,
roomConf: {},
playerMiCardId: 0,
bankerMiCardId: 0,
shuffleInfo: {},
betBankerOrPlayerEd: 99,
tipsCutCardDialog: !1,
chatList: [],
reconnectData: {},
ifBetQualification: !1,
countDownTime: 0,
isTheLastGame: !1,
tableState: 0,
roomMembers: {},
playerShowCard: [ 0, 0, 0 ],
bankerShowCard: [ 0, 0, 0 ],
signOut: !1,
roomReconnectIng: !1
};
e.hallData = {
getRoomListNum: 0,
enterHallNum: 0,
worldChatList: [],
giveCoinInfo: {
count: 0,
list: {}
},
roomType: 0,
levelType: 0,
switchRooms: {
gameType: 0,
goldType: 0,
roomId: 0,
autoSeat: 0,
roomType: 0
},
productInfo: {},
productCountry: "",
fiveStart: !1,
feedback: 0,
activityData: [],
newActiviys: [],
currSelectRoomType: 0
};
e.phoneData = {
electricity: 0,
networkType: 0,
signalStrength: 0,
sendTime: 0,
delayedTime: 50
};
e.redBagData = {
peopleLmt: 0,
peopleGetLmt: 0,
signleCoinLmt: 0
};
e.limitData = {
nickTimes: 0,
loginReward: 0,
intervaelReward: 0
};
e.bindData = {
phoneNum: "",
fbName: ""
};
e.mallData = [];
e.hasSendCenterRedTips = !1;
e.hasSendRecordRedTips = !1;
e.loading = {
isReconnect: !1
};
e.storageData = {
hallWaybillType: "hallWaybillType",
roomListHideFull: "roomListHideFull",
roomListHideVacant: "roomListHideVacant",
roomListHideNew: "roomListHideNew",
TimeStamp: "TimeStamp",
HallLftRankType: "HallLftRankType",
RankNavigation: "RankNavigation",
coinFeedback: "coinFeedback",
screenshotShar: "screenshotShar",
sandLanguage: "sandLanguage",
showLanguage: "showLanguage",
shockSetUp: "shockSetUp",
musicSetUp: "musicSetUp",
soundSetUp: "soundSetUp",
emailPush: "emailPush",
activityPush: "activityPush",
friendChatPush: "friendChatPush",
longWayPush: "longWayPush",
singleJumpPush: "singleJumpPush",
twoRoomOnePush: "twoRoomOnePush",
recentUseEjimo: "recentUseEjimo",
appPay: "appPay",
appleLoginUser: "appleLoginUser",
appleLoginToken: "appleLoginToken"
};
e.frameCahces = cc.js.createMap();
e.noNumFrameCahces = cc.js.createMap();
return e;
}();
o.default = i;
cc._RF.pop();
}, {} ],
CommonDialog: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e9708tzG+xJCqMNtsN8i0Fw", "CommonDialog");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.disconnection = o.RechargeConf = o.ConfirmData = void 0;
var r = e("../PublicTools/DialogRoot"), s = e("../FireData/CommonData"), c = e("../GameCores/DialogLogic"), l = e("../GameCores/GameRecorder"), d = e("../GameCores/EXSceneManager"), h = e("../GameNetWork/ListenNetWork"), u = e("../EXUIFrame/config/EXSysDefine"), p = e("../EXUIFrame/EXUIManager"), f = e("../GameCommon/NVSGameUtil"), m = cc._decorator, g = m.ccclass, y = (m.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.formType = u.FormType.PopUp;
return t;
}
t.prototype.onLoad = function() {
var e = this;
f.default.seekChild(this.node, "cloneBtn").on("click", this._onbtnClose, this);
this._dialog = this.node.getChildByName("dialog");
this._cancelBtn = this._dialog.getChildByName("cancelBtn");
this._okBtn = this._dialog.getChildByName("okBtn");
this._cancelLabel = this._cancelBtn.getChildByName("label");
this._okLabel = this._okBtn.getChildByName("label");
this._descLabel = this._dialog.getChildByName("descLabel");
this._titleLabel = this._dialog.getChildByName("titleLabel");
[ this._cancelBtn, this._okBtn ].forEach(function(t) {
t.on("click", e.onBtn, e);
});
};
t.prototype.onBtn = function(e) {
switch (e.node.name) {
case "cancelBtn":
this.onClose();
this._onCancel && this._onCancel();
break;

case "okBtn":
this.onClose();
this._onOk && this._onOk();
}
};
t.prototype.onShow = function(t) {
e.prototype.onShow.call(this, t);
this._confInfo = t[0];
this.canDestory = !0;
};
t.prototype._onbtnClose = function() {
e.prototype.onClose.call(this);
this._onCancel && this._onCancel();
};
t.prototype.start = function() {
if ("" != this._confInfo.title) {
this._titleLabel.active = !0;
this._titleLabel.getComponent(cc.Label).string = this._confInfo.title;
} else this._titleLabel.active = !1;
this._confInfo.desc && (this._descLabel.getComponent(cc.Label).string = this._confInfo.desc);
this._confInfo.cancelCallback && (this._onCancel = this._confInfo.cancelCallback);
this._confInfo.okCallback && (this._onOk = this._confInfo.okCallback);
this._confInfo.cancelMsg ? this._cancelMsg = this._confInfo.cancelMsg : this._cancelMsg = "Cancel";
this._confInfo.okMsg ? this._okMsg = this._confInfo.okMsg : this._okMsg = "OK";
if (this._confInfo.oneBtn) {
this._okBtn.x = 0;
this._cancelBtn.active = !1;
}
this._confInfo.closeView && this._confInfo.closeView();
this._okLabel.getComponent(cc.Label).string = this._okMsg;
this._cancelLabel.getComponent(cc.Label).string = this._cancelMsg;
this._confInfo.closeDialog && this._confInfo.closeDialog();
};
t.prototype.onClose = function() {
e.prototype.onClose.call(this);
};
return a([ g ], t);
}(r.default));
o.default = y;
o.ConfirmData = function() {
this.title = "";
};
o.RechargeConf = function() {
this.title = "Tips";
this.desc = "Coin is not enough , Please charge for play";
this.okCallback = function() {
1 == s.default.UserData.firstStrike ? p.default.getInstance().openUIForm("prefab/dialog/mall/firstStrikeDlg") : c.default.inst.showFullView(c.FullViewIndex.gameShop);
};
this.okMsg = "Charge";
this.cancelMsg = "I Kown";
this.cancelCallback = function() {};
};
o.disconnection = function() {
this.title = "Tips";
this.desc = "Network is not avaliabale";
this.okCallback = function() {
c.default.inst.closeAllDialog();
l.default.record(l.EventID.networkCloseTips, "open", 1);
h.default.inst.stopNetworkCheck();
"loginScene" != cc.director.getScene().name && d.default.enterLoading();
};
this.cancelCallback = function() {
c.default.inst.closeAllDialog();
l.default.record(l.EventID.networkCloseTips, "open", 0);
h.default.inst.stopNetworkCheck();
"loginScene" != cc.director.getScene().name && d.default.enterLoading();
};
this.okMsg = "OK";
this.oneBtn = !0;
this.closeDialog = function() {
c.default.inst.closeFullViewDialog(c.FullViewIndex.gameShop);
};
};
cc._RF.pop();
}, {
"../EXUIFrame/EXUIManager": "EXUIManager",
"../EXUIFrame/config/EXSysDefine": "EXSysDefine",
"../FireData/CommonData": "CommonData",
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../GameCores/DialogLogic": "DialogLogic",
"../GameCores/EXSceneManager": "EXSceneManager",
"../GameCores/GameRecorder": "GameRecorder",
"../GameNetWork/ListenNetWork": "ListenNetWork",
"../PublicTools/DialogRoot": "DialogRoot"
} ],
CommonTip: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "83c7ayv3lZCK4Y5OQegyEU9", "CommonTip");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._content = null;
t._bg = null;
return t;
}
t.prototype.onLoad = function() {};
t.prototype.initTips = function(e, t, o, i) {
var n = this, a = !1;
null != i && (a = i);
var r = new cc.Vec2(0, 0);
null != o && (r = o);
this.node.setPosition(r);
this._content = this.node.getChildByName("labelContent");
this._bg = this.node.getChildByName("dialog");
this._content.getComponent(cc.Label).string = e;
this._content.getComponent(cc.Label)._forceUpdateRenderData(!0);
var s = new cc.Color(248, 242, 94);
this._content.color = t || s;
var c = this._content.width + 120, l = this._content.height + 100;
c < 764 && 0 == a && (c = 764);
l < 114 && (l = 114);
this._bg.width = c;
this._bg.height = l;
this.scheduleOnce(function() {
n.node.destroy();
}, 4);
};
return a([ s ], t);
}(cc.Component));
o.default = c;
cc._RF.pop();
}, {} ],
CommonUtils: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9814d/85SFDfo1f4MmYfH4s", "CommonUtils");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.CommonUtils = void 0;
var i = e("../../UIFrame/CocosHelper"), n = e("./MatchUtils"), a = {
nextInt: function(e, t) {
return Math.floor(Math.random() * (t - e)) + e;
},
next01: function() {
return Math.random();
}
}, r = function() {
function e() {}
e.isArray = function(e) {
return "function" == typeof Array.isArray ? Array.isArray(e) : "[object Array]" === Object.prototype.toString.call(e);
};
e.foramtDate = function(e, t) {
var o = {
"M+": e.getMonth() + 1,
"d+": e.getDate(),
"h+": e.getHours(),
"m+": e.getMinutes(),
"s+": e.getSeconds(),
"q+": Math.floor((e.getMonth() + 3) / 3),
"S+": e.getMilliseconds()
};
/(y+)/i.test(t) && (t = t.replace(RegExp.$1, (e.getFullYear() + "").substr(4 - RegExp.$1.length)));
for (var i in o) new RegExp("(" + i + ")").test(t) && (t = t.replace(RegExp.$1, ("00" + o[i]).substr(("" + o[i]).length)));
return t;
};
e.getElemClamped = function(e, t) {
return e[Math.max(0, Math.min(e.length - 1, t))];
};
e.randomIntClosedRange = function(e, t) {
return Math.floor(Math.random() * (t - e + .9999) + e);
};
e.indexOf = function(e, t) {
for (var o = 0; o < t.length; o++) if (t[o] == e) return o;
return -1;
};
e.indexOfArr = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
for (var i = t.length, n = !1, a = 0; a <= e.length - i; a += i) {
n = !0;
for (var r = 0; r < i; r++) if (e[a + r] !== t[r]) {
n = !1;
break;
}
if (n) return a;
}
return -1;
};
e.floatEqual = function(e, t, o) {
void 0 === o && (o = 1e-6);
return Math.abs(e - t) < o;
};
e.formatTimeInterval = function(e, t, o) {
void 0 === t && (t = !1);
void 0 === o && (o = !1);
t = o || t;
var i = "", n = Math.floor(e / 3600);
e %= 3600;
var a = Math.floor(e / 60);
if (o || n > 0) {
n < 10 && (i += "0");
i += n + ":";
}
if (t || a > 0 || n > 0) {
a < 10 && (i += "0");
i += a + ":";
}
(e = Math.floor(e % 60)) < 10 && (i += "0");
return i + e;
};
e.alignNumber = function(e, t) {
return e - Math.floor(e / t) * t;
};
e.formatNumber = function(e) {
var t = "" + Math.floor(e), o = "", i = 0;
if (-1 == t.indexOf(".")) {
for (var n = t.length - 1; n >= 0; n--) {
o = i % 3 == 0 && 0 != i ? t.charAt(n) + "," + o : t.charAt(n) + o;
i++;
}
return o;
}
for (n = t.indexOf(".") - 1; n >= 0; n--) {
o = i % 3 == 0 && 0 != i ? t.charAt(n) + "," + o : t.charAt(n) + o;
i++;
}
return o + (t + "00").substr((t + "00").indexOf("."), 3);
};
e.updateLabelSize = function(e) {
e._updateRenderData(!0);
};
e.lerp = function(e, t, o) {
return e + (t - e) * o;
};
e.shuffle = function(e, t, o, i) {
void 0 === t && (t = a);
void 0 === o && (o = 0);
void 0 === i && (i = -1);
t = t || a;
i < 0 && (i = e.length - o);
for (var n = 0; n < i; n++) {
var r = t.nextInt(o, o + i - n), s = e[r];
e[r] = e[i - n - 1 + o];
e[i - n - 1 + o] = s;
}
};
e.setItemSpriteFrame = function(e, t, o) {
void 0 === o && (o = null);
e.spriteFrameName = t;
i.default.loadResSync(t, cc.SpriteFrame).then(function(i) {
if (e.isValid && e.spriteFrameName == t) {
e.spriteFrame = i;
o && o(e);
}
});
};
e.addSimpleClick = function(e, t) {
var o = e, i = null;
o.on(cc.Node.EventType.TOUCH_START, function(e) {
i = e.getLocation();
}, this);
o.on(cc.Node.EventType.TOUCH_END, function(e) {
i && i.subSelf(e.getLocation()).mag() < 3 && t();
}, this);
};
e.isGoodNumber = function(e) {
return "number" == typeof e && !Number.isNaN(e);
};
e.getVisibleRect = function() {
var e = cc.view.getViewportRect();
return cc.rect(e.origin.x / -cc.view.getScaleX(), e.origin.y / -cc.view.getScaleY(), (e.size.width + 2 * e.origin.x) / cc.view.getScaleX(), (e.size.height + 2 * e.origin.y) / cc.view.getScaleY());
};
e.httpGet = function(e, t) {
var o = cc.loader.getXMLHttpRequest();
o.onreadystatechange = function() {
if (4 === o.readyState && 200 == o.status) {
var e = o.responseText, i = JSON.parse(e);
t(i);
} else 4 === o.readyState && 401 == o.status && t({
ret: 1
});
};
o.open("GET", e, !0);
o.setRequestHeader("Access-Control-Allow-Origin", "*");
o.setRequestHeader("Access-Control-Allow-Methods", "GET, POST");
o.setRequestHeader("Access-Control-Allow-Headers", "x-requested-with,content-type,authorization");
o.setRequestHeader("Content-Type", "application/json");
o.timeout = 8e3;
o.send();
};
e.randomGaussian = function(e, t, o) {
void 0 === o && (o = a);
var i = (o = o || a).next01(), n = o.next01();
return Math.sqrt(-2 * Math.log(i)) * Math.cos(2 * Math.PI * n) * t + e;
};
e.deepCopy = function(e, t) {
for (var o in t) this._deepCopyFields(e, t, o);
};
e.constructObjectMap = function(e) {
var t = new Map();
for (var o in e) {
var i = e[o];
"object" == typeof i ? t.set(o, this.constructObjectMap(i)) : t.set(o, i);
}
return t;
};
e._deepCopyFields = function(e, t, o) {
var i = t[o];
if ("number" == typeof i || "string" == typeof i) e[o] = i; else if (this.isArray[i]) for (var n = e[o] = [], a = 0; a < i.length; a++) this._deepCopyFields(n, i, a); else if (null == i) e[o] = null; else if ("object" == typeof i) {
var r = new i.constructor();
for (var s in t) this._deepCopyFields(r, i, s);
}
};
e.formatNumberToEng = function(t) {
if (t < 1 && t > 0) return "1";
t = Math.floor(t);
var o = Math.floor(e.getExponent(t));
if (o < 13) {
if (o < 4) return t + "";
var i = Math.floor(o / e.constNum), n = o % e.constNum;
return String(t / Math.pow(10, i * e.constNum)).substr(0, e.constNum + n) + e.getUnit(o);
}
return (t / Math.pow(10, o)).toFixed(3) + "e" + o;
};
e.getExponent = function(e) {
for (var t = 0; e >= 10; ) {
t++;
e /= 10;
}
return t;
};
e.getUnit = function(t) {
var o = Math.floor(t / e.constNum);
return t < 13 ? e.unitArr[o] : "e" + (o = Math.floor(t / e.constNum)) * e.constNum;
};
e.formatEngNumber = function(e, t) {
void 0 === t && (t = 2);
var o, i;
if ((e = e) >= 1e6) {
i = e / 1e6;
o = (.001 * Math.floor(i / .001)).toFixed(t);
return this.formatEndingZero(o) + "M";
}
if (e >= 1e3) {
i = e / 1e3;
o = (.001 * Math.floor(i / .001)).toFixed(t);
return this.formatEndingZero(o) + "K";
}
return e + "";
};
e.formatEndingZero = function(e) {
if (-1 != e.indexOf(".")) {
if (this.endWith(e, "00")) return e.substring(0, e.length - 3);
if (this.endWith(e, "0")) return e.substring(0, e.length - 1);
}
return e;
};
e.endWith = function(e, t) {
return t == e.substring(e.length - t.length);
};
e.makeMaxWidthLabel = function(e, t) {
var o = {};
o.__proto__ = e;
Object.defineProperty(o, "string", {
configurable: !0,
enumerable: !0,
get: function() {
return e.string;
},
set: function(o) {
e.overflow = cc.Label.Overflow.NONE;
e.string = o;
e._updateRenderData(!0);
if (e.node.width > t) {
e.overflow = cc.Label.Overflow.RESIZE_HEIGHT;
e.node.setContentSize(t, 1);
e.string = o;
}
}
});
return o;
};
e.climeUserName = function(e, t) {
void 0 === t && (t = 14);
for (var o = e.length; this.strlen(e) > t; ) e = e.substring(0, e.length - 1);
e.length != o && (e += "...");
return e;
};
e.strlen = function(e) {
for (var t = 0, o = 0; o < e.length; o++) {
var i = e.charCodeAt(o);
i >= 1 && i <= 126 || 65376 <= i && i <= 65439 ? t++ : t += 2;
}
return t;
};
e.shuffleArr = function(e) {
for (var t = function(t, o) {
var i = e[t];
e[t] = e[o];
e[o] = i;
}, o = e.length, i = 0; i < o; i++) t(Math.floor(Math.random() * (o - i)), o - i - 1);
return e;
};
e.binarySearch = function(e, t, o) {
void 0 === o && (o = !1);
for (var i = 0, n = e.length - 1; n - i > 1; ) {
var a = Math.floor((i + n) / 2);
if (t < e[a]) n = a; else {
if (!(t > e[a])) return a;
i = a;
}
}
return o ? i == e.length - 1 ? e.length : n : 0 == n ? -1 : i;
};
e.isInTriangle = function(e, t, o, i) {
var n = o.sub(t), a = i.sub(t), r = i.sub(o), s = e.sub(t), c = e.sub(o);
return n.cross(a) >= 0 ^ n.cross(s) < 0 && n.cross(a) >= 0 ^ a.cross(s) >= 0 && r.cross(n) > 0 ^ r.cross(c) >= 0;
};
e.isInPolygon = function(e, t) {
var o, i, n, a, r = 0, s = t.length;
n = t[0];
for (o = 1; o <= s; o++) {
a = t[o % s];
if (e.x > Math.min(n.x, a.x) && e.x <= Math.max(n.x, a.x) && e.y <= Math.max(n.y, a.y) && n.x != a.x) {
i = (e.x - n.x) * (a.y - n.y) / (a.x - n.x) + n.y;
(n.y == a.y || e.y <= i) && r++;
}
n = a;
}
return r % 2 != 0;
};
e.splitePolygon = function(e) {
if (e.length <= 3) return [ 0, 1, 2 ];
for (var t = {}, o = 0; o < e.length; o++) {
var i = e[o];
t[i.x + "-" + i.y] = o;
}
var n = function(e) {
return t[e.x + "-" + e.y];
};
e = e.concat([]);
for (var a = [], r = 0; e.length > 3; ) {
var s = e[r % e.length], c = e[(r + 1) % e.length], l = e[(r + 2) % e.length], d = (r + 1) % e.length, h = c.sub(s), u = l.sub(c);
if (h.cross(u) < 0) r = (r + 1) % e.length; else {
for (var p = !1, f = 0, m = e; f < m.length; f++) if ((i = m[f]) != s && i != c && i != l && this.isInTriangle(i, s, c, l)) {
p = !0;
break;
}
if (p) r = (r + 1) % e.length; else {
a.push(n(s), n(c), n(l));
e.splice(d, 1);
}
}
}
for (var g = 0, y = e; g < y.length; g++) {
i = y[g];
a.push(n(i));
}
return a;
};
e.computeUv = function(e, t, o) {
for (var i = [], a = 0, r = e; a < r.length; a++) {
var s = r[a], c = n.MathUtils.clamp(0, 1, (s.x + t / 2) / t), l = n.MathUtils.clamp(0, 1, 1 - (s.y + o / 2) / o);
i.push(cc.v2(c, l));
}
return i;
};
e.unitArr = [ "", "K", "M", "B" ];
e.constNum = 3;
return e;
}();
o.CommonUtils = r;
cc._RF.pop();
}, {
"../../UIFrame/CocosHelper": "CocosHelper",
"./MatchUtils": "MatchUtils"
} ],
Commond: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e1894FwYaBPAqoNBCjA9Cvx", "Commond");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function() {
function e() {}
e.MSG_TYPE = {
MSG_TYPE_CONNECT: 1,
MSG_TYPE_CLIENT: 2,
MSG_TYPE_HALL: 3,
MSG_TYPE_GAMESVR: 4,
MSG_TYPE_GOLDSVR: 5,
MSG_TYPE_TASKSVR: 6,
MSG_TYPE_GAMESVR_BLACKJACK: 7,
MSG_TYPE_GAMESVR_BACCARAT_HND: 8,
MSG_TYPE_GAMESVR_DTGAME: 9,
MSG_TYPE_GAMESVR_DICE: 10,
MSG_TYPE_GAMESVR_INTDICE: 11,
MSG_TYPE_GAMESVR_BIRDS: 12,
MSG_TYPE_GAMESVR_ROMA: 13,
MSG_TYPE_GAMESVR_AZTEC: 14
};
e.CMD_NET_CHECK = 256;
e.CMD_LOGIN = 4097;
e.CMD_KICK_OUT = 4098;
e.CMD_LOGINOUT = 4099;
e.CMD_GET_BLND_LIST = 4100;
e.CMD_GET_BLND_LIST_INFO = 4101;
e.CMD_LOGIN_HALL = 12289;
e.CMD_GET_BACCARAT_ROOM_LIST = 12290;
e.CMD_GET_HALL_ROOM_INFO = 12291;
e.CMD_UPDATE_HALL_ROOM_INFO = 12292;
e.CMD_CREATR_VIP_ROOM = 12293;
e.CMD_QUICK_ENTER_ROOM = 12294;
e.CMD_GET_VIP_ROOM_LIST = 12295;
e.CMD_GET_RULE_ROOM_LIST = 12296;
e.CMD_GET_BACCARAT_ROOM_ROAD = 12297;
e.CMD_GET_RANK_LIST = 12298;
e.CMD_SET_SETUP = 12305;
e.CMD_GET_GIFT_LIST = 12308;
e.CMD_PURCHASE_GIFT = 12309;
e.CMD_NOTICE_GIFTS_FROM_OTHERS = 12310;
e.CMD_WEAR_GIFT = 12311;
e.CMD_INVITE_FRIEND = 12300;
e.CMD_NOTIFY_INVITED = 12301;
e.CMD_DENY_INVITED = 12302;
e.CMD_NOTIFY_DENIED = 12303;
e.CMD_GET_RECOMMEND_USER_LIST = 12304;
e.CMD_GET_RED_NOTIFICATION = 12320;
e.CMD_GET_PHP_ACTIVITY = 12321;
e.CMD_STOP_UPDATE_ROOM_INFO = 12316;
e.CMD_GET_BLACKJACK_ROOM_LIST = 12337;
e.CMD_TIME_REWARD = 12549;
e.CMD_AD_REWARD = 12550;
e.CMD_GET_PLAYER_HOME_INFO = 12545;
e.CMD_CHANGE_NAME = 12546;
e.CMD_CHANGE_AUTOGRAPH = 12547;
e.CMD_GET_LIMIT_DATA = 12551;
e.CMD_SAFE_OPERATION = 12552;
e.CMD_GET_MONEY_INFO = 12553;
e.CMD_GRANT_REDBAG = 12554;
e.CMD_RECEIVE_REDBAG = 12555;
e.CMD_GET_REDBAG_INFO = 12556;
e.CMD_NOTICE_RECEIVE_REDBAG = 12557;
e.CMD_GET_REDBAG_STATE = 12558;
e.CMD_REDBAG_LIMIT = 12559;
e.CMD_INSPECT_NAME_REPEAT = 12560;
e.CMD_CHANGE_VIPEXP = 12561;
e.CMD_CHANGE_PHOTO = 12562;
e.CMD_NOTICE_PRAISE = 12563;
e.CMD_PRAISE_CHOICE = 12564;
e.CMD_NOTIFY_RSP = 12565;
e.CMD_BANKRUPTCY_SUBSIDY = 12566;
e.CMD_TUTORIALS_REWARD = 12567;
e.CMD_GET_AD_TYPE = 12568;
e.CMB_GET_LOGIN_REWARD_INFO = 12571;
e.CMB_GET_LOGIN_REWARD = 12572;
e.CMD_ADD_FRIEND = 12801;
e.CMD_REPLY_ADD_FRIEND = 12802;
e.CMD_GET_FRIEND_LIST = 12803;
e.CMD_GET_FRIEND_ADD_LIST = 12804;
e.CMD_DELETE_FRIEND = 12805;
e.CMD_NOTIFY_ADD_FRIEND = 12806;
e.CMD_NOTIFY_ADD_FRIEND_SUCCESS = 12807;
e.CMD_FRIEND_GIVE_COIN_LIST = 12808;
e.CMD_GIVE_COIN_TO_FRIEND = 12809;
e.CMD_IS_FOLLOW = 12817;
e.CMD_GET_LOOK_LIST = 12818;
e.CMD_GET_FANS_LIST = 12819;
e.CMD_DELETE_FANS = 12820;
e.CMD_NOTIFY_NEW_FANS = 12821;
e.CMD_LICK_GAME_PLAYER = 12834;
e.CMD_GET_VISITOR_LIST = 12835;
e.CMD_GET_LICK_LIST = 12836;
e.CMD_NOTICE_FRIEND_STATE = 12837;
e.CMD_SEARCH_FRIEND = 12838;
e.CMD_RECOMMEND_FRIEND = 12839;
e.CMD_PROPELLING_WORLD_MSG = 13313;
e.CMD_WORLD_SEND_MSG = 13315;
e.CMD_GET_FRIEND_MSG = 13316;
e.CMD_FRIEND_SEND_MSG = 13317;
e.CMD_PUSH_BROADCAST_MSG = 13319;
e.CMD_SEND_MAIL = 13057;
e.CMD_GET_MAIL_DETAIL = 13058;
e.CMD_GET_MAIL_LIST = 13059;
e.CMD_READ_MAIL = 13060;
e.CMD_READ_ALL_MAIL = 13061;
e.CMD_GET_MAIL_REWARD = 13062;
e.CMD_GET_ALL_MAIL_REWARD = 13063;
e.CMD_DELETE_MAIL = 13064;
e.CMD_DELETE_ALL_MAIL = 13065;
e.CMD_NOTIFY_NEW_MAIL = 13066;
e.CMD_GET_SEDN_INFO = 13072;
e.CMD_SEND_CHIPS = 13073;
e.CMD_RECEIVE_CHIPS = 13074;
e.CMD_SEND_CHIPS_COMFIRM = 13075;
e.CMD_NOTIFY_SEDN_INFO = 13076;
e.CMD_GET_RECENT_SEND_LIST = 13077;
e.CMD_GET_HALL_JACKPOT = 12312;
e.CMD_GET_USER_GAMEINFO = 12570;
e.CMD_GET_USER_TOTAL_INFO = 12569;
e.CMD_GET_JACKPOT_REWARD_LIST = 12314;
e.CMD_UPDATE_JACKPOT = 12315;
e.CMD_UPDATE_ROOM_LIST_JACKPOT = 12318;
e.CMD_GET_HALL_TIMEBOX_INFO = 12573;
e.CMD_GET_HALL_TIMEBOX_REWARD = 12574;
e.CMD_ENTER_BACCARAT = 16385;
e.CMD_PRE_BET = 16386;
e.CMD_RECALL_PRE_BET = 16387;
e.CMD_BET_OVER = 16388;
e.CMD_LEAVE_ROOM = 16389;
e.CMD_SITDOWN = 16390;
e.CMD_STAND_UP = 16391;
e.CMD_SEND_BROADCAST = 16392;
e.CMD_GET_ROOMINFO = 16393;
e.CMD_END_MIPAI = 16394;
e.CMD_KICKOUT_ROOM = 16395;
e.CMD_WHEN_TO_CONTINUE = 16396;
e.CMD_END_CUT_CARD = 16397;
e.CMD_ROOM_INFO = 16656;
e.CMD_REPORT_OPEN_CARD = 16399;
e.CMD_GAME_SCENE_REPORT_MONEY = 16400;
e.CMD_ROOM_CHAT = 16401;
e.CMD_GET_ROOM_CARD_NUM = 16402;
e.CMD_BROADCAST_IN_ROOM = 16641;
e.CMD_BROADCAST_PRE_BET = 16642;
e.CMD_BROADCAST_RECALL_PRE_BET = 16643;
e.CMD_BROADCAST_BET_ED = 16644;
e.CMD_BROADCAST_LEAVE_ROOM = 16645;
e.CMD_BROADCAST_SITDOWN = 16646;
e.CMD_BROADCAST_STANDUP = 16647;
e.CMD_BROADCAST_PLAYER_BROADCAST = 16648;
e.CMD_BROADCAST_DEALCARDS = 16650;
e.CMD_BROADCAST_OPEN_CARD = 16652;
e.CMD_BROADCAST_CAT_CARD_CONTINUE = 16653;
e.CMD_BROADCAST_ROOM_GIVE_GIFT = 16654;
e.CMD_BROADCAST_ROOMSTATE = 16655;
e.CMD_DAILY_TASK_CONFIG = 20738;
e.CMD_DAILY_TASK_LIST = 20739;
e.CMD_GET_TASK_REWARD = 20740;
e.CMD_GET_TASK_PROGRESS = 20741;
e.CMD_INVITE_REGISTER_INFO = 20743;
e.CMD_INVITE_REGISTER_REWARD = 20744;
e.CMD_REPORT_TASK_PROGRESS = 20742;
e.CMD_BLACKJACK_ENTER_ROOM = 16385;
e.CMD_BLACKJACK_BET = 16386;
e.CMD_BLACKJACK_CANCEL_BET = 16387;
e.CMD_BLACKJACK_COMPLETE_BET = 16388;
e.CMD_BLACKJACK_QUIT_ROOM = 16389;
e.CMD_BLACKJACK_USER_SIT = 16390;
e.CMD_BLACKJACK_USER_STAND = 16391;
e.CMD_BLACKJACK_ROOM_BROADCAST = 16392;
e.CMD_BLACKJACK_GET_ROOM_INFO = 16393;
e.CMD_BLACKJACK_END_CUT_CARD = 16397;
e.CMD_BLACKJACK_BROADCAST_CHAT = 16401;
e.CMD_BLACKJACK_GET_LEFT_CARDS = 16402;
e.CMD_BLACKJACK_USER_INSURANCE = 16403;
e.CMD_BLACKJACK_USER_ACTION = 16404;
e.CMD_BLACKJACK_GET_GAME_STATE = 16398;
e.CMD_BLACKJACK_BROADCAST_ENTER_ROOM = 16641;
e.CMD_BLACKJACK_BROADCAST_BET = 16642;
e.CMD_BLACKJACK_BROADCAST_CANCEL_BET = 16643;
e.CMD_BLACKJACK_BROADCAST_COMPLETE_BET = 16644;
e.CMD_BLACKJACK_BROADCAST_QUIT_ROOM = 16645;
e.CMD_BLACKJACK_BROADCAST_SIT = 16646;
e.CMD_BLACKJACK_BROADCAST_STAND = 16647;
e.CMD_BLACKJACK_BROADCAST_ROOM_BROADCAST = 16648;
e.CMD_BLACKJACK_BROADCAST_ROOM_STATE = 16661;
e.CMD_BLACKJACK_BROADCAST_USER_INSURANCE = 16656;
e.CMD_BLACKJACK_BROADCAST_USER_ACTION = 16663;
e.CMD_BLACKJACK_SETTLEMENT = 16658;
e.CMD_BLACKJACK_COLLECT_CARD = 16659;
e.CMD_BLACKJACK_BROADCAST_JACKPOT = 16660;
e.CMD_BLACKJACK_DEAL_SECOND_CARD = 16655;
e.CMD_BLACKJACK_BROADCAST_ROOM_GIVE_GIFT = 16654;
e.CMD_BLACKJACK_KICKOUT_ROOM = 16395;
e.CMD_PLAY_REWARD_INFO = 16405;
e.CMD_PLAY_REWARD_STATUS = 16406;
e.CMD_GET_PLAY_REWARD = 16407;
e.CMD_BACCARAT_HND_ENTER_ROOM = 16385;
e.CMD_BACCARAT_HND_QUIT_ROOM = 16389;
e.CMD_BACCARAT_HND_ROOM_BROADCAST = 16392;
e.CMD_BACCARAT_HND_GET_ROOM_INFO = 16393;
e.CMD_BACCARAT_HND_IS_CONTINUE = 16396;
e.CMD_BACCARAT_HND_END_CUT_CARD = 16397;
e.CMD_BACCARAT_HND_ROOM_CHAT = 16401;
e.CMD_BACCARAT_HND_GET_LEFT_CARDS = 16402;
e.CMD_BACCARAT_HND_BET = 16386;
e.CMD_BACCARAT_HND_CANCEL_BET = 16387;
e.CMD_BACCARAT_HND_COMPLETE_BET = 16388;
e.CMD_BACCARAT_HND_BROADCAST_ENTER_ROOM = 16641;
e.CMD_BACCARAT_HND_BROADCAST_BET = 16642;
e.CMD_BACCARAT_HND_BROADCAST_CANCEL_BET = 16643;
e.CMD_BACCARAT_HND_BROADCAST_COMPLETE_BET = 16644;
e.CMD_BACCARAT_HND_BROADCAST_QUIT_ROOM = 16645;
e.CMD_BACCARAT_HND_BROADCAST_ROOM_BROADCAST = 16648;
e.CMD_BACCARAT_HND_BROADCAST_IS_CONTINUE = 16653;
e.CMD_BACCARAT_HND_BROADCAST_ROOM_STATUS = 16655;
e.CMD_BACCARAT_HND_GET_ROOM_STATUS = 16656;
e.CMD_BACCARAT_HND_BROADCAST_ROOM_GIVE_GIFT = 16654;
e.CMD_BACCARAT_HND_KICKOUT_ROOM = 16395;
e.CMD_BACCARAT_HND_GET_STAND_USER_LIST = 16403;
e.CMD_GET_BACCARAT_HND_ROOM_LIST = 16404;
e.CMD_UPDATE_BACCARAT_HND_ROOM_LIST = 12292;
e.CMD_GOOGLE_REPAIR_PURCHASE = 12440;
e.CMD_GOOGLE_CONSUME_PURCHASE = 12441;
e.CMD_THIRD_PARTY_GAME_REPAIR = 12442;
e.CMD_ROMASLOT_ENTER_ROOM = 16385;
e.CMD_ROMASLOT_USER_SPIN = 16386;
e.CMD_ROMASLOT_FREE_SPIN = 16387;
e.CMD_ROMASLOT_PLAY_BONUS = 16388;
e.CMD_ROMASLOT_LEAVE_ROOM = 16389;
e.CMD_ROMASLOT_KICK_ROOM = 16395;
e.CMD_ROMASLOT_BUY_FREE = 16390;
e.CMD_ROMASLOT_BUY_BONUSGAME = 16391;
e.CMD_ROMASLOT_JACKPOT_NUM = 16392;
return e;
}();
o.default = i;
cc._RF.pop();
}, {} ],
Config: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "22c36I9r3NH85+HfJeAHujp", "Config");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.ConfigLocal = o.ConfigTest = o.ConfigDefault = o.ConfigUrl = void 0;
(function(e) {
e.test = "";
e.online = "";
})(o.ConfigUrl || (o.ConfigUrl = {}));
var n = function() {
function e() {}
e.phpUrl = "";
e.awatarUrl = "";
e.webviewUrl = "";
e.resourceUrl = "";
e.rebateDescription = "";
e.ggtDescription = "";
e.chargeSwith = 0;
e.chargeHelpTitle = "";
e.chargeHelpContent = "";
e.payoutDescription = "";
e.payoutDescriptionGCash = "";
e.actionUrl = "";
e.wechat = 1;
e.gpUrl = "";
e.delayCheck = 1;
e.giftVer = 1;
e.webGameVer = 1;
e.spineBundleVer = 20220708;
return e;
}();
o.ConfigDefault = n;
var a = function() {
function e() {}
e.phpUrl = "";
e.awatarUrl = "";
e.webviewUrl = "";
e.resourceUrl = "";
e.rebateDescription = "";
e.ggtDescription = "";
e.actionUrl = "";
e.chargeSwith = 0;
e.wechat = 1;
e.chargeHelpTitle = "";
e.chargeHelpContent = "";
e.payoutDescription = "";
e.payoutDescriptionGCash = "";
e.gameList = "";
e.chargeList = "";
e.gpUrl = "";
e.delayCheck = 1;
e.giftVer = 1;
return e;
}();
o.ConfigTest = a;
var r = function() {
function e() {}
e.phpUrl = n.phpUrl;
e.awatarUrl = n.awatarUrl;
e.webviewUrl = n.webviewUrl;
e.resourceUrl = n.resourceUrl;
e.rebateDescription = n.rebateDescription;
e.ggtDescription = n.ggtDescription;
e.actionUrl = n.actionUrl;
e.chargeSwith = n.chargeSwith;
e.chargeHelpTitle = n.chargeHelpTitle;
e.chargeHelpContent = n.chargeHelpContent;
e.payoutDescription = n.payoutDescription;
e.payoutDescriptionGCash = n.payoutDescriptionGCash;
e.delayCheck = n.delayCheck;
e.giftVer = n.giftVer;
e.webGameVer = n.webGameVer;
e.gpUrl = n.gpUrl;
e.spineBundleVer = n.spineBundleVer;
e.wechat = n.wechat;
return e;
}();
o.ConfigLocal = r;
var s = cc._decorator, c = s.ccclass, l = (s.property, function() {
function e() {}
t = e;
e.init = function(e) {
if (e) {
t.phpUrl = e.phpUrl || t.phpUrl;
t.awatarUrl = e.avatarUrl || t.awatarUrl;
t.webviewUrl = e.webviewUrl || t.webviewUrl;
t.resourceUrl = e.resourceUrl || t.resourceUrl;
t.rebateDescription = e.rebateDescription || t.rebateDescription;
t.ggtDescription = e.ggtDescription || t.ggtDescription;
t.actionUrl = e.actionUrl || t.actionUrl;
if (e.chargeHelp) {
t.chargeSwith = e.chargeHelp.switch || t.chargeSwith;
t.chargeHelpTitle = e.chargeHelp.title || t.chargeHelpTitle;
t.chargeHelpContent = e.chargeHelp.content || t.chargeHelpContent;
}
t.payoutDescription = e.payoutDescription || t.payoutDescription;
t.payoutDescriptionGCash = e.payoutDescriptionGCash || t.payoutDescriptionGCash;
t.giftVer = e.giftVer || t.giftVer;
t.delayCheck = e.delayCheck || t.delayCheck;
t.webGameVer = e.webgame || t.webGameVer;
t.gpUrl = e.gpUrl || t.gpUrl;
t.spineBundleVer = e.spineBundleVer || t.spineBundleVer;
t.wechat = e.wechat || t.wechat;
cc.sys.localStorage.setItem("phpUrl", t.phpUrl);
cc.sys.localStorage.setItem("awatarUrl", t.awatarUrl);
cc.sys.localStorage.setItem("webviewUrl", t.webviewUrl);
cc.sys.localStorage.setItem("resourceUrl", t.resourceUrl);
cc.sys.localStorage.setItem("rebateDescription", t.rebateDescription);
cc.sys.localStorage.setItem("ggtDescription", t.ggtDescription);
cc.sys.localStorage.setItem("payoutDescription", t.payoutDescription);
cc.sys.localStorage.setItem("payoutDescriptionGCash", t.payoutDescriptionGCash);
cc.sys.localStorage.setItem("actionUrl", t.actionUrl);
cc.sys.localStorage.setItem("chargeSwith", t.chargeSwith);
cc.sys.localStorage.setItem("chargeHelpTitle", t.chargeHelpTitle);
cc.sys.localStorage.setItem("chargeHelpContent", t.chargeHelpContent);
cc.sys.localStorage.setItem("giftVer", t.giftVer);
cc.sys.localStorage.setItem("delayCheck", t.delayCheck);
cc.sys.localStorage.setItem("webGameVer", t.webGameVer);
cc.sys.localStorage.setItem("gpUrl", t.gpUrl);
cc.sys.localStorage.setItem("spineBundleVer", t.spineBundleVer);
cc.sys.localStorage.setItem("wechat", t.wechat);
console.log("init config data ", e, t);
} else console.log("error config data");
};
e.getGameList = function() {};
e.setGameList = function() {};
e.initDefaultConfig = function(e) {
n.phpUrl = e.phpUrl || n.phpUrl;
n.awatarUrl = e.avatarUrl || n.awatarUrl;
n.webviewUrl = e.webviewUrl || n.webviewUrl;
n.resourceUrl = e.resourceUrl || n.resourceUrl;
n.rebateDescription = e.rebateDescription || n.rebateDescription;
n.ggtDescription = e.ggtDescription || n.ggtDescription;
n.actionUrl = e.actionUrl || n.actionUrl;
if (e.chargeHelp) {
n.chargeSwith = e.chargeHelp.switch || n.chargeSwith;
n.chargeHelpTitle = e.chargeHelp.title || n.chargeHelpTitle;
n.chargeHelpContent = e.chargeHelp.content || n.chargeHelpContent;
}
n.payoutDescription = e.payoutDescription || n.payoutDescription;
n.payoutDescriptionGCash = e.payoutDescriptionGCash || n.payoutDescriptionGCash;
n.giftVer = e.giftVer || n.giftVer;
n.delayCheck = e.delayCheck || n.delayCheck;
n.webGameVer = e.webgame || n.webGameVer;
n.gpUrl = e.gpUrl || n.gpUrl;
n.spineBundleVer = e.spineBundleVer || n.spineBundleVer;
n.wechat = e.wechat || n.wechat;
};
e.initLocalConfig = function() {
r.phpUrl = cc.sys.localStorage.getItem("phpUrl") || n.phpUrl;
r.awatarUrl = cc.sys.localStorage.getItem("awatarUrl") || n.awatarUrl;
r.resourceUrl = cc.sys.localStorage.getItem("resourceUrl") || n.resourceUrl;
r.webviewUrl = cc.sys.localStorage.getItem("webviewUrl") || n.webviewUrl;
r.rebateDescription = cc.sys.localStorage.getItem("rebateDescription") || n.rebateDescription;
r.ggtDescription = cc.sys.localStorage.getItem("ggtDescription") || n.ggtDescription;
r.actionUrl = cc.sys.localStorage.getItem("actionUrl") || n.actionUrl;
r.payoutDescription = cc.sys.localStorage.getItem("payoutDescription") || n.payoutDescription;
r.payoutDescriptionGCash = cc.sys.localStorage.getItem("payoutDescriptionGCash") || n.payoutDescriptionGCash;
r.chargeSwith = cc.sys.localStorage.getItem("chargeSwith") || n.chargeSwith;
r.chargeHelpTitle = cc.sys.localStorage.getItem("chargeHelpTitle") || n.chargeHelpTitle;
r.chargeHelpContent = cc.sys.localStorage.getItem("chargeHelpContent") || n.chargeHelpContent;
r.delayCheck = cc.sys.localStorage.getItem("delayCheck") || n.delayCheck;
r.giftVer = cc.sys.localStorage.getItem("giftVer") || n.giftVer;
r.webGameVer = cc.sys.localStorage.getItem("webGameVer") || n.webGameVer;
r.gpUrl = cc.sys.localStorage.getItem("gpUrl") || n.gpUrl;
r.spineBundleVer = cc.sys.localStorage.getItem("spineBundleVer") || n.spineBundleVer;
r.wechat = cc.sys.localStorage.getItem("wechat") || n.wechat;
t.phpUrl = r.phpUrl;
t.awatarUrl = r.awatarUrl;
t.webviewUrl = r.webviewUrl;
t.resourceUrl = r.resourceUrl;
t.rebateDescription = r.rebateDescription;
t.ggtDescription = r.ggtDescription;
t.actionUrl = r.actionUrl;
t.payoutDescription = r.payoutDescription;
t.payoutDescriptionGCash = r.payoutDescriptionGCash;
t.chargeSwith = r.chargeSwith;
t.chargeHelpTitle = r.chargeHelpTitle;
t.chargeHelpContent = r.chargeHelpContent;
t.giftVer = r.giftVer;
t.delayCheck = r.delayCheck;
t.webGameVer = r.webGameVer;
t.gpUrl = r.gpUrl;
t.spineBundleVer = r.spineBundleVer;
t.wechat = r.wechat;
};
var t;
e.phpUrl = n.phpUrl;
e.awatarUrl = n.awatarUrl;
e.webviewUrl = n.webviewUrl;
e.resourceUrl = n.resourceUrl;
e.rebateDescription = n.rebateDescription;
e.ggtDescription = n.ggtDescription;
e.actionUrl = n.actionUrl;
e.chargeSwith = n.chargeSwith;
e.chargeHelpTitle = n.chargeHelpTitle;
e.chargeHelpContent = n.chargeHelpContent;
e.payoutDescription = n.payoutDescription;
e.payoutDescriptionGCash = n.payoutDescriptionGCash;
e.delayCheck = n.delayCheck;
e.giftVer = n.giftVer;
e.webGameVer = n.webGameVer;
e.gpUrl = n.gpUrl;
e.spineBundleVer = n.spineBundleVer;
e.wechat = n.wechat;
e.officialUrl = "";
return t = i([ c ], e);
}());
o.default = l;
cc._RF.pop();
}, {} ],
ConfirmDialog: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "497aahYnDxLoobRf3ssC7Kg", "ConfirmDialog");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Data/LanguageData"), s = e("../Components/DialogBase"), c = e("../Util/GameUtil"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this.node.getChildByName("btnClose").on("click", this.onClose, this);
this.node.getChildByName("btnOK").on("click", this._onOK, this);
this.node.getChildByName("btnCancel").on("click", this._onCancel, this);
this.node.getChildByName("btnOK").getChildByName("Label").getComponent(cc.Label).string = r.default.ins.STRING_DIALOG("enter");
this.node.getChildByName("btnCancel").getChildByName("Label").getComponent(cc.Label).string = r.default.ins.STRING_DIALOG("cancel");
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = r.default.ins.STRING_COMMON("tips");
c.default.labelShadow(this.node.getChildByName("labelTitle").getComponent(cc.Label));
};
t.prototype.start = function() {
e.prototype.start.call(this);
var t = this._data, o = t.content || "", i = t.btnAmount || 2, n = t.title || r.default.ins.STRING_COMMON("tips");
this.node.getChildByName("labelContent").getComponent(cc.Label).string = o;
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = n;
t.okDesc && (this.node.getChildByName("btnOK").getChildByName("Label").getComponent(cc.Label).string = t.okDesc);
t.cancelDesc && (this.node.getChildByName("btnCancel").getChildByName("Label").getComponent(cc.Label).string = t.cancelDesc);
if (1 == i) {
this.node.getChildByName("btnCancel").active = !1;
this.node.getChildByName("btnOK").x = 0;
}
};
t.prototype.onClose = function() {
this._data.closeCallback ? this._data.closeCallback() : e.prototype.onClose.call(this);
};
t.prototype._onCancel = function() {
this._data.cancelCallback && this._data.cancelCallback();
this.onClose();
};
t.prototype._onOK = function() {
this._data.okCallback && this._data.okCallback();
this.onClose();
};
return a([ d ], t);
}(s.default));
o.default = h;
cc._RF.pop();
}, {
"../Components/DialogBase": "DialogBase",
"../Data/LanguageData": "LanguageData",
"../Util/GameUtil": "GameUtil"
} ],
ConfirmRichDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "6d9c0vPLPlBGJ91l5GSo5Xw", "ConfirmRichDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../data/GameLangData"), s = e("../../../public/MyComponent/WindowBase"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
this.node.getChildByName("btnClose").on("click", this.onClose, this);
this.node.getChildByName("btnOK").on("click", this._onOK, this);
this.node.getChildByName("btnCancel").on("click", this._onCancel, this);
this.node.getChildByName("btnOK").getChildByName("Label").getComponent(cc.Label).string = r.default.ins.GET_DIALOG_LANG("enter");
this.node.getChildByName("btnCancel").getChildByName("Label").getComponent(cc.Label).string = r.default.ins.GET_DIALOG_LANG("cancel");
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = r.default.ins.STRING_COMMON("tips");
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.setDataView();
};
t.prototype.setDataView = function() {
var e = this._data, t = e.content || "", o = e.btnAmount || 2, i = e.title || r.default.ins.STRING_COMMON("tips");
this.node.getChildByName("labelRichContent").getComponent(cc.RichText).string = t;
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = i;
e.okDesc && (this.node.getChildByName("btnOK").getChildByName("Label").getComponent(cc.Label).string = e.okDesc);
e.cancelDesc && (this.node.getChildByName("btnCancel").getChildByName("Label").getComponent(cc.Label).string = e.cancelDesc);
if (1 == o) {
this.node.getChildByName("btnCancel").active = !1;
this.node.getChildByName("btnOK").x = 0;
}
};
t.prototype._onCancel = function() {
this._data.cancelCallback && this._data.cancelCallback();
this.onClose();
};
t.prototype._onOK = function() {
this._data.okCallback && this._data.okCallback();
this.onClose();
};
return a([ l ], t);
}(s.default));
o.default = d;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../public/MyComponent/WindowBase": "WindowBase"
} ],
Confirm: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5c1abFJNMNGS6otxq+QoPRd", "Confirm");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.disconnection = o.RechargeConf = o.ConfirmData = void 0;
var r = e("../Components/DialogBase"), s = e("../Data/GameData"), c = e("../Data/LanguageData"), l = e("../Manager/DialogManager"), d = e("../Manager/EventRecorder"), h = e("../Manager/SceneManager"), u = e("../UIFrame/config/SysDefine"), p = e("../UIFrame/UIManager"), f = e("../Util/GameUtil"), m = cc._decorator, g = m.ccclass, y = (m.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.formType = u.FormType.PopUp;
return t;
}
t.prototype.onLoad = function() {
var e = this;
f.default.seekChild(this.node, "cloneBtn").on("click", this._onbtnClose, this);
this._dialog = this.node.getChildByName("dialog");
this._cancelBtn = this._dialog.getChildByName("cancelBtn");
this._okBtn = this._dialog.getChildByName("okBtn");
this._cancelLabel = this._cancelBtn.getChildByName("label");
this._okLabel = this._okBtn.getChildByName("label");
this._descLabel = this._dialog.getChildByName("descLabel");
this._titleLabel = this._dialog.getChildByName("titleLabel");
[ this._cancelBtn, this._okBtn ].forEach(function(t) {
t.on("click", e.onBtn, e);
});
};
t.prototype.onBtn = function(e) {
switch (e.node.name) {
case "cancelBtn":
this.onClose();
this._onCancel && this._onCancel();
break;

case "okBtn":
this.onClose();
this._onOk && this._onOk();
}
};
t.prototype.onShow = function(t) {
e.prototype.onShow.call(this, t);
this._confInfo = t[0];
this.canDestory = !0;
};
t.prototype._onbtnClose = function() {
e.prototype.onClose.call(this);
this._onCancel && this._onCancel();
};
t.prototype.start = function() {
var e = cc.view.getFrameSize();
e.width < e.height && (this._dialog.scale = .8);
if ("" != this._confInfo.title) {
this._titleLabel.active = !0;
this._titleLabel.getComponent(cc.Label).string = this._confInfo.title;
f.default.labelShadow(this._titleLabel.getComponent(cc.Label));
} else {
this._titleLabel.active = !0;
this._titleLabel.getComponent(cc.Label).string = c.default.ins.STRING_NEWHALL("systemTips");
f.default.labelShadow(this._titleLabel.getComponent(cc.Label));
}
this._confInfo.desc && (this._descLabel.getComponent(cc.Label).string = this._confInfo.desc);
this._confInfo.cancelCallback && (this._onCancel = this._confInfo.cancelCallback);
this._confInfo.okCallback && (this._onOk = this._confInfo.okCallback);
this._confInfo.cancelMsg ? this._cancelMsg = this._confInfo.cancelMsg : this._cancelMsg = c.default.ins.STRING_DIALOG("cancel");
this._confInfo.okMsg ? this._okMsg = this._confInfo.okMsg : this._okMsg = c.default.ins.STRING_DIALOG("enter");
if (this._confInfo.oneBtn) {
this._okBtn.x = 0;
this._cancelBtn.active = !1;
}
this._confInfo.closeView && this._confInfo.closeView();
this._okLabel.getComponent(cc.Label).string = this._okMsg;
this._cancelLabel.getComponent(cc.Label).string = this._cancelMsg;
this._confInfo.closeDialog && this._confInfo.closeDialog();
};
t.prototype.onClose = function() {
e.prototype.onClose.call(this);
};
t._prefabPath = "prefab/dialog/confirm";
return a([ g ], t);
}(r.default));
o.default = y;
o.ConfirmData = function() {
this.title = "";
};
o.RechargeConf = function() {
this.title = c.default.ins.STRING_COMMON("tips");
this.desc = c.default.ins.STRING_DIALOG("rechargeTips");
this.okCallback = function() {
1 == s.default.UserData.firstStrike ? p.default.getInstance().openUIForm("prefab/dialog/mall/firstStrikeDlg") : l.default.inst.showFullView(l.FullViewIndex.gameShop);
};
this.okMsg = c.default.ins.STRING_DIALOG("nowRecharge");
this.cancelMsg = c.default.ins.STRING_DIALOG("IKnow");
this.cancelCallback = function() {};
};
o.disconnection = function() {
this.title = c.default.ins.STRING_COMMON("tips");
this.desc = c.default.ins.STRING_DIALOG("offNet");
this.okCallback = function() {
l.default.inst.closeAllDialog();
d.default.record(d.EventID.networkCloseTips, "open", 1);
"loginScene" != cc.director.getScene().name && h.default.enterLoading();
};
this.cancelCallback = function() {
l.default.inst.closeAllDialog();
d.default.record(d.EventID.networkCloseTips, "open", 0);
"loginScene" != cc.director.getScene().name && h.default.enterLoading();
};
this.okMsg = c.default.ins.STRING_DIALOG("enter");
this.oneBtn = !0;
this.closeDialog = function() {
l.default.inst.closeFullViewDialog(l.FullViewIndex.webViewDlg);
l.default.inst.closeFullViewDialog(l.FullViewIndex.gameShop);
};
};
cc._RF.pop();
}, {
"../Components/DialogBase": "DialogBase",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../Manager/DialogManager": "DialogManager",
"../Manager/EventRecorder": "EventRecorder",
"../Manager/SceneManager": "SceneManager",
"../UIFrame/UIManager": "UIManager",
"../UIFrame/config/SysDefine": "SysDefine",
"../Util/GameUtil": "GameUtil"
} ],
Const: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "aba61h8m9JL9bWrTS4+xOTT", "Const");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.moneyChange = o.bindType = o.phoneVerify = o.showLanguage = o.sandVoice = o.broadcastType = o.tableAnimationState = o.betChange = o.betRegion = o.MoneyType = o.roomInfoType = o.seatState = o.vipRLFlag = o.baccaratRoomType = o.goldType = o.gameType = o.sceneType = o.ConstNumber = o.ScreenData = o.screenTypeEnum = void 0;
(function(e) {
e[e.isIphone6Szie = 1] = "isIphone6Szie";
e[e.isIphoneX = 2] = "isIphoneX";
e[e.isIpad = 3] = "isIpad";
})(o.screenTypeEnum || (o.screenTypeEnum = {}));
(function(e) {
e[e.designWidth = 2339] = "designWidth";
e[e.designHeight = 1080] = "designHeight";
e[e.designHalfWidth = 1169.5] = "designHalfWidth";
e[e.designHalfHeight = 540] = "designHalfHeight";
})(o.ScreenData || (o.ScreenData = {}));
(function(e) {
e[e.zero = 0] = "zero";
})(o.ConstNumber || (o.ConstNumber = {}));
(function(e) {
e[e.loading = 1] = "loading";
e[e.login = 2] = "login";
e[e.hall = 3] = "hall";
e[e.baccarat = 4] = "baccarat";
e[e.blackjack = 5] = "blackjack";
e[e.baccaratHnd = 6] = "baccaratHnd";
e[e.dragonTigerFight = 7] = "dragonTigerFight";
e[e.dice = 8] = "dice";
e[e.intDice = 9] = "intDice";
e[e.birdAnimals = 10] = "birdAnimals";
e[e.romaSlot = 11] = "romaSlot";
e[e.goldCitySlot = 12] = "goldCitySlot";
e[e.luckyNekoSlot = 13] = "luckyNekoSlot";
})(o.sceneType || (o.sceneType = {}));
(function(e) {
e[e.baccarat = 1] = "baccarat";
e[e.blackjack = 2] = "blackjack";
e[e.baccaratHnd = 3] = "baccaratHnd";
e[e.dragonTigerFight = 4] = "dragonTigerFight";
e[e.dice = 5] = "dice";
e[e.intDice = 6] = "intDice";
e[e.birdAnimals = 7] = "birdAnimals";
e[e.romaSlot = 8] = "romaSlot";
e[e.goldCitySlot = 9] = "goldCitySlot";
e[e.luckyNekoSlot = 10] = "luckyNekoSlot";
e[e.webGame = 99] = "webGame";
})(o.gameType || (o.gameType = {}));
(function(e) {
e[e.free = 1] = "free";
e[e.charge = 2] = "charge";
e[e.vip = 3] = "vip";
e[e.tiger = 4] = "tiger";
e[e.baccaratHnd = 7] = "baccaratHnd";
})(o.goldType || (o.goldType = {}));
(function(e) {
e[e.classic = 1] = "classic";
e[e.singapore = 2] = "singapore";
})(o.baccaratRoomType || (o.baccaratRoomType = {}));
(function(e) {
e[e.self = 1] = "self";
e[e.friend = 2] = "friend";
})(o.vipRLFlag || (o.vipRLFlag = {}));
(function(e) {
e[e.normal = 1] = "normal";
e[e.play = 2] = "play";
e[e.invitation = 3] = "invitation";
})(o.seatState || (o.seatState = {}));
(function(e) {
e[e.playerNum = 1] = "playerNum";
e[e.roomType = 2] = "roomType";
e[e.results = 3] = "results";
e[e.bankBet = 4] = "bankBet";
e[e.playerBet = 5] = "playerBet";
e[e.peaceBet = 6] = "peaceBet";
})(o.roomInfoType || (o.roomInfoType = {}));
(function(e) {
e[e.coin = 1] = "coin";
e[e.chip = 2] = "chip";
e[e.ticket = 3] = "ticket";
})(o.MoneyType || (o.MoneyType = {}));
(function(e) {
e[e.player = 0] = "player";
e[e.banker = 1] = "banker";
e[e.playerPair = 2] = "playerPair";
e[e.peace = 3] = "peace";
e[e.luckySix = 4] = "luckySix";
e[e.bankerPair = 5] = "bankerPair";
e[e.tigerBig = 7] = "tigerBig";
e[e.tigerSmall = 9] = "tigerSmall";
e[e.tigerPair = 10] = "tigerPair";
e[e.tigerDraw = 13] = "tigerDraw";
})(o.betRegion || (o.betRegion = {}));
(function(e) {
e[e.start = 0] = "start";
e[e.betPlaced = 1] = "betPlaced";
e[e.recall = 2] = "recall";
})(o.betChange || (o.betChange = {}));
(function(e) {
e[e.normal = 0] = "normal";
e[e.bet = 1] = "bet";
})(o.tableAnimationState || (o.tableAnimationState = {}));
(function(e) {
e[e.chat = 0] = "chat";
e[e.mipai_move = 1] = "mipai_move";
e[e.mipai_reset = 2] = "mipai_reset";
e[e.mipai_angle = 3] = "mipai_angle";
e[e.mipai_open = 4] = "mipai_open";
e[e.cutCard_move = 5] = "cutCard_move";
e[e.cutCard_ing = 6] = "cutCard_ing";
e[e.vociferate = 7] = "vociferate";
e[e.ejimo = 8] = "ejimo";
})(o.broadcastType || (o.broadcastType = {}));
(function(e) {
e[e.hk = 1] = "hk";
e[e.cn = 2] = "cn";
e[e.en = 3] = "en";
e[e.th = 4] = "th";
e[e.jp = 5] = "jp";
})(o.sandVoice || (o.sandVoice = {}));
(function(e) {
e[e.tw = 1] = "tw";
e[e.cn = 2] = "cn";
e[e.en = 3] = "en";
e[e.hk = 4] = "hk";
e[e.jp = 5] = "jp";
e[e.th = 6] = "th";
})(o.showLanguage || (o.showLanguage = {}));
(function(e) {
e[e.register = 1] = "register";
e[e.login = 2] = "login";
e[e.forgotPassword = 3] = "forgotPassword";
e[e.binding = 4] = "binding";
e[e.sendChips = 5] = "sendChips";
})(o.phoneVerify || (o.phoneVerify = {}));
(function(e) {
e[e.phone = 1] = "phone";
e[e.facebook = 10] = "facebook";
e[e.google = 12] = "google";
})(o.bindType || (o.bindType = {}));
(function(e) {
e[e.changeNick = 10] = "changeNick";
e[e.loginReward = 11] = "loginReward";
e[e.timeReward = 12] = "timeReward";
e[e.watchReward = 13] = "watchReward";
e[e.safe = 14] = "safe";
e[e.redEnvelope = 15] = "redEnvelope";
e[e.friendGold = 16] = "friendGold";
e[e.loginTask = 17] = "loginTask";
e[e.task = 18] = "task";
e[e.inviteReg = 19] = "inviteReg";
e[e.broadcast = 20] = "broadcast";
e[e.gift = 21] = "gift";
e[e.broken = 22] = "broken";
e[e.transfer = 23] = "transfer";
})(o.moneyChange || (o.moneyChange = {}));
o.default = function() {};
cc._RF.pop();
}, {} ],
CountryData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "46e67lImQ9E1Zbqw8ADS31+", "CountryData");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = function() {
function e() {
this._hashCountryList = {};
}
e.prototype.initCountryData = function() {
return i(this, void 0, void 0, function() {
return n(this, function() {
return [ 2 ];
});
});
};
e.prototype.toAreaCodeGetCountry = function(e) {
return this._hashCountryList[e] ? this._hashCountryList[e] : "error";
};
e.getInstance = function() {
if (!this.instance) {
this.instance = new e();
this.instance.initCountryData();
}
return this.instance;
};
return e;
}();
o.default = a;
cc._RF.pop();
}, {} ],
CryptoJS: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "503ee4ndDhBG5oYZ6cNHKn2", "CryptoJS");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("crypto-js"), n = i.enc.Utf8.parse("#ubh%830n!hi#ji#"), a = i.enc.Utf8.parse(""), r = function() {
function e() {}
e.prototype.onLoad = function() {};
e.encode = function(e) {
var t = i.enc.Utf8.parse(e);
return i.AES.encrypt(t, n, {
iv: a,
mode: i.mode.ECB,
padding: i.pad.Pkcs7
}).ciphertext.toString().toUpperCase();
};
e.decode = function(e) {
return i.AES.decrypt(e, n, {
iv: a,
mode: i.mode.ECB,
padding: i.pad.Pkcs7
}).toString(i.enc.Utf8).toString();
};
return e;
}();
o.default = r;
cc._RF.pop();
}, {
"crypto-js": "crypto-js"
} ],
CutCardNode: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "aae0bwNpI5GUq+DhI74Xh+O", "CutCardNode");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.CutCardNode = void 0;
var c = e("../Conf/BaccatRoomConf"), l = e("../Conf/Const"), d = e("../Data/GameData"), h = e("../Manager/CardCreator"), u = e("../Manager/CardManager"), p = e("../UIFrame/ResMgrs"), f = e("../UIFrame/SoundMgr"), m = e("../Util/GameUtil"), g = e("../Util/SpritePreLoader"), y = e("../Util/test"), _ = e("./MyEvent"), C = cc._decorator, b = C.ccclass, v = (C.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._cutCardList = [];
t._cardList = [];
t._cardLayer = null;
t._timeX = 0;
t._cardSize = {
x: 112 / 634,
y: 150 / 936
};
t._firstCutCard = 0;
t._cardColor = 1;
t._gameType = l.gameType.blackjack;
t._activeCutCard = !1;
return t;
}
t.prototype.cutCardEnterScene = function(e) {
return r(this, void 0, void 0, function() {
var t, o, i, n, a, r, c, u, f = this;
return s(this, function(s) {
switch (s.label) {
case 0:
this.zIndex = 999;
this.x = e.x;
this._cardColor = e.cardColor;
this.y = -540;
this._firstCutCard = e.cutFirstCard;
this.addComponent(cc.Sprite);
this._activeCutCard = !1;
this._cardLayer = new cc.Node();
this._cardLayer.setContentSize(cc.size(cc.winSize.width, cc.winSize.height));
this._cardLayer.parent = this;
this._cardLayer.setAnchorPoint(cc.v2(0, 0));
this._cardLayer.scale = .1;
this._cardLayer.setPosition(cc.v2(1900, 1080));
this._cardLayer.addComponent(cc.Button);
this._cardLayer.getComponent(cc.Button).interactable = !0;
return [ 4, p.default.inst.loadForm("prefab/blackjack/BJSeat") ];

case 1:
t = s.sent();
(o = cc.instantiate(t)).parent = this;
o.setPosition(1400, 959);
o.name = "cutSeat";
e.userMoney = e.chip;
e.moneyType == l.goldType.free && (e.userMoney = e.coin);
cc.winSize.width, cc.winSize.width;
i = cc.winSize.width - (cc.winSize.width - 1170) / 2 + 231;
n = [];
a = function() {
var t = new cc.Node();
t.addComponent(cc.Sprite);
t.getComponent(cc.Sprite).spriteFrame = g.SPCache.pokerCardCut;
f._cardLayer.addChild(t);
t.zIndex = 113;
t.setPosition(i - 585, n[0].y + 60);
f._blackCard = t;
f._blackCard.attr({
userID: e.userID
});
f._startingPoint = n[n.length - 1].x + 76 + Math.floor(146.5);
f._endPoint = n[0].x + 88 - Math.floor(146.5);
if (e.userID == d.default.UserData.userId) {
var o = Date.now();
m.default.addTouchEvent(t, function(e, i) {
var a = e.getLocation();
if ("touchmove" == e.type) {
f._timeX = Date.now();
o - f._timeX > 15e4 && (o = 0);
var r = a.x;
if (r < f._endPoint - 208 && r > f._startingPoint - 208) {
i.x = r + 208;
var s = (r - f._startingPoint + 100) / (f._endPoint - f._startingPoint);
if (f._timeX - o > 100) {
_.MyEvent.getInstance().emit("EVENT_CUT_CARD_MOVE", {
percentage: s,
time: f._timeX - o
});
o = f._timeX;
}
}
for (var c = 0; c < n.length; c++) {
var l = n[c];
if (i.x - 208 > l.x) {
i.zIndex = l.zIndex + 1 - 20;
t.zIndex = i.zIndex;
break;
}
}
} else if ("touchend" == e.type || "touchcancel" == e.type) {
i.targetOff();
_.MyEvent.getInstance().emit("EVENT_CUT_CARD_CUTTING");
}
}, t);
}
};
this._gameType = e.gameType;
r = g.SPCache.pokerShoesCard;
e.gameType != l.gameType.blackjack && (this._cardColor == h.CardBackColor.blue ? r = g.SPCache.pokerShoesCardBlue : this._cardColor == h.CardBackColor.yellow && (r = g.SPCache.pokerShoesCardYellow));
for (c = 0; c < 195; c++) {
(u = new cc.Node()).addComponent(cc.Sprite);
u.getComponent(cc.Sprite).spriteFrame = r;
u.parent = this._cardLayer;
u.zIndex = c + 1;
u.setPosition(i - 6 * c, 347);
n.push(u);
}
cc.tween(this._cardLayer).to(1, {
scale: 1,
x: 0,
y: 0
}).call(function() {
f._cardList = n;
a();
}, this).start();
return [ 2 ];
}
});
});
};
t.prototype.broadcastReceivedMoveCutCard = function(e) {
if (this._blackCard.userID != d.default.UserData.userId && m.default.isnull(this._blackCard)) {
this._blackCard.x = this._startingPoint + (this._endPoint - this._startingPoint) * (e.percentage / 100);
for (var t = 0; t < this._cardList.length; t++) {
var o = this._cardList[t];
if (this._blackCard.x - 208 > o.x) {
this._blackCard.zIndex = o.zIndex + 1 - 20;
break;
}
}
}
};
t.prototype.cutCardAnim = function() {
var e = this;
if (!this._activeCutCard && m.default.isnull(this._blackCard)) {
this._blackCard.userID == d.default.UserData.userId && _.MyEvent.getInstance().emit("EVENT_CUT_CARD_END");
this.getChildByName("cutSeat");
this._activeCutCard = !0;
for (var t, o = this._cardList, i = this._blackCard, n = 0; n < o.length; n++) {
var a = o[n];
if (i.x - 88 > a.x) {
i.zIndex = a.zIndex + 1;
t = n;
cc.tween(i).to(.5, {
x: a.x - 6,
y: a.y
}).call(function() {
e.cutCardEnd();
i.opacity = 0;
for (var n = function(i) {
var n = o[i];
i <= t ? cc.tween(n).by(c.default.getInstance().gameTimeData.cutCardChange / 3, {
x: 0,
y: 304
}).call(function() {
n.zIndex = 300 + i;
}, e).by(c.default.getInstance().gameTimeData.cutCardChange / 3, {
x: 6 * -(o.length - t),
y: 0
}).by(c.default.getInstance().gameTimeData.cutCardChange / 3, {
x: 0,
y: -304
}).start() : cc.tween(n).by(c.default.getInstance().gameTimeData.cutCardChange / 3, {
x: 0,
y: 0
}).by(c.default.getInstance().gameTimeData.cutCardChange / 3, {
x: 6 * t,
y: 0
}).by(c.default.getInstance().gameTimeData.cutCardChange / 3, {
x: 0,
y: 0
}).start();
}, a = 0; a < o.length; a++) n(a);
cc.tween(e._cardLayer).delay(c.default.getInstance().gameTimeData.cutCardChange + 1).to(.2, {
scale: .1,
x: 1900,
y: 1080
}).call(function() {
e.hideCutCardUserSeat();
e._blackCard.destroy();
e._cardLayer.destroy();
}, e).start();
}, this).start();
break;
}
}
}
};
t.prototype.dealCutCard = function(e) {
var t = this, o = [ [ {
x: 1398,
y: 708
} ], [ {
x: 1333,
y: 708
} ], [ {
x: 1268,
y: 708
} ], [ {
x: 1203,
y: 708
} ], [ {
x: 1138,
y: 708
} ], [ {
x: 1138,
y: 708
}, {
x: 1398,
y: 542
} ], [ {
x: 1138,
y: 708
}, {
x: 1333,
y: 542
} ], [ {
x: 1138,
y: 708
}, {
x: 1268,
y: 542
} ], [ {
x: 1138,
y: 708
}, {
x: 1203,
y: 542
} ], [ {
x: 1138,
y: 708
}, {
x: 1138,
y: 542
} ], [ {
x: 1398,
y: 898
} ] ], i = this._firstCutCard, n = i % 16;
14 == n ? n = 1 : n > 10 && (n = 10);
var a = o[10][0], r = this._cardColor;
this._gameType == l.gameType.blackjack && (r = h.CardBackColor.red);
var s = u.default.inst.getCutCard(i, r);
s.attr({
cardid: 99
});
s.attr({
cardIndex: 1
});
this._cutCardList.push(s);
this.moveCard(s, {
scaleX: this._cardSize.x,
scaleY: this._cardSize.y,
moveTime: .2,
delayTime: 0,
pointX: a.x,
pointY: a.y
}, function() {
s.getComponent(y.default).automaticFlop(function() {});
t.getComponent(cc.Sprite).scheduleOnce(function() {
for (var i = function(e) {
t.getComponent(cc.Sprite).scheduleOnce(function() {
var i, a = u.default.inst.getCutCard(0, r);
a.attr({
cardid: 99
});
a.attr({
cardIndex: e + 2
});
t._cutCardList.push(a);
i = n <= 5 ? o[n - 1][0] : e < 5 ? o[n - 1][0] : o[n - 1][1];
e < 5 ? t.moveCard(a, {
scaleX: t._cardSize.x,
scaleY: t._cardSize.y,
moveTime: .2,
delayTime: 0,
pointX: i.x + 130 * e,
pointY: i.y
}) : t.moveCard(a, {
scaleX: t._cardSize.x,
scaleY: t._cardSize.y,
moveTime: .2,
delayTime: 0,
pointX: i.x + 130 * (e - 5),
pointY: i.y
});
}, .2 * e);
}, a = 0; a < n; a++) i(a);
t.getComponent(cc.Sprite).scheduleOnce(function() {
for (var i = function(i) {
var n = t._cutCardList[i];
m.default.isnull(n) && cc.tween(n).to(.5, {
x: o[10][0].x,
y: o[10][0].y
}).call(function() {
t.closingAnimation(n);
e();
}, t).start();
}, n = 0; n < t._cutCardList.length; n++) i(n);
}, .2 * (n + 1) + .5);
}, .2);
});
};
t.prototype.moveCard = function(e, t, o) {
var i = [ {
x: 1930,
y: 1090
}, {
x: 1770,
y: 900
} ], n = t.scaleX || 1, a = t.scaleY || 1, r = t.pointX, s = t.pointY, c = t.moveTime;
t.moveTime || (c = .2);
var l = t.delayTime || 0;
e.setPosition(i[0].x, i[0].y);
e.scaleX = 84 / 634;
e.scaleY = 113 / 936;
e.parent = this;
e.zIndex = 99;
e.angle = -122;
e.stopAllActions();
cc.tween(e).delay(l).call(function() {
f.default.inst.playEffect("deal");
_.MyEvent.getInstance().emit("DEAL_CUT_CARD");
}, this).parallel(cc.tween().bezierTo(c, new cc.Vec2(i[0].x, i[0].y), new cc.Vec2(i[1].x, i[1].y), new cc.Vec2(r, s)), cc.tween().to(c, {
scaleX: n,
scaleY: a,
angle: 0
})).call(function() {
o && o();
}, this).start();
var d = new cc.Node();
d.addComponent(cc.Sprite);
d.getComponent(cc.Sprite).spriteFrame = g.SPCache.pokerFront;
d.color = new cc.Color(0, 0, 0, 255);
d.opacity = 40;
d.parent = e;
d.zIndex = -1;
d.x = 0;
d.y = 0;
cc.tween(d).to(c / 2, {
x: 4,
y: -10
}).to(c / 2, {
x: 0,
y: 0
}).call(function() {
d.removeFromParent();
}, this).start();
};
t.prototype.closingAnimation = function(e) {
var t = this, o = [ {
x: 1398,
y: 898
}, {
x: 950,
y: 934
}, {
x: 910,
y: 1090
} ];
cc.tween(e).to(.3, {
x: o[0].x,
angle: e.angle
}, {
easing: "quartIn"
}).parallel(cc.tween().bezierTo(.2, cc.v2(o[0].x, o[0].y), cc.v2(o[1].x, o[1].y), cc.v2(o[2].x, o[2].y)), cc.tween().to(.2, {
opacity: 0,
scaleX: 84 / 634,
scaleY: 113 / 936
})).call(function() {
t.removeFromParent(!0);
}, this).start();
};
t.prototype.cutCardEnd = function() {
var e = this;
this.getComponent(cc.Sprite).scheduleOnce(function() {
_.MyEvent.getInstance().emit("CUT_CARD_END_EVENT");
e.getComponent(cc.Sprite).scheduleOnce(function() {
f.default.inst.playEffect("good_luck", !1, !0);
e.dealCutCard(function() {});
}, .5);
}, c.default.getInstance().gameTimeData.cutCardChange + 1.2);
};
t.prototype.showCutCardUserSeat = function() {};
t.prototype.hideCutCardUserSeat = function() {
var e = this.getChildByName("cutSeat");
null != e && e.removeFromParent(!0);
};
return a([ b ], t);
}(cc.Node));
o.CutCardNode = v;
cc._RF.pop();
}, {
"../Conf/BaccatRoomConf": "BaccatRoomConf",
"../Conf/Const": "Const",
"../Data/GameData": "GameData",
"../Manager/CardCreator": "CardCreator",
"../Manager/CardManager": "CardManager",
"../UIFrame/ResMgrs": "ResMgrs",
"../UIFrame/SoundMgr": "SoundMgr",
"../Util/GameUtil": "GameUtil",
"../Util/SpritePreLoader": "SpritePreLoader",
"../Util/test": "test",
"./MyEvent": "MyEvent"
} ],
CutCardTips: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c325etth3BA55sVkvWIVTDf", "CutCardTips");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Components/MyEvent"), s = e("../Data/LanguageData"), c = e("../Socket/WebSocketManager"), l = e("../UIFrame/config/SysDefine"), d = e("../UIFrame/SoundMgr"), h = e("../UIFrame/UIBase"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.formType = l.FormType.PopUp;
return t;
}
o = t;
t.prototype.onLoad = function() {
this._btn1 = this.node.getChildByName("btn1");
this._btn2 = this.node.getChildByName("btn2");
this.node.getChildByName("label").getComponent(cc.Label).string = s.default.ins.STRING_DIALOG("isContinue");
this._btn1.getChildByName("label").getComponent(cc.Label).string = s.default.ins.STRING_COMMON("yes");
this._btn2.getChildByName("label").getComponent(cc.Label).string = s.default.ins.STRING_COMMON("no");
this._btn1.on("click", this.onBtn1, this);
this._btn2.on("click", this.onBtn2, this);
};
t.prototype.onBtn1 = function() {
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
c.default.getInstance().socketSend.whenContinue(1);
o.closeView();
};
t.prototype.onBtn2 = function() {
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
c.default.getInstance().socketSend.whenContinue(0);
o.closeView();
};
t.prototype.start = function() {
d.default.inst.playEffect("is_continue", !1, !0);
};
var o;
t._prefabPath = "prefab/dialog/cutCardTips";
return o = a([ p ], t);
}(h.default));
o.default = f;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Data/LanguageData": "LanguageData",
"../Socket/WebSocketManager": "WebSocketManager",
"../UIFrame/SoundMgr": "SoundMgr",
"../UIFrame/UIBase": "UIBase",
"../UIFrame/config/SysDefine": "SysDefine"
} ],
DebugWindowUtils: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "84e75b8tBhNjY7KyBAgOsH/", "DebugWindowUtils");
this && this.__spreadArrays;
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function() {
function e() {}
e.getModuleName = function(e) {
return "string" != typeof e ? e : e.split("/").pop().split(".")[0];
};
e.init = function() {
var e = "undefined" != typeof __modular ? __modular : {};
if (e && e.modules) {
var t = e.modules, o = {};
for (var i in t) {
var n = t[i], a = n.file, r = n.module ? n.module.exports : {}, s = this.getModuleName(a);
for (var c in r) if ("__esModule" !== c) if ("default" === c) {
r[c] = l(s, r[c], s);
r[s] || (r[s] = r[c]);
} else r[c] = l(c, r[c], s);
window[s + "_mod"] = r;
}
for (var i in o) window[i] || (window[i] = o[i]);
}
function l(e, t, i) {
var n = e;
t && t.name && (n = t.name);
if (o[e]) return l(e + i, t, i);
var a = t;
o[n] = a;
return a;
}
};
return e;
}();
o.default = i;
cc._RF.pop();
}, {} ],
DialogBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "19cbaOcX3RJ/JAULNn0Ox7P", "DialogBase");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../UIFrame/UIBase"), s = e("./MyEvent"), c = e("../UIFrame/SoundMgr"), l = e("../UIFrame/config/SysDefine"), d = e("../Manager/DialogManager"), h = e("../Util/GameUtil"), u = e("../Conf/GuardConfig"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._data = null;
t._callback = null;
t.formType = l.FormType.PopUp;
t.orientation = h.SCREEN_ORIENTATION.ORIENTATION_LANDSCAPE;
t.loadingNode = null;
return t;
}
o = t;
t.prototype.onLoad = function() {
this.__initUI();
};
t.prototype.__initUI = function() {
var e = this, t = function(o) {
for (var i = 0, n = o.childrenCount; i < n; i++) {
var a = o.children[i];
if (!e["_" + a.name]) {
a.sprite = a.getComponent(cc.Sprite);
a.label = a.getComponent(cc.Label);
a.editbox = a.getComponent(cc.EditBox);
a.button = a.getComponent(cc.Button);
a.scrollview = a.getComponent(cc.ScrollView);
e["_" + a.name] = a;
t(a);
}
}
};
t(this.node);
};
t.prototype.getNodeByName = function(e) {
return this["_" + e] || null;
};
t.prototype.getComByName = function(e, t) {
return this["_" + e] ? this["_" + e].getComponent(t) : null;
};
t.prototype.onShow = function(e) {
this._data = e;
};
t.prototype.start = function() {
this.canDestory = !0;
this.addBtnClick();
if (this.orientation == h.SCREEN_ORIENTATION.ORIENTATION_PORTRAIT) {
h.default.setScreenOrientation(h.SCREEN_ORIENTATION.ORIENTATION_PORTRAIT);
if (cc.sys.isBrowser) return;
cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.AndroidInterfacePath.SystemInterface, "resetKeyboardHeight", "()V");
}
};
t.prototype.addBtnClick = function() {
if (this._btnList && !(this._btnList.length <= 0)) for (var e = 0; e < this._btnList.length; e++) this._btnList[e].on("click", this.onBtnClick, this);
};
t.prototype.onBtnClick = function() {
c.default.inst.playEffect("btnSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
};
t.prototype.onClose = function() {
this.unscheduleAllCallbacks();
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this.closeDialog();
};
t.prototype.closeDialog = function() {
o.prefabPath = this.uid;
o.closeView();
};
t.prototype.onDisable = function() {
if (this.orientation == h.SCREEN_ORIENTATION.ORIENTATION_PORTRAIT) {
h.default.setScreenOrientation(h.SCREEN_ORIENTATION.ORIENTATION_LANDSCAPE);
if (cc.sys.isBrowser) return;
cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(u.AndroidInterfacePath.SystemInterface, "resetKeyboardHeight", "()V");
}
};
t.prototype.onDestroy = function() {
s.MyEvent.getInstance().emit("ON_CLOSE_DIALOG", this.uid);
d.default.inst.onCloseDialog(this.uid);
};
t.prototype.startLoading = function(e, t, o) {
var i = this;
if (!h.default.isnull(this.loadingNode)) {
this.loadingNode = new cc.Node();
this.node.addChild(this.loadingNode);
this.loadingNode.addComponent(sp.Skeleton);
this._loadSpineRemote().then(function(e) {
i.loadingNode.getComponent(sp.Skeleton).skeletonData = e;
i.loadingNode.getComponent(sp.Skeleton).animation = "animation2";
});
}
this.loadingNode.active = !0;
this.loadingNode.stopAllActions();
this.loadingNode.setPosition(e || 0, t || 0);
this.scheduleOnce(function() {
i.loadingNode.active && i.stopLoading();
o || i.closeDialog();
}, 10);
};
t.prototype.stopLoading = function() {
if (h.default.isnull(this.loadingNode)) {
this.loadingNode.active = !1;
this.unscheduleAllCallbacks();
}
};
var o;
return o = a([ f ], t);
}(r.default));
o.default = m;
cc._RF.pop();
}, {
"../Conf/GuardConfig": "GuardConfig",
"../Manager/DialogManager": "DialogManager",
"../UIFrame/SoundMgr": "SoundMgr",
"../UIFrame/UIBase": "UIBase",
"../UIFrame/config/SysDefine": "SysDefine",
"../Util/GameUtil": "GameUtil",
"./MyEvent": "MyEvent"
} ],
DialogChoice: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "099c9lrACpClq6quDwgO3HW", "DialogChoice");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.choiceData = void 0;
var r = e("../UIFrame/List"), s = cc._decorator, c = s.ccclass, l = (s.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this._data = [];
this._scrollview = this.node.getChildByName("scrollview");
this._list = this._scrollview.getComponent(r.default);
this._pressColor = cc.color(240, 241, 242, 255);
this._normalColor = cc.color(150, 183, 233, 255);
};
Object.defineProperty(t.prototype, "data", {
set: function(e) {
this._data = e;
this._list.numItems = this._data.length;
},
enumerable: !1,
configurable: !0
});
t.prototype.creatrItem = function(e, t) {
var o = this._data[t], i = e.getChildByName("redTips"), n = e.getChildByName("label"), a = e.getChildByName("sideSelectedItem"), r = e.getChildByName("bg");
o.red ? i.active = !0 : i.active = !1;
if (o.select) {
e.position;
n.color = this._pressColor;
r.active = !1;
a.active = !0;
} else {
n.color = this._normalColor;
r.active = !0;
a.active = !1;
}
n.getComponent(cc.Label).string = o.desc;
e.off("click");
e.on("click", function() {
o.call.call(o.caller, o.name);
});
};
Object.defineProperty(t.prototype, "pressColor", {
set: function(e) {
this._pressColor = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "value", {
set: function(e) {
this._normalColor = e;
},
enumerable: !1,
configurable: !0
});
t.prototype.start = function() {};
return a([ c ], t);
}(cc.Component));
o.default = l;
o.choiceData = function() {
this.name = "";
this.red = !1;
this.desc = "";
this.call = null;
this.caller = null;
this.select = !1;
};
cc._RF.pop();
}, {
"../UIFrame/List": "List"
} ],
DialogLogic: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "067b39WTY5DV6CFbXkbRwh2", "DialogLogic");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.ViewZOrder = o.FullViewIndex = o.DialogIndex = void 0;
var a, r, s = e("../BeautyDialog/NewCommonTip"), c = e("../EXUIFrame/EXUIManager"), l = e("../GameCommon/ResourceManager");
(function(e) {
e.gameReward = "BeautyDIalog/rewardDialog";
e.confirm = "BeautyDIalog/commonDialog";
e.chipInsufficient = "BeautyDIalog/shop/coinNotEnough";
e.setup = "BeautyDIalog/setup/setup";
e.phoneRegister = "SummerLogin/phoneRegisterDialog";
e.phoneLogin = "SummerLogin/phoneLoginDialog";
})(o.DialogIndex || (o.DialogIndex = {}));
(function(e) {
e.gameHelp = "BeautyDIalog/help/help";
e.gameProfile = "BeautyDIalog/profile/profile";
e.gameActivity = "BeautyDIalog/task/task";
e.gameLoading = "BeautyDIalog/loading";
e.gameShop = "BeautyDIalog/shop/shop";
e.romaSolotHelp = "prefab/dialog/more/romaSlotHelp";
})(a = o.FullViewIndex || (o.FullViewIndex = {}));
(function(e) {
e[e.fullView = 100] = "fullView";
e[e.modal = 200] = "modal";
e[e.dialog = 300] = "dialog";
e[e.alert = 450] = "alert";
e[e.tips = 500] = "tips";
})(r = o.ViewZOrder || (o.ViewZOrder = {}));
var d = function() {
function e() {
this.dialogCache = [];
}
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new e());
return this._inst;
},
enumerable: !1,
configurable: !0
});
e.prototype.showViewFromParent = function(e, t) {
c.default.getInstance().openUIFormFromParent(e, t);
};
e.prototype.showFullView = function(e, t, o, i) {
c.default.getInstance().openUIForm(e, t, o, i);
};
e.prototype.showDialog = function(e, t, o) {
o ? c.default.getInstance().openUIForm(e, t) : this.isDialogShow(a.gameActivity) ? this.pushDialog(e, t) : c.default.getInstance().openUIForm(e, t);
};
e.prototype.isDialogShow = function(e) {
return c.default.getInstance().isUIFormShow(e);
};
e.prototype.pushDialog = function(e, t) {
var o = {};
o.id = e;
o.data = t || {};
this.dialogCache.push(o);
};
e.prototype.onCloseDialog = function() {
if (this.dialogCache.length > 0) {
var e = this.dialogCache[0];
this.showDialog(e.id, e.data);
this.dialogCache.shift();
}
};
e.prototype.closeDialog = function(e) {
c.default.getInstance().closeUIForm(e);
};
e.prototype.closeFullViewDialog = function(e) {
c.default.getInstance().closeUIForm(e);
};
e.prototype.closeAllDialog = function() {
c.default.getInstance().clearStackArray();
};
e.prototype.showTips = function(e, t) {
return i(this, void 0, void 0, function() {
var o, i;
return n(this, function(n) {
switch (n.label) {
case 0:
null != (o = cc.director.getScene().getChildByName("gameTips")) && o.removeFromParent(!0);
return [ 4, l.default.getInstance().loadUI("BeautyDIalog/alert") ];

case 1:
(i = n.sent()).getComponent(s.default).initTips(e, t);
cc.director.getScene().addChild(i, r.tips, "gameTips");
return [ 2 ];
}
});
});
};
e._inst = null;
return e;
}();
o.default = d;
cc._RF.pop();
}, {
"../BeautyDialog/NewCommonTip": "NewCommonTip",
"../EXUIFrame/EXUIManager": "EXUIManager",
"../GameCommon/ResourceManager": "ResourceManager"
} ],
DialogManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "983e1zn/AZNOr6U7GdYlx4w", "DialogManager");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.ViewZOrder = o.FullViewIndex = o.DialogIndex = void 0;
var a, r, s, c = e("../Dialog/CommonTip"), l = e("../Data/GameData"), d = e("../Room/Invite/InviteTips"), h = e("../UIFrame/UIManager"), u = e("../Util/ResMgr"), p = e("../Conf/ScreenAdapter"), f = e("../Conf/Game"), m = e("../Util/GameUtil"), g = e("../Dialog/RichCommonTip"), y = e("../Dialog/Confirm"), _ = e("./SceneManager"), C = e("./EventRecorder");
(function(e) {
e.phoneLogin = "prefab/login/phoneLoginDialog";
e.phoneRegister = "prefab/login/phoneRegisterDialog";
e.phoneRegisterAndLogin = "prefab/login/LoginRegisterDialog";
e.districtSelector = "prefab/login/districtSelector";
e.friendApplyList = "prefab/hall/gameFriend/friendApplyListDialog";
e.friendApplyNoList = "prefab/hall/gameFriend/friendNoApplyDialog";
e.friendAdd = "prefab/hall/gameFriend/addFriendDialog";
e.mailReward = "prefab/hall/gameMail/rewardDialog";
e.readMail = "prefab/hall/gameMail/readMailDialog";
e.readNoticeDialog = "prefab/hall/gameMail/readNoticeDialog";
e.gameReward = "prefab/hall/gameActivity/gameRewardDialog";
e.denyInviteDialog = "prefab/room/invite/GameDenyInviteDialog";
e.gameInviteList = "prefab/room/invite/GameInviteListDialog";
e.gameRecommendInviteList = "prefab/room/invite/GameInviteRecommendListDialog";
e.hallInviteDialog = "prefab/room/invite/HallInviteDialog";
e.gameInvite = "prefab/hall/gameInvite/gameInvite";
e.exchangeConfirm = "prefab/hall/gameExchange/exchangeDialog";
e.confirmDialog = "prefab/confirmDialog";
e.guideDialog = "prefab/guideDialog";
e.loginReward = "prefab/hall/loginReward";
e.firstCharge = "prefab/dialog/mall/firstStrikeDlg";
e.alert = "prefab/alert";
e.alertWithNoTitle = "prefab/alertWithNoTitle";
e.alertWithConfirm = "prefab/alertWithConfirm";
e.confirm = "prefab/dialog/confirm";
e.moreReward = "prefab/hall/moreRewardDialog";
e.effectReward = "prefab/dialog/effectReward";
e.pushNotificationPermissionGuide = "prefab/dialog/pushNotificationPermissionGuide";
e.giftDialog = "prefab/dialog/gift/giftDlg";
e.buyGiftDialog = "prefab/dialog/gift/buyGiftDlg";
e.updateDialog = "prefab/updateDialog";
e.chipInsufficient = "prefab/dialog/mall/chipInsufficient";
e.coinInsufficient = "prefab/dialog/coinInsufficient";
e.tutorialsGuide = "prefab/tutorialsGuide";
e.richConfirmDialog = "prefab/richConfirmDialog";
e.bigRichConfirmDialog = "prefab/bigRichConfirmDialog";
e.tinyDialog = "prefab/tinyDialog";
e.gameSendFreezeDetails = "prefab/hall/gameSend/freezeDetails";
e.gameSendConfirmDialog = "prefab/hall/gameSend/sendConfirmDialog";
e.gameSendConfirmTwiceDialog = "prefab/hall/gameSend/sendConfirmTwiceDialog";
e.bindPhone = "prefab/dialog/more/bindingPhoneDlg";
e.activity = "prefab/ActivityDialog";
e.jackpot = "prefab/blackjack/BJJackpot";
e.bjGuideDialog = "prefab/blackjack/BJGuideDialog";
e.chargeDialog = "prefab/chargeDialog";
e.bankInfoDialog = "prefab/hall/bank/withdrawBankInfoDialog";
e.IFSCCodeSelector = "prefab/hall/bank/findFISCCodeDialog";
e.bankRecordListDialog = "prefab/hall/bank/withdrawRecordListDialog";
e.chargeRecordListDialog = "prefab/hall/bank/chargeRecordListDialog";
e.selectBanker = "prefab/hall/bank/bankerSelector";
e.photoSelector = "prefab/hall/bank/photoSelector";
e.resetPasswordDialog = "prefab/login/resetPasswordDialog";
e.sendVCodeDialog = "prefab/login/SendCodeDialog";
e.withdrawConfirmDialog = "prefab/hall/bank/withdrawConfirmDialog";
e.withdrawGCashConfirmDialog = "prefab/hall/bank/withdrawGCashConfirmDialog";
e.regGuide = "prefab/RegGuide";
e.firstChargeDialog = "prefab/FirstCharge";
e.chooseBank = "prefab/hall/bank/chooseBank";
e.chooseBankPhp = "prefab/hall/bank/chooseBankPHP";
e.hallTimebox = "prefab/hall/hallTimeBox";
e.thVipDlg = "prefab/dialog/thVip/thVipDlg";
e.vipAwardDlg = "prefab/dialog/thVip/vipAwardDlg";
e.setUpDlg = "prefab/dialog/more/setUpDlg";
e.shareDialog = "prefab/shareDialog";
e.chargeWithP2PDialog = "prefab/hall/bank/chargeP2PDialog";
e.chargeWithQRCodeDialog = "prefab/hall/bank/chargeQRDialog";
e.rankDialog = "prefab/hall/rankDialog";
e.autobillingAttentionDialog = "prefab/hall/bank/chargeAttentionDialog";
e.autobillingConfirmDialog = "prefab/hall/bank/chargeConfirmDialog";
e.bindGCashDialog = "prefab/hall/bank/bindGCashDialog";
e.bindPhoneDialog = "prefab/dialog/bindPhoneDialog";
e.setPasswordDialog = "prefab/dialog/setPasswordDialog";
e.updatePasswordDialog = "prefab/dialog/updatePasswordDialog";
})(a = o.DialogIndex || (o.DialogIndex = {}));
(function(e) {
e.gameFriend = "prefab/hall/gameFriend/gameFriend";
e.gameMail = "prefab/hall/gameMail/gameMail";
e.gameActivity = "prefab/hall/gameActivity/gameActivity";
e.gameExchange = "prefab/hall/gameExchange/gameExchange";
e.gameLoading = "prefab/login/loadingDialog";
e.gameShop = "prefab/dialog/mall/mallDlg";
e.homePageDlg = "prefab/dialog/homePage/homePageDlg";
e.otherPageDlg = "prefab/dialog/homePage/otherPageDlg";
e.moreDlg = "prefab/dialog/more/moreDlg";
e.cardReviceDlg = "prefab/dialog/homePage/cardGameDetails";
e.webViewDlg = "prefab/dialog/webViewDlg";
e.gameSend = "prefab/hall/gameSend/gameSend";
e.gameWithdraw = "prefab/hall/bank/withdrawDialog";
e.gameCharge = "prefab/hall/bank/chargeDialog";
e.gameAgent = "prefab/hall/bank/agentDialog";
e.gameKickback = "prefab/hall/bank/kickbackDialog";
e.gameWeb = "prefab/dialog/gameWeb";
e.gameWebNative = "prefab/dialog/gameWebNative";
e.romaSolotHelp = "prefab/dialog/more/romaSlotHelp";
e.Feedback = "prefab/hall/FeedbackDialog";
e.FeedbackWeb = "prefab/hall/FeedbackWebDialog";
e.feedbackHoriDialog = "prefab/dialog/feedbackHoriDialog";
e.gamePayNative = "prefab/hall/bank/PayWebDialog";
e.webDialog = "prefab/webDialog";
})(r = o.FullViewIndex || (o.FullViewIndex = {}));
(function(e) {
e[e.fullView = 100] = "fullView";
e[e.modal = 200] = "modal";
e[e.dialog = 300] = "dialog";
e[e.alert = 450] = "alert";
e[e.tips = 500] = "tips";
})(s = o.ViewZOrder || (o.ViewZOrder = {}));
var b = function() {
function e() {
this.dialogCache = [];
}
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new e());
return this._inst;
},
enumerable: !1,
configurable: !0
});
e.prototype.showViewFromParent = function(e, t) {
h.default.getInstance().openUIFormFromParent(this.openFullDialog(e), t);
};
e.prototype.showFullView = function(e, t, o, i) {
h.default.getInstance().openUIForm(this.openFullDialog(e), t, o, i);
};
e.prototype.showDialog = function(e, t, o, i) {
o ? h.default.getInstance().openUIForm(e, t) : this.isDialogShow(r.gameActivity) ? this.pushDialog(e, t) : i ? h.default.getInstance().openUIForm(e, {
abName: i
}) : h.default.getInstance().openUIForm(e, t);
};
e.prototype.isDialogShow = function(e) {
return h.default.getInstance().isUIFormShow(e);
};
e.prototype.pushDialog = function(e, t) {
var o = {};
o.id = e;
o.data = t || {};
this.dialogCache.push(o);
};
e.prototype.onCloseDialog = function() {
if (!h.default.getInstance().isDialogShow() && this.dialogCache.length > 0) {
var e = this.dialogCache[0];
this.showDialog(e.id, e.data);
this.dialogCache.shift();
}
};
e.prototype.closeDialog = function(e) {
h.default.getInstance().closeUIForm(e);
};
e.prototype.closeFullViewDialog = function(e) {
h.default.getInstance().closeUIForm(this.openFullDialog(e));
};
e.prototype.closeAllDialog = function() {
h.default.getInstance().clearStackArray();
};
e.prototype.showTinyDialog = function(e, t, o, r, s, c) {
return i(this, void 0, void 0, function() {
var i;
return n(this, function() {
(i = {}).content = e;
i.btnAmount = t;
i.okDesc = o;
i.okCallback = r;
i.cancelDesc = s;
i.cancelCallback = c;
this.showDialog(a.tinyDialog, i);
return [ 2 ];
});
});
};
e.prototype.showRichConfirmDialog = function(e, t, o, r, s, c, l) {
return i(this, void 0, void 0, function() {
var i;
return n(this, function() {
(i = {}).content = e;
i.title = o;
i.btnAmount = t;
i.okDesc = r;
i.okCallback = s;
i.cancelDesc = c;
i.cancelCallback = l;
this.showDialog(a.richConfirmDialog, i);
return [ 2 ];
});
});
};
e.prototype.showBigRichConfirmDialog = function(e, t, o, r, s, c, l) {
return i(this, void 0, void 0, function() {
var i;
return n(this, function() {
(i = {}).content = e;
i.title = o;
i.btnAmount = t;
i.okDesc = r;
i.okCallback = s;
i.cancelDesc = c;
i.cancelCallback = l;
this.showDialog(a.bigRichConfirmDialog, i);
return [ 2 ];
});
});
};
e.prototype.showConfirmDialog = function(e, t, o, r, s, c, l, d) {
return i(this, void 0, void 0, function() {
var i;
return n(this, function() {
(i = {}).content = e;
i.title = o;
i.btnAmount = t;
i.okDesc = r;
i.okCallback = s;
i.cancelDesc = c;
i.cancelCallback = l;
i.closeCallback = d;
this.showDialog(a.confirmDialog, i);
return [ 2 ];
});
});
};
e.prototype.showChargeDialog = function(e, t) {
return i(this, void 0, void 0, function() {
var o;
return n(this, function() {
(o = {}).content = t;
o.title = e;
this.showDialog(a.chargeDialog, o);
return [ 2 ];
});
});
};
e.prototype.showAlert = function(e, t, o, r, s, c, l) {
return i(this, void 0, void 0, function() {
var i;
return n(this, function() {
(i = {}).content = e;
i.title = t;
i.btnDesc = o;
i.callback = r;
i.btnType = s;
i.x = c;
i.y = l;
this.showDialog(a.alert, i);
return [ 2 ];
});
});
};
e.prototype.showAlertWithNoTitle = function(e, t, o, r, s) {
return i(this, void 0, void 0, function() {
var i;
return n(this, function() {
(i = {}).content = e;
i.btnDesc = t;
i.callback = o;
i.x = r;
i.y = s;
this.showDialog(a.alertWithNoTitle, i);
return [ 2 ];
});
});
};
e.prototype.showAlertWithConfirm = function(e, t, o, r, s, c) {
return i(this, void 0, void 0, function() {
var i;
return n(this, function() {
(i = {}).confirmContent = e;
i.title = o;
i.confirmDesc = t;
i.callback = r;
i.x = s;
i.y = c;
this.showDialog(a.alertWithConfirm, i);
return [ 2 ];
});
});
};
e.prototype.showTips = function(e, t, o, a) {
return i(this, void 0, void 0, function() {
var i, r;
return n(this, function(n) {
switch (n.label) {
case 0:
null != (i = cc.director.getScene().getChildByName("gameTips")) && i.removeFromParent(!0);
return [ 4, u.default.getInstance().loadUI("prefab/common_tips") ];

case 1:
(r = n.sent()).getComponent(c.default).initTips(e, t, o, a);
cc.director.getScene().addChild(r, s.tips, "gameTips");
return [ 2 ];
}
});
});
};
e.prototype.showRichTips = function(e, t) {
return i(this, void 0, void 0, function() {
var o;
return n(this, function(i) {
switch (i.label) {
case 0:
return [ 4, u.default.getInstance().loadUI("prefab/richTips") ];

case 1:
(o = i.sent()).getComponent(g.default).initTips(e, t);
cc.director.getScene().addChild(o, s.tips);
return [ 2 ];
}
});
});
};
e.prototype.showInviteTips = function(e) {
return i(this, void 0, void 0, function() {
var t;
return n(this, function(o) {
switch (o.label) {
case 0:
return [ 4, u.default.getInstance().loadUI("prefab/room/invite/InviteTips") ];

case 1:
(t = o.sent()).getComponent(d.default).initTips(e);
cc.director.getScene().addChild(t, s.tips);
return [ 2 ];
}
});
});
};
e.prototype.showBadNetworkDialog = function() {
m.default.hideLoading();
var t = new y.disconnection();
t.okCallback = function() {
console.log("");
_.default.enterLoading();
};
t.cancelCallback = function() {
console.log("");
_.default.enterLoading();
};
e.inst.closeAllDialog();
C.default.record(C.EventID.networkClose, "scene", f.default.currScene);
h.default.getInstance().openUIForm("prefab/dialog/confirm", [ t ]);
};
e.prototype.closeBadNetwordDialog = function() {
h.default.getInstance().closeUIForm("prefab/dialog/confirm");
};
e.prototype.showNoNetworkDialog = function() {
var t = new y.disconnection();
t.okCallback = function() {
_.default.enterLogin();
};
e.inst.closeAllDialog();
C.default.record(C.EventID.networkClose, "scene", f.default.currScene);
h.default.getInstance().openUIForm("prefab/dialog/confirm", [ t ]);
};
e.prototype.showHomePageDlg = function(e) {
var t = l.default.UserData.userId;
e && (t = e);
t == l.default.UserData.userId && this.showFullView(r.homePageDlg, 0);
};
e.prototype.hideHomePageDlg = function() {
e.inst.closeFullViewDialog(r.homePageDlg);
e.inst.closeFullViewDialog(r.otherPageDlg);
};
e.prototype.hideFullScreen = function() {
e.inst.closeFullViewDialog(r.homePageDlg);
e.inst.closeFullViewDialog(r.otherPageDlg);
e.inst.closeFullViewDialog(r.moreDlg);
e.inst.closeFullViewDialog(r.gameShop);
};
e.prototype.showWebViewDlg = function(e, t, o) {
this.showFullView(r.webViewDlg, e, t, o);
};
e.prototype.showFeedbackHoriDlg = function(e, t, o) {
this.showFullView(r.feedbackHoriDialog, e, t, o);
};
e.prototype.showWe = function(e, t, o) {
this.showFullView(r.webViewDlg, e, t, o);
};
e.prototype.openFullDialog = function(e) {
return p.default.getInstance().screenType == p.screenTypeEnum.isIpad ? e.slice(0, 7) + "ipad/" + e.slice(7) : e;
};
e.prototype.canShowDialog = function(e) {
if (e == a.pushNotificationPermissionGuide) {
if (f.default.isRegesterPushNotification) return !1;
var t = m.default.getLevel(l.default.UserData.exp).nowLevel;
if (t < 2) return !1;
var o = m.default.readData("PushPermissionHasShowLevel" + t) || 0;
if (0 == Number(o)) {
m.default.saveData("PushPermissionHasShowLevel" + t, 1);
return !0;
}
return !1;
}
};
e._inst = null;
return e;
}();
o.default = b;
cc._RF.pop();
}, {
"../Conf/Game": "Game",
"../Conf/ScreenAdapter": "ScreenAdapter",
"../Data/GameData": "GameData",
"../Dialog/CommonTip": "CommonTip",
"../Dialog/Confirm": "Confirm",
"../Dialog/RichCommonTip": "RichCommonTip",
"../Room/Invite/InviteTips": "InviteTips",
"../UIFrame/UIManager": "UIManager",
"../Util/GameUtil": "GameUtil",
"../Util/ResMgr": "ResMgr",
"./EventRecorder": "EventRecorder",
"./SceneManager": "SceneManager"
} ],
DialogRoot: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "59ae3ureeVIWYRpRhmfP/n9", "DialogRoot");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../EXUIFrame/EXUIBase"), s = e("./GameEvents"), c = e("../EXUIFrame/EXSoundMgr"), l = e("../EXUIFrame/config/EXSysDefine"), d = e("../GameCores/DialogLogic"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._data = null;
t._callback = null;
t.formType = l.FormType.PopUp;
return t;
}
o = t;
t.prototype.onLoad = function() {};
t.prototype.onShow = function(e) {
this._data = e;
};
t.prototype.start = function() {
this.canDestory = !0;
this.addBtnClick();
};
t.prototype.addBtnClick = function() {
if (this._btnList && !(this._btnList.length <= 0)) for (var e = 0; e < this._btnList.length; e++) this._btnList[e].on("click", this.onBtnClick, this);
};
t.prototype.onBtnClick = function() {
c.default.inst.playEffect("new_res_btnSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
};
t.prototype.onClose = function() {
this.unscheduleAllCallbacks();
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this.closeDialog();
};
t.prototype.closeDialog = function() {
o.prefabPath = this.uid;
o.closeView();
};
t.prototype.onDestroy = function() {
s.MyEvent.getInstance().emit("ON_CLOSE_DIALOG", this.uid);
d.default.inst.onCloseDialog(this.uid);
};
var o;
return o = a([ u ], t);
}(r.default));
o.default = p;
cc._RF.pop();
}, {
"../EXUIFrame/EXSoundMgr": "EXSoundMgr",
"../EXUIFrame/EXUIBase": "EXUIBase",
"../EXUIFrame/config/EXSysDefine": "EXSysDefine",
"../GameCores/DialogLogic": "DialogLogic",
"./GameEvents": "GameEvents"
} ],
DlItem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "028643NqhpGHr+m5GJDRAin", "DlItem");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._gzArr = [];
return t;
}
t.prototype.onLoad = function() {
this.node.getChildByName("dlgz1");
this._gzArr = [];
for (var e = 1; e <= 6; e++) {
var t = this.node.getChildByName("dlgz" + e), o = {};
o.dlBlue = t.getChildByName("dlBlue");
o.dlRed = t.getChildByName("dlRed");
o.dlBluePoint = t.getChildByName("dlBluePoint");
o.dlRedPoint = t.getChildByName("dlRedPoint");
o.dlOnePeace = t.getChildByName("dlOnePeace");
o.dlTwoPeace = t.getChildByName("dlTwoPeace");
o.dlLucky = t.getChildByName("dlLucky");
this._gzArr[e - 1] = o;
}
};
t.prototype.reset = function() {
for (var e = 0; e < this._gzArr.length; e++) {
var t = this._gzArr[e];
for (var o in t) t[o].opacity = 0;
}
};
t.prototype.setData = function(e) {
this.reset();
for (var t = 0; t < e.length; t++) {
var o = e[t], i = this._gzArr[t];
1 == o.id ? this.result1(i) : 2 == o.id ? this.result2(i) : o.id;
1 == o.pice ? this.result9(i) : o.pice >= 2 && this.result10(i);
o.player && this.result3(i);
o.banker && this.result4(i);
o.lucky && this.result5(i);
}
};
t.prototype.result1 = function(e) {
e.dlBlue.opacity = 255;
};
t.prototype.result2 = function(e) {
e.dlRed.opacity = 255;
};
t.prototype.result3 = function(e) {
e.dlBluePoint.opacity = 255;
};
t.prototype.result4 = function(e) {
e.dlRedPoint.opacity = 255;
};
t.prototype.result5 = function(e) {
e.dlLucky.opacity = 255;
};
t.prototype.result9 = function(e) {
e.dlOnePeace.opacity = 255;
};
t.prototype.result10 = function(e) {
e.dlOnePeace.opacity = 255;
e.dlTwoPeace.opacity = 255;
};
return a([ s ], t);
}(cc.Component));
o.default = c;
cc._RF.pop();
}, {} ],
DlgGameMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "47f91IMJqRKy7cvCCIHu4BJ", "DlgGameMgr");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.ViewZOrder = o.DlgType = o.FullScreenType = void 0;
var a, r, s, c = e("../dialog/proxy/GameTips"), l = e("../public/ThirdParty/UIGameMgr"), d = e("../public/MyComponent/ResGameMgr"), h = e("../data/conf/GameInfo"), u = e("../public/MyComponent/GameHppayUtil"), p = e("../dialog/proxy/GameConfirmDlg"), f = e("./GameSceneMgr"), m = e("./ReportGameEvent");
(function(e) {
e.rebate = "prefabs/lobby/rebate/rebateDlg";
e.gamelist = "prefabs/lobby/game/webGameListDlg";
e.mail = "prefabs/lobby/mail/EmailDlg";
e.loading = "prefabs/login/loadingDlg";
e.actList = "prefabs/lobby/activity/eventsListDlg";
e.profile = "prefabs/lobby/profile/profileDlg";
e.withdr = "prefabs/lobby/withdr/qukuanDlg";
e.actDetail = "prefabs/lobby/activity/eventDetailsDlg";
e.charge = "prefabs/lobby/charge/cunkuanDlg";
e.agent = "prefabs/lobby/agent/invitationRewardsDlg";
e.services = "prefabs/lobby/feedback/serviceDlg";
e.web = "prefabs/public/webDialog";
e.gamePlayWeb = "prefabs/lobby/game/webGameDlg";
e.gamePlayWebFive = "prefabs/lobby/game/webFiveDlg";
e.gamePlayWebNative = "prefabs/lobby/game/nativeGameDlg";
e.gameChargeWeb = "prefabs/lobby/charge/webPayDlg";
e.rankDlg = "prefabs/lobby/rank/Rank";
})(a = o.FullScreenType || (o.FullScreenType = {}));
(function(e) {
e.firstCharge = "prefabs/lobby/firstcharge/FirstChargeDlg";
e.modifyNick = "prefabs/lobby/profile/setNickDlg";
e.notice = "prefabs/lobby/notification/NoticeDialog";
e.mailReward = "prefabs/public/GetEmailRewardDlg";
e.mailRead = "prefabs/lobby/mail/GameReadMailDlg";
e.noticeRead = "prefabs/lobby/mail/GameReadNoticeDlg";
e.gameReward = "prefabs/public/GameRewardDlg";
e.confirmDialog = "prefabs/public/GameConfirmDlg";
e.commonConfirm = "prefabs/public/GameGoDlg";
e.gameTips = "prefabs/public/GameTips";
e.alertWithNoTitle = "prefabs/public/GameAlertWhthoutTitle";
e.alertWithConfirm = "prefabs/public/GameSendVCodeConfirmDlg";
e.confirm = "prefabs/public/GameDlg";
e.appUpdate = "prefabs/public/GameUpVerDlg";
e.updatePassword = "prefabs/lobby/setup/updatePwdDlg";
e.bindCharge = "prefabs/lobby/withdr/bindBank";
e.bindChargeInd = "prefabs/lobby/withdr/bindBankInd";
e.chargeCodeList = "prefabs/lobby/withdr/findIndBankCode";
e.withdrList = "prefabs/lobby/withdr/withdListDlg";
e.chargeList = "prefabs/lobby/charge/gameDepositAwardDlg";
e.selectCharger = "prefabs/lobby/withdr/bankSelect";
e.photoChoose = "prefabs/lobby/profile/choosePhoto";
e.vip = "prefabs/lobby/vip/vipDlg";
e.resetPassword = "prefabs/login/restPwdDlg";
e.withdrConfirm = "prefabs/lobby/withdr/qukuanConfirmDlg";
e.withdrGCashConfirm = "prefabs/lobby/withdr/qukuanGCashDlg";
e.withdrPIXConfirm = "prefabs/lobby/withdr/qukuanPIXDlg";
e.withdrUPIConfirm = "prefabs/lobby/withdr/qukuanUPIDlg";
e.regBonus = "prefabs/lobby/regguide/BindPhoneBonusDlg";
e.selectCharge = "prefabs/lobby/withdr/bankListDlg";
e.selectPix = "prefabs/lobby/withdr/PIXListDlg ";
e.timebox = "prefabs/lobby/timebox/timeBoxDlg";
e.vipAward = "prefabs/lobby/vip/vipRewardDlg";
e.setup = "prefabs/lobby/setup/settingsDlg";
e.setupNoLan = "prefabs/lobby/setup/settingsDlgOther";
e.share = "prefabs/lobby/share/socialShareDlg";
e.guideAndroid = "prefabs/public/WebAndroidGuide";
e.guideIOS = "prefabs/public/WebIOSGuide";
e.chargeP2P = "prefabs/lobby/charge/P2PchargeDlg";
e.chargeQR = "prefabs/lobby/charge/QRchargeDlg";
e.rank = "prefabs/lobby/rank/topDlg";
e.luckySpinDlg = "prefabs/lobby/luckyspin/LuckySpin";
e.chargeStepTips = "prefabs/lobby/charge/chargeStepsDlg";
e.chargeStepComoleted = "prefabs/lobby/charge/gameDepositDlg";
e.bindGCash = "prefabs/lobby/withdr/bindGCashDlg";
e.bindUPI = "prefabs/lobby/withdr/bindUPIDlg";
e.bindPhone = "prefabs/lobby/withdr/bindPhoneDlg";
e.bindPix = "prefabs/lobby/withdr/bindPix";
e.setPassword = "prefabs/lobby/setup/initPwdDlg";
})(r = o.DlgType || (o.DlgType = {}));
(function(e) {
e[e.fullView = 100] = "fullView";
e[e.modal = 200] = "modal";
e[e.dialog = 300] = "dialog";
e[e.alert = 450] = "alert";
e[e.tips = 500] = "tips";
})(s = o.ViewZOrder || (o.ViewZOrder = {}));
var g = function() {
function e() {
this.dialogCache = [];
}
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new e());
return this._inst;
},
enumerable: !1,
configurable: !0
});
e.prototype.showNoNetworkDialog = function() {
var t = new p.disconnection();
t.okCallback = function() {
f.default.enterLogin();
};
e.inst.closeAllDialog();
m.default.record(m.ReportEventType.networkClose, "scene", h.default.currScene);
m.default.newRecord(m.ReportEventType.networkClose, "scene", h.default.currScene);
l.default.inst().openUIForm(r.confirm, [ t ]);
};
e.prototype.showViewFromParent = function(e, t) {
l.default.inst().openUIFormFromParent(e, t);
};
e.prototype.showFullView = function(e, t, o, i) {
l.default.inst().openUIForm(e, t, o, i);
};
e.prototype.showDlg = function(e, t, o, i) {
o ? l.default.inst().openUIForm(e, t) : this.isDialogShow(a.actDetail) ? this.pushDialog(e, t) : i ? l.default.inst().openUIForm(e, {
abName: i
}) : l.default.inst().openUIForm(e, t);
};
e.prototype.isDialogShow = function(e) {
return l.default.inst().isUIFormShow(e);
};
e.prototype.pushDialog = function(e, t) {
var o = {};
o.id = e;
o.data = t || {};
this.dialogCache.push(o);
};
e.prototype.onCloseDialog = function() {
if (!l.default.inst().isDialogShow() && this.dialogCache.length > 0) {
var e = this.dialogCache[0];
this.showDlg(e.id, e.data);
this.dialogCache.shift();
}
};
e.prototype.closeDialog = function(e) {
l.default.inst().closeUIForm(e);
};
e.prototype.closeFullViewDialog = function(e) {
l.default.inst().closeUIForm(e);
};
e.prototype.closeAllDialog = function() {
l.default.inst().clearStackArray();
};
e.prototype.showConfirmDlg = function(e, t, o, a, s, c, l, d) {
return i(this, void 0, void 0, function() {
var i;
return n(this, function() {
(i = {}).content = e;
i.title = o;
i.btnAmount = t;
i.okDesc = a;
i.okCallback = s;
i.cancelDesc = c;
i.cancelCallback = l;
i.closeCallback = d;
this.showDlg(r.confirmDialog, i);
return [ 2 ];
});
});
};
e.prototype.showAlert = function(e, t, o, a, s, c, l) {
return i(this, void 0, void 0, function() {
var i;
return n(this, function() {
(i = {}).content = e;
i.title = t;
i.btnDesc = o;
i.callback = a;
i.btnType = s;
i.x = c;
i.y = l;
this.showDlg(r.gameTips, i);
return [ 2 ];
});
});
};
e.prototype.showWithNoTitleAlert = function(e, t, o, a, s) {
return i(this, void 0, void 0, function() {
var i;
return n(this, function() {
(i = {}).content = e;
i.btnDesc = t;
i.callback = o;
i.x = a;
i.y = s;
this.showDlg(r.alertWithNoTitle, i);
return [ 2 ];
});
});
};
e.prototype.showAlertWithConfirm = function(e, t, o, a, s, c) {
return i(this, void 0, void 0, function() {
var i;
return n(this, function() {
(i = {}).confirmContent = e;
i.title = o;
i.confirmDesc = t;
i.callback = a;
i.x = s;
i.y = c;
this.showDlg(r.alertWithConfirm, i);
return [ 2 ];
});
});
};
e.prototype.showTips = function(e, t, o, a) {
return i(this, void 0, void 0, function() {
var i, r;
return n(this, function(n) {
switch (n.label) {
case 0:
null != (i = cc.director.getScene().getChildByName("gameTips")) && i.removeFromParent(!0);
return [ 4, d.default.ins().loadGameUI("prefabs/public/common_tips") ];

case 1:
(r = n.sent()).getComponent(c.default).initTips(e, t, o, a);
cc.director.getScene().addChild(r, s.tips, "gameTips");
return [ 2 ];
}
});
});
};
e.prototype.showBadNetworkDialog = function() {
u.default.hideLoading();
var t = new p.disconnection();
t.okCallback = function() {
console.log("");
f.default.enterLoading();
};
t.cancelCallback = function() {
console.log("");
f.default.enterLogin();
};
e.inst.closeAllDialog();
m.default.record(m.ReportEventType.networkClose, "scene", h.default.currScene);
m.default.newRecord(m.ReportEventType.networkClose, "scene", h.default.currScene);
l.default.inst().openUIForm(r.confirm, [ t ]);
};
e.prototype.closeBadNetwordDialog = function() {
l.default.inst().closeUIForm(r.confirm);
};
e._inst = null;
return e;
}();
o.default = g;
cc._RF.pop();
}, {
"../data/conf/GameInfo": "GameInfo",
"../dialog/proxy/GameConfirmDlg": "GameConfirmDlg",
"../dialog/proxy/GameTips": "GameTips",
"../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../public/MyComponent/ResGameMgr": "ResGameMgr",
"../public/ThirdParty/UIGameMgr": "UIGameMgr",
"./GameSceneMgr": "GameSceneMgr",
"./ReportGameEvent": "ReportGameEvent"
} ],
DrawingBoard: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "54b2dNYr/FCsJ51TWLTWJoT", "DrawingBoard");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function() {
function e(e, t, o) {
this.init(e, t, o);
}
Object.defineProperty(e.prototype, "width", {
get: function() {
return this._witdh;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "height", {
get: function() {
return this._height;
},
enumerable: !1,
configurable: !0
});
e.prototype.init = function(e, t, o) {
this.tempColor = this.tempR = this.tempG = this.tempB = this.tempA = 0;
this.curColor = 0;
this._witdh = Math.round(e);
this._height = Math.round(t);
this.initPointColor();
this.initPixelColor();
this.initLineData();
o && this.setData(o);
};
e.prototype.initPointColor = function() {
this.pointColor || (this.pointColor = []);
for (var e = 0; e < this.width; ++e) {
this.pointColor[e] || (this.pointColor[e] = []);
for (var t = 0; t < this.height; ++t) this.pointColor[e][t] = 0;
}
this.colorCount = {};
this.colorCount[0] = this.width * this.height;
};
e.prototype.initPixelColor = function() {
this.buffer = new ArrayBuffer(this.width * this.height * 4);
this.pixelColor = new Uint8Array(this.buffer);
this.pixelColor.fill(0);
};
e.prototype.reset = function() {
this.resetPointColor();
this.resetPixelColor();
};
e.prototype.resetPointColor = function() {
for (var e = this.width - 1; e >= 0; --e) for (var t = this.height - 1; t >= 0; --t) this.pointColor[e][t] = 0;
for (var o in this.colorCount) this.colorCount[o] = 0;
};
e.prototype.resetPixelColor = function() {
this.pixelColor.fill(0);
};
e.prototype.setData = function(e) {
var t = new Uint8Array(e);
if (t.length != this.width * this.height * 4) {
console.warn("");
t = t.subarray(0, this.width * this.height * 4);
}
this.setPixelColorByRGBA(t);
this.setPointColorByRGBA(t);
};
e.prototype.setPixelColorByRGBA = function(e) {
this.pixelColor.set(e);
};
e.prototype.setPointColorByRGBA = function(e) {
this.colorCount = {};
for (var t = 0; t < this.height; ++t) for (var o = t * this.height, i = 0; i < this.width; ++i) {
var n = this.convertToNumber(e[o++], e[o++], e[o++], e[o++]);
this.pointColor[i][t] = n;
this.colorCount[n] ? this.colorCount[n] += 1 : this.colorCount[n] = 1;
}
};
e.prototype.copyData = function(e) {
void 0 === e && (e = []);
for (var t = 0, o = this.pixelColor.length; t < o; ++t) e[t] = this.pixelColor[t];
return e;
};
e.prototype.getData = function() {
return this.pixelColor;
};
e.prototype.getBuffer = function() {
return this.buffer;
};
e.prototype.getColorCount = function(e, t, o, i) {
void 0 === i && (i = 255);
var n = this.convertToNumber(e, t, o, i);
return this.colorCount[n];
};
e.prototype.setColor = function(e, t, o, i) {
void 0 === i && (i = 255);
this.curColor = this.convertToNumber(e, t, o, i);
this.colorCount[this.curColor] || (this.colorCount[this.curColor] = 0);
this.tempColor = this.curColor;
this.tempR = e;
this.tempG = t;
this.tempB = o;
this.tempA = i;
};
e.prototype.clear = function() {
this.reset();
};
e.prototype.initLineData = function() {
this.previousLineEndPos = new n();
this.previousLineEndPosT = new n();
this.previousLineEndPosB = new n();
this.previousLineCircleEnd = !0;
this.previousLineWidth = 1;
};
e.prototype.moveTo = function(e, t) {
e = Math.round(e);
t = Math.round(t);
this.previousLineEndPos.set(e, t);
this.previousLineEndPosT.set(e, t);
this.previousLineEndPosB.set(e, t);
};
e.prototype.setLineWidth = function(e) {
this.previousLineWidth = e;
};
e.prototype.setLineCircleEnd = function(e) {
this.previousLineCircleEnd = e;
};
e.prototype.line = function(e, t, o, i) {
e = Math.round(e);
o = Math.round(o);
t = Math.round(t);
i = Math.round(i);
if (e != o || t != i) {
var a = this.previousLineWidth, r = this.previousLineCircleEnd;
this.previousLineEndPos.set(o, i);
var s = 0, c = 0, l = 1;
if (e == o) s = Math.round(.5 * a); else if (t == i) c = Math.round(.5 * a); else {
var d = (i - t) / (o - e);
c = .5 * a / (l = Math.sqrt(d * d + 1));
s = Math.round(c * d);
c = Math.round(c);
}
this.previousLineEndPosT.set(o - s, i + c);
this.previousLineEndPosB.set(o + s, i - c);
var h = new n(e, t), u = new n(o, i);
if (e > o) {
h.x = o;
h.y = i;
u.x = e;
u.y = t;
}
this._drawLine(h, u, a, s, c, l);
if (r) {
this._drawCircle(e, t, .5 * a);
this._drawCircle(o, i, .5 * a);
}
}
};
e.prototype.lineTo = function(e, t) {
e = Math.round(e);
t = Math.round(t);
if (this.previousLineEndPos.x != e || this.previousLineEndPos.y != t) {
var o = this.previousLineWidth, i = this.previousLineCircleEnd, a = this.previousLineEndPos.x, r = this.previousLineEndPos.y, s = e, c = t;
if (a > s) {
a = s;
r = c;
s = this.previousLineEndPos.x;
c = this.previousLineEndPos.y;
}
var l = 0, d = 0, h = 1;
if (a == s) l = Math.round(.5 * o); else if (r == c) d = Math.round(.5 * o); else {
var u = (c - r) / (s - a);
d = .5 * o / (h = Math.sqrt(u * u + 1));
l = Math.round(d * u);
d = Math.round(d);
}
if (i) {
this._drawCircle(a, r, .5 * o);
this._drawCircle(s, c, .5 * o);
} else if (this.previousLineEndPos.x != this.previousLineEndPosT.x || this.previousLineEndPos.y != this.previousLineEndPosT.y) {
var p = new n(this.previousLineEndPos.x - l, this.previousLineEndPos.y + d), f = new n(this.previousLineEndPos.x + l, this.previousLineEndPos.y - d);
this._drawTriangle([ p, f, this.previousLineEndPosT ]);
this._drawTriangle([ p, f, this.previousLineEndPosB ]);
}
this._drawLine(new n(a, r), new n(s, c), o, l, d, h);
this.previousLineEndPos.set(e, t);
this.previousLineEndPosT.set(e - l, t + d);
this.previousLineEndPosB.set(e + l, t - d);
}
};
e.prototype._drawLine = function(e, t, o, i, a, r) {
if (e.y == t.y) {
var s = e.x < t.x ? e.x : t.x;
this._drawRect(new n(s, Math.round(e.y - .5 * o)), Math.abs(e.x - t.x), o);
} else if (e.x == t.x) {
var c = e.y < t.y ? e.y : t.y;
this._drawRect(new n(Math.round(e.x - .5 * o), c), o, Math.abs(e.y - t.y));
} else {
var l = (e.x - t.x) / (e.y - t.y), d = new n(e.x - i, e.y + a), h = new n(e.x + i, e.y - a), u = new n(t.x - i, t.y + a), p = new n(t.x + i, t.y - a), f = new n(), m = new n(), g = Math.round(o * r);
if (t.y > e.y) if (h.x < u.x) {
f.x = h.x;
f.y = h.y + g;
m.x = u.x;
m.y = u.y - g;
this._drawVerticalTriangle(f, h, d);
this._drawParallelogram(h, m, g);
this._drawVerticalTriangle(u, m, p);
} else {
f.x = h.x;
f.y = Math.round(u.y - (f.x - u.x) * l);
m.x = u.x;
m.y = Math.round(h.y + (h.x - m.x) * l);
this._drawVerticalTriangle(u, m, d);
this._drawParallelogram(m, h, u.y - m.y);
this._drawVerticalTriangle(f, h, p);
} else if (d.x < p.x) {
f.x = d.x;
f.y = d.y - g;
m.x = p.x;
m.y = p.y + g;
this._drawVerticalTriangle(d, f, h);
this._drawParallelogram(f, p, g);
this._drawVerticalTriangle(m, p, u);
} else {
f.x = d.x;
f.y = Math.round(p.y - (f.x - p.x) * l);
m.x = p.x;
m.y = Math.round(d.y + (d.x - m.x) * l);
this._drawVerticalTriangle(m, p, h);
this._drawParallelogram(p, f, d.y - f.y);
this._drawVerticalTriangle(d, f, u);
}
}
};
e.prototype.rect = function(e, t, o, i) {
this._drawRect(new n(e, t), o, i);
};
e.prototype._drawRect = function(e, t, o) {
for (var i = this.clampX(e.x), n = this.clampX(e.x + t), a = this.clampY(e.y), r = this.clampY(e.y + o), s = a; s <= r; ++s) this._drawRowPixel(i, n, s);
};
e.prototype._drawParallelogram = function(e, t, o) {
if (e.x != t.x) for (var i = (t.y - e.y) / (t.x - e.x), n = this._minX(e.x), a = this._maxX(t.x), r = n; r <= a; ++r) {
var s = e.y + Math.round((r - e.x) * i), c = s + o;
s = this._minY(s);
c = this._maxY(c);
this._drawColPixel(s, c, r);
}
};
e.prototype.triangle = function(e, t, o, i, a, r) {
var s = [];
s.push(new n(e, t));
s.push(new n(o, i));
s.push(new n(a, r));
this._drawTriangle(s);
};
e.prototype._drawTriangle = function(e) {
e.sort(function(e, t) {
return e.x - t.x;
});
var t = e[0], o = e[1], i = e[2];
if (t.x != o.x) {
var a = (i.y - t.y) / (i.x - t.x), r = new n(o.x, Math.round(t.y + (o.x - t.x) * a));
if (r.y != o.y) if (r.y < o.y) {
this._drawVerticalTriangle(o, r, t);
this._drawVerticalTriangle(o, r, i);
} else {
this._drawVerticalTriangle(r, o, t);
this._drawVerticalTriangle(r, o, i);
}
} else {
if (t.x == i.x) return;
if (t.y < o.y) {
t = e[1];
o = e[0];
}
this._drawVerticalTriangle(t, o, i);
}
};
e.prototype._drawVerticalTriangle = function(e, t, o) {
if (o.x != e.x) {
var i = (o.y - e.y) / (o.x - e.x), n = (o.y - t.y) / (o.x - t.x), a = o.x, r = e.x;
if (a < r) {
a = e.x;
r = o.x;
}
r = this._minX(r);
a = this._maxX(a);
for (var s = r; s <= a; ++s) {
var c = this.clampY(Math.round(e.y + (s - e.x) * i)), l = this.clampY(Math.round(t.y + (s - t.x) * n));
this._drawColPixel(l, c, s);
}
}
};
e.prototype.circle = function(e, t, o) {
e = Math.round(e);
t = Math.round(t);
this._drawCircle(e, t, o);
};
e.prototype._drawCircle = function(e, t, o) {
if (0 != (o = Math.round(o))) for (var i = o * o, n = this.clampY(t - o), a = this.clampY(t + o), r = n; r <= a; ++r) {
var s = r - t;
s = Math.round(Math.sqrt(i - s * s));
var c = this.clampX(e - s), l = this.clampX(e + s);
this._drawRowPixel(c, l, r);
}
};
e.prototype._minX = function(e) {
return e >= 0 ? e : 0;
};
e.prototype._maxX = function(e) {
return e < this.width ? e : this.width - 1;
};
e.prototype._minY = function(e) {
return e >= 0 ? e : 0;
};
e.prototype._maxY = function(e) {
return e < this.height ? e : this.height - 1;
};
e.prototype.clampX = function(e) {
return e < 0 ? 0 : e >= this.width ? this.width - 1 : e;
};
e.prototype.clampY = function(e) {
return e < 0 ? 0 : e >= this.height ? this.height - 1 : e;
};
e.prototype._drawPixel = function(e, t) {
if (this.pointColor[e][t] != this.tempColor) {
var o = 4 * (t * this.width + e);
this.pixelColor[o] = this.tempR;
this.pixelColor[o + 1] = this.tempG;
this.pixelColor[o + 2] = this.tempB;
this.pixelColor[o + 3] = this.tempA;
var i = this.pointColor[e][t];
this.colorCount[i]--;
this.colorCount[this.tempColor]++;
this.pointColor[e][t] = this.tempColor;
}
};
e.prototype._drawRowPixel = function(e, t, o) {
for (var i = 4 * (o * this.width + e), n = e; n <= t; ++n) {
if (this.pointColor[n][o] != this.tempColor) {
this.pixelColor[i] = this.tempR;
this.pixelColor[i + 1] = this.tempG;
this.pixelColor[i + 2] = this.tempB;
this.pixelColor[i + 3] = this.tempA;
var a = this.pointColor[n][o];
this.colorCount[a]--;
this.colorCount[this.tempColor]++;
this.pointColor[n][o] = this.tempColor;
}
i += 4;
}
};
e.prototype._drawColPixel = function(e, t, o) {
for (var i = 4 * (e * this.width + o), n = e; n <= t; ++n) {
if (this.pointColor[o][n] != this.tempColor) {
this.pixelColor[i] = this.tempR;
this.pixelColor[i + 1] = this.tempG;
this.pixelColor[i + 2] = this.tempB;
this.pixelColor[i + 3] = this.tempA;
var a = this.pointColor[o][n];
this.colorCount[a]--;
this.colorCount[this.tempColor]++;
this.pointColor[o][n] = this.tempColor;
}
i += 4 * this.width;
}
};
e.prototype.convertToNumber = function(e, t, o, i) {
void 0 === i && (i = 255);
return (254 & e) << 23 | t << 16 | o << 8 | i;
};
e.prototype.convertToRGBA = function(e) {
return {
r: (4009754624 & e) >> 23,
g: (16711680 & e) >> 16,
b: (65280 & e) >> 8,
a: 255 & e
};
};
return e;
}();
o.default = i;
var n = function() {
function e(e, t) {
void 0 === e && (e = 0);
void 0 === t && (t = 0);
this.x = e;
this.y = t;
}
e.prototype.set = function(e, t) {
if ("number" == typeof e) {
this.x = e;
this.y = t;
} else {
this.x = e.x;
this.y = e.y;
}
};
return e;
}();
cc._RF.pop();
}, {} ],
DyzItem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ef1c7ni9kZNcoO6XVr+9SSk", "DyzItem");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._gzArr = [];
t._rgzArr = [];
t._lgzArr = [];
return t;
}
t.prototype.onLoad = function() {
this._gzArr = [];
for (var e = 1; e <= 6; e++) {
var t = this.node.getChildByName("dyzgz" + e), o = {};
o.dyzBlue = t.getChildByName("dyzBlue");
o.dyzRed = t.getChildByName("dyzRed");
this._gzArr[e - 1] = o;
}
this._rgzArr = [];
this._lgzArr = [];
for (e = 1; e <= 3; e++) {
this._rgzArr[e - 1] = this.node.getChildByName("rgzbj" + e);
this._lgzArr[e - 1] = this.node.getChildByName("lgzbj" + e);
}
};
t.prototype.reset = function() {
for (var e = 0; e < this._gzArr.length; e++) {
var t = this._gzArr[e];
for (var o in t) t[o].opacity = 0;
}
this.resetBgGz(this._rgzArr, 0);
this.resetBgGz(this._lgzArr, 0);
};
t.prototype.resetBgGz = function(e, t) {
for (var o = 0; o < e.length; o++) e[o].opacity = t;
};
t.prototype.setData = function(e, t) {
this.reset();
e % 2 == 0 ? this.resetBgGz(this._lgzArr, 255) : this.resetBgGz(this._rgzArr, 255);
for (var o = 0; o < t.length; o++) {
var i = t[o], n = this._gzArr[o];
1 == i ? n.dyzRed.opacity = 255 : 2 == i && (n.dyzBlue.opacity = 255);
}
};
return a([ s ], t);
}(cc.Component));
o.default = c;
cc._RF.pop();
}, {} ],
EXAdapterMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9e908gft2BBkr2QysJt75my", "EXAdapterMgr");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.AdaptaterType = void 0;
var n, a = cc._decorator, r = a.ccclass, s = (a.property, function() {
function e() {}
t = e;
Object.defineProperty(e, "inst", {
get: function() {
if (null == this._instance) {
this._instance = new t();
this._instance.visibleSize = cc.view.getVisibleSize();
console.log("visiable size: " + this._instance.visibleSize);
}
return this._instance;
},
enumerable: !1,
configurable: !0
});
e.prototype.adapatByType = function(e, t, o) {
var i = t.getComponent(cc.Widget);
i || (i = t.addComponent(cc.Widget));
switch (e) {
case n.Top:
if (cc.sys.platform === cc.sys.WECHAT_GAME) {
var a = window.wx.getMenuButtonBoundingClientRect(), r = window.wx.getSystemInfoSync();
o = cc.find("Canvas").height * (a.top / r.screenHeight);
}
i.top = o || 0;
i.isAbsoluteTop = !0;
i.isAlignTop = !0;
break;

case n.Bottom:
i.bottom = o || 0;
i.isAbsoluteBottom = !0;
i.isAlignBottom = !0;
break;

case n.Left:
i.left = o || 0;
i.isAbsoluteLeft = !0;
i.isAlignLeft = !0;
break;

case n.Right:
i.right = o || 0;
i.isAbsoluteRight = !0;
i.isAlignRight = !0;
break;

case n.FullScreen:
i.right = 0;
i.left = 0;
i.top = 0;
i.bottom = 0;
i.isAlignLeft = !0;
i.isAlignRight = !0;
i.isAlignBottom = !0;
i.isAlignTop = !0;
}
i.target = cc.find("Canvas");
i.updateAlignment();
};
e.prototype.removeAdaptater = function(e) {
e.getComponent(cc.Widget) && e.removeComponent(cc.Widget);
};
var t;
e._instance = null;
return t = i([ r ], e);
}());
o.default = s;
(function(e) {
e[e.Center = 0] = "Center";
e[e.Top = 1] = "Top";
e[e.Bottom = 2] = "Bottom";
e[e.Left = 3] = "Left";
e[e.Right = 4] = "Right";
e[e.FullScreen = 5] = "FullScreen";
})(n = o.AdaptaterType || (o.AdaptaterType = {}));
cc._RF.pop();
}, {} ],
EXCocosHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "964b4/W0JdBaZcc9PfijQtK", "EXCocosHelper");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.EXLoadProgress = void 0;
var a = e("./config/EXSysDefine"), r = function() {};
o.EXLoadProgress = r;
var s = function() {
function e() {}
e.runRepeatTweenSync = function(e, t) {
for (var o = [], a = 2; a < arguments.length; a++) o[a - 2] = arguments[a];
return i(this, void 0, void 0, function() {
return n(this, function() {
return [ 2, new Promise(function() {
for (var i = cc.tween(e), n = 0, a = o; n < a.length; n++) {
var r = a[n];
i = i.then(r);
}
t < 0 ? cc.tween(e).repeatForever(i).start() : cc.tween(e).repeat(t, i).start();
}) ];
});
});
};
e.runTweenSync = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return i(this, void 0, Promise, function() {
return n(this, function() {
return [ 2, new Promise(function(o) {
for (var i = cc.tween(e), n = 0, a = t; n < a.length; n++) {
var r = a[n];
i = i.then(r);
}
i.call(function() {
o();
}).start();
}) ];
});
});
};
e.prototype.stopTween = function(e) {
cc.Tween.stopAllByTarget(e);
};
e.prototype.stopTweenByTag = function(e) {
cc.Tween.stopAllByTag(e);
};
e.runActionSync = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return i(this, void 0, void 0, function() {
return n(this, function() {
return !t || t.length <= 0 ? [ 2 ] : [ 2, new Promise(function(o) {
t.push(cc.callFunc(function() {
o(!0);
}));
e.runAction(cc.sequence(t));
}) ];
});
});
};
e.runAnimSync = function(t, o) {
return i(this, void 0, void 0, function() {
var i, a, r, s;
return n(this, function(n) {
switch (n.label) {
case 0:
if (!(i = t.getComponent(cc.Animation))) return [ 2 ];
a = null;
if (o) {
r = i.getClips();
if ("number" == typeof o) a = r[o]; else if ("string" == typeof o) for (s = 0; s < r.length; s++) if (r[s].name === o) {
a = r[s];
break;
}
} else a = i.defaultClip;
return a ? [ 4, e.sleepSync(a.duration) ] : [ 2 ];

case 1:
n.sent();
return [ 2 ];
}
});
});
};
e.loadResThrowErrorSync = function() {
return null;
};
e.loadRes = function(e, t, o) {
return i(this, void 0, void 0, function() {
var i = this;
return n(this, function() {
if (this._loadingMap[e]) {
this._loadingMap[e].push(o);
return [ 2 ];
}
this._loadingMap[e] = [ o ];
this.loadResSync(e, t).then(function(t) {
for (var o = 0, n = i._loadingMap[e]; o < n.length; o++) (0, n[o])(t);
i._loadingMap[e] = null;
delete i._loadingMap[e];
});
return [ 2 ];
});
});
};
e.loadResSync = function(t, o, i) {
var n = this;
if (t && o) {
e.loadProgress.url = t;
i && (this.loadProgress.cb = i);
return new Promise(function(i) {
cc.loader.loadRes(t, o, n._progressCallback, function(o, n) {
if (o) {
cc.error(t + " []  " + o);
i(null);
} else i(n);
e.loadProgress.url = "";
e.loadProgress.completedCount = 0;
e.loadProgress.totalCount = 0;
e.loadProgress.item = null;
e.loadProgress.cb = null;
});
});
}
cc.error("", t, o);
};
e._progressCallback = function(t, o, i) {
e.loadProgress.completedCount = t;
e.loadProgress.totalCount = o;
e.loadProgress.item = i;
e.loadProgress.cb && e.loadProgress.cb(t, o, i);
};
e.findChildInNode = function(e, t) {
if (t.name == e) return t;
for (var o = 0; o < t.childrenCount; o++) {
var i = this.findChildInNode(e, t.children[o]);
if (i) return i;
}
return null;
};
e.checkNodePrefix = function(e) {
return e[0] === a.EXSysDefine.SYS_STANDARD_Prefix;
};
e.checkBindChildren = function(e) {
return e[e.length - 1] !== a.EXSysDefine.SYS_STANDARD_End;
};
e.getPrefixNames = function(e) {
if (null !== e) return e.split(a.EXSysDefine.SYS_STANDARD_Separator);
};
e.getComponentName = function(e) {
var t = e.name.match(/<.*>$/);
return t && t.length > 0 ? t[0].slice(1, -1) : e.name;
};
e.loadBundleSync = function(e, t) {
return new Promise(function(o) {
cc.assetManager.loadBundle(e, t, function(t, i) {
if (t) o(i); else {
cc.error("bundle, url: " + e + ", err:" + t);
o(null);
}
});
});
};
e.loadAssetFromBundleSync = function(e, t) {
var o = cc.assetManager.getBundle(e);
if (!o) {
cc.error("bundle, bundle, bundleUrl:" + e);
return null;
}
return new Promise(function(e) {
o.load(t, function(o, i) {
if (o) {
cc.error("bundle, asset, url:" + t + ", err:" + o);
e(null);
} else e(i);
});
});
};
e.loadAssetSync = function(e) {
var t = this;
return new Promise(function(o) {
cc.resources.load(e, function(i, n) {
if (i) {
t.addRef(n);
o(n);
} else {
cc.error("asset, url:" + e + ", err: " + i);
o(null);
}
});
});
};
e.releaseAsset = function(e) {
this.decRes(e);
};
e.addRef = function(e) {
if (e instanceof Array) for (var t = 0, o = e; t < o.length; t++) o[t].addRef(); else e.addRef();
};
e.decRes = function(e) {
if (e instanceof Array) for (var t = 0, o = e; t < o.length; t++) o[t].decRef(); else e.decRef();
};
e.testForCallback = function(e) {
setTimeout(function() {
e(1);
}, 1e3);
return 1;
};
e.captureScreen = function(e, t) {
var o = new cc.RenderTexture(), i = e.targetTexture, n = cc.rect(0, 0, cc.visibleRect.width, cc.visibleRect.height);
t && (n = t instanceof cc.Node ? t.getBoundingBoxToWorld() : t);
o.initWithSize(cc.visibleRect.width, cc.visibleRect.height, cc.RenderTexture.DepthStencilFormat.RB_FMT_S8);
e.targetTexture = o;
e.render();
e.targetTexture = i;
var a = new ArrayBuffer(n.width * n.height * 4), r = new Uint8Array(a);
o.readPixels(r, n.x, n.y, n.width, n.height);
return r;
};
e.loadProgress = new r();
e.sleepSync = function(e) {
return new Promise(function(t) {
setTimeout(function() {
t(!0);
}, 1e3 * e);
});
};
e._loadingMap = {};
return e;
}();
o.default = s;
cc._RF.pop();
}, {
"./config/EXSysDefine": "EXSysDefine"
} ],
EXColorAssembler2D: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c2172KPqXVNA6cwG2qnSTDd", "EXColorAssembler2D");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = r.property, l = r.executeInEditMode, d = r.requireComponent, h = r.disallowMultiple, u = r.menu, p = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._colors = [];
return t;
}
Object.defineProperty(t.prototype, "colors", {
get: function() {
return this._colors;
},
set: function(e) {
this._colors = e;
cc.director.once(cc.Director.EVENT_AFTER_DRAW, this._updateColors, this);
},
enumerable: !1,
configurable: !0
});
t.prototype.onEnable = function() {
cc.director.once(cc.Director.EVENT_AFTER_DRAW, this._updateColors, this);
};
t.prototype.onDisable = function() {
cc.director.off(cc.Director.EVENT_AFTER_DRAW, this._updateColors, this);
this.node._renderFlag |= cc.RenderFlow.FLAG_COLOR;
};
t.prototype._updateColors = function() {
var e = this.getComponent(cc.RenderComponent);
if (e) {
var t = e._assembler;
if (t instanceof cc.Assembler2D) {
var o = t._renderData.uintVDatas[0];
if (o) for (var i = this.node.color, n = t.floatsPerVert, a = 0, r = t.colorOffset, s = o.length; r < s; r += n) o[r] = (this.colors[a++] || i)._val;
}
}
};
a([ c ], t.prototype, "_colors", void 0);
a([ c({
type: [ cc.Color ]
}) ], t.prototype, "colors", null);
return a([ s, h(), u("/ColorAssembler2D"), l, d(cc.RenderComponent) ], t);
}(cc.Component);
o.default = p;
cc._RF.pop();
}, {} ],
EXEventCenter: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "77ae0CaOvxEwaS+yJS0TDNu", "EXEventCenter");
var i = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var i = Array(e), n = 0;
for (t = 0; t < o; t++) for (var a = arguments[t], r = 0, s = a.length; r < s; r++, 
n++) i[n] = a[r];
return i;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.EventCenter = o.EventInfo = void 0;
var n = e("../../../code/public/common/GamePool"), a = function() {
function e() {}
e.prototype.free = function() {
this.callback = null;
this.target = null;
this.once = !1;
};
e.prototype.init = function(e, t, o) {
this.callback = e;
this.target = t;
this.once = o;
};
return e;
}();
o.EventInfo = a;
var r = function(e, t, o) {
this.eventName = e;
this.callback = t;
this.targetId = o;
}, s = 1, c = function() {
function e() {}
e.on = function(e, t, o, i) {
void 0 === o && (o = void 0);
void 0 === i && (i = !1);
var n = (o = o || this).uuid || o.id;
void 0 === n && (o.uuid = n = "" + s++);
this.onById(e, n, o, t, i);
};
e.once = function(e, t, o) {
void 0 === o && (o = void 0);
this.on(e, t, o, !0);
};
e.onById = function(e, t, o, i, n) {
var a = this._listeners[e];
a || (a = this._listeners[e] = {});
var r = a[t];
r || (r = a[t] = []);
var s = this._eventPool.alloc();
s.init(i, o, n);
r.push(s);
};
e.off = function(e, t, o) {
void 0 === o && (o = void 0);
var i = (o = o || this).uuid || o.id;
i && this.offById(e, t, i);
};
e.targetOff = function(e) {
var t = (e = e || this).uuid || e.id;
if (t) for (var o in this._listeners) {
var i = this._listeners[o];
void 0 !== i[t] && delete i[t];
}
};
e.offById = function(e, t, o) {
if (this._dispatching > 0) {
var i = new r(e, t, o);
this._removeCommands.push(i);
} else this.doOff(e, t, o);
};
e.doOff = function(e, t, o) {
var i = this._listeners[e];
if (i) {
var n = i[o];
if (n) {
for (var a = n.length - 1; a >= 0; a--) n[a].callback === t && n.splice(a, 1);
if (0 === n.length) {
i[o] = null;
delete i[o];
}
}
}
};
e.doRemoveCommands = function() {
if (0 === this._dispatching) {
for (var e = 0, t = this._removeCommands; e < t.length; e++) {
var o = t[e];
this.doOff(o.eventName, o.callback, o.targetId);
}
this._removeCommands.length = 0;
}
};
e.emit = function(e) {
for (var t, o = [], n = 1; n < arguments.length; n++) o[n - 1] = arguments[n];
var a = this._listeners[e];
if (!a) return !1;
this._dispatching++;
for (var s in a) for (var c = 0, l = a[s]; c < l.length; c++) {
var d = l[c];
(t = d.callback).call.apply(t, i([ d.target ], o));
if (d.once) {
var h = new r(e, d.callback, s);
this._removeCommands.push(h);
}
}
this._dispatching--;
this.doRemoveCommands();
};
e._listeners = cc.js.createMap();
e._dispatching = 0;
e._removeCommands = [];
e._eventPool = new n.GamePool(function() {
return new a();
}, 10);
return e;
}();
o.EventCenter = c;
cc._RF.pop();
}, {
"../../../code/public/common/GamePool": "GamePool"
} ],
EXEventType: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9f4b0HjPldNQJaRN+zS7WFH", "EXEventType");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.EventType = void 0;
(function(e) {
e.GameShow = "GameShow";
e.GameHide = "GameHide";
})(o.EventType || (o.EventType = {}));
cc._RF.pop();
}, {} ],
EXFrameType: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "15923FeXjZENpEOABdp+5dn", "EXFrameType");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.EXMaskType = void 0;
var i = e("./config/EXSysDefine");
o.EXMaskType = function(e, t, o, n) {
void 0 === e && (e = i.ModalOpacity.OpacityFull);
void 0 === t && (t = !1);
void 0 === o && (o = !0);
void 0 === n && (n = .2);
this.opacity = i.ModalOpacity.OpacityFull;
this.clickMaskClose = !1;
this.isEasing = !0;
this.easingTime = .2;
this.opacity = e;
this.clickMaskClose = t;
this.isEasing = o;
this.easingTime = n;
};
cc._RF.pop();
}, {
"./config/EXSysDefine": "EXSysDefine"
} ],
EXListItem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "42a0bn6zZRCT6BsQxbAngEV", "EXListItem");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r, s = cc._decorator, c = s.ccclass, l = s.property, d = s.disallowMultiple, h = s.menu, u = s.executionOrder;
(function(e) {
e[e.NONE = 0] = "NONE";
e[e.TOGGLE = 1] = "TOGGLE";
e[e.SWITCH = 2] = "SWITCH";
})(r || (r = {}));
var p = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.icon = null;
t.title = null;
t.selectedMode = r.NONE;
t.selectedFlag = null;
t.selectedSpriteFrame = null;
t._unselectedSpriteFrame = null;
t.adaptiveSize = !1;
t._selected = !1;
t._eventReg = !1;
return t;
}
Object.defineProperty(t.prototype, "selected", {
get: function() {
return this._selected;
},
set: function(e) {
this._selected = e;
if (this.selectedFlag) switch (this.selectedMode) {
case r.TOGGLE:
this.selectedFlag.active = e;
break;

case r.SWITCH:
var t = this.selectedFlag.getComponent(cc.Sprite);
t && (t.spriteFrame = e ? this.selectedSpriteFrame : this._unselectedSpriteFrame);
}
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "btnCom", {
get: function() {
this._btnCom || (this._btnCom = this.node.getComponent(cc.Button));
return this._btnCom;
},
enumerable: !1,
configurable: !0
});
t.prototype.onLoad = function() {
if (this.selectedMode == r.SWITCH) {
var e = this.selectedFlag.getComponent(cc.Sprite);
this._unselectedSpriteFrame = e.spriteFrame;
}
};
t.prototype.onDestroy = function() {
this.node.off(cc.Node.EventType.SIZE_CHANGED, this._onSizeChange, this);
};
t.prototype._registerEvent = function() {
if (!this._eventReg) {
this.btnCom && this.list.selectedMode > 0 && this.btnCom.clickEvents.unshift(this.createEvt(this, "onClickThis"));
this.adaptiveSize && this.node.on(cc.Node.EventType.SIZE_CHANGED, this._onSizeChange, this);
this._eventReg = !0;
}
};
t.prototype._onSizeChange = function() {
this.list._onItemAdaptive(this.node);
};
t.prototype.createEvt = function(e, t, o) {
void 0 === o && (o = null);
if (e.isValid) {
e.comName = e.comName || e.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g, "");
var i = new cc.Component.EventHandler();
i.target = o || e.node;
i.component = e.comName;
i.handler = t;
return i;
}
};
t.prototype.showAni = function(e, t, o) {
var i, n = this;
switch (e) {
case 0:
i = [ cc.scaleTo(.2, .7), cc.moveBy(.3, 0, 2 * this.node.height) ];
break;

case 1:
i = [ cc.scaleTo(.2, .7), cc.moveBy(.3, 2 * this.node.width, 0) ];
break;

case 2:
i = [ cc.scaleTo(.2, .7), cc.moveBy(.3, 0, -2 * this.node.height) ];
break;

case 3:
i = [ cc.scaleTo(.2, .7), cc.moveBy(.3, -2 * this.node.width, 0) ];
break;

default:
i = [ cc.scaleTo(.3, .1) ];
}
(t || o) && i.push(cc.callFunc(function() {
if (o) {
n.list._delSingleItem(n.node);
for (var e = n.list.displayData.length - 1; e >= 0; e--) if (n.list.displayData[e].id == n.listId) {
n.list.displayData.splice(e, 1);
break;
}
}
t();
}));
this.node.runAction(cc.sequence(i));
};
t.prototype.onClickThis = function() {
this.list.selectedId = this.listId;
};
a([ l({
type: cc.Sprite,
tooltip: !1
}) ], t.prototype, "icon", void 0);
a([ l({
type: cc.Node,
tooltip: !1
}) ], t.prototype, "title", void 0);
a([ l({
type: cc.Enum(r),
tooltip: !1
}) ], t.prototype, "selectedMode", void 0);
a([ l({
type: cc.Node,
tooltip: !1,
visible: function() {
return this.selectedMode > r.NONE;
}
}) ], t.prototype, "selectedFlag", void 0);
a([ l({
type: cc.SpriteFrame,
tooltip: !1,
visible: function() {
return this.selectedMode == r.SWITCH;
}
}) ], t.prototype, "selectedSpriteFrame", void 0);
a([ l({
tooltip: !1
}) ], t.prototype, "adaptiveSize", void 0);
return a([ c, d(), h("/List Item"), u(-5001) ], t);
}(cc.Component);
o.default = p;
cc._RF.pop();
}, {} ],
EXList: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2f388fDrXZM0pJyxr3j3Niv", "EXList");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r, s, c, l = cc._decorator, d = l.ccclass, h = l.property, u = l.disallowMultiple, p = l.menu, f = l.executionOrder, m = l.requireComponent, g = e("./EXListItem");
(function(e) {
e[e.NODE = 1] = "NODE";
e[e.PREFAB = 2] = "PREFAB";
})(r || (r = {}));
(function(e) {
e[e.NORMAL = 1] = "NORMAL";
e[e.ADHERING = 2] = "ADHERING";
e[e.PAGE = 3] = "PAGE";
})(s || (s = {}));
(function(e) {
e[e.NONE = 0] = "NONE";
e[e.SINGLE = 1] = "SINGLE";
e[e.MULT = 2] = "MULT";
})(c || (c = {}));
var y = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.templateType = r.NODE;
t.tmpNode = null;
t.tmpPrefab = null;
t._slideMode = s.NORMAL;
t.pageDistance = .3;
t.pageChangeEvent = new cc.Component.EventHandler();
t._virtual = !0;
t.cyclic = !1;
t.lackCenter = !1;
t.lackSlide = !1;
t._updateRate = 0;
t.frameByFrameRenderNum = 0;
t.renderEvent = new cc.Component.EventHandler();
t.selectedMode = c.NONE;
t.repeatEventSingle = !1;
t.selectedEvent = null;
t._selectedId = -1;
t._forceUpdate = !1;
t._updateDone = !0;
t._updateEnabled = !0;
t._numItems = 0;
t._inited = !1;
t._needUpdateWidget = !1;
t._aniDelRuning = !1;
t._doneAfterUpdate = !1;
t.adhering = !1;
t._adheringBarrier = !1;
t.curPageNum = 0;
return t;
}
Object.defineProperty(t.prototype, "slideMode", {
get: function() {
return this._slideMode;
},
set: function(e) {
this._slideMode = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "virtual", {
get: function() {
return this._virtual;
},
set: function(e) {
null != e && (this._virtual = e);
0 != this._numItems && this._onScrolling();
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "updateRate", {
get: function() {
return this._updateRate;
},
set: function(e) {
e >= 0 && e <= 6 && (this._updateRate = e);
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "selectedId", {
get: function() {
return this._selectedId;
},
set: function(e) {
var t, o = this;
switch (o.selectedMode) {
case c.SINGLE:
if (!o.repeatEventSingle && e == o._selectedId) return;
t = o.getItemByListId(e);
var i = void 0;
o._selectedId >= 0 ? o._lastSelectedId = o._selectedId : o._lastSelectedId = null;
o._selectedId = e;
t && ((i = t.getComponent(g.default)).selected = !0);
if (o._lastSelectedId >= 0 && o._lastSelectedId != o._selectedId) {
var n = o.getItemByListId(o._lastSelectedId);
n && (n.getComponent(g.default).selected = !1);
}
o.selectedEvent && cc.Component.EventHandler.emitEvents([ o.selectedEvent ], t, e % this._actualNumItems, null == o._lastSelectedId ? null : o._lastSelectedId % this._actualNumItems);
break;

case c.MULT:
if (!(t = o.getItemByListId(e))) return;
i = t.getComponent(g.default);
o._selectedId >= 0 && (o._lastSelectedId = o._selectedId);
o._selectedId = e;
var a = !i.selected;
i.selected = a;
var r = o.multSelected.indexOf(e);
a && r < 0 ? o.multSelected.push(e) : !a && r >= 0 && o.multSelected.splice(r, 1);
o.selectedEvent && cc.Component.EventHandler.emitEvents([ o.selectedEvent ], t, e % this._actualNumItems, null == o._lastSelectedId ? null : o._lastSelectedId % this._actualNumItems, a);
}
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "numItems", {
get: function() {
return this._actualNumItems;
},
set: function(e) {
var t = this;
if (t.checkInited(!1)) if (null == e || e < 0) cc.error("numItems set the wrong::", e); else {
t._actualNumItems = t._numItems = e;
t._forceUpdate = !0;
if (t._virtual) {
t._resizeContent();
t.cyclic && (t._numItems = t._cyclicNum * t._numItems);
t._onScrolling();
t.frameByFrameRenderNum || t.slideMode != s.PAGE || (t.curPageNum = t.nearestListId);
} else {
var o = t.content.getComponent(cc.Layout);
o && (o.enabled = !0);
t._delRedundantItem();
t.firstListId = 0;
if (t.frameByFrameRenderNum > 0) {
for (var i = t.frameByFrameRenderNum > t._numItems ? t._numItems : t.frameByFrameRenderNum, n = 0; n < i; n++) t._createOrUpdateItem2(n);
if (t.frameByFrameRenderNum < t._numItems) {
t._updateCounter = t.frameByFrameRenderNum;
t._updateDone = !1;
}
} else {
for (n = 0; n < e; n++) t._createOrUpdateItem2(n);
t.displayItemNum = e;
}
}
}
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "scrollView", {
get: function() {
return this._scrollView;
},
enumerable: !1,
configurable: !0
});
t.prototype.onLoad = function() {
this._init();
};
t.prototype.onDestroy = function() {
var e = this;
e._itemTmp && e._itemTmp.isValid && e._itemTmp.destroy();
e.tmpNode && e.tmpNode.isValid && e.tmpNode.destroy();
for (;e._pool.size(); ) e._pool.get().destroy();
};
t.prototype.onEnable = function() {
this._registerEvent();
this._init();
};
t.prototype.onDisable = function() {
this._unregisterEvent();
};
t.prototype._registerEvent = function() {
var e = this;
e.node.on(cc.Node.EventType.TOUCH_START, e._onTouchStart, e, !0);
e.node.on("touch-up", e._onTouchUp, e);
e.node.on(cc.Node.EventType.TOUCH_CANCEL, e._onTouchCancelled, e, !0);
e.node.on("scroll-began", e._onScrollBegan, e, !0);
e.node.on("scroll-ended", e._onScrollEnded, e, !0);
e.node.on("scrolling", e._onScrolling, e, !0);
e.node.on(cc.Node.EventType.SIZE_CHANGED, e._onSizeChanged, e);
};
t.prototype._unregisterEvent = function() {
var e = this;
e.node.off(cc.Node.EventType.TOUCH_START, e._onTouchStart, e, !0);
e.node.off("touch-up", e._onTouchUp, e);
e.node.off(cc.Node.EventType.TOUCH_CANCEL, e._onTouchCancelled, e, !0);
e.node.off("scroll-began", e._onScrollBegan, e, !0);
e.node.off("scroll-ended", e._onScrollEnded, e, !0);
e.node.off("scrolling", e._onScrolling, e, !0);
e.node.off(cc.Node.EventType.SIZE_CHANGED, e._onSizeChanged, e);
};
t.prototype._init = function() {
var e = this;
if (!e._inited) {
e._scrollView = e.node.getComponent(cc.ScrollView);
e.content = e._scrollView.content;
if (e.content) {
e._layout = e.content.getComponent(cc.Layout);
e._align = e._layout.type;
e._resizeMode = e._layout.resizeMode;
e._startAxis = e._layout.startAxis;
e._topGap = e._layout.paddingTop;
e._rightGap = e._layout.paddingRight;
e._bottomGap = e._layout.paddingBottom;
e._leftGap = e._layout.paddingLeft;
e._columnGap = e._layout.spacingX;
e._lineGap = e._layout.spacingY;
e._colLineNum;
e._verticalDir = e._layout.verticalDirection;
e._horizontalDir = e._layout.horizontalDirection;
e.setTemplateItem(cc.instantiate(e.templateType == r.PREFAB ? e.tmpPrefab : e.tmpNode));
if (e._slideMode == s.ADHERING || e._slideMode == s.PAGE) {
e._scrollView.inertia = !1;
e._scrollView._onMouseWheel = function() {};
}
e.virtual || (e.lackCenter = !1);
e._lastDisplayData = [];
e.displayData = [];
e._pool = new cc.NodePool();
e._forceUpdate = !1;
e._updateCounter = 0;
e._updateDone = !0;
e.curPageNum = 0;
if (e.cyclic) {
e._scrollView._processAutoScrolling = this._processAutoScrolling.bind(e);
e._scrollView._startBounceBackIfNeeded = function() {
return !1;
};
}
switch (e._align) {
case cc.Layout.Type.HORIZONTAL:
switch (e._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
e._alignCalcType = 1;
break;

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
e._alignCalcType = 2;
}
break;

case cc.Layout.Type.VERTICAL:
switch (e._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
e._alignCalcType = 3;
break;

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
e._alignCalcType = 4;
}
break;

case cc.Layout.Type.GRID:
switch (e._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
switch (e._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
e._alignCalcType = 3;
break;

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
e._alignCalcType = 4;
}
break;

case cc.Layout.AxisDirection.VERTICAL:
switch (e._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
e._alignCalcType = 1;
break;

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
e._alignCalcType = 2;
}
}
}
e.content.removeAllChildren();
e._inited = !0;
} else cc.error(e.node.name + "'s cc.ScrollView unset content!");
}
};
t.prototype._processAutoScrolling = function(e) {
this._scrollView._autoScrollAccumulatedTime += 1 * e;
var t = Math.min(1, this._scrollView._autoScrollAccumulatedTime / this._scrollView._autoScrollTotalTime);
if (this._scrollView._autoScrollAttenuate) {
var o = t - 1;
t = o * o * o * o * o + 1;
}
var i = this._scrollView._autoScrollStartPosition.add(this._scrollView._autoScrollTargetDelta.mul(t)), n = this._scrollView.getScrollEndedEventTiming(), a = Math.abs(t - 1) <= n;
if (Math.abs(t - 1) <= this._scrollView.getScrollEndedEventTiming() && !this._scrollView._isScrollEndedWithThresholdEventFired) {
this._scrollView._dispatchEvent("scroll-ended-with-threshold");
this._scrollView._isScrollEndedWithThresholdEventFired = !0;
}
a && (this._scrollView._autoScrolling = !1);
var r = i.sub(this._scrollView.getContentPosition());
this._scrollView._moveContent(this._scrollView._clampDelta(r), a);
this._scrollView._dispatchEvent("scrolling");
if (!this._scrollView._autoScrolling) {
this._scrollView._isBouncing = !1;
this._scrollView._scrolling = !1;
this._scrollView._dispatchEvent("scroll-ended");
}
};
t.prototype.setTemplateItem = function(e) {
if (e) {
var t = this;
t._itemTmp = e;
t._resizeMode == cc.Layout.ResizeMode.CHILDREN ? t._itemSize = t._layout.cellSize : t._itemSize = cc.size(e.width, e.height);
var o = e.getComponent(g.default), i = !1;
o || (i = !0);
i && (t.selectedMode = c.NONE);
(o = e.getComponent(cc.Widget)) && o.enabled && (t._needUpdateWidget = !0);
t.selectedMode == c.MULT && (t.multSelected = []);
switch (t._align) {
case cc.Layout.Type.HORIZONTAL:
t._colLineNum = 1;
t._sizeType = !1;
break;

case cc.Layout.Type.VERTICAL:
t._colLineNum = 1;
t._sizeType = !0;
break;

case cc.Layout.Type.GRID:
switch (t._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
var n = t.content.width - t._leftGap - t._rightGap;
t._colLineNum = Math.floor((n + t._columnGap) / (t._itemSize.width + t._columnGap));
t._sizeType = !0;
break;

case cc.Layout.AxisDirection.VERTICAL:
var a = t.content.height - t._topGap - t._bottomGap;
t._colLineNum = Math.floor((a + t._lineGap) / (t._itemSize.height + t._lineGap));
t._sizeType = !1;
}
}
}
};
t.prototype.checkInited = function(e) {
void 0 === e && (e = !0);
if (!this._inited) {
e && cc.error("List initialization not completed!");
return !1;
}
return !0;
};
t.prototype._resizeContent = function() {
var e, t = this;
switch (t._align) {
case cc.Layout.Type.HORIZONTAL:
if (t._customSize) {
var o = t._getFixedSize(null);
e = t._leftGap + o.val + t._itemSize.width * (t._numItems - o.count) + t._columnGap * (t._numItems - 1) + t._rightGap;
} else e = t._leftGap + t._itemSize.width * t._numItems + t._columnGap * (t._numItems - 1) + t._rightGap;
break;

case cc.Layout.Type.VERTICAL:
if (t._customSize) {
o = t._getFixedSize(null);
e = t._topGap + o.val + t._itemSize.height * (t._numItems - o.count) + t._lineGap * (t._numItems - 1) + t._bottomGap;
} else e = t._topGap + t._itemSize.height * t._numItems + t._lineGap * (t._numItems - 1) + t._bottomGap;
break;

case cc.Layout.Type.GRID:
t.lackCenter && (t.lackCenter = !1);
switch (t._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
var i = Math.ceil(t._numItems / t._colLineNum);
e = t._topGap + t._itemSize.height * i + t._lineGap * (i - 1) + t._bottomGap;
break;

case cc.Layout.AxisDirection.VERTICAL:
var n = Math.ceil(t._numItems / t._colLineNum);
e = t._leftGap + t._itemSize.width * n + t._columnGap * (n - 1) + t._rightGap;
}
}
var a = t.content.getComponent(cc.Layout);
a && (a.enabled = !1);
t._allItemSize = e;
t._allItemSizeNoEdge = t._allItemSize - (t._sizeType ? t._topGap + t._bottomGap : t._leftGap + t._rightGap);
if (t.cyclic) {
var r = t._sizeType ? t.node.height : t.node.width;
t._cyclicPos1 = 0;
r -= t._cyclicPos1;
t._cyclicNum = Math.ceil(r / t._allItemSizeNoEdge) + 1;
var s = t._sizeType ? t._lineGap : t._columnGap;
t._cyclicPos2 = t._cyclicPos1 + t._allItemSizeNoEdge + s;
t._cyclicAllItemSize = t._allItemSize + t._allItemSizeNoEdge * (t._cyclicNum - 1) + s * (t._cyclicNum - 1);
t._cycilcAllItemSizeNoEdge = t._allItemSizeNoEdge * t._cyclicNum;
t._cycilcAllItemSizeNoEdge += s * (t._cyclicNum - 1);
}
t._lack = !t.cyclic && t._allItemSize < (t._sizeType ? t.node.height : t.node.width);
var c = t._lack && t.lackCenter || !t.lackSlide ? .1 : 0, l = t._lack ? (t._sizeType ? t.node.height : t.node.width) - c : t.cyclic ? t._cyclicAllItemSize : t._allItemSize;
l < 0 && (l = 0);
t._sizeType ? t.content.height = l : t.content.width = l;
};
t.prototype._onScrolling = function(e) {
void 0 === e && (e = null);
null == this.frameCount && (this.frameCount = this._updateRate);
if (!this._forceUpdate && e && "scroll-ended" != e.type && this.frameCount > 0) this.frameCount--; else {
this.frameCount = this._updateRate;
if (!this._aniDelRuning) {
if (this.cyclic) {
var t = this.content.getPosition();
t = this._sizeType ? t.y : t.x;
var o = this._allItemSizeNoEdge + (this._sizeType ? this._lineGap : this._columnGap), i = this._sizeType ? cc.v2(0, o) : cc.v2(o, 0);
switch (this._alignCalcType) {
case 1:
if (t > -this._cyclicPos1) {
this.content.x = -this._cyclicPos2;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.sub(i));
} else if (t < -this._cyclicPos2) {
this.content.x = -this._cyclicPos1;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.add(i));
}
break;

case 2:
if (t < this._cyclicPos1) {
this.content.x = this._cyclicPos2;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.add(i));
} else if (t > this._cyclicPos2) {
this.content.x = this._cyclicPos1;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.sub(i));
}
break;

case 3:
if (t < this._cyclicPos1) {
this.content.y = this._cyclicPos2;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.add(i));
} else if (t > this._cyclicPos2) {
this.content.y = this._cyclicPos1;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.sub(i));
}
break;

case 4:
if (t > -this._cyclicPos1) {
this.content.y = -this._cyclicPos2;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.sub(i));
} else if (t < -this._cyclicPos2) {
this.content.y = -this._cyclicPos1;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.add(i));
}
}
}
this._calcViewPos();
var n, a, r, s;
if (this._sizeType) {
n = this.viewTop;
r = this.viewBottom;
} else {
a = this.viewRight;
s = this.viewLeft;
}
if (this._virtual) {
this.displayData = [];
var c = void 0, l = 0, d = this._numItems - 1;
if (this._customSize) for (var h = !1; l <= d && !h; l++) {
c = this._calcItemPos(l);
switch (this._align) {
case cc.Layout.Type.HORIZONTAL:
c.right >= s && c.left <= a ? this.displayData.push(c) : 0 != l && this.displayData.length > 0 && (h = !0);
break;

case cc.Layout.Type.VERTICAL:
c.bottom <= n && c.top >= r ? this.displayData.push(c) : 0 != l && this.displayData.length > 0 && (h = !0);
break;

case cc.Layout.Type.GRID:
switch (this._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
c.bottom <= n && c.top >= r ? this.displayData.push(c) : 0 != l && this.displayData.length > 0 && (h = !0);
break;

case cc.Layout.AxisDirection.VERTICAL:
c.right >= s && c.left <= a ? this.displayData.push(c) : 0 != l && this.displayData.length > 0 && (h = !0);
}
}
} else {
var u = this._itemSize.width + this._columnGap, p = this._itemSize.height + this._lineGap;
switch (this._alignCalcType) {
case 1:
l = (s + this._leftGap) / u;
d = (a + this._rightGap) / u;
break;

case 2:
l = (-a - this._rightGap) / u;
d = (-s - this._leftGap) / u;
break;

case 3:
l = (-n - this._topGap) / p;
d = (-r - this._bottomGap) / p;
break;

case 4:
l = (r + this._bottomGap) / p;
d = (n + this._topGap) / p;
}
l = Math.floor(l) * this._colLineNum;
d = Math.ceil(d) * this._colLineNum;
l < 0 && (l = 0);
--d >= this._numItems && (d = this._numItems - 1);
for (;l <= d; l++) this.displayData.push(this._calcItemPos(l));
}
this._delRedundantItem();
if (this.displayData.length <= 0 || !this._numItems) {
this._lastDisplayData = [];
return;
}
this.firstListId = this.displayData[0].id;
this.displayItemNum = this.displayData.length;
var f = this._lastDisplayData.length, m = this.displayItemNum != f;
if (m) {
this.frameByFrameRenderNum > 0 && this._lastDisplayData.sort(function(e, t) {
return e - t;
});
m = this.firstListId != this._lastDisplayData[0] || this.displayData[this.displayItemNum - 1].id != this._lastDisplayData[f - 1];
}
if (this._forceUpdate || m) if (this.frameByFrameRenderNum > 0) if (this._numItems > 0) {
this._updateDone ? this._updateCounter = 0 : this._doneAfterUpdate = !0;
this._updateDone = !1;
} else {
this._updateCounter = 0;
this._updateDone = !0;
} else {
this._lastDisplayData = [];
for (var g = 0; g < this.displayItemNum; g++) this._createOrUpdateItem(this.displayData[g]);
this._forceUpdate = !1;
}
this._calcNearestItem();
}
}
}
};
t.prototype._calcViewPos = function() {
var e = this.content.getPosition();
switch (this._alignCalcType) {
case 1:
this.elasticLeft = e.x > 0 ? e.x : 0;
this.viewLeft = (e.x < 0 ? -e.x : 0) - this.elasticLeft;
this.viewRight = this.viewLeft + this.node.width;
this.elasticRight = this.viewRight > this.content.width ? Math.abs(this.viewRight - this.content.width) : 0;
this.viewRight += this.elasticRight;
break;

case 2:
this.elasticRight = e.x < 0 ? -e.x : 0;
this.viewRight = (e.x > 0 ? -e.x : 0) + this.elasticRight;
this.viewLeft = this.viewRight - this.node.width;
this.elasticLeft = this.viewLeft < -this.content.width ? Math.abs(this.viewLeft + this.content.width) : 0;
this.viewLeft -= this.elasticLeft;
break;

case 3:
this.elasticTop = e.y < 0 ? Math.abs(e.y) : 0;
this.viewTop = (e.y > 0 ? -e.y : 0) + this.elasticTop;
this.viewBottom = this.viewTop - this.node.height;
this.elasticBottom = this.viewBottom < -this.content.height ? Math.abs(this.viewBottom + this.content.height) : 0;
this.viewBottom += this.elasticBottom;
break;

case 4:
this.elasticBottom = e.y > 0 ? Math.abs(e.y) : 0;
this.viewBottom = (e.y < 0 ? -e.y : 0) - this.elasticBottom;
this.viewTop = this.viewBottom + this.node.height;
this.elasticTop = this.viewTop > this.content.height ? Math.abs(this.viewTop - this.content.height) : 0;
this.viewTop -= this.elasticTop;
}
};
t.prototype._calcItemPos = function(e) {
var t, o, i, n, a, r, s, c;
switch (this._align) {
case cc.Layout.Type.HORIZONTAL:
switch (this._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
if (this._customSize) {
var l = this._getFixedSize(e);
a = this._leftGap + (this._itemSize.width + this._columnGap) * (e - l.count) + (l.val + this._columnGap * l.count);
t = (d = this._customSize[e]) > 0 ? d : this._itemSize.width;
} else {
a = this._leftGap + (this._itemSize.width + this._columnGap) * e;
t = this._itemSize.width;
}
r = a + t;
if (this.lackCenter) {
a += h = this.content.width / 2 - this._allItemSizeNoEdge / 2;
r += h;
}
return {
id: e,
left: a,
right: r,
x: a + this._itemTmp.anchorX * t,
y: this._itemTmp.y
};

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
if (this._customSize) {
l = this._getFixedSize(e);
r = -this._rightGap - (this._itemSize.width + this._columnGap) * (e - l.count) - (l.val + this._columnGap * l.count);
t = (d = this._customSize[e]) > 0 ? d : this._itemSize.width;
} else {
r = -this._rightGap - (this._itemSize.width + this._columnGap) * e;
t = this._itemSize.width;
}
a = r - t;
if (this.lackCenter) {
a -= h = this.content.width / 2 - this._allItemSizeNoEdge / 2;
r -= h;
}
return {
id: e,
right: r,
left: a,
x: a + this._itemTmp.anchorX * t,
y: this._itemTmp.y
};
}
break;

case cc.Layout.Type.VERTICAL:
switch (this._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
if (this._customSize) {
l = this._getFixedSize(e);
i = -this._topGap - (this._itemSize.height + this._lineGap) * (e - l.count) - (l.val + this._lineGap * l.count);
o = (d = this._customSize[e]) > 0 ? d : this._itemSize.height;
} else {
i = -this._topGap - (this._itemSize.height + this._lineGap) * e;
o = this._itemSize.height;
}
n = i - o;
if (this.lackCenter) {
i -= h = this.content.height / 2 - this._allItemSizeNoEdge / 2;
n -= h;
}
return {
id: e,
top: i,
bottom: n,
x: this._itemTmp.x,
y: n + this._itemTmp.anchorY * o
};

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
if (this._customSize) {
var d;
l = this._getFixedSize(e);
n = this._bottomGap + (this._itemSize.height + this._lineGap) * (e - l.count) + (l.val + this._lineGap * l.count);
o = (d = this._customSize[e]) > 0 ? d : this._itemSize.height;
} else {
n = this._bottomGap + (this._itemSize.height + this._lineGap) * e;
o = this._itemSize.height;
}
i = n + o;
if (this.lackCenter) {
var h;
i += h = this.content.height / 2 - this._allItemSizeNoEdge / 2;
n += h;
}
return {
id: e,
top: i,
bottom: n,
x: this._itemTmp.x,
y: n + this._itemTmp.anchorY * o
};
}

case cc.Layout.Type.GRID:
var u = Math.floor(e / this._colLineNum);
switch (this._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
switch (this._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
c = (n = (i = -this._topGap - (this._itemSize.height + this._lineGap) * u) - this._itemSize.height) + this._itemTmp.anchorY * this._itemSize.height;
break;

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
i = (n = this._bottomGap + (this._itemSize.height + this._lineGap) * u) + this._itemSize.height;
c = n + this._itemTmp.anchorY * this._itemSize.height;
}
s = this._leftGap + e % this._colLineNum * (this._itemSize.width + this._columnGap);
switch (this._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
s += this._itemTmp.anchorX * this._itemSize.width;
s -= this.content.anchorX * this.content.width;
break;

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
s += (1 - this._itemTmp.anchorX) * this._itemSize.width;
s -= (1 - this.content.anchorX) * this.content.width;
s *= -1;
}
return {
id: e,
top: i,
bottom: n,
x: s,
y: c
};

case cc.Layout.AxisDirection.VERTICAL:
switch (this._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
r = (a = this._leftGap + (this._itemSize.width + this._columnGap) * u) + this._itemSize.width;
s = a + this._itemTmp.anchorX * this._itemSize.width;
s -= this.content.anchorX * this.content.width;
break;

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
s = (a = (r = -this._rightGap - (this._itemSize.width + this._columnGap) * u) - this._itemSize.width) + this._itemTmp.anchorX * this._itemSize.width;
s += (1 - this.content.anchorX) * this.content.width;
}
c = -this._topGap - e % this._colLineNum * (this._itemSize.height + this._lineGap);
switch (this._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
c -= (1 - this._itemTmp.anchorY) * this._itemSize.height;
c += (1 - this.content.anchorY) * this.content.height;
break;

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
c -= this._itemTmp.anchorY * this._itemSize.height;
c += this.content.anchorY * this.content.height;
c *= -1;
}
return {
id: e,
left: a,
right: r,
x: s,
y: c
};
}
}
};
t.prototype._calcExistItemPos = function(e) {
var t = this.getItemByListId(e);
if (!t) return null;
var o = {
id: e,
x: t.x,
y: t.y
};
if (this._sizeType) {
o.top = t.y + t.height * (1 - t.anchorY);
o.bottom = t.y - t.height * t.anchorY;
} else {
o.left = t.x - t.width * t.anchorX;
o.right = t.x + t.width * (1 - t.anchorX);
}
return o;
};
t.prototype.getItemPos = function(e) {
return this._virtual ? this._calcItemPos(e) : this.frameByFrameRenderNum ? this._calcItemPos(e) : this._calcExistItemPos(e);
};
t.prototype._getFixedSize = function(e) {
if (!this._customSize) return null;
null == e && (e = this._numItems);
var t = 0, o = 0;
for (var i in this._customSize) if (parseInt(i) < e) {
t += this._customSize[i];
o++;
}
return {
val: t,
count: o
};
};
t.prototype._onScrollBegan = function() {
this._beganPos = this._sizeType ? this.viewTop : this.viewLeft;
};
t.prototype._onScrollEnded = function() {
var e = this;
if (null != e.scrollToListId) {
var t = e.getItemByListId(e.scrollToListId);
e.scrollToListId = null;
t && t.runAction(cc.sequence(cc.scaleTo(.1, 1.06), cc.scaleTo(.1, 1)));
}
e._onScrolling();
e._slideMode != s.ADHERING || e.adhering ? e._slideMode == s.PAGE && (null != e._beganPos ? this._pageAdhere() : e.adhere()) : e.adhere();
};
t.prototype._onTouchStart = function(e, t) {
if (!this._scrollView._hasNestedViewGroup(e, t) && (e.eventPhase !== cc.Event.AT_TARGET || e.target !== this.node)) {
for (var o = e.target; null == o._listId && o.parent; ) o = o.parent;
this._scrollItem = null != o._listId ? o : e.target;
}
};
t.prototype._onTouchUp = function() {
var e = this;
e._scrollPos = null;
if (e._slideMode == s.ADHERING) {
this.adhering && (this._adheringBarrier = !0);
e.adhere();
} else e._slideMode == s.PAGE && (null != e._beganPos ? this._pageAdhere() : e.adhere());
this._scrollItem = null;
};
t.prototype._onTouchCancelled = function(e, t) {
var o = this;
if (!o._scrollView._hasNestedViewGroup(e, t) && !e.simulate) {
o._scrollPos = null;
if (o._slideMode == s.ADHERING) {
o.adhering && (o._adheringBarrier = !0);
o.adhere();
} else o._slideMode == s.PAGE && (null != o._beganPos ? o._pageAdhere() : o.adhere());
this._scrollItem = null;
}
};
t.prototype._onSizeChanged = function() {
this.checkInited(!1) && this._onScrolling();
};
t.prototype._onItemAdaptive = function(e) {
if (!this._sizeType && e.width != this._itemSize.width || this._sizeType && e.height != this._itemSize.height) {
this._customSize || (this._customSize = {});
var t = this._sizeType ? e.height : e.width;
if (this._customSize[e._listId] != t) {
this._customSize[e._listId] = t;
this._resizeContent();
this.updateAll();
if (null != this._scrollToListId) {
this._scrollPos = null;
this.unschedule(this._scrollToSo);
this.scrollTo(this._scrollToListId, Math.max(0, this._scrollToEndTime - new Date().getTime() / 1e3));
}
}
}
};
t.prototype._pageAdhere = function() {
var e = this;
if (e.cyclic || !(e.elasticTop > 0 || e.elasticRight > 0 || e.elasticBottom > 0 || e.elasticLeft > 0)) {
var t = e._sizeType ? e.viewTop : e.viewLeft, o = (e._sizeType ? e.node.height : e.node.width) * e.pageDistance;
if (Math.abs(e._beganPos - t) > o) switch (e._alignCalcType) {
case 1:
case 4:
e._beganPos > t ? e.prePage(.5) : e.nextPage(.5);
break;

case 2:
case 3:
e._beganPos < t ? e.prePage(.5) : e.nextPage(.5);
} else e.elasticTop <= 0 && e.elasticRight <= 0 && e.elasticBottom <= 0 && e.elasticLeft <= 0 && e.adhere();
e._beganPos = null;
}
};
t.prototype.adhere = function() {
var e = this;
if (e.checkInited() && !(e.elasticTop > 0 || e.elasticRight > 0 || e.elasticBottom > 0 || e.elasticLeft > 0)) {
e.adhering = !0;
e._calcNearestItem();
var t = (e._sizeType ? e._topGap : e._leftGap) / (e._sizeType ? e.node.height : e.node.width);
e.scrollTo(e.nearestListId, .7, t);
}
};
t.prototype.pauseUpdate = function() {
this._updateEnabled = !1;
};
t.prototype.resumeUpdate = function() {
this._updateEnabled = !0;
};
t.prototype.update = function() {
if (0 != this._updateEnabled && !(this.frameByFrameRenderNum <= 0 || this._updateDone)) if (this._virtual) {
for (var e = this._updateCounter + this.frameByFrameRenderNum > this.displayItemNum ? this.displayItemNum : this._updateCounter + this.frameByFrameRenderNum, t = this._updateCounter; t < e; t++) {
var o = this.displayData[t];
o && this._createOrUpdateItem(o);
}
if (this._updateCounter >= this.displayItemNum - 1) if (this._doneAfterUpdate) {
this._updateCounter = 0;
this._updateDone = !1;
this._doneAfterUpdate = !1;
} else {
this._updateDone = !0;
this._delRedundantItem();
this._forceUpdate = !1;
this._calcNearestItem();
this.slideMode == s.PAGE && (this.curPageNum = this.nearestListId);
} else this._updateCounter += this.frameByFrameRenderNum;
} else if (this._updateCounter < this._numItems) {
for (e = this._updateCounter + this.frameByFrameRenderNum > this._numItems ? this._numItems : this._updateCounter + this.frameByFrameRenderNum, 
t = this._updateCounter; t < e; t++) this._createOrUpdateItem2(t);
this._updateCounter += this.frameByFrameRenderNum;
} else {
this._updateDone = !0;
this._calcNearestItem();
this.slideMode == s.PAGE && (this.curPageNum = this.nearestListId);
}
};
t.prototype._createOrUpdateItem = function(e) {
var t = this.getItemByListId(e.id);
if (t) {
if (this._forceUpdate && this.renderEvent) {
t.setPosition(cc.v2(e.x, e.y));
this._resetItemSize(t);
this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], t, e.id % this._actualNumItems);
}
} else {
var o = this._pool.size() > 0;
if ((t = o ? this._pool.get() : cc.instantiate(this._itemTmp))._listId != e.id) {
t._listId = e.id;
t.setContentSize(this._itemSize);
}
t.setPosition(cc.v2(e.x, e.y));
this._resetItemSize(t);
this.content.addChild(t);
if (o && this._needUpdateWidget) {
var i = t.getComponent(cc.Widget);
i && i.updateAlignment();
}
t.setSiblingIndex(this.content.childrenCount - 1);
var n = t.getComponent(g.default);
t.listItem = n;
if (n) {
n.listId = e.id;
n.list = this;
n._registerEvent();
}
this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], t, e.id % this._actualNumItems);
}
this._resetItemSize(t);
this._updateListItem(t.listItem);
this._lastDisplayData.indexOf(e.id) < 0 && this._lastDisplayData.push(e.id);
};
t.prototype._createOrUpdateItem2 = function(e) {
var t, o = this.content.children[e];
if (o) {
if (this._forceUpdate && this.renderEvent) {
o._listId = e;
t && (t.listId = e);
this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], o, e);
}
} else {
(o = cc.instantiate(this._itemTmp))._listId = e;
this.content.addChild(o);
t = o.getComponent(g.default);
o.listItem = t;
if (t) {
t.listId = e;
t.list = this;
t._registerEvent();
}
this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], o, e);
}
this._updateListItem(t);
this._lastDisplayData.indexOf(e) < 0 && this._lastDisplayData.push(e);
};
t.prototype._updateListItem = function(e) {
if (e && this.selectedMode > c.NONE) {
var t = e.node;
switch (this.selectedMode) {
case c.SINGLE:
e.selected = this.selectedId == t._listId;
break;

case c.MULT:
e.selected = this.multSelected.indexOf(t._listId) >= 0;
}
}
};
t.prototype._resetItemSize = function() {};
t.prototype._updateItemPos = function(e) {
var t = isNaN(e) ? e : this.getItemByListId(e), o = this.getItemPos(t._listId);
t.setPosition(o.x, o.y);
};
t.prototype.setMultSelected = function(e, t) {
var o = this;
if (o.checkInited()) {
Array.isArray(e) || (e = [ e ]);
if (null == t) o.multSelected = e; else {
var i = void 0, n = void 0;
if (t) for (var a = e.length - 1; a >= 0; a--) {
i = e[a];
(n = o.multSelected.indexOf(i)) < 0 && o.multSelected.push(i);
} else for (a = e.length - 1; a >= 0; a--) {
i = e[a];
(n = o.multSelected.indexOf(i)) >= 0 && o.multSelected.splice(n, 1);
}
}
o._forceUpdate = !0;
o._onScrolling();
}
};
t.prototype.updateItem = function(e) {
if (this.checkInited()) {
Array.isArray(e) || (e = [ e ]);
for (var t = 0, o = e.length; t < o; t++) {
var i = e[t], n = this.getItemByListId(i);
n && cc.Component.EventHandler.emitEvents([ this.renderEvent ], n, i % this._actualNumItems);
}
}
};
t.prototype.updateAll = function() {
this.checkInited() && (this.numItems = this.numItems);
};
t.prototype.getItemByListId = function(e) {
for (var t = this.content.childrenCount - 1; t >= 0; t--) {
var o = this.content.children[t];
if (o._listId == e) return o;
}
};
t.prototype.getVisualItems = function() {
return this.content.children;
};
t.prototype.clearItems = function() {
this.content.removeAllChildren(!0);
};
t.prototype.clearPoolItems = function() {
this._pool.clear();
};
t.prototype._getOutsideItem = function() {
for (var e, t = [], o = this.content.childrenCount - 1; o >= 0; o--) {
e = this.content.children[o];
this.displayData.find(function(t) {
return t.id == e._listId;
}) || t.push(e);
}
return t;
};
t.prototype._delRedundantItem = function() {
if (this._virtual) for (var e = this._getOutsideItem(), t = e.length - 1; t >= 0; t--) {
var o = e[t];
if (!this._scrollItem || o._listId != this._scrollItem._listId) {
this._pool.put(o);
for (var i = this._lastDisplayData.length - 1; i >= 0; i--) if (this._lastDisplayData[i] == o._listId) {
this._lastDisplayData.splice(i, 1);
break;
}
}
} else for (;this.content.childrenCount > this._numItems; ) this._delSingleItem(this.content.children[this.content.childrenCount - 1]);
};
t.prototype._delSingleItem = function(e) {
e.removeFromParent();
e.destroy && e.destroy();
e = null;
};
t.prototype.aniDelItem = function(e, t, o) {
var i = this;
if (!i.checkInited() || i.cyclic || !i._virtual) return cc.error("This function is not allowed to be called!");
if (i._aniDelRuning) return cc.warn("Please wait for the current deletion to finish!");
var n, a = i.getItemByListId(e);
if (a) {
n = a.getComponent(g.default);
i._aniDelRuning = !0;
var r = i.displayData[i.displayData.length - 1].id, s = n.selected;
n.showAni(o, function() {
var o, n, l;
r < i._numItems - 2 && (o = r + 1);
if (null != o) {
var d = i._calcItemPos(o);
i.displayData.push(d);
i._virtual ? i._createOrUpdateItem(d) : i._createOrUpdateItem2(o);
} else i._numItems--;
if (i.selectedMode == c.SINGLE) s ? i._selectedId = -1 : i._selectedId - 1 >= 0 && i._selectedId--; else if (i.selectedMode == c.MULT && i.multSelected.length) {
var h = i.multSelected.indexOf(e);
h >= 0 && i.multSelected.splice(h, 1);
for (var u = i.multSelected.length - 1; u >= 0; u--) (m = i.multSelected[u]) >= e && i.multSelected[u]--;
}
if (i._customSize) {
i._customSize[e] && delete i._customSize[e];
var p = {}, f = void 0;
for (var m in i._customSize) {
f = i._customSize[m];
var g = parseInt(m);
p[g - (g >= e ? 1 : 0)] = f;
}
i._customSize = p;
}
for (u = null != o ? o : r; u >= e + 1; u--) if (a = i.getItemByListId(u)) {
var y = i._calcItemPos(u - 1);
n = [ cc.moveTo(.2333, cc.v2(y.x, y.y)) ];
if (u <= e + 1) {
l = !0;
n.push(cc.callFunc(function() {
i._aniDelRuning = !1;
t(e);
}));
}
n.length > 1 ? a.runAction(cc.sequence(n)) : a.runAction(n[0]);
}
if (!l) {
i._aniDelRuning = !1;
t(e);
}
}, !0);
} else t(e);
};
t.prototype.scrollTo = function(e, t, o, i) {
void 0 === t && (t = .5);
void 0 === o && (o = null);
void 0 === i && (i = !1);
var n = this;
if (n.checkInited(!1)) {
null == t ? t = .5 : t < 0 && (t = 0);
e < 0 ? e = 0 : e >= n._numItems && (e = n._numItems - 1);
!n._virtual && n._layout && n._layout.enabled && n._layout.updateLayout();
var a, r, s = n.getItemPos(e);
switch (n._alignCalcType) {
case 1:
a = s.left;
a -= null != o ? n.node.width * o : n._leftGap;
s = cc.v2(a, 0);
break;

case 2:
a = s.right - n.node.width;
a += null != o ? n.node.width * o : n._rightGap;
s = cc.v2(a + n.content.width, 0);
break;

case 3:
r = s.top;
r += null != o ? n.node.height * o : n._topGap;
s = cc.v2(0, -r);
break;

case 4:
r = s.bottom + n.node.height;
r -= null != o ? n.node.height * o : n._bottomGap;
s = cc.v2(0, -r + n.content.height);
}
var c = n.content.getPosition();
c = Math.abs(n._sizeType ? c.y : c.x);
var l = n._sizeType ? s.y : s.x;
if (Math.abs((null != n._scrollPos ? n._scrollPos : c) - l) > .5) {
n._scrollView.scrollToOffset(s, t);
n._scrollToListId = e;
n._scrollToEndTime = new Date().getTime() / 1e3 + t;
n._scrollToSo = n.scheduleOnce(function() {
n._adheringBarrier || (n.adhering = n._adheringBarrier = !1);
n._scrollPos = n._scrollToListId = n._scrollToEndTime = n._scrollToSo = null;
if (i) {
var t = n.getItemByListId(e);
t && t.runAction(cc.sequence(cc.scaleTo(.1, 1.05), cc.scaleTo(.1, 1)));
}
}, t + .1);
t <= 0 && n._onScrolling();
}
}
};
t.prototype._calcNearestItem = function() {
var e, t, o, i, n, a, r = this;
r.nearestListId = null;
r._virtual && r._calcViewPos();
o = r.viewTop;
i = r.viewRight;
n = r.viewBottom;
a = r.viewLeft;
for (var s = !1, c = 0; c < r.content.childrenCount && !s; c += r._colLineNum) if (e = r._virtual ? r.displayData[c] : r._calcExistItemPos(c)) {
t = r._sizeType ? (e.top + e.bottom) / 2 : t = (e.left + e.right) / 2;
switch (r._alignCalcType) {
case 1:
if (e.right >= a) {
r.nearestListId = e.id;
a > t && (r.nearestListId += r._colLineNum);
s = !0;
}
break;

case 2:
if (e.left <= i) {
r.nearestListId = e.id;
i < t && (r.nearestListId += r._colLineNum);
s = !0;
}
break;

case 3:
if (e.bottom <= o) {
r.nearestListId = e.id;
o < t && (r.nearestListId += r._colLineNum);
s = !0;
}
break;

case 4:
if (e.top >= n) {
r.nearestListId = e.id;
n > t && (r.nearestListId += r._colLineNum);
s = !0;
}
}
}
if ((e = r._virtual ? r.displayData[r.displayItemNum - 1] : r._calcExistItemPos(r._numItems - 1)) && e.id == r._numItems - 1) {
t = r._sizeType ? (e.top + e.bottom) / 2 : t = (e.left + e.right) / 2;
switch (r._alignCalcType) {
case 1:
i > t && (r.nearestListId = e.id);
break;

case 2:
a < t && (r.nearestListId = e.id);
break;

case 3:
n < t && (r.nearestListId = e.id);
break;

case 4:
o > t && (r.nearestListId = e.id);
}
}
};
t.prototype.prePage = function(e) {
void 0 === e && (e = .5);
this.checkInited() && this.skipPage(this.curPageNum - 1, e);
};
t.prototype.nextPage = function(e) {
void 0 === e && (e = .5);
this.checkInited() && this.skipPage(this.curPageNum + 1, e);
};
t.prototype.skipPage = function(e, t) {
var o = this;
if (o.checkInited()) {
if (o._slideMode != s.PAGE) return cc.error("This function is not allowed to be called, Must SlideMode = PAGE!");
if (!(e < 0 || e >= o._numItems) && o.curPageNum != e) {
o.curPageNum = e;
o.pageChangeEvent && cc.Component.EventHandler.emitEvents([ o.pageChangeEvent ], e);
o.scrollTo(e, t);
}
}
};
t.prototype.calcCustomSize = function(e) {
var t = this;
if (t.checkInited()) {
if (!t._itemTmp) return cc.error("Unset template item!");
if (!t.renderEvent) return cc.error("Unset Render-Event!");
t._customSize = {};
var o = cc.instantiate(t._itemTmp);
t.content.addChild(o);
for (var i = 0; i < e; i++) {
cc.Component.EventHandler.emitEvents([ t.renderEvent ], o, i);
o.height == t._itemSize.height && o.width == t._itemSize.width || (t._customSize[i] = t._sizeType ? o.height : o.width);
}
Object.keys(t._customSize).length || (t._customSize = null);
o.removeFromParent();
o.destroy && o.destroy();
return t._customSize;
}
};
a([ h({
type: cc.Enum(r),
tooltip: !1
}) ], t.prototype, "templateType", void 0);
a([ h({
type: cc.Node,
tooltip: !1,
visible: function() {
return this.templateType == r.NODE;
}
}) ], t.prototype, "tmpNode", void 0);
a([ h({
type: cc.Prefab,
tooltip: !1,
visible: function() {
return this.templateType == r.PREFAB;
}
}) ], t.prototype, "tmpPrefab", void 0);
a([ h() ], t.prototype, "_slideMode", void 0);
a([ h({
type: cc.Enum(s),
tooltip: !1
}) ], t.prototype, "slideMode", null);
a([ h({
type: cc.Float,
range: [ 0, 1, .1 ],
tooltip: !1,
slide: !0,
visible: function() {
return this._slideMode == s.PAGE;
}
}) ], t.prototype, "pageDistance", void 0);
a([ h({
type: cc.Component.EventHandler,
tooltip: !1,
visible: function() {
return this._slideMode == s.PAGE;
}
}) ], t.prototype, "pageChangeEvent", void 0);
a([ h() ], t.prototype, "_virtual", void 0);
a([ h({
type: cc.Boolean,
tooltip: !1
}) ], t.prototype, "virtual", null);
a([ h({
tooltip: !1,
visible: function() {
var e = this.virtual && this.slideMode == s.NORMAL;
e || (this.cyclic = !1);
return e;
}
}) ], t.prototype, "cyclic", void 0);
a([ h({
tooltip: !1,
visible: function() {
return this.virtual;
}
}) ], t.prototype, "lackCenter", void 0);
a([ h({
tooltip: !1,
visible: function() {
var e = this.virtual && !this.lackCenter;
e || (this.lackSlide = !1);
return e;
}
}) ], t.prototype, "lackSlide", void 0);
a([ h({
type: cc.Integer
}) ], t.prototype, "_updateRate", void 0);
a([ h({
type: cc.Integer,
range: [ 0, 6, 1 ],
tooltip: !1,
slide: !0
}) ], t.prototype, "updateRate", null);
a([ h({
type: cc.Integer,
range: [ 0, 12, 1 ],
tooltip: !1,
slide: !0
}) ], t.prototype, "frameByFrameRenderNum", void 0);
a([ h({
type: cc.Component.EventHandler,
tooltip: !1
}) ], t.prototype, "renderEvent", void 0);
a([ h({
type: cc.Enum(c),
tooltip: !1
}) ], t.prototype, "selectedMode", void 0);
a([ h({
tooltip: !1,
visible: function() {
return this.selectedMode == c.SINGLE;
}
}) ], t.prototype, "repeatEventSingle", void 0);
a([ h({
type: cc.Component.EventHandler,
tooltip: !1,
visible: function() {
return this.selectedMode > c.NONE;
}
}) ], t.prototype, "selectedEvent", void 0);
a([ h({
serializable: !1
}) ], t.prototype, "_numItems", void 0);
return a([ d, u(), p("/List"), m(cc.ScrollView), f(-5e3) ], t);
}(cc.Component);
o.default = y;
cc._RF.pop();
}, {
"./EXListItem": "EXListItem"
} ],
EXModalMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "455dfJCgndANLiLpnWjq9wh", "EXModalMgr");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("./config/EXSysDefine"), l = e("./EXUIModalScript"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.uiModal = null;
return t;
}
o = t;
Object.defineProperty(t, "inst", {
get: function() {
if (null == this._inst) {
this._inst = new o();
o.inst.uiModal = new cc.Node("UIModalNode").addComponent(l.default);
o.inst.uiModal.init();
}
return this._inst;
},
enumerable: !1,
configurable: !0
});
t.prototype.showModal = function(e) {
return r(this, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, this.uiModal.showModal(e.opacity, e.easingTime, e.isEasing) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
t.prototype.checkModalWindow = function(e) {
if (!this.uiModal.node) {
this.uiModal = new cc.Node("UIModalNode").addComponent(l.default);
this.uiModal.init();
}
this.uiModal.node.parent && this.uiModal.node.removeFromParent();
for (var t = e.length - 1; t >= 0; t--) if (e[t].maskType.opacity > 0) {
cc.find(o.popUpRoot).addChild(this.uiModal.node, Math.max(e[t].node.zIndex - 1, 0));
this.uiModal.uid = e[t].uid;
this.showModal(e[t].maskType);
break;
}
this.uiModal.node.parent || (this.uiModal.node.opacity = 0);
};
t.prototype.hideUiModal = function() {
this.uiModal.node && this.uiModal.node.destroy();
};
var o;
t.popUpRoot = c.EXSysDefine.SYS_UIROOT_NAME + "/" + c.EXSysDefine.SYS_POPUP_NODE;
t._inst = null;
return o = a([ h ], t);
}(cc.Component));
o.default = u;
cc._RF.pop();
}, {
"./EXUIModalScript": "EXUIModalScript",
"./config/EXSysDefine": "EXSysDefine"
} ],
EXResMgrs: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "37197y9iQ1N6IjcZ19yHcwI", "EXResMgrs");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("./EXCocosHelper"), r = e("./EXEventCenter"), s = function() {
function e() {
this.staticDepends = cc.js.createMap();
this.dynamicDepends = cc.js.createMap();
this.tmpStaticDepends = [];
this._stubRes = {};
}
Object.defineProperty(e, "inst", {
get: function() {
null === this.instance && (this.instance = new e());
return this.instance;
},
enumerable: !1,
configurable: !0
});
e.prototype.addStub = function(e, t) {
var o = this._stubRes[t.name];
o || (o = this._stubRes[t.name] = {});
o[e.name] = e;
};
e.prototype.getStubRes = function(e, t) {
var o = this._stubRes[t.name];
return o ? o[e] : null;
};
e.prototype._addTmpStaticDepends = function(e, t, o) {
this.tmpStaticDepends[this.tmpStaticDepends.length] = o.url;
this.staticDepends[o.url] ? this.staticDepends[o.url]++ : this.staticDepends[o.url] = 1;
};
e.prototype._clearTmpStaticDepends = function() {
for (var e = 0, t = this.tmpStaticDepends; e < t.length; e++) {
var o = t[e];
if (this.staticDepends[o] && 0 !== this.staticDepends[o]) {
this.staticDepends[o]--;
0 === this.staticDepends[o] && delete this.staticDepends[o];
}
}
this.tmpStaticDepends = [];
};
e.prototype.loadForm = function(e) {
return i(this, void 0, void 0, function() {
var t, o;
return n(this, function(i) {
switch (i.label) {
case 0:
return [ 4, a.default.loadResSync(e, cc.Prefab, this._addTmpStaticDepends.bind(this)) ];

case 1:
t = i.sent();
this._clearTmpStaticDepends();
o = cc.loader.getDependsRecursively(e);
this.addStaticDepends(o);
return [ 2, t ];
}
});
});
};
e.prototype.destoryForm = function(e) {
if (e) {
r.EventCenter.targetOff(e);
var t = cc.loader.getDependsRecursively(e.uid);
this.removeStaticDepends(t);
e.node.destroy();
} else cc.log("UIBase!");
};
e.prototype.addStaticDepends = function(e) {
for (var t = 0, o = e; t < o.length; t++) {
var i = o[t];
this.staticDepends[i] ? this.staticDepends[i] += 1 : this.staticDepends[i] = 1;
}
};
e.prototype.removeStaticDepends = function(e) {
for (var t = 0, o = e; t < o.length; t++) {
var i = o[t];
if (this.staticDepends[i] && 0 !== this.staticDepends[i]) {
this.staticDepends[i]--;
if (0 === this.staticDepends[i]) {
cc.loader.release(i);
delete this.staticDepends[i];
}
}
}
};
e.prototype.loadDynamicRes = function(e, t, o) {
return i(this, void 0, void 0, function() {
var i;
return n(this, function(n) {
switch (n.label) {
case 0:
return [ 4, a.default.loadResSync(e, t) ];

case 1:
i = n.sent();
o || (o = e);
this.dynamicDepends[o] || (this.dynamicDepends[o] = []);
this.dynamicDepends[o].push(e);
return [ 2, i ];
}
});
});
};
e.prototype.destoryDynamicRes = function(e) {
if (!this.dynamicDepends[e]) return !1;
for (var t in this.dynamicDepends) cc.loader.release(this.dynamicDepends[t]);
return !0;
};
e.instance = null;
return e;
}();
o.default = s;
cc._RF.pop();
}, {
"./EXCocosHelper": "EXCocosHelper",
"./EXEventCenter": "EXEventCenter"
} ],
EXRewardDialog: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "53f60J2OOtJS5eZmv8Ivjck", "EXRewardDialog");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../PublicTools/GameEvents"), s = e("../PublicTools/DialogRoot"), c = e("../GameFireData/GameAllConst"), l = e("../GameFireData/GameDataInfo"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._rewardCoin = null;
t._rewardTicket = null;
t._rewardChip = null;
return t;
}
t.prototype.onLoad = function() {
this.node.getChildByName("btnClose").on("click", this.onClose, this);
this.node.getChildByName("btnOK").on("click", this._onOK, this);
this._rewardCoin = this.node.getChildByName("bg").getChildByName("labelCoinCount");
this._rewardTicket = this.node.getChildByName("bg").getChildByName("labelTicketCount");
this._rewardChip = this.node.getChildByName("bg").getChildByName("labelChipCount");
this._rewardChip.active = !1;
this._rewardTicket.active = !1;
this._rewardCoin.active = !1;
};
t.prototype.start = function() {
e.prototype.start.call(this);
var t = this._data;
this._createRewardItems(t);
};
t.prototype._createRewardItems = function(e) {
var t = [ this._rewardCoin, this._rewardChip, this._rewardTicket ], o = e.length, i = 0;
1 == o ? i = 0 : 2 == o ? i = -116 : 3 == o && (i = -232);
for (var n = 0; n < o; n++) {
e[n].type == c.MoneyType.ticket ? t[e[n].type - 1].getComponent(cc.Label).string = +e[n].value / l.default.pointMulti + "" : t[e[n].type - 1].getComponent(cc.Label).string = e[n].value;
t[e[n].type - 1].active = !0;
t[e[n].type - 1].x = i + 232 * n;
}
};
t.prototype._onOK = function() {
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this._callback && this._callback();
this.onClose();
};
return a([ h ], t);
}(s.default));
o.default = u;
cc._RF.pop();
}, {
"../GameFireData/GameAllConst": "GameAllConst",
"../GameFireData/GameDataInfo": "GameDataInfo",
"../PublicTools/DialogRoot": "DialogRoot",
"../PublicTools/GameEvents": "GameEvents"
} ],
EXSceneManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "eabe0LZ6yhHH5BCnDRTYdRB", "EXSceneManager");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.SceneIndex = void 0;
var a = e("../GameFireData/GameDataInfo"), r = e("../FireData/CommonData"), s = e("./GameLayerManager");
(function(e) {
e[e.hall = 0] = "hall";
e[e.baccarat = 1] = "baccarat";
e[e.launch = 2] = "launch";
e[e.start = 3] = "start";
e[e.loading = 4] = "loading";
e[e.login = 5] = "login";
e[e.tutorials = 6] = "tutorials";
e[e.blackjack = 7] = "blackjack";
e[e.baccaratHnd = 8] = "baccaratHnd";
e[e.dtGame = 9] = "dtGame";
e[e.diceGame = 10] = "diceGame";
e[e.intDiceGame = 11] = "intDiceGame";
e[e.birdsGame = 12] = "birdsGame";
e[e.romaSlot = 13] = "romaSlot";
})(o.SceneIndex || (o.SceneIndex = {}));
var c = function() {
function e() {}
e.enterLogin = function() {
if (a.default.isWebGameType) window.close(); else {
cc.director.loadScene("SceneLogin");
cc.sys.garbageCollect();
}
};
e.enterStart = function() {
cc.director.loadScene("SceneStart");
};
e.enterLoading = function() {
r.default.loading.isReconnect = !0;
cc.director.loadScene("SceneLoad");
cc.sys.garbageCollect();
};
e.enterHall = function(e) {
e ? cc.director.loadScene("SceneLobby") : s.default.ins().showHallOrRoomExcessive(function() {
cc.director.loadScene("SceneLobby");
});
cc.sys.garbageCollect();
};
e.enterDragonTigerFight = function() {
s.default.ins().showHallOrRoomExcessive(function() {
cc.director.loadScene("SceneDT");
cc.sys.garbageCollect();
});
};
e.enterBlackJack = function() {
s.default.ins().showHallOrRoomExcessive(function() {
cc.director.loadScene("SceneBJ");
cc.sys.garbageCollect();
});
};
e.enterBacHnd = function() {
s.default.ins().showHallOrRoomExcessive(function() {
cc.director.loadScene("SceneBacHnd");
cc.sys.garbageCollect();
});
};
e.enterDice = function() {
s.default.ins().showHallOrRoomExcessive(function() {
cc.director.loadScene("SceneDice");
cc.sys.garbageCollect();
});
};
e.enterRomaSlot = function() {
return i(this, void 0, void 0, function() {
return n(this, function() {
s.default.ins().showHallOrRoomExcessive(function() {
cc.director.loadScene("SceneRoma");
cc.sys.garbageCollect();
});
return [ 2 ];
});
});
};
return e;
}();
o.default = c;
cc._RF.pop();
}, {
"../FireData/CommonData": "CommonData",
"../GameFireData/GameDataInfo": "GameDataInfo",
"./GameLayerManager": "GameLayerManager"
} ],
EXScene: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ba2caFEchdCKZkuneCXeWZz", "EXScene");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../EXUIFrame/EXAdapterMgr"), l = e("../EXUIFrame/EXEventCenter"), d = e("../EXUIFrame/EXEventType"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.ndBlock = null;
t._block = 0;
return t;
}
o = t;
t.prototype.onLoad = function() {
this.initBlockNode();
};
t.prototype.initBlockNode = function() {
this.ndBlock = new cc.Node("block");
this.ndBlock.addComponent(cc.BlockInputEvents);
this.node.addChild(this.ndBlock, cc.macro.MAX_ZINDEX);
};
t.prototype.start = function() {
return r(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
o.inst = this;
c.default.inst.adapatByType(c.AdaptaterType.FullScreen, this.node);
return [ 4, this.onGameInit() ];

case 1:
e.sent();
this.registerEvent();
return [ 2 ];
}
});
});
};
t.prototype.onGameInit = function() {
return r(this, void 0, void 0, function() {
return s(this, function() {
return [ 2 ];
});
});
};
t.prototype.registerEvent = function() {
cc.game.on(cc.game.EVENT_SHOW, this.onGameShow, this);
cc.game.on(cc.game.EVENT_HIDE, this.onGameHide, this);
};
t.prototype.onGameShow = function(e) {
l.EventCenter.emit(d.EventType.GameShow, e);
};
t.prototype.onGameHide = function() {
l.EventCenter.emit(d.EventType.GameHide);
};
t.prototype.update = function() {};
t.prototype.lateUpdate = function() {};
t.prototype.setInputBlock = function(e) {
if (this.ndBlock) {
e ? ++this._block : --this._block;
this.ndBlock.active = this._block > 0;
} else cc.warn(" block input");
};
var o;
t.inst = null;
return o = a([ u ], t);
}(cc.Component));
o.default = p;
cc._RF.pop();
}, {
"../EXUIFrame/EXAdapterMgr": "EXAdapterMgr",
"../EXUIFrame/EXEventCenter": "EXEventCenter",
"../EXUIFrame/EXEventType": "EXEventType"
} ],
EXShaderOffset: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0af6eiHH8FO47ikADnOyLD/", "EXShaderOffset");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, r.executeInEditMode), l = r.requireComponent, d = r.disallowMultiple, h = r.menu, u = function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {};
t.prototype.changeFrame = function() {
this._updateframe();
};
t.prototype.onEnable = function() {
this._updateframe();
};
t.prototype._updateframe = function() {
var e = this.node.getComponent(cc.Sprite), t = e.spriteFrame, o = t.uv[0], i = t.uv[6], n = t.uv[3], a = t.uv[5], r = new cc.Vec4(o, a, i, n), s = t.isRotated() ? 1 : 0, c = e.getMaterials()[0];
c.effect.setProperty("u_uvOffset", r);
c.effect.setProperty("u_uvRotated", s);
};
return a([ s, d(), h("/SharderOffset"), c, l(cc.RenderComponent) ], t);
}(cc.Component);
o.default = u;
cc._RF.pop();
}, {} ],
EXSoundMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4d90dryUDxCeYfcLK6SRagq", "EXSoundMgr");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../GameFireData/GameAllConst"), l = e("./EXCocosHelper"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.audioCache = cc.js.createMap();
t.currEffectId = -1;
t.currMusicId = -1;
t._language = "tw";
t._gender = "femaleVoice1/";
t.volume = new p();
return t;
}
o = t;
Object.defineProperty(t, "inst", {
get: function() {
null == this._inst && (this._inst = new o());
return this._inst;
},
enumerable: !1,
configurable: !0
});
t.prototype.setVoice = function(e) {
0 == e ? this._gender = "femaleVoice1/" : 1 == e ? this._gender = "maleVoice1/" : 2 == e && (this._gender = "maleVoice2/");
};
t.prototype.onLoad = function() {
var e = this.getVolumeToLocal();
if (e) this.volume = e; else {
this.volume.musicVolume = 1;
this.volume.effectVolume = 1;
}
this.setVolumeToLocal();
};
t.prototype.getVolume = function() {
return this.volume;
};
t.prototype.start = function() {};
t.prototype.setMusicVolume = function(e) {
e < 0 && (e = 0);
this.volume.musicVolume = e;
this.setVolumeToLocal();
};
t.prototype.setEffectVolume = function(e) {
e < 0 && (e = 0);
this.volume.effectVolume = e;
this.setVolumeToLocal();
};
t.prototype.playMusic = function(e, t, o) {
void 0 === t && (t = !0);
return r(this, void 0, void 0, function() {
var i;
return s(this, function(n) {
switch (n.label) {
case 0:
if (!e || "" === e) return [ 2 ];
e = (o = o || "sound/") + e;
if (this.audioCache[e]) {
cc.audioEngine.playMusic(this.audioCache[e], t);
return [ 2 ];
}
return [ 4, l.default.loadResSync(e, cc.AudioClip) ];

case 1:
i = n.sent();
this.audioCache[e] = i;
this.currMusicId = cc.audioEngine.playMusic(i, t);
return [ 2 ];
}
});
});
};
t.prototype.playEffect = function(e, t, o) {
void 0 === t && (t = !1);
void 0 === o && (o = !1);
return r(this, void 0, void 0, function() {
return s(this, function() {
return [ 2 ];
});
});
};
t.prototype.playVoice = function(e, t) {
return r(this, void 0, void 0, function() {
var o, i, n;
return s(this, function(a) {
switch (a.label) {
case 0:
o = "femaleVoice1/";
0 == t ? o = "femaleVoice1/" : 1 == t ? o = "maleVoice1/" : 2 == t && (o = "maleVoice1/");
if (!e || "" === e) return [ 2 ];
i = "sound/" + this._language + "/" + o;
e = i + e;
return this.audioCache[e] ? [ 2 ] : [ 4, l.default.loadResSync(e, cc.AudioClip) ];

case 1:
n = a.sent();
this.audioCache[e] = n;
return [ 2 ];
}
});
});
};
t.prototype.getVolumeToLocal = function() {
var e = cc.sys.localStorage.getItem("Volume_For_Creator");
return e ? JSON.parse(e) : null;
};
t.prototype.setVolumeToLocal = function() {
cc.audioEngine.setMusicVolume(this.volume.musicVolume);
cc.audioEngine.setEffectsVolume(this.volume.effectVolume);
cc.sys.localStorage.setItem("Volume_For_Creator", JSON.stringify(this.volume));
};
t.prototype.setEffectActive = function(e, t) {
void 0 === t && (t = -1);
e ? cc.audioEngine.stop(t < 0 ? this.currEffectId : t) : cc.audioEngine.resume(t < 0 ? this.currEffectId : t);
};
t.prototype.playBet = function() {};
t.prototype.playerPoint = function() {};
t.prototype.bankerPoint = function() {};
t.prototype.clickBetBtn = function() {};
t.prototype.hallPlayMusic = function() {};
t.prototype.enterRoom = function() {};
t.prototype.stopPlayMusic = function() {
cc.audioEngine.stopMusic();
};
t.prototype.stopPlayEffect = function() {
cc.audioEngine.stopEffect(this.currEffectId);
};
Object.defineProperty(t.prototype, "language", {
set: function(e) {
e == c.sandVoice.cn ? this._language = "cn" : e == c.sandVoice.hk ? this._language = "tw" : e == c.sandVoice.th ? this._language = "th" : e == c.sandVoice.jp ? this._language = "jp" : this._language = "en";
},
enumerable: !1,
configurable: !0
});
var o;
t._inst = null;
return o = a([ h ], t);
}(cc.Component));
o.default = u;
var p = function() {};
cc._RF.pop();
}, {
"../GameFireData/GameAllConst": "GameAllConst",
"./EXCocosHelper": "EXCocosHelper"
} ],
EXSysDefine: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "06caeszdUNCmK/wB76NLn5v", "EXSysDefine");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.EXSysDefine = o.UIState = o.ModalOpacity = o.FormType = void 0;
(function(e) {
e[e.Screen = 0] = "Screen";
e[e.FixedUI = 1] = "FixedUI";
e[e.PopUp = 2] = "PopUp";
e[e.TopTips = 3] = "TopTips";
})(o.FormType || (o.FormType = {}));
(function(e) {
e[e.None = 0] = "None";
e[e.OpacityZero = 1] = "OpacityZero";
e[e.OpacityLow = 2] = "OpacityLow";
e[e.OpacityHalf = 3] = "OpacityHalf";
e[e.OpacityHigh = 4] = "OpacityHigh";
e[e.OpacityFull = 5] = "OpacityFull";
})(o.ModalOpacity || (o.ModalOpacity = {}));
(function(e) {
e[e.None = 0] = "None";
e[e.Loading = 1] = "Loading";
e[e.Showing = 2] = "Showing";
e[e.Hiding = 3] = "Hiding";
})(o.UIState || (o.UIState = {}));
var i = function() {
function e() {}
e.SYS_PATH_CANVAS = "Canvas";
e.SYS_PATH_UIFORMS_CONFIG_INFO = "UIFormsConfigInfo";
e.SYS_PATH_CONFIG_INFO = "SysConfigInfo";
e.SYS_UIROOT_NAME = "Canvas/Scene/UIROOT";
e.SYS_UIMODAL_NAME = "Canvas/Scene/UIROOT/UIModalManager";
e.SYS_UIAdapter_NAME = "Canvas/Scene/UIROOT/UIAdapterManager";
e.SYS_SCENE_NODE = "Scene";
e.SYS_UIROOT_NODE = "UIROOT";
e.SYS_SCREEN_NODE = "Screen";
e.SYS_FIXEDUI_NODE = "FixedUI";
e.SYS_POPUP_NODE = "PopUp";
e.SYS_TOPTIPS_NODE = "TopTips";
e.SYS_STANDARD_Prefix = "_";
e.SYS_STANDARD_Separator = "$";
e.SYS_STANDARD_End = "#";
e.UI_PATH_ROOT = "UIForms/";
e.SeparatorMap = {
_Node: "cc.Node",
_Label: "cc.Label",
_Button: "cc.Button",
_Sprite: "cc.Sprite",
_RichText: "cc.RichText",
_Mask: "cc.Mask",
_MotionStreak: "cc.MotionStreak",
_TiledMap: "cc.TiledMap",
_TiledTile: "cc.TiledTile",
_Spine: "sp.Skeleton",
_Graphics: "cc.Graphics",
_Animation: "cc.Animation",
_WebView: "cc.WebView",
_EditBox: "cc.EditBox",
_ScrollView: "cc.ScrollView",
_VideoPlayer: "cc.VideoPlayer",
_ProgressBar: "cc.ProgressBar",
_PageView: "cc.PageView",
_Slider: "cc.Slider",
_Toggle: "cc.Toggle",
_ButtonPlus: "ButtonPlus"
};
return e;
}();
o.EXSysDefine = i;
cc._RF.pop();
}, {} ],
EXTaskMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f2aeeu0bOVOBp+VTS6d8tSA", "EXTaskMgr");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.Command = o.CommandType = void 0;
var i = e("../PoolTools/MyTools/GameQueue");
o.CommandType || (o.CommandType = {});
o.Command = function() {};
var n = function() {
function e() {
this._cmdMap = cc.js.createMap();
this._debugHistory = [];
this._debug = !1;
}
Object.defineProperty(e, "inst", {
get: function() {
this._instance || (this._instance = new e());
return this._instance;
},
enumerable: !1,
configurable: !0
});
e.prototype.setDebug = function(e) {
void 0 === e && (e = !0);
this._debug = e;
};
e.prototype.pushCommand = function(e, t, o) {
void 0 === o && (o = 0);
this._debug && this._debugHistory.push(t);
var n = this._cmdMap[e];
n || (n = this._cmdMap[e] = new i.default());
n.enqueue(t, o);
};
e.prototype.popCommand = function(e) {
var t = this._cmdMap[e];
return t ? t.dequeue() : null;
};
e.prototype.hasCommand = function(e, t) {
if (t) return this._cmdMap[t].hasElement(e);
for (var o in this._cmdMap) if (this._cmdMap[o].hasElement(e)) return !0;
return !1;
};
e._instance = null;
return e;
}();
o.default = n;
cc._RF.pop();
}, {
"../PoolTools/MyTools/GameQueue": "GameQueue"
} ],
EXTipsMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "6881c1bEM1JZ6g3BVyBnCmt", "EXTipsMgr");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, n = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
}, r = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var i = Array(e), n = 0;
for (t = 0; t < o; t++) for (var a = arguments[t], r = 0, s = a.length; r < s; r++, 
n++) i[n] = a[r];
return i;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("./EXUIManager"), c = cc._decorator, l = c.ccclass, d = (c.property, function() {
function e() {}
t = e;
Object.defineProperty(e, "inst", {
get: function() {
null == this._instance && (this._instance = new t());
return this._instance;
},
enumerable: !1,
configurable: !0
});
e.prototype.setLoadingForm = function(e) {
this.loadingFormName = e;
};
e.prototype.showLoadingForm = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
return n(this, void 0, void 0, function() {
var t;
return a(this, function(o) {
switch (o.label) {
case 0:
if (!this.loadingFormName || this.loadingFormName.length <= 0) {
cc.warn("loading form");
return [ 2 ];
}
return [ 4, (t = s.default.getInstance()).openUIForm.apply(t, r([ this.loadingFormName ], e)) ];

case 1:
o.sent();
return [ 2 ];
}
});
});
};
e.prototype.hideLoadingForm = function() {
return n(this, void 0, void 0, function() {
return a(this, function(e) {
switch (e.label) {
case 0:
return [ 4, s.default.getInstance().closeUIForm(this.loadingFormName) ];

case 1:
e.sent();
return [ 2 ];
}
});
});
};
e.prototype.setTipsForm = function(e) {
this.tipsFormName = e;
};
var t;
e._instance = null;
return t = i([ l ], e);
}());
o.default = d;
cc._RF.pop();
}, {
"./EXUIManager": "EXUIManager"
} ],
EXUIBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c17268QLkBAja/V9abbH0O+", "EXUIBase");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
}, c = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var i = Array(e), n = 0;
for (t = 0; t < o; t++) for (var a = arguments[t], r = 0, s = a.length; r < s; r++, 
n++) i[n] = a[r];
return i;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var l = e("./EXCocosHelper"), d = e("./EXUIManager"), h = e("./config/EXSysDefine"), u = e("./EXFrameType"), p = e("./EXAdapterMgr"), f = e("./EXTipsMgr"), m = e("../PublicTools/GameEvents"), g = e("../GameCommon/NVSGameUtil"), y = e("./EXSoundMgr"), _ = e("../GameFireData/GameAdapter"), C = cc._decorator, b = C.ccclass, v = (C.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.formType = 0;
t.maskType = new u.EXMaskType();
t.canDestory = !1;
t._inited = !1;
t.needAnimation = !0;
t.model = null;
t._blocker = null;
return t;
}
Object.defineProperty(t, "prefabPath", {
get: function() {
if (!this._prefabPath || this._prefabPath.length <= 0) {
this._prefabPath = h.EXSysDefine.UI_PATH_ROOT + l.default.getComponentName(this);
console.log("component name:", l.default.getComponentName(this));
}
return this._prefabPath;
},
set: function(e) {
this._prefabPath = e;
},
enumerable: !1,
configurable: !0
});
t.openView = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
return r(this, void 0, Promise, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
return [ 4, (t = d.default.getInstance()).openUIForm.apply(t, c([ this.prefabPath ], e)) ];

case 1:
return [ 2, o.sent() ];
}
});
});
};
t.openViewWithLoading = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
return r(this, void 0, Promise, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
return [ 4, f.default.inst.showLoadingForm(this.prefabPath) ];

case 1:
o.sent();
return [ 4, this.openView.apply(this, e) ];

case 2:
t = o.sent();
return [ 4, f.default.inst.hideLoadingForm() ];

case 3:
o.sent();
return [ 2, t ];
}
});
});
};
t.closeView = function() {
return r(this, void 0, Promise, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
return [ 4, d.default.getInstance().closeUIForm(this.prefabPath) ];

case 1:
return [ 2, e.sent() ];
}
});
});
};
t.prototype._preInit = function() {
return r(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
if (this._inited) return [ 2 ];
this._inited = !0;
this.view = this.getComponent(this.node.name + "_Auto");
autorun(this.refreshView.bind(this));
return [ 4, this.load() ];

case 1:
e.sent();
this.onInit();
return [ 2 ];
}
});
});
};
t.prototype.refreshView = function() {};
t.prototype.load = function() {
return r(this, void 0, void 0, function() {
return s(this, function() {
return [ 2 ];
});
});
};
t.prototype.onInit = function() {};
t.prototype.onShow = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
};
t.prototype.onHide = function() {
m.MyEvent.getInstance().removeByNode(this._typeName);
y.default.inst.playEffect("new_res_closeSound");
};
t.prototype.waitPromise = function() {
var e = this;
return new Promise(function(t) {
e._cb = function(e) {
t(e);
};
});
};
t.prototype.showUIForm = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return r(this, void 0, Promise, function() {
return s(this, function(o) {
switch (o.label) {
case 0:
return [ 4, d.default.getInstance().openUIForm(e, t) ];

case 1:
return [ 2, o.sent() ];
}
});
});
};
t.prototype.closeUIForm = function() {
return r(this, void 0, Promise, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
return [ 4, d.default.getInstance().closeUIForm(this.uid) ];

case 1:
return [ 2, e.sent() ];
}
});
});
};
t.prototype.showAnimation = function() {
return r(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
if (this.formType !== h.FormType.PopUp) return [ 3, 2 ];
if (!this.needAnimation) return [ 3, 2 ];
this.node.scale = 0;
return [ 4, l.default.runTweenSync(this.node, cc.tween().to(.3, {
scale: 1
}, cc.easeBackOut())) ];

case 1:
e.sent();
return [ 3, 2 ];

case 2:
return [ 2 ];
}
});
});
};
t.prototype.hideAnimation = function() {
return r(this, void 0, void 0, function() {
return s(this, function() {
return [ 2 ];
});
});
};
t.prototype.setBlockInput = function(e) {
if (!this._blocker) {
var t = new cc.Node("block_input_events");
this._blocker = t.addComponent(cc.BlockInputEvents);
this._blocker.node.setContentSize(p.default.inst.visibleSize);
this.node.addChild(this._blocker.node, cc.macro.MAX_ZINDEX);
}
this._blocker.node.active = e;
};
t.prototype.register = function(e, t) {
this._typeName = e;
for (var o = 0; o < t.length; o++) {
var i = t[o];
m.MyEvent.getInstance().on(i, this.handleAppEvent.bind(this), e);
}
};
t.prototype.handleAppEvent = function(e) {
console.log(e, "");
};
t.prototype.showLoading = function(e, t) {
if (!g.default.isnull(this._loading)) {
this._loading = new cc.Node();
this.node.addChild(this._loading);
this._loading.addComponent(cc.Sprite);
g.default.loadSpriteFrame(this._loading, "launchPage/LOADING");
}
this._loading.active = !0;
this._loading.stopAllActions();
this._loading.setPosition(e || 0, t || 0);
cc.tween(this._loading).repeatForever(cc.tween().by(3, {
angle: -360
})).start();
};
t.prototype.hideLoading = function() {
if (g.default.isnull(this._loading)) {
this._loading.active = !1;
this._loading.stopAllActions();
this.unscheduleAllCallbacks();
}
};
t.prototype.setIpadFull = function() {
if (_.default.getInstance().screenType == _.screenTypeEnum.isIpad) {
this.node.getChildByName("dialog") && (this.node.getChildByName("dialog").width = cc.winSize.width);
this.node.getChildByName("bg") && (this.node.getChildByName("bg").width = cc.winSize.width);
}
};
t._prefabPath = "";
a([ observable ], t.prototype, "model", void 0);
return a([ b ], t);
}(cc.Component));
o.default = v;
cc._RF.pop();
}, {
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../GameFireData/GameAdapter": "GameAdapter",
"../PublicTools/GameEvents": "GameEvents",
"./EXAdapterMgr": "EXAdapterMgr",
"./EXCocosHelper": "EXCocosHelper",
"./EXFrameType": "EXFrameType",
"./EXSoundMgr": "EXSoundMgr",
"./EXTipsMgr": "EXTipsMgr",
"./EXUIManager": "EXUIManager",
"./config/EXSysDefine": "EXSysDefine"
} ],
EXUIManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c20510F8MRHMpHjFcXHgBeS", "EXUIManager");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
}, c = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var i = Array(e), n = 0;
for (t = 0; t < o; t++) for (var a = arguments[t], r = 0, s = a.length; r < s; r++, 
n++) i[n] = a[r];
return i;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var l = e("./EXUIBase"), d = e("./config/EXSysDefine"), h = e("./EXResMgrs"), u = e("./EXModalMgr"), p = e("./EXAdapterMgr"), f = e("../GameLayers/EXScene"), m = cc._decorator, g = m.ccclass, y = (m.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._NoNormal = null;
t._NoFixed = null;
t._NoPopUp = null;
t._NoTips = null;
t._StaCurrentUIForms = [];
t._MapAllUIForms = cc.js.createMap();
t._MapCurrentShowUIForms = cc.js.createMap();
t._MapIndependentForms = cc.js.createMap();
t._LoadingForm = cc.js.createMap();
t._currWindowId = "";
t._currScreenId = "";
return t;
}
o = t;
Object.defineProperty(t.prototype, "currWindowId", {
get: function() {
return this._currWindowId;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "currScreenId", {
get: function() {
return this._currScreenId;
},
enumerable: !1,
configurable: !0
});
t.getInstance = function() {
var e = this;
if (null == this.instance) {
var t = cc.director.getScene().getChildByName("Canvas"), o = t.getChildByName(d.EXSysDefine.SYS_SCENE_NODE);
if (!o) {
(o = new cc.Node(d.EXSysDefine.SYS_SCENE_NODE)).addComponent(f.default);
o.parent = t;
o.zIndex = 399;
}
var i = new cc.Node(d.EXSysDefine.SYS_UIROOT_NODE);
o.addChild(i);
i.addChild(new cc.Node(d.EXSysDefine.SYS_SCREEN_NODE));
i.addChild(new cc.Node(d.EXSysDefine.SYS_FIXEDUI_NODE));
i.addChild(new cc.Node(d.EXSysDefine.SYS_POPUP_NODE));
i.addChild(new cc.Node(d.EXSysDefine.SYS_TOPTIPS_NODE));
console.log(cc.director.getScene());
this.instance = cc.find(d.EXSysDefine.SYS_UIROOT_NAME).addComponent(this);
cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH, function() {
e.instance = null;
});
}
return this.instance;
};
t.prototype.onLoad = function() {
this._NoNormal = this.node.getChildByName(d.EXSysDefine.SYS_SCREEN_NODE);
this._NoFixed = this.node.getChildByName(d.EXSysDefine.SYS_FIXEDUI_NODE);
this._NoPopUp = this.node.getChildByName(d.EXSysDefine.SYS_POPUP_NODE);
this._NoTips = this.node.getChildByName(d.EXSysDefine.SYS_TOPTIPS_NODE);
};
t.prototype.start = function() {};
t.prototype.getComponentByUid = function(e) {
return this._MapAllUIForms[e];
};
t.prototype.loadUIForms = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
return r(this, void 0, void 0, function() {
var t, o, i, n;
return s(this, function(a) {
switch (a.label) {
case 0:
t = 0, o = e;
a.label = 1;

case 1:
if (!(t < o.length)) return [ 3, 4 ];
i = o[t];
return [ 4, this.loadFormsToAllUIFormsCatch(i.prefabPath) ];

case 2:
(n = a.sent()) || console.warn(n + "");
a.label = 3;

case 3:
t++;
return [ 3, 1 ];

case 4:
return [ 2 ];
}
});
});
};
t.prototype.openUIForm = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return r(this, void 0, void 0, function() {
var o;
return s(this, function(i) {
switch (i.label) {
case 0:
if ("" === e || null == e) return [ 2 ];
if (this.checkUIFormIsShowing(e) || this.checkUIFormIsLoading(e)) {
cc.warn(e + ",!");
return [ 2, null ];
}
return [ 4, this.loadFormsToAllUIFormsCatch(e) ];

case 1:
if (null == (o = i.sent())) {
cc.warn(e + "!");
return [ 2, null ];
}
o.uid = e;
switch (o.formType) {
case d.FormType.Screen:
return [ 3, 2 ];

case d.FormType.FixedUI:
return [ 3, 4 ];

case d.FormType.PopUp:
return [ 3, 6 ];

case d.FormType.TopTips:
return [ 3, 8 ];
}
return [ 3, 10 ];

case 2:
return [ 4, this.enterUIFormsAndHideOther.apply(this, c([ e ], t)) ];

case 3:
i.sent();
return [ 3, 10 ];

case 4:
return [ 4, this.loadUIToCurrentCache.apply(this, c([ e ], t)) ];

case 5:
i.sent();
return [ 3, 10 ];

case 6:
return [ 4, this.pushUIFormToStack.apply(this, c([ e ], t)) ];

case 7:
i.sent();
return [ 3, 10 ];

case 8:
return [ 4, this.loadUIFormsToIndependent.apply(this, c([ e ], t)) ];

case 9:
i.sent();
return [ 3, 10 ];

case 10:
return [ 2, o ];
}
});
});
};
t.prototype.isUIFormShow = function(e) {
return !(!this.checkUIFormIsShowing(e) && !this.checkUIFormIsLoading(e));
};
t.prototype.openUIFormFromParent = function(e, t) {
for (var o = [], i = 2; i < arguments.length; i++) o[i - 2] = arguments[i];
return r(this, void 0, void 0, function() {
var i;
return s(this, function(n) {
switch (n.label) {
case 0:
if ("" === e || null == e) return [ 2 ];
if (this.checkUIFormIsShowing(e) || this.checkUIFormIsLoading(e)) {
cc.warn(e + ",!");
return [ 2, null ];
}
return [ 4, this.loadFormsToAllUIFormsCatch(e, t) ];

case 1:
if (null == (i = n.sent())) {
cc.warn(e + "!");
return [ 2, null ];
}
i.uid = e;
switch (i.formType) {
case d.FormType.Screen:
return [ 3, 2 ];

case d.FormType.FixedUI:
return [ 3, 4 ];

case d.FormType.PopUp:
return [ 3, 6 ];

case d.FormType.TopTips:
return [ 3, 8 ];
}
return [ 3, 10 ];

case 2:
return [ 4, this.enterUIFormsAndHideOther.apply(this, c([ e ], o)) ];

case 3:
n.sent();
return [ 3, 10 ];

case 4:
return [ 4, this.loadUIToCurrentCache.apply(this, c([ e ], o)) ];

case 5:
n.sent();
return [ 3, 10 ];

case 6:
return [ 4, this.pushUIFormToStack.apply(this, c([ e ], o)) ];

case 7:
n.sent();
return [ 3, 10 ];

case 8:
return [ 4, this.loadUIFormsToIndependent.apply(this, c([ e ], o)) ];

case 9:
n.sent();
return [ 3, 10 ];

case 10:
return [ 2, i ];
}
});
});
};
t.prototype.closeUIForm = function(e) {
return r(this, void 0, void 0, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
if ("" == e || null == e) return [ 2 ];
if (null == (t = this._MapAllUIForms[e])) return [ 2, !0 ];
switch (t.formType) {
case d.FormType.Screen:
return [ 3, 1 ];

case d.FormType.FixedUI:
return [ 3, 3 ];

case d.FormType.PopUp:
return [ 3, 5 ];

case d.FormType.TopTips:
return [ 3, 7 ];
}
return [ 3, 9 ];

case 1:
return [ 4, this.exitUIFormsAndDisplayOther(e) ];

case 2:
o.sent();
return [ 3, 9 ];

case 3:
return [ 4, this.exitUIForms(e) ];

case 4:
o.sent();
return [ 3, 9 ];

case 5:
return [ 4, this.popUIForm() ];

case 6:
o.sent();
return [ 3, 9 ];

case 7:
return [ 4, this.exitIndependentForms(e) ];

case 8:
o.sent();
return [ 3, 9 ];

case 9:
t.canDestory && this.destoryForm(t, e);
return [ 2, !0 ];
}
});
});
};
t.prototype.loadFormsToAllUIFormsCatch = function(e, t) {
return r(this, void 0, void 0, function() {
var o;
return s(this, function(i) {
switch (i.label) {
case 0:
if (null != (o = this._MapAllUIForms[e]) || this._LoadingForm[e]) return [ 3, 2 ];
this._LoadingForm[e] = !0;
return [ 4, this.loadUIForm(e, t) ];

case 1:
o = i.sent();
this._LoadingForm[e] = !1;
delete this._LoadingForm[e];
i.label = 2;

case 2:
return [ 2, o ];
}
});
});
};
t.prototype.loadUIForm = function(e, t) {
return r(this, void 0, void 0, function() {
var i, n, a, r;
return s(this, function(s) {
switch (s.label) {
case 0:
return "" == e || null == e ? [ 2 ] : [ 4, h.default.inst.loadForm(e) ];

case 1:
if (!(i = s.sent())) {
cc.warn(e + " , ");
return [ 2 ];
}
n = cc.instantiate(i);
if (null == (a = n.getComponent(l.default))) {
cc.warn(e + " UIBaseComponent");
return [ 2 ];
}
n.active = !1;
r = null;
if (t) r = t; else switch (a.formType) {
case d.FormType.Screen:
r = o.getInstance()._NoNormal;
break;

case d.FormType.FixedUI:
r = o.getInstance()._NoFixed;
break;

case d.FormType.PopUp:
r = o.getInstance()._NoPopUp;
break;

case d.FormType.TopTips:
r = o.getInstance()._NoTips;
}
r.addChild(n);
this._MapAllUIForms[e] = a;
return [ 2, a ];
}
});
});
};
t.prototype.clearStackArray = function() {
return r(this, void 0, void 0, function() {
var e, t;
return s(this, function(o) {
switch (o.label) {
case 0:
if (null == this._StaCurrentUIForms || this._StaCurrentUIForms.length <= 0) return [ 2 ];
e = 0, t = this._StaCurrentUIForms;
o.label = 1;

case 1:
return e < t.length ? [ 4, t[e].closeUIForm() ] : [ 3, 4 ];

case 2:
o.sent();
o.label = 3;

case 3:
e++;
return [ 3, 1 ];

case 4:
this._StaCurrentUIForms = [];
return [ 2 ];
}
});
});
};
t.prototype.closeTopStackUIForm = function() {
if (null != this._StaCurrentUIForms && this._StaCurrentUIForms.length >= 1) {
var e = this._StaCurrentUIForms[this._StaCurrentUIForms.length - 1];
e.maskType.clickMaskClose && e.closeUIForm();
}
};
t.prototype.loadUIToCurrentCache = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return r(this, void 0, void 0, function() {
var o;
return s(this, function(i) {
switch (i.label) {
case 0:
o = null;
return null != this._MapCurrentShowUIForms[e] ? [ 2 ] : null == (o = this._MapAllUIForms[e]) ? [ 3, 3 ] : [ 4, o._preInit() ];

case 1:
i.sent();
this._MapCurrentShowUIForms[e] = o;
o.onShow.apply(o, t);
return [ 4, this.showForm(o) ];

case 2:
i.sent();
i.label = 3;

case 3:
return [ 2 ];
}
});
});
};
t.prototype.pushUIFormToStack = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return r(this, void 0, void 0, function() {
var o;
return s(this, function(i) {
switch (i.label) {
case 0:
this._StaCurrentUIForms.length > 0 && this._StaCurrentUIForms[this._StaCurrentUIForms.length - 1];
return null == (o = this._MapAllUIForms[e]) ? [ 2 ] : [ 4, o._preInit() ];

case 1:
i.sent();
this._StaCurrentUIForms.push(o);
o.node.zIndex = this._StaCurrentUIForms.length;
o.onShow.apply(o, t);
this._currWindowId = o.uid;
u.default.inst.checkModalWindow(this._StaCurrentUIForms);
return [ 4, this.showForm(o) ];

case 2:
i.sent();
return [ 2 ];
}
});
});
};
t.prototype.enterUIFormsAndHideOther = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return r(this, void 0, void 0, function() {
var o, i, n, a, c, l = this;
return s(this, function(d) {
switch (d.label) {
case 0:
if (null != this._MapCurrentShowUIForms[e]) return [ 2 ];
o = [];
for (i in this._MapCurrentShowUIForms) o.push(i);
n = 0;
d.label = 1;

case 1:
if (!(n < o.length)) return [ 3, 4 ];
a = o[n];
return [ 4, this._MapCurrentShowUIForms[a].closeUIForm() ];

case 2:
d.sent();
d.label = 3;

case 3:
n++;
return [ 3, 1 ];

case 4:
this._StaCurrentUIForms.forEach(function(e) {
return r(l, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, e.closeUIForm() ];

case 1:
t.sent();
return [ 2 ];
}
});
});
});
if (null == (c = this._MapAllUIForms[e])) return [ 2 ];
p.default.inst.adapatByType(p.AdaptaterType.FullScreen, c.node);
return [ 4, c._preInit() ];

case 5:
d.sent();
this._MapCurrentShowUIForms[e] = c;
c.onShow.apply(c, t);
this._currScreenId = c.uid;
return [ 4, this.showForm(c) ];

case 6:
d.sent();
return [ 2 ];
}
});
});
};
t.prototype.loadUIFormsToIndependent = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return r(this, void 0, void 0, function() {
var o;
return s(this, function(i) {
switch (i.label) {
case 0:
return null == (o = this._MapAllUIForms[e]) ? [ 2 ] : [ 4, o._preInit() ];

case 1:
i.sent();
this._MapIndependentForms[e] = o;
o.onShow.apply(o, t);
return [ 4, this.showForm(o) ];

case 2:
i.sent();
return [ 2 ];
}
});
});
};
t.prototype.exitUIForms = function(e) {
return r(this, void 0, void 0, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
if (null == (t = this._MapAllUIForms[e])) return [ 2 ];
t.onHide();
return [ 4, this.hideForm(t) ];

case 1:
o.sent();
this._MapCurrentShowUIForms[e] = null;
delete this._MapCurrentShowUIForms[e];
return [ 2 ];
}
});
});
};
t.prototype.popUIForm = function() {
return r(this, void 0, void 0, function() {
var e;
return s(this, function(t) {
switch (t.label) {
case 0:
if (!(this._StaCurrentUIForms.length >= 1)) return [ 3, 2 ];
(e = this._StaCurrentUIForms.pop()).onHide();
u.default.inst.checkModalWindow(this._StaCurrentUIForms);
1 == this._StaCurrentUIForms.length && u.default.inst.hideUiModal();
return [ 4, this.hideForm(e) ];

case 1:
t.sent();
this._currWindowId = this._StaCurrentUIForms.length > 0 ? this._StaCurrentUIForms[this._StaCurrentUIForms.length - 1].uid : "";
t.label = 2;

case 2:
return [ 2 ];
}
});
});
};
t.prototype.exitUIFormsAndDisplayOther = function(e) {
return r(this, void 0, void 0, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
if ("" == e || null == e) return [ 2 ];
if (null == (t = this._MapCurrentShowUIForms[e])) return [ 2 ];
t.onHide();
return [ 4, this.hideForm(t) ];

case 1:
o.sent();
this._MapCurrentShowUIForms[e] = null;
delete this._MapCurrentShowUIForms[e];
return [ 2 ];
}
});
});
};
t.prototype.exitIndependentForms = function(e) {
return r(this, void 0, void 0, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
if (null == (t = this._MapAllUIForms[e])) return [ 2 ];
t.onHide();
return [ 4, this.hideForm(t) ];

case 1:
o.sent();
this._MapIndependentForms[e] = null;
delete this._MapIndependentForms[e];
return [ 2 ];
}
});
});
};
t.prototype.showForm = function(e) {
return r(this, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
e.node.active = !0;
return [ 4, e.showAnimation() ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
t.prototype.hideForm = function(e) {
return r(this, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, e.hideAnimation() ];

case 1:
t.sent();
e.node.active = !1;
return [ 2 ];
}
});
});
};
t.prototype.destoryForm = function(e, t) {
h.default.inst.destoryForm(e);
this._MapAllUIForms[t] = null;
delete this._MapAllUIForms[t];
};
t.prototype.checkUIFormIsShowing = function(e) {
var t = this._MapAllUIForms[e];
return null != t && t.node.active;
};
t.prototype.checkUIFormIsLoading = function(e) {
return !!this._LoadingForm[e];
};
var o;
t.instance = null;
return o = a([ g ], t);
}(cc.Component));
o.default = y;
cc._RF.pop();
}, {
"../GameLayers/EXScene": "EXScene",
"./EXAdapterMgr": "EXAdapterMgr",
"./EXModalMgr": "EXModalMgr",
"./EXResMgrs": "EXResMgrs",
"./EXUIBase": "EXUIBase",
"./config/EXSysDefine": "EXSysDefine"
} ],
EXUIModalScript: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8d619fNTn9GRJb2MZFfd6lZ", "EXUIModalScript");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("./EXUIManager"), l = e("./config/EXSysDefine"), d = e("./EXCocosHelper"), h = e("../GameCommon/SpriteLoad"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._texture = null;
return t;
}
t.prototype.init = function() {
var e = cc.view.getVisibleSize();
this.node.height = e.height;
this.node.width = e.width;
var t = this.node.addComponent(cc.Sprite);
t.sizeMode = cc.Sprite.SizeMode.CUSTOM;
t.spriteFrame = h.SPCache.dialogModal;
this.node.opacity = 0;
this.node.active = !0;
};
t.prototype.showModal = function(e, t, o) {
void 0 === t && (t = .6);
void 0 === o && (o = !0);
return r(this, void 0, void 0, function() {
var i;
return s(this, function(n) {
switch (n.label) {
case 0:
i = 0;
switch (e) {
case l.ModalOpacity.None:
this.node.active = !1;
break;

case l.ModalOpacity.OpacityZero:
i = 0;
break;

case l.ModalOpacity.OpacityLow:
i = 63;
break;

case l.ModalOpacity.OpacityHalf:
i = 126;
break;

case l.ModalOpacity.OpacityHigh:
i = 189;
break;

case l.ModalOpacity.OpacityFull:
i = 255;
}
return this.node.active ? o ? [ 4, d.default.runTweenSync(this.node, cc.tween().to(t, {
opacity: i
})) ] : [ 3, 2 ] : [ 2 ];

case 1:
n.sent();
return [ 3, 3 ];

case 2:
this.node.opacity = i;
n.label = 3;

case 3:
return [ 2 ];
}
});
});
};
t.prototype.clickMaskWindow = function() {
return r(this, void 0, void 0, function() {
var e;
return s(this, function(t) {
switch (t.label) {
case 0:
return (e = c.default.getInstance().getComponentByUid(this.uid)) && e.maskType.clickMaskClose ? [ 4, c.default.getInstance().closeUIForm(this.uid) ] : [ 3, 2 ];

case 1:
t.sent();
t.label = 2;

case 2:
return [ 2 ];
}
});
});
};
return a([ p ], t);
}(cc.Component));
o.default = f;
cc._RF.pop();
}, {
"../GameCommon/SpriteLoad": "SpriteLoad",
"./EXCocosHelper": "EXCocosHelper",
"./EXUIManager": "EXUIManager",
"./config/EXSysDefine": "EXSysDefine"
} ],
EffectReward: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d4a70LxSMJCqpS0JHOwtPbx", "EffectReward");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.effectType = void 0;
var r, s = e("../Components/DialogBase"), c = e("../Conf/Const"), l = e("../Data/LanguageData"), d = e("../Util/GameUtil"), h = cc._decorator, u = h.ccclass;
h.property;
(function(e) {
e[e.bankruptcy = 0] = "bankruptcy";
})(r = o.effectType || (o.effectType = {}));
var p = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.needAnimation = !1;
return t;
}
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
var t = this.node.getChildByName("bg"), o = t.getChildByName("btnClose"), i = t.getChildByName("btnOpen");
this._btnList = [ i, o ];
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.register("EffectReward", [ "" ]);
cc.tween(this.node.getChildByName("bg").getChildByName("light")).repeatForever(cc.tween().by(20, {
angle: -360
})).start();
for (var t = this.node.getChildByName("bg").getChildByName("starsNode"), o = function(e) {
var o = t.getChildByName("stars" + e), i = 8 * Math.random(), n = 3 * Math.random() / 6, a = 5 * Math.random() / 10, r = 5 * Math.random() / 10;
cc.tween(o).repeatForever(cc.tween().delay(1 + i).call(function() {
o.angle = 0;
}).to(.3 + a, {
opacity: 0
}).delay(n).to(.3 + r, {
opacity: 255,
angle: -45
})).start();
}, i = 1; i < 9; i++) o(i);
if (this._data && this._data.awardType == r.bankruptcy) {
this.node.getChildByName("bg").getChildByName("gift").active = !1;
this.node.getChildByName("bg").getChildByName("light").active = !1;
this.node.getChildByName("bg").getChildByName("starsNode").active = !1;
this.node.getChildByName("bg").getChildByName("labelTitle").getComponent(cc.Label).string = l.default.ins.STRING_DIALOG("bankruptcy");
var n = this.node.getChildByName("bg").getChildByName("descTitle");
n.active = !0;
n.getComponent(cc.Label).string = l.default.ins.STRING_DIALOG("goodLuck");
var a = this.node.getChildByName("bg").getChildByName("labelCoinCount");
a.active = !0;
a.getComponent(cc.Label).string = this._data.info[0].value;
this.node.getChildByName("bg").getChildByName("btnOpen").getChildByName("Label").getComponent(cc.Label).string = l.default.ins.STRING_DIALOG("enter");
}
};
t.prototype.onBtnClick = function(t) {
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "btnOpen":
this._onGetReward();
break;

case "btnClose":
this.onClose();
}
};
t.prototype._onGetReward = function() {
if (this._data.awardType == r.bankruptcy) {
d.default.awardAnimation(c.MoneyType.coin);
this.onClose();
}
};
t.prototype.handleAppEvent = function(e) {
e.arg;
e.key;
};
t.prototype.onClose = function() {
e.prototype.onClose.call(this);
};
return a([ u ], t);
}(s.default);
o.default = p;
cc._RF.pop();
}, {
"../Components/DialogBase": "DialogBase",
"../Conf/Const": "Const",
"../Data/LanguageData": "LanguageData",
"../Util/GameUtil": "GameUtil"
} ],
EjimoList: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "521fe14c9FL0LA1D07b11K4", "EjimoList");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../Components/MyEvent"), s = e("../../Data/GameData"), c = e("../../Data/LanguageData"), l = e("../../UIFrame/List"), d = e("../../Util/GameUtil"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._ejimoData = [];
t._originalEjimoData = [];
t._tempEjimoData = [];
t._order = [ 4, 1, 17, 11, 10, 19, 22, 20, 14, 12, 7, 5, 2, 6, 3, 9, 18, 23, 16, 15, 8, 13, 21, 24 ];
return t;
}
t.prototype.onLoad = function() {
this.setLabelString();
};
t.prototype.creatorEjimoItem = function(e, t) {
var o = this, i = this._ejimoData[t], n = e.getChildByName("icon"), a = e.getChildByName("label");
n.active = !1;
a.active = !1;
if (i.str) {
a.active = !0;
a.getComponent(cc.Label).string = i.str;
} else cc.loader.loadRes(i.name, cc.SpriteFrame, function(e, t) {
n.getComponent(cc.Sprite).spriteFrame = t;
n.scale = 140 / n.width;
n.active = !0;
}.bind(this));
n.off("click");
n.on("click", function() {
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
o._sendEjimo(i);
});
if (i.str) {
e.width = 350;
e.height = 57;
a.x = -175;
} else {
e.width = 114;
e.height = 114;
}
};
t.prototype._sendEjimo = function(e) {
var t = -1;
this._tempEjimoData.forEach(function(o, i) {
o.id == e.id && (t = i);
});
t > -1 ? this._tempEjimoData.splice(t, 1) : this._tempEjimoData.length >= 6 && this._tempEjimoData.pop();
this._tempEjimoData.unshift(e);
this._changeData();
r.MyEvent.getInstance().emit("EVENT_SEND_EJIMI", e);
this._closeCallBack();
};
t.prototype._changeData = function() {
if (!(this._tempEjimoData.length <= 0)) {
this._ejimoData = [];
this._ejimoData.push({
str: c.default.ins.STRING_ROOM("recentUse")
});
this._ejimoData = this._ejimoData.concat(this._tempEjimoData);
this._ejimoData = this._ejimoData.concat(this._originalEjimoData);
this._ejimoList.numItems = this._ejimoData.length;
d.default.saceJsonData(s.default.storageData.recentUseEjimo, this._tempEjimoData);
}
};
t.prototype.setCloseHandle = function(e) {
this._closeCallBack = e;
};
t.prototype.setLabelString = function() {
this._ejimoData = [];
this._originalEjimoData = [];
for (var e = 1; e <= 45; e++) {
var t = {
id: e,
name: "new_ejimo/ejimo_" + e
};
this._originalEjimoData.push(t);
}
this._ejimoData = this._originalEjimoData;
this._ejimoData.unshift({
str: c.default.ins.STRING_ROOM("allEjimo")
});
this._ejimoList = this.node.getChildByName("scrollView").getComponent(l.default);
if (d.default.readData(s.default.storageData.recentUseEjimo)) {
this._tempEjimoData = JSON.parse(d.default.readData(s.default.storageData.recentUseEjimo));
this._changeData();
} else this._ejimoList.numItems = this._ejimoData.length;
};
return a([ u ], t);
}(cc.Component));
o.default = p;
cc._RF.pop();
}, {
"../../Components/MyEvent": "MyEvent",
"../../Data/GameData": "GameData",
"../../Data/LanguageData": "LanguageData",
"../../UIFrame/List": "List",
"../../Util/GameUtil": "GameUtil"
} ],
EmailData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f92baBzT+9KgqWROtsW3u6G", "EmailData");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function() {
function e() {
this._mailInfo = {};
this._hasNewMail = {};
}
e.getInstance = function() {
this.instance || (this.instance = new e());
return this.instance;
};
Object.defineProperty(e.prototype, "mailInfo", {
get: function() {
return this._mailInfo;
},
set: function(e) {
this._mailInfo = e;
for (var t = 0; t < this._mailInfo.length; t++) {
var o = this._mailInfo[t];
this._hasNewMail[o.type] = !1;
o.unreadCount > 0 && (this._hasNewMail[o.type] = !0);
}
},
enumerable: !1,
configurable: !0
});
e.prototype.addNewMail = function(e) {
var t = e.type;
this._hasNewMail[t] = !0;
};
e.prototype.clearAllUnreadMail = function() {
for (var e = 0; e < this._mailInfo.length; e++) this._mailInfo[e].unreadCount = 0;
this._hasNewMail = {};
};
e.prototype.clearUnreadMail = function(e) {
for (var t = 0; t < this._mailInfo.length; t++) {
var o = this._mailInfo[t];
o.type == e && (o.unreadCount = 0);
}
this._hasNewMail[e] = !1;
};
e.prototype.hasNewMail = function() {
return this._hasNewMail[3] || this._hasNewMail[2];
};
e.prototype.hasFriendNewMail = function() {
return this._hasNewMail[3];
};
e.prototype.hasSystemNewMail = function() {
return this._hasNewMail[2];
};
return e;
}();
o.default = i;
cc._RF.pop();
}, {} ],
EmailGameEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0747f5xJkdDHaW/tfyTIzU4", "EmailGameEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../data/EmailData"), s = e("../../../data/MyData"), c = e("../../../manager/DlgGameMgr"), l = e("../../../public/MyComponent/GameEvent"), d = e("../../../public/MyComponent/GameHppayUtil"), h = e("../../../public/MyComponent/ViewExecutorBase"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.updateMyInfoEx = function() {
d.default.changeLabelNum(this.node._labelMyChip, s.default.UserData.chip);
};
t.prototype.notifyReadStatusEx = function(e) {
if (3 == this.node._currSelectedMailType) {
for (var t = 0; t < this.node._friendMailListData.length; t++) if (this.node._friendMailListData[t].mailID == e) {
this.node._friendMailListData[t].status = 1;
break;
}
} else if (2 == this.node._currSelectedMailType) for (t = 0; t < this.node._systemMailListData.length; t++) if (this.node._systemMailListData[t].mailID == e) {
this.node._systemMailListData[t].status = 1;
break;
}
};
t.prototype.updateMailStatusEx = function() {
1 == r.default.getInstance().hasFriendNewMail() ? this.node._friendMailRedTips.active = !0 : this.node._friendMailRedTips.active = !1;
1 == r.default.getInstance().hasSystemNewMail() ? this.node._systemMailRedTips.active = !0 : this.node._systemMailRedTips.active = !1;
};
t.prototype.showRewardEx = function(e) {
c.default.inst.showDlg(c.DlgType.mailReward, e);
};
t.prototype.removeMailListItemEx = function(e) {
if (3 == this.node._currSelectedMailType) {
for (var t = 0; t < this.node._friendMailListData.length; t++) if (this.node._friendMailListData[t].mailID == e) {
this.node._friendMailListData.splice(t, 1);
break;
}
this.node._friendMailListAssistant.numItems = this.node._friendMailListData.length;
0 == this.node._friendMailListData.length && (this.node._noMailShow.active = !0);
} else if (2 == this.node._currSelectedMailType) {
for (t = 0; t < this.node._systemMailListData.length; t++) if (this.node._systemMailListData[t].mailID == e) {
this.node._systemMailListData.splice(t, 1);
break;
}
this.node._systemMailListAssistant.numItems = this.node._systemMailListData.length;
0 == this.node._systemMailListData.length && (this.node._noMailShow.active = !0);
}
};
t.prototype.updateMailListEx = function(e) {
this.node._rootNode.active = !0;
this.node.hideLoading();
var t = e.type;
r.default.getInstance().clearUnreadMail(t);
l.GameEvent.ins().emit("UPDATE_MAIL_STATUS");
if (t == this.node._currSelectedMailType) {
var o = e.list.length;
if (o > 0) {
this.node._noMailShow.active = !1;
if (3 == t) {
this.node._btnQuickDelete.active = !1;
this.node._labeQuickDelete.active = !1;
this.node._btnQuickReward.active = !1;
this.node._labeQuickReward.active = !1;
this.node._friendMailListData = e.list;
this.node._friendMailListData.sort(function(e, t) {
return t.time - e.time;
});
this.node._friendMailListAssistant.numItems = o;
} else {
if (this.node.isContainReward(e.list)) {
this.node._btnQuickDelete.active = !0;
this.node._labeQuickDelete.active = !0;
this.node._btnQuickReward.active = !0;
this.node._labeQuickReward.active = !0;
this.node._btnQuickDelete.x = 1750;
this.node._labeQuickDelete.x = 1750;
} else {
this.node._btnQuickDelete.active = !0;
this.node._labeQuickDelete.active = !0;
this.node._btnQuickReward.active = !1;
this.node._labeQuickReward.active = !1;
this.node._btnQuickDelete.x = 2080;
this.node._labeQuickDelete.x = 2080;
}
this.node._systemMailListData = e.list;
this.node._systemMailListData.sort(function(e, t) {
return t.time - e.time;
});
this.node._systemMailListAssistant.numItems = o;
}
} else {
this.node._btnQuickDelete.active = !1;
this.node._labeQuickDelete.active = !1;
this.node._btnQuickReward.active = !1;
this.node._labeQuickReward.active = !1;
1 == t ? this.node._friendMailListAssistant.numItems = 0 : this.node._systemMailListAssistant.numItems = 0;
this.node._noMailShow.active = !0;
}
e.isEnd;
}
this.node._btnQuickDelete.active = !1;
this.node._labeQuickDelete.active = !1;
this.node._btnQuickReward.active = !1;
this.node._labeQuickReward.active = !1;
};
return a([ p ], t);
}(h.default));
o.default = f;
cc._RF.pop();
}, {
"../../../data/EmailData": "EmailData",
"../../../data/MyData": "MyData",
"../../../manager/DlgGameMgr": "DlgGameMgr",
"../../../public/MyComponent/GameEvent": "GameEvent",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
EmailGame: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "92d85CkRPZFwITeYb7FNcKQ", "EmailGame");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../data/MyData"), s = e("../../../manager/DlgGameMgr"), c = e("../../../communication/SocketGameManager"), l = e("../../../public/ThirdParty/happyList"), d = e("./GameStmMailItem"), h = e("../../../public/MyComponent/GameHppayUtil"), u = e("../../../public/MyComponent/WindowBase"), p = e("../../../data/GameLangData"), f = e("./GameNoticeMailItem"), m = e("../../../manager/GameSoundMgr"), g = e("../../../data/conf/GameRes"), y = e("../../executor/email/EmailGameEx"), _ = cc._decorator, C = _.ccclass, b = (_.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._btnBack = null;
t._sideBar = null;
t._btnFriendMail = null;
t._btnSystemMail = null;
t._friendMailRedTips = null;
t._systemMailRedTips = null;
t._imageSideSelectedItem = null;
t._labelShadow = null;
t._labelCurrIndexDesc = null;
t._topBar = null;
t._labelMyChip = null;
t._friendMailNode = null;
t._friendMailList = null;
t._friendMailScrollView = null;
t._friendMailListAssistant = null;
t._friendMailListData = null;
t._btnQuickDelete = null;
t._labeQuickDelete = null;
t._btnQuickReward = null;
t._labeQuickReward = null;
t._noMailShow = null;
t._systemMailNode = null;
t._systemMailList = null;
t._systemMailScrollView = null;
t._systemMailListAssistant = null;
t._systemMailListData = null;
t._currSelectedMailType = 1;
t._rootNode = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new y.default();
this.exView.setProxy(this);
var e = this.node.getChildByName("dlgBg").getChildByName("bg");
this.setNodeFullScreen(e);
};
t.prototype.setView = function() {
this._rootNode = this.node.getChildByName("dlgBg");
this._sideBar = this._rootNode.getChildByName("leftChoose");
this._rootNode.getChildByName("btnBack").on("click", this.onClose, this);
this._btnQuickDelete = this._rootNode.getChildByName("btnQuickDelete");
this._labeQuickDelete = this._rootNode.getChildByName("labelQuickDelete");
this._labelShadow = this._sideBar.getChildByName("labelShadow");
this._labelShadow.active = !1;
this._btnQuickReward = this._rootNode.getChildByName("btnQuickReward");
this._labeQuickReward = this._rootNode.getChildByName("labelQuickReward");
this._noMailShow = this._rootNode.getChildByName("noFriend");
this._btnFriendMail = this._sideBar.getChildByName("btnNotice");
this._btnSystemMail = this._sideBar.getChildByName("btnLookOrFans");
this._friendMailRedTips = this._btnFriendMail.getChildByName("redTips");
this._systemMailRedTips = this._btnSystemMail.getChildByName("redTips");
this._imageSideSelectedItem = this._sideBar.getChildByName("sideSelectedItem");
this._topBar = this._rootNode.getChildByName("topBar");
this._topBar.getChildByName("btnOnline").on("click", this.onLine, this);
this._topBar.getChildByName("btnOnline").getChildByName("label").getComponent(cc.Label).string = p.default.ins.GET_DIALOG_LANG("customerService");
this._labelCurrIndexDesc = this._topBar.getChildByName("labelTitle").getComponent(cc.Label);
this._labelMyChip = this._topBar.getChildByName("chip").getChildByName("labelChip");
this._friendMailNode = this._rootNode.getChildByName("noticeNode");
this._friendMailList = this._friendMailNode.getChildByName("scrollViewNotice");
this._friendMailScrollView = this._friendMailList.getComponent(cc.ScrollView);
this._friendMailListAssistant = this._friendMailList.getComponent(l.default);
this._systemMailNode = this._rootNode.getChildByName("lookOrFansNode");
this._systemMailList = this._systemMailNode.getChildByName("scrollViewLookOrFans");
this._systemMailScrollView = this._systemMailList.getComponent(cc.ScrollView);
this._systemMailListAssistant = this._systemMailList.getComponent(l.default);
this._btnFriendMail.getChildByName("labelLookOrFans").getComponent(cc.Label).string = p.default.ins.GET_DIALOG_LANG("friendMail");
this._btnSystemMail.getChildByName("labelLookOrFans").getComponent(cc.Label).string = p.default.ins.GET_DIALOG_LANG("systemMail");
this._rootNode.getChildByName("labelQuickDelete").getComponent(cc.Label).string = p.default.ins.GET_DIALOG_LANG("quickDelete");
this._rootNode.getChildByName("labelQuickReward").getComponent(cc.Label).string = p.default.ins.GET_DIALOG_LANG("quickReceive");
this._btnList = [ this._btnQuickReward, this._btnQuickDelete, this._btnSystemMail, this._btnFriendMail ];
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.register("EmailGame", [ "MONEY_UPDATE_EVENT", "NOTIFY_READ_MAIL", "UPDATE_MAIL_STATUS", "REMOVE_READ_MAIL_ITEM", "GET_MAIL_LIST", "GET_ALL_MAIL_REWARD", "GET_MAIL_REWARD" ]);
this._noMailShow.active = !1;
this._btnQuickDelete.active = !1;
this._labeQuickDelete.active = !1;
this._btnQuickReward.active = !1;
this._labeQuickReward.active = !1;
this._initUserInfo(r.default.UserData.chip, r.default.UserData.point, r.default.UserData.coin);
h.default.loadSprAtlasFrame(this._topBar.getChildByName("chip").getChildByName("icon"), g.GameResInfo.CURRENCY_ROOT_DIR + g.GameResInfo.CURRENCY_ICON);
this._rootNode.active = !1;
this.showLoading();
this._onSystemMail();
this._updateMailStatus();
this._noMailShow.getChildByName("label").getComponent(cc.Label).string = p.default.ins.GET_DIALOG_LANG("noEmailTips");
};
t.prototype.onShow = function() {
this.needAnimation = !1;
};
t.prototype.onLine = function() {
m.default.inst.playGameEffect(m.AudioRes.click);
h.default.showFeedback();
};
t.prototype._updateMailStatus = function() {
this.exView.updateMailStatusEx();
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "GET_MAIL_LIST":
this._updateMailList(t);
break;

case "REMOVE_READ_MAIL_ITEM":
this._removeMailListItem(t);
break;

case "GET_ALL_MAIL_REWARD":
case "GET_MAIL_REWARD":
this._showReward(t);
break;

case "UPDATE_MAIL_STATUS":
this._updateMailStatus();
break;

case "NOTIFY_READ_MAIL":
this._notifyReadStatus(t);
break;

case "MONEY_UPDATE_EVENT":
this._updateMyInfo();
}
};
t.prototype._showReward = function(e) {
this.exView.showRewardEx(e);
};
t.prototype._notifyReadStatus = function(e) {
this.exView.notifyReadStatusEx(e);
};
t.prototype._removeMailListItem = function(e) {
this.exView.removeMailListItemEx(e);
};
t.prototype._updateMailList = function(e) {
this.exView.updateMailListEx(e);
};
t.prototype.onNoticeMailListVRender = function(e, t) {
e.getComponent(f.default).refresh(this._friendMailListData[t], t);
};
t.prototype.onSystemMailListVRender = function(e, t) {
e.getComponent(d.default).refresh(this._systemMailListData[t], t);
};
t.prototype.isContainReward = function(e) {
for (var t = 0; t < e.length; t++) if ("" != e[t].reward && 0 == e[t].isRewarded) return !0;
return !1;
};
t.prototype.isContainUnread = function(e) {
for (var t = 0; t < e.length; t++) if (0 == e[t].status) return !0;
return !1;
};
t.prototype.onBtnClick = function(t) {
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "btnNotice":
this._onFriendMail();
break;

case "btnLookOrFans":
this._onSystemMail();
break;

case "btnQuickDelete":
this._onQuickDelete();
break;

case "btnQuickReward":
this._onQuickReward();
}
};
t.prototype._initUserInfo = function(e) {
this._labelMyChip.getComponent(cc.Label).string = "" + h.default.cul(e.toFixed(2));
};
t.prototype._updateMyInfo = function() {
this.exView.updateMyInfoEx();
};
t.prototype._onQuickDelete = function() {
var e = this, t = !1;
3 == this._currSelectedMailType ? t = this.isContainUnread(this._friendMailListData) : 2 == this._currSelectedMailType && (t = this.isContainUnread(this._systemMailListData));
if (t) {
var o = {};
o.content = p.default.ins.GET_DIALOG_LANG("quickDeleteDesc");
o.okCallback = function() {
c.default.getInstance().socketSend.deletAllEmail(e._currSelectedMailType);
e.scheduleOnce(function() {
c.default.getInstance().socketSend.getEmailList(e._currSelectedMailType, 0, 250);
}, .5);
};
s.default.inst.showDlg(s.DlgType.confirmDialog, o);
} else {
c.default.getInstance().socketSend.deletAllEmail(this._currSelectedMailType);
this.scheduleOnce(function() {
c.default.getInstance().socketSend.getEmailList(e._currSelectedMailType, 0, 250);
}, .5);
}
};
t.prototype._onQuickReward = function() {
if (3 == this._currSelectedMailType) {
c.default.getInstance().socketSend.readAllEmail(1);
c.default.getInstance().socketSend.getAllEmailReward(1);
} else if (2 == this._currSelectedMailType) {
c.default.getInstance().socketSend.readAllEmail(2);
c.default.getInstance().socketSend.getAllEmailReward(2);
}
};
t.prototype._onFriendMail = function() {
this._currSelectedMailType = 3;
this._systemMailNode.active = !1;
this._friendMailNode.active = !0;
this._imageSideSelectedItem.y = this._btnFriendMail.y;
this._labelCurrIndexDesc.string = p.default.ins.GET_DIALOG_LANG("friendMail");
this._btnQuickDelete.active = !1;
this._labeQuickDelete.active = !1;
this._btnQuickReward.active = !1;
this._labeQuickReward.active = !1;
this._btnSystemMail.getChildByName("labelLookOrFans").color = cc.color(150, 183, 233, 255);
this._btnFriendMail.getChildByName("labelLookOrFans").color = cc.color(240, 241, 242, 255);
this._labelShadow.y = 898;
this._labelShadow.getComponent(cc.Label).string = p.default.ins.GET_DIALOG_LANG("friendMail");
c.default.getInstance().socketSend.getEmailList(3, 0, 250);
};
t.prototype._onSystemMail = function() {
this._currSelectedMailType = 2;
this._systemMailNode.active = !0;
this._friendMailNode.active = !1;
this._imageSideSelectedItem.y = this._btnSystemMail.y;
this._labelCurrIndexDesc.string = p.default.ins.GET_DIALOG_LANG("systemMail");
this._btnQuickDelete.active = !1;
this._labeQuickDelete.active = !1;
this._btnQuickReward.active = !1;
this._labeQuickReward.active = !1;
this._btnSystemMail.getChildByName("labelLookOrFans").color = cc.color(240, 241, 242, 255);
this._btnFriendMail.getChildByName("labelLookOrFans").color = cc.color(150, 183, 233, 255);
this._labelShadow.y = 758;
this._labelShadow.getComponent(cc.Label).string = p.default.ins.GET_DIALOG_LANG("systemMail");
c.default.getInstance().socketSend.getEmailList(2, 0, 250);
};
return a([ C ], t);
}(u.default));
o.default = b;
cc._RF.pop();
}, {
"../../../communication/SocketGameManager": "SocketGameManager",
"../../../data/GameLangData": "GameLangData",
"../../../data/MyData": "MyData",
"../../../data/conf/GameRes": "GameRes",
"../../../manager/DlgGameMgr": "DlgGameMgr",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../../public/ThirdParty/happyList": "happyList",
"../../executor/email/EmailGameEx": "EmailGameEx",
"./GameNoticeMailItem": "GameNoticeMailItem",
"./GameStmMailItem": "GameStmMailItem"
} ],
EmoticonPlayer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "acffewfYyBDcqN+fMZkzdLF", "EmoticonPlayer");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = cc._decorator, a = n.ccclass, r = (n.property, function() {
function e() {}
e.play = function(e, t, o, i, n) {
if (e < 1 || e > 45) console.log("error ejimo index "); else {
var a = "new_ejimo/ejimo_" + e;
cc.loader.loadRes(a, cc.SpriteFrame, function(e, a) {
var r = new cc.Node();
r.parent = t;
r.zIndex = n || 999;
r.x = o.x + 3;
r.y = o.y;
r.addComponent(cc.Sprite);
r.getComponent(cc.Sprite).spriteFrame = a;
r.opacity = 255;
r.name = "emoji";
var s = r.height, c = i / s;
r.scale = .5 * c;
cc.tween(r).to(.2, {
scale: 1.2 * c
}).to(.1, {
scale: .8 * c
}).to(.1, {
scale: 1.1 * c
}).to(.1, {
scale: .9 * c
}).to(.1, {
scale: 1 * c
}).delay(2).to(.5, {
opacity: 0
}).call(function() {
r.removeFromParent(!0);
}, this).start();
}.bind(this));
}
};
return i([ a ], e);
}());
o.default = r;
cc._RF.pop();
}, {} ],
EnumUtils: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c0967gbR3dMcbkSIeGpt59T", "EnumUtils");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.EnumUtils = void 0;
var i = function() {
function e() {}
e.getNamesAndValues = function(e) {
return this.getNames(e).map(function(t) {
return {
name: t,
value: e[t]
};
});
};
e.getNames = function(e) {
return this.getObjectValues(e).filter(function(e) {
return "string" == typeof e;
});
};
e.getValues = function(e) {
return this.getObjectValues(e).filter(function(e) {
return "number" == typeof e;
});
};
e.getObjectValues = function(e) {
return Object.keys(e).map(function(t) {
return e[t];
});
};
return e;
}();
o.EnumUtils = i;
cc._RF.pop();
}, {} ],
EventCenter: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0e62elpkHpL0LQRCw7vaLVp", "EventCenter");
var i = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var i = Array(e), n = 0;
for (t = 0; t < o; t++) for (var a = arguments[t], r = 0, s = a.length; r < s; r++, 
n++) i[n] = a[r];
return i;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.EventCenter = o.EventInfo = void 0;
var n = e("../Common/Utils/Pool"), a = function() {
function e() {}
e.prototype.free = function() {
this.callback = null;
this.target = null;
this.once = !1;
};
e.prototype.init = function(e, t, o) {
this.callback = e;
this.target = t;
this.once = o;
};
return e;
}();
o.EventInfo = a;
var r = function(e, t, o) {
this.eventName = e;
this.callback = t;
this.targetId = o;
}, s = 1, c = function() {
function e() {}
e.on = function(e, t, o, i) {
void 0 === o && (o = void 0);
void 0 === i && (i = !1);
var n = (o = o || this).uuid || o.id;
void 0 === n && (o.uuid = n = "" + s++);
this.onById(e, n, o, t, i);
};
e.once = function(e, t, o) {
void 0 === o && (o = void 0);
this.on(e, t, o, !0);
};
e.onById = function(e, t, o, i, n) {
var a = this._listeners[e];
a || (a = this._listeners[e] = {});
var r = a[t];
r || (r = a[t] = []);
var s = this._eventPool.alloc();
s.init(i, o, n);
r.push(s);
};
e.off = function(e, t, o) {
void 0 === o && (o = void 0);
var i = (o = o || this).uuid || o.id;
i && this.offById(e, t, i);
};
e.targetOff = function(e) {
var t = (e = e || this).uuid || e.id;
if (t) for (var o in this._listeners) {
var i = this._listeners[o];
void 0 !== i[t] && delete i[t];
}
};
e.offById = function(e, t, o) {
if (this._dispatching > 0) {
var i = new r(e, t, o);
this._removeCommands.push(i);
} else this.doOff(e, t, o);
};
e.doOff = function(e, t, o) {
var i = this._listeners[e];
if (i) {
var n = i[o];
if (n) {
for (var a = n.length - 1; a >= 0; a--) n[a].callback === t && n.splice(a, 1);
if (0 === n.length) {
i[o] = null;
delete i[o];
}
}
}
};
e.doRemoveCommands = function() {
if (0 === this._dispatching) {
for (var e = 0, t = this._removeCommands; e < t.length; e++) {
var o = t[e];
this.doOff(o.eventName, o.callback, o.targetId);
}
this._removeCommands.length = 0;
}
};
e.emit = function(e) {
for (var t, o = [], n = 1; n < arguments.length; n++) o[n - 1] = arguments[n];
var a = this._listeners[e];
if (!a) return !1;
this._dispatching++;
for (var s in a) for (var c = 0, l = a[s]; c < l.length; c++) {
var d = l[c];
(t = d.callback).call.apply(t, i([ d.target ], o));
if (d.once) {
var h = new r(e, d.callback, s);
this._removeCommands.push(h);
}
}
this._dispatching--;
this.doRemoveCommands();
};
e._listeners = cc.js.createMap();
e._dispatching = 0;
e._removeCommands = [];
e._eventPool = new n.Pool(function() {
return new a();
}, 10);
return e;
}();
o.EventCenter = c;
cc._RF.pop();
}, {
"../Common/Utils/Pool": "Pool"
} ],
EventGameType: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "181adkcmS9FtZuZFhVQYRck", "EventGameType");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.EventGameType = void 0;
(function(e) {
e.GameShow = "GameShow";
e.GameHide = "GameHide";
})(o.EventGameType || (o.EventGameType = {}));
cc._RF.pop();
}, {} ],
EventHpCenter: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "02255xIa8ZJ16qUkN0ujNzc", "EventHpCenter");
var i = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var i = Array(e), n = 0;
for (t = 0; t < o; t++) for (var a = arguments[t], r = 0, s = a.length; r < s; r++, 
n++) i[n] = a[r];
return i;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.EventHpCenter = o.EventInfo = void 0;
var n = e("../common/GamePool"), a = function() {
function e() {}
e.prototype.free = function() {
this.callback = null;
this.target = null;
this.once = !1;
};
e.prototype.init = function(e, t, o) {
this.callback = e;
this.target = t;
this.once = o;
};
return e;
}();
o.EventInfo = a;
var r = function(e, t, o) {
this.eventName = e;
this.callback = t;
this.targetId = o;
}, s = 1, c = function() {
function e() {}
e.doRemoveCommands = function() {
if (0 === this._dispatching) {
for (var e = 0, t = this._removeCommands; e < t.length; e++) {
var o = t[e];
this.doOff(o.eventName, o.callback, o.targetId);
}
this._removeCommands.length = 0;
}
};
e.emit = function(e) {
for (var t, o = [], n = 1; n < arguments.length; n++) o[n - 1] = arguments[n];
var a = this._listeners[e];
if (!a) return !1;
this._dispatching++;
for (var s in a) for (var c = 0, l = a[s]; c < l.length; c++) {
var d = l[c];
(t = d.callback).call.apply(t, i([ d.target ], o));
if (d.once) {
var h = new r(e, d.callback, s);
this._removeCommands.push(h);
}
}
this._dispatching--;
this.doRemoveCommands();
};
e.on = function(e, t, o, i) {
void 0 === o && (o = void 0);
void 0 === i && (i = !1);
var n = (o = o || this).uuid || o.id;
void 0 === n && (o.uuid = n = "" + s++);
this.onById(e, n, o, t, i);
};
e.once = function(e, t, o) {
void 0 === o && (o = void 0);
this.on(e, t, o, !0);
};
e.onById = function(e, t, o, i, n) {
var a = this._listeners[e];
a || (a = this._listeners[e] = {});
var r = a[t];
r || (r = a[t] = []);
var s = this._eventPool.alloc();
s.init(i, o, n);
r.push(s);
};
e.off = function(e, t, o) {
void 0 === o && (o = void 0);
var i = (o = o || this).uuid || o.id;
i && this.offById(e, t, i);
};
e.targetOff = function(e) {
var t = (e = e || this).uuid || e.id;
if (t) for (var o in this._listeners) {
var i = this._listeners[o];
void 0 !== i[t] && delete i[t];
}
};
e.offById = function(e, t, o) {
if (this._dispatching > 0) {
var i = new r(e, t, o);
this._removeCommands.push(i);
} else this.doOff(e, t, o);
};
e.doOff = function(e, t, o) {
var i = this._listeners[e];
if (i) {
var n = i[o];
if (n) {
for (var a = n.length - 1; a >= 0; a--) n[a].callback === t && n.splice(a, 1);
if (0 === n.length) {
i[o] = null;
delete i[o];
}
}
}
};
e._listeners = cc.js.createMap();
e._dispatching = 0;
e._removeCommands = [];
e._eventPool = new n.GamePool(function() {
return new a();
}, 10);
return e;
}();
o.EventHpCenter = c;
cc._RF.pop();
}, {
"../common/GamePool": "GamePool"
} ],
EventRecorder: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5b3dbRYsw9EmKdTlU+en+zp", "EventRecorder");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.EventID = void 0;
var n = e("../Conf/Config"), a = e("../Http/MyHttp");
(function(e) {
e[e.acceptPush = 1] = "acceptPush";
e[e.acceptADFollow = 2] = "acceptADFollow";
e[e.loadingProgress = 3] = "loadingProgress";
e[e.hostIP = 4] = "hostIP";
e[e.enterHallTime = 7] = "enterHallTime";
e[e.dailyReward = 8] = "dailyReward";
e[e.firstCharge = 9] = "firstCharge";
e[e.hallGuideTime = 10] = "hallGuideTime";
e[e.reconnectBack = 11] = "reconnectBack";
e[e.networkWeak = 12] = "networkWeak";
e[e.networkClose = 13] = "networkClose";
e[e.networkCloseTips = 14] = "networkCloseTips";
e[e.networkDelay = 15] = "networkDelay";
e[e.socketLoginFailed = 16] = "socketLoginFailed";
e[e.paymentFailed = 17] = "paymentFailed";
e[e.tutorialsStep = 18] = "tutorialsStep";
e[e.tutorials = 19] = "tutorials";
e[e.enterHall = 20] = "enterHall";
e[e.enterRoom = 21] = "enterRoom";
e[e.adView = 22] = "adView";
e[e.noAd = 23] = "noAd";
e[e.hallBaccarat = 24] = "hallBaccarat";
e[e.hallBlackjack = 25] = "hallBlackjack";
e[e.hallTexasPoker = 26] = "hallTexasPoker";
e[e.hallLucky3 = 27] = "hallLucky3";
e[e.hallBJRoomFree = 28] = "hallBJRoomFree";
e[e.hallBJRoomClassic = 29] = "hallBJRoomClassic";
e[e.hallBJRoom7s = 30] = "hallBJRoom7s";
e[e.hallRoomHelp = 31] = "hallRoomHelp";
e[e.hallRoomQuickStart = 32] = "hallRoomQuickStart";
e[e.hallRoomBack = 33] = "hallRoomBack";
e[e.hallBaccaratHnd = 34] = "hallBaccaratHnd";
e[e.roomListClick = 35] = "roomListClick";
e[e.logOutClick = 36] = "logOutClick";
e[e.shopClick = 101] = "shopClick";
e[e.exchangeClick = 102] = "exchangeClick";
e[e.friendClick = 103] = "friendClick";
e[e.inviteClick = 104] = "inviteClick";
e[e.communityClick = 105] = "communityClick";
e[e.facebookClick = 106] = "facebookClick";
e[e.chatClick = 107] = "chatClick";
e[e.taskClick = 108] = "taskClick";
e[e.rankClick = 109] = "rankClick";
e[e.headPhotoClick = 110] = "headPhotoClick";
e[e.firstChargeClick = 111] = "firstChargeClick";
e[e.mailClick = 112] = "mailClick";
e[e.settingsClick = 113] = "settingsClick";
e[e.praise = 114] = "praise";
e[e.enterRoomTime = 115] = "enterRoomTime";
e[e.quickStartClick = 116] = "quickStartClick";
e[e.tableChooseClick = 117] = "tableChooseClick";
e[e.classicRoomClick = 118] = "classicRoomClick";
e[e.tigerRoomClick = 119] = "tigerRoomClick";
e[e.vipRoomClick = 120] = "vipRoomClick";
e[e.modifyNickName = 121] = "modifyNickName";
e[e.modifyHeadPhoto = 122] = "modifyHeadPhoto";
e[e.roomTaskClick = 123] = "roomTaskClick";
e[e.gameSendClick = 124] = "gameSendClick";
e[e.roomShopClick = 125] = "roomShopClick";
e[e.roomScreenShotClick = 126] = "roomScreenShotClick";
e[e.roomMenuClick = 127] = "roomMenuClick";
e[e.roomChatClick = 128] = "roomChatClick";
e[e.roomMenuBack = 129] = "roomMenuBack";
e[e.roomMenuPlayRecord = 130] = "roomMenuPlayRecord";
e[e.roomMenuHelp = 131] = "roomMenuHelp";
e[e.roomMenuMoneyRecord = 132] = "roomMenuMoneyRecord";
e[e.roomMenuSetup = 133] = "roomMenuSetup";
e[e.roomMenuInvitation = 134] = "roomMenuInvitation";
e[e.roomBJRoad = 135] = "roomBJRoad";
e[e.roomBJSha512 = 136] = "roomBJSha512";
e[e.roomBJCardRecorder = 137] = "roomBJCardRecorder";
e[e.chargeClick = 200] = "chargeClick";
e[e.withdrawClick = 201] = "withdrawClick";
e[e.agentClick = 202] = "agentClick";
e[e.safeboxClick = 203] = "safeboxClick";
e[e.kickbackClick = 204] = "kickbackClick";
e[e.bounsClick = 205] = "bounsClick";
e[e.clickGame = 206] = "clickGame";
e[e.googleStartRequestMoney = 207] = "googleStartRequestMoney";
e[e.googleRequestMoney = 208] = "googleRequestMoney";
e[e.googleQuery = 209] = "googleQuery";
e[e.googleConusme = 210] = "googleConusme";
e[e.loginGuest = 250] = "loginGuest";
e[e.loginGoogle = 251] = "loginGoogle";
e[e.loginPhone = 252] = "loginPhone";
e[e.loginFeedback = 253] = "loginFeedback";
e[e.regRequest = 254] = "regRequest";
e[e.showGetVCode = 255] = "showGetVCode";
e[e.getVCode = 256] = "getVCode";
e[e.webGameStartLaunch = 300] = "webGameStartLaunch";
e[e.webGameStartLoad = 301] = "webGameStartLoad";
e[e.webGameStartLoadComplete = 302] = "webGameStartLoadComplete";
e[e.webGameLoadError = 303] = "webGameLoadError";
e[e.webGameClickBack = 304] = "webGameClickBack";
e[e.openWithUriScheme = 400] = "openWithUriScheme";
e[e.thirdGameStart = 401] = "thirdGameStart";
e[e.thirdGameReport = 402] = "thirdGameReport";
e[e.thirdGameEnd = 403] = "thirdGameEnd";
})(o.EventID || (o.EventID = {}));
var r = cc._decorator, s = r.ccclass, c = (r.property, function() {
function e() {}
e.record = function(e, t, o) {
console.log("Log event , eventID = ", e);
var i = {};
i.action = e;
if (null != t && null != o) {
i[t] = o;
console.log("key = ", t);
console.log("value = ", o);
}
a.default.getInstance().httpPostWithFullUrl(n.default.actionUrl + "v1/tj-action", i, function() {});
};
e.recordWithParam = function(e, t, o, i, r) {
console.log("Log event , eventID = ", e);
var s = {};
s.action = e;
s[t] = o;
s[i] = r;
a.default.getInstance().httpPostWithFullUrl(n.default.actionUrl + "v1/tj-action", s, function() {});
};
e.startRecordTime = function(e) {
this.timeRecorder["timeStart" + e] = new Date().getDate();
};
e.endRecordTime = function(e) {
var t = new Date().getDate(), o = this.timeRecorder["timeStart" + e] || t, i = Math.floor((t - o) / 1e3);
if (i > 0) {
this.record(e, "time", i);
delete this.timeRecorder["timeStart" + e];
}
};
e.timeRecorder = {};
return i([ s ], e);
}());
o.default = c;
cc._RF.pop();
}, {
"../Conf/Config": "Config",
"../Http/MyHttp": "MyHttp"
} ],
EventType: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f20a5BI/3lLN7CTsv5actY4", "EventType");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.EventType = void 0;
(function(e) {
e.GameShow = "GameShow";
e.GameHide = "GameHide";
})(o.EventType || (o.EventType = {}));
cc._RF.pop();
}, {} ],
ExchangeData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7a29b9kMGpA8o/Ei5WTRg3a", "ExchangeData");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function() {
function e() {
this._exchangeData = [];
}
e.getInstance = function() {
this.instance || (this.instance = new e());
return this.instance;
};
Object.defineProperty(e.prototype, "exchangeData", {
get: function() {
return this._exchangeData;
},
set: function(e) {
this._exchangeData = e;
},
enumerable: !1,
configurable: !0
});
return e;
}();
o.default = i;
cc._RF.pop();
}, {} ],
FirebaseInterface: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0807ewv8RlEC4xqsFJWjlO5", "FirebaseInterface");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.GoogleAccount = o.GoogleAccountResultCode = void 0;
var r, s = e("../Components/MyEvent"), c = e("../Conf/Const"), l = e("../Conf/GuardConfig"), d = cc._decorator, h = d.ccclass;
d.property;
(function(e) {
e[e.authSuccess = 0] = "authSuccess";
e[e.authInvalid = 3] = "authInvalid";
e[e.authValid = 2] = "authValid";
e[e.authCancel = 1] = "authCancel";
e[e.authError = -1] = "authError";
})(r = o.GoogleAccountResultCode || (o.GoogleAccountResultCode = {}));
var u = function() {
function e() {}
e.token = "";
e.pid = "";
e.isAuth = !1;
e.isBind = !1;
return e;
}();
o.GoogleAccount = u;
var p = function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
o = t;
Object.defineProperty(t, "inst", {
get: function() {
null == this._inst && (this._inst = new o());
return this._inst;
},
enumerable: !1,
configurable: !0
});
t.prototype.initFirebaseAuth = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(l.AndroidInterfacePath.FirebaseInterface, "isAuthValid", "()V");
};
t.prototype.authSuccessCallBack = function(e, t) {
u.token = e;
u.pid = t;
u.isAuth = !0;
s.MyEvent.getInstance().emit("ON_GOOGLE_AUTH_SUCCESS");
};
t.prototype.authFailedCallBack = function() {
u.isAuth = !1;
s.MyEvent.getInstance().emit("ON_GOOGLE_AUTH_FAILED");
};
t.prototype.login = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(l.AndroidInterfacePath.FirebaseInterface, "login", "()V");
};
t.prototype.loginSuccessCallback = function(e, t) {
u.token = e;
u.pid = t;
var o = {};
o.token = e;
o.pid = t;
o.retCode = r.authSuccess;
u.isAuth = !0;
s.MyEvent.getInstance().emit("ON_GOOGLE_LOGIN_CALLBACK", o);
};
t.prototype.loginFailedCallBack = function(e) {
var t = {};
t.retCode = r.authError;
t.errorMsg = e;
console.log("google login error msg = ", e);
u.isAuth = !1;
s.MyEvent.getInstance().emit("ON_GOOGLE_LOGIN_CALLBACK", t);
};
t.prototype.initDeepLink = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "getDeepLinkUrl:", "") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(l.AndroidInterfacePath.FirebaseInterface, "getDeepLinkUrl", "()V"));
};
t.prototype.setDeepLink = function(e) {
console.log("deepLinkUrl = ", e);
var t = e.split("?");
if (t && 2 == t.length) {
var i = t[1].split("&");
if (i && i.length > 0) {
for (var n = [], a = 0; a < i.length; a++) {
var r = i[a].split("=");
if (r && 2 == r.length) {
var s = {};
s.key = r[0];
s.value = r[1];
if ("action" == s.key) {
o.deepLinkAction = s.value;
console.log("action = ", o.deepLinkAction);
} else if ("subAction" == s.key) {
o.deepLinkSubAction = decodeURIComponent(s.value);
console.log("subAction = ", o.deepLinkSubAction);
} else if ("gameType" == s.key) {
o.deepLinkGameType = Number(decodeURIComponent(s.value));
console.log("gameType = ", o.deepLinkGameType);
} else n.push(s);
}
}
o.deepLinkParams = n;
}
}
};
var o;
t._inst = null;
t.deepLinkParams = [];
t.deepLinkAction = 0;
t.deepLinkSubAction = "";
t.deepLinkGameType = c.gameType.baccarat;
return o = a([ h ], t);
}(cc.Component);
o.default = p;
cc.FirebaseCallBack = p.inst;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Conf/Const": "Const",
"../Conf/GuardConfig": "GuardConfig"
} ],
FirstStoreDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "78efexwN2hH5oHaK4fhf2z8", "FirstStoreDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../public/MyComponent/WindowBase"), s = e("../../data/conf/GameInfo"), c = e("../../data/conf/GameRes"), l = e("../../public/MyComponent/GameHppayUtil"), d = e("../executor/FirstStoreEx"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new d.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
this.node.getChildByName("closeBtn").on("click", this.onClose, this);
this.node.getChildByName("item1").on("click", this.onItem1, this);
this.node.getChildByName("item2").on("click", this.onItem2, this);
this.node.getChildByName("item3").on("click", this.onItem3, this);
this.node.getChildByName("item4").on("click", this.onItem4, this);
};
t.prototype.start = function() {
e.prototype.start.call(this);
l.default.loadSprAtlasFrame(this.node.getChildByName("item1"), c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.FIRST_CHARGE_ITEM1);
l.default.loadSprAtlasFrame(this.node.getChildByName("item2"), c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.FIRST_CHARGE_ITEM2);
l.default.loadSprAtlasFrame(this.node.getChildByName("item3"), c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.FIRST_CHARGE_ITEM3);
l.default.loadSprAtlasFrame(this.node.getChildByName("item4"), c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.FIRST_CHARGE_ITEM4);
l.default.loadSprAtlasFrame(this.node.getChildByName("dlbBg"), c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.FIRST_CHARGE_BG);
if (s.default.country == s.GameCountryEnum.Brazil) {
this.addItemInfo(this.node.getChildByName("item2"), 100, 30);
this.addItemInfo(this.node.getChildByName("item3"), 200, 40);
this.addItemInfo(this.node.getChildByName("item4"), 500, 200);
}
};
t.prototype.addItemInfo = function(e, t, o) {
this.exView.addItemInfoEx(e, t, o);
};
t.prototype.onItem1 = function() {
this.exView.onItem1Ex();
};
t.prototype.onItem2 = function() {
this.exView.onItem2Ex();
};
t.prototype.onItem3 = function() {
this.exView.onItem3Ex();
};
t.prototype.onItem4 = function() {
this.exView.onItem4Ex();
};
return a([ u ], t);
}(r.default));
o.default = p;
cc._RF.pop();
}, {
"../../data/conf/GameInfo": "GameInfo",
"../../data/conf/GameRes": "GameRes",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/WindowBase": "WindowBase",
"../executor/FirstStoreEx": "FirstStoreEx"
} ],
FirstStoreEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7b1cbKGfyZKuZVPRoF10r1/", "FirstStoreEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../manager/DlgGameMgr"), s = e("../../manager/GameSoundMgr"), c = e("../../public/MyComponent/HpgNumberImg"), l = e("../../public/MyComponent/ViewExecutorBase"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.addItemInfoEx = function(e, t, o) {
var i = new c.default("plists/num_h48", t.toString(), 1);
i.x = 87.5;
i.y = 3.5;
e.addChild(i);
var n = new c.default("plists/num_h41", o.toString(), 0);
n.x = 38.5;
n.y = -35;
e.addChild(n);
var a = (100 * o / t).toFixed(1), r = new c.default("plists/num_h41", a + "%", 1);
r.x = .7 * -86;
r.y = 165.2;
r.rotation = -45;
e.addChild(r);
};
t.prototype.onItem1Ex = function() {
s.default.inst.playGameEffect(s.AudioRes.click);
r.default.inst.showFullView(r.FullScreenType.charge);
this.node.onClose();
};
t.prototype.onItem2Ex = function() {
s.default.inst.playGameEffect(s.AudioRes.click);
r.default.inst.showFullView(r.FullScreenType.charge, 100);
this.node.onClose();
};
t.prototype.onItem3Ex = function() {
s.default.inst.playGameEffect(s.AudioRes.click);
r.default.inst.showFullView(r.FullScreenType.charge, 300);
this.node.onClose();
};
t.prototype.onItem4Ex = function() {
s.default.inst.playGameEffect(s.AudioRes.click);
r.default.inst.showFullView(r.FullScreenType.charge, 500);
this.node.onClose();
};
return a([ h ], t);
}(l.default));
o.default = u;
cc._RF.pop();
}, {
"../../manager/DlgGameMgr": "DlgGameMgr",
"../../manager/GameSoundMgr": "GameSoundMgr",
"../../public/MyComponent/HpgNumberImg": "HpgNumberImg",
"../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
FlipCard: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "27d1coZkzZMFp5pZk6OmLc+", "FlipCard");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Manager/CardCreator"), s = e("../UIFrame/SoundMgr"), c = e("../Util/GameUtil"), l = e("../Util/SpritePreLoader"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t(t, o, i) {
var n = e.call(this) || this;
n.cardNums = [ 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 770, 771, 772, 773, 774, 775, 776, 777, 778, 779, 780, 781, 782, 1026, 1027, 1028, 1029, 1030, 1031, 1032, 1033, 1034, 1035, 1036, 1037, 1038 ];
n.cardColorPositionConfig = {
2: {
count: 2,
pointArr: [ {
x: 0,
y: 294,
angle: 0
}, {
x: 0,
y: -294,
angle: 180
} ]
},
3: {
count: 3,
pointArr: [ {
x: 0,
y: 294,
angle: 0
}, {
x: 0,
y: 0,
angle: 0
}, {
x: 0,
y: -294,
angle: 180
} ]
},
4: {
count: 4,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
5: {
count: 5,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: 0,
y: 0,
angle: 0
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
6: {
count: 6,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: -140,
y: 0,
angle: 0
}, {
x: 138,
y: 0,
angle: 0
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
7: {
count: 7,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: 0,
y: 147,
angle: 0
}, {
x: -140,
y: 0,
angle: 0
}, {
x: 138,
y: 0,
angle: 0
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
8: {
count: 8,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: 0,
y: 147,
angle: 0
}, {
x: -140,
y: 0,
angle: 0
}, {
x: 138,
y: 0,
angle: 0
}, {
x: 0,
y: -147,
angle: 180
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
9: {
count: 9,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: -140,
y: 98,
angle: 0
}, {
x: 138,
y: 98,
angle: 0
}, {
x: 0,
y: 0,
angle: 0
}, {
x: -140,
y: -98,
angle: 180
}, {
x: 138,
y: -98,
angle: 180
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
10: {
count: 10,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: 0,
y: 196,
angle: 0
}, {
x: -140,
y: 98,
angle: 0
}, {
x: 138,
y: 98,
angle: 0
}, {
x: -140,
y: -98,
angle: 180
}, {
x: 138,
y: -98,
angle: 180
}, {
x: 0,
y: -196,
angle: 180
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
11: {
count: 1,
pointArr: [ {
x: 0,
y: 0,
angle: 0
} ]
},
12: {
count: 1,
pointArr: [ {
x: 0,
y: 0,
angle: 0
} ]
},
13: {
count: 1,
pointArr: [ {
x: 0,
y: 0,
angle: 0
} ]
},
14: {
count: 1,
pointArr: [ {
x: 0,
y: 0,
angle: 0
} ]
}
};
n.cardColor = 1;
n.cardValue = 0;
n.cardIndex = 0;
n.cardBack = null;
n.cardFront = null;
n.cardColorFrameJ = null;
n.cardColorFrameQ = null;
n.cardColorFrameK = null;
n.cardColorFrame = null;
n.cardColorFrameSmall = null;
n.cardRedNum = null;
n.cardBlackNum = null;
n.cardValue = t;
n.cardColor = i || 1;
n.cardIndex = o || 0;
n.cardColorFrameJ = [ l.SPCache.pokerColorCardsJ[r.CardColorType.spade], l.SPCache.pokerColorCardsJ[r.CardColorType.heart], l.SPCache.pokerColorCardsJ[r.CardColorType.club], l.SPCache.pokerColorCardsJ[r.CardColorType.diamond] ];
n.cardColorFrameQ = [ l.SPCache.pokerColorCardsQ[r.CardColorType.spade], l.SPCache.pokerColorCardsQ[r.CardColorType.heart], l.SPCache.pokerColorCardsQ[r.CardColorType.club], l.SPCache.pokerColorCardsQ[r.CardColorType.diamond] ];
n.cardColorFrameK = [ l.SPCache.pokerColorCardsK[r.CardColorType.spade], l.SPCache.pokerColorCardsK[r.CardColorType.heart], l.SPCache.pokerColorCardsK[r.CardColorType.club], l.SPCache.pokerColorCardsK[r.CardColorType.diamond] ];
n.cardColorFrame = [ l.SPCache.pokerColors[r.CardColorType.spade], l.SPCache.pokerColors[r.CardColorType.heart], l.SPCache.pokerColors[r.CardColorType.club], l.SPCache.pokerColors[r.CardColorType.diamond] ];
n.cardColorFrameSmall = [ l.SPCache.pokerColorsSmall[r.CardColorType.spade], l.SPCache.pokerColorsSmall[r.CardColorType.heart], l.SPCache.pokerColorsSmall[r.CardColorType.club], l.SPCache.pokerColorsSmall[r.CardColorType.diamond] ];
n.cardRedNum = [ l.SPCache.pokerRedNumbers[2], l.SPCache.pokerRedNumbers[3], l.SPCache.pokerRedNumbers[4], l.SPCache.pokerRedNumbers[5], l.SPCache.pokerRedNumbers[6], l.SPCache.pokerRedNumbers[7], l.SPCache.pokerRedNumbers[8], l.SPCache.pokerRedNumbers[9], l.SPCache.pokerRedNumbers[10], l.SPCache.pokerRedNumbers[11], l.SPCache.pokerRedNumbers[12], l.SPCache.pokerRedNumbers[13], l.SPCache.pokerRedNumbers[14] ];
n.cardBlackNum = [ l.SPCache.pokerBlackNumbers[2], l.SPCache.pokerBlackNumbers[3], l.SPCache.pokerBlackNumbers[4], l.SPCache.pokerBlackNumbers[5], l.SPCache.pokerBlackNumbers[6], l.SPCache.pokerBlackNumbers[7], l.SPCache.pokerBlackNumbers[8], l.SPCache.pokerBlackNumbers[9], l.SPCache.pokerBlackNumbers[10], l.SPCache.pokerBlackNumbers[11], l.SPCache.pokerBlackNumbers[12], l.SPCache.pokerBlackNumbers[13], l.SPCache.pokerBlackNumbers[14] ];
n.createCard();
return n;
}
t.prototype.getCardIndex = function() {
return this.cardIndex;
};
t.prototype.showBack = function() {
this.cardFront.active = !1;
this.cardBack.active = !0;
};
t.prototype.reset = function() {
this.active = !1;
this.opacity = 255;
this.angle = 0;
this.skewX = 0;
this.skewY = 0;
this.cardValue = 0;
this.cardFront.active = !1;
this.cardBack.active = !0;
this.stopAllActions();
};
t.prototype.getCardValue = function() {
return this.cardValue;
};
t.prototype.showCardFront = function() {
this.cardFront.active = !0;
this.cardBack.active = !1;
};
t.prototype.flip = function() {
var e = this;
s.default.inst.playEffect("flop");
if (0 == this.angle) {
cc.tween(this).to(.2, {
scaleX: 34 / 634,
scaleY: 244 / 936 * .8,
y: this.getPosition().y + 52,
skewY: 28
}, {
easing: "quadOut"
}).call(function() {
e.cardFront.active = !0;
e.cardBack.active = !1;
e.skewY = -28;
}, this).to(.2, {
scaleX: 124 / 634,
scaleY: 166 / 936,
y: this.getPosition().y + 45,
x: this.getPosition().x,
skewY: 0
}, {
easing: "circOut"
}).to(.1, {
scaleX: 112 / 634,
scaleY: 150 / 936,
y: this.getPosition().y,
x: this.getPosition().x
}, {
easing: "quadOut"
}).call(function() {}).start();
var t = new cc.Node();
t.addComponent(cc.Sprite);
t.getComponent(cc.Sprite).spriteFrame = l.SPCache.pokerFront;
t.parent = this.parent;
t.setPosition(this.x, this.y - 2);
t.color = new cc.Color(0, 0, 0, 255);
t.opacity = 40;
t.setScale(112 / 634, 150 / 936);
t.angle = 0;
cc.tween(t).to(.2, {
y: t.getPosition().y + 12,
scaleX: 30 / 634,
scaleY: 159 / 936 * .8,
skewY: 28
}, {
easing: "quadOut"
}).call(function() {
t.skewY = -28;
t.y = t.getPosition().y + 10;
}, this).to(.2, {
scaleX: 124 / 634,
scaleY: 166 / 936,
y: t.getPosition().y + 14,
x: t.getPosition().x,
skewY: 0
}, {
easing: "circOut"
}).to(.1, {
scaleX: 112 / 634,
scaleY: 150 / 936,
y: t.getPosition().y,
x: t.getPosition().x
}, {
easing: "quadOut"
}).call(function() {
t.removeFromParent();
}, this).start();
} else {
cc.tween(this).to(.2, {
scaleX: 34 / 634,
scaleY: 157 / 936,
y: this.getPosition().y + 52,
skewY: 7
}, {
easing: "quadOut"
}).call(function() {
e.cardFront.active = !0;
e.cardBack.active = !1;
e.skewY = -7;
}, this).to(.2, {
scaleX: 117 / 634,
scaleY: 157 / 936,
y: this.getPosition().y + 45,
x: this.getPosition().x,
skewY: 0
}, {
easing: "circOut"
}).to(.1, {
scaleX: 112 / 634,
scaleY: 150 / 936,
y: this.getPosition().y,
x: this.getPosition().x
}, {
easing: "quadOut"
}).call(function() {}).start();
var o = new cc.Node();
o.addComponent(cc.Sprite);
o.getComponent(cc.Sprite).spriteFrame = l.SPCache.pokerFront;
o.parent = this.parent;
o.setPosition(this.x, this.y - 2);
o.color = new cc.Color(0, 0, 0, 255);
o.opacity = 40;
o.setScale(112 / 634, 150 / 936);
o.angle = -90;
cc.tween(o).to(.2, {
x: o.getPosition().x + 1,
y: o.getPosition().y + 20,
scaleX: 90 / 634,
scaleY: 150 / 936,
skewY: -7
}, {
easing: "quadOut"
}).call(function() {
o.skewY = 0;
o.y = o.getPosition().y + 3;
o.x = o.getPosition().x - 10;
o.scaleX = 76 / 634;
o.scaleY = 150 / 936;
}, this).to(.2, {
scaleY: 118 / 634,
scaleX: 158 / 936,
y: o.getPosition().y - 14,
x: o.getPosition().x,
skewY: 0,
skewX: 0
}, {
easing: "circOut"
}).to(.1, {
scaleY: 112 / 634,
scaleX: 150 / 936,
y: o.getPosition().y,
x: o.getPosition().x
}, {
easing: "quadOut"
}).call(function() {
o.removeFromParent();
}, this).start();
}
};
t.prototype.init = function(e, t, o) {
this.cardValue = e;
this.refreshCardValue(this.cardFront);
if (null != t) {
this.cardIndex = t;
this.cardBack.getChildByName("cardIndex").getComponent(cc.Label).string = c.default.formatNumberToStr(this.cardIndex, 3);
this.cardFront.getChildByName("cardIndex").getComponent(cc.Label).string = c.default.formatNumberToStr(this.cardIndex, 3);
}
if (null != o) {
this.cardColor = o;
var i = this.getChildByName("cardBack").getComponent(cc.Sprite);
this.cardColor == r.CardBackColor.blue ? i.spriteFrame = l.SPCache.pokerBgBlue : this.cardColor == r.CardBackColor.red ? i.spriteFrame = l.SPCache.pokerBgRed : this.cardColor == r.CardBackColor.yellow && (i.spriteFrame = l.SPCache.pokerBgYellow);
}
};
t.prototype.createCard = function() {
this.createCardBack();
this.createCardFront();
this.addCardBackNumber();
this.addCardFrontNumer();
this.cardBack.getChildByName("flag").active = !1;
this.cardBack.getChildByName("cardIndex").active = !1;
this.cardFront.getChildByName("flag").active = !1;
this.cardFront.getChildByName("cardIndex").active = !1;
};
t.prototype.createCardBack = function() {
this.cardBack = new cc.Node();
this.cardBack.addComponent(cc.Sprite);
this.cardColor == r.CardBackColor.blue ? this.cardBack.getComponent(cc.Sprite).spriteFrame = l.SPCache.pokerBgBlue : this.cardColor == r.CardBackColor.red ? this.cardBack.getComponent(cc.Sprite).spriteFrame = l.SPCache.pokerBgRed : this.cardColor == r.CardBackColor.yellow && (this.cardBack.getComponent(cc.Sprite).spriteFrame = l.SPCache.pokerBgYellow);
this.cardBack.name = "cardBack";
this.cardBack.parent = this;
};
t.prototype.createCardFront = function() {
this.cardFront = new cc.Node();
this.cardFront.addComponent(cc.Sprite);
this.cardFront.getComponent(cc.Sprite).spriteFrame = l.SPCache.pokerFront;
this.cardFront.name = "cardFront";
this.cardFront.parent = this;
this.createCardValue(this.cardFront);
this.cardFront.active = !1;
};
t.prototype.createCardValue = function(e) {
if (this.cardValue > 0) {
var t = Math.floor(this.cardValue / 256), o = this.cardValue % 16, i = new cc.Node();
i.x = 0;
i.y = 0;
i.name = "cardColorNode";
i.zIndex = 5;
this.setCenterColor(i, o, t);
i.parent = e;
var n = new cc.Node();
n.x = 0;
n.y = 0;
n.parent = e;
n.name = "cardValueNode";
n.zIndex = 5;
var a = new cc.Node();
a.addComponent(cc.Sprite);
a.getComponent(cc.Sprite).spriteFrame = this.getCardNum(o, t);
a.x = -278;
a.y = 363;
a.name = "topNum";
a.parent = n;
a.zIndex = 5;
var r = new cc.Node();
r.addComponent(cc.Sprite);
r.getComponent(cc.Sprite).spriteFrame = this.getCardColor(o, t);
r.x = -278;
r.y = 257;
r.name = "topColor";
r.parent = n;
r.zIndex = 5;
var s = new cc.Node();
s.addComponent(cc.Sprite);
s.getComponent(cc.Sprite).spriteFrame = this.getCardNum(o, t);
s.x = 277;
s.y = -362;
s.angle = 180;
s.name = "bottomNum";
s.parent = n;
s.zIndex = 5;
var c = new cc.Node();
c.addComponent(cc.Sprite);
c.getComponent(cc.Sprite).spriteFrame = this.getCardColor(o, t);
c.x = 277;
c.y = -256;
c.angle = 180;
c.name = "bottomColor";
c.parent = n;
c.zIndex = 5;
}
};
t.prototype.refreshCardValue = function(e) {
if (this.cardValue > 0) {
var t = Math.floor(this.cardValue / 256), o = this.cardValue % 16, i = e.getChildByName("cardColorNode");
null != i && i.removeFromParent(!0);
(i = new cc.Node()).x = 0;
i.y = 0;
i.parent = e;
i.name = "cardColorNode";
this.setCenterColor(i, o, t);
var n = e.getChildByName("cardValueNode");
if (null != n) {
var a = n.getChildByName("topNum");
null != a && (a.getComponent(cc.Sprite).spriteFrame = this.getCardNum(o, t));
var r = n.getChildByName("topColor");
null != r && (r.getComponent(cc.Sprite).spriteFrame = this.getCardColor(o, t));
var s = n.getChildByName("bottomNum");
null != s && (s.getComponent(cc.Sprite).spriteFrame = this.getCardNum(o, t));
var c = n.getChildByName("bottomColor");
null != c && (c.getComponent(cc.Sprite).spriteFrame = this.getCardColor(o, t));
}
}
};
t.prototype.getCardNum = function(e, t) {
return t == r.CardColor.spade || t == r.CardColor.club ? this.cardBlackNum[e - 2] : this.cardRedNum[e - 2];
};
t.prototype.getCardColor = function(e, t) {
return this.cardColorFrameSmall[t - 1];
};
t.prototype.setCenterColor = function(e, t, o) {
var i = null;
t <= 10 ? i = this.cardColorFrame[o - 1] : t <= 13 ? 11 == t ? i = this.cardColorFrameJ[o - 1] : 12 == t ? i = this.cardColorFrameQ[o - 1] : 13 == t && (i = this.cardColorFrameK[o - 1]) : 14 == t && (i = o == r.CardColor.spade ? l.SPCache.pokerColorSpadeA : this.cardColorFrame[o - 1]);
var n = this.cardColorPositionConfig[t];
if (n) for (var a = 0; a < n.count; a++) {
var s = new cc.Node();
s.angle = n.pointArr[a].angle;
s.addComponent(cc.Sprite);
s.getComponent(cc.Sprite).spriteFrame = i;
s.setPosition(n.pointArr[a].x, n.pointArr[a].y);
s.parent = e;
} else console.log("", "card num = ", t, "  color = ", o);
};
t.prototype.addCardBackNumber = function() {
if (null == this.cardBack.getChildByName("flag")) {
var e = new cc.Node();
e.addComponent(cc.Sprite);
e.getComponent(cc.Sprite).spriteFrame = l.SPCache.pokerFlagBig;
e.anchorX = 0;
e.anchorY = 0;
e.x = -333;
e.y = -467;
e.name = "flag";
e.parent = this.cardBack;
e.zIndex = 10;
}
if (null == this.cardBack.getChildByName("cardIndex")) {
var t = new cc.Node();
t.addComponent(cc.Label);
t.getComponent(cc.Label).string = c.default.formatNumberToStr(this.cardIndex, 3);
t.getComponent(cc.Label).fontSize = 150;
t.getComponent(cc.Label).lineHeight = 150;
t.getComponent(cc.Label).enableBold = !0;
t.addComponent(cc.LabelOutline);
t.getComponent(cc.LabelOutline).color = new cc.Color(255, 255, 255);
t.getComponent(cc.LabelOutline).width = 16;
t.color = new cc.Color(79, 79, 79);
t.anchorY = 1;
t.anchorX = 1;
t.x = 330;
t.y = 480;
t.name = "cardIndex";
t.parent = this.cardBack;
t.zIndex = 10;
}
};
t.prototype.addCardFrontNumer = function() {
if (null == this.cardFront.getChildByName("flag")) {
var e = new cc.Node();
e.addComponent(cc.Sprite);
e.getComponent(cc.Sprite).spriteFrame = l.SPCache.pokerFlagBig;
e.anchorX = 0;
e.anchorY = 0;
e.x = -333;
e.y = -467;
e.name = "flag";
e.parent = this.cardFront;
e.zIndex = 10;
}
if (null == this.cardFront.getChildByName("cardIndex")) {
var t = new cc.Node();
t.addComponent(cc.Label);
t.getComponent(cc.Label).string = c.default.formatNumberToStr(this.cardIndex, 3);
t.getComponent(cc.Label).fontSize = 150;
t.getComponent(cc.Label).lineHeight = 150;
t.getComponent(cc.Label).enableBold = !0;
t.addComponent(cc.LabelOutline);
t.getComponent(cc.LabelOutline).color = new cc.Color(255, 255, 255);
t.getComponent(cc.LabelOutline).width = 16;
t.color = new cc.Color(79, 79, 79);
t.anchorY = 1;
t.anchorX = 1;
t.x = 330;
t.y = 480;
t.name = "cardIndex";
t.parent = this.cardFront;
t.zIndex = 10;
}
};
t.prototype.getColor = function() {
return this.cardColor;
};
t.prototype.getValue = function() {
return this.cardValue;
};
return a([ h ], t);
}(cc.Node));
o.default = u;
cc._RF.pop();
}, {
"../Manager/CardCreator": "CardCreator",
"../UIFrame/SoundMgr": "SoundMgr",
"../Util/GameUtil": "GameUtil",
"../Util/SpritePreLoader": "SpritePreLoader"
} ],
FrameGameType: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "65a41opKohPebvYwmON2FnW", "FrameGameType");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.FrameGameType = void 0;
var i = e("./GameSysDefine");
o.FrameGameType = function(e, t, o, n) {
void 0 === e && (e = i.ModalOpacity.OpacityFull);
void 0 === t && (t = !1);
void 0 === o && (o = !0);
void 0 === n && (n = .2);
this.opacity = i.ModalOpacity.OpacityFull;
this.clickMaskClose = !1;
this.isEasing = !0;
this.easingTime = .2;
this.opacity = e;
this.clickMaskClose = t;
this.isEasing = o;
this.easingTime = n;
};
cc._RF.pop();
}, {
"./GameSysDefine": "GameSysDefine"
} ],
FrameType: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "51bfaFoXS1HTKziiSvkwynT", "FrameType");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.MaskType = void 0;
var i = e("./config/SysDefine");
o.MaskType = function(e, t, o, n) {
void 0 === e && (e = i.ModalOpacity.OpacityFull);
void 0 === t && (t = !1);
void 0 === o && (o = !0);
void 0 === n && (n = .2);
this.opacity = i.ModalOpacity.OpacityFull;
this.clickMaskClose = !1;
this.isEasing = !0;
this.easingTime = .2;
this.opacity = e;
this.clickMaskClose = t;
this.isEasing = o;
this.easingTime = n;
};
cc._RF.pop();
}, {
"./config/SysDefine": "SysDefine"
} ],
FriendList: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "05c24fTzCJIjp36yAdmAN9I", "FriendList");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.FansOrLooksData = o.FriendRequestData = o.FriendMsgData = o.friendMsgList = o.FriendData = void 0;
var i = e("../Components/MyEvent"), n = e("../Socket/WebSocketManager"), a = e("../Util/GameUtil"), r = e("./GameData"), s = function() {
function e() {
this._friendList = [];
this._onlineNum = 0;
this._hashFriendList = {};
this._friendUnreadNum = 0;
this._friendAddUnreadNum = 0;
this._friendAddList = [];
this._newFansUnreadNum = 0;
this._newFansData = {};
}
e.prototype.pushFriendList = function(e, t) {
var o = this;
e.forEach(function(e) {
o._hashFriendList[e.uid] ? o._friendList.forEach(function() {}) : o._friendList.push(e);
o._hashFriendList[e.uid] = e;
});
if (1 == t && this._getFriendCall) {
this._getFriendCall();
c.getInstance().createrFriendMsgList();
}
};
e.prototype.getFriendList = function(e, t) {
n.default.getInstance().socketSend.getFriendList(e, 100);
this._getFriendCall = t;
};
e.prototype.getFriendToName = function(e) {
var t = [];
this._friendList.forEach(function(o) {
-1 != o.nickName.indexOf(e) && t.push(o);
});
return t;
};
e.prototype.getFriendToUid = function(e) {
var t;
this._friendList.forEach(function(o) {
o.uid == e && (t = o);
});
return t;
};
e.prototype.signUnreadMsg = function(e, t) {
this._friendList.forEach(function(o) {
if (o.uid != e) ; else if (0 == t) o.unreadMsg = t; else {
o.unreadMsg = o.unreadMsg + 1;
o.unreadMsg > 99 && (o.unreadMsg = 99);
}
});
this.getFriendUnread();
};
e.prototype.getFriendUnread = function() {
var e = this;
this._friendUnreadNum = 0;
this._friendList.forEach(function(t) {
t.unreadMsg > 0 && (e._friendUnreadNum = e._friendUnreadNum + t.unreadMsg);
});
i.MyEvent.getInstance().emit("UPDATE_FRIEND_UNREAD_EVENT");
};
e.prototype.getOnLineNum = function() {
var e = this;
this._onlineNum = 0;
this._friendList.forEach(function(t) {
0 != t.isOnline && (e._onlineNum += 1);
});
return this._onlineNum;
};
e.prototype.changeFriendState = function(e) {
var t = this.getFriendToUid(e.uid);
if (t) {
t.isOnline = e.isOnline;
t.gameType = e.gameType;
t.roomType = e.roomType;
t.roomId = e.roomId;
t.seat = e.seat;
i.MyEvent.getInstance().emit("CHANGE_FRIEND_STATE_EVENT", t);
}
};
Object.defineProperty(e.prototype, "friendList", {
get: function() {
return this._friendList;
},
enumerable: !1,
configurable: !0
});
e.prototype.resetFriendList = function() {
this._friendList = [];
this._friendUnreadNum = 0;
this._friendAddUnreadNum = 0;
this._newFansUnreadNum = 0;
};
e.getInstance = function() {
this.instance || (this.instance = new e());
return this.instance;
};
Object.defineProperty(e.prototype, "friendUnreadNum", {
get: function() {
return this._friendUnreadNum;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "friendAddUnreadNum", {
get: function() {
return this._friendAddUnreadNum;
},
set: function(e) {
this._friendAddUnreadNum = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "fansUnreadNum", {
get: function() {
return this._newFansUnreadNum;
},
set: function(e) {
this._newFansUnreadNum = this._newFansUnreadNum + e;
},
enumerable: !1,
configurable: !0
});
e.prototype.reduceFans = function() {
this._newFansUnreadNum = this._newFansUnreadNum - 1;
if (this._newFansUnreadNum <= 0) {
this._newFansUnreadNum = 0;
this._newFansData = {};
i.MyEvent.getInstance().emit("UPDATE_NEW_FANS_STATUS");
}
};
Object.defineProperty(e.prototype, "newFans", {
get: function() {
return this._newFansData;
},
set: function(e) {
this._newFansData[e.uid] = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "friendAddList", {
get: function() {
return this._friendAddList;
},
set: function(e) {
this._friendAddList = e;
},
enumerable: !1,
configurable: !0
});
return e;
}();
o.default = s;
o.FriendData = function() {
this.unreadMsg = 0;
};
var c = function() {
function e() {
this._friendMsgList = {};
}
e.prototype.pushFriendMsgList = function(e, t) {
var o = this;
e.forEach(function(e) {
var i = e.fromUid;
if (e.fromUid == r.default.UserData.userId) {
e.toUid && (i = e.toUid);
e.getUid && (i = e.getUid);
}
console.log(o._friendMsgList[i], !o._friendMsgList[i], "");
if (!o._friendMsgList[i]) {
var c = a.default.readFriendMsgData(i);
c = c ? JSON.parse(c) : [];
o._friendMsgList[i] = c;
}
t && n.default.getInstance().socketSend.getRedbagState([ e.redid ]);
o._friendMsgList[i].push(e);
a.default.saveFriendMsgData(i, o._friendMsgList[i]);
s.getInstance().signUnreadMsg(e.fromUid, 1);
});
i.MyEvent.getInstance().emit("UPDATE_FRIENDCHAT_EVENT", e);
};
e.prototype.createrFriendMsgList = function() {
var e = this;
s.getInstance().friendList.forEach(function(t) {
var o = a.default.readFriendMsgData(t.uid);
o = o ? JSON.parse(o) : [];
e._friendMsgList || (e._friendMsgList = {});
e._friendMsgList[t.uid] = o;
});
};
e.prototype.clearFriendMsg = function(e) {
a.default.saveFriendMsgData(e, []);
this._friendMsgList[e] = [];
};
e.prototype.setFrinedList = function(e, t) {
this._friendMsgList[e] = t;
a.default.saveFriendMsgData(e, t);
};
e.prototype.getFriendList = function(e) {
return this._friendMsgList[e];
};
e.prototype.resetFriendList = function() {
this._friendMsgList = {};
};
e.getInstance = function() {
this.instance || (this.instance = new e());
return this.instance;
};
return e;
}();
o.friendMsgList = c;
o.FriendMsgData = function() {};
o.FriendRequestData = function() {};
o.FansOrLooksData = function() {};
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Socket/WebSocketManager": "WebSocketManager",
"../Util/GameUtil": "GameUtil",
"./GameData": "GameData"
} ],
GameActions: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d75d6oOwwhM3p1FcRWJtzhl", "GameActions");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.BJOperationButtonID = void 0;
var r = e("../../PublicTools/GameEvents"), s = e("../../EXUIFrame/EXSoundMgr"), c = e("../GameBJConst"), l = cc._decorator, d = l.ccclass;
l.property;
(function(e) {
e[e.stop = 0] = "stop";
e[e.split = 1] = "split";
e[e.hit = 2] = "hit";
e[e.double = 3] = "double";
})(o.BJOperationButtonID || (o.BJOperationButtonID = {}));
var h = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.stopBtn = null;
t.splitBtn = null;
t.moreBtn = null;
t.doubleBtn = null;
t.stopSwitcher = null;
t.splitSwitcher = null;
t.moreSwitcher = null;
t.doubleSwitcher = null;
t.operationBtnList = [];
t.preActionID = 0;
return t;
}
t.prototype.onLoad = function() {
this.stopBtn = this.node.getChildByName("stop");
this.stopBtn.on("click", this.onStop, this);
this.stopSwitcher = this.stopBtn.getChildByName("check");
this.stopSwitcher.on("click", this.onStopSwitcher, this);
this.splitBtn = this.node.getChildByName("split");
this.splitBtn.on("click", this.onSplit, this);
this.splitSwitcher = this.splitBtn.getChildByName("check");
this.splitSwitcher.on("click", this.onSplitSwitcher, this);
this.moreBtn = this.node.getChildByName("hit");
this.moreBtn.on("click", this.onMore, this);
this.moreSwitcher = this.moreBtn.getChildByName("check");
this.moreSwitcher.on("click", this.onMoreSwitcher, this);
this.doubleBtn = this.node.getChildByName("double");
this.doubleBtn.on("click", this.onDouble, this);
this.doubleSwitcher = this.doubleBtn.getChildByName("check");
this.doubleSwitcher.on("click", this.onDoubleSwitcher, this);
this.operationBtnList = [ this.stopBtn, this.splitBtn, this.moreBtn, this.doubleBtn ];
this.reset();
this.node.active = !1;
};
t.prototype.init = function() {};
t.prototype.reset = function() {
this.preActionID = 0;
this.stopSwitcher.active = !0;
this.moreSwitcher.active = !0;
this.splitSwitcher.active = !0;
this.doubleSwitcher.active = !0;
this.stopSwitcher.getComponent(cc.Toggle).isChecked = !1;
this.moreSwitcher.getComponent(cc.Toggle).isChecked = !1;
this.splitSwitcher.getComponent(cc.Toggle).isChecked = !1;
this.doubleSwitcher.getComponent(cc.Toggle).isChecked = !1;
};
t.prototype.sleep = function() {
this.stopBtn.getComponent(cc.Button).interactable = !1;
this.splitBtn.getComponent(cc.Button).interactable = !1;
this.moreBtn.getComponent(cc.Button).interactable = !1;
this.doubleBtn.getComponent(cc.Button).interactable = !1;
};
t.prototype.active = function() {
this.stopBtn.getComponent(cc.Button).interactable = !0;
this.splitBtn.getComponent(cc.Button).interactable = !0;
this.moreBtn.getComponent(cc.Button).interactable = !0;
this.doubleBtn.getComponent(cc.Button).interactable = !0;
};
t.prototype.setOperationButtonEnabled = function(e, t) {
this.operationBtnList[e].getComponent(cc.Button).interactable = t;
};
t.prototype.hidePreAction = function() {
this.stopSwitcher.active = !1;
this.moreSwitcher.active = !1;
this.splitSwitcher.active = !1;
this.doubleSwitcher.active = !1;
};
t.prototype.resetPreAction = function() {
this.unselectAll();
};
t.prototype.showPreAction = function() {
this.stopSwitcher.active = !0;
this.moreSwitcher.active = !0;
this.splitSwitcher.active = !0;
this.doubleSwitcher.active = !0;
this.moreSwitcher.getComponent(cc.Toggle).isChecked = !1;
this.splitSwitcher.getComponent(cc.Toggle).isChecked = !1;
this.doubleSwitcher.getComponent(cc.Toggle).isChecked = !1;
this.stopSwitcher.getComponent(cc.Toggle).isChecked = !1;
this.preActionID == c.BJUserAction.hit ? this.moreSwitcher.getComponent(cc.Toggle).isChecked = !0 : this.preActionID == c.BJUserAction.double ? this.doubleSwitcher.getComponent(cc.Toggle).isChecked = !0 : this.preActionID == c.BJUserAction.split ? this.splitSwitcher.getComponent(cc.Toggle).isChecked = !0 : this.preActionID == c.BJUserAction.stop && (this.stopSwitcher.getComponent(cc.Toggle).isChecked = !0);
};
t.prototype.onStop = function() {
s.default.inst.playEffect("new_res_btnSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
if (0 == this.stopSwitcher.active) r.MyEvent.getInstance().emit("BJ_EVENT_STOP_CARD"); else {
this.unselectAll();
this.stopSwitcher.getComponent(cc.Toggle).isChecked = !0;
this.preActionID = c.BJUserAction.stop;
}
};
t.prototype.onStopSwitcher = function() {};
t.prototype.onSplit = function() {
s.default.inst.playEffect("new_res_btnSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
if (0 == this.splitSwitcher.active) r.MyEvent.getInstance().emit("BJ_EVENT_SPLIT_CARD"); else {
this.unselectAll();
this.splitSwitcher.getComponent(cc.Toggle).isChecked = !0;
this.preActionID = c.BJUserAction.split;
}
};
t.prototype.onSplitSwitcher = function() {};
t.prototype.onMore = function() {
s.default.inst.playEffect("new_res_btnSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
if (0 == this.moreSwitcher.active) {
r.MyEvent.getInstance().emit("BJ_EVENT_HIT_CARD");
this.sleep();
} else {
this.unselectAll();
this.moreSwitcher.getComponent(cc.Toggle).isChecked = !0;
this.preActionID = c.BJUserAction.hit;
}
};
t.prototype.unselectAll = function() {
this.preActionID = 0;
this.moreSwitcher.getComponent(cc.Toggle).isChecked = !1;
this.splitSwitcher.getComponent(cc.Toggle).isChecked = !1;
this.doubleSwitcher.getComponent(cc.Toggle).isChecked = !1;
this.stopSwitcher.getComponent(cc.Toggle).isChecked = !1;
};
t.prototype.onMoreSwitcher = function() {};
t.prototype.onDouble = function() {
s.default.inst.playEffect("new_res_btnSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
if (0 == this.doubleSwitcher.active) r.MyEvent.getInstance().emit("BJ_EVENT_DOUBLE_CARD"); else {
this.unselectAll();
this.doubleSwitcher.getComponent(cc.Toggle).isChecked = !0;
this.preActionID = c.BJUserAction.double;
}
};
t.prototype.onDoubleSwitcher = function() {};
t.prototype.getPreActionID = function() {
return this.preActionID;
};
t.prototype.start = function() {};
return a([ d ], t);
}(cc.Component);
o.default = h;
cc._RF.pop();
}, {
"../../EXUIFrame/EXSoundMgr": "EXSoundMgr",
"../../PublicTools/GameEvents": "GameEvents",
"../GameBJConst": "GameBJConst"
} ],
GameActivityPageDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "71438j9SphEdpJbRjTucCDU", "GameActivityPageDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../data/MyData"), s = e("../../../public/MyComponent/GameHppayUtil"), c = e("../../../public/MyComponent/WindowBase"), l = e("../../../data/GameLangData"), d = e("../../../manager/GameSoundMgr"), h = e("../../../data/conf/GameRes"), u = e("../../executor/activity/GameActivityPageEx"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._labelCurrIndexDesc = null;
t._topBar = null;
t._labelMyChip = null;
t._rootNode = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
var e = this.node.getChildByName("dlgBg").getChildByName("bg");
this.setNodeFullScreen(e);
this._webNode = this._rootNode.getChildByName("webview");
this._webView = this._webNode.getComponent(cc.WebView);
this.exView = new u.default();
this.exView.setProxy(this);
this.vipWebCallCCC();
};
t.prototype.setView = function() {
this._rootNode = this.node.getChildByName("dlgBg");
this._rootNode.getChildByName("closeBtn").on("click", this.onClose, this);
this._topBar = this._rootNode.getChildByName("topBar");
this._topBar.getChildByName("onlineBtn").on("click", this.onLine, this);
this._topBar.getChildByName("onlineBtn").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("customerService");
this._labelCurrIndexDesc = this._topBar.getChildByName("labelTitle").getComponent(cc.Label);
this._labelMyChip = this._topBar.getChildByName("chip").getChildByName("labelChip");
};
t.prototype.onLine = function() {
d.default.inst.playGameEffect(d.AudioRes.click);
s.default.showFeedback();
};
t.prototype.onShow = function(t) {
e.prototype.onShow.call(this, t);
this.needAnimation = !1;
};
t.prototype.showActivityWeb = function(e) {
this.exView.showActivityWebEx(e);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.register("ActivityPage", [ "CLOSE_ACTIVITY_DIALOG", "MONEY_UPDATE_EVENT" ]);
this._initUserInfo(r.default.UserData.chip, r.default.UserData.point, r.default.UserData.coin);
s.default.loadSprAtlasFrame(this._topBar.getChildByName("chip").getChildByName("icon"), h.GameResInfo.CURRENCY_ROOT_DIR + h.GameResInfo.CURRENCY_ICON);
this.showLoading(null, null, !0);
var t = this._data.split("|");
if (t && 2 == t.length) {
this.showActivityWeb(t[0]);
this._labelCurrIndexDesc.string = t[1];
}
};
t.prototype.handleAppEvent = function(e) {
e.arg;
switch (e.key) {
case "MONEY_UPDATE_EVENT":
this._updateMyInfo();
break;

case "CLOSE_ACTIVITY_DIALOG":
this.onClose();
}
};
t.prototype._initUserInfo = function(e) {
this._labelMyChip.getComponent(cc.Label).string = "" + s.default.cul(e.toFixed(2));
};
t.prototype._updateMyInfo = function() {
s.default.changeLabelNum(this._labelMyChip, r.default.UserData.chip);
this._webView.evaluateJS("clientResponse()");
};
t.prototype.vipWebCallCCC = function() {
this.exView.vipWebCallCCCEx();
};
t.prototype.startGame = function() {};
return a([ f ], t);
}(c.default));
o.default = m;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../data/MyData": "MyData",
"../../../data/conf/GameRes": "GameRes",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../executor/activity/GameActivityPageEx": "GameActivityPageEx"
} ],
GameActivityPageEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b2de8ioUThAKYVKyHqpyu6e", "GameActivityPageEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../communication/GameLobbyHttp"), s = e("../../../data/GameLangData"), c = e("../../../data/MyData"), l = e("../../../data/conf/GameConfig"), d = e("../../../data/conf/GameInfo"), h = e("../../../manager/PlatformInterface"), u = e("../../../natives/AndroidInfo"), p = e("../../../natives/AndroidPayment"), f = e("../../../public/MyComponent/GameHppayUtil"), m = e("../../../public/MyComponent/ViewExecutorBase"), g = cc._decorator, y = g.ccclass, _ = (g.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.showActivityWebEx = function(e) {
var t = {};
t.gameid = d.default.gameid;
t.appid = d.default.appid;
t.ver = d.default.ver;
t.hver = d.default.hver;
t.locale = d.default.localLanguage;
t.ukey = c.default.UserData.ukey;
t.uid = c.default.UserData.userId;
t.width = cc.winSize.width;
t.height = cc.winSize.height;
t.actId = e;
t.lan = d.default.sourceLanguage;
var o = "";
for (var i in t) o += i + "=" + t[i] + "&";
o = o.substring(0, o.length - 1);
var n = l.default.webviewUrl + "act-open?" + o;
this.node._webView.url = n;
};
t.prototype.vipWebCallCCCEx = function() {
var e = this, t = d.default.scheme;
this.node._webView.setJavascriptInterfaceScheme(t);
this.node._webView.setOnJSCallback(function(o, i) {
var n = i.replace(t + "://", "").split("&"), a = {};
for (var l in n) {
var d = n[l].split("=");
"params" == d[0] ? a[d[0]] = JSON.parse(d[1]) : a[d[0]] = d[1];
}
if ("openfeedback" == a.fun) {
f.default.showFeedback();
e.node.onClose();
} else if ("showLoading" == a.fun) e.node.showLoading(null, null, !0); else if ("hideLoading" == a.fun) e.node.hideLoading(); else if ("showAlert" == a.fun) f.default.alert(a.params.msg); else if ("openMall" == a.fun) ; else if ("placeOrder" == a.fun) {
var m = {};
m.goodsId = a.params.productInfo.id;
m.payType = p.default.inst.payType;
r.default.getInstance().httpPost("order", m, function(t) {
if (0 == t.error_code) {
e.node.showLoading(null, null, !0);
p.default.inst.buyCommodity(a.params.productInfo.product_id);
} else f.default.alert(s.default.ins.STRING_COMMON("appPayErr"));
});
} else if ("updateWebView" == a.fun) e.node._webView.evaluateJS("clientResponse()"); else if ("openBrowser" == a.fun) h.default.openBrowser(a.params.url); else if ("chatWithWhatsApp" == a.fun) u.default.inst.chatWithWhatsApp(c.default.UserData.userId, a.params.phone); else if ("startGame" == a.fun) {
e.node.startGame(a.params);
e.node.onClose();
}
});
};
return a([ y ], t);
}(m.default));
o.default = _;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../data/MyData": "MyData",
"../../../data/conf/GameConfig": "GameConfig",
"../../../data/conf/GameInfo": "GameInfo",
"../../../manager/PlatformInterface": "PlatformInterface",
"../../../natives/AndroidInfo": "AndroidInfo",
"../../../natives/AndroidPayment": "AndroidPayment",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
GameAdapter: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "cc26beq6UJAiqehxPvdbNJT", "GameAdapter");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.screenTypeEnum = void 0;
var n, a = e("./GameDataInfo"), r = cc._decorator, s = r.ccclass;
r.property;
(function(e) {
e[e.isIphone6Szie = 1] = "isIphone6Szie";
e[e.isIphoneX = 2] = "isIphoneX";
e[e.isIpad = 3] = "isIpad";
})(n = o.screenTypeEnum || (o.screenTypeEnum = {}));
var c = function() {
function e() {
this._screenType = 0;
this.ixSafeArea = 0;
this.offset = 0;
}
t = e;
e.prototype.initSceneConfg = function() {
this.windowSize = cc.winSize;
var e = cc.view.getFrameSize().height, t = cc.view.getFrameSize().width;
if (t / e > 2.1) {
this._screenType = n.isIphoneX;
this.ixSafeArea = 88;
this.offset = 0;
} else if (t / e > 1.6) {
this._screenType = n.isIphone6Szie;
this.offset = (2339 - t) / 2;
} else t / e > 1.3 && (this._screenType = n.isIpad);
console.log("Ipad", a.default.isPad);
a.default.isPad && (this._screenType = n.isIpad);
};
e.prototype.setAdaptation = function(e) {
e.height = e.height;
var t = cc.view.getFrameSize().width, o = cc.view.getFrameSize().height, i = cc.view.getCanvasSize().width, n = cc.view.getCanvasSize().height, r = Math.min(t / e.width, o / e.height), s = e.width * r, c = e.height * r, l = Math.max(t / s, c / c), d = cc.view.getCanvasSize().height, h = cc.view.getCanvasSize().width;
h / d > 2.1 ? l = 1 : h / d > 1.6 ? l *= 1.08 : l = 1;
a.default.isPad && (l = 1);
console.log("", t, o, i, n, l, cc.winSize.height);
e.scale = l;
};
e.resize = function() {
var e, t = cc.find("Canvas").getComponent(cc.Canvas);
e || (e = t.designResolution);
var o = e, i = cc.view.getFrameSize(), n = i.width, a = i.height, r = n, s = a;
n / a > o.width / o.height ? r = (s = o.height) * n / a : s = a / n * (r = o.width);
t.fitHeight = !1;
t.fitWidth = !1;
t.designResolution = cc.size(r, s);
t.node.width = r;
t.node.height = s;
t.node.emit("resize");
};
Object.defineProperty(e.prototype, "screenType", {
get: function() {
return this._screenType;
},
enumerable: !1,
configurable: !0
});
e.getInstance = function() {
null == this.mInstance && (this.mInstance = new t());
return this.mInstance;
};
var t;
e.mInstance = null;
return t = i([ s ], e);
}();
o.default = c;
cc._RF.pop();
}, {
"./GameDataInfo": "GameDataInfo"
} ],
GameAlertConfirmDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b69e1wdt1pES5iQd1v6tHRB", "GameAlertConfirmDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../public/MyComponent/WindowBase"), s = e("../../data/GameLangData"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._labelTitle = null;
t._labelConfirmDesc = null;
t._labelConfirmContent = null;
return t;
}
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this.setView();
};
t.prototype.setView = function() {
var e = this.node.getChildByName("dlgBg");
this._labelTitle = e.getChildByName("titleLabel").getComponent(cc.Label);
this._labelConfirmDesc = e.getChildByName("labelContentDesc").getComponent(cc.Label);
this._labelConfirmContent = e.getChildByName("labelContentConfirm").getComponent(cc.Label);
var t = e.getChildByName("okBtn"), o = e.getChildByName("cancelBtn");
this._btnList = [ t, o ];
this.addBtnClick();
this._labelTitle.string = s.default.ins.STRING_COMMON("tips");
t.getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_DIALOG_LANG("enter");
o.getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_DIALOG_LANG("cancel");
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.setDataView();
};
t.prototype.setDataView = function() {
this._labelConfirmContent.string = this._data.confirmContent;
this._data.title && (this._labelTitle.string = this._data.title);
this._data.confirmDesc && (this._labelConfirmDesc.string = this._data.confirmDesc);
this._data.callback && (this._callback = this._data.callback);
this._data.x && (this.node.getChildByName("dialog").x = this._data.x);
this._data.y && (this.node.getChildByName("dialog").y = this._data.y);
};
t.prototype.onBtnClick = function(t) {
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "okBtn":
this._onConfirm();
break;

case "cancelBtn":
this._onCancel();
}
};
t.prototype._onConfirm = function() {
null != this._callback && this._callback();
this.onClose();
};
t.prototype._onCancel = function() {
this.onClose();
};
return a([ l ], t);
}(r.default));
o.default = d;
cc._RF.pop();
}, {
"../../data/GameLangData": "GameLangData",
"../../public/MyComponent/WindowBase": "WindowBase"
} ],
GameAlertNoTitleDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9751dFEPjVImJ8Ii0GfqP1C", "GameAlertNoTitleDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../public/MyComponent/WindowBase"), s = e("../../data/GameLangData"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._labelContent = null;
t._btnOK = null;
t._btnOKLabel = null;
return t;
}
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this.setView();
};
t.prototype.setView = function() {
var e = this.node.getChildByName("dlgBg");
this._labelContent = e.getChildByName("labelContent").getComponent(cc.Label);
this._btnOK = e.getChildByName("btnOK");
this._btnOKLabel = this._btnOK.getChildByName("label").getComponent(cc.Label);
this._btnOKLabel.string = s.default.ins.GET_DIALOG_LANG("enter");
this._btnList = [ this._btnOK ];
this.addBtnClick();
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.setDataView();
};
t.prototype.setDataView = function() {
this._labelContent.string = this._data.content;
this._data.btnDesc && (this._btnOKLabel.string = this._data.btnDesc);
this._data.callback && (this._callback = this._data.callback);
this._data.x && (this.node.getChildByName("dialog").x = this._data.x);
this._data.y && (this.node.getChildByName("dialog").y = this._data.y);
};
t.prototype.onBtnClick = function(t) {
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "btnOK":
this._onConfirm();
}
};
t.prototype._onConfirm = function() {
null != this._callback && this._callback();
this.onClose();
};
return a([ l ], t);
}(r.default));
o.default = d;
cc._RF.pop();
}, {
"../../data/GameLangData": "GameLangData",
"../../public/MyComponent/WindowBase": "WindowBase"
} ],
GameAlert: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a2a25UcFUZCa6BgrItHp1gv", "GameAlert");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../public/MyComponent/WindowBase"), s = e("../../data/GameLangData"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._labelTitle = null;
t._labelContent = null;
t._btnOK = null;
t._btnOKLabel = null;
t._btnOKYellow = null;
t._btnOKYellowLabel = null;
return t;
}
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this.setView();
};
t.prototype.setView = function() {
var e = this.node.getChildByName("dlgBg");
this._labelTitle = e.getChildByName("title").getComponent(cc.Label);
this._labelContent = e.getChildByName("labelContent").getComponent(cc.Label);
this._btnOK = e.getChildByName("okBtn");
this._btnOKLabel = this._btnOK.getChildByName("label").getComponent(cc.Label);
this._btnOKYellow = e.getChildByName("okBtn2");
this._btnOKYellowLabel = this._btnOKYellow.getChildByName("label").getComponent(cc.Label);
this._labelTitle.string = s.default.ins.STRING_COMMON("tips");
this._btnOKLabel.string = s.default.ins.GET_DIALOG_LANG("enter");
this._btnOKYellowLabel.string = s.default.ins.GET_DIALOG_LANG("enter");
this._btnList = [ this._btnOK, this._btnOKYellow ];
this.addBtnClick();
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.setDataView();
};
t.prototype.setDataView = function() {
this._labelContent.string = this._data.content;
this._data.title && (this._labelTitle.string = this._data.title);
if (this._data.btnDesc) {
this._btnOKLabel.string = this._data.btnDesc;
this._btnOKYellowLabel.string = this._data.btnDesc;
}
this._data.callback && (this._callback = this._data.callback);
if (1 == (this._data.btnType || 1)) {
this._btnOK.active = !0;
this._btnOKYellow.active = !1;
this._btnOK.getComponent(cc.Button).enabled = !0;
this._btnOKYellow.getComponent(cc.Button).enabled = !1;
} else {
this._btnOK.active = !1;
this._btnOKYellow.active = !0;
this._btnOK.getComponent(cc.Button).enabled = !1;
this._btnOKYellow.getComponent(cc.Button).enabled = !0;
}
this._data.x && (this.node.getChildByName("dialog").x = this._data.x);
this._data.y && (this.node.getChildByName("dialog").y = this._data.y);
};
t.prototype.onBtnClick = function(t) {
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "okBtn":
case "okBtn2":
this._onConfirm();
}
};
t.prototype._onConfirm = function() {
null != this._callback && this._callback();
this.onClose();
};
return a([ l ], t);
}(r.default));
o.default = d;
cc._RF.pop();
}, {
"../../data/GameLangData": "GameLangData",
"../../public/MyComponent/WindowBase": "WindowBase"
} ],
GameAllConst: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4a438EpwPpO+rrKmco5pGA1", "GameAllConst");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.moneyChange = o.bindType = o.phoneVerify = o.showLanguage = o.sandVoice = o.broadcastType = o.tableAnimationState = o.betChange = o.MoneyType = o.roomInfoType = o.seatState = o.vipRLFlag = o.baccaratRoomType = o.goldType = o.gameType = o.ConstNumber = o.ScreenData = o.screenTypeEnum = void 0;
(function(e) {
e[e.isIphone6Szie = 1] = "isIphone6Szie";
e[e.isIphoneX = 2] = "isIphoneX";
e[e.isIpad = 3] = "isIpad";
})(o.screenTypeEnum || (o.screenTypeEnum = {}));
(function(e) {
e[e.designWidth = 2339] = "designWidth";
e[e.designHeight = 1080] = "designHeight";
e[e.designHalfWidth = 1169.5] = "designHalfWidth";
e[e.designHalfHeight = 540] = "designHalfHeight";
})(o.ScreenData || (o.ScreenData = {}));
(function(e) {
e[e.zero = 0] = "zero";
})(o.ConstNumber || (o.ConstNumber = {}));
(function(e) {
e[e.baccarat = 1] = "baccarat";
e[e.blackjack = 2] = "blackjack";
e[e.baccaratHnd = 3] = "baccaratHnd";
e[e.dragonTigerFight = 4] = "dragonTigerFight";
e[e.dice = 5] = "dice";
e[e.intDice = 6] = "intDice";
e[e.birdAnimals = 7] = "birdAnimals";
e[e.romaSlot = 8] = "romaSlot";
e[e.webGame = 99] = "webGame";
})(o.gameType || (o.gameType = {}));
(function(e) {
e[e.free = 1] = "free";
e[e.charge = 2] = "charge";
e[e.vip = 3] = "vip";
e[e.tiger = 4] = "tiger";
})(o.goldType || (o.goldType = {}));
(function(e) {
e[e.classic = 1] = "classic";
e[e.singapore = 2] = "singapore";
})(o.baccaratRoomType || (o.baccaratRoomType = {}));
(function(e) {
e[e.self = 1] = "self";
e[e.friend = 2] = "friend";
})(o.vipRLFlag || (o.vipRLFlag = {}));
(function(e) {
e[e.normal = 1] = "normal";
e[e.play = 2] = "play";
e[e.invitation = 3] = "invitation";
})(o.seatState || (o.seatState = {}));
(function(e) {
e[e.playerNum = 1] = "playerNum";
e[e.roomType = 2] = "roomType";
e[e.results = 3] = "results";
e[e.bankBet = 4] = "bankBet";
e[e.playerBet = 5] = "playerBet";
e[e.peaceBet = 6] = "peaceBet";
})(o.roomInfoType || (o.roomInfoType = {}));
(function(e) {
e[e.coin = 1] = "coin";
e[e.chip = 2] = "chip";
e[e.ticket = 3] = "ticket";
})(o.MoneyType || (o.MoneyType = {}));
(function(e) {
e[e.start = 0] = "start";
e[e.betPlaced = 1] = "betPlaced";
e[e.recall = 2] = "recall";
})(o.betChange || (o.betChange = {}));
(function(e) {
e[e.normal = 0] = "normal";
e[e.bet = 1] = "bet";
})(o.tableAnimationState || (o.tableAnimationState = {}));
(function(e) {
e[e.chat = 0] = "chat";
e[e.mipai_move = 1] = "mipai_move";
e[e.mipai_reset = 2] = "mipai_reset";
e[e.mipai_angle = 3] = "mipai_angle";
e[e.mipai_open = 4] = "mipai_open";
e[e.cutCard_move = 5] = "cutCard_move";
e[e.cutCard_ing = 6] = "cutCard_ing";
e[e.vociferate = 7] = "vociferate";
e[e.ejimo = 8] = "ejimo";
})(o.broadcastType || (o.broadcastType = {}));
(function(e) {
e[e.hk = 1] = "hk";
e[e.cn = 2] = "cn";
e[e.en = 3] = "en";
e[e.th = 4] = "th";
e[e.jp = 5] = "jp";
})(o.sandVoice || (o.sandVoice = {}));
(function(e) {
e[e.tw = 1] = "tw";
e[e.cn = 2] = "cn";
e[e.en = 3] = "en";
e[e.hk = 4] = "hk";
e[e.jp = 5] = "jp";
e[e.th = 6] = "th";
})(o.showLanguage || (o.showLanguage = {}));
(function(e) {
e[e.register = 1] = "register";
e[e.login = 2] = "login";
e[e.forgotPassword = 3] = "forgotPassword";
e[e.binding = 4] = "binding";
e[e.sendChips = 5] = "sendChips";
})(o.phoneVerify || (o.phoneVerify = {}));
(function(e) {
e[e.phone = 1] = "phone";
e[e.facebook = 10] = "facebook";
})(o.bindType || (o.bindType = {}));
(function(e) {
e[e.changeNick = 10] = "changeNick";
e[e.loginReward = 11] = "loginReward";
e[e.timeReward = 12] = "timeReward";
e[e.watchReward = 13] = "watchReward";
e[e.safe = 14] = "safe";
e[e.redEnvelope = 15] = "redEnvelope";
e[e.friendGold = 16] = "friendGold";
e[e.loginTask = 17] = "loginTask";
e[e.task = 18] = "task";
e[e.inviteReg = 19] = "inviteReg";
e[e.broadcast = 20] = "broadcast";
e[e.gift = 21] = "gift";
e[e.broken = 22] = "broken";
e[e.transfer = 23] = "transfer";
})(o.moneyChange || (o.moneyChange = {}));
o.default = function() {};
cc._RF.pop();
}, {} ],
GameAllData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8173fg4K0ZIpKw3EzlrnJSs", "GameAllData");
var i, n = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.ConfigLocal = o.ConfigTest = o.ConfigDefault = o.ConfigUrl = void 0;
(function(e) {
e.test = "";
e.online = "";
})(o.ConfigUrl || (o.ConfigUrl = {}));
(function(e) {
e.phpUrl = "https://www.lucky616.com/api/";
e.awatarUrl = "https://www.lucky616.com/api/";
e.webviewUrl = "https://www.lucky616.com/webview/";
e.resourceUrl = "https://www.lucky616.com/resource/";
e.gppayUrl = "https://www.lucky616.com/api/";
e.initUrl = "https://www.lucky616.com/api/";
e.pingUrl = "https://www.lucky616.com/ping.php";
e[e.delayCheck = 1] = "delayCheck";
e[e.canSendChips = 1] = "canSendChips";
})(i = o.ConfigDefault || (o.ConfigDefault = {}));
(function(e) {
e.phpUrl = "";
e.awatarUrl = "";
e.webviewUrl = "";
e.resourceUrl = "";
e[e.delayCheck = 1] = "delayCheck";
e[e.canSendChips = 1] = "canSendChips";
})(o.ConfigTest || (o.ConfigTest = {}));
var a = function() {
function e() {}
e.phpUrl = i.phpUrl;
e.awatarUrl = i.awatarUrl;
e.webviewUrl = i.webviewUrl;
e.resourceUrl = i.resourceUrl;
e.delayCheck = i.delayCheck;
e.canSendChips = i.canSendChips;
return e;
}();
o.ConfigLocal = a;
var r = cc._decorator, s = r.ccclass, c = (r.property, function() {
function e() {}
e.init = function() {};
e.initLocalConfig = function() {};
e.setTestConfig = function() {};
e.setOnlineConfig = function() {};
e.phpUrl = i.phpUrl;
e.awatarUrl = i.awatarUrl;
e.webviewUrl = i.webviewUrl;
e.resourceUrl = i.resourceUrl;
e.GPPayURL = i.gppayUrl;
e.initUrl = i.initUrl;
e.pingUrl = i.pingUrl;
e.delayCheck = i.delayCheck;
e.canSendChips = i.canSendChips;
e.officialUrl = "";
return n([ s ], e);
}());
o.default = c;
cc._RF.pop();
}, {} ],
GameBJAnimPlayer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ad030ikiSJLdriD/RXRL1HP", "GameBJAnimPlayer");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.BJAnimID = void 0;
(function(e) {
e.boom1 = "blackjack/animation/attacked_fire";
e.boom2 = "blackjack/animation/attacked_fire";
e.blackjack = "blackjack/animation/blackjack_new";
e.sidepot = "blackjack/animation/xuanzhong_guangxiao";
e.timer = "blackjack/animation/time_fang";
e.allin = "blackjack/animation/fire";
e.win = "blackjack/animation/win";
})(o.BJAnimID || (o.BJAnimID = {}));
var n = cc._decorator, a = n.ccclass, r = (n.property, function() {
function e() {}
t = e;
e.prototype.playAnim = function() {};
e.prototype.playCardTypeAnim = function() {};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ a ], e);
}());
o.default = r;
cc._RF.pop();
}, {} ],
GameBJConst: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a18f802CItHpK0e1WtBbZlz", "GameBJConst");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.BJConst = o.BJUserAction = o.BJWinType = o.BJBetAreaID = o.BJGameStatus = o.BJPreSettlementReason = o.BJCompenentName = o.BJValueTips = o.BJRoomType = o.BJDirection = o.BJSeatPositionID = void 0;
(function(e) {
e[e.NONE = 0] = "NONE";
e[e.LEFT = 1] = "LEFT";
e[e.CENTER = 2] = "CENTER";
e[e.RIGHT = 3] = "RIGHT";
})(o.BJSeatPositionID || (o.BJSeatPositionID = {}));
(function(e) {
e[e.RIGHT = 1] = "RIGHT";
e[e.LEFT = 2] = "LEFT";
e[e.UP = 3] = "UP";
e[e.DOWN = 4] = "DOWN";
e[e.CENTER = 5] = "CENTER";
})(o.BJDirection || (o.BJDirection = {}));
(function(e) {
e[e.free = 1] = "free";
e[e.charge = 2] = "charge";
e[e.sevens = 3] = "sevens";
e[e.vip = 4] = "vip";
})(o.BJRoomType || (o.BJRoomType = {}));
(function(e) {
e[e.main = 1] = "main";
e[e.xtreme = 2] = "xtreme";
e[e.min13 = 3] = "min13";
e[e.max13 = 4] = "max13";
e[e.pair = 5] = "pair";
e[e.sevens = 6] = "sevens";
e[e.insurance = 7] = "insurance";
e[e.xtremePay = 8] = "xtremePay";
e[e.min13Pay = 9] = "min13Pay";
e[e.max13Pay = 10] = "max13Pay";
e[e.pairPay = 11] = "pairPay";
e[e.insurancePay = 12] = "insurancePay";
e[e.singleBet = 13] = "singleBet";
e[e.singleBetDouble = 14] = "singleBetDouble";
e[e.singleBetPay = 15] = "singleBetPay";
e[e.doubleBetLeft = 16] = "doubleBetLeft";
e[e.doubleBetDoubleLeft = 17] = "doubleBetDoubleLeft";
e[e.doubleBetPayLeft = 18] = "doubleBetPayLeft";
e[e.doubleBetRight = 19] = "doubleBetRight";
e[e.doubleBetDoubleRight = 20] = "doubleBetDoubleRight";
e[e.doubleBetPayRight = 21] = "doubleBetPayRight";
})(o.BJValueTips || (o.BJValueTips = {}));
(o.BJCompenentName || (o.BJCompenentName = {})).CUT_CARD_LAYER = "bj_cut_card_layer";
(function(e) {
e[e.blackjack = 1] = "blackjack";
e[e.bursted = 2] = "bursted";
e[e.surrender = 3] = "surrender";
})(o.BJPreSettlementReason || (o.BJPreSettlementReason = {}));
(function(e) {
e.pause = "pause";
e.shuffle = "shuffle";
e.cut_card_anim = "flop";
e.chipin = "chipin";
e.no_chip = "no_chipin";
e.deal_card = "deal_card";
e.insurance = "insure";
e.banker_look_second = "look_second";
e.insurance_pay = "insure_pot";
e.insurance_not_pay = "noinsure_pot";
e.side_pot_settlement = "side_pot";
e.player_action = "player_action";
e.player_split = "split";
e.banker_action = "banker_action";
e.settlement = "settlement";
e.pre_settlement = "prev_over";
})(o.BJGameStatus || (o.BJGameStatus = {}));
(function(e) {
e[e.main = 1] = "main";
e[e.xtreme = 2] = "xtreme";
e[e.min13 = 3] = "min13";
e[e.max13 = 4] = "max13";
e[e.pair = 5] = "pair";
e[e.sevens = 6] = "sevens";
e[e.insurance = 7] = "insurance";
})(o.BJBetAreaID || (o.BJBetAreaID = {}));
(function(e) {
e[e.main = 1] = "main";
e[e.xtreme_three_flush = 2] = "xtreme_three_flush";
e[e.xtreme_straight_flush = 3] = "xtreme_straight_flush";
e[e.xtreme_three = 4] = "xtreme_three";
e[e.xtreme_straight = 5] = "xtreme_straight";
e[e.xtreme_flush = 6] = "xtreme_flush";
e[e.min13 = 7] = "min13";
e[e.max13 = 8] = "max13";
e[e.perfect_pair = 9] = "perfect_pair";
e[e.color_pair = 10] = "color_pair";
e[e.normal_pair = 11] = "normal_pair";
e[e.sevens_flush_diamond = 12] = "sevens_flush_diamond";
e[e.sevens_flush = 13] = "sevens_flush";
e[e.sevens_color = 14] = "sevens_color";
e[e.sevens_three = 15] = "sevens_three";
e[e.sevens_two = 16] = "sevens_two";
e[e.sevens_one = 17] = "sevens_one";
e[e.insurance = 18] = "insurance";
})(o.BJWinType || (o.BJWinType = {}));
(function(e) {
e[e.hit = 1] = "hit";
e[e.stop = 2] = "stop";
e[e.double = 3] = "double";
e[e.surrender = 4] = "surrender";
e[e.split = 5] = "split";
})(o.BJUserAction || (o.BJUserAction = {}));
var i = function() {
function e() {}
e.BET_CHIPS_NUM = 5;
e.DEAL_CARDS_POS = new cc.Vec2(528, 549);
e.RECYCLE_CARDS_POS = new cc.Vec2(-500, 505);
e.JACKPOT_ANIM_START_POS = new cc.Vec2(0, 222);
e.DEAL_CARD_INTERVAL = .3;
e.PLAYER_ACTION_TIPS_MOVE_TIME = .3;
e.PLAYER_ACTION_TIPS_MOVE_X = 20;
e.SETTLEMENT_WIN_DELAY = 2.4;
e.SETTLEMENT_LOSE_DELAY = 1.4;
e.SETTLEMENT_WIN_TIPS_DELAY = .5;
e.SETTLEMENT_SIDEPOT_LOSE_DELAY = 0;
e.SETTLEMENT_SIDEPOT_WIN_DELAY = .5;
e.SETTLEMENT_PRE_LOSE_DELAY = 2;
e.SETTLEMENT_PRE_WIN_DELAY = 2.5;
e.RESULT_TIPS_WIN_SHOW_TIME = 2.2;
e.RESULT_TIPS_LOSE_SHOW_TIME = 1.2;
e.RESULT_TIPS_DELAY_TIME = .5;
e.CHIP_WIN_TIPS_SHOW_TIME = 2;
return e;
}();
o.BJConst = i;
cc._RF.pop();
}, {} ],
GameBJData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4e111NWWQ5FMbc7oCxjw9Zk", "GameBJData");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("./GameBJConst"), a = cc._decorator, r = a.ccclass, s = (a.property, function() {
function e() {}
e.roomInfo = null;
e.roomType = 1;
e.moneyType = 1;
e.playType = 1;
e.roomID = 0;
e.cardColor = 0;
e.minChip = 0;
e.maxChip = 0;
e.maxSideChip = 0;
e.leftCardsInBox = 0;
e.selfSeatID = 0;
e.selfMoney = 0;
e.cutCardPos = 0;
e.currGameStatus = n.BJGameStatus.pause;
e.currActionHandIndex = 1;
e.currActionSeatID = 0;
e.currSelectBet = 100;
e.currSelectBetIndex = 0;
e.selfBetMainMoney = 0;
return i([ r ], e);
}());
o.default = s;
cc._RF.pop();
}, {
"./GameBJConst": "GameBJConst"
} ],
GameBJLogic: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b5883fQ4jpNbK+g/sXp8/Bl", "GameBJLogic");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("./GameParts/GameButtons"), a = e("./GameParts/GameOperator"), r = e("./GameParts/GameManager"), s = e("../GameCores/GameLayerManager"), c = e("./GameBJConst"), l = e("../GameNetWork/NetWorkAll"), d = e("./GameBJData"), h = e("../FireData/CommonData"), u = e("./GameParts/GameMenu"), p = e("../GameCores/DialogLogic"), f = e("../GameCommon/NVSGameUtil"), m = e("./GameParts/GameTimer"), g = e("../GameFireData/GameAllConst"), y = e("./GameParts/GameActions"), _ = e("../Http/MyHttp"), C = cc._decorator, b = C.ccclass, v = (C.property, 
function() {
function e() {
this.mTableManager = null;
this.mOperationManager = null;
this.mBtnManager = null;
this.mMenuView = null;
this.mClockView = null;
this.mParentNode = null;
this.mRootNode = null;
this.mSelf = null;
this.isEnterForgroundTag = !0;
}
t = e;
e.prototype.load = function(e) {
this.mParentNode = e.node;
this.mSelf = e;
this.mRootNode = this.mParentNode.getChildByName("root");
this.mTableManager = this.mRootNode.getChildByName("tableLayer").getComponent(r.default);
this.mOperationManager = this.mRootNode.getChildByName("operationLayer").getComponent(a.default);
this.mBtnManager = this.mRootNode.getChildByName("btnLayer").getComponent(n.default);
this.mMenuView = this.mRootNode.getChildByName("menuNode").getComponent(u.default);
this.mClockView = this.mRootNode.getChildByName("tableClock").getComponent(m.default);
f.default.saveData("lastGameType", g.gameType.blackjack);
};
e.prototype.start = function() {
this.regesterEvents();
var e = d.default.roomInfo;
d.default.roomType = e.roomType;
d.default.playType = e.playType;
d.default.moneyType = e.moneyType;
d.default.roomID = e.roomID;
d.default.minChip = e.minChip;
d.default.maxChip = e.maxChip;
this.mTableManager.initView(e);
this.mOperationManager.init(e.minChip);
l.default.getInstance().socketSend.bjGetRoomInfo(g.gameType.blackjack, e.roomType, e.roomID, !0);
};
e.prototype.onGetRoomInfo = function() {
this.initRoom();
s.default.ins().hideHallOrRoomExcessive(.1);
};
e.prototype.initRoom = function() {
var e = d.default.roomInfo;
d.default.roomType = e.roomType;
d.default.playType = e.playType;
d.default.moneyType = e.moneyType;
d.default.roomID = e.roomID;
d.default.minChip = e.minChip;
d.default.maxChip = e.maxChip;
d.default.maxSideChip = e.maxSideChip;
d.default.cardColor = e.cardColor;
d.default.leftCardsInBox = e.leftCardCount;
d.default.cutCardPos = e.cutCardPos;
h.default.UserData.roomId = e.roomID;
var t = e.statusData;
d.default.currGameStatus = t.status;
this.mTableManager.onConnect();
this.mTableManager.initCurrGame(e);
this.initRoomByStatus(t);
};
e.prototype.initRoomByStatus = function(e) {
d.default.currGameStatus = e.status;
console.log("start game status ", e.status);
if (d.default.currGameStatus == c.BJGameStatus.pause) this.mOperationManager.showOperationView(a.BJActionType.none, !1); else if (d.default.currGameStatus == c.BJGameStatus.cut_card_anim) this.mTableManager.onCutCardIng(); else if (d.default.currGameStatus == c.BJGameStatus.shuffle) {
d.default.leftCardsInBox = 416;
this.mOperationManager.showOperationView(a.BJActionType.none, !1);
this.mTableManager.endBetAnim(!1, !1);
this.mTableManager.hideAllSeat();
this.mOperationManager.reset();
this.mTableManager.reset();
this.mClockView.stopTimer();
this.mTableManager.updateLeftCardNum(d.default.leftCardsInBox);
} else if (d.default.currGameStatus == c.BJGameStatus.chipin) {
if (d.default.selfSeatID > 0) {
this.mOperationManager.showOperationView(a.BJActionType.user_bet, !1);
this.mOperationManager.showOperationView(a.BJActionType.user_chip, !0);
this.mOperationManager.showOperationView(a.BJActionType.user_info, !0);
this.mTableManager.moveSelfSeatToCenter();
this.mTableManager.startBetAnim();
this.mClockView.node.active = !0;
} else this.mClockView.node.active = !1;
this.mTableManager.refreshTableStatus();
this.mTableManager.startAllSeatsTimer(e.totalTime, e.totalTime - e.leftTime);
this.mClockView.startTimer(e.totalTime, e.leftTime, !0);
this.mTableManager.updateUserMoney(e);
d.default.selfSeatID > 0 && d.default.selfMoney < d.default.minChip && p.default.inst.showDialog(p.DialogIndex.chipInsufficient, d.default.minChip);
} else if (d.default.currGameStatus == c.BJGameStatus.no_chip) {
if (this.getSelfMainBet() > 0) {
this.mOperationManager.hideOperationView(a.BJActionType.user_chip, !0);
this.mOperationManager.hideOperationView(a.BJActionType.user_info, !0);
this.mOperationManager.showOperationView(a.BJActionType.user_bet, !1);
this.mOperationManager.sleepOperationView(a.BJActionType.user_bet);
}
this.mClockView.stopTimer();
this.mTableManager.endBetAnim(!0, !1);
this.mTableManager.setSidePotEnabled(!1);
} else if (d.default.currGameStatus == c.BJGameStatus.deal_card) {
if (this.getSelfMainBet() > 0) {
this.mOperationManager.hideOperationView(a.BJActionType.user_chip, !0);
this.mOperationManager.hideOperationView(a.BJActionType.user_info, !0);
this.mOperationManager.showOperationView(a.BJActionType.user_bet, !1);
this.mOperationManager.sleepOperationView(a.BJActionType.user_bet);
}
this.mClockView.stopTimer();
this.mTableManager.endBetAnim(!0);
this.mTableManager.stopAllSeatsTimer();
this.mTableManager.setSidePotEnabled(!1);
} else if (d.default.currGameStatus == c.BJGameStatus.insurance) for (var o = e.playerInsuranceInfo, i = 0; i < o.length; i++) {
var n = o[i];
if (n.seatID == d.default.selfSeatID) {
this.mOperationManager.showOperationView(a.BJActionType.user_insurance, !1);
this.mOperationManager.activeOperationView(a.BJActionType.user_insurance);
this.mOperationManager.setInsuranceMoney(t.inst.getSelfMainBet() / 2, d.default.moneyType);
this.mTableManager.showSelfInsuraceTips();
}
this.mTableManager.startTimer(n.seatID, e.totalTime, e.totalTime - e.leftTime);
} else if (d.default.currGameStatus == c.BJGameStatus.banker_look_second) this.mTableManager.bankerLookSecondCard(e); else if (d.default.currGameStatus == c.BJGameStatus.insurance_pay) this.mTableManager.insurancePay(e.playerInsurancePayInfo); else if (d.default.currGameStatus == c.BJGameStatus.insurance_not_pay) this.mTableManager.insuranceNotPay(); else if (d.default.currGameStatus == c.BJGameStatus.side_pot_settlement) this.mTableManager.onSidePotSettlement(e); else if (d.default.currGameStatus == c.BJGameStatus.pre_settlement) this.mTableManager.onPreSettlement(e, !0); else if (d.default.currGameStatus == c.BJGameStatus.player_action) {
d.default.currActionSeatID = e.seatID;
d.default.currActionHandIndex = e.handleIndex;
this.mTableManager.onPlayerAction(e);
var r = this.mOperationManager.getPreActionID();
if (d.default.currActionSeatID == d.default.selfSeatID) {
this.mOperationManager.showOperationView(a.BJActionType.user_action, !1);
this.mOperationManager.hidePreAction();
if (r > 0) {
this.mOperationManager.sleepOperationView(a.BJActionType.user_action);
l.default.getInstance().socketSend.bjUserAction(d.default.currActionHandIndex, r);
}
} else if (d.default.currActionSeatID < d.default.selfSeatID && this.mTableManager.isSelfBet() && this.mTableManager.getCurrPoints(d.default.selfSeatID, 1) < 21) {
this.mOperationManager.showOperationView(a.BJActionType.user_action, !1);
this.mOperationManager.activeOperationView(a.BJActionType.user_action);
this.mOperationManager.showPreAction();
0 == this.isSelfCanDouble() && this.setOperationButtonEnabled(y.BJOperationButtonID.double, !1);
0 == this.isSelfCanSplit() && this.setOperationButtonEnabled(y.BJOperationButtonID.split, !1);
} else if (this.mTableManager.isSelfBet()) {
this.mOperationManager.showOperationView(a.BJActionType.user_action, !1);
this.mOperationManager.hidePreAction();
this.mOperationManager.sleepOperationView(a.BJActionType.user_action);
}
} else if (d.default.currGameStatus == c.BJGameStatus.player_split) ; else if (d.default.currGameStatus == c.BJGameStatus.banker_action) {
if (this.getSelfMainBet() > 0) {
this.mOperationManager.showOperationView(a.BJActionType.user_action, !1);
this.mOperationManager.hidePreAction();
this.mOperationManager.sleepOperationView(a.BJActionType.user_action);
}
} else if (d.default.currGameStatus == c.BJGameStatus.settlement) {
e.leftTime < 2 && d.default.selfSeatID > 0 && 0 == this.getSelfMainBet() ? f.default.alert("") : this.mTableManager.onSettlement(e, !0);
if (this.getSelfMainBet() > 0) {
this.mOperationManager.showOperationView(a.BJActionType.user_action, !1);
this.mOperationManager.hidePreAction();
this.mOperationManager.sleepOperationView(a.BJActionType.user_action);
}
}
};
e.prototype.isSelfCanSplit = function() {
return this.mTableManager.isSelfCanSplit();
};
e.prototype.isSelfCanDouble = function() {
return this.mTableManager.isSelfCanDouble();
};
e.prototype.onRoomStatusChanged = function(e) {
d.default.currGameStatus = e.status;
console.log("start game status ", e.status);
if (d.default.currGameStatus == c.BJGameStatus.pause) this.mOperationManager.showOperationView(a.BJActionType.none, !1); else if (d.default.currGameStatus == c.BJGameStatus.cut_card_anim) this.mTableManager.onCutCardIng(); else if (d.default.currGameStatus == c.BJGameStatus.shuffle) {
d.default.leftCardsInBox = 416;
this.mOperationManager.showOperationView(a.BJActionType.none, !1);
this.mTableManager.endBetAnim(!1);
this.mTableManager.hideAllSeat();
this.mOperationManager.reset();
this.mTableManager.reset();
this.mClockView.stopTimer();
this.mTableManager.updateLeftCardNum(d.default.leftCardsInBox);
} else if (d.default.currGameStatus == c.BJGameStatus.chipin) {
if (d.default.selfSeatID > 0) {
this.mOperationManager.showOperationView(a.BJActionType.user_bet, !1);
this.mOperationManager.showOperationView(a.BJActionType.user_chip, !0);
this.mOperationManager.showOperationView(a.BJActionType.user_info, !0);
this.mTableManager.moveSelfSeatToCenter();
this.mTableManager.startBetAnim();
this.mClockView.node.active = !0;
} else this.mClockView.node.active = !1;
this.mTableManager.refreshTableStatus();
this.mTableManager.updateUserMoney(e);
this.mOperationManager.reset();
this.mTableManager.reset();
this.mTableManager.startAllSeatsTimer(e.totalTime, e.totalTime - e.leftTime);
this.mClockView.startTimer(e.totalTime, e.leftTime, !0);
d.default.selfSeatID > 0 && d.default.selfMoney < d.default.minChip && p.default.inst.showDialog(p.DialogIndex.chipInsufficient, d.default.minChip);
} else if (d.default.currGameStatus == c.BJGameStatus.no_chip) {
if (d.default.selfSeatID > 0) {
this.mOperationManager.hideOperationView(a.BJActionType.user_chip, !0);
this.mOperationManager.hideOperationView(a.BJActionType.user_info, !0);
this.mOperationManager.showOperationView(a.BJActionType.user_bet, !1);
this.mOperationManager.sleepOperationView(a.BJActionType.user_bet);
}
this.mClockView.stopTimer();
this.mTableManager.endBetAnim(!0);
this.mTableManager.setSidePotEnabled(!1);
} else if (d.default.currGameStatus == c.BJGameStatus.deal_card) {
if (d.default.selfSeatID > 0) {
this.mOperationManager.hideOperationView(a.BJActionType.user_chip, !0);
this.mOperationManager.hideOperationView(a.BJActionType.user_info, !0);
this.mOperationManager.showOperationView(a.BJActionType.user_bet, !1);
this.mOperationManager.sleepOperationView(a.BJActionType.user_bet);
}
this.mClockView.stopTimer();
this.mTableManager.endBetAnim(!0);
this.mTableManager.dealHeadCards(e.bankerCard, e.playerCardInfo);
this.mTableManager.stopAllSeatsTimer();
this.mTableManager.setSidePotEnabled(!1);
} else if (d.default.currGameStatus == c.BJGameStatus.insurance) for (var o = e.playerInsuranceInfo, i = 0; i < o.length; i++) {
var n = o[i];
if (n.seatID == d.default.selfSeatID) {
this.mOperationManager.showOperationView(a.BJActionType.user_insurance, !1);
this.mOperationManager.activeOperationView(a.BJActionType.user_insurance);
this.mOperationManager.setInsuranceMoney(t.inst.getSelfMainBet() / 2, d.default.moneyType);
this.mTableManager.showSelfInsuraceTips();
}
this.mTableManager.startTimer(n.seatID, e.totalTime, e.totalTime - e.leftTime);
} else if (d.default.currGameStatus == c.BJGameStatus.banker_look_second) {
this.mOperationManager.hideOperationView(a.BJActionType.user_insurance);
this.mTableManager.bankerLookSecondCard(e);
} else if (d.default.currGameStatus == c.BJGameStatus.insurance_pay) this.mTableManager.insurancePay(e.playerInsurancePayInfo); else if (d.default.currGameStatus == c.BJGameStatus.insurance_not_pay) this.mTableManager.insuranceNotPay(); else if (d.default.currGameStatus == c.BJGameStatus.side_pot_settlement) this.mTableManager.onSidePotSettlement(e); else if (d.default.currGameStatus == c.BJGameStatus.pre_settlement) this.mTableManager.onPreSettlement(e); else if (d.default.currGameStatus == c.BJGameStatus.player_action) {
d.default.currActionSeatID = e.seatID;
d.default.currActionHandIndex = e.handleIndex;
this.mTableManager.onPlayerAction(e);
var r = this.mOperationManager.getPreActionID();
if (d.default.currActionSeatID == d.default.selfSeatID) {
this.mOperationManager.showOperationView(a.BJActionType.user_action, !1);
this.mOperationManager.hidePreAction();
if (r > 0) {
this.mOperationManager.sleepOperationView(a.BJActionType.user_action);
l.default.getInstance().socketSend.bjUserAction(d.default.currActionHandIndex, r);
}
} else if (d.default.currActionSeatID < d.default.selfSeatID && this.mTableManager.isSelfBet() && this.mTableManager.getCurrPoints(d.default.selfSeatID, 1) < 21) {
this.mOperationManager.showOperationView(a.BJActionType.user_action, !1);
this.mOperationManager.activeOperationView(a.BJActionType.user_action);
this.mOperationManager.showPreAction();
0 == this.isSelfCanDouble() && this.setOperationButtonEnabled(y.BJOperationButtonID.double, !1);
0 == this.isSelfCanSplit() && this.setOperationButtonEnabled(y.BJOperationButtonID.split, !1);
} else if (this.mTableManager.isSelfBet()) {
this.mOperationManager.showOperationView(a.BJActionType.user_action, !1);
this.mOperationManager.hidePreAction();
this.mOperationManager.sleepOperationView(a.BJActionType.user_action);
}
} else if (d.default.currGameStatus == c.BJGameStatus.player_split) ; else if (d.default.currGameStatus == c.BJGameStatus.banker_action) {
this.mTableManager.dealBankerLeftCards(e);
if (this.getSelfMainBet() > 0) {
this.mOperationManager.showOperationView(a.BJActionType.user_action, !1);
this.mOperationManager.hidePreAction();
this.mOperationManager.sleepOperationView(a.BJActionType.user_action);
}
} else if (d.default.currGameStatus == c.BJGameStatus.settlement) {
this.mTableManager.onSettlement(e);
if (this.getSelfMainBet() > 0) {
this.mOperationManager.showOperationView(a.BJActionType.user_action, !1);
this.mOperationManager.hidePreAction();
this.mOperationManager.sleepOperationView(a.BJActionType.user_action);
}
}
};
e.prototype.getPreActionID = function() {
return this.mOperationManager.getPreActionID();
};
e.prototype.resetPreActionID = function() {
this.mOperationManager.resetPreAction();
};
e.prototype.resetTable = function() {};
e.prototype.reconnectRoom = function(e) {
this.initRoomByStatus(e);
};
e.prototype.onBankerDealSecondCard = function(e) {
this.mTableManager.dealBankerSecondCard(e);
};
e.prototype.onPreSettlement = function() {};
e.prototype.setOperationBetButtonEnabled = function(e, t) {
this.mOperationManager.setOperationBetButtonEnabled(e, t);
};
e.prototype.setOperationButtonEnabled = function(e, t) {
this.mOperationManager.setOperationButtonEnabled(e, t);
};
e.prototype.setOperationInsuranceButtonEnabled = function(e, t) {
this.mOperationManager.setOperationInsuranceButtonEnabled(e, t);
};
e.prototype.onUserBet = function(e) {
this.mTableManager.onUserBet(e);
};
e.prototype.onBetMaxLimit = function() {
f.default.alert("");
};
e.prototype.onUserCancelBet = function(e) {
this.mTableManager.onUserCancelBet(e);
};
e.prototype.onUserCompleteBet = function(e) {
if (e == h.default.UserData.userId) {
this.mOperationManager.hideOperationView(a.BJActionType.user_chip, !0);
this.mOperationManager.hideOperationView(a.BJActionType.user_info, !0);
this.mOperationManager.showOperationView(a.BJActionType.user_bet, !1);
this.mOperationManager.sleepOperationView(a.BJActionType.user_bet);
this.mClockView.stopTimer();
this.mTableManager.endBetAnim(!0);
}
this.mTableManager.onUserCompleteBet(e);
};
e.prototype.showBetChipStatus = function(e) {
if (1 == e) {
this.mOperationManager.showOperationView(a.BJActionType.user_bet, !1);
this.mOperationManager.sleepOperationView(a.BJActionType.user_bet);
this.mOperationManager.hideOperationView(a.BJActionType.user_chip, !0);
this.mOperationManager.hideOperationView(a.BJActionType.user_info, !0);
this.mClockView.stopTimer();
this.mTableManager.endBetAnim(!0, !1);
this.mTableManager.stopTimer(d.default.selfSeatID);
}
};
e.prototype.onUserEnterRoom = function(e) {
this.mTableManager.onUserEnterRoom(e);
};
e.prototype.onUserLeaveRoom = function(e) {
this.mTableManager.onUserLeaveRoom(e);
};
e.prototype.onUserSit = function(e) {
this.mTableManager.onUserSit(e);
e.userID == h.default.UserData.userId && d.default.currGameStatus == c.BJGameStatus.chipin && l.default.getInstance().socketSend.bjGetRoomInfo(g.gameType.blackjack, d.default.roomType, d.default.roomID, !0);
};
e.prototype.onUserStand = function(e) {
if (e.userID == h.default.UserData.userId) {
this.mOperationManager.showOperationView(a.BJActionType.none, !1);
this.mTableManager.endBetAnim(!1);
this.mClockView.node.active = !1;
d.default.selfSeatID = 0;
}
this.mTableManager.onUserStand(e);
};
e.prototype.onUserInsurance = function(e) {
if (e.userID == h.default.UserData.userId) {
this.mTableManager.hideSelfInsuranceTips();
this.mOperationManager.showOperationView(a.BJActionType.user_action, !1);
this.mOperationManager.sleepOperationView(a.BJActionType.user_action);
this.mOperationManager.hidePreAction();
}
this.mTableManager.onUserInsurance(e);
};
e.prototype.onUserAction = function(e) {
this.mTableManager.onUserAction(e);
};
e.prototype.selfDoubleBet = function() {
this.mTableManager.selfDoubleBet();
};
e.prototype.selfRepeatBet = function() {
this.mTableManager.selfRepeatBet();
};
e.prototype.selfCompleteBet = function() {
this.mTableManager.selfCompleteBet();
};
e.prototype.selfCancelBet = function() {
this.mTableManager.selfCancelBet();
};
e.prototype.selfStopCard = function() {
this.mTableManager.selfStopCard();
};
e.prototype.selfHitCard = function() {
this.mTableManager.selfHitCard();
};
e.prototype.selfDoubleHit = function() {
this.mTableManager.selfDoubleHit();
};
e.prototype.selfSplitCard = function() {
this.mTableManager.selfSplitCard();
};
e.prototype.selfInsurance = function() {
this.mTableManager.selfInsurance();
};
e.prototype.selfCancelInsurance = function() {
this.mTableManager.selfCancelInsurance();
};
e.prototype.onCutCardMove = function(e) {
this.mTableManager.onCutCardMove(e);
};
e.prototype.onCutCardIng = function() {
this.mTableManager.onCutCardIng();
};
e.prototype.handleEvent = function(e, t) {
console.log("handle blackjack event ", e);
switch (e) {
case "ON_GET_ROOM_INFO":
this.onGetRoomInfo(t);
break;

case "BJ_BANKER_SECOND_CARD":
this.onBankerDealSecondCard(t);
break;

case "BJ_PRE_SETTLEMENT":
this.onPreSettlement(t);
break;

case "BJ_BROADCAST_USER_ENTER_ROOM":
this.onUserEnterRoom(t);
break;

case "BJ_BROADCAST_USER_BET":
this.onUserBet(t);
break;

case "BET_MAX_LIMIT":
this.onBetMaxLimit(t);
break;

case "BJ_BROADCAST_USER_CANCEL_BET":
this.onUserCancelBet(t);
break;

case "BJ_BROADCAST_USER_COMPLETE_BET":
this.onUserCompleteBet(t);
break;

case "BJ_BROADCAST_USER_QUIT_ROOM":
this.onUserLeaveRoom(t);
break;

case "BJ_BROADCAST_USER_SIT":
this.onUserSit(t);
break;

case "BJ_BROADCAST_USER_STAND":
this.onUserStand(t);
break;

case "SHOW_ACTION_BAR":
this.mOperationManager.showOperationView(t, !1);
break;

case "GRAY_ACTION_BAR":
this.mOperationManager.sleepOperationView(a.BJActionType.user_action);
break;

case "BJ_GAME_STATUS":
this.onRoomStatusChanged(t);
break;

case "BJ_USER_INSURANCE":
this.onUserInsurance(t);
break;

case "BJ_USER_ACTION":
this.onUserAction(t);
break;

case "CUT_CARD_MOVE":
this.onCutCardMove(t);
break;

case "CUT_CARD_ING":
this.onCutCardIng();
break;

case "EVENT_CUT_CARD_END":
l.default.getInstance().socketSend.bjEndCutCard();
break;

case "EVENT_CUT_CARD_CUTTING":
l.default.getInstance().socketSend.bjUserBroadcastCutCardIng();
break;

case "EVENT_CUT_CARD_MOVE":
l.default.getInstance().socketSend.bjUserBroadcastCutCardMove(t);
break;

case "EVENT_SHOW_MENU":
this.mMenuView.show();
break;

case "BJ_EVENT_SELECT_CHIP":
d.default.currSelectBet = t;
break;

case "BJ_EVENT_DOUBLE_BET":
this.selfDoubleBet();
break;

case "BJ_EVENT_REPEAT_BET":
this.selfRepeatBet();
break;

case "BJ_EVENT_COMPLETE_BET":
this.selfCompleteBet();
break;

case "BJ_EVENT_CANCEL_BET":
this.selfCancelBet();
break;

case "BJ_EVENT_STOP_CARD":
this.selfStopCard();
break;

case "BJ_EVENT_HIT_CARD":
this.selfHitCard();
break;

case "BJ_EVENT_DOUBLE_CARD":
this.selfDoubleHit();
break;

case "BJ_EVENT_SPLIT_CARD":
this.selfSplitCard();
break;

case "BJ_EVENT_INSURANCE_YES":
this.selfInsurance();
break;

case "BJ_EVENT_INSURANCE_NO":
this.selfCancelInsurance();
break;

case "UPDATE_REMAINCARDCOUNT_EVENT":
this.mTableManager.updateLeftCardNum(t);
break;

case "BJ_USER_CANCEL_BET":
t == h.default.UserData.userId && this.mOperationManager.onCancelBet();
break;

case "BJ_COLLECT_CARD":
console.log("start game status ", "collect cards");
this.mTableManager.onCollectCards();
break;

case "UPDATE_SELF_INFO_MONEY":
this.mOperationManager.updateMoney(t);
this.mTableManager.updateSelfMoney(t);
d.default.selfMoney = t;
d.default.moneyType == c.BJRoomType.free ? h.default.UserData.coin = t : h.default.UserData.chip = t;
break;

case "UPDATE_LEFT_CARDS":
this.mTableManager.updateLeftCardNum(t);
break;

case "DEAL_CUT_CARD":
d.default.leftCardsInBox--;
this.mTableManager.updateLeftCardNum(d.default.leftCardsInBox);
break;

case "MONEY_UPDATE_EVENT":
t.scenceId > 100 && t.scenceId < 8e3 && l.default.getInstance().socketSend.bjReportAddMoney();
d.default.moneyType == g.goldType.free ? d.default.selfMoney = h.default.UserData.coin : d.default.selfMoney = h.default.UserData.chip;
this.mOperationManager.updateMoney(d.default.selfMoney);
break;

case "APP_ENTER_BACKGROUND_EVENT":
console.log("APP_ENTER_BACKGROUND_EVENT");
cc.game.pause();
this.isEnterForgroundTag = !1;
break;

case "APP_ENTER_FOREGROUND_EVENT":
console.log("APP_ENTER_FOREGROUND_EVENT");
if (0 == this.isEnterForgroundTag) {
this.isEnterForgroundTag = !0;
_.default.getInstance().enterGame(function() {});
l.default.getInstance().socketSend.bjGetRoomInfo(g.gameType.blackjack, d.default.roomType, d.default.roomID, !0);
cc.game.resume();
}
break;

case "BJ_USER_START_BET":
t == h.default.UserData.userId && this.mOperationManager.onStartBet();
}
};
e.prototype.regesterEvents = function() {
this.mSelf.register("BLACKJACK", [ "ON_GET_ROOM_INFO", "BJ_PRE_SETTLEMENT", "BJ_BANKER_SECOND_CARD", "BJ_BROADCAST_USER_ENTER_ROOM", "BJ_BROADCAST_USER_BET", "BJ_BROADCAST_USER_CANCEL_BET", "BJ_BROADCAST_USER_COMPLETE_BET", "BJ_BROADCAST_USER_QUIT_ROOM", "BJ_BROADCAST_USER_SIT", "BJ_BROADCAST_USER_STAND", "BJ_GAME_STATUS", "BJ_USER_INSURANCE", "BJ_USER_ACTION", "CUT_CARD_MOVE", "CUT_CARD_ING", "BET_MAX_LIMIT", "BJ_COLLECT_CARD", "EVENT_CUT_CARD_END", "EVENT_CUT_CARD_MOVE", "EVENT_CUT_CARD_CUTTING", "BJ_USER_START_BET", "BJ_USER_CANCEL_BET", "SHOW_ACTION_BAR", "GRAY_ACTION_BAR", "UPDATE_JACKPOT" ]);
this.mSelf.register("BLACKJACK", [ "BJ_EVENT_DOUBLE_BET", "BJ_EVENT_REPEAT_BET", "BJ_EVENT_COMPLETE_BET", "BJ_EVENT_CANCEL_BET", "BJ_EVENT_STOP_CARD", "BJ_EVENT_HIT_CARD", "BJ_EVENT_DOUBLE_CARD", "BJ_EVENT_SPLIT_CARD", "UPDATE_LEFT_CARDS", "BJ_EVENT_INSURANCE_YES", "BJ_EVENT_INSURANCE_NO", "BJ_EVENT_SELECT_CHIP", "UPDATE_SELF_INFO_MONEY" ]);
this.mSelf.register("BLACKJACK", [ "DEAL_CUT_CARD", "EVENT_SHOW_MENU", "ON_BIND_ACCOUT_SUCCESS", "NOTIRY_NEW_MAIL", "NOTIFY_INVITE", "UPDATE_ROOM_INVITE", "CONTINE_CATCARD_EVENT", "MONEY_UPDATE_EVENT", "APP_ENTER_BACKGROUND_EVENT", "APP_ENTER_FOREGROUND_EVENT", "FACEBOOK_LOGIN_CALLBACK", "UPDATE_REMAINCARDCOUNT_EVENT", "SHOW_MYINFONODE_EVENT" ]);
};
e.prototype.getBlackJackPoints = function(e) {
for (var t = [], o = e.length, i = 0, n = 0, a = 0; a < o; a++) {
var r = e[a], s = (Number(r.name) || 0) % 16;
14 == s ? i++ : n += s >= 10 ? 10 : s;
}
if (0 == i) {
t.push(n);
return t;
}
if (i + 10 + n == 21) {
t.push(21);
return t;
}
if (i + 10 + n > 21) {
t.push(i + n);
return t;
}
t.push(i + n);
t.push(i + 10 + n);
return t;
};
e.prototype.checkIfContainRedCard = function(e) {
var t = d.default.cutCardPos, o = d.default.leftCardsInBox;
return o - e <= t ? o - t : 0;
};
e.prototype.getSelfMainBet = function() {
var e = d.default.selfSeatID;
return this.mTableManager.getBetValue(e);
};
e.prototype.getRoomTypeFlag = function(e) {
return e == c.BJRoomType.free ? "F" : e == c.BJRoomType.vip ? "P" : e == c.BJRoomType.sevens ? "B" : e == c.BJRoomType.charge ? "C" : "U";
};
e.prototype.findBetIDByWinID = function(e) {
return e == c.BJWinType.main ? c.BJBetAreaID.main : e == c.BJWinType.max13 ? c.BJBetAreaID.max13 : e == c.BJWinType.min13 ? c.BJBetAreaID.min13 : e >= c.BJWinType.xtreme_three_flush && e <= c.BJWinType.xtreme_flush ? c.BJBetAreaID.xtreme : e >= c.BJWinType.perfect_pair && e <= c.BJWinType.normal_pair ? c.BJBetAreaID.pair : e >= c.BJWinType.sevens_flush_diamond && e <= c.BJWinType.sevens_one ? c.BJBetAreaID.sevens : e == c.BJWinType.insurance ? c.BJBetAreaID.insurance : void 0;
};
e.prototype.getSidePotSettlementDelay = function() {
return this.mTableManager.getSidePotSettleDelay();
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ b ], e);
}());
o.default = v;
cc._RF.pop();
}, {
"../FireData/CommonData": "CommonData",
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../GameCores/DialogLogic": "DialogLogic",
"../GameCores/GameLayerManager": "GameLayerManager",
"../GameFireData/GameAllConst": "GameAllConst",
"../GameNetWork/NetWorkAll": "NetWorkAll",
"../Http/MyHttp": "MyHttp",
"./GameBJConst": "GameBJConst",
"./GameBJData": "GameBJData",
"./GameParts/GameActions": "GameActions",
"./GameParts/GameButtons": "GameButtons",
"./GameParts/GameManager": "GameManager",
"./GameParts/GameMenu": "GameMenu",
"./GameParts/GameOperator": "GameOperator",
"./GameParts/GameTimer": "GameTimer"
} ],
GameBJScene: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "91d45w/2EpBga3cqheG0Zfi", "GameBJScene");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../GameRootView/RootView"), s = e("./GameBJLogic"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
s.default.inst.load(this);
};
t.prototype.start = function() {
s.default.inst.start();
};
t.prototype.handleAppEvent = function(e) {
var t = e.key, o = e.arg;
s.default.inst.handleEvent(t, o);
};
return a([ l ], t);
}(r.default));
o.default = d;
cc._RF.pop();
}, {
"../GameRootView/RootView": "RootView",
"./GameBJLogic": "GameBJLogic"
} ],
GameBJSoundPlayer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1c197QqSn1Al6AC0TNKmx/8", "GameBJSoundPlayer");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, n = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.BJSoundID = void 0;
(function(e) {
e.boom = "blackjack/sound/bj_boom.wav";
e.insurance = "blackjack/sound/bj_insurance.wav";
e.seven = "blackjack/sound/bj_seven.wav";
e.sidepot = "blackjack/sound/bj_sidepot.wav";
e.jackpot = "blackjack/sound/bj_jackpot.mp3";
e.sit = "blackjack/sound/bj_sit.wav";
e.stand = "blackjack/sound/bj_stand.wav";
e.blackjack = "blackjack/sound/bj_blackjack.mp3";
})(o.BJSoundID || (o.BJSoundID = {}));
var r = cc._decorator, s = r.ccclass, c = (r.property, function() {
function e() {}
t = e;
e.prototype.playSound = function() {
return n(this, void 0, void 0, function() {
return a(this, function() {
return [ 2 ];
});
});
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ s ], e);
}());
o.default = c;
cc._RF.pop();
}, {} ],
GameBankerItem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1d2e6j+UMJJErierMhUvPaq", "GameBankerItem");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/GameEvent"), s = cc._decorator, c = s.ccclass, l = (s.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._labelBankerName = null;
t._labelBankerCode = null;
t._data = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
this._labelBankerName = this.node.getChildByName("bankerName").getComponent(cc.Label);
this._labelBankerCode = this.node.getChildByName("bankerCode").getComponent(cc.Label);
this.node.on("click", this.onClickCell, this);
};
t.prototype.refresh = function(e) {
this._labelBankerName.string = e.bank_name;
this._labelBankerCode.string = e.bank_code;
this._data = e;
};
t.prototype.onClickCell = function() {
console.log("on click district list");
r.GameEvent.ins().emit("SELECT_BANKER", this._data);
r.GameEvent.ins().emit("CLOSE_SELF");
};
return a([ c ], t);
}(cc.Component));
o.default = l;
cc._RF.pop();
}, {
"../../../public/MyComponent/GameEvent": "GameEvent"
} ],
GameBankerOperator: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3ff13WIxyNEIrzzLUaIR5yN", "GameBankerOperator");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../PublicTools/GameEvents"), s = e("../../GameCores/MyCardCreator"), c = e("../../EXUIFrame/EXSoundMgr"), l = e("../../GameCommon/NVSGameUtil"), d = e("../GameBJAnimPlayer"), h = e("../GameBJConst"), u = e("../GameBJData"), p = e("../GameBJLogic"), f = e("../GameBJSoundPlayer"), m = e("./GamePlayerOperators"), g = cc._decorator, y = g.ccclass, _ = (g.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.bankerCardFirstPosition = new cc.Vec2(-22.5, 373);
t.bankerCardSecondPosition = new cc.Vec2(22.5, 379);
t.bankerCards = [];
t.bankerCardNode = null;
t.bankerPointsTips = null;
t.bankerResultTips = null;
t.animNode = null;
return t;
}
t.prototype.onLoad = function() {
this.bankerCardNode = this.node.getChildByName("cardsNode");
var e = this.node.parent.getChildByName("bankerTipsNode");
this.bankerPointsTips = e.getChildByName("pointsTips");
this.bankerResultTips = e.getChildByName("resultTips");
this.bankerPointsTips.opacity = 0;
this.bankerResultTips.opacity = 0;
this.animNode = new cc.Node();
this.animNode.parent = this.node.parent;
this.animNode.zIndex = 300;
};
t.prototype.start = function() {};
t.prototype.initInfo = function(e) {
this.stopAllAction();
var t = e.length;
if (1 == t) {
this.dealCard(e[0].cardValue, !0);
this.dealCard(0, !0);
} else if (t > 1) for (var o = 0; o < t; o++) {
e[o];
this.dealCard(e[o].cardValue, !0);
}
};
t.prototype.reset = function() {
this.unscheduleAllCallbacks();
this.stopAllAction();
this.bankerCards = [];
this.bankerCardNode.removeAllChildren(!0);
this.bankerPointsTips.opacity = 0;
this.bankerResultTips.opacity = 0;
};
t.prototype.stopAllAction = function() {
this.bankerPointsTips.stopAllActions();
this.bankerResultTips.stopAllActions();
this.node.stopAllActions();
};
t.prototype.dealCard = function(e, t, o) {
var i = this;
c.default.inst.playEffect("new_res_deal");
var n = o || 0, a = t || !1, l = s.default.inst.getTinyCard(e);
l.parent = this.bankerCardNode;
l.setPosition(h.BJConst.DEAL_CARDS_POS);
l.angle = m.BJ_CARD_PARAMS.DEAL_CARD_ROTATION;
l.scale = m.BJ_CARD_PARAMS.CARD_SCALE;
l.opacity = 0;
this.bankerCards.push(l);
var d = this.bankerCards.length, f = this.bankerCardFirstPosition;
if (1 == d) f = this.bankerCardFirstPosition; else if (2 == d) f = this.bankerCardSecondPosition; else {
var g = 0;
d % 2 == 0 && (g = m.BJ_CARD_PARAMS.CARD_WAVE_GAP6);
f = new cc.Vec2((d - 1) * m.BJ_CARD_PARAMS.SINGLE_CARD_HOR_GAP / 2, this.bankerCardFirstPosition.y + g);
for (var y = 0; y < d - 1; y++) {
var _ = this.bankerCards[y];
if (a) {
_.angle = 0;
_.setPosition(new cc.Vec2(_.x - m.BJ_CARD_PARAMS.SINGLE_CARD_HOR_GAP / 2, _.y));
} else cc.tween(_).delay(n).to(m.BJ_CARD_PARAMS.CARD_FLY_DURATION, {
x: _.x - m.BJ_CARD_PARAMS.SINGLE_CARD_HOR_GAP / 2,
y: _.y,
angle: 0
}, {
easing: m.BJ_ANIM_TYPE.QUICK2SLOW
}).call(function() {}, this).start();
}
}
if (a) {
l.angle = 0;
l.opacity = 255;
l.setPosition(f);
} else cc.tween(l).delay(n).to(0, {
opacity: 255
}).to(.3, {
x: f.x,
y: f.y,
angle: 0
}, {
easing: "quadOut"
}).call(function() {}, this).start();
u.default.leftCardsInBox--;
r.MyEvent.getInstance().emit("UPDATE_LEFT_CARDS", u.default.leftCardsInBox);
d > 2 && this.scheduleOnce(function() {
var e = p.default.inst.getBlackJackPoints(i.bankerCards), t = new cc.Vec2(f.x + 50, f.y + 20);
i.showCardPoint(i.bankerPointsTips, t, d, e, a);
}, n);
};
t.prototype.startLookSecondAnim = function() {
if (2 == this.bankerCards.length) {
var e = this.bankerCards[this.bankerCards.length - 1], t = e.y;
cc.tween(e).to(.3, {
y: t + 20,
angle: -2
}).delay(.3).to(.3, {
y: t,
angle: 0
}).start();
}
};
t.prototype.openBankerSecondCard = function(e) {
var t = this, o = this.bankerCards[1];
o.setPosition(this.bankerCardSecondPosition);
var i = o.getPosition(), n = s.default.inst.getTinyCard(e);
n.parent = this.bankerCardNode;
n.setPosition(i);
n.active = !1;
c.default.inst.playEffect("new_res_flop");
cc.tween(o).to(.2, {
scaleX: 31 / m.BJ_CARD_PARAMS.CARD_ORIGIN_WIDTH,
scaleY: 228 / m.BJ_CARD_PARAMS.CARD_ORIGIN_HEIGHT * .8,
y: i.y + 48,
skewY: 28
}, {
easing: "quadOut"
}).call(function() {
o.active = !1;
n.active = !0;
n.scaleX = 31 / m.BJ_CARD_PARAMS.CARD_ORIGIN_WIDTH;
n.scaleY = 228 / m.BJ_CARD_PARAMS.CARD_ORIGIN_HEIGHT * .8;
n.y = i.y + 48;
n.skewY = -28;
t.bankerCards[1] = n;
}, this).start();
cc.tween(n).delay(.2).to(.2, {
scaleX: 115 / m.BJ_CARD_PARAMS.CARD_ORIGIN_WIDTH,
scaleY: 155 / m.BJ_CARD_PARAMS.CARD_ORIGIN_HEIGHT,
y: i.y + 42,
x: i.x + 14,
skewY: 0
}, {
easing: "circOut"
}).to(.1, {
scaleX: m.BJ_CARD_PARAMS.CARD_SCALE,
scaleY: m.BJ_CARD_PARAMS.CARD_SCALE,
y: i.y,
x: i.x
}, {
easing: "quadOut"
}).call(function() {
var e = p.default.inst.getBlackJackPoints(t.bankerCards), o = new cc.Vec2(t.bankerCards[1].x + 50, t.bankerCards[1].y + 20);
t.showCardPoint(t.bankerPointsTips, o, 2, e, !1);
}, this).start();
this.scheduleOnce(function() {
t.showBankerResult();
}, 1);
};
t.prototype.showCardPoint = function(e, t, o, i, n) {
if (1 == i.length && 21 == i[0] && 2 == o) {
l.default.loadSpriteFrame(e, "point_bg_blackjack", "ExBlackjack/exblackjack");
e.getChildByName("label").active = !1;
e.width = 94;
} else if (2 == i.length) {
l.default.loadSpriteFrame(e, "point_bg_common", "ExBlackjack/exblackjack");
e.getChildByName("label").active = !0;
e.getChildByName("label").getComponent(cc.Label).string = i[1];
e.getChildByName("label").color = new cc.Color(255, 255, 255);
var a = 94;
e.width = a;
e.getChildByName("label").x = a / 2 + 2;
} else if (1 == i.length) {
var r = i[0];
if (r > 21) {
l.default.loadSpriteFrame(e, "point_bg_banker_boom", "ExBlackjack/exblackjack");
e.getChildByName("label").active = !0;
e.getChildByName("label").getComponent(cc.Label).string = "" + r;
e.getChildByName("label").color = new cc.Color(255, 255, 255);
a = 94;
e.width = a;
e.getChildByName("label").x = a / 2 + 2;
} else {
l.default.loadSpriteFrame(e, "point_bg_common", "ExBlackjack/exblackjack");
e.getChildByName("label").active = !0;
e.getChildByName("label").getComponent(cc.Label).string = "" + r;
e.getChildByName("label").color = new cc.Color(255, 255, 255);
a = 94;
e.width = a;
e.getChildByName("label").x = a / 2 + 2;
}
}
if (1 != n) if (0 == e.opacity) {
e.setPosition(t);
cc.tween(e).delay(m.BJ_BET_PARAMS.CHIP_FLY_DURATION).call(function() {
e.opacity = 255;
}, this).start();
} else cc.tween(e).to(m.BJ_BET_PARAMS.CHIP_FLY_DURATION, {
x: t.x,
y: t.y
}, {
easing: "quadOut"
}).call(function() {}, this).start(); else {
e.opacity = 255;
e.setPosition(t);
}
};
t.prototype.showBurstedAnim = function() {
f.default.inst.playSound(f.BJSoundID.boom);
var e = new cc.Vec2(0, -500), t = this.bankerCards, o = this.bankerCards.length;
if (o > 0) {
var i = t[0].getPosition(), n = t[o - 1].getPosition();
e.x = (i.x + n.x) / 2;
e.y = (i.y + n.y) / 2;
}
d.default.inst.playAnim(d.BJAnimID.boom1, this.animNode, .65, 0, e.x, e.y);
};
t.prototype.showBlackjackAnim = function() {
f.default.inst.playSound(f.BJSoundID.blackjack);
var e = new cc.Vec2(this.bankerCardFirstPosition.x / 2 + this.bankerCardSecondPosition.x / 2 - 38 * 1.58, this.bankerCardFirstPosition.y / 2 + this.bankerCardSecondPosition.y / 2 - 54);
d.default.inst.playAnim(d.BJAnimID.blackjack, this.animNode, .75, 1, e.x, e.y);
};
t.prototype.showBankerResult = function() {
var e = p.default.inst.getBlackJackPoints(this.bankerCards), t = this.bankerCards[this.bankerCards.length - 1], o = new cc.Vec2(t.x, t.y + 110);
this.showResultTips(this.bankerResultTips, o, this.bankerCards.length, e);
};
t.prototype.showResultTips = function(e, t, o, i) {
var n = i[0];
1 == i.length ? n = i[0] : 2 == i.length && (n = i[1]);
if (1 == i.length && 21 == i[0] && 2 == o) {
e.color = new cc.Color(255, 171, 0);
e.getChildByName("label").color = new cc.Color(105, 70, 0);
e.getChildByName("label").getComponent(cc.Label).string = "Black Jack";
e.getChildByName("label").getComponent(cc.Label)._forceUpdateRenderData(!0);
e.width = e.getChildByName("label").width + 60;
e.setPosition(t);
e.opacity = 242;
this.showBlackjackAnim();
} else if (n > 21) {
e.color = new cc.Color(230, 0, 0);
e.getChildByName("label").color = new cc.Color(255, 255, 255);
e.getChildByName("label").getComponent(cc.Label).string = "BOOM";
e.getChildByName("label").getComponent(cc.Label)._forceUpdateRenderData(!0);
e.width = e.getChildByName("label").width + 60;
e.setPosition(t);
e.opacity = 242;
this.showBurstedAnim();
}
};
t.prototype.collectCards = function() {
this.clearTips();
for (var e = this.bankerCards, t = function(t) {
var i = e[t];
cc.tween(i).call(function() {}, o).to(m.BJ_CARD_PARAMS.CARD_FLY_DURATION, {
x: 0,
y: 358,
scale: m.BJ_CARD_PARAMS.CARD_SCALE,
angle: 0
}, {
easing: m.BJ_ANIM_TYPE.QUICK2SLOW
}).delay(m.BJ_CARD_PARAMS.CARD_FLY_DURATION).call(function() {
c.default.inst.playEffect("new_res_deal");
}, o).parallel(cc.tween().bezierTo(.2, cc.v2(0, 358), cc.v2(-648, 358), cc.v2(-687, 543)), cc.tween().to(.2, {
opacity: 0,
scaleX: m.BJ_CARD_PARAMS.CARD_SCALE,
scaleY: m.BJ_CARD_PARAMS.CARD_SCALE
})).call(function() {
i.removeFromParent(!0);
}, o).start();
}, o = this, i = 0; i < e.length; i++) t(i);
};
t.prototype.clearTips = function() {
this.bankerPointsTips.opacity = 0;
this.bankerResultTips.opacity = 0;
};
return a([ y ], t);
}(cc.Component));
o.default = _;
cc._RF.pop();
}, {
"../../EXUIFrame/EXSoundMgr": "EXSoundMgr",
"../../GameCommon/NVSGameUtil": "NVSGameUtil",
"../../GameCores/MyCardCreator": "MyCardCreator",
"../../PublicTools/GameEvents": "GameEvents",
"../GameBJAnimPlayer": "GameBJAnimPlayer",
"../GameBJConst": "GameBJConst",
"../GameBJData": "GameBJData",
"../GameBJLogic": "GameBJLogic",
"../GameBJSoundPlayer": "GameBJSoundPlayer",
"./GamePlayerOperators": "GamePlayerOperators"
} ],
GameBankerSelectorDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "bd4feandsFO3Z5rdVWXshyY", "GameBankerSelectorDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../data/GameLangData"), s = e("../../../public/MyComponent/WindowBase"), c = e("../../../public/ThirdParty/happyList"), l = e("../../executor/bank/GameBankerSelectorEx"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.currField = "";
t._districtList = null;
t._districtListAssistant = null;
t._disctrictData = null;
t._disctrictListData = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new l.default();
this.exView.setProxy(this);
this._btnList = [ this._btnBack ];
};
t.prototype.setView = function() {
this._btnBack = this.node.getChildByName("closeBtn");
this._editBoxSearch = this.node.getChildByName("inputSearch").getComponent(cc.EditBox);
this._editBoxSearch.node.on("editing-did-ended", this._onInputEnded, this);
this._districtList = this.node.getChildByName("districtScrollview");
this._districtListAssistant = this._districtList.getComponent(c.default);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.register("DISTRICT_SELECTOR", [ "SHOW_INDEX", "CLOSE_SELF" ]);
this.setViewData();
};
t.prototype.setViewData = function() {
this.currField = this._data.field;
this._disctrictData = this._data.data;
this._disctrictListData = this._data.data;
this._districtListAssistant.numItems = this._disctrictListData.length;
this.updateLanguageUI();
};
t.prototype.updateLanguageUI = function() {
this.exView.updateLanguageUIEx();
var e = r.default.ins.GET_NEWHALL_LANG("selectBanks");
"bank" == this.currField ? e = r.default.ins.GET_NEWHALL_LANG("selectBanks") : "state" == this.currField ? e = r.default.ins.GET_NEWHALL_LANG("selectStates") : "dist" == this.currField ? e = r.default.ins.GET_NEWHALL_LANG("selectDists") : "branch" == this.currField && (e = r.default.ins.GET_NEWHALL_LANG("selectBranchs"));
console.log("this.node", this.node);
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = e;
this.node.getChildByName("inputSearch").getComponent(cc.EditBox).placeholderLabel.string = r.default.ins.GET_NEWHALL_LANG("search");
};
t.prototype.handleAppEvent = function(e) {
e.arg;
switch (e.key) {
case "CLOSE_SELF":
this.onClose();
}
};
t.prototype._onInputEnded = function() {
this.exView.onInputEndedEx();
};
t.prototype.onListRender = function(e, t) {
this.exView.onListRenderEx(e, t);
};
t.prototype.onBtnClick = function(t) {
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "closeBtn":
this.onClose();
}
};
return a([ h ], t);
}(s.default));
o.default = u;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../../public/ThirdParty/happyList": "happyList",
"../../executor/bank/GameBankerSelectorEx": "GameBankerSelectorEx"
} ],
GameBankerSelectorEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7136bA9ai5CBIXX2FXL/Qj2", "GameBankerSelectorEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../manager/GameSoundMgr"), s = e("../../../public/MyComponent/GameEvent"), c = e("../../../public/MyComponent/ViewExecutorBase"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.updateLanguageUIEx = function() {};
t.prototype.onInputEndedEx = function() {
var e = this.node._editBoxSearch.string, t = [];
if ("" == e) t = this.node._disctrictData; else for (var o = this.node._disctrictData.length, i = 0; i < o; i++) this.node._disctrictData[i].toLocaleLowerCase().match(e.toLocaleLowerCase()) && t.push(this.node._disctrictData[i]);
this.node._disctrictListData = t;
this.node._districtListAssistant.numItems = this.node._disctrictListData.length;
};
t.prototype.onListRenderEx = function(e, t) {
var o = this, i = this.node._disctrictListData[t];
e.getChildByName("bankerName").getComponent(cc.Label).string = i;
e.off("click");
e.on("click", function() {
r.default.inst.playGameEffect(r.AudioRes.click);
var e = {};
e.itemData = i;
e.field = o.node.currField;
s.GameEvent.ins().emit("ON_SELECT_BANK_INFO", e);
o.node.onClose();
});
};
return a([ d ], t);
}(c.default));
o.default = h;
cc._RF.pop();
}, {
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/GameEvent": "GameEvent",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
GameBaseView: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2b1a8uOuk1Jpapf44Mn6Fg9", "GameBaseView");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("./GameEvent"), s = e("../../manager/GameSoundMgr"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.exView = null;
return t;
}
t.prototype.onLoad = function() {};
t.prototype.start = function() {
this.addBtnClick();
};
t.prototype.addBtnClick = function() {
if (this._btnList && !(this._btnList.length <= 0)) for (var e = 0; e < this._btnList.length; e++) this._btnList[e].on("click", this.onBtnClick, this);
};
t.prototype.onBtnClick = function() {
s.default.inst.playGameEffect(s.AudioRes.click);
};
t.prototype.register = function(e, t) {
this._typeName = e;
for (var o = 0; o < t.length; o++) {
var i = t[o];
r.GameEvent.ins().on(i, this.handleAppEvent.bind(this), e);
}
};
t.prototype.handleAppEvent = function(e) {
console.log(e, "If you need to listen for events, you must override this method.");
};
t.prototype.onDestroy = function() {
r.GameEvent.ins().removeByNode(this._typeName);
cc.audioEngine.stopAll();
};
t.prototype.onClose = function() {};
t.prototype.setNodeFullScreen = function(e) {
var t = cc.winSize.width * cc.view.getCanvasSize().height / cc.winSize.height, o = cc.winSize.height * cc.view.getCanvasSize().width / cc.winSize.width;
console.log("realWdith = ", t);
console.log("realHeight = ", o);
console.log("winSizeWidth= ", cc.winSize.width);
console.log("winSizeHeight = ", cc.winSize.height);
console.log("canvasWidth = ", cc.view.getCanvasSize().width);
console.log("canvasHeight = ", cc.view.getCanvasSize().height);
console.log("nodeWidth = ", e.width);
console.log("nodeHeight = ", e.height);
o < cc.winSize.height && (e.scaleY = cc.winSize.height / o);
t < cc.winSize.width && (e.scaleX = cc.winSize.width / t);
};
return a([ l ], t);
}(cc.Component));
o.default = d;
cc._RF.pop();
}, {
"../../manager/GameSoundMgr": "GameSoundMgr",
"./GameEvent": "GameEvent"
} ],
GameBeginSceneEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9ad77JA+SFExZwhNe2KR6zp", "GameBeginSceneEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../communication/GameLoginHttp"), s = e("../../communication/SocketGameManager"), c = e("../../data/GameLangData"), l = e("../../data/MyData"), d = e("../../data/WebGameHappyData"), h = e("../../data/conf/GameConfig"), u = e("../../data/conf/GameInfo"), p = e("../../data/conf/InitGame"), f = e("../../manager/GamePhpManager"), m = e("../../manager/GameSceneMgr"), g = e("../../manager/ReportGameEvent"), y = e("../../manager/SpriteFramePreLoader"), _ = e("../../public/MyComponent/GameHppayUtil"), C = e("../../public/MyComponent/ViewExecutorBase"), b = e("../GameBeginScene"), v = e("../GameInitLogic"), S = e("../GamePreLoader"), I = cc._decorator, B = I.ccclass, w = (I.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.repeatRequestEx = function() {
console.log("request time out ...curr step = ", this.node._currStep);
if (this.node._currStep == b.RequestFlow.config) this.node._getConfig(this.node.pingData); else if (this.node._currStep == b.RequestFlow.init) if (0 == this.node.isRequestDefaultPing) {
console.log("phpInit = requestDefaultPing");
this.node.isRequestDefaultPing = !0;
f.GamePhpManager.inst.init(b.default.pingUrl);
this.node.startSelectPhpPath();
} else this.node.showTryLaterDialog(); else this.node._currStep == b.RequestFlow.phpLogin ? this.node._autoLogin() : this.node._currStep == b.RequestFlow.phpEnterGame ? this.node._phpEnterGame() : this.node._currStep == b.RequestFlow.serverConnect ? this.node._connectServer() : this.node._currStep == b.RequestFlow.serverHallLogin && this.node._loginHall();
};
t.prototype.getConfigEx = function(e) {
this.node._setProgress(b.RequestPercent.config, c.default.ins.GET_LOADING_LANG("checkConfig"));
var t = this;
this.node._currStep = b.RequestFlow.config;
console.log("enter get config flow ....", e.r + "?ver=" + e.cv);
this.node._startTimer();
r.default.getInstance().httpGet(e.r + "?ver=" + e.cv, function(o) {
if (0 == t.node.isUpdateConfig) {
t.node._stopTimer();
t.node.isUpdateConfig = !0;
_.default.saveData("ConfigVersion", e.cv);
console.log("config data = ", o);
h.default.init(o);
d.default.ins.initWebGameData();
t.node._enterGame();
}
});
};
t.prototype.onLoginGameSuccessEx = function() {
if (this.node._currStep < b.RequestFlow.serverHallLogin) {
console.log("enter socket login game flow ....");
this.node._loginHall();
S.default.preLoadHall();
}
};
t.prototype.loginHallEx = function() {
this.node._currStep = b.RequestFlow.serverHallLogin;
this.node._setProcessPercent(b.RequestPercent.serverHallLogin);
this.node._startTimer();
s.default.getInstance().socketSend.loginHpgGameHall();
};
t.prototype.onLoginHallSuccessEx = function(e) {
if (this.node._currStep < b.RequestFlow.requestFinish) {
this.node._currStep = b.RequestFlow.requestFinish;
S.default.preLoadHallPHP();
this.node._stopTimer();
this.node._setProgress(b.RequestPercent.resPreLoading, c.default.ins.GET_LOADING_LANG("connectSuccess"));
if ("" != e) {
this.node._nextScene = m.SceneIndex.hall;
u.default.lastScene = m.SceneIndex.start;
this.node._setProgress(b.RequestPercent.requestFinish, c.default.ins.GET_LOADING_LANG("loadCompleted"));
m.default.enterHall(!0);
g.default.endRecordTime(g.ReportEventType.enterHallTime);
}
}
};
t.prototype.checkResLoadComplete = function() {
if (y.default.inst.isLoadCompleted()) {
this.node._setProgress(b.RequestPercent.requestFinish, c.default.ins.GET_LOADING_LANG("loadCompleted"));
u.default.lastScene = m.SceneIndex.start;
g.default.endRecordTime(g.ReportEventType.enterHallTime);
this.node.unschedule(this.checkResLoadComplete);
m.default.enterHall(!0);
}
};
t.prototype.autoLoginEx = function() {
this.node._currStep = b.RequestFlow.phpLogin;
this.node._setProgress(b.RequestPercent.phpLogin, c.default.ins.GET_LOADING_LANG("loadingGame"));
this.node._startTimer();
if (u.default.currPlatType != u.PlatformGameEnum.webapp) {
var e = u.default.currPlatType;
e == u.PlatformGameEnum.guest && this.node._loginByGuest();
e == u.PlatformGameEnum.google ? this.node._loginByGoogle() : e == u.PlatformGameEnum.telephoneWithPassword ? this.node._loginByPhonePassword() : e == u.PlatformGameEnum.telephoneWithVCode && this.node._loginByPhoneVcode();
} else this.node._loginByWebApp();
};
t.prototype.loginByGuestEx = function() {
if ("0" == (_.default.readData("autoLogin") || "-1")) {
(e = {}).uid = _.default.readData("userId") || "0";
e.devId = u.default.devId;
e.nickName = "";
e.autoGuest = 2;
e.ptype = u.PlatformGameEnum.guest;
r.default.getInstance().login(e);
} else {
var e;
(e = {}).devId = u.default.devId;
e.nickName = "";
e.ptype = u.PlatformGameEnum.guest;
e.autoGuest = 1;
r.default.getInstance().login(e);
}
};
t.prototype.loginByPhonePasswordEx = function() {
var e = _.default.readData("loginPhoneNumber") || "", t = _.default.readData("loginPhoneArea") || "", o = _.default.readData("loginPassword") || "";
u.default.phonePassword = o + "";
u.default.phoneNumber = t + e + "";
if ("1" == (_.default.readData("autoLogin") || "-1")) {
(i = {}).ptype = u.PlatformGameEnum.telephoneWithPassword;
i.devId = u.default.devId;
i.areaCode = t;
i.telephone = e;
i.password = o;
i.autoGuest = 2;
r.default.getInstance().loginByTelephone(i);
} else {
var i;
(i = {}).ptype = u.PlatformGameEnum.telephoneWithPassword;
i.devId = u.default.devId;
i.areaCode = t;
i.telephone = e;
i.password = o;
r.default.getInstance().loginByTelephone(i);
}
};
t.prototype.loginByWebAppEx = function() {
var e = {};
e.pid = u.default.webPid;
e.token = u.default.webToken;
e.uid = u.default.webUid;
e.ptype = u.PlatformGameEnum.webapp;
r.default.getInstance().login(e);
};
t.prototype.loginByPhoneVcodeEx = function() {
var e = _.default.readData("loginPhoneNumber") || "", t = _.default.readData("loginPhoneArea") || "", o = _.default.readData("loginPassword") || "";
u.default.phonePassword = o + "";
u.default.phoneNumber = t + e + "";
var i = {};
i.ptype = u.PlatformGameEnum.telephoneWithVCode;
i.devId = u.default.devId;
i.areaCode = t;
i.telephone = e;
r.default.getInstance().loginByTelephone(i);
};
t.prototype.onLoginPhpSuccessEx = function() {
if (this.node._currStep < b.RequestFlow.phpEnterGame) {
this.node._currStep = b.RequestFlow.phpEnterGame;
this.node._phpEnterGame();
}
};
t.prototype.connectServerEx = function() {
this.node._currStep = b.RequestFlow.serverConnect;
this.node._setProgress(b.RequestPercent.serverConnect, c.default.ins.GET_LOADING_LANG("loadingGame"));
this.node._startTimer();
console.log("connect server", l.default.UserData.server);
s.default.getInstance().connect(l.default.UserData.server);
};
t.prototype.loginByGoogleEx = function() {};
t.prototype.enterGameEx = function() {
if (1 != this.node.isEnterGame) {
this.node.isEnterGame = !0;
console.log("enter game php login flow autoguest =", this.node.isAutoGuest);
var e = _.default.readData("autoLogin") || "-1";
console.log("enter game autoLogin = ", e);
if (!this.node.isPhoneAutoLoginEnabled() || "1" != e && "2" != e) if (1 == this.node.isAutoGuest || "0" == e) {
console.log("enter game autoguest");
u.default.currPlatType = u.PlatformGameEnum.guest;
this.node._autoLogin();
} else {
console.log("enter game login");
m.default.enterLogin();
} else {
console.log("enter game autophone");
this.node._phpEnterGame();
}
}
};
t.prototype.onInitAppIDEx = function() {
console.log("on init appid = ", u.default.appid);
console.log("on init appver = ", u.default.ver);
var e = _.default.readData("localAppID");
null != e && null != e && "" != e && (u.default.appid = Number(e));
u.default.localLanguage = c.AppLan.en;
if (u.default.appid >= 100 && u.default.appid < 200) {
b.default.appid = 105;
b.default.pingUrl = "https://www.winbrls.com/ping.php";
u.default.localLanguage = c.AppLan.pt;
u.default.country = u.GameCountryEnum.Brazil;
} else if (u.default.appid >= 200 && u.default.appid < 300) {
b.default.appid = 205;
b.default.pingUrl = "https://www.windongs.com/ping.php";
u.default.localLanguage = c.AppLan.vn;
u.default.country = u.GameCountryEnum.Vietnam;
} else if (u.default.appid >= 300 && u.default.appid < 400) {
b.default.appid = 305;
b.default.pingUrl = "https://www.happyidn.com/ping.php";
u.default.localLanguage = c.AppLan.id;
u.default.country = u.GameCountryEnum.Indonesia;
} else if (u.default.appid >= 500 && u.default.appid < 600) {
b.default.appid = 505;
b.default.pingUrl = "https://www.winringgit.com/ping.php";
u.default.localLanguage = c.AppLan.my;
u.default.country = u.GameCountryEnum.Malaysia;
} else if (u.default.appid >= 600 && u.default.appid < 700) {
b.default.appid = 605;
b.default.pingUrl = "https://www.bahtwin.com/ping.php";
u.default.localLanguage = c.AppLan.en;
u.default.country = u.GameCountryEnum.Philippines;
} else if (u.default.appid >= 700 && u.default.appid < 800) {
b.default.appid = 705;
b.default.pingUrl = "https://www.happyinworld.com/ping.php";
u.default.localLanguage = c.AppLan.en;
u.default.country = u.GameCountryEnum.India;
} else if (u.default.appid >= 800 && u.default.appid < 900) {
b.default.appid = 801;
b.default.pingUrl = "https://www.betmbet.com/ping.php";
u.default.localLanguage = c.AppLan.th;
u.default.country = u.GameCountryEnum.Thailand;
} else {
b.default.appid = 705;
b.default.pingUrl = "https://www.happyinworld.com/ping.php";
u.default.localLanguage = c.AppLan.en;
u.default.country = u.GameCountryEnum.India;
}
var t = _.default.readData(v.default.initLan);
_.default.isValidLanguage(u.default.country, t) && (u.default.localLanguage = t);
this.node._setProcessPercent(b.RequestPercent.init);
c.default.ins.initDefaultLan();
};
t.prototype.initCountryInfo = function(e) {
e = _.default.readData(v.default.initCountry);
console.log("localparams Country = ", e);
console.log("localparams AppID = ", u.default.appid);
if (_.default.isValidCountry(e)) u.default.country = e; else {
u.default.country = _.default.readData("localCountry");
console.log("local data222 Country = ", u.default.country);
_.default.isValidCountry(u.default.country) || (u.default.appid >= 100 && u.default.appid < 200 ? u.default.country = u.GameCountryEnum.Brazil : u.default.appid >= 200 && u.default.appid < 300 ? u.default.country = u.GameCountryEnum.Vietnam : u.default.appid >= 300 && u.default.appid < 400 ? u.default.country = u.GameCountryEnum.Indonesia : u.default.appid >= 500 && u.default.appid < 600 ? u.default.country = u.GameCountryEnum.Malaysia : u.default.appid >= 600 && u.default.appid < 700 ? u.default.country = u.GameCountryEnum.Philippines : u.default.appid >= 700 && u.default.appid < 800 ? u.default.country = u.GameCountryEnum.India : u.default.appid >= 800 && u.default.appid < 900 ? u.default.country = u.GameCountryEnum.Thailand : u.default.country = u.GameCountryEnum.Philippines);
}
u.default.localLanguage = _.default.readData("localLan");
console.log("localparams LocalLan = ", u.default.localLanguage);
if (u.default.country == u.GameCountryEnum.Thailand) {
u.default.ereaCode = u.GameCountryType.Thailand;
u.default.originMoneyUnit = u.GameCountryCurrencyType.Thailand;
u.default.gameMoneyUnit = u.GameCountryCurrencyType.Thailand;
u.default.country = u.GameCountryEnum.Thailand;
u.default.countryID = u.GameCountryID.Thailand;
u.default.countryCurrencyUnit = u.CurrencyCountryUnit.Thailand;
u.default.scheme = u.GameSchemesEnum.Thailand;
u.default.localLanguage = c.AppLan.th;
} else if (u.default.country == u.GameCountryEnum.Philippines) {
u.default.ereaCode = u.GameCountryType.Philippines;
u.default.originMoneyUnit = u.GameCountryCurrencyType.Philippines;
u.default.gameMoneyUnit = u.GameCountryCurrencyType.Philippines;
u.default.country = u.GameCountryEnum.Philippines;
u.default.countryID = u.GameCountryID.Philippines;
u.default.countryCurrencyUnit = u.CurrencyCountryUnit.Philippines;
u.default.scheme = u.GameSchemesEnum.Philippines;
u.default.localLanguage = c.AppLan.en;
} else if (u.default.country == u.GameCountryEnum.India) {
u.default.ereaCode = u.GameCountryType.India;
u.default.originMoneyUnit = u.GameCountryCurrencyType.India;
u.default.gameMoneyUnit = u.GameCountryCurrencyType.India;
u.default.country = u.GameCountryEnum.India;
u.default.countryID = u.GameCountryID.India;
u.default.countryCurrencyUnit = u.CurrencyCountryUnit.India;
u.default.scheme = u.GameSchemesEnum.India;
u.default.localLanguage = c.AppLan.en;
} else if (u.default.country == u.GameCountryEnum.Malaysia) {
u.default.ereaCode = u.GameCountryType.Malaysia;
u.default.originMoneyUnit = u.GameCountryCurrencyType.Malaysia;
u.default.gameMoneyUnit = u.GameCountryCurrencyType.Malaysia;
u.default.country = u.GameCountryEnum.Malaysia;
u.default.countryID = u.GameCountryID.Malaysia;
u.default.countryCurrencyUnit = u.CurrencyCountryUnit.Malaysia;
u.default.scheme = u.GameSchemesEnum.Malaysia;
0 == _.default.isValidLanguage(u.default.country, u.default.localLanguage) && (u.default.localLanguage = c.AppLan.my);
} else if (u.default.country == u.GameCountryEnum.Indonesia) {
u.default.ereaCode = u.GameCountryType.Indonesia;
u.default.originMoneyUnit = u.GameCountryCurrencyType.Indonesia;
u.default.gameMoneyUnit = u.GameCountryCurrencyType.IndonesiaK;
u.default.country = u.GameCountryEnum.Indonesia;
u.default.countryID = u.GameCountryID.Indonesia;
u.default.countryCurrencyUnit = u.CurrencyCountryUnit.Indonesia;
u.default.scheme = u.GameSchemesEnum.Indonesia;
0 == _.default.isValidLanguage(u.default.country, u.default.localLanguage) && (u.default.localLanguage = c.AppLan.id);
} else if (u.default.country == u.GameCountryEnum.Vietnam) {
u.default.ereaCode = u.GameCountryType.Vietnam;
u.default.originMoneyUnit = u.GameCountryCurrencyType.Vietnam;
u.default.gameMoneyUnit = u.GameCountryCurrencyType.VietnamK;
u.default.country = u.GameCountryEnum.Vietnam;
u.default.countryID = u.GameCountryID.Vietnam;
u.default.countryCurrencyUnit = u.CurrencyCountryUnit.Vietnam;
u.default.scheme = u.GameSchemesEnum.Vietnam;
0 == _.default.isValidLanguage(u.default.country, u.default.localLanguage) && (u.default.localLanguage = c.AppLan.vn);
} else if (u.default.country == u.GameCountryEnum.Brazil) {
u.default.ereaCode = u.GameCountryType.Brazil;
u.default.originMoneyUnit = u.GameCountryCurrencyType.Brazil;
u.default.gameMoneyUnit = u.GameCountryCurrencyType.Brazil;
u.default.country = u.GameCountryEnum.Brazil;
u.default.countryID = u.GameCountryID.Brazil;
u.default.countryCurrencyUnit = u.CurrencyCountryUnit.Brazil;
u.default.scheme = u.GameSchemesEnum.Brazil;
0 == _.default.isValidLanguage(u.default.country, u.default.localLanguage) && (u.default.localLanguage = c.AppLan.pt);
}
_.default.isLocalTest() && (u.default.appid = b.default.appid);
console.log("enter game locallanguage", u.default.localLanguage);
console.log("enter game localCountry", u.default.country);
p.default.inst.gameConfigInit();
p.default.inst.gameListInit();
c.default.ins.initLanguageData();
};
t.prototype.onInitLanguageEx = function() {
this.node.initPhpUrl();
};
t.prototype.onInitGameEx = function(e) {
console.log("init data", e);
this.node.initData = e;
this.node.initData && 1 == this.node.initData.autoGuest ? this.node.isAutoGuest = !0 : this.node.isAutoGuest = !1;
};
t.prototype.startGameEx = function() {
this.node.startSelectPhpPath();
};
return a([ B ], t);
}(C.default));
o.default = w;
cc._RF.pop();
}, {
"../../communication/GameLoginHttp": "GameLoginHttp",
"../../communication/SocketGameManager": "SocketGameManager",
"../../data/GameLangData": "GameLangData",
"../../data/MyData": "MyData",
"../../data/WebGameHappyData": "WebGameHappyData",
"../../data/conf/GameConfig": "GameConfig",
"../../data/conf/GameInfo": "GameInfo",
"../../data/conf/InitGame": "InitGame",
"../../manager/GamePhpManager": "GamePhpManager",
"../../manager/GameSceneMgr": "GameSceneMgr",
"../../manager/ReportGameEvent": "ReportGameEvent",
"../../manager/SpriteFramePreLoader": "SpriteFramePreLoader",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase",
"../GameBeginScene": "GameBeginScene",
"../GameInitLogic": "GameInitLogic",
"../GamePreLoader": "GamePreLoader"
} ],
GameBeginScene: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "03c11orsnxB/aj7sCQ8I5KW", "GameBeginScene");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.RequestPercent = o.RequestFlow = void 0;
var r, s, c = e("../public/MyComponent/GameBaseView"), l = e("../data/GameLangData"), d = e("../data/conf/GameInfo"), h = e("../public/MyComponent/GameHppayUtil"), u = e("../data/MyData"), p = e("../data/conf/GameConfig"), f = e("../data/conf/ScreenGameAdapter"), m = e("../manager/ReportGameEvent"), g = e("../manager/GamePhpManager"), y = e("../data/WebGameHappyData"), _ = e("./executor/GameBeginSceneEx"), C = e("../communication/GameLobbyHttp"), b = e("../data/conf/InitGame"), v = e("../public/ThirdParty/UIGameMgr"), S = e("../communication/SocketGameManager"), I = e("../manager/PlatformInterface"), B = e("../manager/DlgGameMgr"), w = e("./GameInitLogic"), N = e("../manager/GameSceneMgr"), L = e("./HotUpdateManager"), T = cc._decorator, D = T.ccclass, E = T.property;
(function(e) {
e[e.start = 0] = "start";
e[e.init = 1] = "init";
e[e.checkUpdate = 2] = "checkUpdate";
e[e.updateFinish = 3] = "updateFinish";
e[e.selectPhp = 4] = "selectPhp";
e[e.config = 5] = "config";
e[e.phpLogin = 6] = "phpLogin";
e[e.phpEnterGame = 7] = "phpEnterGame";
e[e.serverConnect = 8] = "serverConnect";
e[e.serverLogin = 9] = "serverLogin";
e[e.serverHallLogin = 10] = "serverHallLogin";
e[e.resPreLoading = 11] = "resPreLoading";
e[e.requestFinish = 12] = "requestFinish";
})(r = o.RequestFlow || (o.RequestFlow = {}));
(function(e) {
e[e.start = 0] = "start";
e[e.init = .05] = "init";
e[e.checkUpdate = .1] = "checkUpdate";
e[e.updateFinish = .9] = "updateFinish";
e[e.selectPhp = .92] = "selectPhp";
e[e.config = .93] = "config";
e[e.phpLogin = .94] = "phpLogin";
e[e.phpEnterGame = .95] = "phpEnterGame";
e[e.serverConnect = .96] = "serverConnect";
e[e.serverLogin = .97] = "serverLogin";
e[e.serverHallLogin = .98] = "serverHallLogin";
e[e.resPreLoading = .99] = "resPreLoading";
e[e.requestFinish = 1] = "requestFinish";
})(s = o.RequestPercent || (o.RequestPercent = {}));
var A = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.manifest = null;
t.manifest_project = null;
t._percentDesc = null;
t._loadingDesc = null;
t._loadingProgress = null;
t.TIME_OUT = 3;
t._timeoutCounter = 0;
t._currStep = r.start;
t.isComplete = !1;
t.isAutoGuest = !1;
t.initData = null;
t.isTimeOut = !1;
t.pingData = null;
t.isUpdateConfig = !1;
t.isUpdatePing = !1;
t._nextScene = 1;
t.isRequestDefaultPing = !1;
t.phpUrl = "null";
t.isCompleteUpdate = !1;
t.isUpdateError = !1;
return t;
}
o = t;
t.prototype.onLoad = function() {
this.setview();
this.initParams();
this.register("StartScene", [ "ON_INIT_PHP", "ON_INIT", "ON_INIT_LANGUAGE", "ON_INIT_LANGUAGE_START", "ON_INIT_APPID", "EVENT_SERVER_LOGIN", "ON_NOT_REGESTER", "ON_GET_ROOM_INFO", "ON_LOGIN_FAILED", "ON_LOGIN_SUCCESS", "ON_LOGIN_PHONE_SUCCESS", "ON_HOT_UPDATE_SKIP", "LOGIN_SUCCESS", "LOGIN_FAILED", "LOGIN_HALL_SUCCESS", "ON_UPDATE_SKIP", "ON_UPDATE_START", "ON_UPDATE_PROGRESS", "ON_UPDATE_FINISHED", "ON_UPDATE_ERROR" ]);
cc.game.addPersistRootNode(cc.find("nativeReg"));
this.exView = new _.default();
this.exView.setProxy(this);
b.default.inst.GameInitialization();
};
t.prototype.setview = function() {
f.default.getInstance().setGameAdaptation(this.node);
this._percentDesc = this.node.getChildByName("percent_desc").getComponent(cc.Label);
this._loadingDesc = this.node.getChildByName("loading_desc").getComponent(cc.Label);
this.node.getChildByName("versionShadow").active = !0;
this.node.getChildByName("version").active = !0;
this._loadingProgress = this.node.getChildByName("progress_loading").getComponent(cc.ProgressBar);
this.node.getChildByName("serviceBtn").on("click", this._onCustomerServiceBtn, this);
this._reset();
};
t.prototype.initParams = function() {
var e = window.document.location.href.toString();
if (0 != h.default.isWebApp()) {
console.log("app url = ", e);
if (1 == I.default.isH5()) {
var t = window;
d.default.appid = t.appId || "";
d.default.ver = t.appVer || "";
d.default.devId = t.devId || "";
d.default.timeZone = t.gZone || "";
d.default.localTime = t.gTime || "";
d.default.sourceLanguage = t.gLang || "";
} else if (1 == I.default.isNativeH5() && -1 != e.search("http")) {
var o = e.split("?");
if (o.length > 1) {
for (var i = o[1].split("&"), n = {}, a = 0; a < i.length; a++) {
var r = i[a].split("=");
if (2 == r.length) {
var s = r[0], c = r[1];
n[s] = c;
console.log("webparams key", s, c);
console.log("webparams value", n[s]);
}
}
d.default.webParamData = n;
d.default.appid = n.appId || "";
d.default.ver = n.appVer || "";
d.default.devId = n.devId || "";
d.default.timeZone = n.gZone || "";
d.default.localTime = n.gTime || "";
d.default.sourceLanguage = n.gLang || "";
}
}
}
};
t.prototype.start = function() {
I.default.hideSplash();
this.node.getChildByName("serviceBtn").active = !1;
this.isAutoGuest = !1;
this.isTimeOut = !1;
d.default.currPlatType = Number(cc.sys.localStorage.getItem("autoLoginType") || d.PlatformGameEnum.guest);
v.default.setcc(cc);
S.default.getInstance().initSocketData();
var e = h.default.readData("loginPhoneNumber") || "", t = h.default.readData("loginPhoneArea") || "", o = h.default.readData("loginPassword") || "";
d.default.phonePassword = o + "";
d.default.phoneNumber = t + e + "";
u.default.UserData.userId = h.default.readData("userId") || 0;
d.default.currScene = N.SceneIndex.start;
var i = this.node.getChildByName("sceneBg");
this.setNodeFullScreen(i);
};
t.prototype.getInitPhp = function() {
this.node.getChildByName("serviceBtn").active = !0;
this.node.getChildByName("serviceBtn").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("customerService");
this._setProgress(s.init, l.default.ins.GET_LOADING_LANG("startEnter"));
w.default.inst.getInitPhp();
};
t.prototype.showTryLaterDialog = function() {
B.default.inst.showConfirmDlg(l.default.ins.GET_NEWHALL_LANG("retryDesc"), 1, null, null, function() {
cc.game.end();
});
};
t.prototype.startSelectPhpPath = function() {
this._setProgress(s.selectPhp, l.default.ins.GET_LOADING_LANG("selectPhpPath"));
var e = this;
this._currStep = r.init;
this._startTimer();
g.GamePhpManager.inst.phpPathSelect(function(t) {
if (0 == e.isUpdatePing) {
e._stopTimer();
console.log("ping data", t);
e.isUpdatePing = !0;
e.pingData = t;
var o = t.u;
console.log("ping data u", o);
if (1 == o) {
e.isUpdateConfig = !1;
e.exView.onInitGameEx(t);
e._getConfig(t);
} else {
e.isUpdateConfig = !0;
e.exView.onInitGameEx(t);
y.default.ins.initWebGameData();
e.startDefaultPhpPath();
}
}
});
};
t.prototype.startDefaultPhpPath = function() {
this._enterGame();
};
t.prototype._startTimer = function() {
this._stopTimer();
this.schedule(this._timer, 1);
};
t.prototype._timer = function() {
if (this._timeoutCounter < this.TIME_OUT) this._timeoutCounter++; else {
this._stopTimer();
this._repeatRequest();
}
};
t.prototype._stopTimer = function() {
this._timeoutCounter = 0;
this.unschedule(this._timer);
};
t.prototype._repeatRequest = function() {
this.exView.repeatRequestEx();
};
t.prototype._getConfig = function(e) {
this.exView.getConfigEx(e);
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_LOGIN_SUCCESS":
case "ON_LOGIN_PHONE_SUCCESS":
this._onLoginPhpSuccess();
break;

case "ON_LOGIN_FAILED":
console.log("php ");
this._onLoginFailed(t);
break;

case "LOGIN_SUCCESS":
this._onLoginGameSuccess();
break;

case "LOGIN_HALL_SUCCESS":
this._onLoginHallSuccess(t);
break;

case "LOGIN_FAILED":
console.log("php socketgame ");
break;

case "PHP_TIME_OUT":
console.log("phpgame ");
break;

case "PHP_REQUEST_ERROR":
console.log("gamephp ");
break;

case "ON_GET_ROOM_INFO":
this._onEnterRoom(t);
break;

case "EVENT_SERVER_LOGIN":
this._setProcessPercent(s.serverLogin);
break;

case "ON_NOT_REGESTER":
N.default.enterLogin();
break;

case "ON_INIT":
this.onInitGame(t);
break;

case "ON_INIT_APPID":
this.onInitAppID();
break;

case "ON_INIT_LANGUAGE":
this.onInitLanguage();
break;

case "ON_INIT_LANGUAGE_START":
this.getInitPhp();
break;

case "ON_INIT_PHP":
this.onInitPhp(t);
break;

case "ON_UPDATE_SKIP":
this.onUpdateSkip();
break;

case "ON_UPDATE_ERROR":
this.onUpdateError();
break;

case "ON_UPDATE_START":
this.onUpdateStart();
break;

case "ON_UPDATE_PROGRESS":
this.onHotUpdateProgress(t);
break;

case "ON_UPDATE_FINISHED":
this.onUpdateFinished();
}
};
t.prototype.onUpdateError = function() {
var e = this;
this.isUpdateError = !0;
this._setProcessDesc(l.default.ins.GET_LOADING_LANG("updateFailed"));
this.scheduleOnce(function() {
e.initPhpUrl();
}, .5);
};
t.prototype.onUpdateSkip = function() {
L.default.unRegisterCallBack();
if (0 == this.isCompleteUpdate) {
this.isCompleteUpdate = !0;
this.initPhpUrl();
}
};
t.prototype.onUpdateFinished = function() {
this._setProcessDesc(l.default.ins.GET_LOADING_LANG("updateCompleted"));
};
t.prototype.onUpdateStart = function() {
if (0 == this.isCompleteUpdate) {
this.isCompleteUpdate = !0;
L.default.hotUpdate();
this._setProcessDesc(l.default.ins.GET_LOADING_LANG("updateGame"));
}
};
t.prototype.onHotUpdateProgress = function(e) {
0 == this.isUpdateError && this._setProcessPercent(.1 + e / 100 * .9);
};
t.prototype.onInitPhp = function(e) {
this.phpUrl = e;
this.exView.initCountryInfo();
};
t.prototype.initPhpUrl = function() {
if ("null" == this.phpUrl) {
console.log("phpInit = default");
this.isRequestDefaultPing = !0;
g.GamePhpManager.inst.init(o.pingUrl);
} else {
console.log("phpInit = ", this.phpUrl);
this.isRequestDefaultPing = !1;
g.GamePhpManager.inst.init(this.phpUrl);
}
this.startGame();
};
t.prototype.onInitAppID = function() {
var e = h.default.getVersionDesc();
console.log("versison desc = ", e);
this.node.getChildByName("versionShadow").getComponent(cc.Label).string = e;
this.node.getChildByName("version").getComponent(cc.Label).string = e;
this.node.getChildByName("versionShadow").active = !0;
this.node.getChildByName("version").active = !0;
this.exView.onInitAppIDEx();
};
t.prototype.onInitLanguage = function() {
this.node.getChildByName("serviceBtn").active = !0;
this.node.getChildByName("serviceBtn").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("customerService");
this._setProgress(s.checkUpdate, l.default.ins.GET_LOADING_LANG("checkUpdate"));
this.startHotUpdate();
};
t.prototype.startHotUpdate = function() {
var e = this, t = h.default.readData(w.default.initHotUrl) || "undefined";
console.log("new hotUrl = ", t);
"undefined" == t ? L.default.initHotUpdate(this.manifest_project) : L.default.modifyAppLoadUrlForManifestFile(t, this.manifest_project, function() {
L.default.initHotUpdate(e.manifest_project);
});
};
t.prototype.onInitGame = function(e) {
this.exView.onInitGameEx(e);
};
t.prototype.loginByGuest = function() {
this.exView.loginByGuestEx();
};
t.prototype.startGame = function() {
this.exView.startGameEx();
};
t.prototype.isPhoneAutoLoginEnabled = function() {
d.default.isPhoneLogined = Number(h.default.readData("isPhoneLogined"));
return 1 == d.default.isPhoneLogined;
};
t.prototype._onLoginGameSuccess = function() {
this.exView.onLoginGameSuccessEx();
};
t.prototype._loginHall = function() {
this.exView.loginHallEx();
};
t.prototype._onLoginHallSuccess = function(e) {
this.exView.onLoginHallSuccessEx(e);
};
t.prototype._checkResLoadComplete = function() {
this.exView.checkResLoadCompleteEx();
};
t.prototype._onEnterRoom = function() {};
t.prototype._autoLogin = function() {
this.exView.autoLoginEx();
};
t.prototype._loginByGuest = function() {
this.exView.loginByGuestEx();
};
t.prototype._loginByPhonePassword = function() {
this.exView.loginByPhonePasswordEx();
};
t.prototype._loginByWebApp = function() {
this.exView.loginByWebAppEx();
};
t.prototype._loginByPhoneVcode = function() {
this.exView.loginByPhoneVcodeEx();
};
t.prototype._onLoginPhpSuccess = function() {
this.exView.onLoginPhpSuccessEx();
};
t.prototype._phpEnterGame = function() {
var e = this;
this._currStep = r.phpEnterGame;
this._setProgress(s.phpEnterGame, l.default.ins.GET_LOADING_LANG("loadingGame"));
this._startTimer();
var t = this;
C.default.getInstance().enterGame(function() {
console.log("", u.default.UserData.server, p.default.phpUrl);
if (e._currStep < r.serverConnect) {
console.log("enter socket connect flow ....");
t._connectServer();
}
});
};
t.prototype._connectServer = function() {
this.exView.connectServerEx();
};
t.prototype._onLoginFailed = function(e) {
this._stopTimer();
this._setProgress(s.requestFinish, l.default.ins.GET_LOADING_LANG("loadCompleted"));
this.scheduleOnce(function() {
N.default.enterLogin();
h.default.alert(e);
}, .1);
};
t.prototype._loginByGoogle = function() {
this.exView.loginByGoogleEx();
};
t.prototype._enterGame = function() {
this.exView.enterGameEx();
};
t.prototype._setProgress = function(e, t) {
this._setProcessPercent(e);
this._setProcessDesc(t);
};
t.prototype._setProcessPercent = function(e) {
this._loadingProgress.progress = e;
this._percentDesc.string = (100 * e).toFixed(0) + "%";
console.log("loading progress ", e);
if (e > .9) {
console.log("loading progress 11 ", e);
m.default.newRecord(m.ReportEventType.loadingProgress, "percent", 100 * e);
}
};
t.prototype._setProcessDesc = function(e) {
this._loadingDesc.string = e;
};
t.prototype._reset = function() {
this._loadingProgress.progress = 0;
this._loadingDesc.string = "";
this._percentDesc.string = "";
};
t.prototype._onCustomerServiceBtn = function() {
h.default.showFeedback();
};
var o;
t.appVer = 163;
t.appid = 801;
t.pingUrl = "https://www.happyidn.com/ping.php";
a([ E(cc.Asset) ], t.prototype, "manifest", void 0);
a([ E(cc.Asset) ], t.prototype, "manifest_project", void 0);
return o = a([ D ], t);
}(c.default);
o.default = A;
cc._RF.pop();
}, {
"../communication/GameLobbyHttp": "GameLobbyHttp",
"../communication/SocketGameManager": "SocketGameManager",
"../data/GameLangData": "GameLangData",
"../data/MyData": "MyData",
"../data/WebGameHappyData": "WebGameHappyData",
"../data/conf/GameConfig": "GameConfig",
"../data/conf/GameInfo": "GameInfo",
"../data/conf/InitGame": "InitGame",
"../data/conf/ScreenGameAdapter": "ScreenGameAdapter",
"../manager/DlgGameMgr": "DlgGameMgr",
"../manager/GamePhpManager": "GamePhpManager",
"../manager/GameSceneMgr": "GameSceneMgr",
"../manager/PlatformInterface": "PlatformInterface",
"../manager/ReportGameEvent": "ReportGameEvent",
"../public/MyComponent/GameBaseView": "GameBaseView",
"../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../public/ThirdParty/UIGameMgr": "UIGameMgr",
"./GameInitLogic": "GameInitLogic",
"./HotUpdateManager": "HotUpdateManager",
"./executor/GameBeginSceneEx": "GameBeginSceneEx"
} ],
GameBets: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3b537wbVyJBj7k2bRLzpoKL", "GameBets");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.BJOperationBetButtonID = void 0;
var r = e("../../PublicTools/GameEvents"), s = e("../../EXUIFrame/EXSoundMgr");
(function(e) {
e[e.double = 0] = "double";
e[e.cancel = 1] = "cancel";
e[e.repeat = 2] = "repeat";
e[e.complete = 3] = "complete";
e[e.skip = 4] = "skip";
})(o.BJOperationBetButtonID || (o.BJOperationBetButtonID = {}));
var c = cc._decorator, l = c.ccclass, d = (c.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.cancelBtn = null;
t.repeatBtn = null;
t.completeBtn = null;
t.skipBtn = null;
t.doubleBtn = null;
t.operationBtnList = [];
return t;
}
t.prototype.onLoad = function() {
this.cancelBtn = this.node.getChildByName("cancel");
this.cancelBtn.on("click", this.cancelBet, this);
this.repeatBtn = this.node.getChildByName("repeat");
this.repeatBtn.on("click", this.repeatBet, this);
this.skipBtn = this.node.getChildByName("skip");
this.skipBtn.on("click", this.completeBet, this);
this.doubleBtn = this.node.getChildByName("double");
this.doubleBtn.on("click", this.doubleBet, this);
this.completeBtn = this.node.getChildByName("complete");
this.completeBtn.on("click", this.completeBet, this);
this.operationBtnList = [ this.doubleBtn, this.cancelBtn, this.repeatBtn, this.completeBtn, this.skipBtn ];
this.node.active = !1;
};
t.prototype.init = function() {
this.reset();
};
t.prototype.reset = function() {
this.cancelBtn.getComponent(cc.Button).interactable = !1;
this.completeBtn.getComponent(cc.Button).interactable = !0;
this.skipBtn.getComponent(cc.Button).interactable = !0;
this.skipBtn.active = !0;
this.completeBtn.active = !1;
};
t.prototype.sleep = function() {
this.cancelBtn.getComponent(cc.Button).interactable = !1;
this.repeatBtn.getComponent(cc.Button).interactable = !1;
this.doubleBtn.getComponent(cc.Button).interactable = !1;
this.completeBtn.getComponent(cc.Button).interactable = !1;
this.skipBtn.getComponent(cc.Button).interactable = !1;
};
t.prototype.active = function() {
this.cancelBtn.getComponent(cc.Button).interactable = !0;
this.repeatBtn.getComponent(cc.Button).interactable = !0;
this.doubleBtn.getComponent(cc.Button).interactable = !0;
this.completeBtn.getComponent(cc.Button).interactable = !0;
this.skipBtn.getComponent(cc.Button).interactable = !0;
};
t.prototype.setOperationButtonEnabled = function(e, t) {
this.operationBtnList[e].getComponent(cc.Button).interactable = t;
};
t.prototype.onStartBet = function() {
this.doubleBtn.getComponent(cc.Button).interactable = !0;
this.repeatBtn.getComponent(cc.Button).interactable = !1;
this.cancelBtn.getComponent(cc.Button).interactable = !0;
this.skipBtn.active = !1;
this.completeBtn.active = !0;
};
t.prototype.onCancelBet = function() {
this.cancelBtn.getComponent(cc.Button).interactable = !1;
this.skipBtn.active = !0;
this.completeBtn.active = !1;
};
t.prototype.doubleBet = function() {
s.default.inst.playEffect("new_res_btnSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
r.MyEvent.getInstance().emit("BJ_EVENT_DOUBLE_BET");
};
t.prototype.repeatBet = function() {
s.default.inst.playEffect("new_res_btnSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
r.MyEvent.getInstance().emit("BJ_EVENT_REPEAT_BET");
};
t.prototype.completeBet = function() {
s.default.inst.playEffect("new_res_btnSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
r.MyEvent.getInstance().emit("BJ_EVENT_COMPLETE_BET");
};
t.prototype.cancelBet = function() {
s.default.inst.playEffect("new_res_btnSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
r.MyEvent.getInstance().emit("BJ_EVENT_CANCEL_BET");
};
t.prototype.start = function() {};
return a([ l ], t);
}(cc.Component));
o.default = d;
cc._RF.pop();
}, {
"../../EXUIFrame/EXSoundMgr": "EXSoundMgr",
"../../PublicTools/GameEvents": "GameEvents"
} ],
GameBindGCashDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d980ffOyJFMzavZH+f7P1xh", "GameBindGCashDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../data/conf/GameInfo"), s = e("../../../public/MyComponent/GameHppayUtil"), c = e("../../../public/MyComponent/WindowBase"), l = e("../../../data/GameLangData"), d = e("../../executor/bank/GameBindGCashEx"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._btnClose = null;
t._btnNext = null;
t._editBoxPhoneNumber = null;
t._editBoxPassword = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this._btnNext.getComponent(cc.Button).interactable = !1;
this._btnList = [ this._btnClose, this._btnNext ];
this.exView = new d.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
this._btnClose = this.node.getChildByName("cloneBtn");
this._btnNext = this.node.getChildByName("nextBtn");
this._editBoxPhoneNumber = this.node.getChildByName("inputPhontNumber").getComponent(cc.EditBox);
this._editBoxPassword = this.node.getChildByName("inputPassword").getComponent(cc.EditBox);
this._editBoxPhoneNumber.node.on("editing-did-ended", this._onInputEnded, this);
this._editBoxPassword.node.on("editing-did-ended", this._onInputPasswordEnded, this);
this._editBoxPassword.node.on("text-changed", this.onEditTextChanged, this);
this.node.getChildByName("titelLabel").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("bindGCashTitle");
this.node.getChildByName("labelEreaCode").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("GCashAccount");
s.default.labelShadow(this.node.getChildByName("titelLabel").getComponent(cc.Label));
this.node.getChildByName("label4").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("GCashNumber");
this._btnNext.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("submit");
this._editBoxPhoneNumber.placeholderLabel.string = l.default.ins.GET_NEWHALL_LANG("GCashAccountTips");
this._editBoxPassword.placeholderLabel.string = l.default.ins.GET_NEWHALL_LANG("GCashNumberTips");
};
t.prototype.onEditTextChanged = function() {
var e = this._editBoxPassword.string;
this._editBoxPassword.string = s.default.formatNumber(e);
this._editBoxPassword.textLabel.node.color = new cc.Color(248, 248, 248, 255);
};
t.prototype._onInputEnded = function() {
this.exView.onInputEndedEx();
};
t.prototype._onInputPasswordEnded = function() {
this.exView.onInputPasswordEndedEx();
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.register("BindGCash", [ "ON_CHECK_PHONE" ]);
if ("" != r.default.phoneNumber && null != r.default.phoneNumber) {
var t = r.default.phoneNumber;
this._editBoxPassword.string = t.substring(2);
}
};
t.prototype.handleAppEvent = function(e) {
e.arg;
e.key;
};
t.prototype.onBtnClick = function(t) {
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "nextBtn":
this._onNext();
break;

case "cloneBtn":
this._onClose();
}
};
t.prototype._onClose = function() {
this.onClose();
};
t.prototype._onNext = function() {
this.exView.onNextEx();
};
return a([ u ], t);
}(c.default));
o.default = p;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../executor/bank/GameBindGCashEx": "GameBindGCashEx"
} ],
GameBindGCashEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1aa2biP3thFSph4bL8j0ODG", "GameBindGCashEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../communication/GameLobbyHttp"), s = e("../../../data/GameLangData"), c = e("../../../public/MyComponent/GameHppayUtil"), l = e("../../../public/MyComponent/ViewExecutorBase"), d = e("../../proxy/bank/PlayerWithdraw"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.onInputEndedEx = function() {
"" != this.node._editBoxPassword.string && "" != this.node._editBoxPhoneNumber.string && (this.node._btnNext.getComponent(cc.Button).interactable = !0);
};
t.prototype.onInputPasswordEndedEx = function() {
var e = this.node._editBoxPassword.string;
if ("" != e) {
"0" == e.substring(0, 1) ? 11 == e.length ? this.node._editBoxPassword.textLabel.node.color = new cc.Color(248, 248, 248, 255) : this.node._editBoxPassword.textLabel.node.color = new cc.Color(200, 40, 20, 255) : 10 == e.length ? this.node._editBoxPassword.textLabel.node.color = new cc.Color(248, 248, 248, 255) : this.node._editBoxPassword.textLabel.node.color = new cc.Color(200, 40, 20, 255);
"" != this.node._editBoxPassword.string && "" != this.node._editBoxPhoneNumber.string && (this.node._btnNext.getComponent(cc.Button).interactable = !0);
}
};
t.prototype.onNextEx = function() {
var e = this.node._editBoxPhoneNumber.string, t = this.node._editBoxPassword.string;
if (t.length < 10) c.default.alert(s.default.ins.GET_NEWHALL_LANG("gcashNumberIncorrect")); else {
var o = {};
o.number = t;
o.bankCode = d.WithdrawCode.gcash;
o.cardholder = e;
o.type = 1;
r.default.getInstance().updateBankInfo(o);
}
};
return a([ u ], t);
}(l.default));
o.default = p;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase",
"../../proxy/bank/PlayerWithdraw": "PlayerWithdraw"
} ],
GameBindUPIDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "22cdfgm1alOUr7PEkqfrn9X", "GameBindUPIDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/GameHppayUtil"), s = e("../../../public/MyComponent/WindowBase"), c = e("../../../data/GameLangData"), l = e("../../executor/bank/GameBindUPIEx"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._btnClose = null;
t._btnNext = null;
t.invalidTips = null;
t._editBoxPassword = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new l.default();
this.exView.setProxy(this);
this._btnNext.getComponent(cc.Button).interactable = !1;
this._btnList = [ this._btnClose, this._btnNext ];
};
t.prototype.setView = function() {
this._btnClose = this.node.getChildByName("cloneBtn");
this._btnNext = this.node.getChildByName("nextBtn");
this._editBoxPassword = this.node.getChildByName("inputPassword").getComponent(cc.EditBox);
this._editBoxPassword.node.on("editing-did-ended", this._onInputPasswordEnded, this);
this.node.getChildByName("titelLabel").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("bindGCashTitle");
r.default.labelShadow(this.node.getChildByName("titelLabel").getComponent(cc.Label));
this.node.getChildByName("label4").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("GCashNumber");
this._btnNext.getChildByName("label").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("submit");
this.invalidTips = this.node.getChildByName("tips");
this.invalidTips.getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("invalidUPIDesc");
this.invalidTips.active = !1;
this._editBoxPassword.placeholderLabel.string = c.default.ins.GET_NEWHALL_LANG("inputUPIIDDesc");
};
t.prototype.onEditTextChanged = function() {
var e = this._editBoxPassword.string;
this._editBoxPassword.string = r.default.formatNumber(e);
this._editBoxPassword.textLabel.node.color = new cc.Color(248, 248, 248, 255);
};
t.prototype._onInputPasswordEnded = function() {
this.exView.onInputPasswordEndedEx();
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.register("BindGCash", [ "ON_CHECK_PHONE" ]);
};
t.prototype.handleAppEvent = function(e) {
e.arg;
e.key;
};
t.prototype.onBtnClick = function(t) {
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "nextBtn":
this._onNext();
break;

case "cloneBtn":
this._onClose();
}
};
t.prototype._onClose = function() {
this.onClose();
};
t.prototype._onNext = function() {
this.exView.onNextEx();
};
return a([ h ], t);
}(s.default));
o.default = u;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../executor/bank/GameBindUPIEx": "GameBindUPIEx"
} ],
GameBindUPIEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1b814QdPahCjbYJbPTXbGrN", "GameBindUPIEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../communication/GameLobbyHttp"), s = e("../../../public/MyComponent/ViewExecutorBase"), c = e("../../proxy/bank/PlayerWithdraw"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.onInputPasswordEndedEx = function() {
if (this.node._editBoxPassword.string.includes("@")) {
this.node._btnNext.getComponent(cc.Button).interactable = !0;
this.node.invalidTips.active = !1;
} else {
this.node._btnNext.getComponent(cc.Button).interactable = !1;
this.node.invalidTips.active = !0;
}
};
t.prototype.onNextEx = function() {
var e = this.node._editBoxPassword.string, t = {};
t.number = e;
t.bankCode = c.WithdrawCode.upi;
t.type = 1;
r.default.getInstance().updateBankInfo(t);
};
return a([ d ], t);
}(s.default));
o.default = h;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase",
"../../proxy/bank/PlayerWithdraw": "PlayerWithdraw"
} ],
GameButtons: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "db5d7H99eZO8qEgiGORKCd9", "GameButtons");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../PublicTools/GameEvents"), s = e("../../GameFireData/GameAllConst"), c = e("../../GameCores/DialogLogic"), l = e("../../GameCores/GameRecorder"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.menuBtn = null;
return t;
}
t.prototype.onLoad = function() {
this.menuBtn = this.node.getChildByName("muneBtn");
this.menuBtn.on("click", this.onMenu, this);
};
t.prototype.onMenu = function() {
r.MyEvent.getInstance().emit("EVENT_SHOW_MENU");
l.default.record(l.EventID.roomMenuClick, "gameType", s.gameType.blackjack);
};
t.prototype.onCharge = function() {
c.default.inst.showFullView(c.FullViewIndex.gameShop);
l.default.record(l.EventID.roomShopClick, "gameType", s.gameType.blackjack);
};
t.prototype.start = function() {};
return a([ h ], t);
}(cc.Component));
o.default = u;
cc._RF.pop();
}, {
"../../GameCores/DialogLogic": "DialogLogic",
"../../GameCores/GameRecorder": "GameRecorder",
"../../GameFireData/GameAllConst": "GameAllConst",
"../../PublicTools/GameEvents": "GameEvents"
} ],
GameCgAttentionDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a3dfbw5UKJPqKt/+z+qJ8+P", "GameCgAttentionDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../executor/bank/GameCgAttentionEx"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.root = null;
return t;
}
t.prototype.onLoad = function() {
this.root = this.node.getChildByName("dlgBg");
this.root.getChildByName("btnClose").on("click", this.onClose, this);
this.root.getChildByName("btnCharge").on("click", this.onClose, this);
this.exView = new s.default();
this.exView.setProxy(this);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.updateLanguageUI();
this.register("ChargeAttentionDialog", [ "ON_GET_NO_WITHDRAW_LIST" ]);
};
t.prototype.updateLanguageUI = function() {
this.exView.updateLanguageUIEx();
};
t.prototype.handleAppEvent = function(e) {
e.arg;
e.key;
};
return a([ l ], t);
}(r.default));
o.default = d;
cc._RF.pop();
}, {
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../executor/bank/GameCgAttentionEx": "GameCgAttentionEx"
} ],
GameCgAttentionEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b5058b1MqtCOpHhejZVIMKz", "GameCgAttentionEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../data/GameLangData"), s = e("../../../public/MyComponent/GameHppayUtil"), c = e("../../../public/MyComponent/ViewExecutorBase"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.updateLanguageUIEx = function() {
this.node.root.getChildByName("labelTitle").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("attentionDescTitle");
s.default.labelShadow(this.node.root.getChildByName("labelTitle").getComponent(cc.Label));
var e = this.node.root.getChildByName("infoBg");
e.getChildByName("label1").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("attentionDescMiddleTips1");
e.getChildByName("label2").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("attentionDescMiddleTips2");
e.getChildByName("label3").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("attentionDescMiddleTips3");
e.getChildByName("label4").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("attentionDescMiddleTips4");
e.getChildByName("label5").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("attentionDescMiddleTips5");
e.getChildByName("labelBottom1").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("attentionDescMiddleBottom1");
e.getChildByName("labelBottom2").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("attentionDescMiddleBottom2");
this.node.root.getChildByName("btnCharge").getChildByName("label").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("confirm");
var t = this.node.root.getChildByName("labelBottom1").getComponent(cc.Label);
t.string = r.default.ins.GET_NEWHALL_LANG("attentionDescBottom1");
t._forceUpdateRenderData(!0);
var o = this.node.root.getChildByName("labelBottom2").getComponent(cc.Label);
o.string = r.default.ins.GET_NEWHALL_LANG("attentionDescBottom2");
o._forceUpdateRenderData(!0);
o.node.on("click", function() {
s.default.showFeedback();
}, this);
var i = t.node.width + o.node.width + 10;
t.node.x = -i / 2;
o.node.x = t.node.x + t.node.width + 10;
var n = e.getChildByName("labelTop1").getComponent(cc.Label);
n.string = r.default.ins.GET_NEWHALL_LANG("attentionDescMiddleTop1");
n._forceUpdateRenderData(!0);
var a = e.getChildByName("labelTop2").getComponent(cc.Label);
a.string = r.default.ins.GET_NEWHALL_LANG("attentionDescMiddleTop2");
a._forceUpdateRenderData(!0);
var c = n.node.width + a.node.width + 10;
n.node.x = -c / 2;
a.node.x = n.node.x + n.node.width + 10;
};
return a([ d ], t);
}(c.default));
o.default = h;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
GameCgConfirmDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7bc78BT9ktP/6+lWIXMCwOE", "GameCgConfirmDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../data/GameLangData"), c = e("../../../manager/GameSoundMgr"), l = e("../../executor/bank/GameCgConfirmEx"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.root = null;
t.loading = null;
t.btnCheck = null;
t.isComplete = !1;
t.isClose = !1;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new l.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
this.root = this.node.getChildByName("dlgBg");
this.root.getChildByName("btnClose").on("click", this.closeSelf, this);
this.root.getChildByName("entetBtn").on("click", this.onConfirm, this);
this.btnCheck = this.root.getChildByName("entetBtn").getComponent(cc.Button);
this.loading = this.root.getChildByName("entetBtn").getChildByName("loading");
this.loading.active = !1;
};
t.prototype.closeSelf = function() {
this.isClose = !0;
this.onClose();
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.updateLanguageUI();
this.isClose = !1;
this.register("ChargeConfirmDialog", [ "ON_CHECK_PAY" ]);
};
t.prototype.onConfirm = function() {
var e = this;
c.default.inst.playGameEffect(c.AudioRes.click);
if (this.isComplete) this.closeDialog(); else {
this.btnCheck.interactable = !1;
this.loading.active = !0;
cc.tween(this.loading).repeatForever(cc.tween().call(function() {
e.loading.angle = 0;
}).to(2, {
angle: -360
})).start();
this.btnCheck.node.getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("checking");
this.schedule(this.checkPay, 1, cc.macro.REPEAT_FOREVER);
}
};
t.prototype.checkPay = function() {
this.exView.checkPayEx();
};
t.prototype.updateLanguageUI = function() {
this.exView.updateLanguageUIEx();
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_CHECK_PAY":
this.unschedule(this.checkPay);
this.onCheckPay(t);
this.isComplete = !0;
}
};
t.prototype.onCheckPay = function(e) {
this.exView.onCheckPayEx(e);
};
return a([ h ], t);
}(r.default));
o.default = u;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../executor/bank/GameCgConfirmEx": "GameCgConfirmEx"
} ],
GameCgConfirmEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "59b0aOaLWZK5o2fpbRPPv4t", "GameCgConfirmEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../communication/GameLobbyHttp"), s = e("../../../data/GameLangData"), c = e("../../../data/conf/GameConfig"), l = e("../../../data/conf/GameInfo"), d = e("../../../natives/AndroidInfo"), h = e("../../../public/MyComponent/GameHppayUtil"), u = e("../../../public/MyComponent/ViewExecutorBase"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.checkPayEx = function() {
console.log("check pay");
r.default.getInstance().checkPay();
};
t.prototype.updateLanguageUIEx = function() {
var e = this;
this.node.root.getChildByName("labelTitle").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("charge");
h.default.labelShadow(this.node.root.getChildByName("labelTitle").getComponent(cc.Label));
this.node.root.getChildByName("infoBg2").getChildByName("btnCharge").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_ROOM_LANG("copy");
this.node.root.getChildByName("entetBtn").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("chargeConfirm");
this.node.root.getChildByName("infoBg3").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("chargeConfirmTips");
this.node.root.getChildByName("infoBg1").getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + h.default.cul(this.node._data.amount);
var t = this.node.root.getChildByName("infoBg2");
t.getChildByName("label1").getComponent(cc.Label).string = this.node._data.cardholder;
t.getChildByName("label2").getComponent(cc.Label).string = this.node._data.bankName;
t.getChildByName("label3").getComponent(cc.Label).string = h.default.formatBankAccount(this.node._data.number);
var o = t.getChildByName("mask").getChildByName("01"), i = c.default.resourceUrl + "banks/" + this.node._data.bankCode.toLowerCase() + ".png";
console.log("iconUrl = ", i);
cc.loader.load(i, function(e, t) {
if (e) console.log("download err ", e); else {
console.log("download success ");
if (0 == this.node.isClose) {
var i = new cc.SpriteFrame(t);
if (null != o && null != o.getComponent(cc.Sprite)) {
o.getComponent(cc.Sprite).spriteFrame = i;
o.width = 90;
o.height = 90;
}
}
}
}.bind(this));
this.node.root.getChildByName("infoBg2").getChildByName("btnCharge").on("click", function() {
d.default.inst.copyStr(e.node._data.number);
}, this);
};
t.prototype.onCheckPayEx = function() {
this.node.loading.active = !1;
this.node.btnCheck.node.getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("completed");
this.node.btnCheck.interactable = !0;
};
return a([ f ], t);
}(u.default));
o.default = m;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../data/conf/GameConfig": "GameConfig",
"../../../data/conf/GameInfo": "GameInfo",
"../../../natives/AndroidInfo": "AndroidInfo",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
GameChargeP2PDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e780bVtz6NCXJf3Ey6GfbwA", "GameChargeP2PDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../public/MyComponent/GameHppayUtil"), c = e("../../../data/GameLangData"), l = e("../../../data/conf/GameInfo"), d = e("../../executor/bank/GameChargeP2PEx"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.root = null;
t.payNode = null;
t.leftTime = 300;
t.timeLeftLabel = null;
t.timeOutDescLabel = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new d.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
this.root = this.node.getChildByName("dlgBg");
this.payNode = this.root.getChildByName("payNode");
this.root.getChildByName("btnClose").on("click", this.onClose, this);
this.payNode.getChildByName("btnCopyAmount").on("click", this.onCopyAmount, this);
this.payNode.getChildByName("btnCopyBankNumber").on("click", this.onCopyBankNumber, this);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.updateLanguageUI();
this.setDataView();
};
t.prototype.setDataView = function() {
this.payNode.getChildByName("labelOrderTime").getComponent(cc.Label).string = s.default.formatTime(this._data.ssl, 2);
this.payNode.getChildByName("labelOrderAmount").getComponent(cc.Label).string = l.default.gameMoneyUnit + this._data.pay_amount;
this.payNode.getChildByName("labelOrderID").getComponent(cc.Label).string = this._data.payId;
this.payNode.getChildByName("labelBankName").getComponent(cc.Label).string = this._data.bankType;
this.payNode.getChildByName("labelPlayerName").getComponent(cc.Label).string = this._data.accountName;
this.payNode.getChildByName("labelBankNumber").getComponent(cc.Label).string = s.default.formatBankAccount(this._data.account.toString());
var e = this.payNode.getChildByName("labelOrderIDTitle"), t = this.payNode.getChildByName("labelOrderID").getComponent(cc.Label);
t._forceUpdateRenderData(!0);
e.x = t.node.x - t.node.width;
s.default.loadSprAtlasFrame(this.payNode.getChildByName("bankLogoMask").getChildByName("bank_logo"), this._data.bankType.toLowerCase(), "hall/bank");
this.timeLeftLabel = this.payNode.getChildByName("labelOrderTime").getComponent(cc.Label);
this.timeOutDescLabel = this.root.getChildByName("timeOutDesc").getComponent(cc.Label);
this.timeOutDescLabel.node.active = !1;
this.leftTime = this._data.ssl;
this.startCountDown();
s.default.labelShadow(this.root.getChildByName("labelTitle").getComponent(cc.Label));
};
t.prototype.updateLanguageUI = function() {
this.exView.updateLanguageUIEx();
};
t.prototype.onCopyAmount = function() {
this.exView.onCopyAmountEx();
};
t.prototype.onCopyBankNumber = function() {
this.exView.onCopyBankNumberEx();
};
t.prototype.startCountDown = function() {
if (this.leftTime > 0) {
this.timeLeftLabel.string = s.default.formatTime(this.leftTime, 2);
this.schedule(this._countDown, 1);
} else this.timeLeftLabel.string = c.default.ins.GET_DIALOG_LANG("getReward");
};
t.prototype._countDown = function() {
this.leftTime = this.leftTime - 1;
if (this.leftTime >= 0) this.timeLeftLabel.string = s.default.formatTime(this.leftTime, 2); else {
this.unschedule(this._countDown);
this.onTimeout();
}
};
t.prototype.onTimeout = function() {
this.showTimeOutView();
};
t.prototype.showTimeOutView = function() {
this.payNode.active = !1;
this.timeOutDescLabel.node.active = !0;
};
return a([ u ], t);
}(r.default));
o.default = p;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../executor/bank/GameChargeP2PEx": "GameChargeP2PEx"
} ],
GameChargeP2PEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "08398OMkSNDCItXNLH/l68q", "GameChargeP2PEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../data/GameLangData"), s = e("../../../manager/GameSoundMgr"), c = e("../../../natives/AndroidInfo"), l = e("../../../public/MyComponent/ViewExecutorBase"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.updateLanguageUIEx = function() {
this.node.root.getChildByName("labelTitle").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("titleP2PPay");
this.node.root.getChildByName("timeOutTips").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("payTimeOutDesc");
this.node.payNode.getChildByName("labelOrderTimeTitle").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("payTime") + " : ";
this.node.payNode.getChildByName("labelOrderAmountTitle").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("payAmount") + " : ";
this.node.payNode.getChildByName("labelOrderIDTitle").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("payOrderID") + " : ";
this.node.payNode.getChildByName("btnCopyAmount").getChildByName("label").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("copy");
this.node.payNode.getChildByName("btnCopyBankNumber").getChildByName("label").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("copy");
this.node.payNode.getChildByName("labelDesc").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("payP2PDesc");
};
t.prototype.onCopyAmountEx = function() {
s.default.inst.playGameEffect(s.AudioRes.click);
c.default.inst.copyStr(this.node._data.pay_amount.toFixed(2));
};
t.prototype.onCopyBankNumberEx = function() {
s.default.inst.playGameEffect(s.AudioRes.click);
c.default.inst.copyStr(this.node._data.account);
};
return a([ h ], t);
}(l.default));
o.default = u;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../natives/AndroidInfo": "AndroidInfo",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
GameChargeQRCodeDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "38b83TcnddKHI5pM1mgMous", "GameChargeQRCodeDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../public/MyComponent/GameHppayUtil"), c = e("../../../natives/AndroidInfo"), l = e("../../../data/conf/GameInfo"), d = e("../../executor/bank/GameChargeQRCodeEx"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.root = null;
t.payNode = null;
t.leftTime = 300;
t.timeLeftLabel = null;
t.timeOutDescLabel = null;
t.QRCode = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new d.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
this.root = this.node.getChildByName("dlgBg");
this.payNode = this.root.getChildByName("payNode");
this.root.getChildByName("btnClose").on("click", this.onClose, this);
this.payNode.getChildByName("btnSave").on("click", this.onConfirm, this);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.register("ChargeWithQRCodeDialog", [ "ON_SAVE_FILE" ]);
this.setDataView();
};
t.prototype.setDataView = function() {
"qr_image" == this._data.type ? c.default.inst.createQRCodeWithBase64String(this._data.qrcode) : c.default.inst.createQRCodeWithString(this._data.qrcode);
this.updateLanguageUI();
this.payNode.getChildByName("labelOrderTime").getComponent(cc.Label).string = s.default.formatTime(this._data.ssl, 2);
this.payNode.getChildByName("labelOrderAmount").getComponent(cc.Label).string = l.default.gameMoneyUnit + this._data.pay_amount;
this.payNode.getChildByName("labelOrderID").getComponent(cc.Label).string = this._data.payId;
this.QRCode = this.payNode.getChildByName("qrCode").getComponent(cc.Sprite);
this.timeLeftLabel = this.payNode.getChildByName("labelOrderTime").getComponent(cc.Label);
this.timeOutDescLabel = this.root.getChildByName("timeOutDesc").getComponent(cc.Label);
this.timeOutDescLabel.node.active = !1;
this.leftTime = this._data.ssl;
this.startCountDown();
s.default.labelShadow(this.root.getChildByName("labelTitle").getComponent(cc.Label));
};
t.prototype.updateLanguageUI = function() {
this.exView.updateLanguageUIEx();
};
t.prototype.onConfirm = function() {
this.exView.onConfirmEx();
};
t.prototype.startCountDown = function() {
this.exView.startCountDownEx();
};
t.prototype._countDown = function() {
this.exView.countDownEx();
};
t.prototype.onTimeout = function() {
this.showTimeOutView();
};
t.prototype.showTimeOutView = function() {
this.payNode.active = !1;
this.timeOutDescLabel.node.active = !0;
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_SAVE_FILE":
this._showPhoto(t);
}
};
t.prototype._showPhoto = function(e) {
cc.loader.release(e);
console.log("_showPhoto filePath = ", e);
cc.loader.load(e, function(e, t) {
if (e) console.log("load err ", e); else {
console.log("load success ");
var o = new cc.SpriteFrame(t);
this.QRCode.spriteFrame = o;
}
}.bind(this));
};
return a([ u ], t);
}(r.default));
o.default = p;
cc._RF.pop();
}, {
"../../../data/conf/GameInfo": "GameInfo",
"../../../natives/AndroidInfo": "AndroidInfo",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../executor/bank/GameChargeQRCodeEx": "GameChargeQRCodeEx"
} ],
GameChargeQRCodeEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4e54cbh54lAXq2VBaSk3Du5", "GameChargeQRCodeEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../data/GameLangData"), s = e("../../../data/conf/GameInfo"), c = e("../../../manager/GameSoundMgr"), l = e("../../../natives/AndroidInfo"), d = e("../../../public/MyComponent/GameHppayUtil"), h = e("../../../public/MyComponent/ViewExecutorBase"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.updateLanguageUIEx = function() {
this.node.root.getChildByName("labelTitle").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("titleQRPay");
this.node.payNode.getChildByName("labelOrderTimeTitle").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("payTime") + " : ";
this.node.payNode.getChildByName("labelOrderAmountTitle").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("payAmount") + " : ";
this.node.payNode.getChildByName("labelOrderIDTitle").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("payOrderID") + " : ";
this.node.payNode.getChildByName("btnSave").getChildByName("label").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("saveToGallary");
this.node.payNode.getChildByName("labelDesc").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("payQRDesc");
};
t.prototype.onConfirmEx = function() {
c.default.inst.playGameEffect(c.AudioRes.click);
var e = Math.floor(new Date().getTime() / 1e3);
"qr_image" == this.node._data.type ? l.default.inst.saveQRImageToGallery(this.node._data.qrcode, s.default.gameMoneyUnit + d.default.cul(this.node._data.pay_amount), d.default.formatDate2(e + this.node.leftTime), d.default.formatDate3(e + this.node.leftTime)) : l.default.inst.saveQRToGallery(this.node._data.qrcode, s.default.gameMoneyUnit + d.default.cul(this.node._data.pay_amount), d.default.formatDate2(e + this.node.leftTime), d.default.formatDate3(e + this.node.leftTime));
};
t.prototype.startCountDownEx = function() {
if (this.node.leftTime > 0) {
this.node.timeLeftLabel.string = d.default.formatTime(this.node.leftTime, 2);
this.node.schedule(this.node._countDown, 1);
} else this.node.timeLeftLabel.string = r.default.ins.GET_DIALOG_LANG("getReward");
};
t.prototype.countDownEx = function() {
this.node.leftTime = this.node.leftTime - 1;
if (this.node.leftTime >= 0) this.node.timeLeftLabel.string = d.default.formatTime(this.node.leftTime, 2); else {
this.node.unschedule(this.node._countDown);
this.node.onTimeout();
}
};
return a([ p ], t);
}(h.default));
o.default = f;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../natives/AndroidInfo": "AndroidInfo",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
GameChips: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "783b09IavBIjIsbjA7H4Q0N", "GameChips");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../PublicTools/GameEvents"), s = e("../../GameCores/MyChipCreator"), c = e("../../EXUIFrame/EXSoundMgr"), l = e("../../GameCommon/NVSGameUtil"), d = e("../../GameCommon/SpriteLoad"), h = e("../GameBJConst"), u = e("../GameBJData"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.betChipsNode = [];
t.betChipsList = [ 1e3, 5e3, 1e4, 5e4, 1e5 ];
t.betEffect = null;
return t;
}
t.prototype.onLoad = function() {
for (var e = 0; e < h.BJConst.BET_CHIPS_NUM; e++) {
var t = this.node.getChildByName("chips" + (e + 1));
t.name = e + "";
t.on("click", this.onBet, this);
this.betChipsNode.push(t);
}
this.betEffect = this.node.getChildByName("betEffect");
this.selectBet(0);
this.node.active = !1;
};
t.prototype.start = function() {};
t.prototype.showWithAnim = function() {
var e = this, t = this.betEffect.getPosition();
this.betEffect.setPosition(new cc.Vec2(0, -1e3));
this.node.active = !0;
this.betEffect.active = !1;
for (var o = [ new cc.Vec2(983.5, 233), new cc.Vec2(1075.5, 233), new cc.Vec2(1169.5, 233), new cc.Vec2(1263.5, 233), new cc.Vec2(1355.5, 233) ], i = [ new cc.Vec2(754.5, 277), new cc.Vec2(960.5, 250), new cc.Vec2(1169.5, 238), new cc.Vec2(1383.5, 250), new cc.Vec2(1588.5, 277) ], n = [ -20, -10, 0, 10, 20 ], a = this.betChipsNode, r = 0; r < a.length; r++) {
var s = a[r];
s.stopAllActions();
s.setPosition(o[r].x, o[r].y);
s.opacity = 0;
s.angle = n[r];
s.scaleX = 107 / 134;
s.scaleY = .796875;
cc.tween(s).to(.5, {
opacity: 255,
position: cc.v2(i[r].x, i[r].y),
scaleX: 1,
scaleY: 1,
angle: 0
}, {
easing: "quadOut"
}).call(function() {
if (u.default.selfMoney < e.betChipsList[0]) e.betEffect.active = !1; else {
e.betEffect.active = !0;
e.betEffect.setPosition(t);
}
}, this).start();
}
};
t.prototype.hideWidthAnim = function() {
var e = this;
this.betEffect.active = !1;
for (var t = [ new cc.Vec2(983.5, 233), new cc.Vec2(1075.5, 233), new cc.Vec2(1169.5, 233), new cc.Vec2(1263.5, 233), new cc.Vec2(1355.5, 233) ], o = [ -20, -10, 0, 10, 20 ], i = this.betChipsNode, n = 0; n < i.length; n++) {
var a = i[n];
a.stopAllActions();
cc.tween(a).to(.5, {
opacity: 0,
position: cc.v2(t[n].x, t[n].y),
scaleX: 1,
scaleY: 1,
angle: o[n]
}, {
easing: "quartIn"
}).call(function() {
e.node.active = !1;
}, this).start();
}
};
t.prototype.init = function(e, t, o) {
for (var i = s.default.chipsArray, n = i.length, a = 0, r = 0; r < n; r++) if (i[n - r - 1] >= e) {
a = r;
break;
}
n - 1 - a < h.BJConst.BET_CHIPS_NUM && (a = n - h.BJConst.BET_CHIPS_NUM);
this.betChipsList = [];
for (r = 0; r < h.BJConst.BET_CHIPS_NUM; r++) this.betChipsList.push(i[n - a - 1 - r]);
this.setBetChips(this.betChipsList, t);
this.selectBet(0);
this.checkIfMoneyEnough(o);
this.checkNewerProtection();
};
t.prototype.reset = function() {
this.checkNewerProtection();
};
t.prototype.checkNewerProtection = function() {};
t.prototype.isChipLock = function(e) {
return null != e.getChildByName("lock");
};
t.prototype.checkIfMoneyEnough = function(e) {
for (var t = 0; t < this.betChipsList.length; t++) e < this.betChipsList[t] ? this.betChipsNode[t].getComponent(cc.Button).interactable = !1 : this.betChipsNode[t].getComponent(cc.Button).interactable = !0;
var o = u.default.currSelectBetIndex;
if (this.betChipsList[o] > e) {
var i = !1;
for (t = o - 1; t >= 0; t--) if (e >= this.betChipsList[t]) {
this.selectBet(t);
i = !0;
break;
}
0 == i && this.selectBet(0);
}
e < this.betChipsList[0] ? this.betEffect.active = !1 : u.default.currGameStatus == h.BJGameStatus.chipin && (this.betEffect.active = !0);
};
t.prototype.setBetChips = function(e) {
var t = d.SPCache.chipsFree;
this.betChipsList = [];
for (var o = 0; o < e.length; o++) {
var i = e[o];
this.betChipsNode[o].getChildByName("Background").getComponent(cc.Sprite).spriteFrame = t[i];
this.betChipsList.push(e[o]);
}
};
t.prototype.onBet = function(e) {
var t = Number(e.node.name);
if (this.isChipLock(this.betChipsNode[t])) l.default.alert(""); else {
this.selectBet(t);
c.default.inst.clickBetBtn(this.betChipsList[t]);
}
};
t.prototype.selectBet = function(e) {
this.betEffect.setPosition(this.betChipsNode[e].getPosition());
if (this.betChipsList[e] >= 1e5) {
this.betEffect.getComponent(sp.Skeleton).setAnimation(0, "fang", !0);
this.betEffect.x = this.betEffect.x - 2;
this.betEffect.y = this.betEffect.y + 4;
this.betEffect.scale = .96;
} else this.betEffect.getComponent(sp.Skeleton).setAnimation(0, "yuan", !0);
u.default.currSelectBetIndex = e;
r.MyEvent.getInstance().emit("BJ_EVENT_SELECT_CHIP", this.betChipsList[e]);
};
return a([ f ], t);
}(cc.Component));
o.default = m;
cc._RF.pop();
}, {
"../../EXUIFrame/EXSoundMgr": "EXSoundMgr",
"../../GameCommon/NVSGameUtil": "NVSGameUtil",
"../../GameCommon/SpriteLoad": "SpriteLoad",
"../../GameCores/MyChipCreator": "MyChipCreator",
"../../PublicTools/GameEvents": "GameEvents",
"../GameBJConst": "GameBJConst",
"../GameBJData": "GameBJData"
} ],
GameChooseBankDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "aaef1NM5XBKiKmf64bSwXEn", "GameChooseBankDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../public/MyComponent/GameEvent"), c = e("../../../data/conf/GameConfig"), l = e("../../../data/conf/GameInfo"), d = e("../../../data/GameLangData"), h = e("../../../public/ThirdParty/happyList"), u = e("../../../manager/GameSoundMgr"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.isClose = !1;
return t;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
this.bankData = l.default.allBanks;
this.list = this.node.getChildByName("districtScrollview").getComponent(h.default);
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = d.default.ins.GET_NEWHALL_LANG("selectBank");
this._btnBack = this.node.getChildByName("closeBtn");
this._btnList = [ this._btnBack ];
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.isClose = !1;
this.list.numItems = this.bankData.length;
};
t.prototype.onListRender = function(e, t) {
var o = this, i = this.bankData[t], n = e.getChildByName("bankerIcon"), a = e.getChildByName("bankerName"), r = e.getChildByName("bankerCode"), l = c.default.resourceUrl + "banks/" + i.bank_code + ".png";
console.log("iconUrl = ", l);
cc.loader.load(l, function(e, t) {
if (e) console.log("download err ", e); else {
console.log("download success ");
if (0 == this.isClose) {
var o = new cc.SpriteFrame(t);
if (null != n && null != n.getComponent(cc.Sprite)) {
n.getComponent(cc.Sprite).spriteFrame = o;
n.width = 52;
n.height = 52;
}
}
}
}.bind(this));
a.getComponent(cc.Label).string = i.bank_name;
r.getComponent(cc.Label).string = i.bank_code;
e.off("click");
e.on("click", function() {
u.default.inst.playGameEffect(u.AudioRes.click);
s.GameEvent.ins().emit("CHOOSE_BANK_EVENT", i);
o.onClose();
});
};
t.prototype.onBtnClick = function(t) {
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "closeBtn":
this.isClose = !0;
this.onClose();
}
};
return a([ f ], t);
}(r.default));
o.default = m;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../data/conf/GameConfig": "GameConfig",
"../../../data/conf/GameInfo": "GameInfo",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/GameEvent": "GameEvent",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../../public/ThirdParty/happyList": "happyList"
} ],
GameChoosePixDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0e353I+dt5NWLPnJ7notBUW", "GameChoosePixDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../public/MyComponent/GameEvent"), c = e("../../../data/conf/GameConfig"), l = e("../../../data/conf/GameInfo"), d = e("../../../data/GameLangData"), h = e("../../../public/ThirdParty/happyList"), u = e("../../../manager/GameSoundMgr"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.isClose = !1;
return t;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
this.bankData = l.default.allBanks;
this.list = this.node.getChildByName("districtScrollview").getComponent(h.default);
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = d.default.ins.GET_NEWHALL_LANG("selectPIX");
this._btnBack = this.node.getChildByName("closeBtn");
this._btnList = [ this._btnBack ];
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.isClose = !1;
this.list.numItems = this.bankData.length;
};
t.prototype.onListRender = function(e, t) {
var o = this, i = this.bankData[t], n = e.getChildByName("bankerIcon"), a = e.getChildByName("bankerName"), r = e.getChildByName("bankerCode"), l = c.default.resourceUrl + "banks/" + i.bank_code + ".png";
console.log("iconUrl = ", l);
cc.loader.load(l, function(e, t) {
if (e) console.log("download err ", e); else {
console.log("download success ");
if (0 == this.isClose) {
var o = new cc.SpriteFrame(t);
if (null != n && null != n.getComponent(cc.Sprite)) {
n.getComponent(cc.Sprite).spriteFrame = o;
n.width = 52;
n.height = 52;
}
}
}
}.bind(this));
a.getComponent(cc.Label).string = i.bank_name;
r.getComponent(cc.Label).string = i.bank_code;
e.off("click");
e.on("click", function() {
u.default.inst.playGameEffect(u.AudioRes.click);
s.GameEvent.ins().emit("CHOOSE_BANK_EVENT", i);
o.onClose();
});
};
t.prototype.onBtnClick = function(t) {
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "closeBtn":
this.isClose = !0;
this.onClose();
}
};
return a([ f ], t);
}(r.default));
o.default = m;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../data/conf/GameConfig": "GameConfig",
"../../../data/conf/GameInfo": "GameInfo",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/GameEvent": "GameEvent",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../../public/ThirdParty/happyList": "happyList"
} ],
GameCmd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9db23xwxpFEybao9RTBTTDm", "GameCmd");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function() {
function e() {}
e.CMD_REPAIR_PURCHASE_GOOGLE = 12440;
e.CMD_CONSUME_PURCHASE_GOOGLE = 12441;
e.CMD_LOGIN_GAME_HALL = 12289;
e.CMD_GET_HALL_RANK_LIST = 12298;
e.CMD_SET_GAME_SETUP = 12305;
e.CMD_GET_GAME_RED_TIPS = 12320;
e.CMD_GAME_PLAYER_HOME_INFO = 12545;
e.CMD_CHANGE_GAME_NAME = 12546;
e.CMD_GAME_LIMIT_INFO = 12551;
e.CMD_GAME_SAFE_OPERATION = 12552;
e.CMD_MONEY_INFO = 12553;
e.CMD_CHANGE_GAME_VIP_EXP = 12561;
e.CMD_NICK_NAME_REPEAT = 12560;
e.CMD_NOTIFY_SEVERR_FB = 12565;
e.CMD_GAME_BROADCAST_MSG = 13319;
e.CMD_SEND_GAMEMAIL = 13057;
e.CMD_GET_MAIL_INFO = 13058;
e.CMD_GET_GAMEMAIL_LIST = 13059;
e.CMD_READ_MAILINFO = 13060;
e.CMD_READ_ALL_MAILINFO = 13061;
e.CMD_GAME_MAIL_REWARD = 13062;
e.CMD_GET_ALLGAME_MAIL_REWARD = 13063;
e.CMD_DELETE_EMAIL = 13064;
e.CMD_DELETE_ALL_MAIL = 13065;
e.CMD_NEW_MAIL_NOTIFY = 13066;
e.CMD_GET_GAME_TIMEBOX_INFO = 12573;
e.CMD_GET_GAME_TIMEBOX_REWARD = 12574;
e.CMD_GAME_REPAIR_THIRD_PARTY = 12442;
e.CMD_CHECK_GAME_NET = 256;
e.CMD_LOGIN_GAME = 4097;
e.CMD_KICK_GAME_OUT = 4098;
e.CMD_GAME_LOGIN_OUT = 4099;
e.CMD_GAME_BLND_LIST = 4100;
e.CMD_GAME_BLND_LIST_INFO = 4101;
e.CMD_GET_LUCKY_SPIN_INFO = 16408;
e.CMD_START_SPIN = 16409;
e.CMD_GET_RANK_DATA = 16410;
e.MSG_TYPE = {
MSG_TYPE_CONNECT: 1,
MSG_TYPE_CLIENT: 2,
MSG_TYPE_HALL: 3,
MSG_TYPE_GAMESVR: 4,
MSG_TYPE_GOLDSVR: 5,
MSG_TYPE_TASKSVR: 6
};
return e;
}();
o.default = i;
cc._RF.pop();
}, {} ],
GameConfig: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2db3cRVGyZEg65YmsAYWhCf", "GameConfig");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.LocalGameConfig = o.ConfigGameDef = void 0;
var n = function() {
function e() {}
e.phpUrl = "";
e.webviewUrl = "";
e.resourceUrl = "";
e.actionUrl = "";
e.wechat = 1;
e.gpUrl = "";
e.delayCheck = 1;
e.webGameVer = 1;
e.spineBundleVer = 20220708;
return e;
}();
o.ConfigGameDef = n;
var a = function() {
function e() {}
e.phpUrl = n.phpUrl;
e.webviewUrl = n.webviewUrl;
e.resourceUrl = n.resourceUrl;
e.actionUrl = n.actionUrl;
e.delayCheck = n.delayCheck;
e.webGameVer = n.webGameVer;
e.gpUrl = n.gpUrl;
e.spineBundleVer = n.spineBundleVer;
e.wechat = n.wechat;
return e;
}();
o.LocalGameConfig = a;
var r = cc._decorator, s = r.ccclass, c = (r.property, function() {
function e() {}
t = e;
e.init = function(e) {
if (e) {
t.phpUrl = e.phpUrl || t.phpUrl;
t.webviewUrl = e.webviewUrl || t.webviewUrl;
t.resourceUrl = e.resourceUrl || t.resourceUrl;
t.actionUrl = e.actionUrl || t.actionUrl;
t.delayCheck = e.delayCheck || t.delayCheck;
t.webGameVer = e.webgame || t.webGameVer;
t.gpUrl = e.gpUrl || t.gpUrl;
t.spineBundleVer = e.spineBundleVer || t.spineBundleVer;
t.wechat = e.wechat || t.wechat;
cc.sys.localStorage.setItem("phpUrl", t.phpUrl);
cc.sys.localStorage.setItem("webviewUrl", t.webviewUrl);
cc.sys.localStorage.setItem("resourceUrl", t.resourceUrl);
cc.sys.localStorage.setItem("actionUrl", t.actionUrl);
cc.sys.localStorage.setItem("delayCheck", t.delayCheck);
cc.sys.localStorage.setItem("webGameVer", t.webGameVer);
cc.sys.localStorage.setItem("gpUrl", t.gpUrl);
cc.sys.localStorage.setItem("spineBundleVer", t.spineBundleVer);
cc.sys.localStorage.setItem("wechat", t.wechat);
console.log("init config data ", e, t);
} else console.log("error config data");
};
e.initDefaultConfig = function(e) {
n.phpUrl = e.phpUrl || n.phpUrl;
n.webviewUrl = e.webviewUrl || n.webviewUrl;
n.resourceUrl = e.resourceUrl || n.resourceUrl;
n.actionUrl = e.actionUrl || n.actionUrl;
n.delayCheck = e.delayCheck || n.delayCheck;
n.webGameVer = e.webgame || n.webGameVer;
n.gpUrl = e.gpUrl || n.gpUrl;
n.spineBundleVer = e.spineBundleVer || n.spineBundleVer;
n.wechat = e.wechat || n.wechat;
};
e.clear = function() {
cc.sys.localStorage.removeItem("phpUrl");
cc.sys.localStorage.removeItem("resourceUrl");
cc.sys.localStorage.removeItem("webviewUrl");
cc.sys.localStorage.removeItem("actionUrl");
cc.sys.localStorage.removeItem("delayCheck");
cc.sys.localStorage.removeItem("webGameVer");
cc.sys.localStorage.removeItem("gpUrl");
cc.sys.localStorage.removeItem("spineBundleVer");
cc.sys.localStorage.removeItem("wechat");
};
e.initLocalConfig = function() {
a.phpUrl = cc.sys.localStorage.getItem("phpUrl") || n.phpUrl;
a.resourceUrl = cc.sys.localStorage.getItem("resourceUrl") || n.resourceUrl;
a.webviewUrl = cc.sys.localStorage.getItem("webviewUrl") || n.webviewUrl;
a.actionUrl = cc.sys.localStorage.getItem("actionUrl") || n.actionUrl;
a.delayCheck = cc.sys.localStorage.getItem("delayCheck") || n.delayCheck;
a.webGameVer = cc.sys.localStorage.getItem("webGameVer") || n.webGameVer;
a.gpUrl = cc.sys.localStorage.getItem("gpUrl") || n.gpUrl;
a.spineBundleVer = cc.sys.localStorage.getItem("spineBundleVer") || n.spineBundleVer;
a.wechat = cc.sys.localStorage.getItem("wechat") || n.wechat;
t.phpUrl = a.phpUrl;
t.webviewUrl = a.webviewUrl;
t.resourceUrl = a.resourceUrl;
t.actionUrl = a.actionUrl;
t.delayCheck = a.delayCheck;
t.webGameVer = a.webGameVer;
t.gpUrl = a.gpUrl;
t.spineBundleVer = a.spineBundleVer;
t.wechat = a.wechat;
};
var t;
e.phpUrl = n.phpUrl;
e.webviewUrl = n.webviewUrl;
e.resourceUrl = n.resourceUrl;
e.actionUrl = n.actionUrl;
e.delayCheck = n.delayCheck;
e.webGameVer = n.webGameVer;
e.gpUrl = n.gpUrl;
e.spineBundleVer = n.spineBundleVer;
e.wechat = n.wechat;
e.officialUrl = "";
return t = i([ s ], e);
}());
o.default = c;
cc._RF.pop();
}, {} ],
GameConfirmDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "414afWFUV1C1ryHWDaJy3/6", "GameConfirmDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.ConfirmData = o.RechargeConf = o.disconnection = void 0;
var r = e("../../public/MyComponent/WindowBase"), s = e("../../data/MyData"), c = e("../../data/GameLangData"), l = e("../../manager/DlgGameMgr"), d = e("../../manager/ReportGameEvent"), h = e("../../manager/GameSceneMgr"), u = e("../../public/ThirdParty/GameSysDefine"), p = e("../../public/ThirdParty/UIGameMgr"), f = e("../../public/MyComponent/GameHppayUtil"), m = cc._decorator, g = m.ccclass, y = (m.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.formType = u.FormType.PopUp;
return t;
}
t.prototype.onLoad = function() {
f.default.seekNodeChild(this.node, "cloneBtn").on("click", this._onbtnClose, this);
this.setView();
};
t.prototype.setView = function() {
var e = this;
this._dialog = this.node.getChildByName("dlgBg");
this._cancelBtn = this._dialog.getChildByName("cancelBtn");
this._okBtn = this._dialog.getChildByName("okBtn");
this._cancelLabel = this._cancelBtn.getChildByName("label");
this._okLabel = this._okBtn.getChildByName("label");
this._descLabel = this._dialog.getChildByName("descLabel");
this._titleLabel = this._dialog.getChildByName("titleLabel");
[ this._cancelBtn, this._okBtn ].forEach(function(t) {
t.on("click", e.onBtn, e);
});
};
t.prototype.onBtn = function(e) {
switch (e.node.name) {
case "cancelBtn":
this.onClose();
this._onCancel && this._onCancel();
break;

case "okBtn":
this.onClose();
this._onOk && this._onOk();
}
};
t.prototype.onShow = function(t) {
e.prototype.onShow.call(this, t);
this._confInfo = t[0];
this.canDestory = !0;
};
t.prototype._onbtnClose = function() {
e.prototype.onClose.call(this);
this._onCancel && this._onCancel();
};
t.prototype.start = function() {
var e = cc.view.getFrameSize();
e.width < e.height && (this._dialog.scale = .8);
this.setDataView();
};
t.prototype.setDataView = function() {
if ("" != this._confInfo.title) {
this._titleLabel.active = !0;
this._titleLabel.getComponent(cc.Label).string = this._confInfo.title;
f.default.labelShadow(this._titleLabel.getComponent(cc.Label));
} else {
this._titleLabel.active = !0;
this._titleLabel.getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("systemTips");
f.default.labelShadow(this._titleLabel.getComponent(cc.Label));
}
this._confInfo.desc && (this._descLabel.getComponent(cc.Label).string = this._confInfo.desc);
this._confInfo.cancelCallback && (this._onCancel = this._confInfo.cancelCallback);
this._confInfo.okCallback && (this._onOk = this._confInfo.okCallback);
this._confInfo.cancelMsg ? this._cancelMsg = this._confInfo.cancelMsg : this._cancelMsg = c.default.ins.GET_DIALOG_LANG("cancel");
this._confInfo.okMsg ? this._okMsg = this._confInfo.okMsg : this._okMsg = c.default.ins.GET_DIALOG_LANG("enter");
if (this._confInfo.oneBtn) {
this._okBtn.x = 0;
this._cancelBtn.active = !1;
}
this._confInfo.closeView && this._confInfo.closeView();
this._okLabel.getComponent(cc.Label).string = this._okMsg;
this._cancelLabel.getComponent(cc.Label).string = this._cancelMsg;
this._confInfo.closeDialog && this._confInfo.closeDialog();
};
t.prototype.onClose = function() {
e.prototype.onClose.call(this);
};
return a([ g ], t);
}(r.default));
o.default = y;
o.disconnection = function() {
this.title = c.default.ins.STRING_COMMON("tips");
this.desc = c.default.ins.GET_DIALOG_LANG("offNet");
this.okCallback = function() {
l.default.inst.closeAllDialog();
d.default.record(d.ReportEventType.networkCloseTips, "open", 1);
d.default.newRecord(d.ReportEventType.networkCloseTips, "open", 1);
"loginScene" != cc.director.getScene().name && h.default.enterLoading();
};
this.cancelCallback = function() {
l.default.inst.closeAllDialog();
d.default.record(d.ReportEventType.networkCloseTips, "open", 0);
d.default.newRecord(d.ReportEventType.networkCloseTips, "open", 0);
"loginScene" != cc.director.getScene().name && h.default.enterLogin();
};
this.okMsg = c.default.ins.GET_DIALOG_LANG("enter");
this.oneBtn = !0;
this.closeDialog = function() {};
};
o.RechargeConf = function() {
this.title = c.default.ins.STRING_COMMON("tips");
this.desc = c.default.ins.GET_DIALOG_LANG("rechargeTips");
this.okCallback = function() {
1 == s.default.UserData.firstStrike && p.default.inst().openUIForm("prefab/dialog/mall/firstStrikeDlg");
};
this.okMsg = c.default.ins.GET_DIALOG_LANG("nowRecharge");
this.cancelMsg = c.default.ins.GET_DIALOG_LANG("IKnow");
this.cancelCallback = function() {};
};
o.ConfirmData = function() {
this.title = "";
};
cc._RF.pop();
}, {
"../../data/GameLangData": "GameLangData",
"../../data/MyData": "MyData",
"../../manager/DlgGameMgr": "DlgGameMgr",
"../../manager/GameSceneMgr": "GameSceneMgr",
"../../manager/ReportGameEvent": "ReportGameEvent",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/WindowBase": "WindowBase",
"../../public/ThirdParty/GameSysDefine": "GameSysDefine",
"../../public/ThirdParty/UIGameMgr": "UIGameMgr"
} ],
GameConfirmGCashDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2907dA1UqpBqp2omyt/9T/t", "GameConfirmGCashDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../public/MyComponent/GameHppayUtil"), c = e("../../../manager/GameSoundMgr"), l = e("../../../data/GameLangData"), d = e("../../../data/conf/GameInfo"), h = e("../../executor/bank/GameConfirmGCashEx"), u = e("../../../communication/GameLobbyHttp"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.root = null;
t.confirmBtn = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new h.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
this.root = this.node.getChildByName("dlgBg");
this.root.getChildByName("btnClose").on("click", this.onClose, this);
this.root.getChildByName("btnConfirm").on("click", this.onConfirm, this);
this.root.getChildByName("btnCancel").on("click", this.onCancel, this);
this.confirmBtn = this.root.getChildByName("btnConfirm").getComponent(cc.Button);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.updateLanguageUI();
this.register("GCashConfirmDialog", [ "ON_WITHDRAW", "ON_HTTP_POST_FAILED" ]);
this.setDataView();
};
t.prototype.setDataView = function() {
this.root.getChildByName("labelAmount").getComponent(cc.Label).string = d.default.gameMoneyUnit + this._data.amount;
this.root.getChildByName("labelCardHolderName").getComponent(cc.Label).string = this._data.cardholder;
this.root.getChildByName("labelBankName").getComponent(cc.Label).string = this._data.number;
};
t.prototype.updateLanguageUI = function() {
this.exView.updateLanguageUIEx();
};
t.prototype.onConfirm = function() {
this.exView.onConfirmEx();
};
t.prototype.onTimeout = function() {
s.default.alert(l.default.ins.GET_NEWHALL_LANG("withdrawFailureTips"));
this.confirmBtn.interactable = !0;
this.hideLoading();
};
t.prototype.onCancel = function() {
c.default.inst.playGameEffect(c.AudioRes.click);
this.onClose();
};
t.prototype.handleAppEvent = function(e) {
e.arg;
switch (e.key) {
case "ON_WITHDRAW":
this.onWithdraw();
break;

case "ON_HTTP_POST_FAILED":
this.httpFailed();
}
};
t.prototype.httpFailed = function() {
this.hideLoading();
this.confirmBtn.interactable = !0;
s.default.alert(l.default.ins.GET_NEWHALL_LANG("withdrawFailureTips"));
};
t.prototype.onWithdraw = function() {
this.hideLoading();
u.default.getInstance().getBankInfo();
this.onClose();
};
return a([ f ], t);
}(r.default));
o.default = m;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../executor/bank/GameConfirmGCashEx": "GameConfirmGCashEx"
} ],
GameConfirmGCashEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "bbc66HETDdA0qo2+tULhk91", "GameConfirmGCashEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../communication/GameLobbyHttp"), s = e("../../../data/GameLangData"), c = e("../../../data/conf/GameInfo"), l = e("../../../manager/GameSoundMgr"), d = e("../../../public/MyComponent/GameHppayUtil"), h = e("../../../public/MyComponent/ViewExecutorBase"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {
this.root = this.node.root;
};
t.prototype.updateLanguageUIEx = function() {
this.root.getChildByName("labelTitle").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("withdrawConfirmTitle");
d.default.labelShadow(this.root.getChildByName("labelTitle").getComponent(cc.Label));
this.root.getChildByName("amountTitle").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("money");
this.root.getChildByName("labelCardHolderTitle").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("bankInfo");
this.root.getChildByName("btnCancel").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("cancel");
this.root.getChildByName("btnConfirm").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("confirm");
this.root.getChildByName("labelDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("withdrawTimeDesc");
};
t.prototype.onConfirmEx = function() {
l.default.inst.playGameEffect(l.AudioRes.click);
var e = this.node._data.amountTotal;
r.default.getInstance().withdraw(c.GameWithdrawEnum.gcash, e);
this.node.confirmBtn.interactable = !1;
this.node.showLoading();
};
return a([ p ], t);
}(h.default));
o.default = f;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
GameConfirmPixDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c21ccLjgeBMm6C3shYmzurE", "GameConfirmPixDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../public/MyComponent/GameHppayUtil"), c = e("../../../manager/GameSoundMgr"), l = e("../../../data/GameLangData"), d = e("../../../data/conf/GameInfo"), h = e("../../../communication/GameLobbyHttp"), u = e("../../executor/bank/GameConfirmPixEx"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.root = null;
t.confirmBtn = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new u.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
this.root = this.node.getChildByName("dlgBg");
this.root.getChildByName("btnClose").on("click", this.onClose, this);
this.root.getChildByName("btnConfirm").on("click", this.onConfirm, this);
this.root.getChildByName("btnCancel").on("click", this.onCancel, this);
this.confirmBtn = this.root.getChildByName("btnConfirm").getComponent(cc.Button);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.updateLanguageUI();
this.register("GCashConfirmDialog", [ "ON_WITHDRAW", "ON_HTTP_POST_FAILED" ]);
this.setDataView();
};
t.prototype.setDataView = function() {
this.root.getChildByName("labelAmount").getComponent(cc.Label).string = d.default.gameMoneyUnit + this._data.amount;
this.root.getChildByName("labelCardHolderName").getComponent(cc.Label).string = this._data.cardholder;
this.root.getChildByName("labelBankName").getComponent(cc.Label).string = this._data.number;
};
t.prototype.updateLanguageUI = function() {
this.exView.updateLanguageUIEx();
};
t.prototype.onConfirm = function() {
this.exView.onConfirmEx();
};
t.prototype.onTimeout = function() {
s.default.alert(l.default.ins.GET_NEWHALL_LANG("withdrawFailureTips"));
this.confirmBtn.interactable = !0;
this.hideLoading();
};
t.prototype.onCancel = function() {
c.default.inst.playGameEffect(c.AudioRes.click);
this.onClose();
};
t.prototype.handleAppEvent = function(e) {
e.arg;
switch (e.key) {
case "ON_WITHDRAW":
this.onWithdraw();
break;

case "ON_HTTP_POST_FAILED":
this.httpFailed();
}
};
t.prototype.httpFailed = function() {
this.hideLoading();
this.confirmBtn.interactable = !0;
s.default.alert(l.default.ins.GET_NEWHALL_LANG("withdrawFailureTips"));
};
t.prototype.onWithdraw = function() {
this.hideLoading();
h.default.getInstance().getBankInfo();
this.onClose();
};
return a([ f ], t);
}(r.default));
o.default = m;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../executor/bank/GameConfirmPixEx": "GameConfirmPixEx"
} ],
GameConfirmPixEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "580e5C21FJLK6hAOcqsv5TD", "GameConfirmPixEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../communication/GameLobbyHttp"), s = e("../../../data/GameLangData"), c = e("../../../data/conf/GameInfo"), l = e("../../../manager/GameSoundMgr"), d = e("../../../public/MyComponent/GameHppayUtil"), h = e("../../../public/MyComponent/ViewExecutorBase"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {
this.root = this.node.root;
};
t.prototype.updateLanguageUIEx = function() {
this.root.getChildByName("labelTitle").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("withdrawConfirmTitle");
d.default.labelShadow(this.root.getChildByName("labelTitle").getComponent(cc.Label));
this.root.getChildByName("amountTitle").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("money");
this.root.getChildByName("labelCardHolderTitle").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("bankInfo");
this.root.getChildByName("btnCancel").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("cancel");
this.root.getChildByName("btnConfirm").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("confirm");
this.root.getChildByName("labelDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("withdrawTimeDesc");
};
t.prototype.onConfirmEx = function() {
l.default.inst.playGameEffect(l.AudioRes.click);
var e = this.node._data.amountTotal;
r.default.getInstance().withdraw(c.GameWithdrawEnum.pix, e);
this.node.confirmBtn.interactable = !1;
this.node.showLoading();
};
return a([ p ], t);
}(h.default));
o.default = f;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
GameConfirmUPIDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "307a6QuiLBPgZNmsXFS/4DI", "GameConfirmUPIDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../public/MyComponent/GameHppayUtil"), c = e("../../../manager/GameSoundMgr"), l = e("../../../data/GameLangData"), d = e("../../../data/conf/GameInfo"), h = e("../../../communication/GameLobbyHttp"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.root = null;
t.confirmBtn = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
this.root = this.node.getChildByName("dlgBg");
this.root.getChildByName("btnClose").on("click", this.onClose, this);
this.root.getChildByName("btnConfirm").on("click", this.onConfirm, this);
this.root.getChildByName("btnCancel").on("click", this.onCancel, this);
this.confirmBtn = this.root.getChildByName("btnConfirm").getComponent(cc.Button);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.updateLanguageUI();
this.register("GCashConfirmDialog", [ "ON_WITHDRAW", "ON_HTTP_POST_FAILED" ]);
this.setDataView();
};
t.prototype.setDataView = function() {
this.root.getChildByName("labelAmount").getComponent(cc.Label).string = d.default.gameMoneyUnit + this._data.amount;
this.root.getChildByName("labelCardHolderName").getComponent(cc.Label).string = this._data.cardholder;
this.root.getChildByName("labelBankName").getComponent(cc.Label).string = this._data.number;
};
t.prototype.updateLanguageUI = function() {
this.root.getChildByName("labelTitle").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("withdrawConfirmTitle");
s.default.labelShadow(this.root.getChildByName("labelTitle").getComponent(cc.Label));
this.root.getChildByName("amountTitle").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("money");
this.root.getChildByName("labelCardHolderTitle").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("bankInfo");
this.root.getChildByName("btnCancel").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("cancel");
this.root.getChildByName("btnConfirm").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("confirm");
this.root.getChildByName("labelDesc").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("withdrawTimeDesc");
};
t.prototype.onConfirm = function() {
c.default.inst.playGameEffect(c.AudioRes.click);
var e = this._data.amountTotal;
h.default.getInstance().withdraw(d.GameWithdrawEnum.upi, e);
this.confirmBtn.interactable = !1;
this.showLoading();
};
t.prototype.onTimeout = function() {
s.default.alert(l.default.ins.GET_NEWHALL_LANG("withdrawFailureTips"));
this.confirmBtn.interactable = !0;
this.hideLoading();
};
t.prototype.onCancel = function() {
c.default.inst.playGameEffect(c.AudioRes.click);
this.onClose();
};
t.prototype.handleAppEvent = function(e) {
e.arg;
switch (e.key) {
case "ON_WITHDRAW":
this.onWithdraw();
break;

case "ON_HTTP_POST_FAILED":
this.httpFailed();
}
};
t.prototype.httpFailed = function() {
this.hideLoading();
this.confirmBtn.interactable = !0;
s.default.alert(l.default.ins.GET_NEWHALL_LANG("withdrawFailureTips"));
};
t.prototype.onWithdraw = function() {
this.hideLoading();
h.default.getInstance().getBankInfo();
this.onClose();
};
return a([ p ], t);
}(r.default));
o.default = f;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase"
} ],
GameConfirmWithdrawDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f9461fNVyNJmbm5cfiJweVm", "GameConfirmWithdrawDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../public/MyComponent/GameHppayUtil"), c = e("../../../manager/GameSoundMgr"), l = e("../../../data/GameLangData"), d = e("../../../data/conf/GameInfo"), h = e("../../../communication/GameLobbyHttp"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.root = null;
t.confirmBtn = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
this.root = this.node.getChildByName("dlgBg");
this.root.getChildByName("closeBtn").on("click", this.onClose, this);
this.root.getChildByName("confirmBtn").on("click", this.onConfirm, this);
this.root.getChildByName("cancelBtn").on("click", this.onCancel, this);
this.confirmBtn = this.root.getChildByName("confirmBtn").getComponent(cc.Button);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.updateLanguageUI();
this.register("WithdrawBankInfoDialog", [ "ON_WITHDRAW", "ON_HTTP_POST_FAILED" ]);
this.setDataView();
};
t.prototype.setDataView = function() {
this.root.getChildByName("labelAmount").getComponent(cc.Label).string = d.default.gameMoneyUnit + this._data.amount;
this.root.getChildByName("labelCardHolderName").getComponent(cc.Label).string = this._data.cardholder;
this.root.getChildByName("labelBankName").getComponent(cc.Label).string = this._data.bankCode;
this.root.getChildByName("labelBankNumber").getComponent(cc.Label).string = s.default.formatBankAccount(this._data.number);
};
t.prototype.updateLanguageUI = function() {
this.root.getChildByName("labelTitle").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("withdrawConfirmTitle");
s.default.labelShadow(this.root.getChildByName("labelTitle").getComponent(cc.Label));
this.root.getChildByName("amountTitle").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("money");
this.root.getChildByName("labelCardHolderTitle").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("bankInfo");
this.root.getChildByName("cancelBtn").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("cancel");
this.root.getChildByName("confirmBtn").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("confirm");
this.root.getChildByName("labelDesc").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("withdrawTimeDesc");
};
t.prototype.onConfirm = function() {
c.default.inst.playGameEffect(c.AudioRes.click);
var e = this._data.amountTotal;
h.default.getInstance().withdraw(d.GameWithdrawEnum.bank, e);
this.confirmBtn.interactable = !1;
this.showLoading();
};
t.prototype.onTimeout = function() {
s.default.alert(l.default.ins.GET_NEWHALL_LANG("withdrawFailureTips"));
this.confirmBtn.interactable = !0;
this.hideLoading();
};
t.prototype.onCancel = function() {
c.default.inst.playGameEffect(c.AudioRes.click);
this.onClose();
};
t.prototype.handleAppEvent = function(e) {
e.arg;
switch (e.key) {
case "ON_WITHDRAW":
this.onWithdraw();
break;

case "ON_HTTP_POST_FAILED":
this.HttpFailed();
}
};
t.prototype.HttpFailed = function() {
this.hideLoading();
this.confirmBtn.interactable = !0;
s.default.alert(l.default.ins.GET_NEWHALL_LANG("withdrawFailureTips"));
};
t.prototype.onWithdraw = function() {
this.hideLoading();
h.default.getInstance().getBankInfo();
this.onClose();
};
return a([ p ], t);
}(r.default));
o.default = f;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase"
} ],
GameDataInfo: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c3181KofLZCEayIgTjoTYNy", "GameDataInfo");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.LocalLanguage = o.PlatformType = void 0;
var n = e("../GameCores/EXSceneManager"), a = e("./GameAllData"), r = cc._decorator, s = r.ccclass;
r.property;
(function(e) {
e[e.guest = 0] = "guest";
e[e.telephoneWithPassword = 1] = "telephoneWithPassword";
e[e.telephoneWithVCode = 2] = "telephoneWithVCode";
e[e.facebook = 10] = "facebook";
e[e.apple = 11] = "apple";
e[e.google = 12] = "google";
})(o.PlatformType || (o.PlatformType = {}));
(o.LocalLanguage || (o.LocalLanguage = {})).tw = "en";
var c = function() {
function e() {}
e.init = function() {
cc.sys.os == cc.sys.OS_IOS ? this.systemType = 1 : this.systemType = 2;
a.default.initLocalConfig();
};
e.gameid = 1;
e.appid = 200;
e.ver = 162;
e.appVersion = "1.0.6";
e.hotVersion = "1.0.6";
e.isPad = !1;
e.hver = 1;
e.version = 1;
e.devId = "reviewid2023";
e.devInfo = "";
e.fbToken = "";
e.fbUid = "";
e.fbAuthState = 3;
e.phoneNumber = "";
e.phonePassword = "";
e.currPlatType = 0;
e.pushToken = "";
e.isRegesterPushNotification = !1;
e.systemType = 1;
e.isInstallFacebook = !1;
e.isInstallMessenger = !1;
e.appleToken = "";
e.applePid = "";
e.appleLoginState = !1;
e.messengerLink = "";
e.facebookLink = "";
e.currScene = n.SceneIndex.launch;
e.lastScene = n.SceneIndex.launch;
e.networkEnvironment = "Network Disconnected";
e.webPid = "";
e.webToken = "";
e.webUid = 0;
e.isWebGameType = !1;
e.isMute = 0;
e.localLanguage = "en";
e.chipMulti = 100;
e.sourceLanguage = "en";
e.timeZone = "";
e.localTime = "";
e.pointMulti = 100;
e.vipLevelList = [ 0, 10, 100, 500, 2e3, 5e3, 1e4, 2e4, 5e4, 1e5, 188888 ];
e.levelList = [ 0, 10, 100, 500, 1e3, 2e3, 3500, 5e3, 7500, 1e4, 13e3, 16e3, 19500, 23e3, 27e3, 31e3, 35500, 4e4, 45e3, 5e4, 55500, 61e3, 67e3, 73e3, 79500, 86e3, 93e3, 1e5, 107500, 115e3, 123e3, 131e3, 139500, 148e3, 157e3, 166e3, 175500, 185e3, 195e3, 205e3, 215500, 226e3, 237e3, 248e3, 259500, 271e3, 283e3, 295e3, 307500, 32e4, 333e3, 346e3, 359500, 373e3, 387e3, 401e3, 415500, 43e4, 445e3, 46e4, 475500, 491e3, 507e3, 523e3, 539500, 556e3, 573e3, 59e4, 607500, 625e3, 643e3, 661e3, 679500, 698e3, 717e3, 736e3, 755500, 775e3, 795e3, 815e3, 835500, 856e3, 877e3, 898e3, 919500, 941e3, 963e3, 985e3, 1007500, 103e4, 1053e3, 1076e3, 1099500, 1123e3, 1147e3, 1171e3, 1195500, 122e4, 1245e3, 127e4, 1295500, 1321e3, 1347e3, 1373e3, 1399500, 1426e3, 1453e3, 148e4, 1507500, 1535e3 ];
return i([ s ], e);
}();
o.default = c;
cc._RF.pop();
}, {
"../GameCores/EXSceneManager": "EXSceneManager",
"./GameAllData": "GameAllData"
} ],
GameData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b5732lxEFhCRrlEU3JgPyuD", "GameData");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../Conf/Game"), n = e("../Util/GameUtil"), a = e("./InviteData"), r = e("./MailData"), s = function() {
function e() {}
e.resetRoomData = function() {
this.roomData.playerMiCardId = 0;
this.roomData.bankerMiCardId = 0;
};
e.setCard = function(t, o, i) {
i ? e.frameCahces[t] = o : e.noNumFrameCahces[t] = o;
};
e.getCard = function(t, o) {
return o ? e.frameCahces[t] ? e.frameCahces[t] : null : e.noNumFrameCahces[t] ? e.noNumFrameCahces[t] : null;
};
e.clearHallData = function() {
e.hallData.giveCoinInfo = {
count: 0,
list: {}
};
e.UserData.faceBookBinding = !1;
e.UserData.phoneBinding = !1;
i.default.isShowRegGuide = !1;
a.default.getInstance().reset();
r.default.getInstance().clearAllUnreadMail();
n.default.saveData("loginPassword", "");
};
e.clearRoomData = function() {
e.roomData.goldType = 0;
e.roomData.roomId = 0;
e.roomData.timeLevel = 0;
e.roomData.autoOpen = 0;
e.roomData.dutyType = 0;
e.roomData.minChip = 0;
e.roomData.maxBlind = 0;
e.roomData.maxOther = 0;
e.roomData.maxLucky6 = 0;
e.roomData.cardColor = 0;
e.roomData.cutCardNum = 0;
e.roomData.cutCardPos = 0;
e.roomData.count = 0;
e.roomData.road = [];
e.roomData.remainCount = 0;
e.roomData.remainCardCount = 0;
e.roomData.gameState = "";
e.roomData.timeOut = 0;
e.roomData.RemainTimeOut = 0;
e.roomData.sendCards = [];
e.roomData.allChipins = [];
e.roomData.standChipins = [];
e.roomData.seatedData = [];
e.roomData.standData = [];
e.roomData.openCardEd = [];
e.roomData.selfChipData = [];
e.roomData.isReconnect = 0;
e.roomData.roomConf = {};
e.roomData.playerMiCardId = 0;
e.roomData.bankerMiCardId = 0;
e.roomData.shuffleInfo = {};
e.roomData.betBankerOrPlayerEd = 99;
e.roomData.tipsCutCardDialog = !1;
e.roomData.chatList = [];
e.roomData.reconnectData = {};
e.roomData.roomMembers = {};
e.roomData.ifBetQualification = !1;
e.roomData.countDownTime = 0;
e.roomData.isTheLastGame = !1;
e.roomData.tableState = 0;
e.roomData.playerShowCard = [ 0, 0, 0 ];
e.roomData.bankerShowCard = [ 0, 0, 0 ];
e.roomData.signOut = !1;
e.roomData.roomReconnectIng = !1;
a.default.getInstance().reset();
};
e.clearbindData = function() {
e.bindData.phoneNum = "";
e.bindData.fbName = "";
};
e.UserData = {
server: [],
conf: "http://127.0.0.1/",
userId: 0,
registered: 0,
nickname: "",
country: "",
exp: 0,
chip: 0,
coin: 0,
point: 0,
vipExp: 0,
gameType: 0,
goldType: 0,
roomId: 0,
ukey: "",
maxvipExp: 0,
seatId: 0,
safeChip: 0,
giftId: 0,
headID: 0,
faceBookBinding: !1,
phoneBinding: !1,
bindPhoneStatus: 0,
gCashBinding: 0,
bankBinding: 0,
coinFeedback: !0,
screenshotShar: !0,
sandLanguage: 1,
showLanguage: 1,
shockSetUp: !0,
musicSetUp: .5,
soundSetUp: .5,
firstStrike: 0,
vipLevel: 0,
nowSceneType: 0
};
e.roomData = {
gameType: 0,
roomType: 0,
goldType: 0,
playType: 0,
roomId: 0,
shuffleID: 0,
timeLevel: 0,
autoOpen: 0,
dutyType: 0,
minChip: 0,
maxBlind: 0,
maxOther: 0,
maxLucky6: 0,
maxSmallTiger: 0,
maxBigTiger: 0,
maxDrawTiger: 0,
cardColor: 0,
cutCardNum: 0,
cutCardPos: 0,
count: 0,
road: [],
remainCount: 0,
remainCardCount: 0,
gameState: "",
timeOut: 0,
RemainTimeOut: 0,
sendCards: [],
allChipins: [],
standChipins: [],
seatedData: [],
standData: [],
openCardEd: [],
selfChipData: [],
isReconnect: 0,
roomConf: {},
playerMiCardId: 0,
bankerMiCardId: 0,
shuffleInfo: {},
betBankerOrPlayerEd: 99,
tipsCutCardDialog: !1,
chatList: [],
reconnectData: {},
ifBetQualification: !1,
countDownTime: 0,
isTheLastGame: !1,
tableState: 0,
roomMembers: {},
playerShowCard: [ 0, 0, 0 ],
bankerShowCard: [ 0, 0, 0 ],
signOut: !1,
roomReconnectIng: !1
};
e.hallData = {
getRoomListNum: 0,
enterHallNum: 0,
worldChatList: [],
giveCoinInfo: {
count: 0,
list: {}
},
roomType: 0,
levelType: 0,
switchRooms: {
gameType: 0,
goldType: 0,
roomId: 0,
autoSeat: 0,
roomType: 0
},
productInfo: {},
productCountry: "",
fiveStart: !1,
feedback: 0,
activityData: [],
newActiviys: [],
kickbackDescImage: "",
currSelectRoomType: 0,
bindReward: 0,
hallGameType: 1
};
e.phoneData = {
electricity: 0,
networkType: 0,
signalStrength: 0,
sendTime: 0,
delayedTime: 50
};
e.redBagData = {
peopleLmt: 0,
peopleGetLmt: 0,
signleCoinLmt: 0
};
e.limitData = {
nickTimes: 0,
loginReward: 0,
intervaelReward: 0
};
e.bindData = {
phoneNum: "",
fbName: ""
};
e.mallData = [];
e.hasSendCenterRedTips = !1;
e.hasSendRecordRedTips = !1;
e.loading = {
isReconnect: !1
};
e.storageData = {
hallWaybillType: "hallWaybillType",
roomListHideFull: "roomListHideFull",
roomListHideVacant: "roomListHideVacant",
roomListHideNew: "roomListHideNew",
TimeStamp: "TimeStamp",
HallLftRankType: "HallLftRankType",
RankNavigation: "RankNavigation",
coinFeedback: "coinFeedback",
screenshotShar: "screenshotShar",
sandLanguage: "sandLanguage",
showLanguage: "showLanguage",
shockSetUp: "shockSetUp",
musicSetUp: "musicSetUp",
soundSetUp: "soundSetUp",
emailPush: "emailPush",
activityPush: "activityPush",
friendChatPush: "friendChatPush",
longWayPush: "longWayPush",
singleJumpPush: "singleJumpPush",
twoRoomOnePush: "twoRoomOnePush",
recentUseEjimo: "recentUseEjimo",
appPay: "appPay",
appleLoginUser: "appleLoginUser",
appleLoginToken: "appleLoginToken",
webGameRecord: "webGameRecord12"
};
e.frameCahces = cc.js.createMap();
e.noNumFrameCahces = cc.js.createMap();
return e;
}();
o.default = s;
cc._RF.pop();
}, {
"../Conf/Game": "Game",
"../Util/GameUtil": "GameUtil",
"./InviteData": "InviteData",
"./MailData": "MailData"
} ],
GameDenyInviteDialog: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "584b7W6u3JOW6q01KDeqLV3", "GameDenyInviteDialog");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../Components/DialogBase"), s = e("../../Components/MyEvent"), c = e("../../Data/InviteData"), l = e("../../Data/LanguageData"), d = e("../../Socket/WebSocketManager"), h = e("../../Util/GameUtil"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._labelReason = null;
t._imageHead = null;
t._country = null;
t._labelNickName = null;
t._labelPlatform = null;
t._labelFromUser = null;
t._labelCoins = null;
t._dropNode = null;
t._currMsgIndex = 1;
return t;
}
t.prototype.onLoad = function() {
this.node.getChildByName("btnClose").on("click", this.onClose, this);
this.node.getChildByName("btnOK").on("click", this._onConfirm, this);
this._imageHead = this.node.getChildByName("headBg").getChildByName("head").getComponent(cc.Sprite);
this._country = this.node.getChildByName("country");
this._labelNickName = this.node.getChildByName("nickName");
this._labelPlatform = this.node.getChildByName("platformName");
this._labelFromUser = this.node.getChildByName("from");
this._labelCoins = this.node.getChildByName("labelCoins").getComponent(cc.Label);
this._labelReason = this.node.getChildByName("input3").getChildByName("label").getComponent(cc.Label);
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = l.default.ins.STRING_COMMON("invite");
this._labelReason.string = l.default.ins.STRING_ROOM("reasonForDeny");
this.node.getChildByName("denyMsgLimit").getComponent(cc.Label).string = l.default.ins.STRING_ROOM("denyMsgLimit");
this.node.getChildByName("whyDeny").getComponent(cc.Label).string = l.default.ins.STRING_ROOM("whyDeny");
this.node.getChildByName("btnOK").getChildByName("Label").getComponent(cc.Label).string = l.default.ins.STRING_COMMON("send");
this._labelFromUser.getComponent(cc.Label).string = l.default.ins.STRING_ROOM("fromUser");
this._dropNode = this.node.getChildByName("dropDownBg");
this._dropNode.getChildByName("input3Btn1").getChildByName("label").getComponent(cc.Label).string = l.default.ins.STRING_ROOM("reasonForDeny");
this._dropNode.getChildByName("input3Btn2").getChildByName("label").getComponent(cc.Label).string = l.default.ins.STRING_ROOM("reasonForDeny1");
this._dropNode.active = !1;
this.node.getChildByName("input3").on("click", this._onListReasons, this);
this._dropNode.getChildByName("input3Btn1").attr({
msgIndex: 0
});
this._dropNode.getChildByName("input3Btn1").on("click", this._onSelectReason, this);
this._dropNode.getChildByName("input3Btn2").attr({
msgIndex: 1
});
this._dropNode.getChildByName("input3Btn2").on("click", this._onSelectReason, this);
};
t.prototype._onListReasons = function() {
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this._dropNode.active = !0;
};
t.prototype._onSelectReason = function(e) {
var t = e.node;
this._currMsgIndex = t.msgIndex;
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this._dropNode.active = !1;
this._labelReason.string = e.node.getChildByName("label").getComponent(cc.Label).string;
};
t.prototype.start = function() {
e.prototype.start.call(this);
this._labelCoins.string = h.default.cul(this._data.gold);
this._labelNickName.getComponent(cc.Label).string = this._data.nickName;
"" != this._data.platform ? this._labelPlatform.getComponent(cc.Label).string = "(" + this._data.platform + ") " : this._labelPlatform.getComponent(cc.Label).string = this._data.platform + " ";
1 == this._data.isFriend ? this._labelFromUser.getComponent(cc.Label).string = l.default.ins.STRING_ROOM("fromFriend") : this._labelFromUser.getComponent(cc.Label).string = l.default.ins.STRING_ROOM("fromUser");
this._labelNickName.getComponent(cc.Label)._forceUpdateRenderData(!0);
this._labelPlatform.getComponent(cc.Label)._forceUpdateRenderData(!0);
this._labelFromUser.getComponent(cc.Label)._forceUpdateRenderData(!0);
this._labelPlatform.x = this._labelNickName.x + this._labelNickName.width;
this._labelFromUser.x = this._labelPlatform.x + this._labelPlatform.width;
h.default.playerHead(this._imageHead, this._data.fromUid);
h.default.setCountry(this._country, this._data.country);
h.default.setVipExp(this.node.getChildByName("headBg").getChildByName("vip"), this._data.vipExp);
h.default.setVipNameColor(this._labelNickName, this._data.vipExp, new cc.Color(149, 186, 244));
};
t.prototype._onConfirm = function() {
c.default.getInstance().delete(this._data.fromUid);
s.MyEvent.getInstance().emit("UPDATE_ROOM_INVITE");
d.default.getInstance().socketSend.denyInvite(this._data.fromUid, this._currMsgIndex + "");
this.onClose();
};
return a([ p ], t);
}(r.default));
o.default = f;
cc._RF.pop();
}, {
"../../Components/DialogBase": "DialogBase",
"../../Components/MyEvent": "MyEvent",
"../../Data/InviteData": "InviteData",
"../../Data/LanguageData": "LanguageData",
"../../Socket/WebSocketManager": "WebSocketManager",
"../../Util/GameUtil": "GameUtil"
} ],
GameDltAllReadMailDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "bb631OthjdAhJ8DJb8lPVeS", "GameDltAllReadMailDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../public/MyComponent/GameEvent"), c = e("../../../data/GameLangData"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
this.node.getChildByName("closeBtn").on("click", this.onClose, this);
this.node.getChildByName("okBtn").on("click", this._onOK, this);
this.node.getChildByName("cancelBtn").on("click", this._onCancel, this);
this.node.getChildByName("okBtn").getChildByName("Label").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("enter");
this.node.getChildByName("cancelBtn").getChildByName("Label").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("cancel");
this.node.getChildByName("desc").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("deleAllMailDesc");
};
t.prototype.start = function() {
e.prototype.start.call(this);
};
t.prototype._onCancel = function() {
this.onClose();
};
t.prototype._onOK = function() {
s.GameEvent.ins().emit("DELETE_ALL_UNREAD_SYSTEM_MAIL");
this.onClose();
};
return a([ d ], t);
}(r.default));
o.default = h;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../public/MyComponent/GameEvent": "GameEvent",
"../../../public/MyComponent/WindowBase": "WindowBase"
} ],
GameEvents: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f05e6YBJYdFCoNJ83J+fgBT", "GameEvents");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.MyEvent = o.EventType = void 0;
var n = cc._decorator, a = n.ccclass, r = (n.property, function() {
function e() {}
e.prototype.start = function() {};
e.TestEvent = "TestEvent";
return i([ a ], e);
}());
o.EventType = r;
var s = function() {
function e() {
this.list = {};
}
e.prototype.on = function(e, t, o) {
null == this.list[e] && (this.list[e] = []);
var i = {};
i.func = t;
i.type = o;
this.list[e].push(i);
};
e.prototype.remove = function(e, t) {
if (this.list[e]) for (var o = this.list[e], i = 0; i < o.length; i++) if (o[i].type == t) {
o.splice(i, 1);
--i;
}
};
e.prototype.removeByNode = function(e) {
for (var t in this.list) for (var o = this.list[t], i = 0; i < o.length; i++) if (o[i].type == e) {
o.splice(i, 1);
--i;
}
};
e.prototype.removeByKey = function(e) {
delete this.list[e];
};
e.prototype.emit = function(e, t) {
if (this.list[e]) for (var o = this.list[e].concat(), i = 0; i < o.length; i++) o[i].type && isNaN(o[i].type) && o[i].func({
key: e,
arg: t
}, o[i].type);
};
e.getInstance = function() {
this.singleton || (this.singleton = new e());
return this.singleton;
};
return e;
}();
o.MyEvent = s;
cc._RF.pop();
}, {} ],
GameEvent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "fd53ffF6HZDQbnmuGJpPWq7", "GameEvent");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.GameEvent = o.EventType = void 0;
var n = cc._decorator, a = n.ccclass, r = (n.property, function() {
function e() {}
e.prototype.start = function() {};
e.TestEvent = "TestEvent";
return i([ a ], e);
}());
o.EventType = r;
var s = function() {
function e() {
this.list = {};
}
e.prototype.emit = function(e, t) {
if (this.list[e]) for (var o = this.list[e].concat(), i = 0; i < o.length; i++) o[i].type && isNaN(o[i].type) && o[i].func({
key: e,
arg: t
}, o[i].type);
};
e.prototype.on = function(e, t, o) {
null == this.list[e] && (this.list[e] = []);
var i = {};
i.func = t;
i.type = o;
this.list[e].push(i);
};
e.prototype.remove = function(e, t) {
if (this.list[e]) for (var o = this.list[e], i = 0; i < o.length; i++) if (o[i].type == t) {
o.splice(i, 1);
--i;
}
};
e.prototype.removeByNode = function(e) {
for (var t in this.list) for (var o = this.list[t], i = 0; i < o.length; i++) if (o[i].type == e) {
o.splice(i, 1);
--i;
}
};
e.prototype.removeByKey = function(e) {
delete this.list[e];
};
e.ins = function() {
this.singleton || (this.singleton = new e());
return this.singleton;
};
return e;
}();
o.GameEvent = s;
cc._RF.pop();
}, {} ],
GameFBInterface: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9c591VCf+NML6sbFeT2p/Hw", "GameFBInterface");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.FacebookCode = void 0;
var r, s = e("../PublicTools/GameEvents"), c = e("../GameFireData/GameDataInfo"), l = cc._decorator, d = l.ccclass;
l.property;
(function(e) {
e[e.authSuccess = 0] = "authSuccess";
e[e.authInvalid = 3] = "authInvalid";
e[e.authValid = 2] = "authValid";
e[e.authCancel = 1] = "authCancel";
e[e.authError = -1] = "authError";
})(r = o.FacebookCode || (o.FacebookCode = {}));
var h = function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
o = t;
Object.defineProperty(t, "inst", {
get: function() {
null == this._inst && (this._inst = new o());
return this._inst;
},
enumerable: !1,
configurable: !0
});
t.prototype.initFacebookAuth = function() {
if (!cc.sys.isBrowser) if (cc.sys.os == cc.sys.OS_IOS) {
console.log("fb auth check");
jsb.reflection.callStaticMethod("AAAA_FBInterface_BBBB", "isAuthValid:", "none");
} else if (cc.sys.os == cc.sys.OS_ANDROID) {
console.log("");
jsb.reflection.callStaticMethod("com/game/third/FacebookInterface", "isAuthValid", "()V");
}
};
t.prototype.authCallBack = function(e) {
var t = e.split("$", 6);
if (t.length > 0) {
var o = t[0];
if (o == r.authInvalid) c.default.fbAuthState = r.authInvalid; else if (o == r.authValid) {
c.default.fbToken = t[1];
c.default.fbUid = t[2];
c.default.fbAuthState = r.authValid;
}
}
};
t.prototype.login = function() {
if (!cc.sys.isBrowser) if (cc.sys.os == cc.sys.OS_IOS) {
console.log("fb login called");
jsb.reflection.callStaticMethod("AAAA_FBInterface_BBBB", "login:", "none");
} else if (cc.sys.os == cc.sys.OS_ANDROID) {
jsb.reflection.callStaticMethod("com/game/third/FacebookInterface", "login", "()V");
console.log("");
}
};
t.prototype.login_callback = function(e) {
console.log("fb_login_callback retCode", e);
var t = e.split("$", 6);
if (t.length > 0) {
var o = t[0], i = {};
i.retCode = o;
if (0 == o) {
i.nickName = t[1];
i.uid = t[2];
i.email = t[3];
i.photoUrl = t[4];
i.token = t[5];
} else if (2 == o) {
i.token = t[1];
i.uid = t[2];
}
s.MyEvent.getInstance().emit("FACEBOOK_LOGIN_CALLBACK", i);
}
};
var o;
t._inst = null;
return o = a([ d ], t);
}(cc.Component);
o.default = h;
cc.FacebookCallBack = h.inst;
cc._RF.pop();
}, {
"../GameFireData/GameDataInfo": "GameDataInfo",
"../PublicTools/GameEvents": "GameEvents"
} ],
GameGuideDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7d63b03JtdOUKWWrHivLniV", "GameGuideDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../data/GameLangData"), s = e("../../public/MyComponent/WindowBase"), c = e("../../public/MyComponent/GameHppayUtil"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
this.node.getChildByName("closeBtn").on("click", this.onClose, this);
this.node.getChildByName("okBtn").on("click", this._onOK, this);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.setDataView();
};
t.prototype.setDataView = function() {
this.node.getChildByName("labelContent").getComponent(cc.Label).string = this._data.content || "";
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = this._data.title || r.default.ins.STRING_COMMON("tips");
this.node.getChildByName("okBtn").getChildByName("Label").getComponent(cc.Label).string = this._data.action || r.default.ins.GET_DIALOG_LANG("enter");
c.default.labelShadow(this.node.getChildByName("labelTitle").getComponent(cc.Label));
};
t.prototype._onOK = function() {
this._data.callback && this._data.callback();
this.onClose();
};
return a([ d ], t);
}(s.default));
o.default = h;
cc._RF.pop();
}, {
"../../data/GameLangData": "GameLangData",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/WindowBase": "WindowBase"
} ],
GameHppayUtil: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f67d0fkG1VNz56DbTAVqP57", "GameHppayUtil");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.SCREEN_ORIENTATION = void 0;
var c, l = e("../../data/conf/GameInfo"), d = e("../../data/MyData"), h = e("../../data/GameLangData"), u = e("../../manager/DlgGameMgr"), p = e("../ThirdParty/CocosPublic"), f = e("../../data/conf/GameConfig"), m = e("../../manager/GameSoundMgr"), g = e("../../natives/AndroidInfo"), y = e("../../data/conf/GameRes"), _ = e("../../data/conf/InitGame"), C = e("../../manager/PlatformInterface"), b = e("../../login/GameBeginScene"), v = e("../../manager/SpriteFramePreLoader");
(function(e) {
e[e.ORIENTATION_LANDSCAPE = 0] = "ORIENTATION_LANDSCAPE";
e[e.ORIENTATION_PORTRAIT = 1] = "ORIENTATION_PORTRAIT";
})(c = o.SCREEN_ORIENTATION || (o.SCREEN_ORIENTATION = {}));
var S = cc._decorator, I = S.ccclass, B = (S.property, function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
o = t;
t.labelShadow = function(e, t, o) {
var i = t || new cc.Color(223, 32, 193), n = o || cc.v2(0, -3), a = cc.instantiate(e.node);
a.parent = e.node.parent;
a.x = e.node.x + n.x;
a.y = e.node.y + n.y;
a.color = i;
a.zIndex = 1;
e.node.zIndex = 2;
return a;
};
t.setScreenOrientation = function(e) {
console.log("setScreenOrientation ", e);
var t = cc.view.getFrameSize(), o = cc.Canvas.instance.designResolution;
if (e == c.ORIENTATION_PORTRAIT) {
g.default.inst.setScreenOrientation(c.ORIENTATION_PORTRAIT);
cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT);
t.width > t.height && cc.view.setFrameSize(t.height, t.width);
cc.Canvas.instance.designResolution = cc.size(o.height, o.width);
} else {
g.default.inst.setScreenOrientation(c.ORIENTATION_LANDSCAPE);
cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE);
t.height > t.width && cc.view.setFrameSize(t.height, t.width);
cc.Canvas.instance.designResolution = cc.size(o.height, o.width);
}
cc.Canvas.instance.node.emit("resize");
};
t.loadSprAtlasFrame = function(e, t, i) {
if (o.isnull(e)) if (i) {
if (v.SPCache.frameCahces[i + "/" + t]) {
e.getComponent(cc.Sprite).spriteFrame = v.SPCache.frameCahces[i + "/" + t];
return;
}
cc.loader.loadRes(i, cc.SpriteAtlas, function(n, a) {
if (null != a) {
var r = a.getSpriteFrame(t);
v.SPCache.frameCahces[i + "/" + t] = r;
o.isnull(e) && (e.getComponent(cc.Sprite).spriteFrame = r);
}
});
} else {
if (v.SPCache.frameCahces[t]) {
e.getComponent(cc.Sprite).spriteFrame = v.SPCache.frameCahces[t];
return;
}
cc.loader.loadRes(t, cc.SpriteFrame, function(i, n) {
v.SPCache.frameCahces[t] = n;
o.isnull(e) && (e.getComponent(cc.Sprite).spriteFrame = n);
});
}
};
t.formatMultiLine = function(e) {
for (var t = e, o = RegExp(/\\n/); t.match(o); ) t = t.replace("\\n", "\n");
return t;
};
t.isWebApp = function() {
return !(-1 != window.document.location.href.toString().search("localhost") || !cc.sys.isBrowser);
};
t.isLocalTest = function() {
return -1 != window.document.location.href.toString().search("localhost");
};
t.seekNodeChild = function(e, t) {
if (e) {
if (e._name == t) return e;
for (var o = e._children, i = 0; i < o.length; i++) {
var n = o[i], a = this.seekNodeChild(n, t);
if (a) return a;
}
}
};
t.saveData = function(e, t) {
cc.sys.localStorage.setItem(e, t);
};
t.saceJsonData = function(e, t) {
cc.sys.localStorage.setItem(e, JSON.stringify(t));
};
t.readData = function(e) {
return cc.sys.localStorage.getItem(e);
};
t.formatMoneyShorter = function(e) {
if (e < 1e4) return e;
var t = 1e3, o = "";
if (e >= 1e9) {
t = 1e9;
o = "B";
} else if (e >= 1e6) {
t = 1e6;
o = "M";
} else if (e >= 1e3) {
t = 1e3;
o = "K";
}
var i = e / t;
return i - Math.floor(i) < 1e-4 ? i.toFixed() + "" + o : i < 10 ? i.toFixed(2) + "" + o : i < 1e3 ? i.toFixed(1) + "" + o : i.toFixed(0) + "" + o;
};
t.cul = function(e, t) {
return 1 == t ? e && e.toString().replace(/^\d+/g, function(e) {
return e.replace(/(?=(?!^)(\d{3})+$)/g, " ");
}) : e && e.toString().replace(/^\d+/g, function(e) {
return e.replace(/(?=(?!^)(\d{3})+$)/g, ",");
});
};
t.rebackCul = function(e) {
for (;e.match(","); ) e = e.replace(",", "");
return Number(e);
};
t.isnull = function(e) {
return cc.isValid(e);
};
t.copyData = function(e) {
return JSON.parse(JSON.stringify(e));
};
t.alert = function(e, t, o, i) {
return r(this, void 0, void 0, function() {
return s(this, function() {
u.default.inst.showTips(e, t, o, i);
return [ 2 ];
});
});
};
t.getGameLabelWidth = function(e, t) {
var o = new cc.Node();
o.addComponent(cc.Label);
var i = o.getComponent(cc.Label);
i.fontSize = t;
i.string = e;
i._forceUpdateRenderData(!0);
return o.width;
};
t.changeLabelNum = function(e, t, i, n, a, r, s) {
var c = this;
if (o.isnull(e)) {
e.stopAllActions();
var l = {
a: parseInt(e.getComponent(cc.Label).string.replace(/\s*/g, ""))
}, d = .5;
n && (d = n);
var h = "quintOut";
a && "boolean" == typeof a ? h = "" : a && "string" == typeof a && (h = a);
var u = cc.tween(l).to(d, {
a: t
}, {
easing: h,
progress: function(t, i, n, a) {
var l = t + (i - t) * a;
l = r ? Math.round(l) : l.toFixed(2);
if (c.isnull(e)) {
e.getComponent(cc.Label).string = s ? l : o.cul(l, 1);
return l;
}
u.stop();
}
}).call(function() {
i && i();
c.isnull(e) ? e.getComponent(cc.Label).string = r ? s ? t : o.cul(t, 1) : s ? t.toFixed(2) : o.cul(t.toFixed(2), 1) : u.stop();
}).start();
return u;
}
};
t.isPassword = function(e) {
return 6 == e.length;
};
t.isUserName = function(e) {
return new RegExp("^[-_a-zA-Z0-9]+$").test(e);
};
t.getVersionDesc = function() {
return "App " + o.formatVersion(l.default.appid) + "  Res " + o.formatVersion(l.default.ver);
};
t.formatVersion = function(e) {
for (var t = e + "", o = "", i = t.length, n = 0; n < i; n++) n < i - 1 ? o = o + t.charAt(n) + "." : o += t.charAt(n);
return o;
};
t.formatNumber = function(e) {
return e.replace("+", "").replace("-", "").replace(".", "").trim();
};
t.getDate = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return t.getMonth() + 1 + "-" + t.getDate() + "-" + t.getFullYear();
};
t.setHeadPhoto = function(e, t) {
var i = Number(t);
if (!(i > 23)) {
i += 1;
l.default.country == l.GameCountryEnum.Brazil ? o.loadSprAtlasFrame(e, "p" + i, "plists/heads_br") : o.loadSprAtlasFrame(e, "p" + i, "plists/heads");
}
};
t.formatDate = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return t.getFullYear() + "-" + this.formatSingleTime(t.getMonth() + 1) + "-" + this.formatSingleTime(t.getDate()) + " " + this.formatSingleTime(t.getHours()) + ":" + this.formatSingleTime(t.getMinutes());
};
t.formatDate1 = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return t.getHours() + ":" + t.getMinutes() + ":" + t.getSeconds() + "  " + (t.getMonth() + 1) + "-" + t.getDate();
};
t.formatDate2 = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return t.getFullYear() + "-" + this.formatSingleTime(t.getMonth() + 1) + "-" + this.formatSingleTime(t.getDate());
};
t.formatDate3 = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return this.formatSingleTime(t.getHours()) + ":" + this.formatSingleTime(t.getMinutes()) + ":" + this.formatSingleTime(t.getSeconds());
};
t.formatDate4 = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return this.formatSingleTime(t.getMonth() + 1) + "-" + this.formatSingleTime(t.getDate()) + " " + this.formatSingleTime(t.getHours()) + ":" + this.formatSingleTime(t.getMinutes());
};
t.formatDate5 = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return this.formatSingleTime(t.getHours()) + ":" + this.formatSingleTime(t.getMinutes()) + " " + this.formatSingleTime(t.getMonth() + 1) + "-" + this.formatSingleTime(t.getDate());
};
t.getYearWeek = function(e) {
var t = new Date();
t.setTime(1e3 * e);
var o = t.getFullYear(), i = t.getMonth(), n = t.getDate(), a = new Date(o, i, n), r = new Date(o, 0, 1), s = Math.round((a.valueOf() - r.valueOf()) / 864e5);
return Math.ceil((s + r.getDay()) / 7);
};
t.formatTime = function(e, t) {
var o = Math.floor(e / 3600), i = Math.floor(e / 60);
return 3 == t ? e < 60 ? "00:00:" + this.formatSingleTime(e) : i < 60 ? "00:" + this.formatSingleTime(i) + ":" + this.formatSingleTime(e % 60) : this.formatSingleTime(o) + ":" + this.formatSingleTime(i % 60) + ":" + this.formatSingleTime(e % 60) : 2 == t ? e < 60 ? "00:" + this.formatSingleTime(e) : this.formatSingleTime(i) + ":" + this.formatSingleTime(e % 60) : 1 == t ? this.formatSingleTime(e) : void 0;
};
t.formatBankAccount = function(e) {
if (l.default.country == l.GameCountryEnum.Thailand) {
for (var t = "", o = 0; o < e.length; o++) 3 == o || 4 == o || 9 == o ? t = t + "-" + e.charAt(o) : t += e.charAt(o);
return t;
}
return e;
};
t.formatSingleTime = function(e) {
var t = "00";
e > 9 ? t = e + "" : e >= 0 && (t = "0" + e);
return t;
};
t.formatNumberToStr = function(e, t) {
var o = e + "";
if (t && t - o.length > 0) for (var i = t - o.length, n = 0; n < i; n++) o = "0" + o;
return o;
};
t.loadAnim = function(e, t) {
if (v.SPCache.spineAniCahces[t]) {
e.skeletonData = v.SPCache.spineAniCahces[t];
e.animation = "animation";
e.loop = !0;
} else cc.loader.loadRes(t, sp.SkeletonData, function(o, i) {
e.skeletonData = i;
e.animation = "animation";
e.loop = !0;
v.SPCache.spineAniCahces[t] = i;
}.bind(this));
};
t.showCoinFly = function(e) {
var t = cc.find("nativeReg"), i = y.GameResInfo.CURRENCY_ROOT_DIR + y.GameResInfo.ANIM_COIN;
console.log("showCoinFly = ", i);
if (o.isnull(t)) {
var n = t.getChildByName("awardNode1"), a = t.getChildByName("awardNode2");
if (!o.isnull(n)) {
(n = new cc.Node()).addComponent(sp.Skeleton);
n.name = "awardNode1";
n.getComponent(sp.Skeleton).timeScale = 1.4;
t.addChild(n);
(a = cc.instantiate(n)).name = "awardNode2";
t.addChild(a);
a.scaleX = -1;
}
n.active = !0;
a.active = !0;
if ("dragonTigerScene" == cc.director.getScene().name || "diceScene" == cc.director.getScene().name || "FindGoldenCity" == cc.director.getScene().name || "RomaScene" == cc.director.getScene().name) {
n.x = 305;
a.x = 305;
n.scale = 1 / .7;
a.scale = 1 / .7;
} else {
n.x = 0;
a.x = 0;
n.scale = 1;
a.scale = 1;
}
var r = function(e) {
v.SPCache.spineAniCahces[i] || (v.SPCache.spineAniCahces[i] = e);
n.getComponent(sp.Skeleton).skeletonData = e;
n.getComponent(sp.Skeleton).clearTrack(0);
n.getComponent(sp.Skeleton).setAnimation(0, "animation", !1);
a.opacity = 0;
a.getComponent(sp.Skeleton).skeletonData = e;
a.getComponent(sp.Skeleton).clearTrack(0);
a.getComponent(sp.Skeleton).setCompleteListener(function() {
n.active = !1;
a.active = !1;
});
p.default.sleepSync(.2).then(function() {
a.opacity = 255;
a.getComponent(sp.Skeleton).setAnimation(0, "animation", !1);
});
};
if (e && 32 == e) {
cc.director.getScheduler().enableForTarget(this);
cc.director.getScheduler().schedule(function() {
m.default.inst.playGameEffect("coin");
v.SPCache.spineAniCahces[i] ? r(v.SPCache.spineAniCahces[i]) : p.default.loadResSync(i, sp.SkeletonData).then(r);
}, this, 0, 1, 3, !1);
} else {
m.default.inst.playGameEffect("coin");
v.SPCache.spineAniCahces[i] ? r(v.SPCache.spineAniCahces[i]) : p.default.loadResSync(i, sp.SkeletonData).then(r);
}
}
};
t.isStandalone = function() {
return !!cc.sys.isBrowser && (window.navigator.standalone || window.matchMedia("(display-mode: standalone)").matches);
};
t.isWebMobile = function() {
return !(cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_ANDROID || !cc.sys.isBrowser);
};
t.isFileExist = function(e) {
if (cc.sys.isBrowser) return !0;
if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID) {
var t = cc.assetManager.cacheManager.getCache(e);
console.log("localPath = " + t);
return null != t && "" != t;
}
return !0;
};
t.isLocalFileExist = function(e) {
return !!jsb.fileUtils.isFileExist(e);
};
t.showLoading = function() {
var e = cc.director.getScene(), t = e.name;
console.log("loading sceneName ", t, e);
var o = null;
o = "gameLoginScene" == t ? e.getChildByName("Canvas").getChildByName("root") : "gameLobbyScene" == t ? e.getChildByName("Canvas").getChildByName("lobbyRoot") : "gameLoadingScene" == t ? e.getChildByName("Canvas").getChildByName("logo") : "gameStartScene" == t ? e.getChildByName("Canvas").getChildByName("logo") : "dragonTigerScene" == t ? e.getChildByName("Canvas").getChildByName("root") : "diceScene" == t ? e.getChildByName("Canvas").getChildByName("root") : "FindGoldenCity" == t ? e.getChildByName("Canvas").getChildByName("root") : "RomaScene" == t ? e.getChildByName("Canvas").getChildByName("root") : e;
console.log("loading parent ", o);
var i = o.getChildByName("loading");
if (null == i) {
i = new cc.Node();
o.addChild(i);
i.addComponent(sp.Skeleton);
i.name = "loading";
i.zIndex = 999;
p.default.loadResSync("anims/loading/loading_time", sp.SkeletonData).then(function(e) {
i.getComponent(sp.Skeleton).skeletonData = e;
i.getComponent(sp.Skeleton).animation = "animation2";
});
}
i.active = !0;
};
t.hideLoading = function() {
var e = cc.director.getScene(), t = e.name, o = ("gameLoginScene" == t ? e.getChildByName("Canvas").getChildByName("root") : "gameLobbyScene" == t ? e.getChildByName("Canvas").getChildByName("lobbyRoot") : "gameLoadingScene" == t ? e.getChildByName("Canvas").getChildByName("logo") : "gameStartScene" == t ? e.getChildByName("Canvas").getChildByName("logo") : "dragonTigerScene" == t ? e.getChildByName("Canvas").getChildByName("root") : "diceScene" == t ? e.getChildByName("Canvas").getChildByName("root") : "FindGoldenCity" == t ? e.getChildByName("Canvas").getChildByName("root") : "RomaScene" == t ? e.getChildByName("Canvas").getChildByName("root") : e).getChildByName("loading");
null != o && (o.active = !1);
};
t.getRandomNumInt = function(e, t) {
var o = t - e, i = Math.random();
return e + Math.round(i * o);
};
t.showFeedback = function() {
C.default.showFeedback();
};
t.showGamePage = function(e) {
cc.audioEngine.pauseAll();
var t = window;
cc.sys.isBrowser ? "object" == typeof t.js2java ? u.default.inst.showFullView(u.FullScreenType.gamePlayWebFive, e) : u.default.inst.showFullView(u.FullScreenType.gamePlayWeb, e) : u.default.inst.showFullView(u.FullScreenType.gamePlayWebNative, e);
};
t.isValidCountry = function(e) {
return e == l.GameCountryEnum.Thailand || e == l.GameCountryEnum.Philippines || e == l.GameCountryEnum.India || e == l.GameCountryEnum.Malaysia || e == l.GameCountryEnum.Indonesia || e == l.GameCountryEnum.Vietnam || e == l.GameCountryEnum.Brazil;
};
t.isValidLanguage = function(e, t) {
return e == l.GameCountryEnum.Thailand && t == h.AppLan.th || e == l.GameCountryEnum.Philippines && t == h.AppLan.en || e == l.GameCountryEnum.India && t == h.AppLan.en || e == l.GameCountryEnum.Malaysia && (t == h.AppLan.en || t == h.AppLan.my || t == h.AppLan.cn) || e == l.GameCountryEnum.Indonesia && (t == h.AppLan.en || t == h.AppLan.id) || e == l.GameCountryEnum.Vietnam && (t == h.AppLan.en || t == h.AppLan.vn) || e == l.GameCountryEnum.Brazil && (t == h.AppLan.en || t == h.AppLan.pt);
};
t.setCountryLogin = function(e) {
l.default.country = e;
if (l.default.country == l.GameCountryEnum.Thailand) {
l.default.ereaCode = l.GameCountryType.Thailand;
l.default.originMoneyUnit = l.GameCountryCurrencyType.Thailand;
l.default.gameMoneyUnit = l.GameCountryCurrencyType.Thailand;
l.default.country = l.GameCountryEnum.Thailand;
l.default.countryCurrencyUnit = l.CurrencyCountryUnit.Thailand;
l.default.scheme = l.GameSchemesEnum.Thailand;
l.default.countryID = l.GameCountryID.Thailand;
b.default.pingUrl = "https://www.betmbet.com/ping.php";
b.default.appid = 801;
l.default.localLanguage = h.AppLan.th;
} else if (l.default.country == l.GameCountryEnum.Philippines) {
l.default.ereaCode = l.GameCountryType.Philippines;
l.default.originMoneyUnit = l.GameCountryCurrencyType.Philippines;
l.default.gameMoneyUnit = l.GameCountryCurrencyType.Philippines;
l.default.country = l.GameCountryEnum.Philippines;
l.default.countryCurrencyUnit = l.CurrencyCountryUnit.Philippines;
l.default.scheme = l.GameSchemesEnum.Philippines;
l.default.countryID = l.GameCountryID.Philippines;
b.default.pingUrl = "https://www.bahtwin.com/ping.php";
b.default.appid = 605;
l.default.localLanguage = h.AppLan.en;
} else if (l.default.country == l.GameCountryEnum.India) {
l.default.ereaCode = l.GameCountryType.India;
l.default.originMoneyUnit = l.GameCountryCurrencyType.India;
l.default.gameMoneyUnit = l.GameCountryCurrencyType.India;
l.default.country = l.GameCountryEnum.India;
l.default.countryCurrencyUnit = l.CurrencyCountryUnit.India;
l.default.scheme = l.GameSchemesEnum.India;
l.default.countryID = l.GameCountryID.India;
b.default.pingUrl = "https://www.happyinworld.com/ping.php";
b.default.appid = 705;
l.default.localLanguage = h.AppLan.en;
} else if (l.default.country == l.GameCountryEnum.Malaysia) {
l.default.ereaCode = l.GameCountryType.Malaysia;
l.default.originMoneyUnit = l.GameCountryCurrencyType.Malaysia;
l.default.gameMoneyUnit = l.GameCountryCurrencyType.Malaysia;
l.default.country = l.GameCountryEnum.Malaysia;
l.default.countryCurrencyUnit = l.CurrencyCountryUnit.Malaysia;
l.default.scheme = l.GameSchemesEnum.Malaysia;
l.default.countryID = l.GameCountryID.Malaysia;
b.default.pingUrl = "https://www.winringgit.com/ping.php";
b.default.appid = 505;
l.default.localLanguage = h.AppLan.en;
} else if (l.default.country == l.GameCountryEnum.Indonesia) {
l.default.ereaCode = l.GameCountryType.Indonesia;
l.default.originMoneyUnit = l.GameCountryCurrencyType.Indonesia;
l.default.gameMoneyUnit = l.GameCountryCurrencyType.IndonesiaK;
l.default.country = l.GameCountryEnum.Indonesia;
l.default.countryCurrencyUnit = l.CurrencyCountryUnit.Indonesia;
l.default.scheme = l.GameSchemesEnum.Indonesia;
l.default.countryID = l.GameCountryID.Indonesia;
b.default.pingUrl = "https://www.happyidn.com/ping.php";
b.default.appid = 305;
l.default.localLanguage = h.AppLan.en;
} else if (l.default.country == l.GameCountryEnum.Vietnam) {
l.default.ereaCode = l.GameCountryType.Vietnam;
l.default.originMoneyUnit = l.GameCountryCurrencyType.Vietnam;
l.default.gameMoneyUnit = l.GameCountryCurrencyType.VietnamK;
l.default.country = l.GameCountryEnum.Vietnam;
l.default.countryCurrencyUnit = l.CurrencyCountryUnit.Vietnam;
l.default.scheme = l.GameSchemesEnum.Vietnam;
l.default.countryID = l.GameCountryID.Vietnam;
b.default.pingUrl = "https://www.windongs.com/ping.php";
b.default.appid = 205;
l.default.localLanguage = h.AppLan.en;
} else if (l.default.country == l.GameCountryEnum.Brazil) {
l.default.ereaCode = l.GameCountryType.Brazil;
l.default.originMoneyUnit = l.GameCountryCurrencyType.Brazil;
l.default.gameMoneyUnit = l.GameCountryCurrencyType.Brazil;
l.default.country = l.GameCountryEnum.Brazil;
l.default.countryCurrencyUnit = l.CurrencyCountryUnit.Brazil;
l.default.scheme = l.GameSchemesEnum.Brazil;
l.default.countryID = l.GameCountryID.Brazil;
b.default.pingUrl = "https://www.winbrls.com/ping.php";
b.default.appid = 105;
l.default.localLanguage = h.AppLan.en;
}
l.default.appid = b.default.appid;
o.saveData("localCountry", e);
o.saveData("localLan", l.default.localLanguage);
o.saveData("localAppID", l.default.appid);
console.log("set game locallanguage", l.default.localLanguage);
console.log("set game localCountry", l.default.country);
console.log("set game localAppID", l.default.appid);
f.default.clear();
f.default.resourceUrl;
0 == l.default.systemType ? (f.default.resourceUrl, f.default.spineBundleVer) : 1 == l.default.systemType && (f.default.resourceUrl, 
f.default.spineBundleVer);
cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_ANDROID || null != l.default.gameHotBundle && cc.assetManager.removeBundle(l.default.gameHotBundle);
_.default.inst.gameConfigInit();
_.default.inst.gameListInit();
h.default.ins.initLanguageData();
};
t.getPublicParams = function(e) {
var t = {};
t.gameid = l.default.gameid;
t.appid = l.default.appid;
t.deviceInfo = l.default.devInfo;
t.ver = l.default.ver;
t.appver = l.default.appVersion;
t.hver = l.default.hver;
t.devId = l.default.devId;
t.locale = l.default.localLanguage;
t.ukey = d.default.UserData.ukey;
t.uid = d.default.UserData.userId;
t.width = cc.winSize.width;
t.height = cc.winSize.height;
t.lan = l.default.sourceLanguage;
var o = "";
for (var i in t) o += i + "=" + t[i] + "&";
var n = "" + f.default.webviewUrl + e + "?" + o;
o = o.substring(0, o.length - 1);
console.log("url = ", n);
return n;
};
var o;
return o = a([ I ], t);
}(cc.Component));
o.default = B;
cc._RF.pop();
}, {
"../../data/GameLangData": "GameLangData",
"../../data/MyData": "MyData",
"../../data/conf/GameConfig": "GameConfig",
"../../data/conf/GameInfo": "GameInfo",
"../../data/conf/GameRes": "GameRes",
"../../data/conf/InitGame": "InitGame",
"../../login/GameBeginScene": "GameBeginScene",
"../../manager/DlgGameMgr": "DlgGameMgr",
"../../manager/GameSoundMgr": "GameSoundMgr",
"../../manager/PlatformInterface": "PlatformInterface",
"../../manager/SpriteFramePreLoader": "SpriteFramePreLoader",
"../../natives/AndroidInfo": "AndroidInfo",
"../ThirdParty/CocosPublic": "CocosPublic"
} ],
GameInfo: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f8d1du3eiVIW6Hwm1Dq8b1i", "GameInfo");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.GameSchemesEnum = o.GameCountryID = o.GameCountryEnum = o.CurrencyCountryUnit = o.GameCountryCurrencyType = o.GameCountryType = o.GameWithdrawEnum = o.PlatformGameEnum = void 0;
var n, a = e("../../manager/GameSceneMgr"), r = e("../../public/MyComponent/GameHppayUtil"), s = cc._decorator, c = s.ccclass;
s.property;
(function(e) {
e[e.guest = 0] = "guest";
e[e.telephoneWithPassword = 1] = "telephoneWithPassword";
e[e.telephoneWithVCode = 2] = "telephoneWithVCode";
e[e.facebook = 10] = "facebook";
e[e.apple = 11] = "apple";
e[e.google = 12] = "google";
e[e.webapp = 99] = "webapp";
e[e.webappInvalidParams = 91] = "webappInvalidParams";
e[e.webappLocalTest = 90] = "webappLocalTest";
})(o.PlatformGameEnum || (o.PlatformGameEnum = {}));
(function(e) {
e[e.bank = 0] = "bank";
e[e.gcash = 1] = "gcash";
e[e.upi = 2] = "upi";
e[e.pix = 3] = "pix";
})(o.GameWithdrawEnum || (o.GameWithdrawEnum = {}));
(function(e) {
e.Thailand = "66";
e.Philippines = "63";
e.India = "91";
e.Malaysia = "60";
e.Indonesia = "62";
e.Vietnam = "84";
e.Brazil = "55";
})(o.GameCountryType || (o.GameCountryType = {}));
(function(e) {
e.Thailand = "";
e.Philippines = "";
e.India = "";
e.Malaysia = "RM";
e.Indonesia = "Rp";
e.IndonesiaK = "Rp(k)";
e.Vietnam = "";
e.VietnamK = "(k)";
e.Brazil = "R$";
})(o.GameCountryCurrencyType || (o.GameCountryCurrencyType = {}));
(function(e) {
e[e.Thailand = 1] = "Thailand";
e[e.Philippines = 1] = "Philippines";
e[e.India = 1] = "India";
e[e.Malaysia = 1] = "Malaysia";
e[e.Indonesia = 1e3] = "Indonesia";
e[e.Vietnam = 1e3] = "Vietnam";
e[e.Brazil = 1] = "Brazil";
})(o.CurrencyCountryUnit || (o.CurrencyCountryUnit = {}));
(function(e) {
e.Thailand = "th";
e.Philippines = "php";
e.India = "in";
e.Malaysia = "my";
e.Indonesia = "id";
e.Vietnam = "vt";
e.Brazil = "br";
})(o.GameCountryEnum || (o.GameCountryEnum = {}));
(function(e) {
e[e.Thailand = 1] = "Thailand";
e[e.Philippines = 2] = "Philippines";
e[e.India = 3] = "India";
e[e.Malaysia = 4] = "Malaysia";
e[e.Indonesia = 5] = "Indonesia";
e[e.Vietnam = 6] = "Vietnam";
e[e.Brazil = 7] = "Brazil";
})(n = o.GameCountryID || (o.GameCountryID = {}));
(function(e) {
e.Thailand = "betmbet";
e.Philippines = "betmbet";
e.India = "happyinworld";
e.Malaysia = "winringgit";
e.Indonesia = "happyidn";
e.Vietnam = "happyidn";
e.Brazil = "winbrls";
})(o.GameSchemesEnum || (o.GameSchemesEnum = {}));
var l = function() {
function e() {}
e.init = function() {
cc.sys.os == cc.sys.OS_IOS ? this.systemType = 1 : cc.sys.os == cc.sys.OS_ANDROID ? this.systemType = 0 : this.systemType = 2;
r.default.isStandalone() ? this.stl = 1 : this.stl = 0;
};
e.gameid = 1;
e.appid = 651;
e.ver = 173;
e.appVersion = "1.0.6";
e.hotVersion = "1.0.6";
e.isPad = !1;
e.hver = 1;
e.version = 1;
e.devId = "TestDeviceID";
e.devInfo = "";
e.localLanguage = "cn";
e.fbToken = "";
e.fbUid = "";
e.fbAuthState = 3;
e.phoneNumber = "";
e.phonePassword = "";
e.currPlatType = 0;
e.pushToken = "";
e.systemType = 1;
e.isInstallFacebook = !1;
e.isInstallMessenger = !1;
e.appleToken = "";
e.applePid = "";
e.appleLoginState = !1;
e.messengerLink = "";
e.facebookLink = "";
e.currScene = a.SceneIndex.launch;
e.lastScene = a.SceneIndex.launch;
e.networkEnvironment = "Network Disconnected";
e.webPid = "";
e.webToken = "";
e.webUid = 0;
e.isWebGameType = !1;
e.isMute = 0;
e.allBanks = [];
e.isShowRegGuide = !1;
e.clipboardStr = "";
e.sourceLanguage = "en";
e.timeZone = "";
e.localTime = "";
e.systemVersion = "";
e.deeplink = "none";
e.ereaCode = "66";
e.phoneStart = "";
e.originMoneyUnit = "";
e.gameMoneyUnit = "";
e.country = "php";
e.countryID = n.Philippines;
e.countryCurrencyUnit = 1;
e.isEmulator = 0;
e.simCardLocation = "";
e.isPhoneLogined = 0;
e.scheme = "happyidn";
e.webParamData = {};
e.chipMulti = 100;
e.pointMulti = 100;
e.stl = 0;
e.launchAttrs = "none";
e.installSource = "none";
e.gameHotBundle = null;
return i([ c ], e);
}();
o.default = l;
cc._RF.pop();
}, {
"../../manager/GameSceneMgr": "GameSceneMgr",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil"
} ],
GameInitLogic: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9dd8fXEg0VHJp1nPBCd7ap9", "GameInitLogic");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("../communication/GameLobbyHttp"), a = e("../data/conf/GameInfo"), r = e("../manager/DlgGameMgr"), s = e("../public/MyComponent/GameEvent"), c = e("../public/MyComponent/GameHppayUtil"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function() {
function e() {
this.param = null;
this.scheduler = null;
this.isComplete = !1;
}
t = e;
e.prototype.getInitPhp = function() {
this.getNewInitPhp();
};
e.prototype.getNewInitPhp = function() {
console.log("phpInit get new initphp ");
this.isComplete = !1;
this.scheduler = cc.director.getScheduler();
this.scheduler.enableForTarget(this);
this.scheduler.unscheduleAllForTarget(this);
this.param = {};
this.param.timezone = a.default.timeZone;
this.param.time = a.default.localTime;
this.param.lan = a.default.sourceLanguage;
this.getInitPhpA();
};
e.prototype.getInitPhpA = function() {
console.log("phpInit get new getInitPhpA ");
var e = this, o = new Date().getTime(), i = t.phpInitA.replace("APPID", a.default.appid + "").replace("APPVER", a.default.ver + "").replace("TIME", o + "");
this.scheduler.schedule(this.onInitATimeOut, this, t.timeoutA, 0, 0, !1);
n.default.getInstance().httpGetWithFullUrl(i, this.param, function(t) {
e.onGetPhpInitCallBack(t);
});
};
e.prototype.getInitPhpB = function() {
console.log("phpInit get new getInitPhpB ");
var e = this, o = new Date().getTime(), i = t.phpInitB.replace("APPID", a.default.appid + "").replace("APPVER", a.default.ver + "").replace("TIME", o + "");
this.scheduler.schedule(this.onInitBTimeOut, this, t.timeoutB, 0, 0, !1);
n.default.getInstance().httpGetWithFullUrl(i, this.param, function(t) {
e.onGetPhpInitCallBack(t);
});
};
e.prototype.getInitPhpC = function() {
console.log("phpInit get new getInitPhpC ");
var e = this, o = new Date().getTime(), i = t.phpInitC.replace("APPID", a.default.appid + "").replace("APPVER", a.default.ver + "").replace("TIME", o + "");
this.scheduler.schedule(this.onInitCTimeOut, this, t.timeoutC, 0, 0, !1);
n.default.getInstance().httpGetWithFullUrl(i, this.param, function(t) {
e.onGetPhpInitCallBack(t);
});
};
e.prototype.onInitATimeOut = function() {
console.log("phpInit get new onInitATimeOut ", this.isComplete);
0 == this.isComplete && this.getInitPhpB();
this.scheduler.unschedule(this.onInitATimeOut, this);
};
e.prototype.onInitBTimeOut = function() {
console.log("phpInit get new onInitBTimeOut ", this.isComplete);
0 == this.isComplete && this.getInitPhpC();
this.scheduler.unschedule(this.onInitBTimeOut, this);
};
e.prototype.onInitCTimeOut = function() {
console.log("phpInit get new onInitCTimeOut ", this.isComplete);
if (0 == this.isComplete) {
this.isComplete = !0;
var e = c.default.readData(t.initPhpKey);
console.log("phpInit = ", e);
null != e && e.startsWith("http") ? s.GameEvent.ins().emit("ON_INIT_PHP", e) : s.GameEvent.ins().emit("ON_INIT_PHP", "null");
}
this.scheduler.unschedule(this.onInitCTimeOut, this);
};
e.prototype.onGetPhpInitCallBack = function(e) {
if (0 == this.isComplete) {
this.isComplete = !0;
console.log("phpdata = ", e);
if (0 == e.errorCode) {
var o = (d = e.data).pingUrl, i = d.hotUpdateUrl || "undefined", n = d.country || "undefined", a = d.lan || "undefined";
if (c.default.isValidLanguage(n, a)) {
var l = c.default.readData(t.initLan);
0 == c.default.isValidLanguage(n, l) && c.default.saveData(t.initLan, a);
}
c.default.saveData(t.initPhpKey, o);
c.default.saveData(t.initCountry, n);
c.default.saveData(t.initHotUrl, i);
s.GameEvent.ins().emit("ON_INIT_PHP", o);
} else if (16888 == e.errorCode) {
(d = e.data).force = 1;
r.default.inst.showDlg(r.DlgType.appUpdate, d);
} else if (15888 == e.errorCode) {
var d = e.data;
r.default.inst.showConfirmDlg(d.message, 1, null, null, function() {
cc.game.end();
}, null, null, function() {
cc.game.end();
});
} else {
d = e.data;
r.default.inst.showConfirmDlg(d.message, 1, null, null, function() {
cc.game.end();
}, null, null, function() {
cc.game.end();
});
}
}
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e.phpInitA = "https://storage.googleapis.com/aagalaxy/update/APPID/APPVER/init.json?t=TIME";
e.phpInitB = "http://aagalaxy.s3-website-ap-southeast-1.amazonaws.com/update/APPID/APPVER/init.json?t=TIME";
e.phpInitC = "https://php.aagalaxy.com/update/APPID/APPVER/init.json?t=TIME";
e.timeoutA = 1;
e.timeoutB = 1;
e.timeoutC = 3;
e.initPhpKey = "INIT_PHP";
e.initCountry = "INIT_COUNTRY";
e.initHotUrl = "HOT_URL";
e.initLan = "localLan";
e._inst = null;
return t = i([ d ], e);
}());
o.default = h;
cc._RF.pop();
}, {
"../communication/GameLobbyHttp": "GameLobbyHttp",
"../data/conf/GameInfo": "GameInfo",
"../manager/DlgGameMgr": "DlgGameMgr",
"../public/MyComponent/GameEvent": "GameEvent",
"../public/MyComponent/GameHppayUtil": "GameHppayUtil"
} ],
GameInsurance: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f56d67Vs3FHyLkFKWcef6lG", "GameInsurance");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.BJOperationInsuranceButtonID = void 0;
var r, s = e("../../PublicTools/GameEvents"), c = e("../../EXUIFrame/EXSoundMgr"), l = e("../../GameCommon/NVSGameUtil");
(function(e) {
e[e.yes = 0] = "yes";
e[e.no = 1] = "no";
})(r = o.BJOperationInsuranceButtonID || (o.BJOperationInsuranceButtonID = {}));
var d = cc._decorator, h = d.ccclass, u = (d.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.insuranceYesBtn = null;
t.insuranceNoBtn = null;
t.labelNo = null;
t.labelYes = null;
t.labelMoney = null;
return t;
}
t.prototype.onLoad = function() {
this.insuranceYesBtn = this.node.getChildByName("insuranceYes");
this.insuranceYesBtn.on("click", this.onInsuranceYes, this);
this.insuranceNoBtn = this.node.getChildByName("insuranceNo");
this.insuranceNoBtn.on("click", this.onInsuranceNo, this);
this.labelNo = this.insuranceNoBtn.getChildByName("Background").getChildByName("Label").getComponent(cc.Label);
this.labelYes = this.insuranceYesBtn.getChildByName("Background").getChildByName("labelYes").getComponent(cc.Label);
this.labelMoney = this.insuranceYesBtn.getChildByName("Background").getChildByName("labelMoney").getComponent(cc.Label);
this.node.active = !1;
};
t.prototype.init = function() {};
t.prototype.setOperationInsuranceButtonEnabled = function(e, t) {
e == r.yes ? this.insuranceYesBtn.getComponent(cc.Button).interactable = t : e == r.no && (this.insuranceNoBtn.getComponent(cc.Button).interactable = t);
};
t.prototype.sleep = function() {
this.insuranceYesBtn.getComponent(cc.Button).interactable = !1;
this.insuranceNoBtn.getComponent(cc.Button).interactable = !1;
};
t.prototype.active = function() {
this.insuranceYesBtn.getComponent(cc.Button).interactable = !0;
this.insuranceNoBtn.getComponent(cc.Button).interactable = !0;
};
t.prototype.setInsuranceMoney = function(e) {
this.labelMoney.string = l.default.formatMoneyShorter(e) + "";
var t = this.labelYes;
t._forceUpdateRenderData(!0);
var o = this.labelMoney;
o._forceUpdateRenderData(!0);
var i = t.node.width + 15 + o.node.width;
this.labelYes.node.x = -i / 2 + t.node.width / 2;
this.labelMoney.node.x = this.labelYes.node.x + this.labelYes.node.width / 2 + o.node.width / 2 + 15;
};
t.prototype.onInsuranceYes = function() {
c.default.inst.playEffect("new_res_btnSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
s.MyEvent.getInstance().emit("BJ_EVENT_INSURANCE_YES");
};
t.prototype.onInsuranceNo = function() {
c.default.inst.playEffect("new_res_btnSound");
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
s.MyEvent.getInstance().emit("BJ_EVENT_INSURANCE_NO");
};
t.prototype.start = function() {};
return a([ h ], t);
}(cc.Component));
o.default = u;
cc._RF.pop();
}, {
"../../EXUIFrame/EXSoundMgr": "EXSoundMgr",
"../../GameCommon/NVSGameUtil": "NVSGameUtil",
"../../PublicTools/GameEvents": "GameEvents"
} ],
GameInviteHead: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3814fherNNJdKdPHWWbdthq", "GameInviteHead");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../UIFrame/UIBase"), s = e("../../Util/GameUtil"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._imageHead = null;
t._labelInviteNum = null;
t._vipFrame = null;
return t;
}
t.prototype.onLoad = function() {
this._imageHead = this.node.getChildByName("head").getComponent(cc.Sprite);
this._vipFrame = this.node.getChildByName("vip");
this._labelInviteNum = this.node.getChildByName("labelInviteNum").getComponent(cc.Label);
};
t.prototype.start = function() {};
t.prototype.updateInviteInfo = function(e) {
this._labelInviteNum.string = "" + e.length;
var t = e[e.length - 1];
s.default.playerHead(this._imageHead, t.fromUid, "", !0);
s.default.setVipExp(this._vipFrame, t.vipExp);
};
return a([ l ], t);
}(r.default));
o.default = d;
cc._RF.pop();
}, {
"../../UIFrame/UIBase": "UIBase",
"../../Util/GameUtil": "GameUtil"
} ],
GameInviteListDialog: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e6d3aKmXWJCH7hNmAP5+3KT", "GameInviteListDialog");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../Components/DialogBase"), s = e("../../UIFrame/List"), c = e("../../Data/InviteData"), l = e("./GameInviteListItem"), d = e("../../Data/LanguageData"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._friendApplyList = null;
t._friendApplyListAssistant = null;
t._friendApplyListData = null;
return t;
}
t.prototype.onLoad = function() {
this.node.getChildByName("btnClose").on("click", this.onClose, this);
this._friendApplyList = this.node.getChildByName("scrollViewFriendApplyList");
this._friendApplyListAssistant = this._friendApplyList.getComponent(s.default);
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = d.default.ins.STRING_COMMON("invite");
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.register("GameInvite", [ "REMOVE_INVITE_LIST_INDEX" ]);
this._friendApplyListData = c.default.getInstance().inviteData;
this._friendApplyListAssistant.numItems = this._friendApplyListData.length;
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "REMOVE_INVITE_LIST_INDEX":
this.removeList(t);
}
};
t.prototype.onListRender = function(e, t) {
e.getComponent(l.default).refresh(this._friendApplyListData[t], t);
};
t.prototype.removeList = function(e) {
for (var t = e, o = this._friendApplyListData, i = [], n = 0; n < o.length; n++) n != t && i.push(o[n]);
this._friendApplyListData = i;
this._friendApplyListAssistant.numItems = i.length;
};
return a([ u ], t);
}(r.default));
o.default = p;
cc._RF.pop();
}, {
"../../Components/DialogBase": "DialogBase",
"../../Data/InviteData": "InviteData",
"../../Data/LanguageData": "LanguageData",
"../../UIFrame/List": "List",
"./GameInviteListItem": "GameInviteListItem"
} ],
GameInviteListItem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b66663nLs9Hg6mWYYYhWiV0", "GameInviteListItem");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../Components/MyEvent"), s = e("../../Data/GameData"), c = e("../../Data/InviteData"), l = e("../../Data/LanguageData"), d = e("../../Data/RoomData"), h = e("../../Manager/DialogManager"), u = e("../../Socket/WebSocketManager"), p = e("../../Util/GameUtil"), f = cc._decorator, m = f.ccclass, g = (f.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._imagePhoto = null;
t._country = null;
t._labelCoins = null;
t._labelNickName = null;
t._labelPlatform = null;
t._labelFromUser = null;
t._data = null;
t._index = 0;
return t;
}
t.prototype.onLoad = function() {
this._imagePhoto = this.node.getChildByName("headBg").getChildByName("head").getComponent(cc.Sprite);
this._country = this.node.getChildByName("country");
this._labelCoins = this.node.getChildByName("labelCoins").getComponent(cc.Label);
this._labelNickName = this.node.getChildByName("labelName");
this._labelPlatform = this.node.getChildByName("labelPlatform");
this._labelFromUser = this.node.getChildByName("labelFrom");
this.node.getChildByName("btnOK").on("click", this._onAgree, this);
this.node.getChildByName("btnCancel").on("click", this._onDisagree, this);
this._labelFromUser.getComponent(cc.Label).string = l.default.ins.STRING_ROOM("fromUser");
this.node.getChildByName("btnOK").getChildByName("Label").getComponent(cc.Label).string = l.default.ins.STRING_COMMON("agree");
this.node.getChildByName("btnCancel").getChildByName("Label").getComponent(cc.Label).string = l.default.ins.STRING_COMMON("deny");
};
t.prototype.refresh = function(e, t) {
this._data = e;
this._index = t;
this._labelCoins.string = e.gold;
this._labelNickName.getComponent(cc.Label).string = e.nickName;
"" != this._data.platform ? this._labelPlatform.getComponent(cc.Label).string = "(" + this._data.platform + ") " : this._labelPlatform.getComponent(cc.Label).string = this._data.platform + " ";
1 == this._data.isFriend ? this._labelFromUser.getComponent(cc.Label).string = l.default.ins.STRING_ROOM("fromFriend") : this._labelFromUser.getComponent(cc.Label).string = l.default.ins.STRING_ROOM("fromUser");
this._labelNickName.getComponent(cc.Label)._forceUpdateRenderData(!0);
this._labelPlatform.getComponent(cc.Label)._forceUpdateRenderData(!0);
this._labelFromUser.getComponent(cc.Label)._forceUpdateRenderData(!0);
this._labelPlatform.x = this._labelNickName.x + this._labelNickName.width;
this._labelFromUser.x = this._labelPlatform.x + this._labelPlatform.width;
p.default.playerHead(this._imagePhoto, this._data.fromUid);
p.default.setCountry(this._country, this._data.country);
p.default.setVipExp(this.node.getChildByName("headBg").getChildByName("vip"), this._data.vipExp);
p.default.setVipNameColor(this._labelNickName, this._data.vipExp, new cc.Color(149, 186, 244));
};
t.prototype._onAgree = function() {
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
r.MyEvent.getInstance().emit("REMOVE_INVITE_LIST_INDEX", this._index);
c.default.getInstance().delete(this._data.fromUid);
r.MyEvent.getInstance().emit("UPDATE_ROOM_INVITE");
s.default.hallData.switchRooms = {
gameType: this._data.gameType,
goldType: this._data.type,
roomId: this._data.roomId,
autoSeat: 1,
roomType: 0
};
for (var e = d.default.getInstance().myBetRegion, t = !1, o = 0; o < e.length; o++) e[o] > 0 && (t = !0);
if (t) {
d.default.getInstance().needSwitchRoom = !0;
p.default.alert(l.default.ins.STRING_ROOM("switchRoomDesc") + " " + c.default.getInstance().roomTypeHead(this._data.type) + this._data.roomId);
} else u.default.getInstance().socketSend.loaveRoom();
};
t.prototype._onDisagree = function() {
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
r.MyEvent.getInstance().emit("REMOVE_INVITE_LIST_INDEX", this._index);
c.default.getInstance().delete(this._data.fromUid);
h.default.inst.showDialog(h.DialogIndex.denyInviteDialog, this._data);
};
return a([ m ], t);
}(cc.Component));
o.default = g;
cc._RF.pop();
}, {
"../../Components/MyEvent": "MyEvent",
"../../Data/GameData": "GameData",
"../../Data/InviteData": "InviteData",
"../../Data/LanguageData": "LanguageData",
"../../Data/RoomData": "RoomData",
"../../Manager/DialogManager": "DialogManager",
"../../Socket/WebSocketManager": "WebSocketManager",
"../../Util/GameUtil": "GameUtil"
} ],
GameLangData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d69fbIP+o1Nm6e9cIVVOoCJ", "GameLangData");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.AppLan = void 0;
var a = e("../public/MyComponent/GameEvent"), r = e("./conf/GameInfo"), s = e("./conf/GameRes"), c = e("../public/ThirdParty/CocosPublic"), l = e("../public/MyComponent/GameHppayUtil"), d = e("../manager/SpriteFramePreLoader");
(function(e) {
e.th = "th";
e.en = "en";
e.my = "my";
e.id = "id";
e.vn = "vn";
e.pt = "pt";
e.cn = "cn";
})(o.AppLan || (o.AppLan = {}));
var h = function() {
function e() {}
e.prototype.initDefaultLan = function(e, t) {
return i(this, void 0, void 0, function() {
var o, i = this;
return n(this, function(n) {
switch (n.label) {
case 0:
o = "file/string_" + r.default.country + "_" + r.default.localLanguage + ".json";
console.log("load strings ", o);
return [ 4, c.default.loadResSync(o, cc.JsonAsset).then(function(n) {
console.log("load strings success ", o);
i._languageList = n.json;
i._classification();
s.default.init();
d.default.inst.start();
a.GameEvent.ins().emit("ON_INIT_LANGUAGE_START");
if (e) {
a.GameEvent.ins().emit("CHANGE_LANGUAGE_EVENT");
t && t();
}
}) ];

case 1:
n.sent();
return [ 2 ];
}
});
});
};
e.prototype.initLanguageData = function(e, t) {
return i(this, void 0, void 0, function() {
var o, i = this;
return n(this, function(n) {
switch (n.label) {
case 0:
o = "file/string_" + r.default.country + "_" + r.default.localLanguage + ".json";
console.log("load strings ", o);
return [ 4, c.default.loadResSync(o, cc.JsonAsset).then(function(n) {
console.log("load strings success ", o);
i._languageList = n.json;
i._classification();
s.default.init();
d.default.inst.start();
a.GameEvent.ins().emit("ON_INIT_LANGUAGE");
if (e) {
a.GameEvent.ins().emit("CHANGE_LANGUAGE_EVENT");
t && t();
}
}) ];

case 1:
n.sent();
return [ 2 ];
}
});
});
};
e.prototype.switchLan = function(e) {
if (r.default.localLanguage != e) {
r.default.localLanguage = e;
l.default.saveData("localLan", e);
this.initLanguageData(!0);
}
};
e.prototype._classification = function() {
var e = this;
this._hallList = {};
this._roomList = {};
this._dialogList = {};
this._commonList = {};
this._loginList = {};
this._loadingList = {};
this._blackjackList = {};
this._languageList.forEach(function(t) {
"hall" == t.type ? e._hallList = t.desc : "room" == t.type ? e._roomList = t.desc : "dialog" == t.type ? e._dialogList = t.desc : "common" == t.type ? e._commonList = t.desc : "login" == t.type ? e._loginList = t.desc : "loading" == t.type ? e._loadingList = t.desc : "alert" == t.type ? e._alertList = t.desc : "blackjack" == t.type ? e._blackjackList = t.desc : "newHall" == t.type && (e._newhall = t.desc);
});
};
e.prototype.GET_HALL_LANG = function(e) {
var t = this._hallList[e];
return t && "" != t ? t : "hall#" + e;
};
e.prototype.GET_ROOM_LANG = function(e) {
var t = this._roomList[e];
return t && "" != t ? t : "room#" + e;
};
e.prototype.GET_NEWHALL_LANG = function(e) {
var t = this._newhall[e];
return t && "" != t ? t : "newHall#" + e;
};
e.prototype.GET_DIALOG_LANG = function(e) {
var t = this._dialogList[e];
return t && "" != t ? t : "dialog#" + e;
};
e.prototype.STRING_COMMON = function(e) {
var t = this._commonList[e];
return t && "" != t ? t : "common#" + e;
};
e.prototype.GET_LOGIN_LANG = function(e) {
var t = this._loginList[e];
return t && "" != t ? t : "login#" + e;
};
e.prototype.GET_LOADING_LANG = function(e) {
var t = this._loadingList[e];
return t && "" != t ? t : "loading#" + e;
};
e.prototype.GET_ALERT_LANG = function(e) {
var t = this._alertList[e];
return t && "" != t ? t : "alert#" + e;
};
e.prototype.GET_BLACKJACK_LANG = function(e) {
var t = this._blackjackList[e];
return t && "" != t ? t : "blackjack#" + e;
};
e.prototype.getCountryLanguage = function() {
return r.default.localLanguage;
};
Object.defineProperty(e, "ins", {
get: function() {
this.instance || (this.instance = new e());
return this.instance;
},
enumerable: !1,
configurable: !0
});
return e;
}();
o.default = h;
cc._RF.pop();
}, {
"../manager/SpriteFramePreLoader": "SpriteFramePreLoader",
"../public/MyComponent/GameEvent": "GameEvent",
"../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../public/ThirdParty/CocosPublic": "CocosPublic",
"./conf/GameInfo": "GameInfo",
"./conf/GameRes": "GameRes"
} ],
GameLayerManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "59deb8ptCxBQqvXnSmbzPR4", "GameLayerManager");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../GameCommon/NVSGameUtil"), l = e("../PublicTools/GameEvents"), d = cc._decorator, h = d.ccclass, u = d.property, p = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.cardPrefab = null;
t.excessivePrefab = null;
t.cardLoadingComplete = !1;
return t;
}
o = t;
t.ins = function() {
null == this.instance && (this.instance = new o());
return this.instance;
};
Object.defineProperty(t.prototype, "ins", {
get: function() {
return o.instance;
},
enumerable: !1,
configurable: !0
});
t.prototype.getPhoneInfo = function() {
var e = function() {
l.MyEvent.getInstance().emit("UPDATE_PHONE_INFO_EVENT");
};
e();
this.schedule(e, 30);
};
t.prototype.showHallOrRoomExcessive = function(e) {
return r(this, void 0, void 0, function() {
return s(this, function() {
this.excessiveNode = cc.find("tipsLayer/excessiveNode1");
if (!c.default.isnull(this.excessiveNode)) {
e();
return [ 2 ];
}
this.excessiveNode.active = !0;
this.excessiveNode.opacity = 0;
this._loading = this.excessiveNode.getChildByName("loading");
this._loading.active = !1;
cc.tween(this.excessiveNode).to(.2, {
opacity: 255
}).call(function() {}, this).delay(.5).call(function() {
e();
}, this).start();
return [ 2 ];
});
});
};
t.prototype.hideHallOrRoomExcessive = function(e) {
return r(this, void 0, void 0, function() {
var t, o = this;
return s(this, function() {
this.excessiveNode = cc.find("tipsLayer/excessiveNode1");
if (!c.default.isnull(this.excessiveNode) || !this.excessiveNode.active) return [ 2 ];
this.excessiveNode.active = !0;
this._loading = this.excessiveNode.getChildByName("loading");
this._loading.active = !1;
t = 1;
e && (t = e);
cc.tween(this.excessiveNode).delay(t).call(function() {}, this).to(.2, {
opacity: 0
}).call(function() {
o.excessiveNode.active = !1;
}, this).start();
return [ 2 ];
});
});
};
t.prototype.setIpadTipsLayer = function() {
console.log("Ipad");
var e = cc.find("tipsLayer");
e.x = cc.winSize.width / 2;
e.y = cc.winSize.height / 2;
cc.find("tipsLayer/adaptationNode").active = !1;
};
t.prototype.btnClickEvent = function() {};
var o;
a([ u(cc.Prefab) ], t.prototype, "cardPrefab", void 0);
a([ u(cc.Prefab) ], t.prototype, "excessivePrefab", void 0);
return o = a([ h ], t);
}(cc.Component);
o.default = p;
cc._RF.pop();
}, {
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../PublicTools/GameEvents": "GameEvents"
} ],
GameLobbyHttp: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ce8d3SvNqlAZYaAhZAHIYJr", "GameLobbyHttp");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../data/GameLangData"), r = e("../data/MyData"), s = e("../data/conf/GameInfo"), c = e("../dialog/proxy/GameConfirmDlg"), l = e("../manager/DlgGameMgr"), d = e("../manager/GameSceneMgr"), h = e("../public/MyComponent/GameEvent"), u = e("../public/MyComponent/GameHppayUtil"), p = e("../public/ThirdParty/UIGameMgr"), f = e("./happyGameHttp"), m = e("../public/ThirdParty/ccmd5"), g = e("../natives/AndroidPayment"), y = e("../dialog/proxy/bank/PlayerWithdraw"), _ = e("../manager/PlatformInterface"), C = function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.getInstance = function() {
null == this.mInstance && (this.mInstance = new t());
return this.mInstance;
};
t.prototype.updateAwatar = function(e) {
var o = {};
o.aid = e;
t.getInstance().httpPost("avatar", o, function(e) {
if (0 == e.error_code) {
var t = e.data;
r.default.UserData.headID = t.aid;
h.GameEvent.ins().emit("UPDATE_HEAD_PHOTO");
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("updateAwatar failed", e.error_code);
u.default.alert(e.message);
}
});
};
t.prototype.enterGame = function(e) {
var o = {};
o.deviceInfo = s.default.devInfo;
o.emulator = s.default.isEmulator;
console.log("enterHomeStart", new Date().getTime());
t.getInstance().httpPost("", o, function(t) {
var o = this;
console.log("enter game error code = ", t.error_code);
if (0 == t.error_code) {
console.log("enterHomeEnd", new Date().getTime());
var i = t.data;
this.handleHomeData(i);
e();
} else if (15e3 == t.error_code) {
var n = new c.ConfirmData();
n.desc = a.default.ins.GET_ALERT_LANG("accountInvalid");
n.oneBtn = !0;
n.cancelCallback = function() {
d.default.enterLogin();
};
n.cancelCallback = function() {
d.default.enterLogin();
};
p.default.inst().openUIForm(l.DlgType.confirm, [ n ]);
} else if (16888 == t.error_code) if (cc.sys.isBrowser && 0 == u.default.isLocalTest()) {
i = t.data;
this.handleHomeData(i);
e();
} else {
(i = t.data).force = 1;
l.default.inst.showDlg(l.DlgType.appUpdate, i);
} else if (16666 == t.error_code) if (cc.sys.isBrowser && 0 == u.default.isLocalTest()) {
i = t.data;
this.handleHomeData(i);
e();
} else {
(i = t.data).force = 0;
i.callback = function() {
var i = t.data;
o.handleHomeData(i);
e();
};
l.default.inst.showDlg(l.DlgType.appUpdate, i);
} else if (15888 == t.error_code) l.default.inst.showConfirmDlg(t.message, 1, null, null, function() {
cc.game.end();
}, null, null, function() {
cc.game.end();
}); else if (66666 == t.error_code) console.log("66666"); else {
console.log("enterGame", t.message);
h.GameEvent.ins().emit("ON_LOGIN_FAILED", t.message);
}
}.bind(this));
};
t.prototype.getCustomerInfo = function() {
t.getInstance().httpPost("logs-feedback", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
h.GameEvent.ins().emit("ON_GET_CUSTOMER_INFO", t);
} else 66666 == e.error_code ? console.log("66666") : console.log("getCustomerInfo failed");
});
};
t.prototype.httpGetWithFullUrl = function(e, t, o) {
var i = {};
i.gameid = s.default.gameid;
i.appid = s.default.appid;
i.ver = s.default.ver;
i.hver = s.default.hver;
i.devId = s.default.devId;
i.locale = s.default.localLanguage;
(i = Object.assign(i, t)).lan = s.default.sourceLanguage;
for (var n = Object.keys(i), a = "", r = 0; r < n.length; r++) {
var c = n[r], l = i[c];
r >= n.length - 1 ? a += c + "=" + l : a += c + "=" + l + "&";
}
var d = e + "?" + a;
console.log("url get = ", d);
var h = cc.loader.getXMLHttpRequest();
h.onreadystatechange = function() {
console.log("Get: readyState:" + h.readyState + " status:" + h.status);
console.log("xhr = ", h);
if (4 === h.readyState && 200 == h.status) {
var e = h.responseText, t = JSON.parse(e);
o(t);
} else 4 === h.readyState && 401 == h.status && o({
ret: 1
});
};
h.open("GET", d, !0);
h.setRequestHeader("Content-Type", "application/json");
h.timeout = 8e3;
h.send();
};
t.prototype.httpPostWithFullUrl = function(e, t, o, i) {
var n = cc.loader.getXMLHttpRequest();
n.onreadystatechange = function() {
if (4 === n.readyState && 200 == n.status) {
var t = n.responseText, a = JSON.parse(t);
o(a);
console.log("httpPostWithFullUrl success", e);
} else if (4 === n.readyState && 400 == n.status) {
t = n.responseText, a = JSON.parse(t);
i && i(a);
console.log("httpPostWithFullUrl fail xhr.readyState == 4 && xhr.status == 400", e);
} else console.log("httpPostWithFullUrl error info", n, n.status, e);
};
var a = {};
a.gameid = s.default.gameid;
a.appid = s.default.appid;
a.ver = s.default.ver;
a.hver = s.default.hver;
a.devId = s.default.devId;
a.locale = s.default.localLanguage;
a.lan = s.default.sourceLanguage;
null != r.default.UserData.ukey && (a.ukey = r.default.UserData.ukey);
null != r.default.UserData.userId && (a.uid = r.default.UserData.userId);
a = Object.assign(a, t);
var c = Object.keys(a);
c.sort();
for (var l = "", d = 0; d < c.length; d++) {
var h = a[f = c[d]];
d >= c.length - 1 ? l += f + "=" + h : l += f + "=" + h + "&";
}
l += "7b3ba41e71352703";
console.log("param5 = ", l);
a.sign = m.md5(l);
console.log("signparam5 = ", a.sign);
var u = e;
n.open("POST", u, !0);
n.setRequestHeader("Content-Type", "application/json");
n.timeout = 8e3;
this.encodeFormDatatt(a);
n.send(JSON.stringify(a));
var p = "";
for (var f in a) p += f + "=" + a[f] + "&";
console.log("PHP", u + "?" + p);
n.ontimeout = function() {
console.log("");
};
n.onerror = function() {
console.log("");
};
};
t.prototype.getProductInfo = function(e) {
e.forEach(function(e) {
g.default.inst.buyCommodity(e);
});
};
t.prototype.getNoWithdrawList = function() {
t.getInstance().httpPost("no-withdraw", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
h.GameEvent.ins().emit("ON_GET_NO_WITHDRAW_LIST", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getNoWithdrawList failed", e.error_code);
u.default.alert(e.message);
}
});
};
t.prototype.getTradeHistory = function(e) {
var o = {};
null != e && (o.source = e);
t.getInstance().httpPost("pw-logs", o, function(e) {
if (0 == e.error_code) {
var t = e.data;
h.GameEvent.ins().emit("ON_GET_TRADE_HISTORY", t);
} else if (66666 == e.error_code) {
console.log("66666");
h.GameEvent.ins().emit("ON_GET_TRADE_HISTORY", []);
} else {
console.log("getTradeHistory failed", e.error_code);
u.default.alert(e.message);
}
});
};
t.prototype.checkPay = function() {
t.getInstance().httpPost("pay-check", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
h.GameEvent.ins().emit("ON_CHECK_PAY", t);
} else if (66666 == e.error_code) console.log("66666"); else {
u.default.alert(e.message);
console.log("charge failed", e.error_code);
}
});
};
t.prototype.charge = function(e, o, i, n, a) {
_.default.trackAddToCart(e);
var r = {};
r.amount = e;
r.product = o;
r.ptype = i;
r.proid = n;
a && (r.bank = a);
t.getInstance().httpPost("pay", r, function(e) {
if (0 == e.error_code) {
var t = e.data;
h.GameEvent.ins().emit("ON_CHARGE", t);
} else if (66666 == e.error_code) console.log("66666"); else {
u.default.alert(e.message);
console.log("charge failed", e.error_code);
}
});
};
t.prototype.withdraw = function(e, o) {
var i = {};
i.amount = o;
i.bank_type = e;
t.getInstance().httpPost("withdraw", i, function(e) {
if (0 == e.error_code) {
var t = e.data;
console.log("data = ", t);
h.GameEvent.ins().emit("ON_WITHDRAW", t);
} else if (66666 == e.error_code) console.log("66666"); else {
u.default.alert(e.message);
console.log("withdraw failed", e.error_code);
}
});
};
t.prototype.getBankInfo = function() {
t.getInstance().httpPost("p-withdraw", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
h.GameEvent.ins().emit("ON_GET_BANK_INFO", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getBankInfo failed", e.error_code);
u.default.alert(e.message);
}
});
};
t.prototype.getAllBanks = function() {
t.getInstance().httpPost("banks", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.default.allBanks = t;
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getAllBanks failed", e.error_code);
u.default.alert(e.message);
}
});
};
t.prototype.updateBankInfo = function(e) {
console.log("bind data ", e);
t.getInstance().httpPost("edit-bank-card", e, function(e) {
if (0 == e.error_code) {
var t = e.data;
console.log("bind success ", t);
t.bank_code == y.WithdrawCode.upi || t.bank_code == y.WithdrawCode.gcash || t.bank_code == y.WithdrawCode.pix ? r.default.UserData.gCashBinding = 1 : r.default.UserData.bankBinding = 1;
h.GameEvent.ins().emit("ON_UPDATE_BANK_INFO", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("updateBankInfo failed", e.error_code);
u.default.alert(e.message);
}
});
};
t.prototype.getInviteInfo = function() {
t.getInstance().httpPost("invite", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
h.GameEvent.ins().emit("ON_GET_AGENT_INFO", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getInviteInfo failed", e.error_code);
u.default.alert(e.message);
}
});
};
t.prototype.getInviteList = function(e) {
var o = {};
o.page = e;
t.getInstance().httpPost("invite-users", o, function(e) {
if (0 == e.error_code) {
var t = e.data;
h.GameEvent.ins().emit("ON_GET_INVITE_LIST", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getInviteList failed", e.error_code);
u.default.alert(e.message);
}
});
};
t.prototype.getRebateList = function() {
var e = {};
e.daytime = new Date().getTime();
t.getInstance().httpPost("rebate", e, function(e) {
if (0 == e.error_code) {
var t = e.data;
h.GameEvent.ins().emit("ON_GET_REBATE_LIST", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getRebateList failed", e.error_code);
u.default.alert(e.message);
}
});
};
t.prototype.getRebateReward = function(e) {
var o = {};
o.daytime = e;
console.log("daytime = ", e);
t.getInstance().httpPost("rebate-reward", o, function(e) {
if (0 == e.error_code) {
var t = e.data;
h.GameEvent.ins().emit("ON_GET_REBATE_REWARD", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getRebateReward failed", e.error_code);
u.default.alert(e.message);
}
});
};
t.prototype.syncWebGame = function(e, o) {
var i = {};
i.wtype = e;
i.wid = o;
t.getInstance().httpPost("syncByWebGame", i, function() {});
};
t.prototype.shareInit = function() {
t.getInstance().httpPost("share-init", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
h.GameEvent.ins().emit("ON_SHARE_INIT", t);
} else if (66666 == e.error_code) {
console.log("66666");
h.GameEvent.ins().emit("ON_666");
} else {
console.log("shareInit failed", e.error_code);
u.default.alert(e.message);
}
});
};
t.prototype.getShareReward = function(e) {
var o = {};
o.source = e;
t.getInstance().httpPost("share-reward", o, function(e) {
if (0 == e.error_code) {
var t = e.data;
h.GameEvent.ins().emit("ON_GET_SHARE_REWARD", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getShareReward failed", e.error_code);
u.default.alert(e.message);
}
});
};
t.prototype.getPayChannal = function() {
t.getInstance().httpPost("pay-channel", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
h.GameEvent.ins().emit("ON_GET_PAY_CHANNAL", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getPayChannal failed", e.error_code);
u.default.alert(e.message);
}
});
};
t.prototype.getAgentInfo = function() {
t.getInstance().httpPost("ggt-info", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
h.GameEvent.ins().emit("ON_GET_AGENT_INFO", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getAgentInfo failed", e.error_code);
u.default.alert(e.message);
}
});
};
t.prototype.getAgentRecommendList = function(e, o) {
var i = {};
i.page = e;
i.sort = o;
t.getInstance().httpPost("ggt-lists", i, function(e) {
if (0 == e.error_code) {
var t = e.data;
h.GameEvent.ins().emit("ON_GET_AGENT_USER_LIST", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getAgentRecommendList failed", e.error_code);
u.default.alert(e.message);
}
});
};
t.prototype.getAgentRewardList = function(e) {
var o = {};
o.tag = e;
t.getInstance().httpPost("ggt-rewards", o, function(e) {
if (0 == e.error_code) {
var t = e.data;
h.GameEvent.ins().emit("ON_GET_AGENT_REWARD_LIST", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getAgentRewardList failed", e.error_code);
u.default.alert(e.message);
}
});
};
t.prototype.getActivityList = function(e) {
var o = {};
o.type = e;
t.getInstance().httpPost("activity-atlas", o, function(e) {
if (0 == e.error_code) {
var t = e.data;
h.GameEvent.ins().emit("ON_GET_ACTIVITY_LIST_SUCCESS", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("serviceMsgList failed", e.error_code);
u.default.alert(e.message);
}
});
};
t.prototype.getIFSCCode = function(e, o, i, n) {
var a = {};
e && (a.bank = e);
o && (a.state = o);
i && (a.dist = i);
n && (a.branch = n);
t.getInstance().httpPost("getifsc", a, function(e) {
if (0 == e.error_code) h.GameEvent.ins().emit("ON_IFSC_DATA", e.data); else if (66666 == e.error_code) console.log("66666"); else {
console.log("getIFSCCode failed", e.error_code);
u.default.alert(e.message);
}
});
};
t.prototype.checkWebGame = function(e, o) {
var i = {};
i.type = e;
t.getInstance().httpPost("checkByGame", i, function(e) {
if (0 == e.error_code) o(); else if (66666 == e.error_code) console.log("66666"); else {
console.log("shareInit failed", e.error_code);
l.default.inst.showConfirmDlg(e.message, 1);
}
});
};
t.mInstance = null;
return t;
}(f.default);
o.default = C;
cc._RF.pop();
}, {
"../data/GameLangData": "GameLangData",
"../data/MyData": "MyData",
"../data/conf/GameInfo": "GameInfo",
"../dialog/proxy/GameConfirmDlg": "GameConfirmDlg",
"../dialog/proxy/bank/PlayerWithdraw": "PlayerWithdraw",
"../manager/DlgGameMgr": "DlgGameMgr",
"../manager/GameSceneMgr": "GameSceneMgr",
"../manager/PlatformInterface": "PlatformInterface",
"../natives/AndroidPayment": "AndroidPayment",
"../public/MyComponent/GameEvent": "GameEvent",
"../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../public/ThirdParty/UIGameMgr": "UIGameMgr",
"../public/ThirdParty/ccmd5": "ccmd5",
"./happyGameHttp": "happyGameHttp"
} ],
GameLoginHttp: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "6dcf7bc1LxOgLADtJFV2MRv", "GameLoginHttp");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../data/GameLangData"), r = e("../data/MyData"), s = e("../data/conf/GameInfo"), c = e("../manager/DlgGameMgr"), l = e("../manager/GameSceneMgr"), d = e("../manager/GameSoundMgr"), h = e("../natives/AndroidFirebase"), u = e("../public/MyComponent/GameEvent"), p = e("../public/MyComponent/GameHppayUtil"), f = e("./happyGameHttp"), m = e("../public/ThirdParty/ccmd5"), g = e("../manager/PlatformInterface"), y = function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.getInstance = function() {
null == this.mInstance && (this.mInstance = new t());
return this.mInstance;
};
t.prototype.login = function(e) {
console.log("params = ", e);
for (var o = h.default.deepLinkParams, i = 0; i < o.length; i++) {
var n = o[i];
e[n.key] = n.value;
}
e.clipboard = s.default.clipboardStr;
e.platform = s.default.systemType;
e.source = s.default.installSource;
e.attrs = s.default.launchAttrs;
h.default.deepLinkParams = [];
console.log("loginTimeStart", new Date().getTime());
t.getInstance().httpPost("login", e, function(e) {
console.log("login guest error code = ", e.error_code);
if (0 == e.error_code) {
console.log("loginTimeEnd", new Date().getTime());
g.default.trackCompleteRegistration();
var t = e.data;
r.default.UserData.userId = t.uid;
p.default.saveData("userId", t.uid);
r.default.UserData.registered = t.registered;
u.GameEvent.ins().emit("ON_LOGIN_SUCCESS");
p.default.saveData("autoLoginType", s.default.currPlatType);
console.log("", r.default.UserData.userId, r.default.UserData.registered, s.default.currPlatType);
} else if (15888 == e.error_code) c.default.inst.showConfirmDlg(e.message, 1, null, null, function() {
cc.game.end();
}, null, null, function() {
cc.game.end();
}); else if (66666 == e.error_code) console.log("66666"); else {
console.log("login", e.message);
u.GameEvent.ins().emit("ON_LOGIN_FAILED", e.message);
}
});
};
t.prototype.loginByTelephone = function(e) {
console.log("params = ", e);
for (var o = e.areaCode, i = e.telephone, n = e.password || "", a = e.checkCode || "", d = h.default.deepLinkParams, f = 0; f < d.length; f++) {
var m = d[f];
e[m.key] = m.value;
}
e.clipboard = s.default.clipboardStr;
e.isPhoneLogined = s.default.isPhoneLogined;
e.platform = s.default.systemType;
e.source = s.default.installSource;
e.attrs = s.default.launchAttrs;
h.default.deepLinkParams = [];
var y = this;
t.getInstance().httpPost("login", e, function(e) {
console.log("login telephone error code = ", e.error_code);
if (0 == e.error_code) {
g.default.trackCompleteRegistration();
s.default.isPhoneLogined = 1;
p.default.saveData("isPhoneLogined", 1);
var t = e.data;
r.default.UserData.userId = t.uid;
p.default.saveData("userId", t.uid);
r.default.UserData.registered = t.registered;
s.default.phoneNumber = o + i;
if ("" != n) {
s.default.phonePassword = n;
p.default.saveData("loginPhoneNumber", i);
p.default.saveData("loginPhoneArea", o);
p.default.saveData("loginPassword", n);
p.default.saveData("autoLoginType", s.PlatformGameEnum.telephoneWithPassword);
s.default.currPlatType = s.PlatformGameEnum.telephoneWithPassword;
} else {
s.default.phonePassword = a;
p.default.saveData("loginPhoneNumber", i);
p.default.saveData("loginPhoneArea", o);
p.default.saveData("loginPassword", a);
p.default.saveData("autoLoginType", s.PlatformGameEnum.telephoneWithVCode);
s.default.currPlatType = s.PlatformGameEnum.telephoneWithVCode;
}
u.GameEvent.ins().emit("ON_LOGIN_PHONE_SUCCESS");
console.log("", r.default.UserData.userId, r.default.UserData.registered);
} else if (1001 == e.error_code) {
console.log("ON_NOT_REGESTERON_NOT_REGESTERON_NOT_REGESTER");
u.GameEvent.ins().emit("ON_NOT_REGESTER", e);
"" != n ? s.default.currPlatType = s.PlatformGameEnum.telephoneWithPassword : "" != a && (s.default.currPlatType = s.PlatformGameEnum.telephoneWithVCode);
l.default.enterLogin();
var d = cc.director.getScheduler();
d.enableForTarget(y);
d.unscheduleAllForTarget(y);
d.schedule(function() {
p.default.alert(e.message);
}, y, .5, 0, 0, !1);
} else if (1002 == e.error_code) u.GameEvent.ins().emit("ON_NOT_REGESTER", e); else if (15888 == e.error_code) c.default.inst.showConfirmDlg(e.message, 1, null, null, function() {
cc.game.end();
}, null, null, function() {
cc.game.end();
}); else if (66666 == e.error_code) console.log("66666"); else {
p.default.saveData("isPhoneLogined", 0);
s.default.isPhoneLogined = 0;
u.GameEvent.ins().emit("ON_LOGIN_FAILED", e.message);
console.log("loginByTelephone", e.message);
}
});
};
t.prototype.bindPhone = function(e, o, i) {
var n = {};
n.areaCode = e;
n.telephone = o;
n.checkCode = i;
n.password = "";
n.ptype = 1;
t.getInstance().httpPost("bind", n, function(t) {
if (0 == t.error_code) {
var i = t.data;
r.default.UserData.phoneBinding = !0;
s.default.phoneNumber = e + s.default.phoneStart + o;
p.default.saveData("loginPhoneNumber", s.default.phoneStart + o);
u.GameEvent.ins().emit("BINGDING_PHONE_SUCCESS", i);
} else if (66666 == t.error_code) console.log("66666"); else {
console.log("bindPhone failed", t.error_code);
p.default.alert(t.message);
}
});
};
t.prototype.updatePassword = function(e, o, i, n) {
var a = {};
a.areaCode = e;
a.password = o;
a.newPassword = i;
a.confirmPassword = n;
a.ptype = 1;
t.getInstance().httpPost("update-pwd", a, function(e) {
if (0 == e.error_code) {
var t = e.data;
u.GameEvent.ins().emit("ON_UPDATE_PASSWORD_SUCCESS", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("updatePassword failed", e.error_code);
p.default.alert(e.message);
}
});
};
t.prototype.reportPushToken = function(e) {
var o = {};
o.pushToken = e;
o.platform = s.default.systemType;
t.getInstance().httpPost("push-tj", o, function(e) {
if (0 == e.error_code) console.log(e.data); else if (66666 == e.error_code) console.log("66666"); else {
console.log("reportPushToken", e.message);
p.default.alert(e.message);
}
});
};
t.prototype.getVcode = function(e, o, i) {
var n = {};
n.areaCode = e;
n.telephone = o;
n.type = Number(i);
t.getInstance().httpPost("sendSms", n, function(e) {
if (0 == e.error_code) {
var t = e.data;
console.log(t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getVcode", e.message);
p.default.alert(e.message);
}
});
};
t.prototype.getDeviceRegesterInfo = function() {
var e = {};
e.devId = s.default.devId;
e.pf = s.PlatformGameEnum.guest + "," + s.PlatformGameEnum.telephoneWithPassword + "," + s.PlatformGameEnum.google;
t.getInstance().httpPost("check-devId", e, function(e) {
if (0 == e.error_code) {
var t = e.data;
u.GameEvent.ins().emit("ON_GET_DEVICE_REGESTER_INFO", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getDeviceRegesterInfo failed");
u.GameEvent.ins().emit("ON_GET_DEVICE_REGESTER_INFO", null);
}
});
};
t.prototype.resetPassword = function(e, o, i, n) {
var a = {};
a.areaCode = e;
a.telephone = o;
a.checkCode = n;
a.password = i;
t.getInstance().httpPost("reset-pwd", a, function(e) {
if (0 == e.error_code) {
var t = e.data;
u.GameEvent.ins().emit("ON_RESET_PASSWORD", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("resetPassword failed", e.error_code);
p.default.alert(e.message);
}
});
};
t.prototype.checkPhone = function(e, o, i) {
var n = {};
n.areaCode = e;
n.telephone = o;
n.source = i;
t.getInstance().httpPost("check-phone", n, function(e) {
if (0 == e.error_code) {
var t = e.data;
u.GameEvent.ins().emit("ON_CHECK_PHONE", t);
} else if (66666 == e.error_code) {
console.log("66666");
u.GameEvent.ins().emit("ON_CHECK_PHONE");
} else {
console.log("checkPhone failed", e.error_code);
p.default.alert(e.message);
}
});
};
t.prototype.init = function() {
var e = {};
e.lan = s.default.sourceLanguage;
t.getInstance().httpPost("init", e, function(e) {
u.GameEvent.ins().emit("ON_INIT", e);
});
};
t.prototype.getLoginInfo = function() {
t.getInstance().httpPost("login-reward", {}, function(e) {
u.GameEvent.ins().emit("ON_GET_LOGIN_INFO", e.data);
});
};
t.prototype.launchGame = function(e) {
var o = {};
o.wid = e;
t.getInstance().httpPost("", o, function(e) {
if (0 == e.error_code) {
console.log("launchGame game url = ", e.data.url);
u.GameEvent.ins().emit("ON_LAUNCH_GAME", e.data);
} else if (66666 == e.error_code) console.log("66666"); else if (10001 == e.error_code) {
console.log("launchGame error code 10001");
u.GameEvent.ins().emit("CLOSE_WEBGAME");
c.default.inst.showConfirmDlg(e.message, 1);
} else if (10002 == e.error_code) {
console.log("launchGame error code 10002");
u.GameEvent.ins().emit("CLOSE_WEBGAME");
c.default.inst.showConfirmDlg(e.message, 2, null, a.default.ins.GET_NEWHALL_LANG("chargeNow"), function() {
d.default.inst.playGameEffect(d.AudioRes.click);
c.default.inst.closeAllDialog();
c.default.inst.showFullView(c.FullScreenType.charge);
}, a.default.ins.GET_NEWHALL_LANG("iknow"));
} else if (10003 == e.error_code) {
console.log("launchGame error code 10003");
u.GameEvent.ins().emit("CLOSE_WEBGAME");
c.default.inst.showConfirmDlg(e.message, 2, null, a.default.ins.GET_DIALOG_LANG("bindNow"), function() {
d.default.inst.playGameEffect(d.AudioRes.click);
c.default.inst.closeAllDialog();
c.default.inst.showDlg(c.DlgType.regBonus);
}, a.default.ins.GET_NEWHALL_LANG("iknow"));
} else {
console.log("launchGame failed error code", e.error_code);
u.GameEvent.ins().emit("CLOSE_WEBGAME");
c.default.inst.showConfirmDlg(e.message, 1);
}
});
};
t.prototype.testSign = function() {
var e = {
gameid: 1,
appid: 800,
ver: 129,
hver: 1,
devId: "6461603E86CAEEDB28925C089EF651DC487FB42C",
locale: "th",
ukey: "",
uid: 0,
ptype: 1,
areaCode: 66,
telephone: "0842307455",
password: "Aieaie253317",
checkCode: "481716",
nickName: "",
avatar: "",
clipboard: "02-078 9999"
}, t = Object.keys(e);
t.sort();
for (var o = "", i = 0; i < t.length; i++) {
var n = t[i], a = e[n];
i >= t.length - 1 ? o += n + "=" + a : o += n + "=" + a + "&";
}
o = "appid=800&areaCode=66&avatar=&checkCode=481716&clipboard=02-078 9999&devId=6461603E86CAEEDB28925C089EF651DC487FB42C&gameid=1&hver=1&locale=th&nickName=undefined&password=Aieaie253317&ptype=1&telephone=0842307455&uid=0&ukey=undefined&ver=129";
o += "7b3ba41e71352703";
console.log("param5 = ", o);
e.sign = m.md5(o);
console.log("signparam5 = ", e.sign);
};
return t;
}(f.default);
o.default = y;
cc._RF.pop();
}, {
"../data/GameLangData": "GameLangData",
"../data/MyData": "MyData",
"../data/conf/GameInfo": "GameInfo",
"../manager/DlgGameMgr": "DlgGameMgr",
"../manager/GameSceneMgr": "GameSceneMgr",
"../manager/GameSoundMgr": "GameSoundMgr",
"../manager/PlatformInterface": "PlatformInterface",
"../natives/AndroidFirebase": "AndroidFirebase",
"../public/MyComponent/GameEvent": "GameEvent",
"../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../public/ThirdParty/ccmd5": "ccmd5",
"./happyGameHttp": "happyGameHttp"
} ],
GameManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "11cbfL/+hNGSbccgZLP/yh4", "GameManager");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.BJ_CARD_PARAMS = o.BJ_BET_PARAMS = void 0;
var r, s = e("../../PublicTools/GameEvents"), c = e("../../FireData/CommonData"), l = e("../../GameNetWork/NetWorkAll"), d = e("../../GameCommon/NVSGameUtil"), h = e("../GameBJConst"), u = e("../GameBJData"), p = e("../GameBJLogic"), f = e("../GameBJSoundPlayer"), m = e("./GameBankerOperator"), g = e("./GamePlayerOperators");
(function(e) {
e[e.CHIP_FLY_DURATION = .4] = "CHIP_FLY_DURATION";
e[e.CHIP_FLY_DELAY = .05] = "CHIP_FLY_DELAY";
e[e.CHIP_HEIGHT = 9] = "CHIP_HEIGHT";
e[e.CHIP_START_SCALE = .54] = "CHIP_START_SCALE";
e[e.CHIP_END_SCALE = .45] = "CHIP_END_SCALE";
e[e.BANKER_POSITION_Y = 500] = "BANKER_POSITION_Y";
})(o.BJ_BET_PARAMS || (o.BJ_BET_PARAMS = {}));
(function(e) {
e[e.CARD_ORIGIN_WIDTH = 104] = "CARD_ORIGIN_WIDTH";
e[e.CARD_ORIGIN_HEIGHT = 140] = "CARD_ORIGIN_HEIGHT";
e[e.CARD_HOR_GAP = 46] = "CARD_HOR_GAP";
e[e.CARD_VER_GAP = 52] = "CARD_VER_GAP";
e[e.CARD_WAVE_GAP9 = 9] = "CARD_WAVE_GAP9";
e[e.CARD_WAVE_GAP6 = 6] = "CARD_WAVE_GAP6";
e[e.CARD_FLY_DURATION = .4] = "CARD_FLY_DURATION";
e[e.DEAL_CARD_ROTATION = -122] = "DEAL_CARD_ROTATION";
e[e.RECYCLE_CARD_ROTATION = 0] = "RECYCLE_CARD_ROTATION";
e[e.CARDS_MAX_HEIGHT = 5] = "CARDS_MAX_HEIGHT";
})(r = o.BJ_CARD_PARAMS || (o.BJ_CARD_PARAMS = {}));
var y = cc._decorator, _ = y.ccclass, C = (y.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.playerLeftNode = null;
t.playerCenterNode = null;
t.playerRightNode = null;
t.playerNodeList = [];
t.bankerPlayNode = null;
t.playerHashByUserID = {};
t.playerHashBySeatID = {};
t.selfSeatID = 0;
t.isEndChip = !1;
t.sidepotSettlementDelay = 0;
t.hitCardDelay = !1;
return t;
}
t.prototype.onLoad = function() {
this.playerLeftNode = this.node.getChildByName("playerPlayLeftNode").getComponent(g.default);
this.playerCenterNode = this.node.getChildByName("playerPlayCenterNode").getComponent(g.default);
this.playerRightNode = this.node.getChildByName("playerPlayRightNode").getComponent(g.default);
this.playerNodeList = [ this.playerRightNode, this.playerCenterNode, this.playerLeftNode ];
this.bankerPlayNode = this.node.getChildByName("bankerPlayNode").getComponent(m.default);
};
t.prototype.start = function() {};
t.prototype.initView = function(e) {
this.playerRightNode.init(e.roomType);
this.playerCenterNode.init(e.roomType);
this.playerLeftNode.init(e.roomType);
};
t.prototype.initCurrGame = function(e) {
this.playerRightNode.standUp();
this.playerCenterNode.standUp();
this.playerLeftNode.standUp();
var t = e.seatData;
this.selfSeatID = 0;
for (var o = 0; o < t.length; o++) {
var i = (a = t[o]).seatID;
if (c.default.UserData.userId == a.userID) {
this.selfSeatID = i;
u.default.selfSeatID = i;
}
}
if (0 == this.selfSeatID) {
this.playerRightNode.setSeatID(1);
this.playerCenterNode.setSeatID(2);
this.playerLeftNode.setSeatID(3);
this.playerHashBySeatID[1] = this.playerRightNode;
this.playerHashBySeatID[2] = this.playerCenterNode;
this.playerHashBySeatID[3] = this.playerLeftNode;
for (o = 0; o < t.length; o++) {
i = (a = t[o]).seatID;
var n = a.userID;
this.playerNodeList[i - 1].initPlayerInfo(a);
this.playerNodeList[i - 1].sitDown(a);
this.playerHashByUserID[n] = this.playerNodeList[i - 1];
}
} else for (o = 0; o < t.length; o++) {
var a;
i = (a = t[o]).seatID, n = a.userID;
if (i == this.selfSeatID) {
this.playerCenterNode.initPlayerInfo(a);
this.playerCenterNode.sitDown(a);
this.playerHashBySeatID[i] = this.playerCenterNode;
this.playerHashByUserID[n] = this.playerCenterNode;
this.playerCenterNode.setSeatID(i);
if (1 == this.selfSeatID) {
this.playerLeftNode.setSeatID(2);
this.playerRightNode.setSeatID(3);
} else if (2 == this.selfSeatID) {
this.playerLeftNode.setSeatID(3);
this.playerRightNode.setSeatID(1);
} else if (3 == this.selfSeatID) {
this.playerLeftNode.setSeatID(1);
this.playerRightNode.setSeatID(2);
}
} else if (1 == this.selfSeatID) {
if (2 == i) {
this.playerLeftNode.initPlayerInfo(a);
this.playerLeftNode.sitDown(a);
this.playerHashBySeatID[i] = this.playerLeftNode;
this.playerHashByUserID[n] = this.playerLeftNode;
} else if (3 == i) {
this.playerRightNode.initPlayerInfo(a);
this.playerRightNode.sitDown(a);
this.playerHashBySeatID[i] = this.playerRightNode;
this.playerHashByUserID[n] = this.playerRightNode;
}
} else if (2 == this.selfSeatID) {
if (1 == i) {
this.playerRightNode.initPlayerInfo(a);
this.playerRightNode.sitDown(a);
this.playerHashBySeatID[i] = this.playerRightNode;
this.playerHashByUserID[n] = this.playerRightNode;
} else if (3 == i) {
this.playerLeftNode.initPlayerInfo(a);
this.playerLeftNode.sitDown(a);
this.playerHashBySeatID[i] = this.playerLeftNode;
this.playerHashByUserID[n] = this.playerLeftNode;
}
} else if (3 == this.selfSeatID) if (1 == i) {
this.playerLeftNode.initPlayerInfo(a);
this.playerLeftNode.sitDown(a);
this.playerHashBySeatID[i] = this.playerLeftNode;
this.playerHashByUserID[n] = this.playerLeftNode;
} else if (2 == i) {
this.playerRightNode.initPlayerInfo(a);
this.playerRightNode.sitDown(a);
this.playerHashBySeatID[i] = this.playerRightNode;
this.playerHashByUserID[n] = this.playerRightNode;
}
}
this.bankerPlayNode.initInfo(e.bankerCards);
this.updateLeftCardNum(e.leftCardCount);
};
t.prototype.reset = function() {
this.unscheduleAllCallbacks();
this.playerLeftNode.reset();
this.playerCenterNode.reset();
this.playerRightNode.reset();
this.bankerPlayNode.reset();
this.isEndChip = !1;
this.sidepotSettlementDelay = 0;
};
t.prototype.onConnect = function() {
this.unscheduleAllCallbacks();
this.playerLeftNode.onConnect();
this.playerCenterNode.onConnect();
this.playerRightNode.onConnect();
this.bankerPlayNode.reset();
this.isEndChip = !1;
this.sidepotSettlementDelay = 0;
};
t.prototype.allStandUp = function() {
this.playerLeftNode.standUp();
this.playerCenterNode.standUp();
this.playerRightNode.standUp();
};
t.prototype.getSidePotSettleDelay = function() {
return this.sidepotSettlementDelay;
};
t.prototype.sendGift = function(e) {
var t = this, o = this.playerHashByUserID[e.fromUid];
null != o && e.list.forEach(function(i) {
var n = t.playerHashByUserID[i];
if (null != n) {
var a = o.getSeatPosition(), r = n.getSeatPosition();
t.playGiveGift(e.giftId, a, r, n);
}
});
};
t.prototype.playGiveGift = function(e, t, o, i) {
if (d.default.isnull(o)) {
var n = new cc.Node();
n.addComponent(cc.Sprite);
n.parent = this.node;
n.zIndex = 999;
n.getComponent(cc.Sprite).sizeMode = cc.Sprite.SizeMode.CUSTOM;
n.width = 90;
n.height = 90;
if (d.default.isnull(t)) {
n.setPosition(t.x, t.y);
cc.tween(n).to(1, {
x: o.x - 78,
y: o.y - 31
}).call(function() {
n.destroy();
i.wearGift(e);
}).start();
} else {
n.setPosition(o.x, o.y);
n.destroy();
i.wearGift(e);
}
}
};
t.prototype.getSeatUserList = function() {
var e = [];
this.playerLeftNode.isPlayerPlaying() && e.push(this.playerLeftNode.getUserID());
this.playerCenterNode.isPlayerPlaying() && e.push(this.playerCenterNode.getUserID());
this.playerRightNode.isPlayerPlaying() && e.push(this.playerRightNode.getUserID());
return e;
};
t.prototype.updateUserMoney = function(e) {
for (var t = e.userInfo, o = 0; o < t.length; o++) {
var i = t[o], n = i.userID, a = i.isCompleteBet;
if (n == c.default.UserData.userId) {
s.MyEvent.getInstance().emit("UPDATE_SELF_INFO_MONEY", i.money);
p.default.inst.showBetChipStatus(a);
}
null != this.playerHashByUserID[n] && this.playerHashByUserID[n].updateMoney(i.money);
}
};
t.prototype.startTimer = function(e, t, o) {
null != this.playerHashBySeatID[e] && this.playerHashBySeatID[e].startTimer(t, o, !0);
};
t.prototype.startAllSeatsTimer = function(e, t) {
this.playerCenterNode.isPlayerPlaying() && this.playerCenterNode.startTimer(e, t, !0);
this.playerLeftNode.isPlayerPlaying() && this.playerLeftNode.startTimer(e, t, !0);
this.playerRightNode.isPlayerPlaying() && this.playerRightNode.startTimer(e, t, !0);
};
t.prototype.stopAllSeatsTimer = function() {
this.playerCenterNode.isPlayerPlaying() && this.playerCenterNode.stopTimer();
this.playerLeftNode.isPlayerPlaying() && this.playerLeftNode.stopTimer();
this.playerRightNode.isPlayerPlaying() && this.playerRightNode.stopTimer();
};
t.prototype.stopTimer = function(e) {
null != this.playerHashBySeatID[e] && this.playerHashBySeatID[e].stopTimer();
};
t.prototype.updateSelfMoney = function(e) {
var t = c.default.UserData.userId;
null != this.playerHashByUserID[t] && this.playerHashByUserID[t].updateMoney(e);
};
t.prototype.moveSelfSeatToCenter = function() {
if (0 != this.selfSeatID && this.selfSeatID != this.playerCenterNode.getSeatID()) {
var e = this.playerLeftNode.getSeatData(), t = this.playerRightNode.getSeatData(), o = this.playerCenterNode.getSeatData();
this.playerLeftNode.standUp();
this.playerRightNode.standUp();
this.playerCenterNode.standUp();
this.playerHashBySeatID = {};
this.playerHashByUserID = {};
if (this.playerLeftNode.getSeatID() == this.selfSeatID) {
this.playerCenterNode.sitDown(e);
this.playerHashBySeatID[e.seatID] = this.playerCenterNode;
this.playerHashByUserID[e.userID] = this.playerCenterNode;
this.playerCenterNode.setSeatID(e.seatID);
if (1 == e.seatID) {
this.playerLeftNode.setSeatID(2);
this.playerRightNode.setSeatID(3);
} else if (2 == e.seatID) {
this.playerLeftNode.setSeatID(3);
this.playerRightNode.setSeatID(1);
} else if (3 == e.seatID) {
this.playerLeftNode.setSeatID(1);
this.playerRightNode.setSeatID(2);
}
if (null != t) {
this.playerLeftNode.sitDown(t);
this.playerHashBySeatID[t.seatID] = this.playerLeftNode;
this.playerHashByUserID[t.userID] = this.playerLeftNode;
}
if (null != o) {
this.playerRightNode.sitDown(o);
this.playerHashBySeatID[o.seatID] = this.playerRightNode;
this.playerHashByUserID[o.userID] = this.playerRightNode;
}
} else if (this.playerRightNode.getSeatID() == this.selfSeatID) {
this.playerCenterNode.sitDown(t);
this.playerHashBySeatID[t.seatID] = this.playerCenterNode;
this.playerHashByUserID[t.userID] = this.playerCenterNode;
this.playerCenterNode.setSeatID(t.seatID);
if (1 == t.seatID) {
this.playerLeftNode.setSeatID(2);
this.playerRightNode.setSeatID(3);
} else if (2 == t.seatID) {
this.playerLeftNode.setSeatID(3);
this.playerRightNode.setSeatID(1);
} else if (3 == t.seatID) {
this.playerLeftNode.setSeatID(1);
this.playerRightNode.setSeatID(2);
}
if (null != e) {
this.playerRightNode.sitDown(e);
this.playerHashBySeatID[e.seatID] = this.playerRightNode;
this.playerHashByUserID[e.userID] = this.playerRightNode;
}
if (null != o) {
this.playerLeftNode.sitDown(o);
this.playerHashBySeatID[o.seatID] = this.playerLeftNode;
this.playerHashByUserID[o.userID] = this.playerLeftNode;
}
}
}
};
t.prototype.startBetAnim = function() {
this.hideAllSeat();
cc.tween(this.node).to(.5, {
y: 80,
scaleX: 3587 / 2870,
scaleY: 1352 / 1080
}, {
easing: "quadOut"
}).call(function() {}, this).start();
};
t.prototype.endBetAnim = function(e, t) {
var o = this;
if (1 != this.isEndChip) {
this.isEndChip = !0;
e && this.isSelfBet();
var i = t || !0;
cc.tween(this.node).to(.5, {
y: 0,
scaleX: 1,
scaleY: 1
}, {
easing: "quadIn"
}).call(function() {
i && o.showAllSeat();
}).start();
}
};
t.prototype.onDealCards = function() {
this.playerCenterNode.resetName();
this.playerLeftNode.resetName();
this.playerRightNode.resetName();
this.playerCenterNode.clearValueTips();
this.playerLeftNode.clearValueTips();
this.playerRightNode.clearValueTips();
};
t.prototype.refreshTableStatus = function() {
this.playerLeftNode.refreshSeatState();
this.playerRightNode.refreshSeatState();
this.playerCenterNode.refreshSeatState();
};
t.prototype.hideAllSeat = function() {
this.playerLeftNode.hideSeat();
this.playerCenterNode.hideSeat();
this.playerRightNode.hideSeat();
};
t.prototype.showAllSeat = function() {
this.playerLeftNode.showSeat();
this.playerCenterNode.showSeat();
this.playerRightNode.showSeat();
};
t.prototype.updateLeftCardNum = function() {};
t.prototype.isSelfBet = function() {
return null != this.playerHashBySeatID[this.selfSeatID] && this.playerHashBySeatID[this.selfSeatID].isBet();
};
t.prototype.isSelfCompleteAction = function() {
return null != this.playerHashBySeatID[this.selfSeatID] && this.playerHashBySeatID[this.selfSeatID].isActionCompleted();
};
t.prototype.onUserEnterRoom = function() {};
t.prototype.onUserLeaveRoom = function() {};
t.prototype.onUserSit = function(e) {
var t = e.userID, o = e.seatID;
if (o == this.playerCenterNode.getSeatID()) {
this.playerCenterNode.sitDown(e);
this.playerHashBySeatID[o] = this.playerCenterNode;
this.playerHashByUserID[t] = this.playerCenterNode;
} else if (o == this.playerRightNode.getSeatID()) {
this.playerRightNode.sitDown(e);
this.playerHashBySeatID[o] = this.playerRightNode;
this.playerHashByUserID[t] = this.playerRightNode;
} else if (o == this.playerLeftNode.getSeatID()) {
this.playerLeftNode.sitDown(e);
this.playerHashBySeatID[o] = this.playerLeftNode;
this.playerHashByUserID[t] = this.playerLeftNode;
}
if (t == c.default.UserData.userId) {
this.selfSeatID = e.seatID;
u.default.selfSeatID = e.seatID;
c.default.UserData.coin = e.userMoney;
u.default.selfMoney = e.userMoney;
0 == this.playerHashBySeatID[u.default.selfSeatID].hasCard() && u.default.currGameStatus != h.BJGameStatus.chipin && this.playerHashBySeatID[u.default.selfSeatID].showSystemMsg("");
}
this.playerLeftNode.refreshSeatState();
this.playerRightNode.refreshSeatState();
this.playerCenterNode.refreshSeatState();
f.default.inst.playSound(f.BJSoundID.sit);
};
t.prototype.onUserStand = function(e) {
var t = e.userID;
if (e.userID == c.default.UserData.userId) {
u.default.selfSeatID = 0;
this.selfSeatID = 0;
}
null != this.playerHashByUserID[t] && this.playerHashByUserID[t].standUp(e);
this.playerLeftNode.refreshSeatState();
this.playerRightNode.refreshSeatState();
this.playerCenterNode.refreshSeatState();
f.default.inst.playSound(f.BJSoundID.stand);
};
t.prototype.onUserBet = function(e) {
var t = e.userID, o = e.betInfo;
null != this.playerHashByUserID[t] && this.playerHashByUserID[t].onUserBet(o);
};
t.prototype.onUserCancelBet = function(e) {
var t = e.userID;
null != this.playerHashByUserID[t] && this.playerHashByUserID[t].onUserCancelBet(e);
};
t.prototype.onPlayerAction = function(e) {
var t = this;
this.scheduleOnce(function() {
t.playerCenterNode.isPlayerPlaying() && t.playerCenterNode.onPlayerAction(e);
t.playerLeftNode.isPlayerPlaying() && t.playerLeftNode.onPlayerAction(e);
t.playerRightNode.isPlayerPlaying() && t.playerRightNode.onPlayerAction(e);
}, .5);
};
t.prototype.getCurrPoints = function(e, t) {
return null != this.playerHashBySeatID[e] ? this.playerHashBySeatID[e].getCurrHandPoints(t) : 0;
};
t.prototype.isBet = function(e) {
return null != this.playerHashBySeatID[e] && this.playerHashBySeatID[e].isBet();
};
t.prototype.onUserCompleteBet = function(e) {
var t = e;
null != this.playerHashByUserID[t] && this.playerHashByUserID[t].onUserCompleteBet(e);
};
t.prototype.dealHeadCards = function(e, t) {
var o = this;
this.scheduleOnce(function() {
o.onDealCards();
}, .5);
for (var i = [], n = 0; n < t.length; n++) {
var a = t[n];
i.push({
seatID: a.seatID,
cardValue: a.card1
});
}
i.push({
seatID: 0,
cardValue: e
});
for (n = 0; n < t.length; n++) {
a = t[n];
i.push({
seatID: a.seatID,
cardValue: a.card2
});
}
i.push({
seatID: 0,
cardValue: 0
});
var s = r.CARD_FLY_DURATION, c = function(e) {
var t = i[e];
0 == t.seatID ? l.scheduleOnce(function() {
o.bankerPlayNode.dealCard(t.cardValue, !1);
}, s * e + .8) : l.scheduleOnce(function() {
o.playerHashBySeatID[t.seatID].dealCard(t.cardValue, 1, !1);
}, s * e + .8);
}, l = this;
for (n = 0; n < i.length; n++) c(n);
};
t.prototype.setSidePotEnabled = function(e) {
this.playerCenterNode.isPlayerPlaying() && this.playerCenterNode.setSidePotEnabled(e);
this.playerLeftNode.isPlayerPlaying() && this.playerLeftNode.setSidePotEnabled(e);
this.playerRightNode.isPlayerPlaying() && this.playerRightNode.setSidePotEnabled(e);
};
t.prototype.getBetValue = function(e) {
return null != this.playerHashBySeatID[e] ? this.playerHashBySeatID[e].getBetValue(e) : 0;
};
t.prototype.bankerLookSecondCard = function(e) {
var t = this;
this.scheduleOnce(function() {
t.bankerPlayNode.startLookSecondAnim();
1 == e.isBlackjack && t.scheduleOnce(function() {
t.bankerPlayNode.openBankerSecondCard(e.card2);
t.showPlayerResultPoints();
}, .8);
}, .5);
this.hideSelfInsuranceTips();
};
t.prototype.showPlayerResultPoints = function() {
this.playerCenterNode.isPlayerPlaying() && this.playerCenterNode.showEndResultPoints();
this.playerLeftNode.isPlayerPlaying() && this.playerLeftNode.showEndResultPoints();
this.playerRightNode.isPlayerPlaying() && this.playerRightNode.showEndResultPoints();
};
t.prototype.dealBankerLeftCards = function(e) {
var t = this;
this.scheduleOnce(function() {
t.showPlayerResultPoints();
}, .5);
var o = e.bankerCards;
this.scheduleOnce(function() {
t.bankerPlayNode.openBankerSecondCard(o[0]);
}, .5);
for (var i = function(e) {
n.scheduleOnce(function() {
t.bankerPlayNode.dealCard(o[e]);
}, .7 * (e + 1) + .5);
}, n = this, a = 1; a < o.length; a++) i(a);
this.scheduleOnce(function() {
t.bankerPlayNode.showBankerResult();
}, 1 + .7 * o.length);
};
t.prototype.dealBankerSecondCard = function(e) {
var t = this;
this.scheduleOnce(function() {
t.bankerPlayNode.openBankerSecondCard(e);
}, .8);
};
t.prototype.insurancePay = function(e) {
for (var t = 0; t < e.length; t++) {
var o = e[t], i = o.seatID;
null != this.playerHashBySeatID[i] && this.playerHashBySeatID[i].chipInsuranceWin(o);
}
};
t.prototype.insuranceNotPay = function() {
this.playerLeftNode.chipInsuraceLose();
this.playerRightNode.chipInsuraceLose();
this.playerCenterNode.chipInsuraceLose();
};
t.prototype.onSettlement = function(e, t) {
for (var o = t || !1, i = e.playerSettlementInfo, n = 0; n < i.length; n++) {
var a = i[n], r = a.userID;
null != this.playerHashByUserID[r] && this.playerHashByUserID[r].settlement(a, o);
}
};
t.prototype.onCollectCards = function() {
this.playerRightNode.collectCards();
this.playerLeftNode.collectCards();
this.playerCenterNode.collectCards();
this.bankerPlayNode.collectCards();
};
t.prototype.onSidePotSettlement = function(e) {
for (var t = this, o = e.playerSettlementInfo, i = function(e) {
var i = o[e], a = i.userID;
null != n.playerHashByUserID[a] && n.scheduleOnce(function() {
t.playerHashByUserID[a].settlementSidePot(i);
}, n.sidepotSettlementDelay);
}, n = this, a = 0; a < o.length; a++) i(a);
};
t.prototype.isSelfCanSplit = function() {
var e = c.default.UserData.userId;
return null != this.playerHashByUserID[e] && this.playerHashByUserID[e].canSplit();
};
t.prototype.isSelfCanDouble = function() {
var e = c.default.UserData.userId;
return null != this.playerHashByUserID[e] && this.playerHashByUserID[e].canDouble();
};
t.prototype.onPreSettlement = function(e, t) {
var o = t || !1, i = e.userID;
null != this.playerHashByUserID[i] && this.playerHashByUserID[i].preSettlement(e, o);
};
t.prototype.onUserInsurance = function(e) {
var t = e.userID;
null != this.playerHashByUserID[t] && this.playerHashByUserID[t].onUserInsurance(e);
};
t.prototype.showSelfInsuraceTips = function() {
var e = u.default.selfSeatID;
null != this.playerHashBySeatID[e] && this.playerHashBySeatID[e].showSelfInsuranceTips();
};
t.prototype.hideSelfInsuranceTips = function() {
var e = u.default.selfSeatID;
null != this.playerHashBySeatID[e] && this.playerHashBySeatID[e].hideSelfInsuranceTips();
};
t.prototype.onUserAction = function(e) {
var t = e.userID;
null != this.playerHashByUserID[t] && this.playerHashByUserID[t].onUserAction(e);
};
t.prototype.selfDoubleBet = function() {
var e = c.default.UserData.userId;
null != this.playerHashByUserID[e] && this.playerHashByUserID[e].doubleBet();
};
t.prototype.selfRepeatBet = function() {
var e = c.default.UserData.userId;
null != this.playerHashByUserID[e] && this.playerHashByUserID[e].repeatBet();
};
t.prototype.selfCompleteBet = function() {
l.default.getInstance().socketSend.bjUserCompleteBet();
};
t.prototype.selfCancelBet = function() {
l.default.getInstance().socketSend.bjUserCancelBet();
};
t.prototype.selfStopCard = function() {
l.default.getInstance().socketSend.bjUserAction(u.default.currActionHandIndex, h.BJUserAction.stop);
};
t.prototype.selfHitCard = function() {
var e = this;
if (0 == this.hitCardDelay) {
this.hitCardDelay = !0;
l.default.getInstance().socketSend.bjUserAction(u.default.currActionHandIndex, h.BJUserAction.hit);
this.scheduleOnce(function() {
e.hitCardDelay = !1;
}, .5);
}
};
t.prototype.selfDoubleHit = function() {
l.default.getInstance().socketSend.bjUserAction(u.default.currActionHandIndex, h.BJUserAction.double);
};
t.prototype.selfSplitCard = function() {
l.default.getInstance().socketSend.bjUserAction(u.default.currActionHandIndex, h.BJUserAction.split);
};
t.prototype.selfInsurance = function() {
l.default.getInstance().socketSend.bjUserBuyInsurance(1);
};
t.prototype.selfCancelInsurance = function() {
l.default.getInstance().socketSend.bjUserBuyInsurance(0);
};
t.prototype.onCutCardStart = function() {};
t.prototype.onCutCardMove = function() {};
t.prototype.onCutCardIng = function() {};
t.prototype.showEjimo = function(e) {
var t = e.userId;
null != this.playerHashByUserID[t] && this.playerHashByUserID[t].showEjimo(e);
};
t.prototype.showChatMsg = function(e) {
var t = e.userId;
null != this.playerHashByUserID[t] && this.playerHashByUserID[t].showChatMsg(e);
};
return a([ _ ], t);
}(cc.Component));
o.default = C;
cc._RF.pop();
}, {
"../../FireData/CommonData": "CommonData",
"../../GameCommon/NVSGameUtil": "NVSGameUtil",
"../../GameNetWork/NetWorkAll": "NetWorkAll",
"../../PublicTools/GameEvents": "GameEvents",
"../GameBJConst": "GameBJConst",
"../GameBJData": "GameBJData",
"../GameBJLogic": "GameBJLogic",
"../GameBJSoundPlayer": "GameBJSoundPlayer",
"./GameBankerOperator": "GameBankerOperator",
"./GamePlayerOperators": "GamePlayerOperators"
} ],
GameMenu: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "93ec2UL5axBWLpwgjomkGch", "GameMenu");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../PublicTools/GameEvents"), s = e("../../GameFireData/GameAllConst"), c = e("../../GameCores/GameRecorder"), l = e("../../GameNetWork/NetWorkAll"), d = e("../../EXUIFrame/EXSoundMgr"), h = e("../../GameCommon/NVSGameUtil"), u = e("../GameBJConst"), p = e("../GameBJData"), f = e("../GameBJLogic"), m = cc._decorator, g = m.ccclass, y = (m.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.backBtn = null;
t.standupBtn = null;
t.menuBg = null;
return t;
}
t.prototype.onLoad = function() {
this.node.on("click", this.onClose, this);
this.menuBg = this.node.getChildByName("muneBg");
this.backBtn = this.menuBg.getChildByName("btnBack");
this.backBtn.on("click", this.onBackToHall, this);
this.standupBtn = this.menuBg.getChildByName("btnStandUp");
this.standupBtn.on("click", this.onStandUp, this);
this.node.active = !1;
};
t.prototype.onClose = function() {
this.hide();
};
t.prototype.onBackToHall = function() {
d.default.inst.playEffect("new_res_btnSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
c.default.record(c.EventID.roomMenuBack, "gameType", s.gameType.blackjack);
f.default.inst.getSelfMainBet() > 0 && p.default.currGameStatus != u.BJGameStatus.chipin ? h.default.alert("") : l.default.getInstance().socketSend.bjUserLeaveRoom();
};
t.prototype.onStandUp = function() {
d.default.inst.playEffect("new_res_btnSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this.onClose();
f.default.inst.getSelfMainBet() > 0 && p.default.currGameStatus != u.BJGameStatus.chipin ? h.default.alert("") : l.default.getInstance().socketSend.bjUserStand();
};
t.prototype.show = function() {
this.node.active = !0;
};
t.prototype.hide = function() {
this.node.active = !1;
};
t.prototype.start = function() {};
return a([ g ], t);
}(cc.Component));
o.default = y;
cc._RF.pop();
}, {
"../../EXUIFrame/EXSoundMgr": "EXSoundMgr",
"../../GameCommon/NVSGameUtil": "NVSGameUtil",
"../../GameCores/GameRecorder": "GameRecorder",
"../../GameFireData/GameAllConst": "GameAllConst",
"../../GameNetWork/NetWorkAll": "NetWorkAll",
"../../PublicTools/GameEvents": "GameEvents",
"../GameBJConst": "GameBJConst",
"../GameBJData": "GameBJData",
"../GameBJLogic": "GameBJLogic"
} ],
GameMyInfo: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a15eetDdPJGEJ+IO7jj2Lsl", "GameMyInfo");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../FireData/CommonData"), s = e("../../GameCommon/NVSGameUtil"), c = e("../GameBJConst"), l = e("../GameBJData"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.userNameLabel = null;
t.userMoneyLabel = null;
return t;
}
t.prototype.onLoad = function() {
this.userNameLabel = this.node.getChildByName("nameLabel").getComponent(cc.Label);
this.userMoneyLabel = this.node.getChildByName("moneyLabel");
var e = r.default.UserData.chip;
l.default.moneyType == c.BJRoomType.free && (e = r.default.UserData.coin);
this.userMoneyLabel.getComponent(cc.Label).string = s.default.cul(e);
this.userMoneyLabel.getComponent(cc.Label)._forceUpdateRenderData(!0);
};
t.prototype.start = function() {};
t.prototype.showWithAnim = function() {
this.node.active = !0;
this.node.stopAllActions();
cc.tween(this.node).to(.5, {
y: -430,
scale: 1
}).call(function() {}, this).start();
};
t.prototype.hideWidthAnim = function() {
var e = this;
this.node.stopAllActions();
cc.tween(this.node).to(.5, {
y: -445,
scale: .83
}).call(function() {
e.node.active = !1;
}, this).start();
};
t.prototype.init = function() {
this.userNameLabel.string = r.default.UserData.nickname;
};
t.prototype.updateMoney = function(e) {
s.default.labelChange(this.userMoneyLabel, e);
};
return a([ h ], t);
}(cc.Component));
o.default = u;
cc._RF.pop();
}, {
"../../FireData/CommonData": "CommonData",
"../../GameCommon/NVSGameUtil": "NVSGameUtil",
"../GameBJConst": "GameBJConst",
"../GameBJData": "GameBJData"
} ],
GameNetReprter: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d799b8sqlREeIxXXoIQoHMj", "GameNetReprter");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.GameNetReprter = void 0;
var n = e("../data/conf/GameInfo"), a = e("../manager/ReportGameEvent"), r = e("./SocketGameManager"), s = e("../public/ThirdParty/CocosPublic"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function() {
function e() {
this.NETWORK_CHECK_INTERVAL = 5;
this.NETWORK_REPORT_INTERVAL = 12;
this.secondCounter = 0;
this.delayInfoList = "";
this.delayInfo = {};
this.sendCheckTime = 0;
this.enabled = 1;
this.scheduler = null;
}
t = e;
e.prototype.setEnabled = function(e) {
this.enabled = e;
};
e.prototype.start = function() {
if (1 == this.enabled) {
this.secondCounter = 0;
this.delayInfoList = "";
this.scheduler = cc.director.getScheduler();
this.scheduler.enableForTarget(this);
this.scheduler.unscheduleAllForTarget(this);
this.scheduler.schedule(this.excuteCheck, this, this.NETWORK_CHECK_INTERVAL, 0, 0, !1);
}
};
e.prototype.excuteCheck = function() {
if (this.secondCounter < this.NETWORK_REPORT_INTERVAL) {
var e = Date.now();
this.sendCheckTime = e % 1e5;
this.delayInfo = {};
this.delayInfo[this.sendCheckTime] = 0;
r.default.getInstance().socketSend.sendNetCheckGame(this.sendCheckTime);
this.scheduler.schedule(this.checkResponse, this, this.NETWORK_CHECK_INTERVAL, 0, 0, !1);
this.secondCounter++;
} else this.reportNetworkDelay();
};
e.prototype.checkResponse = function() {
if (0 == this.delayInfo[this.sendCheckTime]) {
this.delayInfo = {};
this.delayInfoList = this.delayInfoList + "0|";
}
this.scheduler.schedule(this.excuteCheck, this, this.NETWORK_CHECK_INTERVAL, 0, .1, !1);
};
e.prototype.process = function(e) {
if (1 == this.enabled && 0 == this.delayInfo[e]) {
var t = Date.now() % 1e5 - this.sendCheckTime;
this.delayInfo[e] = t;
this.delayInfoList = this.delayInfoList + t + "|";
}
};
e.prototype.reportNetworkDelay = function() {
var e = this;
if (1 == this.enabled && "" != this.delayInfoList) {
console.log("delay info", this.delayInfoList);
s.default.sleepSync(.1).then(function() {
console.log("report network", n.default.networkEnvironment);
a.default.record(a.ReportEventType.networkDelay, "delay", e.delayInfoList + n.default.networkEnvironment);
a.default.newRecord(a.ReportEventType.networkDelay, "delay", e.delayInfoList + n.default.networkEnvironment);
e.stop();
});
}
};
e.prototype.stop = function() {
if (1 == this.enabled) {
cc.director.getScheduler().unscheduleAllForTarget(this);
this.secondCounter = 0;
this.delayInfoList = "";
this.delayInfo = {};
}
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ l ], e);
}());
o.GameNetReprter = d;
cc._RF.pop();
}, {
"../data/conf/GameInfo": "GameInfo",
"../manager/ReportGameEvent": "ReportGameEvent",
"../public/ThirdParty/CocosPublic": "CocosPublic",
"./SocketGameManager": "SocketGameManager"
} ],
GameNewConfirmDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "802dbMqLWxHcKcE3z3dpevP", "GameNewConfirmDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../data/GameLangData"), s = e("../../public/MyComponent/WindowBase"), c = e("../../public/MyComponent/GameHppayUtil"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
this.node.getChildByName("closeBtn").on("click", this.onClose, this);
this.node.getChildByName("okBtn").on("click", this._onOK, this);
this.node.getChildByName("cancelBtn").on("click", this._onCancel, this);
this.node.getChildByName("okBtn").getChildByName("Label").getComponent(cc.Label).string = r.default.ins.GET_DIALOG_LANG("enter");
this.node.getChildByName("cancelBtn").getChildByName("Label").getComponent(cc.Label).string = r.default.ins.GET_DIALOG_LANG("cancel");
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = r.default.ins.STRING_COMMON("tips");
c.default.labelShadow(this.node.getChildByName("labelTitle").getComponent(cc.Label));
};
t.prototype.start = function() {
this.needModal = !0;
e.prototype.start.call(this);
this.setDataView();
};
t.prototype.setDataView = function() {
var e = this._data, t = e.content || "", o = e.btnAmount || 2, i = e.title || r.default.ins.STRING_COMMON("tips");
this.node.getChildByName("labelContent").getComponent(cc.Label).string = t;
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = i;
e.okDesc && (this.node.getChildByName("okBtn").getChildByName("Label").getComponent(cc.Label).string = e.okDesc);
e.cancelDesc && (this.node.getChildByName("cancelBtn").getChildByName("Label").getComponent(cc.Label).string = e.cancelDesc);
if (1 == o) {
this.node.getChildByName("cancelBtn").active = !1;
this.node.getChildByName("okBtn").x = 0;
}
};
t.prototype.onClose = function() {
this._data.closeCallback ? this._data.closeCallback() : e.prototype.onClose.call(this);
};
t.prototype._onCancel = function() {
this._data.cancelCallback && this._data.cancelCallback();
this.onClose();
};
t.prototype._onOK = function() {
this._data.okCallback && this._data.okCallback();
this.onClose();
};
return a([ d ], t);
}(s.default));
o.default = h;
cc._RF.pop();
}, {
"../../data/GameLangData": "GameLangData",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/WindowBase": "WindowBase"
} ],
GameNoticeMailItem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "aff13TNSztJj41QY2y7xoP4", "GameNoticeMailItem");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/GameEvent"), s = e("../../../manager/DlgGameMgr"), c = e("../../../public/MyComponent/GameHppayUtil"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._richLabelMailTitle = null;
t._labelDate = null;
t._data = null;
t._redTips = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
this._richLabelMailTitle = this.node.getChildByName("richTextTitle").getComponent(cc.RichText);
this._labelDate = this.node.getChildByName("labelDate").getComponent(cc.Label);
this.node.on("click", this._onItemSelected, this);
this._redTips = this.node.getChildByName("redTips");
};
t.prototype.start = function() {};
t.prototype.refresh = function(e) {
this._richLabelMailTitle.string = e.title;
this._labelDate.string = c.default.getDate(e.time);
this._data = e;
0 == this._data.status ? this._redTips.active = !0 : this._redTips.active = !1;
};
t.prototype._onItemSelected = function() {
console.log("on item selected");
this._data.mailType = 3;
this._redTips.active = !1;
r.GameEvent.ins().emit("NOTIFY_READ_MAIL");
s.default.inst.showDlg(s.DlgType.noticeRead, this._data);
};
return a([ d ], t);
}(cc.Component));
o.default = h;
cc._RF.pop();
}, {
"../../../manager/DlgGameMgr": "DlgGameMgr",
"../../../public/MyComponent/GameEvent": "GameEvent",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil"
} ],
GameOperator: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2d6d5P0HVFEo7GxReX6N25u", "GameOperator");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.BJActionType = void 0;
var r, s = e("./GameActions"), c = e("./GameChips"), l = e("./GameBets"), d = e("./GameInsurance"), h = e("./GameMyInfo"), u = e("../GameBJData");
(function(e) {
e[e.none = 0] = "none";
e[e.user_bet = 1] = "user_bet";
e[e.user_insurance = 2] = "user_insurance";
e[e.user_action = 3] = "user_action";
e[e.user_chip = 4] = "user_chip";
e[e.user_info = 5] = "user_info";
})(r = o.BJActionType || (o.BJActionType = {}));
var p = cc._decorator, f = p.ccclass, m = (p.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.mBetNode = null;
t.mActionNode = null;
t.mChipNode = null;
t.mInsuranceNode = null;
t.mInfoNode = null;
return t;
}
t.prototype.onLoad = function() {
this.mBetNode = this.node.getChildByName("operationBetNode").getComponent(l.default);
this.mActionNode = this.node.getChildByName("operationActionNode").getComponent(s.default);
this.mChipNode = this.node.getChildByName("operationChipNode").getComponent(c.default);
this.mInsuranceNode = this.node.getChildByName("operationInsuranceNode").getComponent(d.default);
this.mInfoNode = this.node.getChildByName("myInfoNode").getComponent(h.default);
};
t.prototype.start = function() {};
t.prototype.init = function(e) {
this.mInfoNode.init();
this.mChipNode.init(e, u.default.moneyType, u.default.selfMoney);
this.mInfoNode.node.active = !1;
};
t.prototype.getPreActionID = function() {
return this.mActionNode.getPreActionID();
};
t.prototype.hidePreAction = function() {
this.mActionNode.hidePreAction();
};
t.prototype.resetPreAction = function() {
this.mActionNode.resetPreAction();
};
t.prototype.showPreAction = function() {
this.mActionNode.showPreAction();
};
t.prototype.reset = function() {
this.mBetNode.reset();
this.mActionNode.reset();
this.mChipNode.reset();
};
t.prototype.setOperationBetButtonEnabled = function(e, t) {
this.mBetNode.setOperationButtonEnabled(e, t);
};
t.prototype.setOperationButtonEnabled = function(e, t) {
this.mActionNode.setOperationButtonEnabled(e, t);
};
t.prototype.setOperationInsuranceButtonEnabled = function(e, t) {
this.mInsuranceNode.setOperationInsuranceButtonEnabled(e, t);
};
t.prototype.updateMoney = function(e) {
this.mInfoNode.updateMoney(e);
this.mChipNode.checkIfMoneyEnough(e);
};
t.prototype.onStartBet = function() {
this.mBetNode.onStartBet();
};
t.prototype.onCancelBet = function() {
this.mBetNode.onCancelBet();
};
t.prototype.sleepOperationView = function(e) {
e == r.user_bet ? this.mBetNode.sleep() : e == r.user_action ? this.mActionNode.sleep() : e == r.user_insurance && this.mInsuranceNode.sleep();
};
t.prototype.activeOperationView = function(e) {
e == r.user_bet ? this.mBetNode.active() : e == r.user_action ? this.mActionNode.active() : e == r.user_insurance && this.mInsuranceNode.active();
};
t.prototype.hideOperationView = function(e, t) {
var o = t || !1;
if (e == r.none) {
this.mBetNode.node.active = !0;
this.mActionNode.node.active = !0;
this.mChipNode.node.active = !0;
this.mInfoNode.node.active = !0;
this.mInsuranceNode.node.active = !0;
} else e == r.user_bet ? this.mBetNode.node.active = !1 : e == r.user_chip ? o ? this.mChipNode.hideWidthAnim() : this.mChipNode.node.active = !1 : e == r.user_info ? o ? this.mInfoNode.hideWidthAnim() : this.mInfoNode.node.active = !1 : e == r.user_action ? this.mActionNode.node.active = !1 : e == r.user_insurance && (this.mInsuranceNode.node.active = !1);
};
t.prototype.showOperationView = function(e, t) {
if (e == r.none) {
this.mBetNode.node.active = !1;
this.mActionNode.node.active = !1;
this.mChipNode.node.active = !1;
this.mInfoNode.node.active = !1;
this.mInsuranceNode.node.active = !1;
} else if (e == r.user_bet) {
this.mBetNode.node.active = !0;
this.mActionNode.node.active = !1;
this.mInsuranceNode.node.active = !1;
} else if (e == r.user_chip) t ? this.mChipNode.showWithAnim() : this.mChipNode.node.active = !0; else if (e == r.user_info) t ? this.mInfoNode.showWithAnim() : this.mInfoNode.node.active = !0; else if (e == r.user_action) {
this.mActionNode.node.active = !0;
this.mBetNode.node.active = !1;
this.mInsuranceNode.node.active = !1;
} else if (e == r.user_insurance) {
this.mInsuranceNode.node.active = !0;
this.mBetNode.node.active = !1;
}
};
t.prototype.setInsuranceMoney = function(e, t) {
this.mInsuranceNode.setInsuranceMoney(e, t);
};
t.prototype.hide = function(e) {
e ? cc.tween(this.node).to(.5, {
y: -400
}) : this.node.y = -400;
};
return a([ f ], t);
}(cc.Component));
o.default = m;
cc._RF.pop();
}, {
"../GameBJData": "GameBJData",
"./GameActions": "GameActions",
"./GameBets": "GameBets",
"./GameChips": "GameChips",
"./GameInsurance": "GameInsurance",
"./GameMyInfo": "GameMyInfo"
} ],
GamePayWebDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f6d9fkJvwJK068qQvYR6KDJ", "GamePayWebDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../data/conf/GameConfig"), c = e("../../../data/conf/GameInfo"), l = e("../../../data/MyData"), d = e("../../../natives/AndroidInfo"), h = e("../../../public/MyComponent/GameHppayUtil"), u = e("../../../manager/PlatformInterface"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.orientation = h.SCREEN_ORIENTATION.ORIENTATION_PORTRAIT;
t.title = null;
t.isClose = !1;
return t;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
var e = this.node.getChildByName("dlgBg"), t = e.getChildByName("top");
this.title = t.getChildByName("title");
t.getChildByName("closeBtn").on("click", this.onClose, this);
this._webView = e.getChildByName("webview").getComponent(cc.WebView);
this.regesterWebViewCallBack();
if (cc.sys.os == cc.sys.OS_IOS) {
this.title.y = -150;
t.getChildByName("closeBtn").y = -140;
}
};
t.prototype.onClose = function() {
var t = this;
this.isClose = !0;
this.scheduleOnce(function() {
e.prototype.onClose.call(t);
});
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.isClose = !1;
this.needAnimation = !1;
this.needModal = !1;
this.register("WebPayDialog", []);
this.setDataView();
};
t.prototype.setDataView = function() {
var e = s.default.resourceUrl + this._data.imageUrl;
cc.loader.load(e, function(t, o) {
if (t) console.log("load pay image failed", e); else {
console.log("load pay image success", e);
if (0 == this.isClose) {
var i = new cc.SpriteFrame(o);
if (null != this.title && null != this.title.getComponent(cc.Sprite)) {
this.title.getComponent(cc.Sprite).spriteFrame = i;
this.title.width = i.getRect().width;
this.title.height = i.getRect().height;
}
}
}
}.bind(this));
console.log("pay url = ", this._data.payUrl);
this._webView.url = this._data.payUrl;
};
t.prototype.handleAppEvent = function(e) {
e.arg;
e.key;
};
t.prototype.regesterWebViewCallBack = function() {
var e = this, t = c.default.scheme;
this._webView.setJavascriptInterfaceScheme(t);
this._webView.setOnJSCallback(function(o, i) {
console.log("js func callback", o, i);
var n = i.replace(t + "://", ""), a = n.split("&"), r = {};
for (var s in a) {
var c = a[s].split("=");
"params" == c[0] ? r[c[0]] = JSON.parse(c[1]) : r[c[0]] = c[1];
}
"showLoading" == r.fun ? e.showLoading(null, null, !0) : "hideLoading" == r.fun ? e.hideLoading() : "showAlert" == r.fun ? h.default.alert(r.params.msg) : "startInput" == r.fun ? console.log("startInput") : "endInput" == r.fun ? console.log("endInput") : "openBrowser" == r.fun ? u.default.openBrowser(r.params.url) : "chatWithWhatsApp" == r.fun && d.default.inst.chatWithWhatsApp(l.default.UserData.userId, r.params.phone);
console.log("", o, n, r);
});
};
return a([ f ], t);
}(r.default));
o.default = m;
cc._RF.pop();
}, {
"../../../data/MyData": "MyData",
"../../../data/conf/GameConfig": "GameConfig",
"../../../data/conf/GameInfo": "GameInfo",
"../../../manager/PlatformInterface": "PlatformInterface",
"../../../natives/AndroidInfo": "AndroidInfo",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase"
} ],
GamePhpManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1be89tmRP1KmabzinWRH0Xn", "GamePhpManager");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.GamePhpManager = void 0;
var n = e("../public/MyComponent/GameHppayUtil"), a = e("../communication/GameLobbyHttp"), r = cc._decorator, s = r.ccclass, c = (r.property, 
function() {
function e() {
this.scheduler = null;
this.configVersion = "0";
this.PHP_TIMEOUT = 2;
this.phpAddrList = [];
this.isPhpComplete = !1;
this.phpCallBack = null;
this.timeoutCounter = 0;
}
t = e;
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
e.prototype.init = function(e) {
this.configVersion = n.default.readData("ConfigVersion") || "0";
this.isPhpComplete = !1;
this.phpAddrList = [];
this.phpAddrList.push(e);
this.scheduler = cc.director.getScheduler();
this.scheduler.enableForTarget(this);
this.scheduler.unscheduleAllForTarget(this);
};
e.prototype.resetConfigVer = function() {
n.default.saveData("ConfigVersion", "0");
this.configVersion = "0";
};
e.prototype.phpPathSelect = function(e) {
var t = this, o = {};
o.cv = this.configVersion;
t.isPhpComplete = !1;
this.timeoutCounter = 0;
this.phpCallBack = e;
for (var i = 0; i < this.phpAddrList.length; i++) {
var n = this.phpAddrList[i];
a.default.getInstance().httpGetWithFullUrl(n, o, function(o) {
if (0 == t.isPhpComplete) {
t.isPhpComplete = !0;
e(o);
}
});
}
};
var t;
e._inst = null;
return t = i([ s ], e);
}());
o.GamePhpManager = c;
cc._RF.pop();
}, {
"../communication/GameLobbyHttp": "GameLobbyHttp",
"../public/MyComponent/GameHppayUtil": "GameHppayUtil"
} ],
GamePlayerOperators: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "939d51dfE1MeIwYq61hd5kb", "GamePlayerOperators");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.BJ_CHIPS_VALUE_PLACE_ID = o.BJ_CARD_PARAMS = o.BJ_ZINDEX = o.BJ_ANIM_TYPE = o.BJ_VALUE_TYPE = o.BJ_BET_PARAMS = void 0;
var r, s, c, l, d, h = e("../../PublicTools/GameEvents"), u = e("../../GameFireData/GameAllConst"), p = e("../../FireData/CommonData"), f = e("../../GameCores/MyCardCreator"), m = e("../../GameCores/MyChipCreator"), g = e("../../GameCores/DialogLogic"), y = e("../../GameNetWork/NetWorkAll"), _ = e("../../EXUIFrame/EXSoundMgr"), C = e("../../GameCommon/NVSGameUtil"), b = e("../GameBJAnimPlayer"), v = e("../GameBJConst"), S = e("../GameBJData"), I = e("../GameBJLogic"), B = e("../GameBJSoundPlayer"), w = e("./GameActions"), N = e("./GameBets"), L = e("./GameInsurance"), T = e("./GameSeat");
(function(e) {
e[e.CHIP_FLY_DURATION = .3] = "CHIP_FLY_DURATION";
e[e.CHIP_FLY_DELAY = .05] = "CHIP_FLY_DELAY";
e[e.CHIP_HEIGHT = 9] = "CHIP_HEIGHT";
e[e.CHIP_START_SCALE = .54] = "CHIP_START_SCALE";
e[e.CHIP_END_SCALE = .45] = "CHIP_END_SCALE";
e[e.BANKER_POSITION_Y = 500] = "BANKER_POSITION_Y";
})(r = o.BJ_BET_PARAMS || (o.BJ_BET_PARAMS = {}));
(function(e) {
e[e.bet = 1] = "bet";
e[e.draw = 2] = "draw";
e[e.win = 3] = "win";
})(s = o.BJ_VALUE_TYPE || (o.BJ_VALUE_TYPE = {}));
(function(e) {
e.SLOW2QUICK = "quadIn";
e.QUICK2SLOW = "quadOut";
})(c = o.BJ_ANIM_TYPE || (o.BJ_ANIM_TYPE = {}));
(function(e) {
e[e.CARD = 10] = "CARD";
e[e.CHIP_SIDEPOT = 20] = "CHIP_SIDEPOT";
e[e.CHIP = 30] = "CHIP";
e[e.FLY_CHIP = 100] = "FLY_CHIP";
e[e.FLY_CARD = 200] = "FLY_CARD";
e[e.ANIM = 999] = "ANIM";
})(l = o.BJ_ZINDEX || (o.BJ_ZINDEX = {}));
(function(e) {
e[e.CARD_ORIGIN_WIDTH = 142] = "CARD_ORIGIN_WIDTH";
e[e.CARD_ORIGIN_HEIGHT = 192] = "CARD_ORIGIN_HEIGHT";
e[e.CARD_HOR_GAP = 38] = "CARD_HOR_GAP";
e[e.SINGLE_CARD_HOR_GAP = 46] = "SINGLE_CARD_HOR_GAP";
e[e.CARD_VER_GAP = 54] = "CARD_VER_GAP";
e[e.CARD_WAVE_GAP9 = 9] = "CARD_WAVE_GAP9";
e[e.CARD_WAVE_GAP6 = 6] = "CARD_WAVE_GAP6";
e[e.CARD_FLY_DURATION = .4] = "CARD_FLY_DURATION";
e[e.CARD_COLLECT_DURATION = .3] = "CARD_COLLECT_DURATION";
e[e.BANKER_HIT_CARD_DURATION = .3] = "BANKER_HIT_CARD_DURATION";
e[e.BANKER_HIT_CARD_INTERVAL = .4] = "BANKER_HIT_CARD_INTERVAL";
e[e.DEAL_CARD_ROTATION = -122] = "DEAL_CARD_ROTATION";
e[e.RECYCLE_CARD_ROTATION = 0] = "RECYCLE_CARD_ROTATION";
e[e.CARD_SCALE = .73] = "CARD_SCALE";
e[e.CARDS_MAX_WIDTH = 4] = "CARDS_MAX_WIDTH";
})(d = o.BJ_CARD_PARAMS || (o.BJ_CARD_PARAMS = {}));
(function(e) {
e.MAIN_POT_BET = "placeID_main_bet";
e.XTREME_BET = "placeID_xtreme_bet";
e.MIN13_BET = "placeID_min13_bet";
e.MAX13_BET = "placeID_max13_bet";
e.PIAR_BET = "placeID_pair_bet";
e.MAIN_POT_PAY = "placeID_main_pay";
e.XTREME_PAY = "placeID_xtreme_pay";
e.MIN13_PAY = "placeID_min13_pay";
e.MAX13_PAY = "placeID_max13_pay";
e.PIAR_PAY = "placeID_pair_pay";
e.LEFT_BET_VALUE = "placeID_left_bet";
e.LEFT_DOUBLE_VALUE = "placeID_left_double";
e.LEFT_PAY_VALUE = "placeID_left_pay";
e.RIGHT_BET_VALUE = "placeID_right_bet";
e.RIGHT_DOUBLE_VALUE = "placeID_right_double";
e.RIGHT_PAY_VALUE = "placeID_right_pay";
})(o.BJ_CHIPS_VALUE_PLACE_ID || (o.BJ_CHIPS_VALUE_PLACE_ID = {}));
var D = cc._decorator, E = D.ccclass, A = D.property, R = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.chipsNode = null;
t.seatNode = null;
t.tipsNode = null;
t.chipValueTipsNode = null;
t.iconSeatID = null;
t.seatPosition = new cc.Vec2(0, 0);
t.seatID = 0;
t.userID = 0;
t.totalHands = 1;
t.betChipsValue = [ 0, 0, 0, 0, 0, 0, 0 ];
t.lastBetChipsValue = [ 0, 0, 0, 0, 0, 0, 0 ];
t.sidePotBetChips = [ [], [], [], [], [] ];
t.sidePotWinChips = [ [], [], [], [], [] ];
t.singleHandBetChipsList = [];
t.doubleHandsBetLeftChipsList = [];
t.doubleHandsBetRightChipsList = [];
t.singleHandDoubleChipsList = [];
t.doubleHandsDoubleLeftChipsList = [];
t.doubleHandsDoubleRightChipsList = [];
t.singleHandWinChipsList = [];
t.doubleHandsWinLeftChipsList = [];
t.doubleHandsWinRightChipsList = [];
t.singleHandCardNodeList = [];
t.doubleHandsCardNodeListRight = [];
t.doubleHandsCardNodeListLeft = [];
t.insuranceBetPosition = null;
t.insurancePayPosition = null;
t.insuranceChipNodeList = [];
t.insuranceChipPayList = [];
t.singleHandBetPostions = [];
t.singleHandWinPayPostions = [];
t.singleDoubleBetPosition = null;
t.singleHandLeftCardPositions = null;
t.singleHandRightCardPositions = null;
t.singleHandCenterCardPositions = null;
t.doubleHandsChipPositions = [];
t.doubleHandsLeftCardPostion = null;
t.doubleHandsRightCardPostion = null;
t.handCardRotation = 0;
t.singleCardMoveX = 0;
t.singleCardMoveY = 0;
t.singleCardGapX = 0;
t.singleCardGapY = 0;
t.doubleCardVerMoveX = 0;
t.doubleCardVerMoveY = 0;
t.doubleCardHriMoveX = 0;
t.doubleCardHriMoveY = 0;
t.doubleCardGapY = 0;
t.doubleCardGapX = 0;
t.handCardScale = 1;
t.leftPoint = null;
t.rightPoint = null;
t.leftResult = null;
t.rightResult = null;
t.selfBetStartPositions = [];
t.bet3 = null;
t.bet_13 = null;
t.bet13 = null;
t.betPair = null;
t.bet7s = null;
t.isActionCompelted = !1;
t.leftTipsStopTag = !1;
t.rightTipsStopTag = !1;
t.cardTypeAnimPositions = {};
t.animNode = null;
t.seatPositionID = 0;
return t;
}
t.prototype.onLoad = function() {
this.node.getChildByName("btnBetMain").on("click", this.onBetMain, this);
this.bet3 = this.node.getChildByName("btnBet3");
this.bet3.on("click", this.onBet3, this);
this.bet_13 = this.node.getChildByName("btnBet-13");
this.bet_13.on("click", this.onBet_13, this);
this.bet13 = this.node.getChildByName("btnBet+13");
this.bet13.on("click", this.onBet13, this);
this.betPair = this.node.getChildByName("btnBetPair");
this.betPair.on("click", this.onBetPair, this);
this.bet7s = this.node.getChildByName("btnBet7s");
this.bet7s.on("click", this.onBet7s, this);
this.iconSeatID = this.node.getChildByName("seatNO");
this.seatNode = this.node.getChildByName("seat").getComponent(T.default);
this.chipsNode = new cc.Node();
this.chipsNode.parent = this.node.parent;
this.chipsNode.zIndex = 100;
this.chipValueTipsNode = new cc.Node();
this.chipValueTipsNode.parent = this.node.parent;
this.chipValueTipsNode.zIndex = 200;
this.animNode = new cc.Node();
this.animNode.parent = this.node.parent;
this.animNode.zIndex = 300;
};
t.prototype.init = function(e) {
if (e == v.BJRoomType.sevens) {
this.bet13.active = !1;
this.bet3.y = 104;
this.bet_13.active = !1;
this.betPair.y = 104;
} else {
this.bet7s.active = !1;
this.bet3.y = 44;
this.betPair.y = 44;
}
if (this.seatPositionID == v.BJSeatPositionID.LEFT) if (e == v.BJRoomType.sevens) {
this.singleHandWinPayPostions = [ new cc.Vec2(-701, 82.5), new cc.Vec2(-718, 251.5), new cc.Vec2(-471, 254.5), new cc.Vec2(-362, 144.5), new cc.Vec2(-366, 40.5), new cc.Vec2(-431, 201) ];
this.singleHandBetPostions = [ new cc.Vec2(-634, 52.5), new cc.Vec2(-647, 251.5), new cc.Vec2(-543, 254.5), new cc.Vec2(-434, 144.5), new cc.Vec2(-437, 40.5), new cc.Vec2(-487, 201) ];
this.cardTypeAnimPositions[v.BJBetAreaID.xtreme] = new cc.Vec2(-680, 222);
this.cardTypeAnimPositions[v.BJBetAreaID.pair] = new cc.Vec2(-468, 9.5);
this.cardTypeAnimPositions[v.BJBetAreaID.sevens] = new cc.Vec2(-519, 172);
} else {
this.singleHandWinPayPostions = [ new cc.Vec2(-701, 82.5), new cc.Vec2(-757, 209.5), new cc.Vec2(-471, 254.5), new cc.Vec2(-362, 144.5), new cc.Vec2(-405, -.5), new cc.Vec2(-431, 201) ];
this.singleHandBetPostions = [ new cc.Vec2(-634, 52.5), new cc.Vec2(-687, 209.5), new cc.Vec2(-543, 254.5), new cc.Vec2(-434, 144.5), new cc.Vec2(-477, -.5), new cc.Vec2(-487, 201) ];
this.cardTypeAnimPositions[v.BJBetAreaID.xtreme] = new cc.Vec2(-718.5, 182.5);
this.cardTypeAnimPositions[v.BJBetAreaID.pair] = new cc.Vec2(-507.5, -28);
} else if (this.seatPositionID == v.BJSeatPositionID.CENTER) if (e == v.BJRoomType.sevens) {
this.singleHandWinPayPostions = [ new cc.Vec2(70, -167.5), new cc.Vec2(-232, -8), new cc.Vec2(-156, 73.5), new cc.Vec2(155, 73.5), new cc.Vec2(234, -8), new cc.Vec2(72, 77) ];
this.singleHandBetPostions = [ new cc.Vec2(0, -167.5), new cc.Vec2(-161, -8), new cc.Vec2(-85, 73.5), new cc.Vec2(84, 73.5), new cc.Vec2(162.5, -8), new cc.Vec2(0, 77) ];
this.cardTypeAnimPositions[v.BJBetAreaID.xtreme] = new cc.Vec2(-163, -58);
this.cardTypeAnimPositions[v.BJBetAreaID.pair] = new cc.Vec2(163, -58);
this.cardTypeAnimPositions[v.BJBetAreaID.sevens] = new cc.Vec2(0, 27);
} else {
this.singleHandWinPayPostions = [ new cc.Vec2(70, -167.5), new cc.Vec2(-232, -71.5), new cc.Vec2(-156, 73.5), new cc.Vec2(155, 73.5), new cc.Vec2(232, -71.5), new cc.Vec2(72, 77) ];
this.singleHandBetPostions = [ new cc.Vec2(0, -167.5), new cc.Vec2(-161, -71.5), new cc.Vec2(-85, 73.5), new cc.Vec2(84, 73.5), new cc.Vec2(163, -71.5), new cc.Vec2(0, 77) ];
this.cardTypeAnimPositions[v.BJBetAreaID.xtreme] = new cc.Vec2(-161, -118);
this.cardTypeAnimPositions[v.BJBetAreaID.pair] = new cc.Vec2(163, -118);
} else if (this.seatPositionID == v.BJSeatPositionID.RIGHT) if (e == v.BJRoomType.sevens) {
this.singleHandWinPayPostions = [ new cc.Vec2(698, 79.5), new cc.Vec2(366, 41.5), new cc.Vec2(362, 142.5), new cc.Vec2(471, 252.5), new cc.Vec2(718, 252.5), new cc.Vec2(416, 201) ];
this.singleHandBetPostions = [ new cc.Vec2(628, 59.5), new cc.Vec2(437, 41.5), new cc.Vec2(433, 142.5), new cc.Vec2(542, 252.5), new cc.Vec2(647, 252.5), new cc.Vec2(487, 201) ];
this.cardTypeAnimPositions[v.BJBetAreaID.xtreme] = new cc.Vec2(466.5, 9);
this.cardTypeAnimPositions[v.BJBetAreaID.pair] = new cc.Vec2(678.5, 221);
this.cardTypeAnimPositions[v.BJBetAreaID.sevens] = new cc.Vec2(508.5, 170);
} else {
this.singleHandWinPayPostions = [ new cc.Vec2(698, 79.5), new cc.Vec2(406, -1.5), new cc.Vec2(362, 142.5), new cc.Vec2(471, 252.5), new cc.Vec2(759, 209.5), new cc.Vec2(416, 201) ];
this.singleHandBetPostions = [ new cc.Vec2(628, 59.5), new cc.Vec2(477, -1.5), new cc.Vec2(433, 142.5), new cc.Vec2(542, 252.5), new cc.Vec2(688, 209.5), new cc.Vec2(487, 201) ];
this.cardTypeAnimPositions[v.BJBetAreaID.xtreme] = new cc.Vec2(505.5, -30);
this.cardTypeAnimPositions[v.BJBetAreaID.pair] = new cc.Vec2(716.5, 181);
}
this.initSeatInfo();
};
t.prototype.start = function() {};
t.prototype.getUserID = function() {
return this.userID;
};
t.prototype.initSeatInfo = function() {
this.userID = 0;
var e = this.seatNode.node.parent.convertToWorldSpaceAR(this.seatNode.node.position);
this.seatPosition = new cc.Vec2(e.x - u.ScreenData.designHalfWidth, e.y - u.ScreenData.designHalfHeight);
this.selfBetStartPositions = [ new cc.Vec2(-350, -263), new cc.Vec2(-190, -290), new cc.Vec2(0, -302), new cc.Vec2(190, -290), new cc.Vec2(350, -263) ];
if (this.seatPositionID == v.BJSeatPositionID.LEFT) {
this.doubleHandsChipPositions[0] = [ new cc.Vec2(-582, 19.5), new cc.Vec2(-525, -50.5), new cc.Vec2(-468, -110.5) ];
this.doubleHandsChipPositions[1] = [ new cc.Vec2(-671, 92.5), new cc.Vec2(-728, 152.5), new cc.Vec2(-785, 222.5) ];
this.handCardRotation = -45;
this.singleHandLeftCardPositions = new cc.Vec2(-572, 149);
this.singleHandRightCardPositions = new cc.Vec2(-536.5, 120);
this.singleHandCenterCardPositions = new cc.Vec2(-554.25, 134.5);
this.doubleHandsLeftCardPostion = new cc.Vec2(-666.5, 242);
this.doubleHandsRightCardPostion = new cc.Vec2(-518.5, 94.5);
this.handCardScale = .92;
this.singleCardMoveX = .92 * -d.SINGLE_CARD_HOR_GAP * Math.sin(45 / (180 / Math.PI)) / 2;
this.singleCardMoveY = .92 * d.SINGLE_CARD_HOR_GAP * Math.cos(45 / (180 / Math.PI)) / 2;
this.singleCardGapX = d.CARD_WAVE_GAP6 * Math.sin(45 / (180 / Math.PI)) / 2;
this.singleCardGapY = d.CARD_WAVE_GAP6 * Math.cos(45 / (180 / Math.PI)) / 2;
this.doubleCardVerMoveX = d.CARD_VER_GAP * Math.sin(45 / (180 / Math.PI));
this.doubleCardVerMoveY = d.CARD_VER_GAP * Math.cos(45 / (180 / Math.PI));
this.doubleCardHriMoveX = .92 * d.CARD_HOR_GAP * Math.sin(45 / (180 / Math.PI));
this.doubleCardHriMoveY = .92 * -d.CARD_HOR_GAP * Math.cos(45 / (180 / Math.PI));
this.doubleCardGapY = d.CARD_WAVE_GAP9 * Math.cos(45 / (180 / Math.PI));
this.doubleCardGapX = d.CARD_WAVE_GAP9 * Math.cos(45 / (180 / Math.PI));
this.insuranceBetPosition = new cc.Vec2(-346, 333.5);
this.insurancePayPosition = new cc.Vec2(-276, 333.5);
this.singleDoubleBetPosition = new cc.Vec2(-584, -3.5);
this.tipsNode = this.node.parent.getChildByName("playerLeftTipsNode");
this.seatID = 3;
C.default.loadSpriteFrame(this.iconSeatID, "seat_no3", "ExBlackjack/exblackjack");
} else if (this.seatPositionID == v.BJSeatPositionID.CENTER) {
this.doubleHandsChipPositions[0] = [ new cc.Vec2(68, -167.5), new cc.Vec2(146, -167.5), new cc.Vec2(220, -167.5) ];
this.doubleHandsChipPositions[1] = [ new cc.Vec2(-73, -167.5), new cc.Vec2(-147, -167.5), new cc.Vec2(-225, -167.5) ];
this.handCardRotation = 0;
this.singleHandLeftCardPositions = new cc.Vec2(-23, -28);
this.singleHandRightCardPositions = new cc.Vec2(23, -22);
this.singleHandCenterCardPositions = new cc.Vec2(0, -28);
this.doubleHandsLeftCardPostion = new cc.Vec2(-168.5, -21);
this.doubleHandsRightCardPostion = new cc.Vec2(59.5, -21);
this.handCardScale = 1;
this.singleCardMoveX = -d.SINGLE_CARD_HOR_GAP / 2;
this.singleCardMoveY = 0;
this.singleCardGapX = 0;
this.singleCardGapY = d.CARD_WAVE_GAP6;
this.doubleCardVerMoveX = 0;
this.doubleCardVerMoveY = d.CARD_VER_GAP;
this.doubleCardHriMoveX = d.CARD_HOR_GAP;
this.doubleCardHriMoveY = 0;
this.doubleCardGapY = d.CARD_WAVE_GAP9;
this.doubleCardGapX = 0;
this.insuranceBetPosition = new cc.Vec2(0, 253.5);
this.insurancePayPosition = new cc.Vec2(-69, 253.5);
this.singleDoubleBetPosition = new cc.Vec2(-70, -167.5);
this.seatID = 2;
this.tipsNode = this.node.parent.getChildByName("playerCenterTipsNode");
C.default.loadSpriteFrame(this.iconSeatID, "seat_no2", "ExBlackjack/exblackjack");
} else if (this.seatPositionID == v.BJSeatPositionID.RIGHT) {
this.doubleHandsChipPositions[0] = [ new cc.Vec2(651, 66.5), new cc.Vec2(708, 136.5), new cc.Vec2(765, 206.5) ];
this.doubleHandsChipPositions[1] = [ new cc.Vec2(562, -6.5), new cc.Vec2(505, -76.5), new cc.Vec2(448, -136.5) ];
this.handCardRotation = 45;
this.singleHandLeftCardPositions = new cc.Vec2(540.5, 118);
this.singleHandRightCardPositions = new cc.Vec2(567, 151);
this.singleHandCenterCardPositions = new cc.Vec2(553.5, 134.5);
this.doubleHandsLeftCardPostion = new cc.Vec2(453.5, 16.5);
this.doubleHandsRightCardPostion = new cc.Vec2(601.5, 165);
this.handCardScale = .92;
this.singleCardMoveX = .92 * -d.SINGLE_CARD_HOR_GAP * Math.sin(45 / (180 / Math.PI)) / 2;
this.singleCardMoveY = .92 * -d.SINGLE_CARD_HOR_GAP * Math.cos(45 / (180 / Math.PI)) / 2;
this.singleCardGapX = d.CARD_WAVE_GAP6 * Math.sin(45 / (180 / Math.PI)) / 2;
this.singleCardGapY = d.CARD_WAVE_GAP6 * Math.cos(45 / (180 / Math.PI)) / 2;
this.doubleCardVerMoveX = -d.CARD_VER_GAP * Math.sin(45 / (180 / Math.PI));
this.doubleCardVerMoveY = d.CARD_VER_GAP * Math.cos(45 / (180 / Math.PI));
this.doubleCardHriMoveX = .92 * d.CARD_HOR_GAP * Math.sin(45 / (180 / Math.PI));
this.doubleCardHriMoveY = .92 * d.CARD_HOR_GAP * Math.cos(45 / (180 / Math.PI));
this.doubleCardGapY = d.CARD_WAVE_GAP9 * Math.sin(45 / (180 / Math.PI));
this.doubleCardGapX = -d.CARD_WAVE_GAP9 * Math.cos(45 / (180 / Math.PI));
this.insuranceBetPosition = new cc.Vec2(353, 333.5);
this.insurancePayPosition = new cc.Vec2(284, 333.5);
this.singleDoubleBetPosition = new cc.Vec2(578, -3.5);
this.seatID = 1;
this.tipsNode = this.node.parent.getChildByName("playerRightTipsNode");
C.default.loadSpriteFrame(this.iconSeatID, "seat_no1", "ExBlackjack/exblackjack");
}
this.tipsNode.zIndex = 150;
this.seatNode.seatID = this.seatID;
this.leftPoint = this.tipsNode.getChildByName("leftPointsTips");
this.leftPoint.name = "left";
this.leftPoint.scaleX = -this.node.scaleX;
this.leftPoint.scaleY = this.node.scaleY;
this.rightPoint = this.tipsNode.getChildByName("rightPointsTips");
this.rightPoint.name = "right";
this.rightPoint.scale = this.node.scale;
this.leftResult = this.tipsNode.getChildByName("leftResultTips");
this.leftResult.name = "leftResult";
this.rightResult = this.tipsNode.getChildByName("rightResultTips");
this.rightResult.name = "rightResult";
this.leftPoint.opacity = 0;
this.rightPoint.opacity = 0;
this.leftResult.opacity = 0;
this.rightResult.opacity = 0;
this.seatNode.setName();
};
t.prototype.onConnect = function() {
this.unscheduleAllCallbacks();
this.seatNode.setName();
this.seatNode.lightHead();
this.node.stopAllActions();
this.hideSelfInsuranceTips();
this.isActionCompelted = !1;
this.totalHands = 1;
this.chipsNode.removeAllChildren(!0);
this.chipValueTipsNode.removeAllChildren(!0);
this.betChipsValue = [ 0, 0, 0, 0, 0, 0, 0 ];
this.sidePotBetChips = [ [], [], [], [], [] ];
this.sidePotWinChips = [ [], [], [], [], [] ];
this.singleHandBetChipsList = [];
this.doubleHandsBetLeftChipsList = [];
this.doubleHandsBetRightChipsList = [];
this.singleHandDoubleChipsList = [];
this.doubleHandsDoubleLeftChipsList = [];
this.doubleHandsDoubleRightChipsList = [];
this.singleHandWinChipsList = [];
this.doubleHandsWinLeftChipsList = [];
this.doubleHandsWinRightChipsList = [];
this.singleHandCardNodeList = [];
this.doubleHandsCardNodeListRight = [];
this.doubleHandsCardNodeListLeft = [];
this.insuranceChipNodeList = [];
this.insuranceChipPayList = [];
C.default.loadSpriteFrame(this.bet7s, "7s", "ExBlackjack/exblackjack");
C.default.loadSpriteFrame(this.betPair, "bet_pair", "ExBlackjack/exblackjack");
C.default.loadSpriteFrame(this.bet_13, "bet_-13", "ExBlackjack/exblackjack");
C.default.loadSpriteFrame(this.bet3, "bet_3", "ExBlackjack/exblackjack");
C.default.loadSpriteFrame(this.bet13, "bet_+13", "ExBlackjack/exblackjack");
this.leftPoint.opacity = 0;
this.leftPoint.stopAllActions();
this.rightPoint.opacity = 0;
this.rightPoint.stopAllActions();
this.leftResult.opacity = 0;
this.rightResult.opacity = 0;
this.leftTipsStopTag = !1;
this.rightTipsStopTag = !1;
this.resetOperationButtons();
this.setSidePotEnabled(!1);
};
t.prototype.reset = function() {
this.unscheduleAllCallbacks();
this.seatNode.setName();
this.seatNode.lightHead();
this.node.stopAllActions();
this.hideSelfInsuranceTips();
this.isActionCompelted = !1;
this.totalHands = 1;
this.chipsNode.removeAllChildren(!0);
this.chipValueTipsNode.removeAllChildren(!0);
this.lastBetChipsValue = this.betChipsValue;
this.betChipsValue = [ 0, 0, 0, 0, 0, 0, 0 ];
this.sidePotBetChips = [ [], [], [], [], [] ];
this.sidePotWinChips = [ [], [], [], [], [] ];
this.singleHandBetChipsList = [];
this.doubleHandsBetLeftChipsList = [];
this.doubleHandsBetRightChipsList = [];
this.singleHandDoubleChipsList = [];
this.doubleHandsDoubleLeftChipsList = [];
this.doubleHandsDoubleRightChipsList = [];
this.singleHandWinChipsList = [];
this.doubleHandsWinLeftChipsList = [];
this.doubleHandsWinRightChipsList = [];
this.singleHandCardNodeList = [];
this.doubleHandsCardNodeListRight = [];
this.doubleHandsCardNodeListLeft = [];
this.insuranceChipNodeList = [];
this.insuranceChipPayList = [];
C.default.loadSpriteFrame(this.bet7s, "7s", "ExBlackjack/exblackjack");
C.default.loadSpriteFrame(this.betPair, "bet_pair", "ExBlackjack/exblackjack");
C.default.loadSpriteFrame(this.bet_13, "bet_-13", "ExBlackjack/exblackjack");
C.default.loadSpriteFrame(this.bet3, "bet_3", "ExBlackjack/exblackjack");
C.default.loadSpriteFrame(this.bet13, "bet_+13", "ExBlackjack/exblackjack");
this.leftPoint.opacity = 0;
this.leftPoint.stopAllActions();
this.rightPoint.opacity = 0;
this.rightPoint.stopAllActions();
this.leftResult.opacity = 0;
this.rightResult.opacity = 0;
this.leftTipsStopTag = !1;
this.rightTipsStopTag = !1;
this.resetOperationButtons();
this.setSidePotEnabled(!1);
};
t.prototype.initSelfOperationBtn = function() {
if (v.BJGameStatus.chipin == S.default.currGameStatus) {
this.isBet() ? this.setSidePotEnabled(!0) : this.setSidePotEnabled(!1);
if (this.isMySelf) if (this.isBet()) h.MyEvent.getInstance().emit("BJ_USER_START_BET", this.userID); else {
h.MyEvent.getInstance().emit("BJ_USER_CANCEL_BET", this.userID);
var e = this.getLastBetMoney();
e > 0 && S.default.selfMoney > e ? I.default.inst.setOperationBetButtonEnabled(N.BJOperationBetButtonID.repeat, !0) : I.default.inst.setOperationBetButtonEnabled(N.BJOperationBetButtonID.repeat, !1);
e > 0 && S.default.selfMoney > 2 * e ? I.default.inst.setOperationBetButtonEnabled(N.BJOperationBetButtonID.double, !0) : I.default.inst.setOperationBetButtonEnabled(N.BJOperationBetButtonID.double, !1);
}
}
};
t.prototype.isBet = function() {
return this.betChipsValue[0] > 0;
};
t.prototype.getBetValue = function() {
return this.betChipsValue[0] > 0 ? this.betChipsValue[0] : 0;
};
t.prototype.startTimer = function(e, t, o) {
this.seatNode.startTimer(e, t, o);
};
t.prototype.stopTimer = function() {
this.seatNode.stopTimer();
};
t.prototype.getLastBetMoney = function() {
for (var e = 0, t = this.lastBetChipsValue, o = 0; o < t.length; o++) e += t[o];
return e;
};
t.prototype.getCurrBetMoney = function() {
for (var e = 0, t = this.betChipsValue, o = 0; o < t.length; o++) e += t[o];
return e;
};
t.prototype.resetOperationButtons = function() {
if (this.isMySelf) {
var e = this.getLastBetMoney();
e > 0 && S.default.selfMoney > e ? I.default.inst.setOperationBetButtonEnabled(N.BJOperationBetButtonID.repeat, !0) : I.default.inst.setOperationBetButtonEnabled(N.BJOperationBetButtonID.repeat, !1);
e > 0 && S.default.selfMoney > 2 * e ? I.default.inst.setOperationBetButtonEnabled(N.BJOperationBetButtonID.double, !0) : I.default.inst.setOperationBetButtonEnabled(N.BJOperationBetButtonID.double, !1);
I.default.inst.setOperationButtonEnabled(w.BJOperationButtonID.split, !1);
I.default.inst.setOperationButtonEnabled(w.BJOperationButtonID.stop, !0);
I.default.inst.setOperationButtonEnabled(w.BJOperationButtonID.hit, !0);
I.default.inst.setOperationButtonEnabled(w.BJOperationButtonID.double, !0);
}
};
t.prototype.activeOperationButton = function() {
I.default.inst.setOperationButtonEnabled(w.BJOperationButtonID.split, !1);
I.default.inst.setOperationButtonEnabled(w.BJOperationButtonID.stop, !0);
I.default.inst.setOperationButtonEnabled(w.BJOperationButtonID.hit, !0);
I.default.inst.setOperationButtonEnabled(w.BJOperationButtonID.double, !1);
};
t.prototype.setSidePotEnabled = function(e) {
if (e) {
C.default.loadSpriteFrame(this.bet7s, "7s_highLight", "ExBlackjack/exblackjack");
C.default.loadSpriteFrame(this.betPair, "bet_pair_highLight", "ExBlackjack/exblackjack");
C.default.loadSpriteFrame(this.bet_13, "bet_-13_highLight", "ExBlackjack/exblackjack");
C.default.loadSpriteFrame(this.bet3, "bet_3_highLight", "ExBlackjack/exblackjack");
C.default.loadSpriteFrame(this.bet13, "bet_+13_highLight", "ExBlackjack/exblackjack");
} else {
C.default.loadSpriteFrame(this.bet7s, "7s", "ExBlackjack/exblackjack");
C.default.loadSpriteFrame(this.betPair, "bet_pair", "ExBlackjack/exblackjack");
C.default.loadSpriteFrame(this.bet_13, "bet_-13", "ExBlackjack/exblackjack");
C.default.loadSpriteFrame(this.bet3, "bet_3", "ExBlackjack/exblackjack");
C.default.loadSpriteFrame(this.bet13, "bet_+13", "ExBlackjack/exblackjack");
}
this.bet13.getComponent(cc.Button).interactable = e;
this.bet3.getComponent(cc.Button).interactable = e;
this.betPair.getComponent(cc.Button).interactable = e;
this.bet7s.getComponent(cc.Button).interactable = e;
this.bet_13.getComponent(cc.Button).interactable = e;
};
t.prototype.getSeatStatus = function() {
return this.seatNode.myState;
};
t.prototype.initPlayerInfo = function(e) {
this.userID = e.userID;
this.initCardInfo(e.cardData);
this.initSelfOperationBtn();
};
t.prototype.stopAllActions = function() {
this.leftPoint.stopAllActions();
this.rightPoint.stopAllActions();
this.node.stopAllActions();
this.unscheduleAllCallbacks();
};
t.prototype.getSeatID = function() {
return this.seatNode.seatID;
};
t.prototype.getPositionSeatID = function() {
return this.seatPositionID;
};
t.prototype.showChatMsg = function() {};
t.prototype.showEjimo = function() {};
t.prototype.showSeat = function() {
this.seatNode.node.active = !0;
this.seatNode.setName();
};
t.prototype.hideSeat = function() {
this.seatNode.node.active = !1;
};
t.prototype.refreshSeatState = function() {
this.seatNode.changeState();
};
t.prototype.sitDown = function(e) {
this.userID = e.userID;
this.seatID = e.seatID;
C.default.loadSpriteFrame(this.iconSeatID, "seat_no" + this.seatID, "ExBlackjack/exblackjack");
this.seatNode.sitDown(e);
};
t.prototype.setSeatID = function(e) {
this.seatID = e;
C.default.loadSpriteFrame(this.iconSeatID, "seat_no" + this.seatID, "ExBlackjack/exblackjack");
this.seatNode.seatID = this.seatID;
};
t.prototype.standUp = function() {
this.userID = 0;
this.seatNode.standUp();
};
t.prototype.updateMoney = function(e) {
this.seatNode.setMoney(e);
};
t.prototype.initCardInfo = function(e) {
var t = e.length;
this.totalHands = t;
for (var o = 0; o < t; o++) {
for (var i = e[o], n = i.handIndex, a = (i.isActionDown, i.isSettleEnd, i.isDouble), r = i.cardData, s = i.betData, c = 0; c < s.length; c++) {
var l = s[c], d = l.betAreaID, h = l.betValue;
if (d == v.BJBetAreaID.main) if (a) {
var u = h / 2;
this.betChipsValue[d - 1] = this.betChipsValue[d - 1] + u;
this.chipBet(d, u, n, !0);
this.chipDoubleBet(u, n, !0);
} else {
this.betChipsValue[d - 1] = this.betChipsValue[d - 1] + h;
this.chipBet(d, h, n, !0);
} else if (d <= v.BJBetAreaID.sevens && d >= v.BJBetAreaID.xtreme) {
this.betChipsValue[d - 1] = this.betChipsValue[d - 1] + h;
S.default.currGameStatus != v.BJGameStatus.chipin && S.default.currGameStatus != v.BJGameStatus.deal_card && S.default.currGameStatus != v.BJGameStatus.side_pot_settlement || this.chipBet(d, h, n, !0);
} else d == v.BJBetAreaID.insurance && this.chipInsuranceBet(h, !0);
}
for (var p = 0; p < r.length; p++) {
var f = r[p];
this.dealCard(f.cardValue, n, !0);
}
}
0 == this.totalHands && (this.totalHands = 1);
};
t.prototype.getSeatPosition = function() {
return this.seatPosition;
};
t.prototype.wearGift = function() {};
t.prototype.onBetMain = function() {
this.bet(v.BJBetAreaID.main);
};
t.prototype.onBet3 = function() {
this.bet(v.BJBetAreaID.xtreme);
};
t.prototype.onBet_13 = function() {
this.bet(v.BJBetAreaID.min13);
};
t.prototype.onBet13 = function() {
this.bet(v.BJBetAreaID.max13);
};
t.prototype.onBetPair = function() {
this.bet(v.BJBetAreaID.pair);
};
t.prototype.onBet7s = function() {
this.bet(v.BJBetAreaID.sevens);
};
t.prototype.bet = function(e) {
if (this.userID == p.default.UserData.userId && S.default.currGameStatus == v.BJGameStatus.chipin) if (S.default.currSelectBet > S.default.selfMoney) {
_.default.inst.playEffect("new_res_betTipsSound");
g.default.inst.showDialog(g.DialogIndex.chipInsufficient, S.default.minChip);
} else {
var t = {};
t.betAreaID = e;
t.betMoney = S.default.currSelectBet;
var o = [];
o.push(t);
y.default.getInstance().socketSend.bjUserBet(o);
}
};
t.prototype.onUserBet = function(e) {
if (0 == this.betChipsValue[0]) {
h.MyEvent.getInstance().emit("BJ_USER_START_BET", this.userID);
this.setSidePotEnabled(!0);
}
for (var t = 0; t < e.length; t++) {
var o = e[t].betAreaID, i = e[t].betMoney;
this.betChipsValue[o - 1] = this.betChipsValue[o - 1] + i;
this.chipBet(o, i);
if (this.seatID == S.default.selfSeatID) {
S.default.selfMoney = S.default.selfMoney - i;
h.MyEvent.getInstance().emit("UPDATE_SELF_INFO_MONEY", S.default.selfMoney);
}
}
this.isMySelf && I.default.inst.setOperationBetButtonEnabled(N.BJOperationBetButtonID.double, this.canBetDouble());
};
t.prototype.onUserCompleteBet = function() {
this.seatNode.stopTimer();
this.seatNode.setReady();
this.setSidePotEnabled(!1);
};
t.prototype.onUserCancelBet = function(e) {
this.betChipsValue = [ 0, 0, 0, 0, 0, 0, 0 ];
this.setSidePotEnabled(!1);
if (this.isMySelf) {
this.resetOperationButtons();
S.default.selfMoney = e.userMoney;
h.MyEvent.getInstance().emit("UPDATE_SELF_INFO_MONEY", S.default.selfMoney);
}
this.seatNode.setMoney(e.userMoney);
h.MyEvent.getInstance().emit("BJ_USER_CANCEL_BET", this.userID);
this.clearValueTips();
this.chipCancel();
};
t.prototype.onUserAction = function(e) {
var t = this, o = e.handIndex, i = e.actionID;
if (i == v.BJUserAction.hit) {
var n = e.card;
this.onUserHit(o, n);
} else if (i == v.BJUserAction.split) {
n = e.card;
var a = e.newHandIndex, r = e.newCard;
this.onUserSplit(o, n, a, r);
this.stopTimer();
} else if (i == v.BJUserAction.double) {
n = e.card;
this.onUserDouble(o, n);
this.stopTimer();
} else if (i == v.BJUserAction.stop) {
this.onUserStop(o);
this.stopTimer();
} else if (i == v.BJUserAction.surrender) {
this.onUserSurrender();
this.stopTimer();
}
(1 == this.totalHands || 2 == this.totalHands && 2 == o) && (i != v.BJUserAction.stop && i != v.BJUserAction.double && i != v.BJUserAction.surrender || (this.isActionCompelted = !0));
if (this.isMySelf) {
h.MyEvent.getInstance().emit("GRAY_ACTION_BAR");
if (i == v.BJUserAction.hit) {
var s = I.default.inst.getBlackJackPoints(this.singleHandCardNodeList);
2 == this.totalHands && (1 == o ? s = I.default.inst.getBlackJackPoints(this.doubleHandsCardNodeListRight) : 2 == o && (s = I.default.inst.getBlackJackPoints(this.doubleHandsCardNodeListLeft)));
s[0] < 21 ? this.scheduleOnce(function() {
t.activeOperationButton();
}, .5) : this.isActionCompelted = !0;
}
}
};
t.prototype.showSystemMsg = function() {};
t.prototype.isActionCompleted = function() {
return this.isActionCompelted;
};
t.prototype.onUserSurrender = function() {};
t.prototype.onUserStop = function(e) {
1 == e ? this.stopPointTipsAction("right") : 2 == e && this.stopPointTipsAction("left");
this.showResultPoint(e);
};
t.prototype.onUserSplit = function(e, t, o, i) {
var n = this;
this.totalHands = 2;
this.splitCard();
this.splitBet();
this.scheduleOnce(function() {
n.dealCard(t, e);
}, .8);
this.scheduleOnce(function() {
n.dealCard(i, o);
}, 1.5);
};
t.prototype.splitBet = function(e) {
var t = e || !1;
this.doubleHandsBetRightChipsList = this.singleHandBetChipsList;
for (var o = this.doubleHandsBetRightChipsList.length, i = 0; i < o; i++) {
var n = this.doubleHandsBetRightChipsList[i];
if (t) {
n.setPositionX(this.doubleHandsChipPositions[0][0].x);
n.scale = r.CHIP_END_SCALE;
} else cc.tween(n).delay(u.ConstNumber.zero).to(r.CHIP_FLY_DURATION, {
x: this.doubleHandsChipPositions[0][0].x,
y: n.y,
scale: r.CHIP_END_SCALE
}, {
easing: "quadOut"
}).call(function() {}, this).start();
}
var a = this.betChipsValue[0], s = this.seatPosition, c = this.doubleHandsChipPositions[1][0], l = m.default.inst.getChipNode(a, S.default.moneyType);
_.default.inst.playBet(l.length);
for (i = u.ConstNumber.zero; i < l.length; i++) {
(n = l[i]).scale = r.CHIP_START_SCALE;
n.parent = this.chipsNode;
this.doubleHandsBetLeftChipsList.push(n);
var d = this.doubleHandsBetLeftChipsList.length;
if (t) {
n.setPosition(new cc.Vec2(c.x, c.y + r.CHIP_HEIGHT * (d - 1)));
n.scale = r.CHIP_END_SCALE;
} else {
n.setPosition(s);
cc.tween(n).delay(r.CHIP_FLY_DELAY * i).to(r.CHIP_FLY_DURATION, {
x: c.x,
y: c.y + r.CHIP_HEIGHT * (d - 1),
scale: r.CHIP_END_SCALE
}, {
easing: "quadOut"
}).call(function() {}, this).start();
}
}
if (this.seatID == S.default.selfSeatID) {
S.default.selfMoney = S.default.selfMoney - a;
h.MyEvent.getInstance().emit("UPDATE_SELF_INFO_MONEY", S.default.selfMoney);
}
this.seatNode.changeMoney(-a);
};
t.prototype.onUserDouble = function(e, t) {
this.dealCard(t, e);
var o = this.betChipsValue[0];
this.chipDoubleBet(o, e);
};
t.prototype.onUserHit = function(e, t) {
this.dealCard(t, e);
};
t.prototype.onUserInsurance = function(e) {
this.stopTimer();
var t = e.money;
t > 0 && this.chipInsuranceBet(t);
};
t.prototype.showSelfInsuranceTips = function() {
if (this.singleHandBetChipsList.length > 0) {
B.default.inst.playSound(B.BJSoundID.insurance);
this.singleHandBetChipsList[this.singleHandBetChipsList.length - 1];
this.canInsurance() ? I.default.inst.setOperationInsuranceButtonEnabled(L.BJOperationInsuranceButtonID.yes, !0) : I.default.inst.setOperationInsuranceButtonEnabled(L.BJOperationInsuranceButtonID.yes, !1);
}
};
t.prototype.hideSelfInsuranceTips = function() {
var e = this.node.parent.getChildByName("chatbox");
null != e && e.removeFromParent(!0);
};
t.prototype.doubleBet = function() {
var e = 1, t = [];
if (0 == this.betChipsValue[0]) {
e = 2;
t = this.lastBetChipsValue;
} else {
e = 1;
t = this.betChipsValue;
}
for (var o = [], i = 0; i < t.length; i++) {
var n = t[i];
if (n > 0) {
var a = {};
a.betAreaID = i + 1;
a.betMoney = n * e;
o.push(a);
}
}
y.default.getInstance().socketSend.bjUserBet(o);
};
t.prototype.repeatBet = function() {
if (!(this.betChipsValue[0] > 0)) {
for (var e = [], t = this.lastBetChipsValue, o = 0; o < t.length; o++) {
var i = t[o];
if (i > 0) {
var n = {};
n.betAreaID = o + 1;
n.betMoney = i;
e.push(n);
}
}
y.default.getInstance().socketSend.bjUserBet(e);
}
};
t.prototype.dealCard = function(e, t, o, i) {
var n = i || 0, a = t || 1, r = o || !1, s = f.default.inst.getTinyCard(e);
s.parent = this.chipsNode;
s.opacity = 0;
s.setPosition(v.BJConst.DEAL_CARDS_POS);
s.zIndex = l.CARD;
s.angle = d.DEAL_CARD_ROTATION;
s.scale = d.CARD_SCALE * this.handCardScale;
S.default.leftCardsInBox--;
h.MyEvent.getInstance().emit("UPDATE_LEFT_CARDS", S.default.leftCardsInBox);
0 == r && _.default.inst.playEffect("new_res_deal");
if (1 == this.totalHands) {
this.singleHandCardNodeList.push(s);
var u = this.singleHandCardNodeList.length, p = this.singleHandLeftCardPositions;
if (1 == u) {
p = this.singleHandLeftCardPositions;
S.default.roomType == v.BJRoomType.sevens && I.default.inst.getBlackJackPoints([ s ])[0];
} else if (2 == u) {
p = this.singleHandRightCardPositions;
S.default.roomType == v.BJRoomType.sevens && I.default.inst.getBlackJackPoints([ s ])[0];
} else if (u > 2) {
var m = this.singleCardGapX, g = this.singleCardGapY;
if (u % 2 == 1) {
m = 0;
g = 0;
}
p = new cc.Vec2(this.singleHandCenterCardPositions.x - (u - 1) * this.singleCardMoveX - m, this.singleHandCenterCardPositions.y - (u - 1) * this.singleCardMoveY + g);
for (var y = 0; y < u - 1; y++) {
var C = this.singleHandCardNodeList[y];
if (r) {
C.setPosition(new cc.Vec2(C.x + this.singleCardMoveX, C.y + this.singleCardMoveY));
C.scale = this.handCardScale * d.CARD_SCALE;
C.angle = this.handCardRotation;
} else cc.tween(C).delay(n).to(d.CARD_FLY_DURATION, {
x: C.x + this.singleCardMoveX,
y: C.y + this.singleCardMoveY,
scale: this.handCardScale * d.CARD_SCALE,
angle: this.handCardRotation
}, {
easing: c.QUICK2SLOW
}).call(function() {}, this).start();
}
}
if (r) {
s.setPosition(p);
s.scale = this.handCardScale * d.CARD_SCALE;
s.angle = this.handCardRotation;
s.opacity = 255;
} else {
s.zIndex = l.FLY_CARD;
cc.tween(s).delay(n).to(0, {
opacity: 255
}).to(d.CARD_FLY_DURATION, {
x: p.x,
y: p.y,
scale: this.handCardScale * d.CARD_SCALE,
angle: this.handCardRotation
}, {
easing: c.QUICK2SLOW
}).call(function() {
s.zIndex = l.CARD;
}, this).start();
}
if (u >= 2) {
var b = I.default.inst.getBlackJackPoints(this.singleHandCardNodeList), B = new cc.Vec2(p.x + 50, p.y + 20);
this.seatPositionID == v.BJSeatPositionID.LEFT ? B = new cc.Vec2(p.x + 45, p.y - 22) : this.seatPositionID == v.BJSeatPositionID.RIGHT && (B = new cc.Vec2(p.x + 71, p.y + 65));
this.showCardPoint(this.rightPoint, B, u, b, r);
}
if (this.isMySelf) {
2 == u && this.canSplit() ? I.default.inst.setOperationButtonEnabled(w.BJOperationButtonID.split, !0) : I.default.inst.setOperationButtonEnabled(w.BJOperationButtonID.split, !1);
2 == u && this.canDouble() ? I.default.inst.setOperationButtonEnabled(w.BJOperationButtonID.double, !0) : I.default.inst.setOperationButtonEnabled(w.BJOperationButtonID.double, !1);
}
} else if (2 == this.totalHands) if (1 == a) {
this.doubleHandsCardNodeListRight.push(s);
m = 0, g = 0;
if ((T = ((u = this.doubleHandsCardNodeListRight.length) - 1) % d.CARDS_MAX_WIDTH) % 2 == 1) {
m = this.doubleCardGapX;
g = this.doubleCardGapY;
}
p = new cc.Vec2(this.doubleHandsRightCardPostion.x + T * this.doubleCardHriMoveX + m, this.doubleHandsRightCardPostion.y + T * this.doubleCardHriMoveY + g);
if (r) {
s.setPosition(p);
s.scale = this.handCardScale * d.CARD_SCALE;
s.angle = this.handCardRotation;
s.opacity = 255;
if (0 == T) for (y = 0; y < this.doubleHandsCardNodeListRight.length - 1; y++) {
var N = this.doubleHandsCardNodeListRight[y];
N.setPosition(new cc.Vec2(N.x + this.doubleCardVerMoveX, N.y + this.doubleCardVerMoveY));
}
} else {
s.zIndex = l.FLY_CARD;
cc.tween(s).delay(n).to(0, {
opacity: 255
}).to(d.CARD_FLY_DURATION, {
x: p.x,
y: p.y,
scale: this.handCardScale * d.CARD_SCALE,
angle: this.handCardRotation
}, {
easing: c.QUICK2SLOW
}).call(function() {
s.zIndex = l.CARD;
}, this).start();
if (u > d.CARDS_MAX_WIDTH && 0 == T) for (y = 0; y < this.doubleHandsCardNodeListRight.length - 1; y++) {
var L = this.doubleHandsCardNodeListRight[y];
cc.tween(L).delay(n).to(d.CARD_FLY_DURATION, {
x: L.x + this.doubleCardVerMoveX,
y: L.y + this.doubleCardVerMoveY,
scale: L.scale,
angle: L.angle
}, {
easing: c.QUICK2SLOW
}).call(function() {}, this).start();
}
}
if (u >= 2) {
b = I.default.inst.getBlackJackPoints(this.doubleHandsCardNodeListRight), B = new cc.Vec2(p.x + 50, p.y + 20);
this.seatPositionID == v.BJSeatPositionID.LEFT ? B = new cc.Vec2(p.x + 45, p.y - 22) : this.seatPositionID == v.BJSeatPositionID.RIGHT && (B = new cc.Vec2(p.x + 75, p.y + 70));
this.showCardPoint(this.rightPoint, B, u, b, r);
}
} else if (2 == a) {
this.doubleHandsCardNodeListLeft.push(s);
var T;
m = 0, g = 0;
if ((T = ((u = this.doubleHandsCardNodeListLeft.length) - 1) % d.CARDS_MAX_WIDTH) % 2 == 1) {
m = this.doubleCardGapX;
g = this.doubleCardGapY;
}
p = new cc.Vec2(this.doubleHandsLeftCardPostion.x + T * this.doubleCardHriMoveX + m, this.doubleHandsLeftCardPostion.y + T * this.doubleCardHriMoveY + g);
if (r) {
s.setPosition(p);
s.scale = this.handCardScale * d.CARD_SCALE;
s.angle = this.handCardRotation;
s.opacity = 255;
if (0 == T) for (y = 0; y < this.doubleHandsCardNodeListLeft.length - 1; y++) {
var D = this.doubleHandsCardNodeListLeft[y];
D.setPosition(new cc.Vec2(D.x + this.doubleCardVerMoveX, D.y + this.doubleCardVerMoveY));
}
} else {
s.zIndex = l.FLY_CARD;
cc.tween(s).delay(n).to(0, {
opacity: 255
}).to(d.CARD_FLY_DURATION, {
x: p.x,
y: p.y,
scale: this.handCardScale * d.CARD_SCALE,
angle: this.handCardRotation
}, {
easing: c.QUICK2SLOW
}).call(function() {
s.zIndex = l.CARD;
}, this).start();
if (u > d.CARDS_MAX_WIDTH && 0 == T) for (y = 0; y < this.doubleHandsCardNodeListLeft.length - 1; y++) {
var E = this.doubleHandsCardNodeListLeft[y];
cc.tween(E).delay(n).to(d.CARD_FLY_DURATION, {
x: E.x + this.doubleCardVerMoveX,
y: E.y + this.doubleCardVerMoveY,
scale: E.scale,
angle: E.angle
}, {
easing: c.QUICK2SLOW
}).call(function() {}, this).start();
}
}
if (u >= 2) {
b = I.default.inst.getBlackJackPoints(this.doubleHandsCardNodeListLeft), B = new cc.Vec2(this.doubleHandsLeftCardPostion.x - 50, this.doubleHandsLeftCardPostion.y + 20);
this.seatPositionID == v.BJSeatPositionID.LEFT ? B = new cc.Vec2(this.doubleHandsLeftCardPostion.x - 22, this.doubleHandsLeftCardPostion.y + 45) : this.seatPositionID == v.BJSeatPositionID.RIGHT && (B = new cc.Vec2(this.doubleHandsLeftCardPostion.x - 15, this.doubleHandsLeftCardPostion.y - 20));
this.showCardPoint(this.leftPoint, B, u, b, r);
}
}
};
t.prototype.getPointPosition = function(e) {
var t = this.seatPositionID;
if (1 == this.totalHands && 1 == e) {
if (!(this.singleHandCardNodeList.length > 0)) return this.rightPoint.getPosition();
var o = this.singleHandCardNodeList[this.singleHandCardNodeList.length - 1].getPosition();
if (t == v.BJSeatPositionID.CENTER) return new cc.Vec2(o.x + 50, o.y + 20);
if (t == v.BJSeatPositionID.LEFT) return new cc.Vec2(o.x + 45, o.y - 22);
if (t == v.BJSeatPositionID.RIGHT) return new cc.Vec2(o.x + 71, o.y + 65);
} else if (2 == this.totalHands) if (1 == e) {
if (!(this.doubleHandsCardNodeListRight.length > 0)) return this.rightPoint.getPosition();
o = this.doubleHandsCardNodeListRight[this.doubleHandsCardNodeListRight.length - 1].getPosition();
if (t == v.BJSeatPositionID.CENTER) return new cc.Vec2(o.x + 50, o.y + 20);
if (t == v.BJSeatPositionID.LEFT) return new cc.Vec2(o.x + 45, o.y - 22);
if (t == v.BJSeatPositionID.RIGHT) return new cc.Vec2(o.x + 75, o.y + 70);
} else if (2 == e) {
if (t == v.BJSeatPositionID.CENTER) return new cc.Vec2(this.doubleHandsLeftCardPostion.x - 50, this.doubleHandsLeftCardPostion.y + 20);
if (t == v.BJSeatPositionID.LEFT) return new cc.Vec2(this.doubleHandsLeftCardPostion.x - 22, this.doubleHandsLeftCardPostion.y + 45);
if (t == v.BJSeatPositionID.RIGHT) return new cc.Vec2(this.doubleHandsLeftCardPostion.x - 15, this.doubleHandsLeftCardPostion.y - 20);
}
};
t.prototype.splitCard = function() {
this.stopAllActions();
this.rightPoint.opacity = 0;
this.doubleHandsCardNodeListRight[0] = this.singleHandCardNodeList[1];
this.doubleHandsCardNodeListLeft[0] = this.singleHandCardNodeList[0];
cc.tween(this.doubleHandsCardNodeListLeft[0]).delay(0).to(r.CHIP_FLY_DURATION, {
x: this.doubleHandsLeftCardPostion.x,
y: this.doubleHandsLeftCardPostion.y,
scale: this.handCardScale * d.CARD_SCALE,
angle: this.handCardRotation
}, {
easing: "quadIn"
}).call(function() {}, this).start();
cc.tween(this.doubleHandsCardNodeListRight[0]).delay(0).to(r.CHIP_FLY_DURATION, {
x: this.doubleHandsRightCardPostion.x,
y: this.doubleHandsRightCardPostion.y,
scale: this.handCardScale * d.CARD_SCALE,
angle: this.handCardRotation
}, {
easing: "quadIn"
}).call(function() {}, this).start();
};
Object.defineProperty(t.prototype, "isMySelf", {
get: function() {
return this.seatID == S.default.selfSeatID;
},
enumerable: !1,
configurable: !0
});
t.prototype.canBetDouble = function() {
var e = this.getCurrBetMoney();
return !(S.default.selfMoney < 2 * e);
};
t.prototype.canSplit = function() {
if (2 == this.totalHands) return !1;
var e = this.betChipsValue[0];
if (S.default.selfMoney < e) return !1;
var t = this.singleHandCardNodeList;
if (2 != t.length) return !1;
var o = t[0], i = t[1], n = (Number(o.name) || 0) % 16;
n >= 10 && n <= 13 && (n = 10);
var a = (Number(i.name) || 0) % 16;
a >= 10 && a <= 13 && (a = 10);
return n == a;
};
t.prototype.canDouble = function() {
var e = this.betChipsValue[0];
return !(S.default.selfMoney < e);
};
t.prototype.canInsurance = function() {
var e = this.betChipsValue[0];
return !(S.default.selfMoney < e / 2);
};
t.prototype.chipBet = function(e, t, o, i) {
var n = this;
this.seatNode.changeMoney(-t);
var a = i || !1, d = o || 1, h = this.seatPosition;
this.isMySelf && (h = this.selfBetStartPositions[S.default.currSelectBetIndex]);
var p = this.singleHandBetPostions[e - 1];
2 == this.totalHands && (p = this.doubleHandsChipPositions[d - 1][0]);
var f = m.default.inst.getChipNode(t, S.default.moneyType);
_.default.inst.playBet(f.length);
for (var g = u.ConstNumber.zero; g < f.length; g++) {
var y = f[g];
y.scale = r.CHIP_START_SCALE;
var b = 0;
if (1 == this.totalHands) if (e == v.BJBetAreaID.main) {
this.singleHandBetChipsList.push(y);
b = this.singleHandBetChipsList.length;
y.parent = this.chipsNode;
y.zIndex = l.CHIP;
} else {
this.sidePotBetChips[e - 2].push(y);
b = this.sidePotBetChips[e - 2].length;
y.parent = this.chipsNode;
y.zIndex = l.CHIP_SIDEPOT;
} else if (1 == d) {
this.doubleHandsBetRightChipsList.push(y);
b = this.doubleHandsBetRightChipsList.length;
y.parent = this.chipsNode;
y.zIndex = l.CHIP;
} else if (2 == d) {
this.doubleHandsBetLeftChipsList.push(y);
b = this.doubleHandsBetRightChipsList.length;
y.parent = this.chipsNode;
y.zIndex = l.CHIP;
}
if (a) {
y.setPosition(new cc.Vec2(p.x, p.y + r.CHIP_HEIGHT * (b - 1)));
y.scale = r.CHIP_END_SCALE;
if (S.default.currGameStatus == v.BJGameStatus.chipin) {
var I = null;
I = e == v.BJBetAreaID.main ? this.singleHandBetChipsList[this.singleHandBetChipsList.length - 1] : this.sidePotBetChips[e - 2][this.sidePotBetChips[e - 2].length - 1];
var B = this.betChipsValue[e - 1];
this.showChipsValueTips(C.default.formatMoneyShorter(B), I.getPosition(), e, s.bet);
}
} else {
y.setPosition(h);
this.nodeFlyToAnyWhere(y, new cc.Vec2(p.x, p.y + r.CHIP_HEIGHT * (b - 1)), r.CHIP_END_SCALE, 0, r.CHIP_FLY_DELAY * g, !1, r.CHIP_FLY_DURATION, c.QUICK2SLOW, function() {
var t = n.betChipsValue[e - 1];
if (e == v.BJBetAreaID.main) {
for (var o = 0; o < n.singleHandBetChipsList.length; o++) n.singleHandBetChipsList[o].removeFromParent(!0);
n.singleHandBetChipsList = [];
} else {
for (var i = 0; i < n.sidePotBetChips[e - 2].length; i++) n.sidePotBetChips[e - 2][i].removeFromParent(!0);
n.sidePotBetChips[e - 2] = [];
}
for (var a = m.default.inst.getChipNode(t, S.default.moneyType), c = 0; c < a.length; c++) {
var d = a[c];
d.parent = n.chipsNode;
var h = 0;
if (e == v.BJBetAreaID.main) {
n.singleHandBetChipsList.push(d);
d.zIndex = l.CHIP;
h = n.singleHandBetChipsList.length;
} else {
n.sidePotBetChips[e - 2].push(d);
d.zIndex = l.CHIP_SIDEPOT;
h = n.sidePotBetChips[e - 2].length;
}
d.scale = r.CHIP_END_SCALE;
d.setPosition(new cc.Vec2(p.x, p.y + r.CHIP_HEIGHT * (h - 1)));
}
var u = null;
u = e == v.BJBetAreaID.main ? n.singleHandBetChipsList[n.singleHandBetChipsList.length - 1] : n.sidePotBetChips[e - 2][n.sidePotBetChips[e - 2].length - 1];
n.showChipsValueTips(C.default.formatMoneyShorter(t), u.getPosition(), e, s.bet);
});
}
}
};
t.prototype.chipCancel = function() {
this.nodesFlyToAnyWhere(this.singleHandBetChipsList, this.seatPosition, r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.QUICK2SLOW);
this.singleHandBetChipsList = [];
for (var e = this.sidePotBetChips.length, t = 0; t < e; t++) {
var o = this.sidePotBetChips[t];
this.nodesFlyToAnyWhere(o, this.seatPosition, r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.QUICK2SLOW);
}
this.sidePotBetChips = [ [], [], [], [], [] ];
};
t.prototype.chipLose = function(e) {
if (1 == this.totalHands) {
_.default.inst.playBet(this.singleHandBetChipsList.length);
this.nodesFlyToAnyWhere(this.singleHandBetChipsList, new cc.Vec2(u.ConstNumber.zero, r.BANKER_POSITION_Y), r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.SLOW2QUICK);
this.nodesFlyToAnyWhere(this.singleHandDoubleChipsList, new cc.Vec2(u.ConstNumber.zero, r.BANKER_POSITION_Y), r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.SLOW2QUICK);
} else if (2 == this.totalHands) if (1 == e) {
_.default.inst.playBet(this.doubleHandsBetRightChipsList.length);
this.nodesFlyToAnyWhere(this.doubleHandsBetRightChipsList, new cc.Vec2(u.ConstNumber.zero, r.BANKER_POSITION_Y), r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.SLOW2QUICK);
this.nodesFlyToAnyWhere(this.doubleHandsDoubleRightChipsList, new cc.Vec2(u.ConstNumber.zero, r.BANKER_POSITION_Y), r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.SLOW2QUICK);
} else if (2 == e) {
_.default.inst.playBet(this.doubleHandsBetLeftChipsList.length);
this.nodesFlyToAnyWhere(this.doubleHandsBetLeftChipsList, new cc.Vec2(u.ConstNumber.zero, r.BANKER_POSITION_Y), r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.SLOW2QUICK);
this.nodesFlyToAnyWhere(this.doubleHandsDoubleLeftChipsList, new cc.Vec2(u.ConstNumber.zero, r.BANKER_POSITION_Y), r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.SLOW2QUICK);
}
};
t.prototype.chipWin = function(e, t) {
var o = this;
if (1 == this.totalHands) {
var i = new cc.Vec2(0, r.BANKER_POSITION_Y), n = this.singleHandWinPayPostions[0], a = m.default.inst.getChipNode(t, S.default.moneyType);
_.default.inst.playBet(a.length);
for (var d = u.ConstNumber.zero; d < a.length; d++) {
(h = a[d]).scale = r.CHIP_START_SCALE;
h.setPosition(i);
h.parent = this.chipsNode;
h.zIndex = l.FLY_CHIP;
this.singleHandWinChipsList.push(h);
cc.tween(h).delay(r.CHIP_FLY_DELAY * d).to(r.CHIP_FLY_DURATION, {
x: n.x,
y: n.y + r.CHIP_HEIGHT * d,
scale: r.CHIP_END_SCALE
}, {
easing: c.QUICK2SLOW
}).call(function() {}, this).start();
}
this.singleHandWinChipsList.length > 0 ? this.scheduleOnce(function() {
var e = o.singleHandWinChipsList[o.singleHandWinChipsList.length - 1];
o.showChipsValueTips(C.default.formatMoneyShorter(t), e.getPosition(), v.BJValueTips.singleBetPay, s.win);
}, r.CHIP_FLY_DELAY * a.length + r.CHIP_FLY_DURATION) : 0 == this.singleHandWinChipsList.length && this.singleHandBetChipsList.length > 0 && this.scheduleOnce(function() {
var e = o.singleHandBetChipsList[o.singleHandBetChipsList.length - 1];
o.showChipsValueTips(C.default.formatMoneyShorter(o.betChipsValue[0]), e.getPosition(), v.BJValueTips.singleBet, s.draw);
}, r.CHIP_FLY_DELAY * a.length + r.CHIP_FLY_DURATION);
this.scheduleOnce(function() {
_.default.inst.playBet(o.singleHandWinChipsList.length + o.singleHandBetChipsList.length + o.singleHandDoubleChipsList.length);
o.nodesFlyToAnyWhere(o.singleHandWinChipsList, o.seatPosition, r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.SLOW2QUICK);
o.nodesFlyToAnyWhere(o.singleHandBetChipsList, o.seatPosition, r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.SLOW2QUICK);
o.nodesFlyToAnyWhere(o.singleHandDoubleChipsList, o.seatPosition, r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.SLOW2QUICK);
}, .5 + v.BJConst.CHIP_WIN_TIPS_SHOW_TIME);
} else if (2 == this.totalHands) if (1 == e) {
i = new cc.Vec2(0, r.BANKER_POSITION_Y), n = this.doubleHandsChipPositions[0][1];
this.doubleHandsDoubleRightChipsList.length > 0 && (n = this.doubleHandsChipPositions[0][2]);
a = m.default.inst.getChipNode(t, S.default.moneyType);
_.default.inst.playBet(a.length);
for (d = u.ConstNumber.zero; d < a.length; d++) {
(h = a[d]).scale = r.CHIP_START_SCALE;
h.setPosition(i);
h.parent = this.chipsNode;
h.zIndex = l.FLY_CHIP;
this.doubleHandsWinRightChipsList.push(h);
cc.tween(h).delay(r.CHIP_FLY_DELAY * d).to(r.CHIP_FLY_DURATION, {
x: n.x,
y: n.y + r.CHIP_HEIGHT * d,
scale: r.CHIP_END_SCALE
}, {
easing: c.QUICK2SLOW
}).call(function() {}, this).start();
}
this.doubleHandsWinRightChipsList.length > 0 ? this.scheduleOnce(function() {
var e = o.doubleHandsWinRightChipsList[o.doubleHandsWinRightChipsList.length - 1];
o.showChipsValueTips(C.default.formatMoneyShorter(t), e.getPosition(), v.BJValueTips.doubleBetPayRight, s.win);
}, r.CHIP_FLY_DELAY * a.length + r.CHIP_FLY_DURATION) : 0 == this.doubleHandsWinRightChipsList.length && this.doubleHandsBetRightChipsList.length > 0 && this.scheduleOnce(function() {
var e = o.doubleHandsBetRightChipsList[o.doubleHandsBetRightChipsList.length - 1];
o.showChipsValueTips(C.default.formatMoneyShorter(o.betChipsValue[0]), e.getPosition(), v.BJValueTips.doubleBetRight, s.draw);
}, r.CHIP_FLY_DELAY * a.length + r.CHIP_FLY_DURATION);
this.scheduleOnce(function() {
_.default.inst.playBet(o.doubleHandsBetRightChipsList.length + o.doubleHandsDoubleRightChipsList.length + o.doubleHandsWinRightChipsList.length);
o.nodesFlyToAnyWhere(o.doubleHandsBetRightChipsList, o.seatPosition, r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.SLOW2QUICK);
o.nodesFlyToAnyWhere(o.doubleHandsDoubleRightChipsList, o.seatPosition, r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.SLOW2QUICK);
o.nodesFlyToAnyWhere(o.doubleHandsWinRightChipsList, o.seatPosition, r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.SLOW2QUICK);
}, .5 + v.BJConst.CHIP_WIN_TIPS_SHOW_TIME);
} else if (2 == e) {
i = new cc.Vec2(0, r.BANKER_POSITION_Y), n = this.doubleHandsChipPositions[1][1];
this.doubleHandsDoubleLeftChipsList.length > 0 && (n = this.doubleHandsChipPositions[1][2]);
a = m.default.inst.getChipNode(t, S.default.moneyType);
_.default.inst.playBet(a.length);
for (d = u.ConstNumber.zero; d < a.length; d++) {
var h;
(h = a[d]).scale = r.CHIP_START_SCALE;
h.setPosition(i);
h.parent = this.chipsNode;
h.zIndex = l.FLY_CHIP;
this.doubleHandsWinLeftChipsList.push(h);
cc.tween(h).delay(r.CHIP_FLY_DELAY * d).to(r.CHIP_FLY_DURATION, {
x: n.x,
y: n.y + r.CHIP_HEIGHT * d,
scale: r.CHIP_END_SCALE
}, {
easing: c.QUICK2SLOW
}).call(function() {}, this).start();
}
this.doubleHandsWinLeftChipsList.length > 0 ? this.scheduleOnce(function() {
var e = o.doubleHandsWinLeftChipsList[o.doubleHandsWinLeftChipsList.length - 1];
o.showChipsValueTips(C.default.formatMoneyShorter(t), e.getPosition(), v.BJValueTips.doubleBetPayLeft, s.win);
}, r.CHIP_FLY_DELAY * a.length + r.CHIP_FLY_DURATION) : 0 == this.doubleHandsWinLeftChipsList.length && this.doubleHandsBetLeftChipsList.length > 0 && this.scheduleOnce(function() {
var e = o.doubleHandsBetLeftChipsList[o.doubleHandsBetLeftChipsList.length - 1];
o.showChipsValueTips(C.default.formatMoneyShorter(o.betChipsValue[0]), e.getPosition(), v.BJValueTips.doubleBetLeft, s.draw);
}, r.CHIP_FLY_DELAY * a.length + r.CHIP_FLY_DURATION);
this.scheduleOnce(function() {
_.default.inst.playBet(o.doubleHandsBetLeftChipsList.length + o.doubleHandsDoubleLeftChipsList.length + o.doubleHandsWinLeftChipsList.length);
o.nodesFlyToAnyWhere(o.doubleHandsBetLeftChipsList, o.seatPosition, r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.SLOW2QUICK);
o.nodesFlyToAnyWhere(o.doubleHandsDoubleLeftChipsList, o.seatPosition, r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.SLOW2QUICK);
o.nodesFlyToAnyWhere(o.doubleHandsWinLeftChipsList, o.seatPosition, r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.SLOW2QUICK);
}, .5 + v.BJConst.CHIP_WIN_TIPS_SHOW_TIME);
}
};
t.prototype.showWinOrLoseTips = function(e, t, o, i, n) {
var a = this;
if (1 == this.totalHands && 1 == e) {
this.scheduleOnce(function() {
var e = I.default.inst.getBlackJackPoints(a.singleHandCardNodeList), i = a.singleHandCardNodeList[a.singleHandCardNodeList.length - 1].getPosition(), n = new cc.Vec2(i.x, i.y + 110);
a.seatPositionID == v.BJSeatPositionID.LEFT ? n = new cc.Vec2(i.x + 45, i.y + 80) : a.seatPositionID == v.BJSeatPositionID.RIGHT && (n = new cc.Vec2(i.x + 15, i.y + 110));
a.showResultTips(a.rightResult, n, e, t, o);
}, i);
this.scheduleOnce(function() {
a.hideResultTips(a.rightResult);
}, i + n);
} else if (2 == this.totalHands) if (1 == e) {
this.scheduleOnce(function() {
var e = I.default.inst.getBlackJackPoints(a.doubleHandsCardNodeListRight), i = a.doubleHandsCardNodeListRight[a.doubleHandsCardNodeListRight.length - 1].getPosition(), n = new cc.Vec2(i.x, i.y + 110);
a.seatPositionID == v.BJSeatPositionID.LEFT ? n = new cc.Vec2(i.x + 45, i.y + 80) : a.seatPositionID == v.BJSeatPositionID.RIGHT && (n = new cc.Vec2(i.x + 5, i.y + 115));
a.showResultTips(a.rightResult, n, e, t, o);
}, i);
this.scheduleOnce(function() {
a.hideResultTips(a.rightResult);
}, i + n);
} else if (2 == e) {
this.scheduleOnce(function() {
var e = I.default.inst.getBlackJackPoints(a.doubleHandsCardNodeListLeft), i = a.doubleHandsCardNodeListLeft[a.doubleHandsCardNodeListLeft.length - 1].getPosition(), n = new cc.Vec2(i.x, i.y + 110);
a.seatPositionID == v.BJSeatPositionID.LEFT ? n = new cc.Vec2(i.x + 40, i.y + 80) : a.seatPositionID == v.BJSeatPositionID.RIGHT && (n = new cc.Vec2(i.x + 0, i.y + 110));
a.showResultTips(a.leftResult, n, e, t, o);
}, i);
this.scheduleOnce(function() {
a.hideResultTips(a.leftResult);
}, i + n);
}
};
t.prototype.chipDoubleBet = function(e, t, o) {
if (this.seatID == S.default.selfSeatID) {
S.default.selfMoney = S.default.selfMoney - e;
h.MyEvent.getInstance().emit("UPDATE_SELF_INFO_MONEY", S.default.selfMoney);
}
this.seatNode.changeMoney(-e);
var i = o || !1;
if (1 == this.totalHands) {
var n = this.seatPosition, a = this.singleDoubleBetPosition, s = m.default.inst.getChipNode(e, S.default.moneyType);
_.default.inst.playBet(s.length);
for (var d = u.ConstNumber.zero; d < s.length; d++) {
(f = s[d]).scale = r.CHIP_START_SCALE;
f.parent = this.chipsNode;
f.zIndex = l.FLY_CHIP;
this.singleHandDoubleChipsList.push(f);
var p = this.singleHandDoubleChipsList.length;
if (i) {
f.setPosition(new cc.Vec2(a.x, a.y + r.CHIP_HEIGHT * (p - 1)));
f.scale = r.CHIP_END_SCALE;
} else {
f.setPosition(n);
cc.tween(f).delay(r.CHIP_FLY_DELAY * d).to(r.CHIP_FLY_DURATION, {
x: a.x,
y: a.y + r.CHIP_HEIGHT * (p - 1),
scale: r.CHIP_END_SCALE
}, {
easing: c.QUICK2SLOW
}).call(function() {}, this).start();
}
}
} else if (2 == this.totalHands) {
n = this.seatPosition, a = this.doubleHandsChipPositions[t - 1][1], s = m.default.inst.getChipNode(e, S.default.moneyType);
_.default.inst.playBet(s.length);
for (d = u.ConstNumber.zero; d < s.length; d++) {
var f;
(f = s[d]).scale = r.CHIP_START_SCALE;
f.parent = this.chipsNode;
f.zIndex = l.FLY_CHIP;
p = 0;
if (1 == t) {
this.doubleHandsDoubleRightChipsList.push(f);
p = this.doubleHandsDoubleRightChipsList.length;
} else if (2 == t) {
this.doubleHandsDoubleLeftChipsList.push(f);
p = this.doubleHandsDoubleLeftChipsList.length;
}
if (i) {
f.setPosition(new cc.Vec2(a.x, a.y + r.CHIP_HEIGHT * (p - 1)));
f.scale = r.CHIP_END_SCALE;
} else {
f.setPosition(n);
cc.tween(f).delay(r.CHIP_FLY_DELAY * d).to(r.CHIP_FLY_DURATION, {
x: a.x,
y: a.y + r.CHIP_HEIGHT * (p - 1),
scale: r.CHIP_END_SCALE
}, {
easing: "quadOut"
}).call(function() {}, this).start();
}
}
}
};
t.prototype.chipInsuranceBet = function(e, t) {
this.seatNode.changeMoney(-e);
var o = t || !1, i = this.seatPosition, n = this.insuranceBetPosition, a = m.default.inst.getChipNode(e, S.default.moneyType);
_.default.inst.playBet(a.length);
for (var s = u.ConstNumber.zero; s < a.length; s++) {
var d = a[s];
d.scale = r.CHIP_START_SCALE;
d.parent = this.chipsNode;
d.zIndex = l.FLY_CHIP;
this.insuranceChipNodeList.push(d);
var h = this.insuranceChipNodeList.length;
if (o) {
d.setPosition(new cc.Vec2(n.x, n.y + r.CHIP_HEIGHT * (h - 1)));
d.scale = r.CHIP_END_SCALE;
} else {
d.setPosition(i);
cc.tween(d).delay(r.CHIP_FLY_DELAY * s).to(r.CHIP_FLY_DURATION, {
x: n.x,
y: n.y + r.CHIP_HEIGHT * (h - 1),
scale: r.CHIP_END_SCALE
}, {
easing: c.QUICK2SLOW
}).call(function() {}, this).start();
}
}
};
t.prototype.chipInsuranceWin = function(e) {
var t = this;
this.clearValueTips();
var o = e.insurancePayMoney, i = e.insuranceMoney, n = e.insurancePayPoint;
S.default.selfMoney = S.default.selfMoney + o + i;
var a = new cc.Vec2(0, r.BANKER_POSITION_Y), d = this.insurancePayPosition, h = m.default.inst.getChipNode(o, S.default.moneyType);
_.default.inst.playBet(h.length);
for (var p = u.ConstNumber.zero; p < h.length; p++) {
var f = h[p];
f.scale = r.CHIP_START_SCALE;
f.setPosition(a);
f.parent = this.chipsNode;
f.zIndex = l.FLY_CHIP;
this.insuranceChipPayList.push(f);
cc.tween(f).delay(r.CHIP_FLY_DELAY * p).to(r.CHIP_FLY_DURATION, {
x: d.x,
y: d.y + r.CHIP_HEIGHT * (p - 1),
scale: r.CHIP_END_SCALE
}, {
easing: c.QUICK2SLOW
}).call(function() {}, this).start();
this.scheduleOnce(function() {
var e = t.insuranceChipPayList[t.insuranceChipPayList.length - 1];
t.showChipsValueTips(C.default.formatMoneyShorter(o - i), e.getPosition(), v.BJValueTips.insurancePay, s.win);
}, r.CHIP_FLY_DELAY * h.length + r.CHIP_FLY_DURATION);
}
this.scheduleOnce(function() {
t.clearValueTips();
_.default.inst.playBet(10);
t.chipInsuranceWinBack(o, n);
}, 1.4);
};
t.prototype.chipInsuranceWinBack = function(e, t) {
for (var o = this, i = this.insuranceChipNodeList.length, n = this.insuranceChipPayList.length, a = function(e) {
var t = s.insuranceChipNodeList[e];
cc.tween(t).delay(r.CHIP_FLY_DELAY * e).to(r.CHIP_FLY_DURATION, {
x: s.seatPosition.x,
y: s.seatPosition.y,
scale: r.CHIP_START_SCALE
}, {
easing: c.SLOW2QUICK
}).call(function() {
t.removeFromParent(!0);
}, s).start();
}, s = this, l = 0; l < i; l++) a(l);
var d = function(e) {
var t = u.insuranceChipPayList[e];
cc.tween(t).delay(r.CHIP_FLY_DELAY * e).to(r.CHIP_FLY_DURATION, {
x: u.seatPosition.x,
y: u.seatPosition.y,
scale: r.CHIP_START_SCALE
}, {
easing: c.SLOW2QUICK
}).call(function() {
t.removeFromParent(!0);
}, u).start();
}, u = this;
for (l = 0; l < n; l++) d(l);
this.scheduleOnce(function() {
o.showSettlementResultTips(e, t, 0);
h.MyEvent.getInstance().emit("UPDATE_SELF_INFO_MONEY", S.default.selfMoney);
}, .5);
};
t.prototype.chipInsuraceLose = function() {
this.clearValueTips();
var e = this.insuranceChipNodeList;
_.default.inst.playBet(e.length);
for (var t = function(t) {
var i = e[t];
cc.tween(i).delay(r.CHIP_FLY_DELAY * t).to(r.CHIP_FLY_DURATION, {
x: u.ConstNumber.zero,
y: r.BANKER_POSITION_Y,
scale: r.CHIP_START_SCALE
}, {
easing: c.SLOW2QUICK
}).call(function() {
i.removeFromParent(!0);
}, o).start();
}, o = this, i = 0; i < e.length; i++) t(i);
};
t.prototype.isSidepotInCurrRoom = function(e) {
if (S.default.roomType == v.BJRoomType.sevens) {
if (e == v.BJBetAreaID.sevens || e == v.BJBetAreaID.xtreme || e == v.BJBetAreaID.pair) return !0;
} else if (e >= v.BJBetAreaID.xtreme && e <= v.BJBetAreaID.pair) return !0;
return !1;
};
t.prototype.settlementSidePot = function(e) {
var t = this, o = (e.seatID, e.winExp), i = e.winTicket, n = e.winMoney;
this.clearValueTips();
this.scheduleOnce(function() {
t.showSettlementResultTips(n, i, o);
}, v.BJConst.SETTLEMENT_SIDEPOT_WIN_DELAY + 2 * r.CHIP_FLY_DURATION + v.BJConst.CHIP_WIN_TIPS_SHOW_TIME);
for (var a = {}, s = e.betInfo, c = 0; c < s.length; c++) {
var l = s[c].betAreaID, d = s[c].betMoney;
a[l] = d;
}
for (var h = function(e) {
null == a[e] && u.isSidepotInCurrRoom(e) && u.scheduleOnce(function() {
t.chipLoseSidePot(e);
}, v.BJConst.SETTLEMENT_SIDEPOT_LOSE_DELAY);
}, u = this, p = v.BJBetAreaID.xtreme; p <= v.BJBetAreaID.sevens; p++) h(p);
for (var f = e.winInfo, m = function(e) {
var o = f[e].betAreaID, i = f[e].winMoney, n = I.default.inst.findBetIDByWinID(o);
g.scheduleOnce(function() {
t.chipWinSidePot(n, i - a[n]);
t.showSidepotAnim(n);
t.playCardTypeAnim(o);
}, v.BJConst.SETTLEMENT_SIDEPOT_WIN_DELAY);
}, g = this, y = 0; y < f.length; y++) m(y);
};
t.prototype.clearValueTips = function() {
for (var e = this.chipValueTipsNode.children, t = function(t) {
var i = e[t];
cc.tween(i).to(.2, {
opacity: 0
}).call(function() {
i.removeFromParent(!0);
}, o).start();
}, o = this, i = 0; i < e.length; i++) t(i);
};
t.prototype.resetName = function() {
this.seatNode.setName();
};
t.prototype.chipWinSidePot = function(e, t) {
var o = this, i = new cc.Vec2(0, r.BANKER_POSITION_Y), n = this.singleHandWinPayPostions[e - 1], a = m.default.inst.getChipNode(t, S.default.moneyType);
_.default.inst.playBet(a.length);
for (var d = u.ConstNumber.zero; d < a.length; d++) {
var h = a[d];
h.scale = r.CHIP_START_SCALE;
h.setPosition(i);
h.parent = this.chipsNode;
h.zIndex = l.FLY_CHIP;
this.sidePotWinChips[e - 2].push(h);
cc.tween(h).delay(r.CHIP_FLY_DELAY * d).to(r.CHIP_FLY_DURATION, {
x: n.x,
y: n.y + r.CHIP_HEIGHT * d,
scale: r.CHIP_END_SCALE
}, {
easing: c.QUICK2SLOW
}).call(function() {}, this).start();
}
this.sidePotWinChips[e - 2].length > 0 && this.scheduleOnce(function() {
var i = o.sidePotWinChips[e - 2][o.sidePotWinChips[e - 2].length - 1];
o.showChipsValueTips(C.default.formatMoneyShorter(t), i.getPosition(), e, s.win);
}, a.length * r.CHIP_FLY_DELAY + r.CHIP_FLY_DURATION);
this.scheduleOnce(function() {
_.default.inst.playBet(a.length);
o.nodesFlyToAnyWhere(o.sidePotWinChips[e - 2], o.seatPosition, r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.SLOW2QUICK);
o.nodesFlyToAnyWhere(o.sidePotBetChips[e - 2], o.seatPosition, r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.SLOW2QUICK);
}, .5 + v.BJConst.CHIP_WIN_TIPS_SHOW_TIME);
B.default.inst.playSound(B.BJSoundID.sidepot);
};
t.prototype.chipLoseSidePot = function(e) {
var t = this.sidePotBetChips[e - 2];
_.default.inst.playBet(t.length);
this.nodesFlyToAnyWhere(t, new cc.Vec2(u.ConstNumber.zero, r.BANKER_POSITION_Y), r.CHIP_START_SCALE, !0, r.CHIP_FLY_DURATION, c.SLOW2QUICK);
};
t.prototype.preSettlement = function(e, t) {
var o = this, i = t || !1, n = (e.reason, e.winMoney), a = e.handIndex, s = e.winTicket, c = e.winExp;
if (i) {
var l = this.betChipsValue[0];
n > 0 ? this.showWinOrLoseTips(a, !0, n - l, 0, v.BJConst.RESULT_TIPS_WIN_SHOW_TIME) : this.showWinOrLoseTips(a, !1, 0, 0, v.BJConst.RESULT_TIPS_LOSE_SHOW_TIME);
(1 == this.totalHands || 2 == this.totalHands && 2 == a) && (this.isActionCompelted = !0);
this.stopTimer();
} else {
this.scheduleOnce(function() {
o.showSettlementResultTips(n, s, c);
}, v.BJConst.SETTLEMENT_PRE_WIN_DELAY + 2 * r.CHIP_FLY_DURATION + v.BJConst.CHIP_WIN_TIPS_SHOW_TIME);
if (n > 0) {
var d = this.betChipsValue[0];
this.showWinOrLoseTips(a, !0, n - d, v.BJConst.RESULT_TIPS_DELAY_TIME, v.BJConst.RESULT_TIPS_WIN_SHOW_TIME);
this.scheduleOnce(function() {
o.chipWin(a, n - d);
}, v.BJConst.SETTLEMENT_PRE_WIN_DELAY);
} else {
this.showWinOrLoseTips(a, !1, 0, v.BJConst.RESULT_TIPS_DELAY_TIME, v.BJConst.RESULT_TIPS_LOSE_SHOW_TIME);
this.scheduleOnce(function() {
o.chipLose(a);
}, v.BJConst.SETTLEMENT_PRE_LOSE_DELAY);
}
(1 == this.totalHands || 2 == this.totalHands && 2 == a) && (this.isActionCompelted = !0);
this.stopTimer();
}
this.isMySelf && h.MyEvent.getInstance().emit("GRAY_ACTION_BAR");
};
t.prototype.playCardTypeAnim = function(e) {
var t = I.default.inst.findBetIDByWinID(e);
if (null != this.cardTypeAnimPositions[t]) {
var o = "blackjack/cardType/type" + e + "_tw";
b.default.inst.playCardTypeAnim(o, this.animNode, this.handCardScale, this.handCardRotation, this.cardTypeAnimPositions[t].x, this.cardTypeAnimPositions[t].y);
}
};
t.prototype.showWinAnim = function(e, t) {
b.default.inst.playAnim(e, this.animNode, 1 * this.handCardScale, this.handCardRotation, this.seatPosition.x, this.seatPosition.y, t);
};
t.prototype.showBlackjackAnim = function() {
B.default.inst.playSound(B.BJSoundID.blackjack);
var e = new cc.Vec2(this.singleHandLeftCardPositions.x / 2 + this.singleHandRightCardPositions.x / 2 - 1 * this.doubleCardVerMoveX - 1.58 * this.doubleCardHriMoveX, this.singleHandLeftCardPositions.y / 2 + this.singleHandRightCardPositions.y / 2 - 1 * this.doubleCardVerMoveY - 1.58 * this.doubleCardHriMoveY);
b.default.inst.playAnim(b.BJAnimID.blackjack, this.animNode, .75 * this.handCardScale, this.handCardRotation, e.x, e.y);
};
t.prototype.showSidepotAnim = function(e) {
e >= v.BJWinType.sevens_flush_diamond && e <= v.BJWinType.sevens_color && B.default.inst.playSound(B.BJSoundID.jackpot);
b.default.inst.playAnim(b.BJAnimID.sidepot, this.animNode, .25 * this.handCardScale, this.handCardRotation, this.singleHandBetPostions[e - 1].x, this.singleHandBetPostions[e - 1].y);
};
t.prototype.showBurstedAnim = function(e) {
B.default.inst.playSound(B.BJSoundID.boom);
var t = new cc.Vec2(0, -500);
if (1 == this.totalHands) {
var o = this.singleHandCardNodeList;
if ((r = this.singleHandCardNodeList.length) > 0) {
var i = o[0].getPosition(), n = o[r - 1].getPosition();
t.x = (i.x + n.x) / 2;
t.y = (i.y + n.y) / 2;
}
} else if (2 == this.totalHands) if (1 == e) {
o = this.doubleHandsCardNodeListRight;
if ((r = this.doubleHandsCardNodeListRight.length) > 0) {
i = o[0].getPosition();
var a = Math.floor(r / d.CARDS_MAX_WIDTH) + 1;
n = o[r - 1].getPosition();
if (a > 1) {
n.x = o[3].getPosition().x - this.doubleCardVerMoveX * (a - 1);
n.y = o[3].getPosition().y - this.doubleCardVerMoveY * (a - 1);
}
t.x = (i.x + n.x) / 2;
t.y = (i.y + n.y) / 2;
}
} else if (2 == e) {
var r;
o = this.doubleHandsCardNodeListLeft;
if ((r = this.doubleHandsCardNodeListLeft.length) > 0) {
i = o[0].getPosition(), a = Math.floor(r / d.CARDS_MAX_WIDTH) + 1, n = o[r - 1].getPosition();
if (a > 1) {
n.x = o[3].getPosition().x - this.doubleCardVerMoveX * (a - 1);
n.y = o[3].getPosition().y - this.doubleCardVerMoveY * (a - 1);
}
t.x = (i.x + n.x) / 2;
t.y = (i.y + n.y) / 2;
}
}
b.default.inst.playAnim(b.BJAnimID.boom1, this.animNode, .65 * this.handCardScale, this.handCardRotation, t.x, t.y);
};
t.prototype.showEndResultPoints = function() {
if (1 == this.totalHands) {
this.stopPointTipsAction("right");
this.showResultPoint(1);
} else if (2 == this.totalHands) {
this.stopPointTipsAction("right");
this.showResultPoint(1);
this.stopPointTipsAction("left");
this.showResultPoint(2);
}
};
t.prototype.settlement = function(e, t) {
var o = this, i = t || !1, n = (e.seatID, e.winExp), a = e.winTicket, s = e.winMoney, c = e.handInfo, l = c.length;
if (i) {
this.clearBets();
this.stopTimer();
if (0 == l) {
if (1 == this.totalHands) this.showWinOrLoseTips(1, !1, 0, 0, v.BJConst.RESULT_TIPS_LOSE_SHOW_TIME); else if (2 == this.totalHands) {
this.showWinOrLoseTips(1, !1, 0, 0, v.BJConst.RESULT_TIPS_LOSE_SHOW_TIME);
this.showWinOrLoseTips(2, !1, 0, 0, v.BJConst.RESULT_TIPS_LOSE_SHOW_TIME);
}
} else if (1 == l && 2 == this.totalHands) {
1 == (C = (b = c[0]).handIndex) ? this.showWinOrLoseTips(2, !1, 0, 0, v.BJConst.RESULT_TIPS_LOSE_SHOW_TIME) : this.showWinOrLoseTips(1, !1, 0, 0, v.BJConst.RESULT_TIPS_LOSE_SHOW_TIME);
C = b.handIndex;
for (var d = b.betInfo, h = {}, u = 0; u < d.length; u++) {
var p = d[u].betAreaID, f = d[u].betMoney;
h[p] = f;
}
if (0 == (S = b.winInfo).length) this.showWinOrLoseTips(C, !1, 0, 0, v.BJConst.RESULT_TIPS_LOSE_SHOW_TIME); else for (var m = 0; m < S.length; m++) {
var g = S[m].betAreaID, y = S[m].winMoney;
p = I.default.inst.findBetIDByWinID(g);
this.showWinOrLoseTips(C, !0, y - h[p], 0, v.BJConst.RESULT_TIPS_WIN_SHOW_TIME);
}
} else for (var _ = 0; _ < l; _++) {
var C = (b = c[_]).handIndex;
for (d = b.betInfo, h = {}, u = 0; u < d.length; u++) {
p = d[u].betAreaID, f = d[u].betMoney;
h[p] = f;
}
if (0 == (S = b.winInfo).length) this.showWinOrLoseTips(C, !1, 0, 0, v.BJConst.RESULT_TIPS_LOSE_SHOW_TIME); else for (m = 0; m < S.length; m++) {
g = S[m].betAreaID, y = S[m].winMoney, p = I.default.inst.findBetIDByWinID(g);
this.showWinOrLoseTips(C, !0, y - h[p], 0, v.BJConst.RESULT_TIPS_WIN_SHOW_TIME);
}
}
} else {
this.stopTimer();
this.scheduleOnce(function() {
o.showSettlementResultTips(s, a, n);
}, v.BJConst.SETTLEMENT_WIN_DELAY + 2 * r.CHIP_FLY_DURATION + v.BJConst.CHIP_WIN_TIPS_SHOW_TIME);
if (0 == l) {
if (1 == this.totalHands) {
this.showWinOrLoseTips(1, !1, 0, v.BJConst.RESULT_TIPS_DELAY_TIME, v.BJConst.RESULT_TIPS_LOSE_SHOW_TIME);
this.scheduleOnce(function() {
o.chipLose(1);
}, v.BJConst.SETTLEMENT_LOSE_DELAY);
} else if (2 == this.totalHands) {
this.showWinOrLoseTips(1, !1, 0, v.BJConst.RESULT_TIPS_DELAY_TIME, v.BJConst.RESULT_TIPS_LOSE_SHOW_TIME);
this.showWinOrLoseTips(2, !1, 0, v.BJConst.RESULT_TIPS_DELAY_TIME, v.BJConst.RESULT_TIPS_LOSE_SHOW_TIME);
this.scheduleOnce(function() {
o.chipLose(1);
o.chipLose(2);
}, v.BJConst.SETTLEMENT_LOSE_DELAY);
}
} else if (1 == l && 2 == this.totalHands) {
var b, S, B = (b = c[0]).handIndex;
if (1 == B) {
this.showWinOrLoseTips(2, !1, 0, v.BJConst.RESULT_TIPS_DELAY_TIME, v.BJConst.RESULT_TIPS_LOSE_SHOW_TIME);
this.scheduleOnce(function() {
o.chipLose(2);
}, v.BJConst.SETTLEMENT_LOSE_DELAY);
} else {
this.showWinOrLoseTips(1, !1, 0, v.BJConst.RESULT_TIPS_DELAY_TIME, v.BJConst.RESULT_TIPS_LOSE_SHOW_TIME);
this.scheduleOnce(function() {
o.chipLose(1);
}, v.BJConst.SETTLEMENT_LOSE_DELAY);
}
B = b.handIndex;
d = b.betInfo;
var w = {};
for (u = 0; u < d.length; u++) {
p = d[u].betAreaID, f = d[u].betMoney;
w[p] = f;
}
if (0 == (S = b.winInfo).length) {
this.showWinOrLoseTips(B, !1, 0, v.BJConst.RESULT_TIPS_DELAY_TIME, v.BJConst.RESULT_TIPS_LOSE_SHOW_TIME);
this.scheduleOnce(function() {
o.chipLose(B);
}, v.BJConst.SETTLEMENT_LOSE_DELAY);
} else {
var N = function(e) {
var t = S[e].betAreaID, i = S[e].winMoney, n = I.default.inst.findBetIDByWinID(t);
L.showWinOrLoseTips(B, !0, i - w[n], v.BJConst.RESULT_TIPS_DELAY_TIME, v.BJConst.RESULT_TIPS_WIN_SHOW_TIME);
L.scheduleOnce(function() {
o.chipWin(B, i - w[n]);
}, v.BJConst.SETTLEMENT_WIN_DELAY);
}, L = this;
for (m = 0; m < S.length; m++) N(m);
}
} else {
var T = function(e) {
for (var t = c[e], i = t.handIndex, n = t.betInfo, a = {}, r = 0; r < n.length; r++) {
var s = n[r].betAreaID, l = n[r].betMoney;
a[s] = l;
}
var d = t.winInfo;
if (0 == d.length) {
D.showWinOrLoseTips(i, !1, 0, v.BJConst.RESULT_TIPS_DELAY_TIME, v.BJConst.RESULT_TIPS_LOSE_SHOW_TIME);
D.scheduleOnce(function() {
o.chipLose(i);
}, v.BJConst.SETTLEMENT_LOSE_DELAY);
} else for (var h = function(e) {
var t = d[e].betAreaID, n = d[e].winMoney, r = I.default.inst.findBetIDByWinID(t);
D.showWinOrLoseTips(i, !0, n - a[r], v.BJConst.RESULT_TIPS_DELAY_TIME, v.BJConst.RESULT_TIPS_WIN_SHOW_TIME);
D.scheduleOnce(function() {
o.chipWin(i, n - a[r]);
}, v.BJConst.SETTLEMENT_WIN_DELAY);
}, u = 0; u < d.length; u++) h(u);
}, D = this;
for (_ = 0; _ < l; _++) T(_);
}
}
};
t.prototype.clearBets = function() {
for (var e = this.singleHandBetChipsList, t = 0; t < e.length; t++) e[t].removeFromParent(!0);
var o = this.doubleHandsBetLeftChipsList;
for (t = 0; t < o.length; t++) o[t].removeFromParent(!0);
var i = this.doubleHandsBetRightChipsList;
for (t = 0; t < i.length; t++) i[t].removeFromParent(!0);
};
t.prototype.showSettlementResultTips = function(e, t, o) {
var i = this, n = e || 0, a = t || 0, r = o || 0;
if (e > 0) {
this.scheduleOnce(function() {
i.isMySelf ? i.showWinAnim(b.BJAnimID.win, "bigwin") : i.showWinAnim(b.BJAnimID.win, "win");
}, .3);
this.seatNode.winMoneyAnim(n, a);
}
r > 0 && this.scheduleOnce(function() {
i.seatNode.checkLevelUp(r);
}, 1);
};
t.prototype.showChipsValueTips = function() {};
t.prototype.hideChipsValueTips = function() {};
t.prototype.nodesFlyToAnyWhere = function(e, t, o, i, n, a) {
for (var s = o || 1, c = i || !0, l = 0; l < e.length; l++) {
var d = e[l];
this.nodeFlyToAnyWhere(d, t, s, 0, l * r.CHIP_FLY_DELAY, c, n, a);
}
};
t.prototype.nodeFlyToAnyWhere = function(e, t, o, i, n, a, r, s, c) {
var d = n || 0, h = i || 0, u = o || 1, p = s || "quadIn", f = a || !1, m = r || .3;
e.zIndex = l.FLY_CHIP;
cc.tween(e).delay(d).to(m, {
x: t.x,
y: t.y,
scale: u,
angle: h
}, {
easing: p
}).call(function() {
f && e.removeFromParent(!0);
c && c();
}, this).start();
};
t.prototype.isPlayerPlaying = function() {
return this.seatNode.myState == u.seatState.play;
};
t.prototype.getSeatData = function() {
return this.seatNode.getSeatData();
};
t.prototype.onPlayerAction = function(e) {
var t = this;
if (e.seatID == S.default.selfSeatID && this.isMySelf) {
if (I.default.inst.getPreActionID() > 0) {
this.isActionCompelted ? this.stopTimer() : this.startTimer(e.totalTime, e.totalTime - e.leftTime, !0);
I.default.inst.resetPreActionID();
return;
}
I.default.inst.setOperationButtonEnabled(w.BJOperationButtonID.hit, !0);
I.default.inst.setOperationButtonEnabled(w.BJOperationButtonID.stop, !0);
this.canDouble() ? I.default.inst.setOperationButtonEnabled(w.BJOperationButtonID.double, !0) : I.default.inst.setOperationButtonEnabled(w.BJOperationButtonID.double, !1);
this.canSplit() ? I.default.inst.setOperationButtonEnabled(w.BJOperationButtonID.split, !0) : I.default.inst.setOperationButtonEnabled(w.BJOperationButtonID.split, !1);
}
var o = e.seatID, i = e.handleIndex;
if (o == this.seatID) {
this.startTimer(e.totalTime, e.totalTime - e.leftTime, !0);
if (1 == i) {
this.stopPointTipsAction("right");
this.runPlayerAction(this.rightPoint, i);
} else this.scheduleOnce(function() {
t.stopPointTipsAction("right");
t.showResultPoint(1);
t.stopPointTipsAction("left");
t.runPlayerAction(t.leftPoint, i);
}, .5);
} else if (o > this.seatID) {
this.stopTimer();
this.stopPointTipsAction();
} else this.stopTimer();
};
t.prototype.getCurrHandPoints = function(e) {
var t = null;
1 == this.totalHands && 1 == e ? t = I.default.inst.getBlackJackPoints(this.singleHandCardNodeList) : 2 == this.totalHands && (t = 1 == e ? I.default.inst.getBlackJackPoints(this.doubleHandsCardNodeListRight) : I.default.inst.getBlackJackPoints(this.doubleHandsCardNodeListLeft));
return 1 == t.length ? t[0] : t.length > 1 ? t[1] : 0;
};
t.prototype.collectCards = function() {
this.clearTips();
for (var e = this.singleHandCardNodeList, t = this.doubleHandsCardNodeListRight, o = this.doubleHandsCardNodeListLeft, i = function(t) {
var o = e[t];
cc.tween(o).to(d.CARD_FLY_DURATION, {
x: 0,
y: 358,
scale: d.CARD_SCALE,
angle: 0
}, {
easing: c.QUICK2SLOW
}).delay(d.CARD_FLY_DURATION).parallel(cc.tween().bezierTo(.2, cc.v2(0, 358), cc.v2(-648, 358), cc.v2(-687, 543)), cc.tween().to(.2, {
opacity: 0,
scaleX: d.CARD_SCALE,
scaleY: d.CARD_SCALE
})).call(function() {
o.removeFromParent(!0);
}, n).start();
}, n = this, a = 0; a < e.length; a++) i(a);
var r = function(e) {
var o = t[e];
cc.tween(o).to(d.CARD_FLY_DURATION, {
x: 0,
y: 358,
scale: d.CARD_SCALE,
angle: 0
}).delay(d.CARD_FLY_DURATION).parallel(cc.tween().bezierTo(.2, cc.v2(0, 358), cc.v2(-648, 358), cc.v2(-687, 543)), cc.tween().to(.2, {
opacity: 0,
scaleX: d.CARD_SCALE,
scaleY: d.CARD_SCALE
})).call(function() {
o.removeFromParent(!0);
}, s).start();
}, s = this;
for (a = 0; a < t.length; a++) r(a);
var l = function(e) {
var t = o[e];
cc.tween(t).to(d.CARD_FLY_DURATION, {
x: 0,
y: 358,
scale: d.CARD_SCALE,
angle: 0
}).delay(d.CARD_FLY_DURATION).parallel(cc.tween().bezierTo(.2, cc.v2(0, 358), cc.v2(-648, 358), cc.v2(-687, 543)), cc.tween().to(.2, {
opacity: 0,
scaleX: d.CARD_SCALE,
scaleY: d.CARD_SCALE
})).call(function() {
t.removeFromParent(!0);
}, h).start();
}, h = this;
for (a = 0; a < o.length; a++) l(a);
};
t.prototype.clearTips = function() {
this.rightPoint.opacity = 0;
this.rightResult.opacity = 0;
this.leftPoint.opacity = 0;
this.leftResult.opacity = 0;
};
t.prototype.runPlayerAction = function(e, t) {
var o = this;
if (0 != e.opacity) {
e.setPosition(this.getPointPosition(t));
var i = e.getPosition(), n = null, a = v.BJConst.PLAYER_ACTION_TIPS_MOVE_X, r = a * Math.sin(45 / (180 / Math.PI));
this.seatPositionID == v.BJSeatPositionID.CENTER ? n = 1 == t ? new cc.Vec2(i.x + a, i.y) : new cc.Vec2(i.x - a, i.y) : this.seatPositionID == v.BJSeatPositionID.LEFT ? n = 1 == t ? new cc.Vec2(i.x + r, i.y - r) : new cc.Vec2(i.x - r, i.y + r) : this.seatPositionID == v.BJSeatPositionID.RIGHT && (n = 1 == t ? new cc.Vec2(i.x + r, i.y + r) : new cc.Vec2(i.x - r, i.y - r));
var s = cc.moveTo(v.BJConst.PLAYER_ACTION_TIPS_MOVE_TIME, n), c = cc.moveTo(v.BJConst.PLAYER_ACTION_TIPS_MOVE_TIME, i), l = (cc.callFunc(function() {
var t = e.name;
if ("left" == t) {
if (1 == o.leftTipsStopTag) {
o.leftPoint.stopAllActions();
o.leftPoint.setPosition(o.getPointPosition(2));
o.leftTipsStopTag = !1;
}
} else if ("right" == t && 1 == o.rightTipsStopTag) {
o.rightPoint.stopAllActions();
o.rightPoint.setPosition(o.getPointPosition(1));
o.rightTipsStopTag = !1;
}
}), cc.sequence(s, c)), d = cc.repeatForever(l);
e.runAction(d);
}
};
t.prototype.showCardPoint = function(e, t, o, i, n) {
var a = this, r = e;
r.angle = this.handCardRotation;
if (1 != n) if (0 == r.opacity) {
r.setPosition(t);
cc.tween(r).delay(d.CARD_FLY_DURATION).call(function() {
r.opacity = 255;
a.resetPointTips(r, t, o, i, n);
}, this).start();
} else cc.tween(r).to(d.CARD_FLY_DURATION, {
x: t.x,
y: t.y
}).call(function() {
a.resetPointTips(r, t, o, i, n);
}, this).start(); else {
r.opacity = 255;
r.setPosition(t);
this.resetPointTips(r, t, o, i, n);
}
};
t.prototype.hasCard = function() {
return this.singleHandCardNodeList.length > 0 || this.doubleHandsCardNodeListLeft.length > 0 || this.doubleHandsCardNodeListRight.length > 0;
};
t.prototype.resetPointTips = function(e, t, o, i, n) {
if (1 == i.length && 21 == i[0] && 2 == o && 1 == this.totalHands) {
C.default.loadSpriteFrame(e, "point_bg_blackjack", "ExBlackjack/exblackjack");
e.getChildByName("label").active = !1;
e.width = 94;
0 == n && this.showBlackjackAnim();
} else if (2 == i.length) {
C.default.loadSpriteFrame(e, "point_bg_common", "ExBlackjack/exblackjack");
e.getChildByName("label").active = !0;
e.getChildByName("label").getComponent(cc.Label).string = i[0] + "/" + i[1];
e.getChildByName("label").color = new cc.Color(255, 255, 255);
e.getChildByName("label").getComponent(cc.Label)._forceUpdateRenderData(!0);
(r = e.getChildByName("label").width + 53) < 94 && (r = 94);
e.width = r;
e.getChildByName("label").x = r / 2 + 2;
} else if (1 == i.length) {
var a = i[0];
if (21 == a) {
C.default.loadSpriteFrame(e, "point_bg_common", "ExBlackjack/exblackjack");
e.getChildByName("label").active = !0;
e.getChildByName("label").getComponent(cc.Label).string = "" + a;
e.getChildByName("label").color = new cc.Color(255, 255, 255);
var r = 94;
e.width = r;
e.getChildByName("label").x = r / 2 + 2;
} else if (a > 21) {
C.default.loadSpriteFrame(e, "point_bg_common", "ExBlackjack/exblackjack");
e.getChildByName("label").active = !0;
e.getChildByName("label").getComponent(cc.Label).string = "" + a;
e.getChildByName("label").color = new cc.Color(255, 255, 255);
r = 94;
e.width = r;
e.getChildByName("label").x = r / 2 + 2;
"left" == e.name ? 0 == n && this.showBurstedAnim(2) : "right" == e.name && 0 == n && this.showBurstedAnim(1);
} else {
C.default.loadSpriteFrame(e, "point_bg_common", "ExBlackjack/exblackjack");
e.getChildByName("label").active = !0;
e.getChildByName("label").getComponent(cc.Label).string = "" + a;
e.getChildByName("label").color = new cc.Color(255, 255, 255);
r = 94;
e.width = r;
e.getChildByName("label").x = r / 2 + 2;
}
}
var s = i[0];
i.length >= 2 && (s = i[1]);
o > 2 && (s < 21 && 0 == n ? this.runPointTipsAction(e, t) : this.stopPointTipsAction(e.name));
};
t.prototype.showResultPoint = function(e) {
if (1 == e) {
var t = [];
if (1 == this.totalHands) {
if (21 == (t = I.default.inst.getBlackJackPoints(this.singleHandCardNodeList))[0] && 2 == this.singleHandCardNodeList.length) return;
} else 2 == this.totalHands && (t = I.default.inst.getBlackJackPoints(this.doubleHandsCardNodeListRight));
var o = t[0];
2 == t.length && (o = t[1]);
(n = this.rightPoint).getChildByName("label").getComponent(cc.Label).string = o;
n.getChildByName("label").color = new cc.Color(255, 255, 255);
var i = 94;
n.width = i;
n.getChildByName("label").x = i / 2 + 2;
} else if (2 == e) {
var n;
o = (t = I.default.inst.getBlackJackPoints(this.doubleHandsCardNodeListLeft))[0];
2 == t.length && (o = t[1]);
(n = this.leftPoint).getChildByName("label").getComponent(cc.Label).string = o;
n.getChildByName("label").color = new cc.Color(255, 255, 255);
i = 94;
n.width = i;
n.getChildByName("label").x = i / 2 + 2;
}
};
t.prototype.showPointResult = function(e, t, o, i, n) {
var a = !1;
1 == this.totalHands && 1 == o.length && 21 == o[0] && 2 == this.singleHandCardNodeList.length && (a = !0);
if (!a) {
var r = null;
if ("leftResult" == e.name) {
r = this.leftPoint;
this.showResultPoint(2);
} else if ("rightResult" == e.name) {
r = this.rightPoint;
this.showResultPoint(1);
}
if (i && n > 0) {
C.default.loadSpriteFrame(r, "point_bg_user_win", "ExBlackjack/exblackjack");
r.getChildByName("label").color = new cc.Color(255, 255, 255);
var s = 94;
r.width = s;
r.getChildByName("label").x = s / 2 + 2;
} else {
C.default.loadSpriteFrame(r, "point_bg_user_lose", "ExBlackjack/exblackjack");
r.getChildByName("label").color = new cc.Color(255, 255, 255);
s = 94;
r.width = s;
r.getChildByName("label").x = s / 2 + 2;
}
}
};
t.prototype.runPointTipsAction = function(e, t) {
var o = 1;
if ("left" == e.name) {
o = 2;
this.leftTipsStopTag = !1;
this.leftPoint.stopAllActions();
t ? this.leftPoint.setPosition(t) : this.leftPoint.setPosition(this.getPointPosition(2));
} else {
o = 1;
this.rightTipsStopTag = !1;
this.rightPoint.stopAllActions();
t ? this.rightPoint.setPosition(t) : this.rightPoint.setPosition(this.getPointPosition(1));
}
this.runPlayerAction(e, o);
};
t.prototype.stopPointTipsAction = function(e) {
if (e) {
if ("left" == e) {
if (2 == this.totalHands) {
this.leftPoint.stopAllActions();
this.leftPoint.setPosition(this.getPointPosition(2));
}
} else if ("right" == e) {
this.rightPoint.stopAllActions();
this.rightPoint.setPosition(this.getPointPosition(1));
}
} else {
if (2 == this.totalHands) {
this.leftPoint.stopAllActions();
this.leftPoint.setPosition(this.getPointPosition(2));
}
this.rightPoint.stopAllActions();
this.rightPoint.setPosition(this.getPointPosition(1));
}
};
t.prototype.showResultTips = function(e, t, o, i, n) {
this.showPointResult(e, t, o, i, n);
var a = o[0];
1 == o.length ? a = o[0] : 2 == o.length && (a = o[1]);
if (i) if (n > 0) if (21 == a && 1 == this.totalHands && 2 == this.singleHandCardNodeList.length) {
e.color = new cc.Color(255, 171, 0);
e.getChildByName("label").color = new cc.Color(105, 70, 0);
e.getChildByName("label").getComponent(cc.Label).string = "Black Jack";
} else {
e.color = new cc.Color(0, 173, 0);
e.getChildByName("label").color = new cc.Color(255, 255, 255);
e.getChildByName("label").getComponent(cc.Label).string = "WIN";
} else {
e.color = new cc.Color(0, 81, 140);
e.getChildByName("label").getComponent(cc.Label).string = "DRAW";
e.getChildByName("label").color = new cc.Color(255, 255, 255);
} else {
e.color = new cc.Color(0, 81, 140);
e.getChildByName("label").getComponent(cc.Label).string = "LOSE";
e.getChildByName("label").color = new cc.Color(255, 255, 255);
}
e.getChildByName("label").getComponent(cc.Label)._forceUpdateRenderData(!0);
e.width = e.getChildByName("label").width + 60;
e.setPosition(t);
e.opacity = 0;
cc.tween(e).to(.2, {
opacity: 242
}).start();
};
t.prototype.hideResultTips = function(e) {
cc.tween(e).to(.2, {
opacity: 0
}).start();
};
a([ A({
type: cc.Integer
}) ], t.prototype, "seatPositionID", void 0);
return a([ E ], t);
}(cc.Component);
o.default = R;
cc._RF.pop();
}, {
"../../EXUIFrame/EXSoundMgr": "EXSoundMgr",
"../../FireData/CommonData": "CommonData",
"../../GameCommon/NVSGameUtil": "NVSGameUtil",
"../../GameCores/DialogLogic": "DialogLogic",
"../../GameCores/MyCardCreator": "MyCardCreator",
"../../GameCores/MyChipCreator": "MyChipCreator",
"../../GameFireData/GameAllConst": "GameAllConst",
"../../GameNetWork/NetWorkAll": "NetWorkAll",
"../../PublicTools/GameEvents": "GameEvents",
"../GameBJAnimPlayer": "GameBJAnimPlayer",
"../GameBJConst": "GameBJConst",
"../GameBJData": "GameBJData",
"../GameBJLogic": "GameBJLogic",
"../GameBJSoundPlayer": "GameBJSoundPlayer",
"./GameActions": "GameActions",
"./GameBets": "GameBets",
"./GameInsurance": "GameInsurance",
"./GameSeat": "GameSeat"
} ],
GamePool: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9a1bddsWvlHAr7E5BUvkeou", "GamePool");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.GamePool = void 0;
var i = function() {
function e(e, t) {
this._fn = e;
this._idx = t - 1;
this._frees = new Array(t);
for (var o = 0; o < t; o++) this._frees[o] = e();
}
e.prototype._expand = function(e) {
var t = this._frees;
this._frees = new Array(e);
for (var o = e - t.length, i = 0; i < o; i++) this._frees[i] = this._fn();
i = o;
for (var n = 0; i < e; ++i, ++n) this._frees[i] = t[n];
this._idx += o;
};
Object.defineProperty(e.prototype, "freeCount", {
get: function() {
return this._frees.length;
},
enumerable: !1,
configurable: !0
});
e.prototype.alloc = function() {
this._idx < 0 && this._expand(Math.round(1.2 * this._frees.length) + 1);
var e = this._frees[this._idx];
this._frees.splice(this._idx);
--this._idx;
e.use && e.use();
return e;
};
e.prototype.free = function(e) {
++this._idx;
e.free && e.free();
this._frees[this._idx] = e;
};
e.prototype.clear = function(e) {
for (var t = 0; t < this._idx; t++) e && e(this._frees[t]);
this._frees.splice(0);
this._idx = -1;
};
return e;
}();
o.GamePool = i;
cc._RF.pop();
}, {} ],
GamePreLoader: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "769efatgURLc6MB+1RA9iH3", "GamePreLoader");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("../data/conf/GameConfig"), a = e("../data/MyData"), r = e("../data/WebGameRepairData"), s = e("../communication/SocketGameManager"), c = e("../public/MyComponent/GameHppayUtil"), l = e("../communication/GameLobbyHttp"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function() {
function e() {}
e.preLoadHall = function() {
r.default.getInstance().init();
s.default.getInstance().socketSend.getGameRedNotification();
s.default.getInstance().socketSend.getGameBildList();
s.default.getInstance().socketSend.getBildInfoList();
var e = Number(c.default.readData(a.default.storageData.TimeStamp));
e || (e = 0);
};
e.preLoadHallPHP = function() {
l.default.getInstance().getAllBanks();
};
e.preLoadActivity = function(e) {
if (null != e) for (var t = function(t) {
var i = e[t], a = n.default.resourceUrl + i.bgImage.url, r = n.default.resourceUrl + i.closeImage.url, s = n.default.resourceUrl + i.btnImage.url;
console.log("download pubactivity image ", a);
console.log("download pubactivity image ", r);
console.log("download pubactivity image ", s);
cc.loader.load(a, function(e) {
e ? console.log("load pubactivity image failed", a) : console.log("load pubactivity image success", a);
}.bind(o));
cc.loader.load(r, function(e) {
e ? console.log("load pubactivity image failed", r) : console.log("load pubactivity image success", r);
}.bind(o));
cc.loader.load(s, function(e) {
e ? console.log("load pubactivity image failed", s) : console.log("load pubactivity image success", s);
}.bind(o));
}, o = this, i = 0; i < e.length; i++) t(i);
};
e.preLoadKickbackDescImage = function(e) {
var t = n.default.resourceUrl + e;
console.log("download ad image ", t);
cc.loader.load(t, function(e) {
e ? console.log("load activity image failed", t) : console.log("load activity image success", t);
}.bind(this));
};
e.preLoadNewActivity = function(e) {
if (null != e) for (var t = function(t) {
var i = e[t], a = n.default.resourceUrl + i.imageUrl;
console.log("download ad image ", a);
cc.loader.load(a, function(e) {
e ? console.log("load activity image failed", a) : console.log("load activity image success", a);
}.bind(o));
}, o = this, i = 0; i < e.length; i++) t(i);
};
return i([ h ], e);
}());
o.default = u;
cc._RF.pop();
}, {
"../communication/GameLobbyHttp": "GameLobbyHttp",
"../communication/SocketGameManager": "SocketGameManager",
"../data/MyData": "MyData",
"../data/WebGameRepairData": "WebGameRepairData",
"../data/conf/GameConfig": "GameConfig",
"../public/MyComponent/GameHppayUtil": "GameHppayUtil"
} ],
GameQueue: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "dc079MY9+FBcK/hW9B/h44i", "GameQueue");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.PriorityElement = void 0;
var i = function(e, t) {
this.data = e;
this.pIdx = t;
};
o.PriorityElement = i;
var n = function() {
function e() {
this.queue = new Array(32);
this.size = 0;
}
e.prototype.hasElement = function(e) {
for (var t = 0, o = this.queue; t < o.length; t++) if (o[t].data === e) return !0;
return !1;
};
e.prototype.enqueue = function(e, t) {
void 0 === t && (t = 0);
this.size > this.queue.length && this._expand();
this.queue[this.size++] = new i(e, t);
this.upAdjust();
};
e.prototype.dequeue = function() {
if (this.size <= 0) return null;
var e = this.queue[0];
this.queue[0] = this.queue[--this.size];
this.downAdjust();
return e.data;
};
e.prototype.upAdjust = function() {
for (var e = this.size - 1, t = Math.floor(e / 2), o = this.queue[e]; e > 0 && o.pIdx > this.queue[t].pIdx; ) {
this.queue[e] = this.queue[t];
e = t;
t = Math.floor(t / 2);
}
this.queue[e] = o;
};
e.prototype.downAdjust = function() {
for (var e = 0, t = this.queue[e], o = 1; o < this.size; ) {
o + 1 < this.size && this.queue[o + 1].pIdx > this.queue[o].pIdx && o++;
if (t.pIdx >= this.queue[o].pIdx) break;
this.queue[e] = this.queue[o];
e = o;
o = 2 * o + 1;
}
this.queue[e] = t;
};
e.prototype._expand = function() {
var e = Math.round(1.2 * this.queue.length) + 1, t = this.queue;
this.queue = new Array(e);
for (var o = 0; o < t.length; o++) this.queue[o] = t[o];
};
e.prototype.toString = function() {
for (var e = "", t = 0; t < this.size; t++) {
var o = this.queue[t].data;
o.toString ? e += o.toString() : e += "object" == typeof o ? JSON.stringify(o) : o;
}
return e;
};
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
GameRankDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ce3acWCDBdNia8SY3yKu2E8", "GameRankDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../public/MyComponent/WindowBase"), s = e("../../communication/SocketGameManager"), c = e("../../public/ThirdParty/happyList"), l = e("../../public/MyComponent/GameHppayUtil"), d = e("../executor/GameRankEx"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.recordList = null;
t.listData = [];
t.root = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
this.root = this.node.getChildByName("dlgBg");
this.root.getChildByName("btnClose").on("click", this.onClose, this);
this.recordList = this.root.getChildByName("ScrollView").getComponent(c.default);
this.exView = new d.default();
this.exView.setProxy(this);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.exView.updateLanguageUI();
this.register("GameRankDlg", [ "GET_RANK_LIST_EVENT" ]);
this.showLoading();
this.root.active = !1;
s.default.getInstance().socketSend.getGameRankList(1, 0);
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "GET_RANK_LIST_EVENT":
this.onGetRankList(t);
}
};
t.prototype.onGetRankList = function(e) {
this.hideLoading();
this.root.active = !0;
this.listData = e.ranList;
this.recordList.numItems = this.listData.length;
this.exView.createSelfRank(e.rankIndex);
};
t.prototype.onListRender = function(e, t) {
var o = e.getChildByName("bg"), i = e.getChildByName("head"), n = e.getChildByName("imageRank"), a = e.getChildByName("labelRank").getComponent(cc.Label), r = e.getChildByName("labelName").getComponent(cc.Label), s = e.getChildByName("labelMoney").getComponent(cc.Label), c = this.listData[t];
r.string = c.nickName;
s.string = l.default.cul(c.chip);
l.default.setHeadPhoto(i.getChildByName("head"), c.headID);
if (t <= 2) {
a.node.active = !1;
n.active = !0;
l.default.loadSprAtlasFrame(n, "rankicon" + (t + 1), "plists/services");
l.default.loadSprAtlasFrame(o, "rank" + (t + 1), "plists/services");
} else {
a.node.active = !0;
n.active = !1;
a.string = t + 1 + "";
l.default.loadSprAtlasFrame(o, "rankbg", "plists/services");
}
};
return a([ u ], t);
}(r.default));
o.default = p;
cc._RF.pop();
}, {
"../../communication/SocketGameManager": "SocketGameManager",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/WindowBase": "WindowBase",
"../../public/ThirdParty/happyList": "happyList",
"../executor/GameRankEx": "GameRankEx"
} ],
GameRankEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e8b161zOYxJvY+W/5368jKb", "GameRankEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../data/GameLangData"), s = e("../../data/MyData"), c = e("../../public/MyComponent/GameHppayUtil"), l = e("../../public/MyComponent/ViewExecutorBase"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {
this.root = this.node.node.getChildByName("dlgBg");
};
t.prototype.updateLanguageUI = function() {
this.root.getChildByName("labelTitle").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("rank");
c.default.labelShadow(this.root.getChildByName("labelTitle").getComponent(cc.Label));
};
t.prototype.createSelfRank = function(e) {
var t = this.root.getChildByName("myHead"), o = this.root.getChildByName("myRank"), i = this.root.getChildByName("myLabelRank").getComponent(cc.Label), n = this.root.getChildByName("myName").getComponent(cc.Label), a = this.root.getChildByName("myMoney").getComponent(cc.Label);
n.string = s.default.UserData.nickname;
a.string = c.default.cul(s.default.UserData.chip);
c.default.setHeadPhoto(t.getChildByName("head"), s.default.UserData.headID);
if (e <= 3) {
i.node.active = !1;
o.active = !0;
c.default.loadSprAtlasFrame(o, "rankicon" + e, "plists/services");
} else if (e <= 100) {
i.node.active = !0;
o.active = !1;
i.string = e;
} else {
i.node.active = !0;
o.active = !1;
i.string = r.default.ins.GET_HALL_LANG("noOnRank");
}
};
return a([ h ], t);
}(l.default));
o.default = u;
cc._RF.pop();
}, {
"../../data/GameLangData": "GameLangData",
"../../data/MyData": "MyData",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
GameReadMailDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4fb70OyBENGBreb4hjxWiHs", "GameReadMailDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../public/MyComponent/GameEvent"), c = e("../../../data/conf/GameInfo"), l = e("../../../data/conf/GameRes"), d = e("../../../data/MyData"), h = e("../../../data/GameLangData"), u = e("../../../communication/SocketGameManager"), p = e("../../../public/MyComponent/GameHppayUtil"), f = cc._decorator, m = f.ccclass, g = (f.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._rewardCoin = null;
t._rewardTicket = null;
t._rewardChip = null;
t._dialogTitle = null;
t._mailTitle = null;
t._mailContentHelp = null;
t._mailContent = null;
t._scrollView = null;
t._scrollViewContent = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
this.node.getChildByName("btnClose").on("click", this.onClose, this);
this.node.getChildByName("okBtn").on("click", this._onOK, this);
this._dialogTitle = this.node.getChildByName("titleLabel").getComponent(cc.Label);
this._mailTitle = this.node.getChildByName("mailTitle").getComponent(cc.RichText);
this._mailContentHelp = this.node.getChildByName("mailContentHelp");
this._scrollView = this.node.getChildByName("scrollViewMailContent");
this._scrollViewContent = this._scrollView.getChildByName("view").getChildByName("content");
this._mailContent = this._scrollView.getChildByName("view").getChildByName("content").getChildByName("mailContent");
this._scrollView.cascadeOpacity = !1;
this._rewardCoin = this.node.getChildByName("labelCoinCount");
this._rewardTicket = this.node.getChildByName("labelTicketCount");
this._rewardChip = this.node.getChildByName("labelChipCount");
this.node.getChildByName("title").getComponent(cc.Label).string = h.default.ins.STRING_COMMON("title");
this.node.getChildByName("content").getComponent(cc.Label).string = h.default.ins.STRING_COMMON("content");
p.default.loadSprAtlasFrame(this._rewardChip.getChildByName("icon"), l.GameResInfo.CURRENCY_ROOT_DIR + l.GameResInfo.CURRENCY_ICON);
};
t.prototype.start = function() {
e.prototype.start.call(this);
0 == this._data.status && u.default.getInstance().socketSend.readEmail(this._data.mailID);
this.changeView();
};
t.prototype.changeView = function() {
var e = this._data.mailType;
this._dialogTitle.string = this._data.title;
p.default.labelShadow(this._dialogTitle);
0 == this._data.isRewarded && "" != this._data.reward ? 1 == e && d.default.UserData.coinFeedback ? this.node.getChildByName("okBtn").getChildByName("Label").getComponent(cc.Label).string = h.default.ins.GET_DIALOG_LANG("getRewardAndSend") : this.node.getChildByName("okBtn").getChildByName("Label").getComponent(cc.Label).string = h.default.ins.GET_DIALOG_LANG("getReward") : this.node.getChildByName("okBtn").getChildByName("Label").getComponent(cc.Label).string = h.default.ins.STRING_COMMON("delete");
this._mailTitle.string = this._data.title;
this._mailContent.getComponent(cc.RichText).string = this._data.content.replace(/\\n/g, "\n");
this._mailContentHelp.getComponent(cc.Label).string = this._mailContent.getComponent(cc.RichText).string;
this._mailContentHelp.getComponent(cc.Label)._forceUpdateRenderData(!0);
this._scrollViewContent.height = this._mailContentHelp.height;
var t = this._data.reward;
console.log("mail reward = ", this._data);
if ("" == t) {
this._rewardTicket.active = !1;
this._rewardCoin.active = !1;
this._rewardChip.active = !1;
} else {
for (var o = t.split(",", 50), i = 0, n = 0, a = 0, r = 0; r < o.length; r++) {
var s = o[r].split("|"), l = Number(s[0]), u = Number(s[1]);
2 == l ? i += u : 1 == l ? n += u : 3 == l && (a += u);
}
var f = 0;
i > 0 && f++;
n > 0 && f++;
a > 0 && f++;
if (1 == f) {
if (i > 0) {
this._rewardChip.x = this._rewardTicket.x;
this._rewardTicket.active = !1;
this._rewardCoin.active = !1;
this._rewardChip.getComponent(cc.Label).string = i / c.default.chipMulti + "";
} else if (n > 0) {
this._rewardCoin.x = this._rewardTicket.x;
this._rewardTicket.active = !1;
this._rewardChip.active = !1;
this._rewardCoin.getComponent(cc.Label).string = n + "";
} else if (a > 0) {
this._rewardTicket.getComponent(cc.Label).string = a / c.default.pointMulti + "";
this._rewardCoin.active = !1;
this._rewardChip.active = !1;
this._rewardTicket.active = !0;
}
} else if (2 == f) {
var m = (this._rewardTicket.x + this._rewardCoin.x) / 2, g = (this._rewardTicket.x + this._rewardChip.x) / 2, y = 0;
if (i > 0) {
this._rewardChip.x = m;
this._rewardChip.getComponent(cc.Label).string = i / c.default.chipMulti + "";
y++;
}
if (n > 0) {
if (0 == y) {
this._rewardCoin.x = m;
this._rewardChip.active = !1;
} else {
this._rewardTicket.active = !1;
this._rewardCoin.x = g;
}
this._rewardCoin.getComponent(cc.Label).string = n + "";
y++;
}
if (a > 0) {
n > 0 ? this._rewardChip.active = !1 : i > 0 && (this._rewardCoin.active = !1);
this._rewardTicket.getComponent(cc.Label).string = a / c.default.pointMulti + "";
this._rewardTicket.x = g;
}
} else if (3 == f) {
this._rewardTicket.active = !0;
this._rewardCoin.active = !0;
this._rewardChip.active = !0;
this._rewardChip.getComponent(cc.Label).string = "" + i / c.default.chipMulti;
this._rewardCoin.getComponent(cc.Label).string = "" + n;
this._rewardTicket.getComponent(cc.Label).string = "" + a / c.default.pointMulti;
}
}
};
t.prototype._onOK = function() {
0 == this._data.isRewarded && "" != this._data.reward ? u.default.getInstance().socketSend.getEmailReward(this._data.mailID) : u.default.getInstance().socketSend.deleEmail(this._data.mailID);
s.GameEvent.ins().emit("REMOVE_READ_MAIL_ITEM", this._data.mailID);
this.onClose();
};
return a([ m ], t);
}(r.default));
o.default = g;
cc._RF.pop();
}, {
"../../../communication/SocketGameManager": "SocketGameManager",
"../../../data/GameLangData": "GameLangData",
"../../../data/MyData": "MyData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../data/conf/GameRes": "GameRes",
"../../../public/MyComponent/GameEvent": "GameEvent",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase"
} ],
GameReadNoticeDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b0be8+JCNxPJIaKoJQaHCCD", "GameReadNoticeDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../public/MyComponent/GameEvent"), c = e("../../../data/GameLangData"), l = e("../../../communication/SocketGameManager"), d = e("../../../public/MyComponent/GameHppayUtil"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._mailTitle = null;
t._mailContent = null;
t._scrollViewContent = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
this.node.getChildByName("btnClose").on("click", this.onClose, this);
this.node.getChildByName("okBtn").on("click", this._onOK, this);
this._scrollViewContent = this.node.getChildByName("scrollViewMailContent").getChildByName("view").getChildByName("content");
this._mailContent = this._scrollViewContent.getChildByName("mailContent").getComponent(cc.Label);
this._mailTitle = this.node.getChildByName("title").getComponent(cc.Label);
};
t.prototype.start = function() {
e.prototype.start.call(this);
0 == this._data.status && l.default.getInstance().socketSend.readEmail(this._data.mailID);
this.changeView();
};
t.prototype.changeView = function() {
this.node.getChildByName("okBtn").getChildByName("Label").getComponent(cc.Label).string = c.default.ins.STRING_COMMON("delete");
this._mailTitle.string = this._data.title;
d.default.labelShadow(this._mailTitle);
this._mailContent.getComponent(cc.Label).string = this._data.content;
this._mailContent.getComponent(cc.Label)._forceUpdateRenderData(!0);
this._scrollViewContent.height = this._mailContent.node.height + 60;
};
t.prototype._onOK = function() {
l.default.getInstance().socketSend.deleEmail(this._data.mailID);
s.GameEvent.ins().emit("REMOVE_READ_MAIL_ITEM", this._data.mailID);
this.onClose();
};
return a([ u ], t);
}(r.default));
o.default = p;
cc._RF.pop();
}, {
"../../../communication/SocketGameManager": "SocketGameManager",
"../../../data/GameLangData": "GameLangData",
"../../../public/MyComponent/GameEvent": "GameEvent",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase"
} ],
GameRecorder: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f5b46Ac1CRI2Lhmqf6f3NYy", "GameRecorder");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.EventID = void 0;
var n = e("../GameHttpTools/HttpTools");
(function(e) {
e[e.acceptPush = 1] = "acceptPush";
e[e.acceptADFollow = 2] = "acceptADFollow";
e[e.loadingProgress = 3] = "loadingProgress";
e[e.enterHallTime = 7] = "enterHallTime";
e[e.dailyReward = 8] = "dailyReward";
e[e.firstCharge = 9] = "firstCharge";
e[e.hallGuideTime = 10] = "hallGuideTime";
e[e.reconnectBack = 11] = "reconnectBack";
e[e.networkWeak = 12] = "networkWeak";
e[e.networkClose = 13] = "networkClose";
e[e.networkCloseTips = 14] = "networkCloseTips";
e[e.networkDelay = 15] = "networkDelay";
e[e.socketLoginFailed = 16] = "socketLoginFailed";
e[e.paymentFailed = 17] = "paymentFailed";
e[e.tutorialsStep = 18] = "tutorialsStep";
e[e.tutorials = 19] = "tutorials";
e[e.enterHall = 20] = "enterHall";
e[e.enterRoom = 21] = "enterRoom";
e[e.adView = 22] = "adView";
e[e.noAd = 23] = "noAd";
e[e.hallBaccarat = 24] = "hallBaccarat";
e[e.hallBlackjack = 25] = "hallBlackjack";
e[e.hallTexasPoker = 26] = "hallTexasPoker";
e[e.hallLucky3 = 27] = "hallLucky3";
e[e.hallBJRoomFree = 28] = "hallBJRoomFree";
e[e.hallBJRoomClassic = 29] = "hallBJRoomClassic";
e[e.hallBJRoom7s = 30] = "hallBJRoom7s";
e[e.hallRoomHelp = 31] = "hallRoomHelp";
e[e.hallRoomQuickStart = 32] = "hallRoomQuickStart";
e[e.hallRoomBack = 33] = "hallRoomBack";
e[e.shopClick = 101] = "shopClick";
e[e.exchangeClick = 102] = "exchangeClick";
e[e.friendClick = 103] = "friendClick";
e[e.inviteClick = 104] = "inviteClick";
e[e.communityClick = 105] = "communityClick";
e[e.facebookClick = 106] = "facebookClick";
e[e.chatClick = 107] = "chatClick";
e[e.taskClick = 108] = "taskClick";
e[e.rankClick = 109] = "rankClick";
e[e.headPhotoClick = 110] = "headPhotoClick";
e[e.firstChargeClick = 111] = "firstChargeClick";
e[e.mailClick = 112] = "mailClick";
e[e.settingsClick = 113] = "settingsClick";
e[e.praise = 114] = "praise";
e[e.enterRoomTime = 115] = "enterRoomTime";
e[e.quickStartClick = 116] = "quickStartClick";
e[e.tableChooseClick = 117] = "tableChooseClick";
e[e.classicRoomClick = 118] = "classicRoomClick";
e[e.tigerRoomClick = 119] = "tigerRoomClick";
e[e.vipRoomClick = 120] = "vipRoomClick";
e[e.modifyNickName = 121] = "modifyNickName";
e[e.modifyHeadPhoto = 122] = "modifyHeadPhoto";
e[e.roomTaskClick = 123] = "roomTaskClick";
e[e.gameSendClick = 124] = "gameSendClick";
e[e.roomShopClick = 125] = "roomShopClick";
e[e.roomScreenShotClick = 126] = "roomScreenShotClick";
e[e.roomMenuClick = 127] = "roomMenuClick";
e[e.roomChatClick = 128] = "roomChatClick";
e[e.roomMenuBack = 129] = "roomMenuBack";
e[e.roomMenuPlayRecord = 130] = "roomMenuPlayRecord";
e[e.roomMenuHelp = 131] = "roomMenuHelp";
})(o.EventID || (o.EventID = {}));
var a = cc._decorator, r = a.ccclass, s = (a.property, function() {
function e() {}
e.record = function(e, t, o) {
console.log("Log event , eventID = ", e);
var i = {};
i.action = e;
if (null != t && null != o) {
i[t] = o;
console.log("key = ", t);
console.log("value = ", o);
}
n.default.getInstance().eventRecord(i);
};
e.startRecordTime = function(e) {
this.timeRecorder["timeStart" + e] = new Date().getDate();
};
e.endRecordTime = function(e) {
var t = new Date().getDate(), o = this.timeRecorder["timeStart" + e] || t, i = Math.floor((t - o) / 1e3);
if (i > 0) {
this.record(e, "time", i);
delete this.timeRecorder["timeStart" + e];
}
};
e.timeRecorder = {};
return i([ r ], e);
}());
o.default = s;
cc._RF.pop();
}, {
"../GameHttpTools/HttpTools": "HttpTools"
} ],
GameRecvSocket: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "644e7hpBVNFMoUMRBklr3Qe", "GameRecvSocket");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../public/MyComponent/GameEvent"), s = e("./GameNetReprter"), c = e("../data/conf/GameInfo"), l = e("../data/BroadcastGameData"), d = e("../data/MyData"), h = e("../data/GameLangData"), u = e("../data/GameRedData"), p = e("../dialog/proxy/GameConfirmDlg"), f = e("../manager/DlgGameMgr"), m = e("../manager/ReportGameEvent"), g = e("../manager/GameSceneMgr"), y = e("../public/MyComponent/GameHppayUtil"), _ = e("./GameCmd"), C = e("./SocketGameManager"), b = e("./NetworkCheck"), v = e("../public/ThirdParty/UIGameMgr"), S = e("../natives/AndroidPayment"), I = e("../data/WebGameRepairData"), B = e("./HappyGameSocket"), w = e("../manager/PlatformInterface"), N = cc._decorator, L = N.ccclass, T = (N.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.addGameCmd = function(e, t) {
r.GameEvent.ins().removeByNode(e.toString());
r.GameEvent.ins().on(e.toString(), t.bind(this), "event");
};
t.prototype.process = function(e, t, o) {
console.log("process", e.cmd.toString(16), "time", new Date().getTime());
this.viewArr = o;
this.learnBegin(t);
b.default.inst.resetLostTimes();
var i = e.msgType;
console.log("process msg type", i);
r.GameEvent.ins().emit(e.cmd.toString(), t);
};
t.prototype.init_proc_func = function() {
this.addGameCmd(_.default.CMD_CHECK_GAME_NET, this.procCheckGameNet);
this.addGameCmd(_.default.CMD_LOGIN_GAME, this.procGameLogin);
this.addGameCmd(_.default.CMD_KICK_GAME_OUT, this.procGameKickOut);
this.addGameCmd(_.default.CMD_GAME_BLND_LIST, this.procGameBindList);
this.addGameCmd(_.default.CMD_GAME_BLND_LIST_INFO, this.procBindInfoList);
this.addGameCmd(_.default.CMD_LOGIN_GAME_HALL, this.procGameLoginHall);
this.addGameCmd(_.default.CMD_GET_HALL_RANK_LIST, this.procGameRankList);
this.addGameCmd(_.default.CMD_GAME_PLAYER_HOME_INFO, this.procGetGamePlayerInfo);
this.addGameCmd(_.default.CMD_CHANGE_GAME_NAME, this.procNiackNameChange);
this.addGameCmd(_.default.CMD_NICK_NAME_REPEAT, this.procCheckNickNameRepeat);
this.addGameCmd(_.default.CMD_CHANGE_GAME_VIP_EXP, this.procChangeVipExp);
this.addGameCmd(_.default.CMD_GAME_LIMIT_INFO, this.procGetGameLimitInfo);
this.addGameCmd(_.default.CMD_GAME_SAFE_OPERATION, this.procGameSafeOperation);
this.addGameCmd(_.default.CMD_MONEY_INFO, this.procGetPlayerMoneyInfo);
this.addGameCmd(_.default.CMD_CONSUME_PURCHASE_GOOGLE, this.procGoogleGameConsumePurchase);
this.addGameCmd(_.default.CMD_REPAIR_PURCHASE_GOOGLE, this.procGoogleGameRepairPurchase);
this.addGameCmd(_.default.CMD_NOTIFY_SEVERR_FB, this.procGameNotifyRsp);
this.addGameCmd(_.default.CMD_SET_GAME_SETUP, this.procGameSetUp);
this.addGameCmd(_.default.CMD_GET_GAME_TIMEBOX_INFO, this.procGameTimeboxInfo);
this.addGameCmd(_.default.CMD_GET_GAME_TIMEBOX_REWARD, this.porcGameTimeboxReward);
this.addGameCmd(_.default.CMD_GAME_BROADCAST_MSG, this.procSysBroadcastMsg);
this.addGameCmd(_.default.CMD_GET_MAIL_INFO, this.procGetEmailInfo);
this.addGameCmd(_.default.CMD_GET_GAMEMAIL_LIST, this.procGetEmailList);
this.addGameCmd(_.default.CMD_READ_MAILINFO, this.procReadEmail);
this.addGameCmd(_.default.CMD_READ_ALL_MAILINFO, this.procReadAllEmail);
this.addGameCmd(_.default.CMD_GAME_MAIL_REWARD, this.procGetEmailReward);
this.addGameCmd(_.default.CMD_GET_ALLGAME_MAIL_REWARD, this.procGetAllEmailReward);
this.addGameCmd(_.default.CMD_DELETE_EMAIL, this.procDeleteEmail);
this.addGameCmd(_.default.CMD_DELETE_ALL_MAIL, this.procDeleteAllEmail);
this.addGameCmd(_.default.CMD_NEW_MAIL_NOTIFY, this.procNotifyNewEmail);
this.addGameCmd(_.default.CMD_GET_GAME_RED_TIPS, this.procGameRedNotification);
this.addGameCmd(_.default.CMD_GAME_REPAIR_THIRD_PARTY, this.procGetGameThirdPartyRepairInfo);
this.addGameCmd(_.default.CMD_GET_LUCKY_SPIN_INFO, this.proGetLuckySpinInfo);
this.addGameCmd(_.default.CMD_START_SPIN, this.proStartSpin);
this.addGameCmd(_.default.CMD_GET_RANK_DATA, this.proGetRankData);
};
t.prototype.procCheckGameNet = function() {
var e = Date.now(), t = this.learnInt();
e %= 1e5;
b.default.inst.onlineCheck(t);
d.default.phoneData.delayedTime = Math.ceil((e - t) / 2);
s.GameNetReprter.inst.process(t);
};
t.prototype.procGameLogin = function() {
var e = this.learnShort();
if (0 == e) r.GameEvent.ins().emit("LOGIN_SUCCESS", e); else {
C.default.getInstance().close();
m.default.record(m.ReportEventType.socketLoginFailed, "loginFailedRetCode", e);
m.default.newRecord(m.ReportEventType.socketLoginFailed, "loginFailedRetCode", e);
r.GameEvent.ins().emit("LOGIN_FAILED", e);
g.default.enterLogin();
}
};
t.prototype.procGameBindList = function() {
var e = this.learnShort();
d.default.clearbindData();
if (0 == e) for (var t = this.learnByte(), o = 0; o < t; o++) {
var i = this.learnByte(), n = this.learnString();
if (1 == i) {
d.default.bindData.phoneNum = n;
d.default.UserData.phoneBinding = !0;
}
console.log("bind list ", i);
console.log("bind list ", n);
}
};
t.prototype.procBindInfoList = function() {
if (0 == this.learnShort()) for (var e = this.learnByte(), t = 0; t < e; t++) {
var o = this.learnByte(), i = this.learnString(), n = this.learnString();
if (1 == o) {
d.default.bindData.phoneNum = i;
c.default.phoneNumber = n;
d.default.UserData.phoneBinding = !0;
}
}
};
t.prototype.procGameKickOut = function() {
var e = this.learnShort();
if (0 == e) {
f.default.inst.closeAllDialog();
(t = new p.ConfirmData()).desc = h.default.ins.GET_ALERT_LANG("accountTickOut");
t.oneBtn = !0;
t.okCallback = function() {
d.default.clearHallData();
C.default.getInstance().socketSend.loginGameOut();
C.default.getInstance().close();
f.default.inst.closeAllDialog();
g.default.enterLogin();
};
t.cancelCallback = function() {
d.default.clearHallData();
C.default.getInstance().socketSend.loginGameOut();
C.default.getInstance().close();
f.default.inst.closeAllDialog();
g.default.enterLogin();
};
v.default.inst().openUIForm(f.DlgType.confirm, [ t ]);
} else if (14 == e) {
f.default.inst.closeAllDialog();
(t = new p.ConfirmData()).desc = h.default.ins.GET_ALERT_LANG("accountInvalid");
t.oneBtn = !0;
t.okCallback = function() {
d.default.clearHallData();
C.default.getInstance().socketSend.loginGameOut();
C.default.getInstance().close();
f.default.inst.closeAllDialog();
g.default.enterLogin();
};
t.cancelCallback = function() {
d.default.clearHallData();
C.default.getInstance().socketSend.loginGameOut();
C.default.getInstance().close();
f.default.inst.closeAllDialog();
g.default.enterLogin();
};
v.default.inst().openUIForm(f.DlgType.confirm, [ t ]);
} else {
f.default.inst.closeAllDialog();
var t;
(t = new p.ConfirmData()).desc = h.default.ins.GET_ALERT_LANG("accountTickOut");
t.oneBtn = !0;
t.okCallback = function() {
d.default.clearHallData();
C.default.getInstance().socketSend.loginGameOut();
C.default.getInstance().close();
f.default.inst.closeAllDialog();
g.default.enterLogin();
};
t.cancelCallback = function() {
d.default.clearHallData();
C.default.getInstance().socketSend.loginGameOut();
C.default.getInstance().close();
f.default.inst.closeAllDialog();
g.default.enterLogin();
};
v.default.inst().openUIForm(f.DlgType.confirm, [ t ]);
}
};
t.prototype.procGameLoginHall = function() {
if (0 == this.learnShort()) {
var e = {};
e.nickname = this.learnString();
e.headID = this.learnShort();
e.country = this.learnString();
e.exp = this.learnInt();
var t = this.learnInt64() / c.default.chipMulti;
e.coin = t;
e.chip = this.learnInt64() / c.default.chipMulti;
e.point = this.learnInt64() / c.default.pointMulti;
e.vipExp = this.learnInt();
e.gameType = this.learnByte();
e.goldType = this.learnByte();
e.roomId = this.learnShort();
e.ukey = this.learnString();
e.maxvipExp = this.learnInt();
e.giftId = this.learnShort();
for (var o in e) d.default.UserData[o] = e[o];
console.log("loginhall data", e);
0 == e.gameType && 0 == e.roomId ? r.GameEvent.ins().emit("LOGIN_HALL_SUCCESS", e) : r.GameEvent.ins().emit("LOGIN_HALL_SUCCESS", "");
}
};
t.prototype.procGameRankList = function() {
var e = this.learnShort();
if (0 == e) {
var t = {};
t.type = this.learnByte();
t.rankIndex = this.learnInt();
t.allSize = this.learnShort();
t.ranList = [];
for (var o = this.learnByte(), i = 0; i < o; i++) {
var n = {};
n.uid = this.learnInt();
n.chip = this.learnInt64() / c.default.chipMulti;
n.exp = this.learnInt();
n.vipExp = this.learnInt();
n.nickName = this.learnString();
n.headID = this.learnShort();
n.country = this.learnString();
n.isSubscribe = this.learnByte();
t.ranList.push(n);
}
r.GameEvent.ins().emit("GET_RANK_LIST_EVENT", t);
} else console.log("rangk err", e);
};
t.prototype.procGetGamePlayerInfo = function() {
var e = this.learnShort();
if (0 == e) {
var t = {};
t.userId = this.learnInt();
t.nickname = this.learnString();
t.headID = this.learnShort();
t.giftID = this.learnShort();
t.totalMoney = this.learnInt64() / c.default.chipMulti;
t.canUseMoney = this.learnInt64() / c.default.chipMulti;
t.canWithDrawMoney = this.learnInt64() / c.default.chipMulti;
t.withdrawLimit = this.learnByte();
t.withdrawTimes = this.learnByte();
t.withdrawAmount = this.learnInt64() / c.default.chipMulti;
r.GameEvent.ins().emit("PLAYER_HOME_INFO_EVENT", t);
} else console.log("GamePlayerInfo err", e);
};
t.prototype.procNiackNameChange = function() {
var e = this.learnShort();
0 == e ? r.GameEvent.ins().emit("PROC_CHANGE_NAME_EVENT", e) : console.log("NiackNameChange err", e);
};
t.prototype.procCheckNickNameRepeat = function() {
var e = this.learnShort();
r.GameEvent.ins().emit("PROC_INSPECT_NAME_REPEAT_EVENT", e);
};
t.prototype.procChangeVipExp = function() {
if (0 == this.learnShort()) {
this.learnInt();
d.default.UserData.vipLevel = this.learnInt();
d.default.UserData.vipLevel > 5 && (d.default.UserData.vipLevel = 5);
var e = this.learnInt();
e > 0 && f.default.inst.showDlg(f.DlgType.vipAward, e);
r.GameEvent.ins().emit("PROC_CHANGE_VIPEXP_EVENT");
}
};
t.prototype.procGetGameLimitInfo = function() {
var e = this.learnShort();
if (0 == e) {
d.default.limitData.nickTimes = this.learnByte();
d.default.limitData.loginReward = this.learnInt();
d.default.limitData.intervaelReward = this.learnInt();
} else console.log("getGameLimitInfo err", e);
};
t.prototype.procGameSafeOperation = function() {
var e = this.learnShort();
0 != e && console.log("GameSafeOperation err", e);
r.GameEvent.ins().emit("PROC_SAFE_OPERATION_EVENT");
};
t.prototype.procGetPlayerMoneyInfo = function() {
if (0 == this.learnShort()) {
var e = {};
e.userID = this.learnInt();
e.scenceId = this.learnShort();
e.exp = this.learnInt();
e.coin = this.learnInt64() / c.default.chipMulti;
e.chip = this.learnInt64() / c.default.chipMulti;
e.point = this.learnInt64() / c.default.pointMulti;
e.safe = this.learnInt64() / c.default.chipMulti;
if (e.userID == d.default.UserData.userId) {
console.log("scenceId = ", e.scenceId);
var t = e.chip - d.default.UserData.chip;
0 != e.scenceId && 14 != e.scenceId && e.scenceId < 300 && t > 0 && y.default.showCoinFly(e.scenceId);
d.default.UserData.exp = e.exp;
d.default.UserData.chip = e.chip;
d.default.UserData.coin = e.coin;
d.default.UserData.point = e.point;
d.default.UserData.safeChip = e.safe;
if (101 == e.scenceId || 116 == e.scenceId || 102 == e.scenceId) {
1 == d.default.UserData.firstStrike && t > 0 && w.default.trackPurchase(t);
d.default.UserData.firstStrike = 0;
}
}
if (32 == e.scenceId) {
cc.director.getScheduler().enableForTarget(this);
cc.director.getScheduler().schedule(function() {
r.GameEvent.ins().emit("MONEY_UPDATE_EVENT", e);
}, this, 0, 1, 3, !1);
} else r.GameEvent.ins().emit("MONEY_UPDATE_EVENT", e);
}
};
t.prototype.procGameTimeboxInfo = function() {
if (0 == this.learnShort()) {
var e = {};
e.reward = this.learnInt() / c.default.chipMulti;
e.resetTime = this.learnShort();
e.nextReward = this.learnInt() / c.default.chipMulti;
r.GameEvent.ins().emit("HALL_TIMEBOX_INFO_EVENT", e);
}
};
t.prototype.porcGameTimeboxReward = function() {
var e = this.learnShort();
if (0 == e) {
var t = {};
t.reward = this.learnInt() / c.default.chipMulti;
t.nextTime = this.learnShort();
r.GameEvent.ins().emit("HALL_TIMEBOX_INFO_REWARD", t);
} else 111 == e && y.default.alert(h.default.ins.GET_HALL_LANG("rewardMaxDesc"));
};
t.prototype.procSysBroadcastMsg = function() {
if (0 == this.learnShort()) {
for (var e = this.learnByte(), t = 0; t < e; t++) {
var o = {};
o.type = this.learnByte();
o.fromUid = this.learnInt();
o.content = this.learnString();
o.ctime = this.learnInt();
l.default.ins.pushAiring(o);
}
r.GameEvent.ins().emit("GET_BROADCAST_EVENT");
}
};
t.prototype.procGameSetUp = function() {
var e = this.learnShort();
0 == e || console.log("GameSetUp err", e);
};
t.prototype.procGetPlayerCoinList = function() {
var e = this.learnShort();
0 == e ? this.learnString() : console.log("GetPlayerCoinList error code", e);
};
t.prototype.procGetEmailInfo = function() {
var e = this.learnShort();
if (0 == e) {
for (var t = this.learnByte(), o = [], i = 0; i < t; i++) {
var n = {};
n.type = this.learnByte();
n.allCount = this.learnShort();
n.unreadCount = this.learnShort();
n.isRewarded = this.learnByte();
o.push(n);
}
r.GameEvent.ins().emit("GET_MAIL_INFO", o);
} else console.log("GetEmailInfo error code", e);
};
t.prototype.procGetEmailList = function() {
var e = this.learnShort();
if (0 == e) {
for (var t = {}, o = this.learnByte(), i = this.learnByte(), n = [], a = 0; a < i; a++) {
var s = {};
s.mailID = this.learnInt();
s.sceneID = this.learnByte();
s.fromUid = this.learnInt();
s.country = this.learnString();
s.nickName = this.learnString();
s.exp = this.learnInt();
s.vipExp = this.learnInt();
s.title = this.learnString();
s.content = this.learnString();
s.time = this.learnInt();
s.status = this.learnByte();
s.isRewarded = this.learnByte();
s.reward = this.learnString();
n.push(s);
}
t.type = o;
t.list = n;
r.GameEvent.ins().emit("GET_MAIL_LIST", t);
} else console.log("GetEmailList error code", e);
};
t.prototype.procReadEmail = function() {
var e = this.learnShort();
0 == e ? console.log("ReadEmail success") : console.log("ReadEmail error code", e);
};
t.prototype.procReadAllEmail = function() {
var e = this.learnShort();
0 == e ? console.log("ReadAllEmail success") : console.log("ReadAllEmail error code", e);
};
t.prototype.procGetEmailReward = function() {
var e = this.learnShort();
if (0 == e) {
this.learnByte();
var t = this.learnInt(), o = this.learnString(), i = {};
i.mailID = t;
i.reward = o;
r.GameEvent.ins().emit("GET_MAIL_REWARD", i);
console.log("GetEmailReward error code", e);
} else 102 == e ? f.default.inst.showTips(h.default.ins.GET_ALERT_LANG("receiveCoinLimit")) : console.log("GetEmailReward error code", e);
};
t.prototype.procGetAllEmailReward = function() {
var e = this.learnShort();
if (0 == e) {
var t = this.learnByte(), o = this.learnByte();
if (o > 0) {
for (var i = "", n = 0; n < o; n++) {
var a = this.learnString();
n != o - 1 ? i = i + a + "," : i += a;
}
var s = {};
s.mailType = t;
s.reward = i;
r.GameEvent.ins().emit("GET_ALL_MAIL_REWARD", s);
}
console.log("GetAllEmailReward allSize ", o);
} else console.log("GetAllEmailReward error code", e);
};
t.prototype.procDeleteEmail = function() {
var e = this.learnShort();
0 == e ? console.log("DeleteEmail success") : console.log("DeleteEmail error code", e);
};
t.prototype.procDeleteAllEmail = function() {
var e = this.learnShort();
0 == e ? console.log("DeleteAllEmail success") : console.log("DeleteAllEmail error code", e);
};
t.prototype.procNotifyNewEmail = function() {
var e = this.learnShort();
if (0 == e) {
var t = {};
t.type = this.learnByte();
r.GameEvent.ins().emit("NOTIRY_NEW_MAIL", t);
console.log("NotifyNewEmail success");
} else console.log("NotifyNewEmail error code", e);
};
t.prototype.procGameRedNotification = function() {
if (0 == this.learnShort()) {
var e = this.learnByte();
console.log("redpoint flag", e);
for (var t = this.learnByte(), o = [], i = 0; i < t; i++) {
var n = {};
n.postion = this.learnString();
n.count = this.learnShort();
o.push(n);
}
console.log("red point list", o);
u.default.ins.pushRedData(o, e);
}
};
t.prototype.procGameNotifyRsp = function() {
d.default.hallData.feedback = 1;
r.GameEvent.ins().emit("GAME_REDTIPS_EVENT");
};
t.prototype.procGoogleGameRepairPurchase = function() {
console.log("GoogleGameRepairPurchase");
S.default.inst.queryUndonePurchase();
};
t.prototype.procGoogleGameConsumePurchase = function() {
console.log("GoogleGameConsumePurchase");
S.default.inst.consumePurchase(S.default.inst.productID);
};
t.prototype.procGetGameThirdPartyRepairInfo = function() {
var e = this.learnShort();
if (0 == e) {
for (var t = this.learnByte(), o = this.learnByte(), i = [], n = 0; n < o; n++) {
var a = this.learnShort();
i.push(a);
}
I.default.getInstance().update(i, t);
r.GameEvent.ins().emit("UPDATE_GAME_REPAIR_INFO");
} else console.log("GetGameThirdPartyRepairInfo err", e);
};
t.prototype.proGetLuckySpinInfo = function() {
var e = this.learnShort();
if (0 == e) {
var t = {};
t.leftSpinAmount = this.learnInt() / c.default.chipMulti;
t.leftSpinTimesSliver = this.learnByte();
t.spinCostSliver = this.learnInt() / c.default.chipMulti;
for (var o = this.learnByte(), i = [], n = 0; n < o; n++) i.push(this.learnInt() / c.default.chipMulti);
t.sliverRewards = i;
t.leftSpinTimesGolden = this.learnByte();
t.spinCostGolden = this.learnInt() / c.default.chipMulti;
var a = this.learnByte(), s = [];
for (n = 0; n < a; n++) s.push(this.learnInt() / c.default.chipMulti);
t.goldenRewards = s;
t.leftSpinTimesDiamond = this.learnByte();
t.spinCostDiamond = this.learnInt() / c.default.chipMulti;
var l = this.learnByte(), d = [];
for (n = 0; n < l; n++) d.push(this.learnInt() / c.default.chipMulti);
t.diamondRewards = d;
var h = this.learnByte(), u = [];
for (n = 0; n < h; n++) {
(m = {}).time = this.learnInt();
m.amount = this.learnInt() / c.default.chipMulti;
m.nickname = this.learnString();
u.push(m);
}
t.totalRewards = u;
var p = this.learnByte(), f = [];
for (n = 0; n < p; n++) {
var m;
(m = {}).time = this.learnInt();
m.spinType = this.learnByte();
m.amount = this.learnInt() / c.default.chipMulti;
f.push(m);
}
t.selfRewards = f;
r.GameEvent.ins().emit("ON_GET_SPIN_INFO_RESPONSE", t);
console.log("proGetLuckySpinInfo success ", t);
} else console.log("proGetLuckySpinInfo failed", e);
};
t.prototype.proStartSpin = function() {
var e = this.learnShort();
if (0 == e) {
var t = {};
t.spinType = this.learnByte();
t.rewardAmount = this.learnInt() / c.default.chipMulti;
t.leftSpinAmount = this.learnInt() / c.default.chipMulti;
t.leftSpinTimesSliver = this.learnByte();
t.leftSpinTimesGolden = this.learnByte();
t.leftSpinTimesDiamond = this.learnByte();
console.log("proStartSpin success ", t);
r.GameEvent.ins().emit("ON_SPIN_RESPONSE", t);
} else {
r.GameEvent.ins().emit("ON_SPIN_RESPONSE", null);
console.log("proStartSpin failed", e);
}
};
t.prototype.proGetRankData = function() {
var e = this.learnShort();
if (0 == e) {
var t = {};
t.rankType = this.learnByte();
t.rankTime = this.learnString();
t.selfRank = this.learnInt();
t.selfBetAmount = this.learnInt64() / c.default.chipMulti;
for (var o = [], i = this.learnByte(), n = 0; n < i; n++) {
var a = {};
a.rank = this.learnByte();
a.headID = this.learnByte();
a.lastLoginTime = this.learnInt();
a.nickname = this.learnString();
a.betAmount = this.learnInt64() / c.default.chipMulti;
a.reward = this.learnInt() / c.default.chipMulti;
o.push(a);
}
t.rankData = o;
console.log("proGetRankData success", t);
r.GameEvent.ins().emit("ON_GET_RANK_LIST", t);
} else console.log("proGetRankData failed", e);
};
return a([ L ], t);
}(B.default));
o.default = T;
cc._RF.pop();
}, {
"../data/BroadcastGameData": "BroadcastGameData",
"../data/GameLangData": "GameLangData",
"../data/GameRedData": "GameRedData",
"../data/MyData": "MyData",
"../data/WebGameRepairData": "WebGameRepairData",
"../data/conf/GameInfo": "GameInfo",
"../dialog/proxy/GameConfirmDlg": "GameConfirmDlg",
"../manager/DlgGameMgr": "DlgGameMgr",
"../manager/GameSceneMgr": "GameSceneMgr",
"../manager/PlatformInterface": "PlatformInterface",
"../manager/ReportGameEvent": "ReportGameEvent",
"../natives/AndroidPayment": "AndroidPayment",
"../public/MyComponent/GameEvent": "GameEvent",
"../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../public/ThirdParty/UIGameMgr": "UIGameMgr",
"./GameCmd": "GameCmd",
"./GameNetReprter": "GameNetReprter",
"./HappyGameSocket": "HappyGameSocket",
"./NetworkCheck": "NetworkCheck",
"./SocketGameManager": "SocketGameManager"
} ],
GameRedData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d335b+kO2lG0rovHIDsNdeI", "GameRedData");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../public/MyComponent/GameEvent"), n = e("../public/MyComponent/GameHppayUtil"), a = function() {
function e() {
this._redData = {};
}
e.prototype.pushRedData = function(e, t) {
var o = this;
e.forEach(function(e) {
o._redData[e.postion] || (o._redData[e.postion] = 0);
if (0 == t) {
o._redData[e.postion] -= e.count;
o._redData[e.postion] < 0 && (o._redData[e.postion] = 0);
} else o._redData[e.postion] += e.count;
});
console.log("", this._redData);
i.GameEvent.ins().emit("UPDATE_GAME_RED_NOTIFICA");
};
e.prototype.toNameGetRedData = function(e) {
var t = this._redData[e];
n.default.isnull(t) || (t = 0);
return t;
};
e.prototype.clearRedData = function(e) {
this._redData[e] && (this._redData[e] = 0);
};
e.prototype.clear = function() {
this._redData = {};
};
e.prototype.getHallActiveRedData = function() {
var e = 0;
for (var t in this._redData) t.indexOf("activity") >= 0 && (e += this._redData[t]);
return e;
};
Object.defineProperty(e, "ins", {
get: function() {
this._inst || (this._inst = new e());
return this._inst;
},
enumerable: !1,
configurable: !0
});
return e;
}();
o.default = a;
cc._RF.pop();
}, {
"../public/MyComponent/GameEvent": "GameEvent",
"../public/MyComponent/GameHppayUtil": "GameHppayUtil"
} ],
GameRedIcon: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "62875O9qw1BvIbEu+yx70vP", "GameRedIcon");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
console.log("");
this._startAni = !1;
this._icon = this.node.getChildByName("hallRedSymbol");
};
t.prototype.start = function() {
cc.tween(this._icon).repeatForever(cc.tween().to(.1, {
angle: -30
}).to(.1, {
angle: 0
}).to(.1, {
angle: -30
}).to(.1, {
angle: 0
}).delay(2)).start();
};
t.prototype.onEnable = function() {};
return a([ s ], t);
}(cc.Component));
o.default = c;
cc._RF.pop();
}, {} ],
GameRegDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b3e30nWlCFEXJ/TRPGMzkI+", "GameRegDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../public/MyComponent/WindowBase"), s = e("../../public/MyComponent/GameEvent"), c = e("../../public/MyComponent/HpgNumberImg"), l = e("../../data/conf/GameInfo"), d = e("../../data/conf/GameRes"), h = e("../../data/MyData"), u = e("../../data/GameLangData"), p = e("../../public/MyComponent/GameHppayUtil"), f = cc._decorator, m = f.ccclass, g = (f.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {};
t.prototype.start = function() {
e.prototype.start.call(this);
this.setView();
};
t.prototype.setView = function() {
this.node.getChildByName("closeBtn").on("click", this.onClose, this);
this.node.getChildByName("okBtn").on("click", this.onRegester, this);
var e = this.node.getChildByName("dlgBg"), t = this.node.getChildByName("okBtn"), o = this.node.getChildByName("dlgBg").getChildByName("bonus");
p.default.loadSprAtlasFrame(e, d.GameResInfo.LAN_ROOT_DIR + d.GameResInfo.SIGN_UP_BG);
p.default.loadSprAtlasFrame(t, d.GameResInfo.LAN_ROOT_DIR + d.GameResInfo.SIGN_UP);
p.default.loadSprAtlasFrame(o, d.GameResInfo.CURRENCY_ROOT_DIR + d.GameResInfo.REG_BIND_PHONE_REWARD_BG);
var i = new c.default("plists/num_h116", h.default.hallData.bindReward + "", 0);
i.x = -70;
i.y = 0;
o.addChild(i);
if (l.default.localLanguage == u.AppLan.en) {
o.x = -14;
o.y = -186;
if (l.default.country == l.GameCountryEnum.Malaysia) {
i.scale = .8;
i.x = -84;
} else l.default.country == l.GameCountryEnum.India ? i.x = -98 : l.default.country == l.GameCountryEnum.Philippines && (i.x = -98);
} else if (l.default.localLanguage == u.AppLan.vn) {
o.x = 294;
o.y = -160;
} else if (l.default.localLanguage == u.AppLan.pt) {
o.x = 266;
o.y = -160;
} else if (l.default.localLanguage == u.AppLan.id) {
o.x = 294;
o.y = -160;
} else if (l.default.localLanguage == u.AppLan.my) {
i.scale = .8;
o.x = 294;
o.y = -160;
} else if (l.default.localLanguage == u.AppLan.cn) {
o.x = 315;
o.y = -176;
} else if (l.default.localLanguage == u.AppLan.th) {
o.active = !1;
var n = new c.default("plists/num_h116", h.default.hallData.bindReward + "", 0);
n.x = 152;
n.y = -175;
e.addChild(n);
}
};
t.prototype.onRegester = function() {
s.GameEvent.ins().emit("SHOW_BIND_FLOW");
this.onClose();
};
return a([ m ], t);
}(r.default));
o.default = g;
cc._RF.pop();
}, {
"../../data/GameLangData": "GameLangData",
"../../data/MyData": "MyData",
"../../data/conf/GameInfo": "GameInfo",
"../../data/conf/GameRes": "GameRes",
"../../public/MyComponent/GameEvent": "GameEvent",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/HpgNumberImg": "HpgNumberImg",
"../../public/MyComponent/WindowBase": "WindowBase"
} ],
GameRes: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e40d2fjPz5O7KM5GihceJEw", "GameRes");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.GameResInfo = void 0;
var n = e("./GameInfo"), a = function() {
function e() {}
e.LAN_ROOT_DIR = "images/languagesMulti/php/languages/en/";
e.CURRENCY_ROOT_DIR = "images/languagesMulti/php/currencys/";
e.FIRST_CHARGE_ITEM1 = "firstChargeItem1";
e.FIRST_CHARGE_ITEM2 = "firstChargeItem2";
e.FIRST_CHARGE_ITEM3 = "firstChargeItem3";
e.FIRST_CHARGE_ITEM4 = "firstChargeItem4";
e.FIRST_CHARGE_BG = "bgFirstCharge";
e.SIGN_UP = "btnReg";
e.SIGN_UP_BG = "bgReg";
e.TIME_REWARD_BG = "bgTimeBox";
e.AGENT_BANNEL = "agentBanner";
e.KICKBACK_DESC = "rebateRuleDesc";
e.SHARE_BG = "shareBg";
e.SHARE_THANKS = "shareThanksDesc";
e.SHARE_THANKS_AGAIN = "shareAgainDesc";
e.BTN_DOWNLOAD = "Download";
e.TITLE_ANDROID = "title_Android";
e.TITLE_IOS = "title_ios";
e.STEP_IOS = "iosStep";
e.HALL_BIND_PHONE_REWARD_BG = "btnBindPhone";
e.LOGIN_BIND_PHONE_REWARD_BG = "bgRegBonus";
e.REG_BIND_PHONE_REWARD_BG = "iconCurrencyReg";
e.GOOGLE_COIN = "coin";
e.AGENT_STEP4 = "agentStep4";
e.HALL_MENU_AGENT = "btnAgent";
e.HALL_MENU_REBATE = "btnRebate";
e.CURRENCY_ICON = "iconCurrency";
e.SHARE_CURREENCY_ICON = "iconCurrency";
e.ANIM_COIN = "animWin/win";
e.HALL_MENU_AMT = "btnWith/with";
e.HALL_MENU_DEPOSIT = "btnCharge/charge";
e.SPIN_TITLE = "title_spin";
e.SPIN_BTN = "btn_spin";
e.SPIN_TIPS = "iconSpin";
return e;
}();
o.GameResInfo = a;
var r = cc._decorator, s = r.ccclass, c = (r.property, function() {
function e() {}
e.init = function() {
a.LAN_ROOT_DIR = "images/languagesMulti/" + n.default.country + "/languages/" + n.default.localLanguage + "/";
a.CURRENCY_ROOT_DIR = "images/languagesMulti/" + n.default.country + "/currencys/";
console.log("load language image path ", a.LAN_ROOT_DIR);
console.log("load currency image path ", a.CURRENCY_ROOT_DIR);
};
return i([ s ], e);
}());
o.default = c;
cc._RF.pop();
}, {
"./GameInfo": "GameInfo"
} ],
GameRewardDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d841ebl6ZZHf7XtvvXFf9go", "GameRewardDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../data/conf/GameRes"), c = e("../../../data/GameLangData"), l = e("../../../public/MyComponent/GameHppayUtil"), d = e("../../executor/activity/GameRewardEx"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._rewardCoin = null;
t._rewardTicket = null;
t._rewardChip = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new d.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
this.node.getChildByName("closeBtn").on("click", this.onClose, this);
this.node.getChildByName("okBtn").on("click", this._onOK, this);
this._rewardCoin = this.node.getChildByName("dlgBg").getChildByName("labelCoinCount");
this._rewardTicket = this.node.getChildByName("dlgBg").getChildByName("labelTicketCount");
this._rewardChip = this.node.getChildByName("dlgBg").getChildByName("labelChipCount");
this._rewardChip.active = !1;
this._rewardTicket.active = !1;
this._rewardCoin.active = !1;
l.default.loadSprAtlasFrame(this._rewardChip.getChildByName("iconChip"), s.GameResInfo.CURRENCY_ROOT_DIR + s.GameResInfo.CURRENCY_ICON);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this._setLabel();
var t = this._data;
this._createRewardItems(t);
};
t.prototype._setLabel = function() {
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("congratulations");
this.node.getChildByName("okBtn").getChildByName("Label").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("enter");
};
t.prototype._createRewardItems = function(e) {
this.exView.createRewardItemsEx(e);
};
t.prototype._onOK = function() {
this._callback && this._callback();
this.onClose();
};
return a([ u ], t);
}(r.default));
o.default = p;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../data/conf/GameRes": "GameRes",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../executor/activity/GameRewardEx": "GameRewardEx"
} ],
GameRewardEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7ef3acQXY5Nu6BhRzwZQGZ9", "GameRewardEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/ViewExecutorBase"), s = cc._decorator, c = s.ccclass, l = (s.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.createRewardItemsEx = function(e) {
var t = [ this.node._rewardCoin, this.node._rewardChip, this.node._rewardTicket ], o = e.length, i = 0;
1 == o ? i = 0 : 2 == o ? i = -116 : 3 == o && (i = -232);
for (var n = 0; n < o; n++) {
t[e[n].type - 1].getComponent(cc.Label).string = e[n].value;
t[e[n].type - 1].active = !0;
t[e[n].type - 1].x = i + 232 * n;
}
};
return a([ c ], t);
}(r.default));
o.default = l;
cc._RF.pop();
}, {
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
GameRichTip: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "eb941zzbvNEHKhatbiSTckj", "GameRichTip");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {};
t.prototype.initTips = function(e, t) {
var o = this, i = this.node.getChildByName("labelRichContent");
i.getComponent(cc.RichText).string = e;
i.getComponent(cc.RichText)._updateRichText();
var n = this.node.getChildByName("dialog"), a = new cc.Color(149, 186, 244);
i.color = t || a;
this.scheduleOnce(function() {
var e = i.width + 40, t = i.height + 15;
e < 764 && (e = 764);
t < 114 && (t = 114);
n.width = e;
n.height = t;
});
this.scheduleOnce(function() {
o.node.destroy();
}, 2);
};
return a([ s ], t);
}(cc.Component));
o.default = c;
cc._RF.pop();
}, {} ],
GameSceneMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ce7d3OUwZZJS6OsFXNCQJVf", "GameSceneMgr");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.SceneIndex = void 0;
var i = e("../data/MyData");
(function(e) {
e[e.hall = 0] = "hall";
e[e.launch = 1] = "launch";
e[e.start = 2] = "start";
e[e.loading = 3] = "loading";
e[e.login = 4] = "login";
})(o.SceneIndex || (o.SceneIndex = {}));
var n = function() {
function e() {}
e.enterStart = function() {
cc.director.loadScene("gameStartScene");
};
e.enterLoading = function() {
i.default.loading.isReconnect = !0;
cc.director.loadScene("gameLoadingScene");
cc.sys.garbageCollect();
};
e.enterLogin = function() {
cc.director.loadScene("gameLoginScene");
cc.sys.garbageCollect();
};
e.enterHall = function() {
cc.director.loadScene("gameLobbyScene");
cc.sys.garbageCollect();
};
return e;
}();
o.default = n;
cc._RF.pop();
}, {
"../data/MyData": "MyData"
} ],
GameScrollPlusItem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8cc1fgdZ8dAPoF6WLXOQ/0Y", "GameScrollPlusItem");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = r.property, l = r.menu, d = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.isShowing = !1;
t.onEnterScorllViewEvents = [];
t.onExitScorllViewEvents = [];
t.onPositionChangeEvents = [];
return t;
}
t.prototype.publishOnEnterScrollView = function() {
0 != this.onEnterScorllViewEvents.length && this.onEnterScorllViewEvents.forEach(function(e) {
e.emit([]);
});
};
t.prototype.publishOnExitScrollView = function() {
0 != this.onExitScorllViewEvents.length && this.onExitScorllViewEvents.forEach(function(e) {
e.emit([]);
});
};
t.prototype.publishOnPositionChange = function(e, t) {
0 != this.onPositionChangeEvents.length && this.onPositionChangeEvents.forEach(function(o) {
o.emit([ e, t ]);
});
};
a([ c({
type: [ cc.Component.EventHandler ],
tooltip: "ScrollView"
}) ], t.prototype, "onEnterScorllViewEvents", void 0);
a([ c({
type: [ cc.Component.EventHandler ],
tooltip: "ScrollView"
}) ], t.prototype, "onExitScorllViewEvents", void 0);
a([ c({
type: [ cc.Component.EventHandler ],
tooltip: "ScrollView"
}) ], t.prototype, "onPositionChangeEvents", void 0);
return a([ s, l("/GameScrollPlusItem") ], t);
}(cc.Component);
o.default = d;
cc._RF.pop();
}, {} ],
GameScrollPlus: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c5da7Dnv7dKYIRt/zW8d+1t", "GameScrollPlus");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("./GameScrollPlusItem"), s = cc._decorator, c = s.ccclass, l = s.property, d = s.menu, h = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.caculatePosition = !1;
return t;
}
o = t;
t.prototype._onScrollingDrawCallOpt = function() {
0 != this.content.childrenCount && this.optDc();
};
t.prototype.optDc = function() {
o.optDc(this, this.caculatePosition);
};
t.optDc = function(e, t) {
var o = e.node.parent.convertToWorldSpaceAR(cc.v2(e.node.x - e.node.anchorX * e.node.width, e.node.y - e.node.anchorY * e.node.height)), i = cc.rect(o.x, o.y, e.node.width, e.node.height);
e.content.children.forEach(function(e) {
var o = e.getComponent(r.default);
if (null != o) {
var n = e.getBoundingBoxToWorld();
if (n.intersects(i)) {
if (!o.isShowing) {
o.isShowing = !0;
o.publishOnEnterScrollView();
}
t && o.isShowing && o.publishOnPositionChange((n.x - (i.x - n.width / 2)) / (n.width + i.width), (n.y - (i.y - n.height / 2)) / (n.height + i.height));
} else if (o.isShowing) {
o.isShowing = !1;
o.publishOnExitScrollView();
}
}
});
};
t.prototype.onEnable = function() {
e.prototype.onEnable.call(this);
this.node.on("scrolling", this._onScrollingDrawCallOpt, this);
};
t.prototype.onDisable = function() {
e.prototype.onDisable.call(this);
this.node.off("scrolling", this._onScrollingDrawCallOpt, this);
};
var o;
a([ l({
tooltip: "Item"
}) ], t.prototype, "caculatePosition", void 0);
return o = a([ c, d("/GameScrollPlus") ], t);
}(cc.ScrollView);
o.default = h;
cc._RF.pop();
}, {
"./GameScrollPlusItem": "GameScrollPlusItem"
} ],
GameScrollRichDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "40d2cn6YxdEo6c9hc5rtItI", "GameScrollRichDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../data/GameLangData"), s = e("../../public/MyComponent/WindowBase"), c = e("../../public/MyComponent/GameHppayUtil"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
this.node.getChildByName("btnClose").on("click", this.onClose, this);
this.node.getChildByName("btnOK").on("click", this._onOK, this);
this.node.getChildByName("btnCancel").on("click", this._onCancel, this);
this.node.getChildByName("btnOK").getChildByName("Label").getComponent(cc.Label).string = r.default.ins.GET_DIALOG_LANG("enter");
this.node.getChildByName("btnCancel").getChildByName("Label").getComponent(cc.Label).string = r.default.ins.GET_DIALOG_LANG("cancel");
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = r.default.ins.STRING_COMMON("tips");
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.setDataView();
};
t.prototype.setDataView = function() {
var e = this._data, t = e.content || "", o = 2;
null != e.btnAmount && (o = e.btnAmount);
var i = e.title || r.default.ins.STRING_COMMON("tips"), n = this.node.getChildByName("scrollViewContent").getChildByName("view").getChildByName("content"), a = n.getChildByName("labelContent").getComponent(cc.Label);
a.string = t;
a._forceUpdateRenderData(!0);
n.height = a.node.height + 40;
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = i;
c.default.labelShadow(this.node.getChildByName("labelTitle").getComponent(cc.Label), new cc.Color(223, 32, 193), cc.v2(0, -3));
e.okDesc && (this.node.getChildByName("btnOK").getChildByName("Label").getComponent(cc.Label).string = e.okDesc);
e.cancelDesc && (this.node.getChildByName("btnCancel").getChildByName("Label").getComponent(cc.Label).string = e.cancelDesc);
if (1 == o) {
this.node.getChildByName("btnCancel").active = !1;
this.node.getChildByName("btnOK").x = 0;
} else if (0 == o) {
this.node.getChildByName("btnCancel").active = !1;
this.node.getChildByName("btnOK").active = !1;
this.node.getChildByName("scrollViewContent").height = 650;
this.node.getChildByName("scrollViewContent").getChildByName("view").height = 650;
}
};
t.prototype._onCancel = function() {
this._data.cancelCallback && this._data.cancelCallback();
this.onClose();
};
t.prototype._onOK = function() {
this._data.okCallback && this._data.okCallback();
this.onClose();
};
return a([ d ], t);
}(s.default));
o.default = h;
cc._RF.pop();
}, {
"../../data/GameLangData": "GameLangData",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/WindowBase": "WindowBase"
} ],
GameSeat: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "318c7gjSo1MJpp3e57YqNKC", "GameSeat");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../PublicTools/GameEvents"), s = e("../../GameFireData/GameAllConst"), c = e("../../GameCores/DialogLogic"), l = e("../../GameNetWork/NetWorkAll"), d = e("../../EXUIFrame/EXSoundMgr"), h = e("../../GameCommon/NVSGameUtil"), u = e("../GameBJConst"), p = e("../GameBJData"), f = e("../../BeautyDialog/CommonDialog"), m = cc._decorator, g = m.ccclass, y = (m.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._userId = 0;
t.updateInterval = 1;
t.seatData = null;
t.leftTime = 0;
t.winMoneyLabel = null;
t.timeLabel = null;
t.nameBg = null;
t.moneyBg = null;
return t;
}
t.prototype.onLoad = function() {
this._waitSit = this.node.getChildByName("waitSit");
this._state = this.node.getChildByName("state");
this._stateAni = this.node.getChildByName("stateAni");
this._headFrame = this.node.getChildByName("headFrame");
this._myMoneyLabel = h.default.seekChild(this.node, "moneyLabel");
this._mynameLabel = h.default.seekChild(this.node, "nameLabel");
this.nameBg = h.default.seekChild(this.node, "freeInfoBg1");
this.moneyBg = h.default.seekChild(this.node, "freeInfoBg");
this.winMoneyLabel = this.node.getChildByName("winMoneyLabel");
this.timeLabel = this.node.getChildByName("timeLabel").getComponent(cc.Label);
this.winMoneyLabel.active = !1;
this.timeLabel.node.active = !1;
this.node.on("click", this._onSeat, this);
this._myState = s.seatState.normal;
this.changeState();
this.sitDownAni(!0);
};
t.prototype._onSeat = function() {
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
if (this._userId > 0) ; else if (this._myState == s.seatState.normal) {
if (!h.default.moneyInsufficient(p.default.moneyType, p.default.minChip)) {
d.default.inst.playEffect("new_res_betTipsSound");
if (p.default.roomType == u.BJRoomType.free) {
var e = new f.RechargeConf();
e.desc = "";
c.default.inst.showDialog(c.DialogIndex.confirm, [ e ]);
return;
}
c.default.inst.showDialog(c.DialogIndex.chipInsufficient, p.default.minChip);
return;
}
l.default.getInstance().socketSend.bjUserSit(this._actualSeatId);
} else this._myState, s.seatState.invitation;
};
t.prototype.reset = function() {
this._waitSit.opacity = 0;
this._state.opacity = 0;
};
t.prototype.lightHead = function() {
h.default.seekChild(this.node, "headbg").opacity = 255;
};
t.prototype.start = function() {};
t.prototype.changeState = function() {
this.reset();
if (0 == this._userId) {
h.default.loadSpriteFrame(this._state, "room/seat/Seat_waitSitDown");
this._myState = s.seatState.normal;
this._state.opacity = 255;
this._waitSit.opacity = 128;
this.sitDownAni(!0);
this.moneyBg.active = !1;
this.nameBg.active = !1;
this._myMoneyLabel.active = !1;
this._mynameLabel.active = !1;
} else {
this.moneyBg.active = !0;
this.nameBg.active = !0;
this._myMoneyLabel.active = !0;
this._mynameLabel.active = !0;
this.sitDownAni(!1);
if (this._myState == s.seatState.normal) {
this._waitSit.opacity = 67;
h.default.loadSpriteFrame(this._state, "room/seat/status_invitation");
this._state.opacity = 255;
this._myState = s.seatState.invitation;
} else if (this._myState == s.seatState.play) {
this._headFrame.opacity = 255;
h.default.loadSpriteFrame(this._state, "room/seat/status_invitation");
} else {
this._state.opacity = 255;
h.default.loadSpriteFrame(this._state, "room/seat/status_invitation");
}
this._userId > 0 && (this._headFrame.opacity = 255);
}
};
t.prototype.sitDown = function(e) {
this._myState = s.seatState.play;
this.seatData = e;
this._actualSeatId = e.seatID;
this._userId = e.userID;
this._userName = e.userName;
this._money = e.userMoney;
this.changeState();
this.setMoney();
this.setName();
p.default.currGameStatus != u.BJGameStatus.chipin && (h.default.seekChild(this.node, "headbg").opacity = 127);
};
t.prototype.getSeatData = function() {
return this._myState == s.seatState.play ? this.seatData : null;
};
t.prototype.standUp = function() {
this._myState = s.seatState.normal;
this._userId = 0;
this._userName = "";
this._money = 0;
this.changeState();
h.default.seekChild(this.node, "headbg").opacity = 255;
this.node.getChildByName("frame").active = !0;
this.node.getChildByName("headFrame").getChildByName("seatBg").active = !0;
this.stopTimer();
};
t.prototype.setMoney = function(e) {
this._money = e || this._money;
h.default.labelChange(this._myMoneyLabel, this._money);
};
t.prototype.changeMoney = function(e) {
this._money = this._money + e;
h.default.labelChange(this._myMoneyLabel, this._money);
};
t.prototype.setName = function() {
this._mynameLabel.active = !0;
this._mynameLabel.getComponent(cc.Label).string = this._userName;
};
t.prototype.setReady = function() {};
Object.defineProperty(t.prototype, "myState", {
get: function() {
return this._myState;
},
set: function(e) {
this._myState = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "userId", {
get: function() {
return this._userId;
},
set: function(e) {
this._userId = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "seatID", {
get: function() {
return this._actualSeatId;
},
set: function(e) {
this._actualSeatId = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "userName", {
get: function() {
return this._userName;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "actualSeatId", {
get: function() {
return this._actualSeatId;
},
set: function(e) {
this._actualSeatId = e;
},
enumerable: !1,
configurable: !0
});
t.prototype.winMoneyAnim = function(e) {
this.winMoneyLabel.active = !0;
this.winMoneyLabel.getComponent(cc.Label).string = e;
this.winMoneyLabel.y = 0;
this.winMoneyLabel.opacity = 0;
cc.tween(this.winMoneyLabel).to(.5, {
y: 130,
opacity: 255
}).delay(1).to(.5, {
opacity: 0
}).start();
};
t.prototype.integralAnim = function() {};
t.prototype.hideGiftBtn = function() {};
t.prototype.startTimer = function(e, t) {
this.timeLabel.node.active = !0;
this.leftTime = e - t;
this.timeLabel.string = this.leftTime + "";
this.schedule(this.updateTimer, this.updateInterval, cc.macro.REPEAT_FOREVER);
};
t.prototype.updateTimer = function() {
if (this.leftTime > 0) {
this.leftTime--;
this.timeLabel.string = this.leftTime + "";
2 == this.leftTime && d.default.inst.playEffect("new_res_reciprocal3or2");
1 == this.leftTime && d.default.inst.playEffect("new_res_reciprocal3or2");
0 == this.leftTime && d.default.inst.playEffect("new_res_reciprocal1");
} else this.stopTimer();
};
t.prototype.stopTimer = function() {
this.timeLabel.node.active = !1;
this.unschedule(this.updateTimer);
};
t.prototype.sitDownAni = function(e) {
this._stateAni.active = e;
var t = this._stateAni.getChildByName("icon"), o = this._stateAni.getChildByName("icon2");
this._state.opacity = 0;
t.stopAllActions();
o.stopAllActions();
cc.tween(t).repeatForever(cc.tween().call(function() {
t.y = 76;
t.opacity = 0;
}).to(.5, {
y: 0,
opacity: 255
}).delay(2).to(.5, {
y: -76,
opacity: 0
}).delay(2)).start();
cc.tween(o).repeatForever(cc.tween().call(function() {
o.y = 0;
o.opacity = 255;
}).to(.5, {
y: -76,
opacity: 0
}).delay(2).call(function() {
o.y = 76;
}).to(.5, {
y: 0,
opacity: 255
}).delay(2)).start();
};
t.prototype.checkLevelUp = function() {};
t.prototype.upLevelAni = function() {};
return a([ g ], t);
}(cc.Component));
o.default = y;
cc._RF.pop();
}, {
"../../BeautyDialog/CommonDialog": "CommonDialog",
"../../EXUIFrame/EXSoundMgr": "EXSoundMgr",
"../../GameCommon/NVSGameUtil": "NVSGameUtil",
"../../GameCores/DialogLogic": "DialogLogic",
"../../GameFireData/GameAllConst": "GameAllConst",
"../../GameNetWork/NetWorkAll": "NetWorkAll",
"../../PublicTools/GameEvents": "GameEvents",
"../GameBJConst": "GameBJConst",
"../GameBJData": "GameBJData"
} ],
GameSendSocket: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c53a7CU4cNH55HcNXORl2PY", "GameSendSocket");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../data/conf/GameInfo"), s = e("../data/MyData"), c = e("../data/GameRedData"), l = e("./GameCmd"), d = e("./HappyGameSocket"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.sendNetCheckGame = function(e) {
this.pencilBegin(l.default.CMD_CHECK_GAME_NET, l.default.MSG_TYPE.MSG_TYPE_CONNECT);
s.default.phoneData.sendTime = e;
e %= 1e5;
this.pencilInt(e);
this.pencilEnd();
};
t.prototype.loginHpgGame = function(e, t, o) {
this.pencilBegin(l.default.CMD_LOGIN_GAME, l.default.MSG_TYPE.MSG_TYPE_CONNECT);
this.pencilInt(s.default.UserData.userId);
this.pencilShort(e);
this.pencilString(t);
this.pencilString(o);
this.pencilShort(0);
this.pencilShort(0);
this.pencilShort(r.default.ver);
this.pencilInt(0);
this.pencilInt(0);
this.pencilEnd();
};
t.prototype.loginGameOut = function() {
this.pencilBegin(l.default.CMD_GAME_LOGIN_OUT, l.default.MSG_TYPE.MSG_TYPE_CONNECT);
this.pencilEnd();
};
t.prototype.loginHpgGameHall = function() {
this.pencilBegin(l.default.CMD_LOGIN_GAME_HALL, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilInt(s.default.UserData.userId);
this.pencilShort(0);
this.pencilShort(0);
this.pencilShort(0);
this.pencilShort(r.default.ver);
this.pencilInt(0);
this.pencilInt(0);
this.pencilString(r.default.devId);
this.pencilEnd();
};
t.prototype.getGameRankList = function(e, t) {
this.pencilBegin(l.default.CMD_GET_HALL_RANK_LIST, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilByte(e);
this.pencilShort(t);
this.pencilEnd();
};
t.prototype.setSetGameUp = function(e, t, o, i, n) {
this.pencilBegin(l.default.CMD_SET_GAME_SETUP, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilByte(e);
this.pencilString(t);
this.pencilString(o);
this.pencilString(i);
n ? this.pencilByte(1) : this.pencilByte(0);
this.pencilEnd();
};
t.prototype.getGamePlayerInfo = function(e) {
this.pencilBegin(l.default.CMD_GAME_PLAYER_HOME_INFO, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilInt(e);
this.pencilEnd();
};
t.prototype.changeNIckName = function(e) {
this.pencilBegin(l.default.CMD_CHANGE_GAME_NAME, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilString(e);
this.pencilEnd();
};
t.prototype.checkNickNameRepeat = function(e) {
this.pencilBegin(l.default.CMD_NICK_NAME_REPEAT, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilString(e);
this.pencilEnd();
};
t.prototype.getGameLimitInfo = function() {
this.pencilBegin(l.default.CMD_GAME_LIMIT_INFO, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilEnd();
};
t.prototype.sendOperationSafe = function(e, t) {
this.pencilBegin(l.default.CMD_GAME_SAFE_OPERATION, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilByte(e);
this.pencilInt64(t * r.default.chipMulti);
this.pencilEnd();
};
t.prototype.getPlayerMoneyInfo = function(e) {
this.pencilBegin(l.default.CMD_MONEY_INFO, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilInt(e);
this.pencilEnd();
};
t.prototype.getEmailData = function() {
this.pencilBegin(l.default.CMD_GET_MAIL_INFO, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilEnd();
};
t.prototype.getEmailList = function(e, t, o) {
this.pencilBegin(l.default.CMD_GET_GAMEMAIL_LIST, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilByte(e);
this.pencilShort(t);
this.pencilByte(o);
this.pencilEnd();
};
t.prototype.readEmail = function(e) {
this.pencilBegin(l.default.CMD_READ_MAILINFO, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilInt(e);
this.pencilEnd();
};
t.prototype.readAllEmail = function(e) {
this.pencilBegin(l.default.CMD_READ_ALL_MAILINFO, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilByte(e);
this.pencilEnd();
};
t.prototype.getEmailReward = function(e) {
this.pencilBegin(l.default.CMD_GAME_MAIL_REWARD, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilInt(e);
this.pencilEnd();
};
t.prototype.getAllEmailReward = function(e) {
this.pencilBegin(l.default.CMD_GET_ALLGAME_MAIL_REWARD, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilByte(e);
this.pencilEnd();
};
t.prototype.deleEmail = function(e) {
this.pencilBegin(l.default.CMD_DELETE_EMAIL, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilInt(e);
this.pencilEnd();
};
t.prototype.deletAllEmail = function(e) {
this.pencilBegin(l.default.CMD_DELETE_ALL_MAIL, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilByte(e);
this.pencilEnd();
};
t.prototype.getGameBildList = function() {
this.pencilBegin(l.default.CMD_GAME_BLND_LIST, l.default.MSG_TYPE.MSG_TYPE_CONNECT);
this.pencilEnd();
};
t.prototype.getBildInfoList = function() {
this.pencilBegin(l.default.CMD_GAME_BLND_LIST_INFO, l.default.MSG_TYPE.MSG_TYPE_CONNECT);
this.pencilEnd();
};
t.prototype.getGameRedNotification = function() {
c.default.ins.clear();
this.pencilBegin(l.default.CMD_GET_GAME_RED_TIPS, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilEnd();
};
t.prototype.getTimeboxInfo = function() {
this.pencilBegin(l.default.CMD_GET_GAME_TIMEBOX_INFO, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilEnd();
};
t.prototype.getTimeboxReward = function() {
this.pencilBegin(l.default.CMD_GET_GAME_TIMEBOX_REWARD, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilEnd();
};
t.prototype.getGameThirdPartyRepairInfo = function() {
this.pencilBegin(l.default.CMD_GAME_REPAIR_THIRD_PARTY, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilEnd();
};
t.prototype.getLuckySpinInfo = function() {
console.log("getLuckySpinInfo");
this.pencilBegin(l.default.CMD_GET_LUCKY_SPIN_INFO, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilEnd();
};
t.prototype.startSpin = function(e) {
console.log("startSpin");
this.pencilBegin(l.default.CMD_START_SPIN, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilByte(e);
this.pencilEnd();
};
t.prototype.getRankData = function(e, t) {
console.log("rank type", e);
console.log("rank tme", t);
this.pencilBegin(l.default.CMD_GET_RANK_DATA, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.pencilByte(e);
this.pencilString(t);
this.pencilEnd();
};
return a([ u ], t);
}(d.default));
o.default = p;
cc._RF.pop();
}, {
"../data/GameRedData": "GameRedData",
"../data/MyData": "MyData",
"../data/conf/GameInfo": "GameInfo",
"./GameCmd": "GameCmd",
"./HappyGameSocket": "HappyGameSocket"
} ],
GameSetPasswordDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "29974KvAstP6pLEyM0hOe36", "GameSetPasswordDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../data/conf/GameInfo"), c = e("../../../data/MyData"), l = e("../../../data/GameLangData"), d = e("../../../public/ThirdParty/GameSysDefine"), h = e("../../../manager/GameSoundMgr"), u = e("../../../public/MyComponent/GameHppayUtil"), p = e("../../executor/setgame/GameSetPasswordEx"), f = e("../../../communication/GameLoginHttp"), m = cc._decorator, g = m.ccclass, y = (m.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.formType = d.FormType.PopUp;
return t;
}
t.prototype.onLoad = function() {
var e = this;
u.default.seekNodeChild(this.node, "closeBtn").on("click", this.onClose, this);
this._dialog = this.node.getChildByName("dlgBg");
this.register("SetPasswordDialog", [ "ON_UPDATE_PASSWORD_SUCCESS" ]);
this._nextBtn = this._dialog.getChildByName("nextBtn");
this._editBoxPhoneNumber = this._dialog.getChildByName("inputPhontNumber").getComponent(cc.EditBox);
this._editBoxPassword = this._dialog.getChildByName("inputPassword").getComponent(cc.EditBox);
[ this._nextBtn ].forEach(function(t) {
t.on("click", e.onBtn, e);
});
this.setView();
this.exView = new p.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
this._dialog.getChildByName("titleLabel").getComponent(cc.Label).string = l.default.ins.GET_LOGIN_LANG("addPassword");
u.default.labelShadow(this._dialog.getChildByName("titleLabel").getComponent(cc.Label));
this._dialog.getChildByName("labelEreaCode").getComponent(cc.Label).string = l.default.ins.GET_LOGIN_LANG("bindPhoneDesc");
this._nextBtn.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_HALL_LANG("confirm");
this._editBoxPhoneNumber.placeholder = l.default.ins.GET_LOGIN_LANG("enter6DigitPassword");
this._editBoxPassword.placeholder = l.default.ins.GET_LOGIN_LANG("enterRepeat");
this._nextBtn.getComponent(cc.Button).interactable = !1;
this._editBoxPhoneNumber.node.on("editing-did-ended", this.onEditingDidEnded, this);
this._editBoxPassword.node.on("editing-did-ended", this._onInputEnded, this);
};
t.prototype.onEditingDidEnded = function() {
this.exView.onEditingDidEndedEx();
};
t.prototype._onInputEnded = function() {
this.exView.onInputEndedEx();
};
t.prototype.handleAppEvent = function(e) {
e.arg;
switch (e.key) {
case "ON_UPDATE_PASSWORD_SUCCESS":
this.updatePw();
}
};
t.prototype.updatePw = function() {
c.default.UserData.bindPhoneStatus = 2;
u.default.alert(l.default.ins.GET_LOGIN_LANG("setPasswordSuccess"));
this.closeDialog();
};
t.prototype.onBtn = function(e) {
h.default.inst.playGameEffect(h.AudioRes.click);
switch (e.node.name) {
case "closeBtn":
this.onClose();
break;

case "nextBtn":
this._onNext();
}
};
t.prototype.onShow = function() {
this.canDestory = !0;
};
t.prototype.start = function() {};
t.prototype._onNext = function() {
var e = this._editBoxPhoneNumber.string, t = this._editBoxPassword.string;
f.default.getInstance().updatePassword(s.default.ereaCode, "", e, t);
};
return a([ g ], t);
}(r.default));
o.default = y;
cc._RF.pop();
}, {
"../../../communication/GameLoginHttp": "GameLoginHttp",
"../../../data/GameLangData": "GameLangData",
"../../../data/MyData": "MyData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../../public/ThirdParty/GameSysDefine": "GameSysDefine",
"../../executor/setgame/GameSetPasswordEx": "GameSetPasswordEx"
} ],
GameSetPasswordEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b50f9542gBBf4p2bJbLAUzY", "GameSetPasswordEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/ViewExecutorBase"), s = cc._decorator, c = s.ccclass, l = (s.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.onEditingDidEndedEx = function() {
6 == this.node._editBoxPhoneNumber.string.length ? this.node._editBoxPhoneNumber.textLabel.node.color = new cc.Color(248, 248, 248, 255) : this.node._editBoxPhoneNumber.textLabel.node.color = new cc.Color(200, 40, 20, 255);
"" != this.node._editBoxPassword.string && 6 == this.node._editBoxPassword.string.length && "" != this.node._editBoxPhoneNumber.string && 6 == this.node._editBoxPhoneNumber.string.length ? this.node._nextBtn.getComponent(cc.Button).interactable = !0 : this.node._nextBtn.getComponent(cc.Button).interactable = !1;
};
t.prototype.onInputEndedEx = function() {
6 == this.node._editBoxPassword.string.length ? this.node._editBoxPassword.textLabel.node.color = new cc.Color(248, 248, 248, 255) : this.node._editBoxPassword.textLabel.node.color = new cc.Color(200, 40, 20, 255);
"" != this.node._editBoxPassword.string && 6 == this.node._editBoxPassword.string.length && "" != this.node._editBoxPhoneNumber.string && 6 == this.node._editBoxPhoneNumber.string.length ? this.node._nextBtn.getComponent(cc.Button).interactable = !0 : this.node._nextBtn.getComponent(cc.Button).interactable = !1;
};
return a([ c ], t);
}(r.default));
o.default = l;
cc._RF.pop();
}, {
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
GameSettingsEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "68100uDwIVHM4pCPbkkZOoC", "GameSettingsEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../communication/GameLobbyHttp"), s = e("../../communication/SocketGameManager"), c = e("../../data/MyData"), l = e("../../data/conf/GameInfo"), d = e("../../manager/GameSceneMgr"), h = e("../../manager/GameSoundMgr"), u = e("../../manager/ReportGameEvent"), p = e("../../public/MyComponent/GameHppayUtil"), f = e("../../public/MyComponent/ViewExecutorBase"), m = cc._decorator, g = m.ccclass, y = (m.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.shockHandleEx = function() {
var e = this.node.btn3;
e.getChildByName("img1").active = !1;
e.getChildByName("img2").active = !1;
c.default.UserData.shockSetUp ? e.getChildByName("img2").active = !0 : e.getChildByName("img1").active = !0;
p.default.saveData(c.default.storageData.shockSetUp, c.default.UserData.shockSetUp);
};
t.prototype.musicVolumeHandleEx = function() {
var e = this.node.btn1;
e.getChildByName("img1").active = !1;
e.getChildByName("img2").active = !1;
c.default.UserData.musicSetUp > 0 ? e.getChildByName("img1").active = !0 : e.getChildByName("img2").active = !0;
p.default.saveData(c.default.storageData.musicSetUp, c.default.UserData.musicSetUp);
h.default.inst.setMusicVolume(c.default.UserData.musicSetUp);
};
t.prototype.effectVolumeHandleEx = function() {
var e = this.node.btn2;
e.getChildByName("img1").active = !1;
e.getChildByName("img2").active = !1;
c.default.UserData.soundSetUp > 0 ? e.getChildByName("img1").active = !0 : e.getChildByName("img2").active = !0;
p.default.saveData(c.default.storageData.soundSetUp, c.default.UserData.soundSetUp);
h.default.inst.setEffectVolume(c.default.UserData.soundSetUp);
};
t.prototype.emailHandleEx = function() {
var e = this.node.btn4;
e.getChildByName("img1").active = !1;
e.getChildByName("img2").active = !1;
this.node._emailPush ? e.getChildByName("img1").active = !0 : e.getChildByName("img2").active = !0;
};
t.prototype.signOutEx = function() {
u.default.record(u.ReportEventType.logOutClick);
c.default.clearHallData();
s.default.getInstance().socketSend.loginGameOut();
s.default.getInstance().close();
this.node.onHide();
d.default.enterLogin();
};
t.prototype.reportSetUpEx = function() {
var e = c.default.UserData.country, t = l.default.localLanguage, o = [ "", "zh-hk", "zh-cn", "en" ][c.default.UserData.sandLanguage], i = c.default.UserData.coinFeedback;
s.default.getInstance().socketSend.setSetGameUp(1, e, t, o, i);
var n = Number(this.node._emailPush), a = Number(this.node._emailPush), d = Number(this.node._emailPush), h = l.default.pushToken, u = {
topics: "1:" + n + ",2:" + a + ",3:" + d,
platform: l.default.systemType,
pushToken: h
};
r.default.getInstance().httpPost("push-tj", u, function(e) {
console.log(e, "");
}, function(e) {
console.log(e, "");
});
};
return a([ g ], t);
}(f.default));
o.default = y;
cc._RF.pop();
}, {
"../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../communication/SocketGameManager": "SocketGameManager",
"../../data/MyData": "MyData",
"../../data/conf/GameInfo": "GameInfo",
"../../manager/GameSceneMgr": "GameSceneMgr",
"../../manager/GameSoundMgr": "GameSoundMgr",
"../../manager/ReportGameEvent": "ReportGameEvent",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
GameSettings: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f10c722989CuKR+GAG8dK5E", "GameSettings");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../public/MyComponent/WindowBase"), s = e("../../data/conf/GameInfo"), c = e("../../data/MyData"), l = e("../../data/GameLangData"), d = e("../../manager/DlgGameMgr"), h = e("../../public/MyComponent/GameHppayUtil"), u = e("../executor/GameSettingsEx"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
o = t;
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this.setView();
this.exView = new u.default();
this.exView.setProxy(this);
this._btnList = [ this.closeBtn, this.btn0, this.btn1, this.btn2, this.btn3, this.btn4, this.btn5, this.helpBtn ];
"true" === h.default.readData(c.default.storageData.emailPush) ? this._emailPush = !0 : "false" === h.default.readData(c.default.storageData.emailPush) && (this._emailPush = !1);
this.register("setUpDlg", [ "BINGDING_PHONE_SUCCESS", "ON_UPDATE_PASSWORD_SUCCESS" ]);
this._musicVolumeHandle();
this._effectVolumeHandle();
this._shockHandle();
this._setLabelString();
this._emailHandle();
};
t.prototype.setView = function() {
this.label0 = this.getNodeByName("label0").getComponent(cc.Label);
this.label1 = this.getNodeByName("label1").getComponent(cc.Label);
this.label2 = this.getNodeByName("label2").getComponent(cc.Label);
this.label3 = this.getNodeByName("label3").getComponent(cc.Label);
this.label4 = this.getNodeByName("label4").getComponent(cc.Label);
this.label5 = this.getNodeByName("label5").getComponent(cc.Label);
this.btn0 = this.getNodeByName("btn0");
this.btn1 = this.getNodeByName("btn1");
this.btn2 = this.getNodeByName("btn2");
this.btn3 = this.getNodeByName("btn3");
this.btn4 = this.getNodeByName("btn4");
this.btn5 = this.getNodeByName("btn5");
this.closeBtn = this.getNodeByName("closeBtn");
this.helpBtn = this.getNodeByName("helpBtn");
};
t.prototype.handleAppEvent = function(e) {
e.arg;
switch (e.key) {
case "BINGDING_PHONE_SUCCESS":
this.bingdPhoneSucce();
break;

case "ON_UPDATE_PASSWORD_SUCCESS":
this.UpdatePassword();
}
};
t.prototype.UpdatePassword = function() {
c.default.UserData.bindPhoneStatus = 2;
var e = s.default.phoneNumber.substring(2);
10 == e.length && (e = "0" + e);
this.label0.string = e;
this.btn0.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_LOGIN_LANG("updatePassword");
};
t.prototype.bingdPhoneSucce = function() {
c.default.UserData.bindPhoneStatus = 1;
var e = s.default.phoneNumber.substring(2);
10 == e.length && (e = "0" + e);
this.label0.string = e;
this.btn0.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_LOGIN_LANG("addPassword");
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.setDataView();
};
t.prototype.setDataView = function() {
if (0 == c.default.UserData.bindPhoneStatus) {
this.label0.string = c.default.UserData.userId + "";
this.btn0.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_LOGIN_LANG("addMobile");
} else if (1 == c.default.UserData.bindPhoneStatus) {
10 == (e = s.default.phoneNumber.substring(2)).length && (e = "0" + e);
this.label0.string = e;
this.btn0.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_LOGIN_LANG("addPassword");
} else if (2 == c.default.UserData.bindPhoneStatus) {
var e;
10 == (e = s.default.phoneNumber.substring(2)).length && (e = "0" + e);
this.label0.string = e;
this.btn0.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_LOGIN_LANG("updatePassword");
}
};
t.prototype.onBtnClick = function(t) {
var o = this;
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "closeBtn":
this.onClose();
break;

case "btn0":
0 == c.default.UserData.bindPhoneStatus ? d.default.inst.showDlg(d.DlgType.bindPhone) : 1 == c.default.UserData.bindPhoneStatus ? d.default.inst.showDlg(d.DlgType.setPassword) : 2 == c.default.UserData.bindPhoneStatus && d.default.inst.showDlg(d.DlgType.updatePassword);
break;

case "btn1":
c.default.UserData.musicSetUp = -1 * c.default.UserData.musicSetUp;
this._musicVolumeHandle();
break;

case "btn2":
c.default.UserData.soundSetUp = -1 * c.default.UserData.soundSetUp;
this._effectVolumeHandle();
break;

case "btn3":
c.default.UserData.shockSetUp = !c.default.UserData.shockSetUp;
this._shockHandle();
break;

case "btn4":
this._emailPush = !this._emailPush;
h.default.saveData(c.default.storageData.emailPush, this._emailPush);
this._emailHandle();
break;

case "btn5":
d.default.inst.showConfirmDlg(l.default.ins.GET_NEWHALL_LANG("logoutTips"), 2, null, null, function() {
o._signOut();
});
break;

case "helpBtn":
this.onClose();
}
};
t.prototype._shockHandle = function() {
this.exView.shockHandleEx();
};
t.prototype._musicVolumeHandle = function() {
this.exView.musicVolumeHandleEx();
};
t.prototype._effectVolumeHandle = function() {
this.exView.effectVolumeHandleEx();
};
t.prototype._emailHandle = function() {
this.exView.emailHandleEx();
};
t.prototype._setBuildState = function() {
this.btn5.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("signOut");
};
t.prototype._setLabelString = function() {
this.label1.string = l.default.ins.GET_DIALOG_LANG("gameMusic");
this.label2.string = l.default.ins.GET_DIALOG_LANG("gameSound");
this.label3.string = l.default.ins.GET_DIALOG_LANG("vibration");
this.label4.string = l.default.ins.GET_DIALOG_LANG("pushSet");
this.label5.string = l.default.ins.GET_NEWHALL_LANG("account");
if (c.default.UserData.phoneBinding) {
var e = s.default.phoneNumber.substring(2);
10 == e.length && (e = "0" + e);
this.label5.string = e;
}
this.helpBtn.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("help");
this._setBuildState();
this.btn1.getChildByName("img1").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("turnOff");
this.btn2.getChildByName("img1").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("turnOff");
this.btn3.getChildByName("img1").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("turnOff");
this.btn4.getChildByName("img1").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("turnOff");
this.btn1.getChildByName("img2").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("turnOn");
this.btn2.getChildByName("img2").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("turnOn");
this.btn3.getChildByName("img2").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("turnOn");
this.btn4.getChildByName("img2").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("turnOn");
this.getNodeByName("labelTitle").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("basicSet");
this.shadowLabel && this.shadowLabel.removeFromParent();
this.shadowLabel = h.default.labelShadow(this.getNodeByName("labelTitle").getComponent(cc.Label));
};
t.prototype._signOut = function() {
this.exView.signOutEx();
};
t.prototype.onClose = function() {
o.prefabPath = this.uid;
this._reportSetUp();
o.closeView();
};
t.prototype._reportSetUp = function() {
this.exView.reportSetUpEx();
};
var o;
return o = a([ f ], t);
}(r.default));
o.default = m;
cc._RF.pop();
}, {
"../../data/GameLangData": "GameLangData",
"../../data/MyData": "MyData",
"../../data/conf/GameInfo": "GameInfo",
"../../manager/DlgGameMgr": "DlgGameMgr",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/WindowBase": "WindowBase",
"../executor/GameSettingsEx": "GameSettingsEx"
} ],
GameShareDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c5b63frw3dJKIgotxEF6B1a", "GameShareDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../public/MyComponent/WindowBase"), s = e("../../public/MyComponent/HpgNumberImg"), c = e("../../data/conf/GameRes"), l = e("../../public/MyComponent/GameHppayUtil"), d = e("../executor/GameShareEx"), h = e("../../communication/GameLobbyHttp"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.itemLine = null;
t.itemFacebook = null;
t.itemMessenger = null;
t.itemTwitter = null;
t.itemSMS = null;
t.itemWhatsApp = null;
t.shareData = null;
t.root = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new d.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
this.root = this.node.getChildByName("dlgBg");
this.root.getChildByName("closeBtn").on("click", this.onClose, this);
var e = this.root.getChildByName("scrollView").getChildByName("view").getChildByName("content");
this.itemLine = e.getChildByName("lineShare");
this.itemLine.on("click", this.onShareLine, this);
this.itemFacebook = e.getChildByName("facebookShare");
this.itemFacebook.on("click", this.onShareFacebook, this);
this.itemMessenger = e.getChildByName("messengerShare");
this.itemMessenger.on("click", this.onShareMessenger, this);
this.itemTwitter = e.getChildByName("twitterShare");
this.itemTwitter.on("click", this.onShareTwitter, this);
this.itemSMS = e.getChildByName("smsShare");
this.itemSMS.on("click", this.onShareSMS, this);
this.itemWhatsApp = e.getChildByName("whatsappShare");
this.itemWhatsApp.on("click", this.onShareWhatsApp, this);
l.default.loadSprAtlasFrame(this.root, "bg_en", c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.SHARE_BG);
l.default.loadSprAtlasFrame(this.itemLine.getChildByName("desc1"), c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.SHARE_THANKS);
l.default.loadSprAtlasFrame(this.itemLine.getChildByName("desc2"), c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.SHARE_THANKS_AGAIN);
l.default.loadSprAtlasFrame(this.itemLine.getChildByName("reward"), c.GameResInfo.CURRENCY_ROOT_DIR + c.GameResInfo.SHARE_CURREENCY_ICON);
l.default.loadSprAtlasFrame(this.itemFacebook.getChildByName("desc1"), c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.SHARE_THANKS);
l.default.loadSprAtlasFrame(this.itemFacebook.getChildByName("desc2"), c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.SHARE_THANKS_AGAIN);
l.default.loadSprAtlasFrame(this.itemFacebook.getChildByName("reward"), c.GameResInfo.CURRENCY_ROOT_DIR + c.GameResInfo.SHARE_CURREENCY_ICON);
l.default.loadSprAtlasFrame(this.itemMessenger.getChildByName("desc1"), c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.SHARE_THANKS);
l.default.loadSprAtlasFrame(this.itemMessenger.getChildByName("desc2"), c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.SHARE_THANKS_AGAIN);
l.default.loadSprAtlasFrame(this.itemMessenger.getChildByName("reward"), c.GameResInfo.CURRENCY_ROOT_DIR + c.GameResInfo.SHARE_CURREENCY_ICON);
l.default.loadSprAtlasFrame(this.itemTwitter.getChildByName("desc1"), c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.SHARE_THANKS);
l.default.loadSprAtlasFrame(this.itemTwitter.getChildByName("desc2"), c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.SHARE_THANKS_AGAIN);
l.default.loadSprAtlasFrame(this.itemTwitter.getChildByName("reward"), c.GameResInfo.CURRENCY_ROOT_DIR + c.GameResInfo.SHARE_CURREENCY_ICON);
l.default.loadSprAtlasFrame(this.itemSMS.getChildByName("desc1"), c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.SHARE_THANKS);
l.default.loadSprAtlasFrame(this.itemSMS.getChildByName("desc2"), c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.SHARE_THANKS_AGAIN);
l.default.loadSprAtlasFrame(this.itemSMS.getChildByName("reward"), c.GameResInfo.CURRENCY_ROOT_DIR + c.GameResInfo.SHARE_CURREENCY_ICON);
l.default.loadSprAtlasFrame(this.itemWhatsApp.getChildByName("desc1"), c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.SHARE_THANKS);
l.default.loadSprAtlasFrame(this.itemWhatsApp.getChildByName("desc2"), c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.SHARE_THANKS_AGAIN);
l.default.loadSprAtlasFrame(this.itemWhatsApp.getChildByName("reward"), c.GameResInfo.CURRENCY_ROOT_DIR + c.GameResInfo.SHARE_CURREENCY_ICON);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.register("ShareDialog", [ "ON_GET_SHARE_REWARD", "ON_SHARE_INIT", "ON_666" ]);
this.showLoading();
this.root.active = !1;
h.default.getInstance().shareInit();
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_GET_SHARE_REWARD":
this.onUpdateShareList(t);
break;

case "ON_SHARE_INIT":
this.hideLoading();
this.root.active = !0;
this.onUpdateShareList(t);
break;

case "ON_666":
this.onClose();
}
};
t.prototype.updateItem = function(e, t) {
null == t && (t = 0);
var o = e.getChildByName("reward"), i = e.getChildByName("gift"), n = e.getChildByName("desc1"), a = e.getChildByName("desc2"), r = new s.default("plists/num_h59", this.shareData.reward + "", 0, -3);
r.x = 35;
r.y = 0;
o.addChild(r);
if (1 == t) {
o.active = !0;
i.active = !0;
n.stopAllActions();
a.stopAllActions();
n.active = !1;
a.active = !1;
} else {
o.active = !1;
i.active = !1;
n.stopAllActions();
a.stopAllActions();
n.active = !0;
a.active = !0;
n.opacity = 0;
a.opacity = 255;
cc.tween(n).repeatForever(cc.tween().delay(1).to(1, {
opacity: 255
}).to(1, {
opacity: 0
}).delay(1)).start();
cc.tween(a).repeatForever(cc.tween().to(1, {
opacity: 0
}).delay(2).to(1, {
opacity: 255
})).start();
}
};
t.prototype.onUpdateShareList = function(e) {
this.shareData = e;
this.updateItem(this.itemLine, e.line);
this.updateItem(this.itemFacebook, e.facebook);
this.updateItem(this.itemTwitter, e.twitter);
this.updateItem(this.itemMessenger, e.messenger);
this.updateItem(this.itemSMS, e.sms);
this.updateItem(this.itemWhatsApp, e.whatsapp);
};
t.prototype.onShareLine = function() {
this.exView.onShareLineEx();
};
t.prototype.onShareFacebook = function() {
this.exView.onShareFacebookEx();
};
t.prototype.onShareMessenger = function() {
this.exView.onShareMessengerEx();
};
t.prototype.onShareTwitter = function() {
this.exView.onShareTwitterEx();
};
t.prototype.onShareSMS = function() {
this.exView.onShareSMSEx();
};
t.prototype.onShareWhatsApp = function() {
this.exView.onShareWhatsAppEx();
};
return a([ p ], t);
}(r.default));
o.default = f;
cc._RF.pop();
}, {
"../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../data/conf/GameRes": "GameRes",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/HpgNumberImg": "HpgNumberImg",
"../../public/MyComponent/WindowBase": "WindowBase",
"../executor/GameShareEx": "GameShareEx"
} ],
GameShareEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "47c62f8cEZMio3mYulYf4lr", "GameShareEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../communication/GameLobbyHttp"), s = e("../../data/GameLangData"), c = e("../../manager/GameSoundMgr"), l = e("../../natives/AndroidInfo"), d = e("../../public/MyComponent/ViewExecutorBase"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.onShareLineEx = function() {
c.default.inst.playGameEffect(c.AudioRes.click);
1 == this.node.shareData.line && this.node.scheduleOnce(function() {
r.default.getInstance().getShareReward("line");
}, 2);
l.default.inst.shareLine("Share To", s.default.ins.GET_NEWHALL_LANG("shareDesc") + " " + this.node.shareData.url);
};
t.prototype.onShareFacebookEx = function() {
c.default.inst.playGameEffect(c.AudioRes.click);
1 == this.node.shareData.facebook && this.node.scheduleOnce(function() {
r.default.getInstance().getShareReward("facebook");
}, 2);
l.default.inst.shareFacebook("Share To", s.default.ins.GET_NEWHALL_LANG("shareDesc") + " " + this.node.shareData.url);
};
t.prototype.onShareMessengerEx = function() {
c.default.inst.playGameEffect(c.AudioRes.click);
1 == this.node.shareData.messenger && this.node.scheduleOnce(function() {
r.default.getInstance().getShareReward("messenger");
}, 2);
l.default.inst.shareMessenger("Share To", s.default.ins.GET_NEWHALL_LANG("shareDesc") + " " + this.node.shareData.url);
};
t.prototype.onShareTwitterEx = function() {
c.default.inst.playGameEffect(c.AudioRes.click);
1 == this.node.shareData.twitter && this.node.scheduleOnce(function() {
r.default.getInstance().getShareReward("twitter");
}, 2);
l.default.inst.shareTwitter("Share To", s.default.ins.GET_NEWHALL_LANG("shareDesc") + " " + this.node.shareData.url);
};
t.prototype.onShareSMSEx = function() {
c.default.inst.playGameEffect(c.AudioRes.click);
1 == this.node.shareData.sms && this.node.scheduleOnce(function() {
r.default.getInstance().getShareReward("sms");
}, 2);
l.default.inst.shareSMS("Share To", s.default.ins.GET_NEWHALL_LANG("shareDesc") + " " + this.node.shareData.url);
};
t.prototype.onShareWhatsAppEx = function() {
c.default.inst.playGameEffect(c.AudioRes.click);
1 == this.node.shareData.whatsapp && this.node.scheduleOnce(function() {
r.default.getInstance().getShareReward("whatsapp");
}, 2);
l.default.inst.shareWhatsApp("Share To", s.default.ins.GET_NEWHALL_LANG("shareDesc") + " " + this.node.shareData.url);
};
return a([ u ], t);
}(d.default));
o.default = p;
cc._RF.pop();
}, {
"../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../data/GameLangData": "GameLangData",
"../../manager/GameSoundMgr": "GameSoundMgr",
"../../natives/AndroidInfo": "AndroidInfo",
"../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
GameSocket: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "45c3cdZvnNED47lEScjFUBs", "GameSocket");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.CloseReason = void 0;
var n, a = e("./SocketGameManager");
(function(e) {
e[e.initiative = 0] = "initiative";
e[e.passive = 1] = "passive";
e[e.error = 2] = "error";
e[e.unuse = 3] = "unuse";
e[e.invalid = 4] = "invalid";
})(n = o.CloseReason || (o.CloseReason = {}));
var r = cc._decorator, s = r.ccclass, c = (r.property, function() {
function e() {
this._ws = null;
this._addr = "";
}
e.prototype.connect = function(e) {
this._addr = e;
if (null != this._ws) {
this._ws.close();
this._ws = null;
}
console.log("Websocket start connect url = " + e);
var t = new WebSocket(e);
this._ws = t;
this._ws.binaryType = "arraybuffer";
this._ws.onopen = this._onOpen.bind(this);
this._ws.onmessage = this._onMessage.bind(this);
this._ws.onclose = this._onClose.bind(this);
this._ws.onerror = this._onError.bind(this);
};
Object.defineProperty(e.prototype, "host", {
get: function() {
return this._addr;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "status", {
get: function() {
return null != this._ws ? this._ws.readyState : WebSocket.CLOSED;
},
enumerable: !1,
configurable: !0
});
e.prototype._onOpen = function(e) {
console.log(e);
a.default.getInstance().onOpen(this);
};
e.prototype._onMessage = function(e) {
var t = new DataView(e.data), o = {};
new ArrayBuffer(2);
e.data.slice(0, 1);
o.length = t.getInt16(2);
o.code = t.getInt8(4);
o.gameType = t.getInt8(5);
o.msgType = t.getInt8(6);
o.version = t.getInt8(7);
o.subver = t.getInt8(8);
o.cmd = t.getInt16(9);
var i = e.data.slice(0);
a.default.getInstance().onMessage(o, t, i);
};
e.prototype._onClose = function() {
console.log("Socket On Close", this.host);
this.onClose(n.passive);
};
e.prototype._onError = function() {
console.log("Socket On Error", this.host);
this.onClose(n.error);
};
e.prototype.sendData = function(e) {
if (null != this._ws && this._ws.readyState === WebSocket.OPEN) this._ws.send(e); else {
console.log("sendData failed , Websocket is not ready,Websocket state is " + this._ws.readyState);
this.onClose(n.invalid);
}
};
e.prototype.isReady = function() {
if (null != this._ws) {
if (this._ws.readyState === WebSocket.OPEN) return !0;
console.log("websocket state is " + this._ws.readyState);
return !1;
}
console.log("websocket state is null");
return !1;
};
e.prototype.onClose = function(e) {
null != this._ws && this._ws.close();
this._ws = null;
a.default.getInstance().onClose(this, e);
};
e.prototype.close = function() {
null != this._ws && this._ws.close();
this._ws = null;
};
return i([ s ], e);
}());
o.default = c;
cc._RF.pop();
}, {
"./SocketGameManager": "SocketGameManager"
} ],
GameSoundMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a47e6lB7zJKmrvgtWmctZd7", "GameSoundMgr");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.AudioRes = void 0;
var c = e("../public/ThirdParty/CocosPublic");
(function(e) {
e.click = "click";
e.close = "close";
e.coin = "coin";
e.logo = "logo";
e.bg_music = "bg";
})(o.AudioRes || (o.AudioRes = {}));
var l = cc._decorator, d = l.ccclass, h = (l.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.audioCache = cc.js.createMap();
t.currEffectId = -1;
t.currMusicId = -1;
t._language = "tw";
t._gender = "femaleVoice1/";
t.volume = new u();
return t;
}
o = t;
Object.defineProperty(t, "inst", {
get: function() {
null == this._inst && (this._inst = new o());
return this._inst;
},
enumerable: !1,
configurable: !0
});
t.prototype.getVolumeToLocal = function() {
var e = cc.sys.localStorage.getItem("Volume_For_Creator");
return e ? JSON.parse(e) : null;
};
t.prototype.setVolumeToLocal = function() {
cc.audioEngine.setMusicVolume(this.volume.musicVolume);
cc.audioEngine.setEffectsVolume(this.volume.effectVolume);
cc.sys.localStorage.setItem("Volume_For_Creator", JSON.stringify(this.volume));
};
t.prototype.onLoad = function() {
var e = this.getVolumeToLocal();
if (e) this.volume = e; else {
this.volume.musicVolume = 1;
this.volume.effectVolume = 1;
}
this.setVolumeToLocal();
};
t.prototype.getVolume = function() {
return this.volume;
};
t.prototype.start = function() {};
t.prototype.setMusicVolume = function(e) {
e < 0 && (e = 0);
this.volume.musicVolume = e;
this.setVolumeToLocal();
};
t.prototype.setEffectVolume = function(e) {
e < 0 && (e = 0);
this.volume.effectVolume = e;
this.setVolumeToLocal();
};
t.prototype.playGameMusic = function(e, t, o) {
void 0 === t && (t = !0);
return r(this, void 0, void 0, function() {
var i;
return s(this, function(n) {
switch (n.label) {
case 0:
if (!e || "" === e) return [ 2 ];
e = (o = o || "") + e;
if (this.audioCache[e]) {
cc.audioEngine.playMusic(this.audioCache[e], t);
return [ 2 ];
}
return [ 4, c.default.loadResSync(e, cc.AudioClip) ];

case 1:
i = n.sent();
this.audioCache[e] = i;
this.currMusicId = cc.audioEngine.playMusic(i, t);
return [ 2 ];
}
});
});
};
t.prototype.playGameEffect = function(e, t, o, i) {
void 0 === t && (t = !1);
void 0 === o && (o = !1);
return r(this, void 0, void 0, function() {
var o, n = this;
return s(this, function(a) {
switch (a.label) {
case 0:
if (!e || "" === e) return [ 2 ];
e = (i = i || "audios/") + e;
if (this._nowPlayEffect == e) return [ 2, this.currEffectId ];
this.scheduleOnce(function() {
n._nowPlayEffect = "";
}, 1 / 30);
this._nowPlayEffect = e;
if (this.audioCache[e]) {
this.currEffectId = cc.audioEngine.playEffect(this.audioCache[e], t);
return [ 2, this.currEffectId ];
}
return [ 4, c.default.loadResSync(e, cc.AudioClip) ];

case 1:
o = a.sent();
this.audioCache[e] = o;
this.currEffectId = cc.audioEngine.playEffect(o, t);
return [ 2, this.currEffectId ];
}
});
});
};
t.prototype.playAudioClip = function(e, t) {
return cc.audioEngine.playEffect(e, t || !1);
};
t.prototype.setFinishCallback = function(e, t) {
cc.audioEngine.setFinishCallback(e, function() {
t && setTimeout(function() {
console.log("");
t();
}, 10);
});
};
t.prototype.setEffectActive = function(e, t) {
void 0 === t && (t = -1);
e ? cc.audioEngine.stop(t < 0 ? this.currEffectId : t) : cc.audioEngine.resume(t < 0 ? this.currEffectId : t);
};
t.prototype.hallPlayMusic = function() {
this.playGameMusic("audios/bg");
};
t.prototype.stopPlayMusic = function() {
cc.audioEngine.stopMusic();
};
t.prototype.stopPlayEffect = function() {
cc.audioEngine.stopEffect(this.currEffectId);
};
var o;
t._inst = null;
return o = a([ d ], t);
}(cc.Component));
o.default = h;
var u = function() {};
cc._RF.pop();
}, {
"../public/ThirdParty/CocosPublic": "CocosPublic"
} ],
GameStartInit: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a7de0X3MTFMs6EXUQsTsrT1", "GameStartInit");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../FireData/CommonData"), n = e("../PhoneBridge/SystemInterface"), a = e("../EXUIFrame/EXSoundMgr"), r = e("../GameCommon/NVSGameUtil"), s = e("./GameDataInfo"), c = e("./GameAdapter"), l = function() {
function e() {}
e.prototype.initializationGame = function() {
cc.dynamicAtlasManager.enabled = !1;
s.default.init();
c.default.getInstance().initSceneConfg();
n.default.inst.initDevId();
n.default.inst.initDeviceInfo();
n.default.inst.initAppID();
n.default.inst.initAppVersion();
};
e.prototype.initializationOther = function() {
this.readNecessaryLocalInfo();
};
e.prototype.readNecessaryLocalInfo = function() {
i.default.UserData.userId = r.default.readData("userId") || 0;
if ("true" === r.default.readData(i.default.storageData.shockSetUp)) i.default.UserData.shockSetUp = !0; else if ("false" === r.default.readData(i.default.storageData.shockSetUp)) i.default.UserData.shockSetUp = !1; else {
i.default.UserData.shockSetUp = !0;
r.default.saveData(i.default.storageData.shockSetUp, i.default.UserData.shockSetUp);
}
if (r.default.readData(i.default.storageData.musicSetUp)) i.default.UserData.musicSetUp = Number(r.default.readData(i.default.storageData.musicSetUp)); else {
i.default.UserData.musicSetUp = .5;
r.default.saveData(i.default.storageData.musicSetUp, i.default.UserData.musicSetUp);
}
a.default.inst.setMusicVolume(i.default.UserData.musicSetUp);
if (r.default.readData(i.default.storageData.soundSetUp)) i.default.UserData.soundSetUp = Number(r.default.readData(i.default.storageData.soundSetUp)); else {
i.default.UserData.soundSetUp = .5;
r.default.saveData(i.default.storageData.soundSetUp, i.default.UserData.soundSetUp);
}
a.default.inst.setEffectVolume(i.default.UserData.soundSetUp);
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new e());
return this._inst;
},
enumerable: !1,
configurable: !0
});
e._inst = null;
return e;
}();
o.default = l;
cc._RF.pop();
}, {
"../EXUIFrame/EXSoundMgr": "EXSoundMgr",
"../FireData/CommonData": "CommonData",
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../PhoneBridge/SystemInterface": "SystemInterface",
"./GameAdapter": "GameAdapter",
"./GameDataInfo": "GameDataInfo"
} ],
GameStmMailItem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a4de96mKTpL7p77aXXxHbuk", "GameStmMailItem");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/GameEvent"), s = e("../../../manager/DlgGameMgr"), c = e("../../../public/MyComponent/GameHppayUtil"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._richLabelMailTitle = null;
t._labelDate = null;
t._data = null;
t._redTips = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
this._richLabelMailTitle = this.node.getChildByName("richTextTitle").getComponent(cc.RichText);
this._labelDate = this.node.getChildByName("labelDate").getComponent(cc.Label);
this.node.on("click", this._onItemSelected, this);
this._redTips = this.node.getChildByName("redTips");
};
t.prototype.start = function() {};
t.prototype.refresh = function(e) {
this._richLabelMailTitle.string = e.title;
this._labelDate.string = c.default.getDate(e.time);
this._data = e;
0 == this._data.status ? this._redTips.active = !0 : this._redTips.active = !1;
};
t.prototype._onItemSelected = function() {
console.log("on item selected");
this._data.mailType = 2;
this._redTips.active = !1;
r.GameEvent.ins().emit("NOTIFY_READ_MAIL");
s.default.inst.showDlg(s.DlgType.mailRead, this._data);
};
return a([ d ], t);
}(cc.Component));
o.default = h;
cc._RF.pop();
}, {
"../../../manager/DlgGameMgr": "DlgGameMgr",
"../../../public/MyComponent/GameEvent": "GameEvent",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil"
} ],
GameStoreEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "da53cXjeq9NkZqRDJBGZ40Y", "GameStoreEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../communication/GameLobbyHttp"), s = e("../../../data/GameLangData"), c = e("../../../data/MyData"), l = e("../../../data/conf/GameConfig"), d = e("../../../data/conf/GameInfo"), h = e("../../../data/conf/GameRes"), u = e("../../../manager/DlgGameMgr"), p = e("../../../manager/GameSoundMgr"), f = e("../../../manager/PlatformInterface"), m = e("../../../public/MyComponent/GameHppayUtil"), g = e("../../../public/MyComponent/ViewExecutorBase"), y = cc._decorator, _ = y.ccclass, C = (y.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.showTipsEx = function(e) {
var t = this;
this.node.tipsNode.active = !0;
this.node.tipsDesc1.stopAllActions();
this.node.tipsDesc2.stopAllActions();
this.node.tipsDesc1.x = -557;
this.node.tipsDesc1.getComponent(cc.Label).string = e;
this.node.tipsDesc1.getComponent(cc.Label)._forceUpdateRenderData(!0);
var o = this.node.tipsDesc1.width, i = o / 80;
if (o > 1114) {
this.node.tipsDesc2.getComponent(cc.Label).string = e;
this.node.tipsDesc2.x = -557 + o + 50;
cc.tween(this.node.tipsDesc1).repeatForever(cc.tween().to(i, {
x: -557 - o - 50
}).call(function() {
t.node.tipsDesc1.x = -557 + o + 50;
}).to(i, {
x: -557
})).start();
cc.tween(this.node.tipsDesc2).repeatForever(cc.tween().to(i, {
x: -557
}).to(i, {
x: -557 - o - 50
}).call(function() {
t.node.tipsDesc2.x = -557 + o + 50;
})).start();
} else this.node.tipsDesc2.getComponent(cc.Label).string = "";
};
t.prototype.onGooglePayEx = function() {
p.default.inst.playGameEffect(p.AudioRes.click);
if (0 == c.default.UserData.phoneBinding) {
if (f.default.isH5()) {
u.default.inst.showConfirmDlg(s.default.ins.GET_NEWHALL_LANG("bindPhoneTips"), 2, null, s.default.ins.GET_LOGIN_LANG("bindNow"), function() {
u.default.inst.showDlg(u.DlgType.bindPhone);
});
return;
}
if (1 == c.default.hallData.payneedBindPhone) {
u.default.inst.showConfirmDlg(s.default.ins.GET_NEWHALL_LANG("bindPhoneTips"), 2, null, s.default.ins.GET_LOGIN_LANG("bindNow"), function() {
u.default.inst.showDlg(u.DlgType.bindPhone);
});
return;
}
}
this.node.showLoading();
r.default.getInstance().charge("47.6", 0, this.node.currSelectPayTypeData.ptype, this.node.currSelectPayTypeData.product);
this.node.btnGoogle.interactable = !1;
};
t.prototype.listBankListEx = function(e, t) {
var o = this, i = this.node.bankData[t].bankName, n = l.default.resourceUrl + "banks/" + i + ".png";
e.getChildByName("label").getComponent(cc.Label).string = i;
var a = e.getChildByName("icon");
1 == this.node.bankData[t].selected ? e.getChildByName("select").active = !0 : e.getChildByName("select").active = !1;
console.log("bankUrl = ", n);
cc.loader.load(n, function(e, t) {
if (e) console.log("download bank icon err ", e); else {
console.log("download bank icon success ", this.isClose, " ", this.currPageType);
if (0 == this.node.isClose && 6 == this.node.currPageType) {
console.log("download bank icon success 11");
var o = new cc.SpriteFrame(t);
console.log("download bank icon success 1122");
if (null != a && null != a.getComponent(cc.Sprite)) {
console.log("download bank icon success 1133");
a.getComponent(cc.Sprite).spriteFrame = o;
a.width = 40;
a.height = 36;
}
}
}
}.bind(this));
e.off("click");
e.on("click", function() {
p.default.inst.playGameEffect(p.AudioRes.click);
o.node.currBank = i;
o.node.selectBank(t);
}, this);
};
t.prototype.updateLanguageUIEx = function() {
var e = this.node.chargeNode.getChildByName("bgAmount");
e.getChildByName("btnCharge").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("charge");
e.getChildByName("btnClear").getChildByName("label").getComponent(cc.Label).string = s.default.ins.STRING_COMMON("delete");
this.node.editBoxCharge.placeholderLabel.string = "";
e.getChildByName("labelAmount").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("totalAmount");
this.node.amountTips.string = s.default.ins.GET_HALL_LANG("amountTransferTips");
var t = this.node.bankTransferNode.getChildByName("bgAmount");
t.getChildByName("btnCharge").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("charge");
t.getChildByName("btnClear").getChildByName("label").getComponent(cc.Label).string = s.default.ins.STRING_COMMON("delete");
this.node.mTransfeEditBox.placeholderLabel.string = "";
t.getChildByName("labelAmount").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("totalAmount");
t.getChildByName("labelBankInfo").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("myCardInfo");
this.node.mTransfeNoBankInfo.getChildByName("labelUserName").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("bindCardDesc");
m.default.loadSprAtlasFrame(this.node.rootNode.getChildByName("leftChoose").getChildByName("chip").getChildByName("icon"), h.GameResInfo.CURRENCY_ROOT_DIR + h.GameResInfo.CURRENCY_ICON);
var o = this.node.googleNode.getChildByName("item1");
o.getChildByName("price").getComponent(cc.Label).string = "";
o.getChildByName("desc").getComponent(cc.Label).string = "";
o.getChildByName("btn_buy").getChildByName("label").getComponent(cc.Label).string = "";
m.default.loadSprAtlasFrame(o.getChildByName("coin"), h.GameResInfo.CURRENCY_ROOT_DIR + h.GameResInfo.CURRENCY_ICON);
m.default.loadSprAtlasFrame(o.getChildByName("icon"), h.GameResInfo.CURRENCY_ROOT_DIR + h.GameResInfo.GOOGLE_COIN);
var i = this.node.depositNode3.getChildByName("bgAmount");
i.getChildByName("btnCharge").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("charge");
i.getChildByName("btnClear").getChildByName("label").getComponent(cc.Label).string = s.default.ins.STRING_COMMON("delete");
this.node.mEditBox3.placeholderLabel.string = "";
i.getChildByName("labelAmount").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("totalAmount");
i.getChildByName("labelBank").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("bankName");
if (d.default.country == d.GameCountryEnum.Indonesia || d.default.country == d.GameCountryEnum.Vietnam) {
this.node.amountTipsRoot.active = !0;
this.node.amountTipsRoot.active = !0;
} else {
this.node.amountTipsRoot.active = !1;
this.node.amountTipsRoot.active = !1;
}
};
t.prototype.updateChargeBonusEx = function(e) {
for (var t = this, o = this.node.amountList, i = 0; i < o.length; i++) null != (n = o[i]) && null != (a = n.getChildByName("bonus")) && a.removeFromParent(!0);
o = this.node.mTransferAmountList;
for (i = 0; i < o.length; i++) null != (n = o[i]) && null != (a = n.getChildByName("bonus")) && a.removeFromParent(!0);
o = this.node.amountList3;
for (i = 0; i < o.length; i++) {
var n;
if (null != (n = o[i])) {
var a;
null != (a = n.getChildByName("bonus")) && a.removeFromParent(!0);
}
}
console.log("firstStrike = ", c.default.UserData.firstStrike);
if (1 == c.default.UserData.firstStrike) {
console.log("firstStrike = ", c.default.UserData.firstStrike);
cc.loader.loadRes("plists/charge", cc.SpriteAtlas, function(o, i) {
for (var n = i.getSpriteFrame("bgChargeBonus"), a = t.node.chargeList[Number(e)].items[0].nPrices, r = t.node.amountList, s = 0; s < r.length; s++) if (null != (l = r[s])) {
var c = Number(l.name);
t.node.addBonus(l, c, a, n);
}
r = t.node.mTransferAmountList;
for (s = 0; s < r.length; s++) if (null != (l = r[s])) {
c = Number(l.name);
t.node.addBonus(l, c, a, n);
}
r = t.node.amountList3;
for (s = 0; s < r.length; s++) {
var l;
if (null != (l = r[s])) {
c = Number(l.name);
t.node.addBonus(l, c, a, n);
}
}
});
}
};
t.prototype.onSelectPayTypeEx = function(e) {
p.default.inst.playGameEffect(p.AudioRes.click);
this.node.btnCharge.interactable = !1;
this.node.btnClear.interactable = !1;
this.node.editBoxCharge.string = "";
this.node.amount.string = "";
this.node.amountTips.node.active = !1;
var t = Number(e.node.name);
this.node.selectPayType(t);
};
t.prototype.updateMyInfoEx = function() {
m.default.changeLabelNum(this.node._labelMyChip, c.default.UserData.chip);
};
t.prototype.updateBankInfoEx = function() {
if (null == this.node.mBankFrom) {
this.node.mTransfeNoBankInfo.active = !0;
this.node.mTransfeBankInfo.active = !1;
} else {
this.node.mTransfeNoBankInfo.active = !1;
this.node.mTransfeBankInfo.active = !0;
var e = this.node.mTransfeBankInfo.getChildByName("bankMask").getChildByName("bankIcon"), t = l.default.resourceUrl + "banks/" + this.node.mBankFrom.bankCode.toLowerCase() + ".png";
console.log("iconUrl = ", t);
cc.loader.load(t, function(t, o) {
if (t) console.log("download err ", t); else {
console.log("download success ");
if (0 == this.node.isClose) {
var i = new cc.SpriteFrame(o);
if (null != e && null != e.getComponent(cc.Sprite)) {
e.getComponent(cc.Sprite).spriteFrame = i;
e.width = 80;
e.height = 80;
}
}
}
}.bind(this));
this.node.mTransfeBankInfo.getChildByName("labelUserName").getComponent(cc.Label).string = this.node.mBankFrom.cardholder;
this.node.mTransfeBankInfo.getChildByName("labelBankName").getComponent(cc.Label).string = this.node.mBankFrom.bankName;
this.node.mTransfeBankInfo.getChildByName("labelBankNumber").getComponent(cc.Label).string = m.default.formatBankAccount(this.node.mBankFrom.number);
}
};
return a([ _ ], t);
}(g.default));
o.default = C;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../data/MyData": "MyData",
"../../../data/conf/GameConfig": "GameConfig",
"../../../data/conf/GameInfo": "GameInfo",
"../../../data/conf/GameRes": "GameRes",
"../../../manager/DlgGameMgr": "DlgGameMgr",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../manager/PlatformInterface": "PlatformInterface",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
GameStore: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "28739p2lP5PPIzWgmT6qu+L", "GameStore");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../public/MyComponent/HpgNumberImg"), c = e("../../../data/conf/GameConfig"), l = e("../../../data/conf/GameInfo"), d = e("../../../data/MyData"), h = e("../../../data/GameLangData"), u = e("../../../natives/AndroidInfo"), p = e("../../../manager/DlgGameMgr"), f = e("../../../natives/AndroidPayment"), m = e("../../../public/ThirdParty/GameSysDefine"), g = e("../../../public/ThirdParty/happyList"), y = e("../../../manager/GameSoundMgr"), _ = e("../../../public/MyComponent/GameHppayUtil"), C = e("./StoreSelecter"), b = e("../../executor/bank/GameStoreEx"), v = e("../../../communication/GameLobbyHttp"), S = e("../../../manager/PlatformInterface"), I = cc._decorator, B = I.ccclass, w = (I.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.chargeNode = null;
t.imageSideSelectedItem = null;
t.editBoxCharge = null;
t.formType = m.FormType.FixedUI;
t.rootNode = null;
t.amountArray = null;
t.amountArray1 = null;
t.amountList = [];
t.btnCharge = null;
t._labelMyChip = null;
t.chargeList = null;
t.sideBar = null;
t.chargeFlowDesc = null;
t.chargeDesc = null;
t.chargeMainTainDesc = null;
t.chargeAutoFlowDesc = null;
t.chargeAutoDesc = null;
t.chargeGoogleFlowDesc = null;
t.chargeGoogleDesc = null;
t.currMinPay = 0;
t.currMaxPay = 0;
t.btnClear = null;
t.menuStartY = 0;
t.menuStartX = 0;
t.bankInfo = null;
t.currSelectPayTypeData = null;
t.defaultCharge = 0;
t.paySelecter = null;
t.googleNode = null;
t.bankTransferNode = null;
t.mTransfeBankInfo = null;
t.mTransfeNoBankInfo = null;
t.mTransfeEditBox = null;
t.mTransferAmountList = [];
t.mTransferBtnCharge = null;
t.mTransferBtnClear = null;
t.mBankFrom = null;
t.mBankTo = null;
t.mTransferTip = 0;
t.mTransferMaintain = 0;
t.mAutobillingAmount = 0;
t.mCommonMaintain = 0;
t.hasShowTips = !1;
t.currShowPayType = 0;
t.currPageType = 0;
t.isClose = !1;
t.btnGoogle = null;
t.tipsNode = null;
t.tipsDesc1 = null;
t.tipsDesc2 = null;
t.depositNode3 = null;
t.mBtnCharge3 = null;
t.mBtnClear3 = null;
t.mDescLabel31 = null;
t.mDescLabel32 = null;
t.mEditBox3 = null;
t.bankList = null;
t.amountList3 = [];
t.bankData = [];
t.currBank = "";
t.amount = null;
t.amountTips = null;
t.amountTipsRoot = null;
t.counter = 0;
t.startCount = !1;
t.currShowList = [ 0, 3, 5, 6 ];
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new b.default();
this.exView.setProxy(this);
var e = this.node.getChildByName("dlgBg").getChildByName("bg");
this.setNodeFullScreen(e);
this.initDepositNode2();
this.initDepositNode3();
};
t.prototype.setView = function() {
this.amountArray = [ 2e4, 1e4, 5e3, 2500, 1e3, 500, 300, 100 ];
this.amountArray1 = [ 2e4, 1e4, 5e3, 2500, 1e3, 500, 300, 100 ];
this.rootNode = this.node.getChildByName("dlgBg");
this.sideBar = this.rootNode.getChildByName("leftChoose");
this.sideBar.getChildByName("btnBack").on("click", this.closeSelf, this);
this.sideBar.getChildByName("btnOnline").on("click", this.onLine, this);
this.sideBar.getChildByName("btnOnline").getChildByName("label").getComponent(cc.Label).string = h.default.ins.GET_DIALOG_LANG("customerService");
this.sideBar.getChildByName("btnRecord").on("click", this.onHistory, this);
this.sideBar.getChildByName("btnRecord").getChildByName("label").getComponent(cc.Label).string = h.default.ins.GET_NEWHALL_LANG("chargeRecord");
this.bankTransferNode = this.rootNode.getChildByName("depositNode1");
var e = this.bankTransferNode.getChildByName("bgAmount"), t = e.getChildByName("bgBankinfo");
this.mTransfeBankInfo = t.getChildByName("bindInfo");
this.mTransfeNoBankInfo = t.getChildByName("nobindInfo");
this.mTransfeNoBankInfo.on("click", function() {
y.default.inst.playGameEffect(y.AudioRes.click);
l.default.country == l.GameCountryEnum.India ? p.default.inst.showDlg(p.DlgType.bindChargeInd) : p.default.inst.showDlg(p.DlgType.bindCharge);
}, this);
this.mTransfeEditBox = e.getChildByName("inputAmount").getComponent(cc.EditBox);
this.mTransfeEditBox.node.on("text-changed", this.onTransferTextChanged, this);
this.mTransfeEditBox.node.on("editing-did-ended", this.onTransferEditingDidEnded, this);
this.mTransferBtnCharge = e.getChildByName("btnCharge").getComponent(cc.Button);
this.mTransferBtnCharge.node.on("click", this.onTransferCharge, this);
this.mTransferBtnClear = e.getChildByName("btnClear").getComponent(cc.Button);
this.mTransferBtnClear.node.on("click", this.onTransferClear, this);
this.chargeAutoDesc = e.getChildByName("labelDesc1").getComponent(cc.Label);
this.chargeAutoFlowDesc = e.getChildByName("labelDesc2").getComponent(cc.Label);
var o = e.getChildByName("btnAmount2");
o.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray1[0]);
o.on("click", this.onTransterSelectAmount, this);
o.name = this.amountArray1[0] + "";
var i = e.getChildByName("btnAmount3");
i.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray1[1]);
i.on("click", this.onTransterSelectAmount, this);
i.name = this.amountArray1[1] + "";
var n = e.getChildByName("btnAmount4");
n.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray1[2]);
n.on("click", this.onTransterSelectAmount, this);
n.name = this.amountArray1[2] + "";
var a = e.getChildByName("btnAmount5");
a.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray1[3]);
a.on("click", this.onTransterSelectAmount, this);
a.name = this.amountArray1[3] + "";
var r = e.getChildByName("btnAmount6");
r.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray1[4]);
r.on("click", this.onTransterSelectAmount, this);
r.name = this.amountArray1[4] + "";
var s = e.getChildByName("btnAmount7");
s.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray1[5]);
s.on("click", this.onTransterSelectAmount, this);
s.name = this.amountArray1[5] + "";
var c = e.getChildByName("btnAmount8");
c.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray1[6]);
c.on("click", this.onTransterSelectAmount, this);
c.name = this.amountArray1[6] + "";
var d = e.getChildByName("btnAmount9");
d.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray1[7]);
d.on("click", this.onTransterSelectAmount, this);
d.name = this.amountArray1[7] + "";
this.mTransferAmountList = [ o, i, n, a, r, s, c, d ];
this.chargeNode = this.rootNode.getChildByName("depositNode");
var u = this.chargeNode.getChildByName("bgAmount");
this.amountTipsRoot = u.getChildByName("amountTipsRoot");
this.amount = this.amountTipsRoot.getChildByName("amount").getComponent(cc.Label);
this.amountTips = this.amountTipsRoot.getChildByName("amountTips").getComponent(cc.Label);
u.getChildByName("btnClear").on("click", this.onClear, this);
this.btnClear = u.getChildByName("btnClear").getComponent(cc.Button);
this.editBoxCharge = u.getChildByName("inputAmount").getComponent(cc.EditBox);
this.editBoxCharge.node.on("text-changed", this.onTextChanged, this);
this.editBoxCharge.node.on("editing-did-ended", this.onEditingDidEnded, this);
this.chargeFlowDesc = u.getChildByName("labelDesc1").getComponent(cc.Label);
this.chargeDesc = u.getChildByName("labelDesc2").getComponent(cc.Label);
this.chargeMainTainDesc = u.getChildByName("labelDesc3").getComponent(cc.Label);
this.paySelecter = this.rootNode.getChildByName("payTypeSelecter").getComponent(C.default);
this.paySelecter.node.active = !0;
var f = u.getChildByName("btnAmount2");
f.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray[0]);
f.on("click", this.onSelectAmount, this);
f.name = this.amountArray[0] + "";
var m = u.getChildByName("btnAmount3");
m.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray[1]);
m.on("click", this.onSelectAmount, this);
m.name = this.amountArray[1] + "";
var g = u.getChildByName("btnAmount4");
g.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray[2]);
g.on("click", this.onSelectAmount, this);
g.name = this.amountArray[2] + "";
var b = u.getChildByName("btnAmount5");
b.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray[3]);
b.on("click", this.onSelectAmount, this);
b.name = this.amountArray[3] + "";
var v = u.getChildByName("btnAmount6");
v.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray[4]);
v.on("click", this.onSelectAmount, this);
v.name = this.amountArray[4] + "";
var S = u.getChildByName("btnAmount7");
S.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray[5]);
S.on("click", this.onSelectAmount, this);
S.name = this.amountArray[5] + "";
var I = u.getChildByName("btnAmount8");
I.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray[6]);
I.on("click", this.onSelectAmount, this);
I.name = this.amountArray[6] + "";
var B = u.getChildByName("btnAmount9");
B.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray[7]);
B.on("click", this.onSelectAmount, this);
B.name = this.amountArray[7] + "";
this.amountList = [ f, m, g, b, v, S, I, B ];
u.getChildByName("btnCharge").on("click", this.onCharge, this);
this.btnCharge = u.getChildByName("btnCharge").getComponent(cc.Button);
this._labelMyChip = this.sideBar.getChildByName("chip").getChildByName("labelChip");
this.googleNode = this.rootNode.getChildByName("depositGooglePay");
this.googleNode.getChildByName("item1").getChildByName("btn_buy").on("click", this.onGooglePay, this);
this.btnGoogle = this.googleNode.getChildByName("item1").getChildByName("btn_buy").getComponent(cc.Button);
this.chargeGoogleFlowDesc = this.googleNode.getChildByName("labelDesc1").getComponent(cc.Label);
this.chargeGoogleDesc = this.googleNode.getChildByName("labelDesc2").getComponent(cc.Label);
this.googleNode.getChildByName("item1").getChildByName("icon").on("click", this.consumePurchase, this);
this.tipsNode = this.rootNode.getChildByName("tipsNode");
this.tipsNode.active = !1;
this.tipsDesc1 = this.tipsNode.getChildByName("mask").getChildByName("desc1");
this.tipsDesc2 = this.tipsNode.getChildByName("mask").getChildByName("desc2");
};
t.prototype.hideTips = function() {
this.tipsNode.active = !1;
this.tipsDesc1.stopAllActions();
this.tipsDesc2.stopAllActions();
};
t.prototype.showTips = function(e) {
this.exView.showTipsEx(e);
};
t.prototype.consumePurchase = function() {
var e = this;
if (0 == this.startCount) {
this.startCount = !0;
this.scheduleOnce(function() {
e.counter = 0;
e.startCount = !1;
}, 3);
}
if (this.counter < 8) this.counter++; else {
f.default.inst.consumePurchase(f.default.inst.productID);
this.counter = 0;
this.startCount = !1;
}
};
t.prototype.onGooglePay = function() {
this.exView.onGooglePayEx();
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.updateLanguageUI();
this.register("GameBank", [ "UPDATE_BONUS_TAG", "ON_UPDATE_PAYTYPE_DATA", "ON_GET_PAY_CHANNAL", "ON_CHARGE", "ON_GET_BANK_INFO", "ON_GET_TRADE_HISTORY", "BINGDING_PHONE_SUCCESS", "ON_CLOSE_DIALOG", "MONEY_UPDATE_EVENT", "ON_WITHDRAW", "ON_WITHDRAW_CONFIRM", "ON_COPY_SUCCESS", "CHOOSE_BANK_EVENT", "ON_UPDATE_BANK_INFO", "ON_HTTP_POST_SUCCESS", "ON_HTTP_POST_FAILED" ]);
v.default.getInstance().getPayChannal();
this.showLoading();
this.rootNode.active = !1;
this.isClose = !1;
};
t.prototype.closeSelf = function() {
this.isClose = !0;
this.onClose();
};
t.prototype.listBankList = function(e, t) {
this.exView.listBankListEx(e, t);
};
t.prototype.selectBank = function(e) {
for (var t = 0; t < this.bankData.length; t++) this.bankData[t].selected = e == t ? 1 : 0;
var o = this.bankList.node.getComponent(cc.ScrollView).getContentPosition();
this.bankList.numItems = this.bankData.length;
this.bankList.node.getComponent(cc.ScrollView).setContentPosition(o);
};
t.prototype.onListPayChannal = function(e) {
this.hideLoading();
this.rootNode.active = !0;
this.defaultCharge = this._data || 0;
this._initUserInfo(d.default.UserData.chip, d.default.UserData.point, d.default.UserData.coin);
this.chargeList = e;
console.log("", this.chargeList);
this.initView();
this.selectPayType(this.currShowPayType);
};
t.prototype.updateLanguageUI = function() {
this.exView.updateLanguageUIEx();
};
t.prototype.initBank = function() {};
t.prototype.onClear = function() {
this.editBoxCharge.string = "";
this.btnCharge.interactable = !1;
this.btnClear.interactable = !1;
this.amount.node.active = !1;
this.amountTips.node.active = !1;
};
t.prototype.onClear3 = function() {
this.mEditBox3.string = "";
this.mBtnClear3.interactable = !1;
this.mBtnCharge3.interactable = !1;
};
t.prototype.onCharge3 = function() {
y.default.inst.playGameEffect(y.AudioRes.click);
if (0 == d.default.UserData.phoneBinding) {
if (S.default.isH5()) {
p.default.inst.showConfirmDlg(h.default.ins.GET_NEWHALL_LANG("bindPhoneTips"), 2, null, h.default.ins.GET_LOGIN_LANG("bindNow"), function() {
p.default.inst.showDlg(p.DlgType.bindPhone);
});
return;
}
if (1 == d.default.hallData.payneedBindPhone) {
p.default.inst.showConfirmDlg(h.default.ins.GET_NEWHALL_LANG("bindPhoneTips"), 2, null, h.default.ins.GET_LOGIN_LANG("bindNow"), function() {
p.default.inst.showDlg(p.DlgType.bindPhone);
});
return;
}
}
var e = Number(_.default.rebackCul(this.mEditBox3.string)) || 0;
this.showLoading();
v.default.getInstance().charge(e, 0, this.currSelectPayTypeData.ptype, this.currSelectPayTypeData.product, this.currBank);
this.mBtnCharge3.interactable = !1;
};
t.prototype.onTransferCharge = function() {
y.default.inst.playGameEffect(y.AudioRes.click);
if (0 == d.default.UserData.phoneBinding) {
if (S.default.isH5()) {
p.default.inst.showConfirmDlg(h.default.ins.GET_NEWHALL_LANG("bindPhoneTips"), 2, null, h.default.ins.GET_LOGIN_LANG("bindNow"), function() {
p.default.inst.showDlg(p.DlgType.bindPhone);
});
return;
}
if (1 == d.default.hallData.payneedBindPhone) {
p.default.inst.showConfirmDlg(h.default.ins.GET_NEWHALL_LANG("bindPhoneTips"), 2, null, h.default.ins.GET_LOGIN_LANG("bindNow"), function() {
p.default.inst.showDlg(p.DlgType.bindPhone);
});
return;
}
}
if (null != this.mBankFrom) {
var e = Number(_.default.rebackCul(this.mTransfeEditBox.string)) || 0;
this.showLoading();
v.default.getInstance().charge(e, 0, this.currSelectPayTypeData.ptype, this.currSelectPayTypeData.product);
this.mTransferBtnCharge.interactable = !1;
} else p.default.inst.showConfirmDlg(h.default.ins.GET_NEWHALL_LANG("bindBankDesc"), 2, null, h.default.ins.GET_DIALOG_LANG("bindNow"), function() {
l.default.country == l.GameCountryEnum.India ? p.default.inst.showDlg(p.DlgType.bindChargeInd) : p.default.inst.showDlg(p.DlgType.bindCharge);
}, h.default.ins.GET_DIALOG_LANG("IKnow"));
};
t.prototype.onTransferClear = function() {
this.mTransfeEditBox.string = "";
this.mTransferBtnClear.interactable = !1;
this.mTransferBtnCharge.interactable = !1;
};
t.prototype.updateChargeBonus = function(e) {
console.log("updateChargeBonusEx");
this.exView.updateChargeBonusEx(e);
};
t.prototype.addBonus = function(e, t, o, i) {
for (var n in o) if (n == t) {
var a = new cc.Node();
a.addComponent(cc.Sprite);
a.getComponent(cc.Sprite).spriteFrame = i;
a.name = "bonus";
a.x = -42;
a.y = 21;
e.addChild(a);
var r = new s.default("plists/num_h61", "+" + o[n], 1), c = Number(o[n]);
r.x = c >= 1e4 ? 42 : c >= 1e3 ? 35 : c >= 100 ? 28 : c >= 10 ? 21 : 14;
r.y = 9;
a.addChild(r);
}
};
t.prototype.initView = function() {
if (Number(this.defaultCharge) > 0) {
this.editBoxCharge.string = _.default.cul(this.defaultCharge);
this.amount.string = l.default.originMoneyUnit + _.default.cul(this.defaultCharge * l.default.countryCurrencyUnit);
this.amountTips.node.active = !0;
this.amount.node.active = !0;
}
if ("" == this.editBoxCharge.string) {
this.btnCharge.interactable = !1;
this.btnClear.interactable = !1;
this.amountTips.node.active = !1;
this.amount.node.active = !1;
} else {
this.btnCharge.interactable = !0;
this.btnClear.interactable = !0;
this.amountTips.node.active = !0;
this.amount.node.active = !0;
}
if ("" == this.mEditBox3.string) {
this.mBtnCharge3.interactable = !1;
this.mBtnClear3.interactable = !1;
} else {
this.mBtnCharge3.interactable = !0;
this.mBtnClear3.interactable = !0;
}
if ("" == this.mTransfeEditBox.string) {
this.mTransferBtnCharge.interactable = !1;
this.mTransferBtnClear.interactable = !1;
} else {
this.mTransferBtnCharge.interactable = !0;
this.mTransferBtnClear.interactable = !0;
}
var e = this.sideBar.getChildByName("payList").getChildByName("view").getChildByName("content");
e.height = 89.6 * this.chargeList.length;
this.imageSideSelectedItem = e.getChildByName("sideSelectedItem");
this.imageSideSelectedItem.zIndex = 100;
this.menuStartY = 0;
this.menuStartX = 0;
for (var t = function(t) {
var i = o.chargeList[t], n = new cc.Node();
n.addComponent(cc.Sprite);
_.default.loadSprAtlasFrame(n, "itemSelectedShop", "plists/public");
n.anchorX = 1;
n.anchorY = 1;
n.x = o.menuStartX;
n.y = o.menuStartY - 89.6 * t;
n.zIndex = 9;
n.parent = e;
var a = new cc.Node();
a.addComponent(cc.Sprite);
_.default.loadSprAtlasFrame(a, "itemSelectedShopNormal", "plists/public");
a.anchorX = 1;
a.anchorY = 1;
a.x = o.menuStartX;
a.y = o.menuStartY - 89.6 * t;
a.zIndex = 10;
a.parent = e;
var r = new cc.Node();
r.addComponent(cc.Button);
r.addComponent(cc.Sprite);
r.anchorX = 0;
r.anchorY = 1;
r.x = o.menuStartX - 288;
0 == S.default.isNative() ? r.y = o.menuStartY - 5 - 89.6 * t + 6 : r.y = o.menuStartY - 5 - 89.6 * t;
r.zIndex = 200;
r.scale = .7;
r.parent = e;
r.name = t + "";
r.on("click", o.onSelectPayType, o);
var s = c.default.resourceUrl + i.url;
console.log("pay type bank icon ", s);
cc.loader.load(s, function(e, t) {
if (e) console.log("load pay image failed", s); else {
console.log("load pay image success", s);
if (0 == this.isClose) {
var o = new cc.SpriteFrame(t);
if (null != r && null != r.getComponent(cc.Sprite)) {
r.getComponent(cc.Sprite).spriteFrame = o;
r.width = o.getRect().width;
r.height = o.getRect().height;
}
}
}
}.bind(o));
}, o = this, i = 0; i < this.chargeList.length; i++) t(i);
};
t.prototype.onSelectPayType = function(e) {
this.exView.onSelectPayTypeEx(e);
};
t.prototype.selectPayType = function(e) {
if (0 != this.chargeList.length) {
this.currShowPayType = e;
var t = this.chargeList[e];
if (null != t) {
this.imageSideSelectedItem.y = this.menuStartY - 89.6 * e;
var o = this.chargeList[Number(e)];
this.currPageType = o.pageId;
this.paySelecter.initPayList(t.items);
this.showChargeUI(o);
}
}
};
t.prototype.onShowPayType = function(e) {
this.currSelectPayTypeData = e;
this.chargeFlowDesc.string = _.default.formatMultiLine(e.chargeFlowDesc);
this.chargeDesc.string = _.default.formatMultiLine(e.chargeDesc);
this.chargeGoogleFlowDesc.string = _.default.formatMultiLine(e.chargeFlowDesc);
this.chargeGoogleDesc.string = _.default.formatMultiLine(e.chargeDesc);
this.mDescLabel31.string = _.default.formatMultiLine(e.chargeFlowDesc);
this.mDescLabel32.string = _.default.formatMultiLine(e.chargeDesc);
this.currMinPay = e.min;
this.currMaxPay = e.max;
this.editBoxCharge.placeholderLabel.string = h.default.ins.GET_NEWHALL_LANG("inputChargeAmount").replace("$$", this.currMinPay).replace("$$", _.default.cul(this.currMaxPay));
this.mTransfeEditBox.placeholderLabel.string = h.default.ins.GET_NEWHALL_LANG("inputChargeAmount").replace("$$", this.currMinPay).replace("$$", _.default.cul(this.currMaxPay));
this.mEditBox3.placeholderLabel.string = h.default.ins.GET_NEWHALL_LANG("inputChargeAmount").replace("$$", this.currMinPay).replace("$$", _.default.cul(this.currMaxPay));
this.updateChargeAmount(e.prices);
this.updateBankList(e.banks);
console.log("pay data ", e.prices);
console.log("pay data ", e.nPrices);
e.nPrices && this.updateChargeBonus(this.currShowPayType);
var t = this.googleNode.getChildByName("item1");
e.gpdesc && (t.getChildByName("desc").getComponent(cc.Label).string = e.gpdesc);
e.gpprice && (t.getChildByName("btn_buy").getChildByName("label").getComponent(cc.Label).string = e.gpprice);
e.gpamount && (t.getChildByName("price").getComponent(cc.Label).string = e.gpamount);
var o = this.depositNode3.getChildByName("bgAmount");
if (e.isShowTips && 1 == e.isShowTips) {
this.showTips(e.tipsDesc || "");
this.bankList.node.height = 224;
this.bankList.node.getChildByName("view").height = 224;
this.bankList.node.y = 368 * .7;
o.getChildByName("labelBank").y = 312 * .7;
} else {
this.hideTips();
this.bankList.node.height = 360 * .7;
this.bankList.node.getChildByName("view").height = 266;
this.bankList.node.y = 428 * .7;
o.getChildByName("labelBank").y = 260.4;
}
};
t.prototype.updateBankList = function(e) {
if (null != e && 0 != e.length) {
this.bankData = [];
for (var t = 0; t < e.length; t++) {
var o = e[t], i = {};
i.bankName = o;
i.selected = 0 == t ? 1 : 0;
this.bankData.push(i);
}
this.bankList.numItems = this.bankData.length;
this.currBank = e[0];
}
};
t.prototype.updateChargeAmount = function(e) {
for (var t = e.split(","), o = this.amountList, i = 0; i < o.length; i++) {
var n = o[i], a = t[i], r = Number(t[i]);
if (null != a) {
n.active = !0;
n.name = r + "";
n.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(r);
} else n.active = !1;
}
var s = e.split(","), c = this.mTransferAmountList;
for (i = 0; i < c.length; i++) {
n = c[i], a = s[i], r = Number(s[i]);
if (null != a) {
n.active = !0;
n.name = r + "";
n.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(r);
} else n.active = !1;
}
var d = e.split(","), h = this.amountList3;
for (i = 0; i < h.length; i++) {
n = h[i], a = d[i], r = Number(d[i]);
if (null != a) {
n.active = !0;
n.name = r + "";
n.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(r);
} else n.active = !1;
}
};
t.prototype.updateAmountList = function(e) {
for (var t = 0, o = 0; o < this.amountArray.length && !(this.amountArray[o] < e); o++) t++;
for (o = 0; o < this.amountList.length; o++) this.amountList[o].active = t > o;
t = 0;
for (o = 0; o < this.amountArray1.length && !(this.amountArray1[o] < e); o++) t++;
for (o = 0; o < this.mTransferAmountList.length; o++) this.mTransferAmountList[o].active = t > o;
};
t.prototype.isInShowList = function(e) {
for (var t = 0; t < this.currShowList.length; t++) if (this.currShowList[t] == e) return !0;
return !1;
};
t.prototype.getChargeList = function(e) {
for (var t = [], o = 0; o < e.length; o++) {
var i = e[o];
this.isInShowList(i.pageId) && t.push(i);
}
return t;
};
t.prototype.showChargeUI = function(e) {
this.chargeNode.active = !1;
this.depositNode3.active = !1;
this.googleNode.active = !1;
this.bankTransferNode.active = !1;
if (0 == e.pageId) {
this.chargeNode.active = !0;
var t = e.items[0];
this.mCommonMaintain = t.maintain;
if (1 == this.mCommonMaintain) {
this.btnCharge.node.active = !1;
this.chargeMainTainDesc.node.active = !0;
this.chargeMainTainDesc.string = t.maintainDesc;
} else {
this.btnCharge.node.active = !0;
this.chargeMainTainDesc.node.active = !1;
}
} else if (1 == e.pageId) ; else if (2 == e.pageId) this.googleNode.active = !0; else if (3 == e.pageId) this.googleNode.active = !0; else if (6 == e.pageId) {
this.depositNode3.active = !0;
t = e.items[0];
this.mCommonMaintain = t.maintain;
if (1 == this.mCommonMaintain) {
this.mBtnCharge3.node.active = !1;
this.mDescLabel32.node.active = !0;
this.mDescLabel32.string = t.maintainDesc;
this.mDescLabel31.node.active = !1;
} else {
this.mBtnCharge3.node.active = !0;
this.mDescLabel32.node.active = !1;
this.mDescLabel31.node.active = !0;
this.mDescLabel31.string = t.chargeDesc;
}
} else if (5 == e.pageId) {
this.bankTransferNode.active = !0;
if (null != (t = e.items[0])) {
this.mBankFrom = t.from;
this.mBankTo = t.to;
this.mTransferTip = t.tip;
this.mTransferMaintain = t.maintain;
if (1 == this.mTransferMaintain) {
this.chargeAutoFlowDesc.string = t.chargeFlowDesc;
this.chargeAutoFlowDesc.node.active = !0;
this.mTransferBtnCharge.node.active = !1;
this.chargeAutoDesc.node.active = !1;
} else {
this.chargeAutoDesc.string = t.chargeDesc;
this.chargeAutoDesc.node.active = !0;
this.mTransferBtnCharge.node.active = !0;
this.chargeAutoFlowDesc.node.active = !1;
}
this.updateBankInfo();
}
}
};
t.prototype.updateBankInfo = function() {
this.exView.updateBankInfoEx();
};
t.prototype._initUserInfo = function(e) {
this._labelMyChip.getComponent(cc.Label).string = "" + _.default.cul(e.toFixed(2));
};
t.prototype._updateMyInfo = function() {
this.exView.updateMyInfoEx();
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_CHARGE":
this.onHanderPay(t);
break;

case "ON_GET_PAY_CHANNAL":
var o = this.getChargeList(t);
this.onListPayChannal(o);
break;

case "MONEY_UPDATE_EVENT":
this._updateMyInfo();
this.updateChargeBonus(this.currShowPayType);
break;

case "ON_GET_BANK_INFO":
this.initBank(t);
break;

case "ON_COPY_SUCCESS":
alert(h.default.ins.GET_DIALOG_LANG("bankerTips15"));
break;

case "ON_UPDATE_PAYTYPE_DATA":
this.onShowPayType(t);
break;

case "CHOOSE_BANK_EVENT":
this.setBankerName(t);
break;

case "ON_CLOSE_DIALOG":
t == p.DlgType.chargeStepTips && p.default.inst.showDlg(p.DlgType.chargeStepComoleted, this.mBankTo);
break;

case "ON_UPDATE_BANK_INFO":
this.bankInfoUpdate(t);
break;

case "ON_HTTP_POST_SUCCESS":
this.httpSuccess();
break;

case "ON_HTTP_POST_FAILED":
this.httpfailed();
}
};
t.prototype.httpfailed = function() {
this.hideLoading();
this.btnCharge.interactable = !0;
this.mTransferBtnCharge.interactable = !0;
this.btnGoogle.interactable = !0;
};
t.prototype.httpSuccess = function() {
this.hideLoading();
"" == this.editBoxCharge.string ? this.btnCharge.interactable = !1 : this.btnCharge.interactable = !0;
"" == this.mTransfeEditBox.string ? this.mTransferBtnCharge.interactable = !1 : this.mTransferBtnCharge.interactable = !0;
"" == this.mEditBox3.string ? this.mBtnCharge3.interactable = !1 : this.mBtnCharge3.interactable = !0;
this.btnGoogle.interactable = !0;
};
t.prototype.bankInfoUpdate = function(e) {
l.default.country == l.GameCountryEnum.India ? p.default.inst.closeDialog(p.DlgType.bindChargeInd) : p.default.inst.closeDialog(p.DlgType.bindCharge);
_.default.alert(h.default.ins.GET_NEWHALL_LANG("bindCardSuccess"));
console.log("update bank data ", e);
this.mBankFrom = e.cardholder;
this.mTransfeBankInfo.getChildByName("labelUserName").getComponent(cc.Label).string = e.cardholder;
this.mTransfeBankInfo.getChildByName("labelBankName").getComponent(cc.Label).string = e.bank_name;
this.mTransfeBankInfo.getChildByName("labelBankNumber").getComponent(cc.Label).string = _.default.formatBankAccount(e.number);
var t = this.mTransfeBankInfo.getChildByName("bankMask").getChildByName("bankIcon"), o = c.default.resourceUrl + "banks/" + e.bank_code.toLowerCase() + ".png";
console.log("iconUrl = ", o);
cc.loader.load(o, function(e, o) {
if (e) console.log("download err ", e); else {
console.log("download success ");
if (0 == this.isClose) {
var i = new cc.SpriteFrame(o);
if (null != t && null != t.getComponent(cc.Sprite)) {
t.getComponent(cc.Sprite).spriteFrame = i;
t.width = 80;
t.height = 80;
}
}
}
}.bind(this));
this.mTransfeBankInfo.active = !0;
this.mTransfeNoBankInfo.active = !1;
};
t.prototype.onHanderPay = function(e) {
console.log("paydata", e);
this.btnCharge.interactable = !0;
var t = e.type;
if ("qr_string" == t) p.default.inst.showDlg(p.DlgType.chargeQR, e); else if ("truemoney_string" == t) p.default.inst.showDlg(p.DlgType.chargeQR, e); else if ("qr_image" == t) p.default.inst.showDlg(p.DlgType.chargeQR, e); else if ("p2p" == t) p.default.inst.showDlg(p.DlgType.chargeP2P, e); else if ("appweb" == t) {
var o = this.chargeList[this.currShowPayType].url;
S.default.openPayWeb(e.payUrl, o, e.payUrl + "!!" + (e.title || "PAY"));
} else if ("jump" == t) {
var i = e.url;
S.default.openBrowser(i);
} else if ("gp" == t) {
console.log("gpurl", c.default.gpUrl);
S.default.purchase(f.default.inst.productID);
} else if ("autobilling" == t) {
this.mAutobillingAmount = Number(_.default.rebackCul(this.mTransfeEditBox.string)) || 0;
this.mBankTo.amount = this.mAutobillingAmount;
1 == this.mTransferTip ? p.default.inst.showDlg(p.DlgType.chargeStepTips) : p.default.inst.showDlg(p.DlgType.chargeStepComoleted, this.mBankTo);
}
};
t.prototype.onSelectAmount = function(e) {
y.default.inst.playGameEffect(y.AudioRes.click);
this.editBoxCharge.string = _.default.cul(e.node.name);
this.btnCharge.interactable = !0;
this.btnClear.interactable = !0;
this.amountTips.node.active = !0;
this.amount.node.active = !0;
var t = Number(_.default.rebackCul(this.editBoxCharge.string)) || 0;
this.amount.string = l.default.originMoneyUnit + _.default.cul(t * l.default.countryCurrencyUnit);
};
t.prototype.onSelectAmount3 = function(e) {
y.default.inst.playGameEffect(y.AudioRes.click);
this.mEditBox3.string = _.default.cul(e.node.name);
this.mBtnCharge3.interactable = !0;
this.mBtnClear3.interactable = !0;
};
t.prototype.onTransterSelectAmount = function(e) {
y.default.inst.playGameEffect(y.AudioRes.click);
this.mTransfeEditBox.string = _.default.cul(e.node.name);
this.mTransferBtnCharge.interactable = !0;
this.mTransferBtnClear.interactable = !0;
};
t.prototype.onCharge = function() {
y.default.inst.playGameEffect(y.AudioRes.click);
if (0 == d.default.UserData.phoneBinding) {
if (S.default.isH5()) {
p.default.inst.showConfirmDlg(h.default.ins.GET_NEWHALL_LANG("bindPhoneTips"), 2, null, h.default.ins.GET_LOGIN_LANG("bindNow"), function() {
p.default.inst.showDlg(p.DlgType.bindPhone);
});
return;
}
if (1 == d.default.hallData.payneedBindPhone) {
p.default.inst.showConfirmDlg(h.default.ins.GET_NEWHALL_LANG("bindPhoneTips"), 2, null, h.default.ins.GET_LOGIN_LANG("bindNow"), function() {
p.default.inst.showDlg(p.DlgType.bindPhone);
});
return;
}
}
var e = Number(_.default.rebackCul(this.editBoxCharge.string)) || 0;
this.showLoading();
v.default.getInstance().charge(e, 0, this.currSelectPayTypeData.ptype, this.currSelectPayTypeData.product);
this.btnCharge.interactable = !1;
};
t.prototype.onTextChanged = function() {};
t.prototype.onEditingDidEnded = function() {
if ("" == this.editBoxCharge.string) {
this.btnCharge.interactable = !1;
this.btnClear.interactable = !1;
this.amount.string = "";
} else {
this.btnCharge.interactable = !0;
this.btnClear.interactable = !0;
this.amountTips.node.active = !0;
this.amount.node.active = !0;
var e = Number(_.default.rebackCul(this.editBoxCharge.string)) || 0;
if (e > this.currMaxPay) {
this.editBoxCharge.string = _.default.cul(this.currMaxPay);
this.amount.string = l.default.originMoneyUnit + _.default.cul(this.currMaxPay * l.default.countryCurrencyUnit);
} else if (e < this.currMinPay) {
this.editBoxCharge.string = _.default.cul(this.currMinPay);
this.amount.string = l.default.originMoneyUnit + _.default.cul(this.currMinPay * l.default.countryCurrencyUnit);
} else {
this.editBoxCharge.string = _.default.cul(e);
this.amount.string = l.default.originMoneyUnit + _.default.cul(e * l.default.countryCurrencyUnit);
}
}
};
t.prototype.onTransferTextChanged = function() {};
t.prototype.onTransferEditingDidEnded = function() {
if ("" == this.mTransfeEditBox.string) {
this.mTransferBtnClear.interactable = !1;
this.mTransferBtnCharge.interactable = !1;
} else {
this.mTransferBtnClear.interactable = !0;
this.mTransferBtnCharge.interactable = !0;
var e = Number(_.default.rebackCul(this.mTransfeEditBox.string)) || 0;
e > this.currMaxPay ? this.mTransfeEditBox.string = _.default.cul(this.currMaxPay) : e < this.currMinPay ? this.mTransfeEditBox.string = _.default.cul(this.currMinPay) : this.mTransfeEditBox.string = _.default.cul(e);
}
};
t.prototype.onLine = function() {
y.default.inst.playGameEffect(y.AudioRes.click);
_.default.showFeedback();
};
t.prototype.onHistory = function() {
y.default.inst.playGameEffect(y.AudioRes.click);
p.default.inst.showFullView(p.DlgType.chargeList);
};
t.prototype.initDepositNode3 = function() {
this.depositNode3 = this.rootNode.getChildByName("depositNode3");
this.depositNode3.active = !0;
var e = this.depositNode3.getChildByName("bgAmount");
this.mBtnCharge3 = e.getChildByName("btnCharge").getComponent(cc.Button);
this.mBtnCharge3.node.on("click", this.onCharge3, this);
this.mBtnClear3 = e.getChildByName("btnClear").getComponent(cc.Button);
this.mBtnClear3.node.on("click", this.onClear3, this);
this.mDescLabel31 = e.getChildByName("labelDesc1").getComponent(cc.Label);
this.mDescLabel32 = e.getChildByName("labelDesc2").getComponent(cc.Label);
this.mEditBox3 = e.getChildByName("inputAmount").getComponent(cc.EditBox);
this.bankList = e.getChildByName("banklist").getComponent(g.default);
var t = e.getChildByName("btnAmount1");
t.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray[0]);
t.on("click", this.onSelectAmount3, this);
t.name = this.amountArray[0] + "";
var o = e.getChildByName("btnAmount2");
o.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray[1]);
o.on("click", this.onSelectAmount3, this);
o.name = this.amountArray[1] + "";
var i = e.getChildByName("btnAmount3");
i.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray[2]);
i.on("click", this.onSelectAmount3, this);
i.name = this.amountArray[2] + "";
var n = e.getChildByName("btnAmount4");
n.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray[3]);
n.on("click", this.onSelectAmount3, this);
n.name = this.amountArray[3] + "";
var a = e.getChildByName("btnAmount5");
a.getChildByName("label").getComponent(cc.Label).string = l.default.gameMoneyUnit + _.default.cul(this.amountArray[4]);
a.on("click", this.onSelectAmount3, this);
a.name = this.amountArray[4] + "";
this.amountList3 = [ t, o, i, n, a ];
};
t.prototype.initDepositNode2 = function() {};
t.prototype.onBtnHandle = function(e) {
y.default.inst.playGameEffect(y.AudioRes.click);
var t = e.node.name;
"copyBtn1" == t ? u.default.inst.copyStr("123") : "copyBtn2" == t ? u.default.inst.copyStr("321") : "bankMore" == t && p.default.inst.showDlg(p.DlgType.selectCharge);
};
t.prototype.setBankerName = function() {};
return a([ B ], t);
}(r.default));
o.default = w;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../data/MyData": "MyData",
"../../../data/conf/GameConfig": "GameConfig",
"../../../data/conf/GameInfo": "GameInfo",
"../../../manager/DlgGameMgr": "DlgGameMgr",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../manager/PlatformInterface": "PlatformInterface",
"../../../natives/AndroidInfo": "AndroidInfo",
"../../../natives/AndroidPayment": "AndroidPayment",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/HpgNumberImg": "HpgNumberImg",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../../public/ThirdParty/GameSysDefine": "GameSysDefine",
"../../../public/ThirdParty/happyList": "happyList",
"../../executor/bank/GameStoreEx": "GameStoreEx",
"./StoreSelecter": "StoreSelecter"
} ],
GameSysDefine: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b3d04QIL6hMwaMBL2Kyk/TO", "GameSysDefine");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.UIState = o.ModalOpacity = o.FormType = o.GameSysDefine = void 0;
var i = function() {
function e() {}
e.SYS_PATH_CANVAS = "Canvas";
e.SYS_PATH_UIFORMS_CONFIG_INFO = "UIFormsConfigInfo";
e.SYS_PATH_CONFIG_INFO = "SysConfigInfo";
e.SYS_UIROOT_NAME = "Canvas/Scene/UIROOT";
e.SYS_UIMODAL_NAME = "Canvas/Scene/UIROOT/UIModalManager";
e.SYS_UIAdapter_NAME = "Canvas/Scene/UIROOT/UIAdapterManager";
e.SYS_SCENE_NODE = "Scene";
e.SYS_UIROOT_NODE = "UIROOT";
e.SYS_SCREEN_NODE = "Screen";
e.SYS_FIXEDUI_NODE = "FixedUI";
e.SYS_POPUP_NODE = "PopUp";
e.SYS_TOPTIPS_NODE = "TopTips";
e.SYS_STANDARD_Prefix = "_";
e.SYS_STANDARD_Separator = "$";
e.SYS_STANDARD_End = "#";
e.UI_PATH_ROOT = "UIForms/";
e.SeparatorMap = {
_Node: "cc.Node",
_Label: "cc.Label",
_Button: "cc.Button",
_Sprite: "cc.Sprite",
_RichText: "cc.RichText",
_Mask: "cc.Mask",
_MotionStreak: "cc.MotionStreak",
_TiledMap: "cc.TiledMap",
_TiledTile: "cc.TiledTile",
_Spine: "sp.Skeleton",
_Graphics: "cc.Graphics",
_Animation: "cc.Animation",
_WebView: "cc.WebView",
_EditBox: "cc.EditBox",
_ScrollView: "cc.ScrollView",
_VideoPlayer: "cc.VideoPlayer",
_ProgressBar: "cc.ProgressBar",
_PageView: "cc.PageView",
_Slider: "cc.Slider",
_Toggle: "cc.Toggle",
_ButtonPlus: "ButtonPlus"
};
return e;
}();
o.GameSysDefine = i;
(function(e) {
e[e.Screen = 0] = "Screen";
e[e.FixedUI = 1] = "FixedUI";
e[e.PopUp = 2] = "PopUp";
e[e.TopTips = 3] = "TopTips";
})(o.FormType || (o.FormType = {}));
(function(e) {
e[e.None = 0] = "None";
e[e.OpacityZero = 1] = "OpacityZero";
e[e.OpacityLow = 2] = "OpacityLow";
e[e.OpacityHalf = 3] = "OpacityHalf";
e[e.OpacityHigh = 4] = "OpacityHigh";
e[e.OpacityFull = 5] = "OpacityFull";
})(o.ModalOpacity || (o.ModalOpacity = {}));
(function(e) {
e[e.None = 0] = "None";
e[e.Loading = 1] = "Loading";
e[e.Showing = 2] = "Showing";
e[e.Hiding = 3] = "Hiding";
})(o.UIState || (o.UIState = {}));
cc._RF.pop();
}, {} ],
GameTaskMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0bff29/tVNBZbJicg+Z/VA4", "GameTaskMgr");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.Command = o.CommandType = void 0;
var i = e("../common/QueuePriority");
o.CommandType || (o.CommandType = {});
o.Command = function() {};
var n = function() {
function e() {
this._cmdMap = cc.js.createMap();
this._debugHistory = [];
this._debug = !1;
}
Object.defineProperty(e, "inst", {
get: function() {
this._instance || (this._instance = new e());
return this._instance;
},
enumerable: !1,
configurable: !0
});
e.prototype.popCommand = function(e) {
var t = this._cmdMap[e];
return t ? t.dequeue() : null;
};
e.prototype.setDebug = function(e) {
void 0 === e && (e = !0);
this._debug = e;
};
e.prototype.hasCommand = function(e, t) {
if (t) return this._cmdMap[t].hasElement(e);
for (var o in this._cmdMap) if (this._cmdMap[o].hasElement(e)) return !0;
return !1;
};
e.prototype.pushCommand = function(e, t, o) {
void 0 === o && (o = 0);
this._debug && this._debugHistory.push(t);
var n = this._cmdMap[e];
n || (n = this._cmdMap[e] = new i.default());
n.enqueue(t, o);
};
e._instance = null;
return e;
}();
o.default = n;
cc._RF.pop();
}, {
"../common/QueuePriority": "QueuePriority"
} ],
GameTimer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4d0ddx/GRdKNYVJQUSEPPFf", "GameTimer");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../EXUIFrame/EXSoundMgr"), s = cc._decorator, c = s.ccclass, l = (s.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.leftTime = 0;
t.timeNeedSound = !0;
t.updateInterval = 1;
t.timeLabel = null;
return t;
}
t.prototype.onLoad = function() {
this.node.active = !1;
this.stopTimer();
};
t.prototype.startTimer = function(e, t, o) {
this.stopTimer();
this.node.active = !0;
this.leftTime = t;
this.timeNeedSound = o || !0;
this.timeLabel = this.node.getChildByName("label").getComponent(cc.Label);
this.timeLabel.string = this.leftTime + "";
this.schedule(this.updateTimer, this.updateInterval, cc.macro.REPEAT_FOREVER);
};
t.prototype.updateTimer = function() {
if (this.leftTime > 0) {
this.leftTime--;
this.timeLabel.string = this.leftTime + "";
if (this.timeNeedSound) {
2 == this.leftTime && r.default.inst.playEffect("new_res_reciprocal3or2");
1 == this.leftTime && r.default.inst.playEffect("new_res_reciprocal3or2");
0 == this.leftTime && r.default.inst.playEffect("new_res_reciprocal1");
}
} else this.stopTimer();
};
t.prototype.stopTimer = function() {
this.node.active = !1;
this.unschedule(this.updateTimer);
};
return a([ c ], t);
}(cc.Component));
o.default = l;
cc._RF.pop();
}, {
"../../EXUIFrame/EXSoundMgr": "EXSoundMgr"
} ],
GameTips: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e698a4uUfVF6peVpGMsxNK/", "GameTips");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._content = null;
t._bg = null;
return t;
}
t.prototype.onLoad = function() {};
t.prototype.initTips = function(e, t, o, i) {
var n = !1;
null != i && (n = i);
var a = new cc.Vec2(0, 0);
null != o && (a = o);
this.node.setPosition(a);
this.setDataView(e, t, n);
};
t.prototype.setDataView = function(e, t, o) {
var i = this;
this._content = this.node.getChildByName("labelContent");
this._bg = this.node.getChildByName("alertBg");
this._content.getComponent(cc.Label).string = e;
this._content.getComponent(cc.Label)._forceUpdateRenderData(!0);
var n = new cc.Color(248, 242, 94);
this._content.color = t || n;
var a = this._content.width + 84, r = this._content.height + 70;
a < 534.8 && 0 == o && (a = 534.8);
r < 79.8 && (r = 79.8);
this._bg.width = a;
this._bg.height = r;
this.scheduleOnce(function() {
i.node.destroy();
}, 4);
};
return a([ s ], t);
}(cc.Component));
o.default = c;
cc._RF.pop();
}, {} ],
GameUpdateDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1ec4dw1XiZCyJS4HTkEqwQK", "GameUpdateDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../data/GameLangData"), s = e("../../public/MyComponent/WindowBase"), c = e("../../manager/PlatformInterface"), l = e("../../natives/AndroidInfo"), d = e("../../public/MyComponent/GameHppayUtil"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.root = null;
t.progress = null;
t.percent = null;
t.progressDesc = null;
t.downloader = null;
t.totalFileSize = 0;
return t;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
this.root = this.node.getChildByName("dlgBg");
this.root.getChildByName("okBtn").on("click", this._onOK, this);
this.root.getChildByName("cancelBtn").on("click", this._onCancel, this);
this.root.getChildByName("okBtn").getChildByName("Label").getComponent(cc.Label).string = r.default.ins.GET_LOGIN_LANG("updateNow");
this.root.getChildByName("cancelBtn").getChildByName("Label").getComponent(cc.Label).string = r.default.ins.GET_LOGIN_LANG("updateLater");
this.root.getChildByName("labelTitle").getComponent(cc.Label).string = r.default.ins.STRING_COMMON("tips");
this.progressDesc = this.root.getChildByName("loading_desc").getComponent(cc.Label);
this.progressDesc.string = r.default.ins.GET_LOADING_LANG("updateGame");
this.progress = this.root.getChildByName("progressBar").getComponent(cc.ProgressBar);
this.progress.progress = 0;
this.percent = this.root.getChildByName("percent_desc").getComponent(cc.Label);
this.percent.string = "0%";
this.progress.node.active = !1;
this.progressDesc.node.active = !1;
this.percent.node.active = !1;
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.setDataView();
};
t.prototype.setDataView = function() {
var e = this._data.title || r.default.ins.STRING_COMMON("tips"), t = this._data.content || "", o = this.root.getChildByName("scrollViewContent").getChildByName("view").getChildByName("content").getChildByName("labelContent").getComponent(cc.RichText);
o.string = t;
var i = this.root.getChildByName("contentHelp");
console.log("updateRichContent", t);
console.log("updateContent", o);
i.getComponent(cc.Label).string = o.string;
i.getComponent(cc.Label)._forceUpdateRenderData(!0);
var n = i.height;
this.root.getChildByName("scrollViewContent").getChildByName("view").getChildByName("content").height = n;
this.root.getChildByName("labelTitle").getComponent(cc.Label).string = e;
console.log("contentHeight = ", n);
n > 252 ? this.root.getChildByName("scrollViewContent").getComponent(cc.ScrollView).scrollTo(cc.v2(0, n)) : this.root.getChildByName("scrollViewContent").y = 20 - (252 - n) / 2;
var a = this._data.force;
if (1 == a) {
this.root.getChildByName("okBtn").active = !0;
this.root.getChildByName("cancelBtn").active = !1;
this.root.getChildByName("okBtn").x = 0;
} else if (0 == a) {
this.root.getChildByName("okBtn").active = !0;
this.root.getChildByName("cancelBtn").active = !0;
this.root.getChildByName("okBtn").x = 128;
this.root.getChildByName("cancelBtn").x = -128;
}
};
t.prototype._onOK = function() {
var e = this._data.updateTypes, t = this._data.updateUrl;
console.log("appupdate updateTypes", e);
console.log("appupdate updateUrl", t);
if (0 == e) {
var o = this._data.packageName || "none", i = this._data.downloadPage;
console.log("appupdate packageName", o);
console.log("appupdate downloadPage", i);
c.default.openStore(t, o, i);
} else if (1 == e) c.default.openBrowser(t); else if (2 == e) {
this.root.getChildByName("okBtn").active = !1;
this.root.getChildByName("cancelBtn").active = !1;
this.progress.node.active = !0;
this.progressDesc.node.active = !0;
this.percent.node.active = !0;
var n = this._data.fileName;
console.log("appupdate fileName", n);
this.startDownLoadAPK(t, n);
} else console.log("error update type ", e);
};
t.prototype._onCancel = function() {
this._callback = this._data.callback;
this._callback && this._callback();
this.onClose();
};
t.prototype.startDownLoadAPK = function(e, t) {
if (!cc.sys.isBrowser) {
var o = this, i = jsb.fileUtils.getWritablePath() + "temp" + t + ".apk";
console.log("on apk downloading filePath ", i);
if (d.default.isLocalFileExist(i)) {
o.percent.string = "100%";
var n = this._data.force;
if (1 == n) {
this.root.getChildByName("okBtn").active = !0;
this.root.getChildByName("cancelBtn").active = !1;
} else if (0 == n) {
this.root.getChildByName("okBtn").active = !0;
this.root.getChildByName("cancelBtn").active = !0;
}
this.progress.node.active = !1;
this.progressDesc.node.active = !1;
this.percent.node.active = !1;
l.default.inst.installApp(i);
} else {
this.downloader = new jsb.Downloader();
this.downloader.setOnTaskError(function(i, n, a, r) {
console.log("on apk downloading fail error code ", n);
console.log("on apk downloading error msg ", r);
this.downloader = null;
o.startDownLoadAPK(e, t);
}.bind(this));
this.downloader.setOnTaskProgress(function(e, t, i, n) {
o.totalFileSize < n && (o.totalFileSize = n);
var a = (100 * i / o.totalFileSize).toFixed(2) + "%";
o.percent.string = a;
o.progress.progress = i / o.totalFileSize;
}.bind(this));
this.downloader.setOnFileTaskSuccess(function(e) {
o.percent.string = "100%";
console.log("download apk success, storagePath = ", e.storagePath);
var t = e.storagePath, i = this._data.force;
if (1 == i) {
this.root.getChildByName("okBtn").active = !0;
this.root.getChildByName("cancelBtn").active = !1;
} else if (0 == i) {
this.root.getChildByName("okBtn").active = !0;
this.root.getChildByName("cancelBtn").active = !0;
}
this.progress.node.active = !1;
this.progressDesc.node.active = !1;
this.percent.node.active = !1;
l.default.inst.installApp(t);
}.bind(this));
this.downloader.createDownloadFileTask(e, i, "downloadApk");
}
}
};
return a([ u ], t);
}(s.default));
o.default = p;
cc._RF.pop();
}, {
"../../data/GameLangData": "GameLangData",
"../../manager/PlatformInterface": "PlatformInterface",
"../../natives/AndroidInfo": "AndroidInfo",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/WindowBase": "WindowBase"
} ],
GameUpdatePasswordDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c801c7gOI5IMYD394MDRRMh", "GameUpdatePasswordDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../data/conf/GameInfo"), c = e("../../../data/GameLangData"), l = e("../../../public/ThirdParty/GameSysDefine"), d = e("../../../manager/GameSoundMgr"), h = e("../../../public/MyComponent/GameHppayUtil"), u = e("../../executor/setgame/GameUpdatePasswordEx"), p = e("../../../communication/GameLoginHttp"), f = cc._decorator, m = f.ccclass, g = (f.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.formType = l.FormType.PopUp;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new u.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
var e = this;
h.default.seekNodeChild(this.node, "closeBtn").on("click", this.onClose, this);
this._dialog = this.node.getChildByName("dialog");
this.register("UpdatePasswordDialog", [ "ON_UPDATE_PASSWORD_SUCCESS" ]);
this._nextBtn = this._dialog.getChildByName("nextBtn");
this._editBoxPhoneNumber = this._dialog.getChildByName("inputPhontNumber").getComponent(cc.EditBox);
this._editBoxPassword = this._dialog.getChildByName("inputPassword").getComponent(cc.EditBox);
this._editBoxVCode = this._dialog.getChildByName("inputVerifyCode").getComponent(cc.EditBox);
[ this._nextBtn ].forEach(function(t) {
t.on("click", e.onBtn, e);
});
this._dialog.getChildByName("titleLabel").getComponent(cc.Label).string = c.default.ins.GET_LOGIN_LANG("updatePassword");
h.default.labelShadow(this._dialog.getChildByName("titleLabel").getComponent(cc.Label));
this._nextBtn.getChildByName("label").getComponent(cc.Label).string = c.default.ins.GET_HALL_LANG("confirm");
this._editBoxPhoneNumber.placeholder = c.default.ins.GET_LOGIN_LANG("entereOldPassword");
this._editBoxPassword.placeholder = c.default.ins.GET_LOGIN_LANG("entereNewPassword");
this._editBoxVCode.placeholder = c.default.ins.GET_LOGIN_LANG("enterRepeat");
this._nextBtn.getComponent(cc.Button).interactable = !1;
this._editBoxPhoneNumber.node.on("editing-did-ended", this.onEditingDidEnded, this);
this._editBoxPassword.node.on("editing-did-ended", this._onInputEnded, this);
this._editBoxVCode.node.on("editing-did-ended", this.onEditingVCodeDidEnded, this);
};
t.prototype.onEditingVCodeDidEnded = function() {
this.exView.onEditingVCodeDidEndedEx();
};
t.prototype.onEditingDidEnded = function() {
this.exView.onEditingDidEndedEx();
};
t.prototype._onInputEnded = function() {
this.exView.onInputEndedEx();
};
t.prototype.handleAppEvent = function(e) {
e.arg;
switch (e.key) {
case "ON_UPDATE_PASSWORD_SUCCESS":
this.updatePw();
}
};
t.prototype.updatePw = function() {
h.default.alert(c.default.ins.GET_LOGIN_LANG("setPasswordSuccess"));
this.closeDialog();
};
t.prototype.onBtn = function(e) {
d.default.inst.playGameEffect(d.AudioRes.click);
switch (e.node.name) {
case "closeBtn":
this.onClose();
break;

case "nextBtn":
this._onNext();
}
};
t.prototype.onShow = function() {
this.canDestory = !0;
};
t.prototype.start = function() {};
t.prototype._onNext = function() {
var e = this._editBoxPhoneNumber.string, t = this._editBoxPassword.string, o = this._editBoxVCode.string;
p.default.getInstance().updatePassword(s.default.ereaCode, e, t, o);
};
return a([ m ], t);
}(r.default));
o.default = g;
cc._RF.pop();
}, {
"../../../communication/GameLoginHttp": "GameLoginHttp",
"../../../data/GameLangData": "GameLangData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../../public/ThirdParty/GameSysDefine": "GameSysDefine",
"../../executor/setgame/GameUpdatePasswordEx": "GameUpdatePasswordEx"
} ],
GameUpdatePasswordEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9f129FekadO544z9G4hVnP8", "GameUpdatePasswordEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/ViewExecutorBase"), s = cc._decorator, c = s.ccclass, l = (s.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.onEditingVCodeDidEndedEx = function() {
6 == this.node._editBoxVCode.string.length ? this.node._editBoxVCode.textLabel.node.color = new cc.Color(248, 248, 248, 255) : this.node._editBoxVCode.textLabel.node.color = new cc.Color(200, 40, 20, 255);
"" != this.node._editBoxVCode.string && 6 == this.node._editBoxVCode.string.length && "" != this.node._editBoxPassword.string && 6 == this.node._editBoxPassword.string.length && "" != this.node._editBoxPhoneNumber.string && 6 == this.node._editBoxPhoneNumber.string.length ? this.node._nextBtn.getComponent(cc.Button).interactable = !0 : this.node._nextBtn.getComponent(cc.Button).interactable = !1;
};
t.prototype.onEditingDidEndedEx = function() {
6 == this.node._editBoxPhoneNumber.string.length ? this.node._editBoxPhoneNumber.textLabel.node.color = new cc.Color(248, 248, 248, 255) : this.node._editBoxPhoneNumber.textLabel.node.color = new cc.Color(200, 40, 20, 255);
"" != this.node._editBoxVCode.string && 6 == this.node._editBoxVCode.string.length && "" != this.node._editBoxPassword.string && 6 == this.node._editBoxPassword.string.length && "" != this.node._editBoxPhoneNumber.string && 6 == this.node._editBoxPhoneNumber.string.length ? this.node._nextBtn.getComponent(cc.Button).interactable = !0 : this.node._nextBtn.getComponent(cc.Button).interactable = !1;
};
t.prototype.onInputEndedEx = function() {
6 == this.node._editBoxPassword.string.length ? this.node._editBoxPassword.textLabel.node.color = new cc.Color(248, 248, 248, 255) : this.node._editBoxPassword.textLabel.node.color = new cc.Color(200, 40, 20, 255);
"" != this.node._editBoxVCode.string && 6 == this.node._editBoxVCode.string.length && "" != this.node._editBoxPassword.string && 6 == this.node._editBoxPassword.string.length && "" != this.node._editBoxPhoneNumber.string && 6 == this.node._editBoxPhoneNumber.string.length ? this.node._nextBtn.getComponent(cc.Button).interactable = !0 : this.node._nextBtn.getComponent(cc.Button).interactable = !1;
};
return a([ c ], t);
}(r.default));
o.default = l;
cc._RF.pop();
}, {
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
GameUtil: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "bb0c8SjRX9O7IqvHoW2b7td", "GameUtil");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.SCREEN_ORIENTATION = void 0;
var c, l = e("../Conf/Const"), d = e("../Conf/Game"), h = e("../Data/GameData"), u = e("../Data/LanguageData"), p = e("../Data/RoomData"), f = e("../Manager/DialogManager"), m = e("../UIFrame/CocosHelper"), g = e("./ResMgr"), y = e("../Http/exccmd5"), _ = e("../Data/CountryData"), C = e("../Conf/Config"), b = e("../UIFrame/ColorAssembler2D"), v = e("../UIFrame/ShaderOffset"), S = e("../Conf/ScreenAdapter"), I = e("../Manager/ADManager"), B = e("../Socket/WebSocketManager"), w = e("../UIFrame/SoundMgr");
(function(e) {
e[e.ORIENTATION_LANDSCAPE = 0] = "ORIENTATION_LANDSCAPE";
e[e.ORIENTATION_PORTRAIT = 1] = "ORIENTATION_PORTRAIT";
})(c = o.SCREEN_ORIENTATION || (o.SCREEN_ORIENTATION = {}));
var N = cc._decorator, L = N.ccclass, T = (N.property, function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
o = t;
t.loadSpriteFrameSync = function(e) {
return r(this, void 0, void 0, function() {
return s(this, function() {
return [ 2, new Promise(function(t) {
cc.resources.load(e, cc.Texture2D, function(e, o) {
t(new cc.SpriteFrame(o));
});
}) ];
});
});
};
t.setNodeSpriteFrame = function(e, t) {
return r(this, void 0, void 0, function() {
var o;
return s(this, function(i) {
switch (i.label) {
case 0:
if (!e || !e.getComponent(cc.Sprite)) return [ 2 ];
if (this.frameCahces[t]) {
e.getComponent(cc.Sprite).spriteFrame = this.frameCahces[t];
return [ 2 ];
}
o = null;
return "string" != typeof t ? [ 3, 2 ] : [ 4, this.loadSpriteFrameSync(t) ];

case 1:
o = i.sent();
return [ 3, 3 ];

case 2:
o = t;
i.label = 3;

case 3:
this.frameCahces[t] = o;
e.getComponent(cc.Sprite).spriteFrame = o;
return [ 2, o ];
}
});
});
};
t.loadSpriteFrame = function(e, t, o) {
var i = this;
if (this.isnull(e)) if (o) {
if (this.frameCahces[o + "/" + t]) {
e.getComponent(cc.Sprite).spriteFrame = this.frameCahces[o + "/" + t];
return;
}
cc.loader.loadRes(o, cc.SpriteAtlas, function(n, a) {
var r = a.getSpriteFrame(t);
i.frameCahces[o + "/" + t] = r;
i.isnull(e) && (e.getComponent(cc.Sprite).spriteFrame = r);
});
} else {
if (this.frameCahces[t]) {
e.getComponent(cc.Sprite).spriteFrame = this.frameCahces[t];
return;
}
cc.resources.load(t, cc.Texture2D, function(o, n) {
var a = new cc.SpriteFrame(n);
i.frameCahces[t] = a;
i.isnull(e) && (e.getComponent(cc.Sprite).spriteFrame = a);
});
}
};
t.loadBundleFrame = function(e, t, o, i) {
var n = this, a = cc.assetManager.getBundle(t);
a && (i ? a.load(i, cc.SpriteAtlas, function(t, i) {
var a = i.getSpriteFrame(o);
n.isnull(e) && (e.getComponent(cc.Sprite).spriteFrame = a);
}) : a.load("resources/" + o, cc.Texture2D, function(t, o) {
if (n.isnull(e)) {
var i = new cc.SpriteFrame(o);
e.getComponent(cc.Sprite).spriteFrame = i;
}
}));
};
t.loadButtonFrame = function(e, t, o) {
var i = this;
if (e && e.getComponent(cc.Sprite)) if (o) {
if (this.frameCahces[o + "/" + t]) {
e.getComponent(cc.Button).normalSprite = this.frameCahces[o + "/" + t];
e.getComponent(cc.Button).disabledSprite = this.frameCahces[o + "/" + t];
return;
}
cc.loader.loadRes(o, cc.SpriteAtlas, function(n, a) {
var r = a.getSpriteFrame(t);
i.frameCahces[o + "/" + t] = r;
if (i.isnull(e)) {
e.getComponent(cc.Button).normalSprite = r;
e.getComponent(cc.Button).disabledSprite = r;
}
});
} else {
if (this.frameCahces[t]) {
e.getComponent(cc.Button).normalSprite = this.frameCahces[t];
e.getComponent(cc.Button).disabledSprite = this.frameCahces[t];
return;
}
cc.resources.load(t, cc.Texture2D, function(o, n) {
var a = new cc.SpriteFrame(n);
i.frameCahces[t] = a;
if (i.isnull(e)) {
e.getComponent(cc.Button).normalSprite = a;
e.getComponent(cc.Button).disabledSprite = a;
}
});
}
};
t.addSpriteFrame = function(e, t, o) {
var i = this;
if (t) {
if (this.frameCahces[t + "/" + e] && null == o) return this.frameCahces[t + "/" + e];
cc.loader.loadRes(t, cc.SpriteAtlas, function(n, a) {
var r = a.getSpriteFrame(e);
i.frameCahces[t + "/" + e] = r;
o && o(i.frameCahces[t + "/" + e]);
return r;
});
} else {
if (this.frameCahces[e] && null == o) return this.frameCahces[e];
cc.resources.load(e, cc.Texture2D, function(t, n) {
var a = new cc.SpriteFrame(n);
i.frameCahces[e] = a;
o && o(i.frameCahces[e]);
return a;
});
}
};
t.seekChild = function(e, t) {
if (e) {
if (e._name == t) return e;
for (var o = e._children, i = 0; i < o.length; i++) {
var n = o[i], a = this.seekChild(n, t);
if (a) return a;
}
}
};
t.addTouchEvent = function(e, t, o) {
e.on(cc.Node.EventType.TOUCH_START, function(e) {
t(e, o);
return !0;
});
e.on(cc.Node.EventType.TOUCH_MOVE, function(e) {
t(e, o);
});
e.on(cc.Node.EventType.TOUCH_END, function(e) {
t(e, o);
});
e.on(cc.Node.EventType.TOUCH_CANCEL, function(e) {
t(e, o);
});
};
t.getShortWin = function(e) {
e.toString(2);
};
t.getWinData = function(e) {
var t = Array.from(e), o = {};
1 == (t = t.reverse())[15] && (o.result = 1);
1 == t[14] && (o.result = 2);
1 == t[13] && (o.playerPair = !0);
1 == t[12] && (o.result = 3);
1 == t[10] && (o.bankerPair = !0);
if (1 == t[9]) {
o.lucky = !0;
o.tager = "tiger2";
o.tiger = !0;
}
if (1 == t[7]) {
o.lucky = !0;
o.tager = "tiger1";
o.tiger = !0;
}
1 != t[4] && 1 != t[5] && 1 != t[10] && 1 != t[13] || (o.tigerPair = !0);
1 == t[3] && (o.tigerDraw = !0);
return o;
};
t.getDTWinData = function(e) {
var t = Array.from(e), o = {};
1 == (t = t.reverse())[15] ? o.result = 1 : 1 == t[14] ? o.result = 2 : 1 == t[13] && (o.result = 3);
1 == t[12] && (o.flush = !0);
return o;
};
t.getDiceWinData = function(e) {
var t = Array.from(e), o = t.length;
if (t.length < 32) for (var i = 0; i < 32 - o; i++) t.splice(0, 0, "0");
return t;
};
t.getIntDiceWinData = function(e) {
var t = Array.from(e), o = t.length;
if (t.length < 64) for (var i = 0; i < 64 - o; i++) t.splice(0, 0, "0");
return t;
};
t.saveData = function(e, t) {
cc.sys.localStorage.setItem(e, t);
};
t.saceJsonData = function(e, t) {
cc.sys.localStorage.setItem(e, JSON.stringify(t));
};
t.saveFriendMsgData = function(e, t) {
var o = h.default.UserData.userId + "friendMsg" + e;
this.saceJsonData(o, t);
};
t.readData = function(e) {
return cc.sys.localStorage.getItem(e);
};
t.readFriendMsgData = function(e) {
var t = h.default.UserData.userId + "friendMsg" + e;
return this.readData(t);
};
t.formatMoneyShorter = function(e) {
if (e < 1e4) return e;
var t = 1e3, o = "";
if (e >= 1e9) {
t = 1e9;
o = "B";
} else if (e >= 1e6) {
t = 1e6;
o = "M";
} else if (e >= 1e3) {
t = 1e3;
o = "K";
}
var i = e / t;
return i - Math.floor(i) < 1e-4 ? i.toFixed() + "" + o : i < 10 ? i.toFixed(2) + "" + o : i < 1e3 ? i.toFixed(1) + "" + o : i.toFixed(0) + "" + o;
};
t.cul = function(e, t) {
return 1 == t ? e && e.toString().replace(/^\d+/g, function(e) {
return e.replace(/(?=(?!^)(\d{3})+$)/g, " ");
}) : e && e.toString().replace(/^\d+/g, function(e) {
return e.replace(/(?=(?!^)(\d{3})+$)/g, ",");
});
};
t.enterRoom = function(e, t, o, i) {
e == l.gameType.baccarat ? B.default.getInstance().socketSend.enterBaccaratRoom(e, t, o, i) : e == l.gameType.baccaratHnd ? B.default.getInstance().socketSend.bacHndEnterRoom(e.baccaratHnd, t, o, i) : e == l.gameType.blackjack && B.default.getInstance().socketSend.bjEnterRoom(e, t, o, i);
};
t.formatNumberWithZeroHead = function(e, t) {
var o = e + "", i = o.length;
if (i > t) return o;
for (var n = "", a = 0; a < t - i; a++) n += "0";
return n + o;
};
t.rebackCul = function(e) {
for (;e.match(","); ) e = e.replace(",", "");
return Number(e);
};
t.getLevel = function(e) {
for (var t = {}, o = 0; o < d.default.levelList.length; o++) if (e >= d.default.levelList[o]) {
t.nextLevel = o + 1;
t.nowLevel = o;
}
t.upLevelExp = d.default.levelList[t.nowLevel];
t.nowNeedExp = d.default.levelList[t.nextLevel] - t.upLevelExp;
t.nowExp = e - t.upLevelExp;
t.progress = t.nowExp / t.nowNeedExp;
return t;
};
t.getVipLevel = function(e) {
for (var t = {}, o = 0; o < d.default.vipLevelList.length; o++) if (e >= d.default.vipLevelList[o]) {
t.nextLevel = o + 1;
t.nowLevel = o;
}
t.nextLevel > 10 && (t.nextLevel = 10);
t.nowLevel > 10 && (t.nowLevel = 10);
t.upLevelExp = d.default.vipLevelList[t.nowLevel];
t.nowNeedExp = d.default.vipLevelList[t.nextLevel] - t.upLevelExp;
t.nowExp = e - t.upLevelExp;
t.progress = t.nowExp / t.nowNeedExp;
return t;
};
t.isnull = function(e) {
return cc.isValid(e);
};
t.stopAll = function(e, t) {
if (this.isnull(e)) {
e.stopAllActions();
if (t) {
var o = e.getComponent(t);
o && o.unscheduleAllCallbacks();
}
}
};
t.copyData = function(e) {
return JSON.parse(JSON.stringify(e));
};
t.alert = function(e, t, o, i) {
return r(this, void 0, void 0, function() {
return s(this, function() {
f.default.inst.showTips(e, t, o, i);
return [ 2 ];
});
});
};
t.moneyInsufficient = function(e, t) {
return (e == l.goldType.free ? h.default.UserData.coin : h.default.UserData.chip) >= t;
};
t.getNowMoney = function(e) {
return e == l.goldType.free ? h.default.UserData.coin : h.default.UserData.chip;
};
t.setNowMoney = function(e, t) {
t == l.goldType.free ? h.default.UserData.coin = e : h.default.UserData.chip = e;
};
t.getLabelWidth = function(e, t) {
var o = new cc.Node();
o.addComponent(cc.Label);
var i = o.getComponent(cc.Label);
i.fontSize = t;
i.string = e;
i._forceUpdateRenderData(!0);
return o.width;
};
t.refreshNowLabelSize = function(e) {
var t = e.getComponent(cc.Label);
o.isnull(t) && t._forceUpdateRenderData(!0);
};
t.setScale9 = function(e, t) {
if (o.isnull(e)) {
e.getComponent(cc.Sprite).type = cc.Sprite.Type.SLICED;
e.getComponent(cc.Sprite).spriteFrame.insetLeft = t[0];
e.getComponent(cc.Sprite).spriteFrame.insetTop = t[1];
e.getComponent(cc.Sprite).spriteFrame.insetRight = t[2];
e.getComponent(cc.Sprite).spriteFrame.insetBottom = t[3];
}
};
t.getSelfBetInfo = function() {
var e = 0, t = [ -1, -1, -1, -1, -1, -1, -1, -1 ];
p.default.getInstance().myBetRegion.forEach(function(o, i) {
e += o;
o > 0 && (t[i] = o);
});
return {
num: e,
list: t
};
};
t.labelChange = function(e, t, i, n, a, r, s) {
var c = this;
if (o.isnull(e)) {
e.stopAllActions();
var l = {
a: parseInt(e.getComponent(cc.Label).string.replace(/\s*/g, ""))
}, d = .5;
n && (d = n);
var h = "quintOut";
a && "boolean" == typeof a ? h = "" : a && "string" == typeof a && (h = a);
var u = cc.tween(l).to(d, {
a: t
}, {
easing: h,
progress: function(t, i, n, a) {
var l = t + (i - t) * a;
l = r ? Math.round(l) : l.toFixed(2);
if (c.isnull(e)) {
e.getComponent(cc.Label).string = s ? l : o.cul(l, 1);
return l;
}
u.stop();
}
}).call(function() {
i && i();
c.isnull(e) ? e.getComponent(cc.Label).string = r ? s ? t : o.cul(t, 1) : s ? t.toFixed(2) : o.cul(t.toFixed(2), 1) : u.stop();
}).start();
return u;
}
};
t.isPassword = function(e) {
return 6 == e.length;
};
t.isUserName = function(e) {
return new RegExp("^[-_a-zA-Z0-9]+$").test(e);
};
t.isPhoneNumber = function() {
return !0;
};
t.isUid = function(e) {
return new RegExp("^[0-9]{6,10}$").test(e);
};
t.isVCode = function(e) {
return new RegExp("^[0-9]{6,6}$").test(e);
};
t.formatNumber = function(e) {
return e.replace("+", "").replace("-", "").replace(".", "").trim();
};
t.getLastLoginTimeDesc = function(e) {
var t = new Date().getTime(), o = Math.floor(t / 1e3), i = (o - e) / 86400, n = (o - e) / 3600, a = (o - e) / 60;
return a < 60 ? Math.floor(a) + u.default.ins.STRING_COMMON("minute") + u.default.ins.STRING_DIALOG("recentLoginDesc") : i < 1 ? Math.floor(n) + u.default.ins.STRING_COMMON("hour") + u.default.ins.STRING_DIALOG("recentLoginDesc") : Math.floor(i) + u.default.ins.STRING_COMMON("day") + u.default.ins.STRING_DIALOG("recentLoginDesc");
};
t.getDate = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return t.getMonth() + 1 + "-" + t.getDate() + "-" + t.getFullYear();
};
t.setHeadPhoto = function(e, t) {
var i = Number(t);
if (!(i > 23)) {
i += 1;
o.loadSpriteFrame(e, i + "", "head_photos/photos");
}
};
t.formatDate = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return t.getFullYear() + "-" + this.formatSingleTime(t.getMonth() + 1) + "-" + this.formatSingleTime(t.getDate()) + " " + this.formatSingleTime(t.getHours()) + ":" + this.formatSingleTime(t.getMinutes());
};
t.formatDate1 = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return t.getHours() + ":" + t.getMinutes() + ":" + t.getSeconds() + "  " + (t.getMonth() + 1) + "-" + t.getDate();
};
t.formatDate2 = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return t.getFullYear() + "-" + this.formatSingleTime(t.getMonth() + 1) + "-" + this.formatSingleTime(t.getDate());
};
t.formatDate3 = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return this.formatSingleTime(t.getHours()) + ":" + this.formatSingleTime(t.getMinutes()) + ":" + this.formatSingleTime(t.getSeconds());
};
t.formatDate4 = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return this.formatSingleTime(t.getMonth() + 1) + "-" + this.formatSingleTime(t.getDate()) + " " + this.formatSingleTime(t.getHours()) + ":" + this.formatSingleTime(t.getMinutes());
};
t.formatDate5 = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return this.formatSingleTime(t.getHours()) + ":" + this.formatSingleTime(t.getMinutes()) + " " + this.formatSingleTime(t.getMonth() + 1) + "-" + this.formatSingleTime(t.getDate());
};
t.formatTime = function(e, t) {
var o = Math.floor(e / 3600), i = Math.floor(e / 60);
return 3 == t ? e < 60 ? "00:00:" + this.formatSingleTime(e) : i < 60 ? "00:" + this.formatSingleTime(i) + ":" + this.formatSingleTime(e % 60) : this.formatSingleTime(o) + ":" + this.formatSingleTime(i % 60) + ":" + this.formatSingleTime(e % 60) : 2 == t ? e < 60 ? "00:" + this.formatSingleTime(e) : this.formatSingleTime(i) + ":" + this.formatSingleTime(e % 60) : 1 == t ? this.formatSingleTime(e) : void 0;
};
t.formatBankAccount = function(e) {
return e;
};
t.formatSingleTime = function(e) {
var t = "00";
e > 9 ? t = e + "" : e >= 0 && (t = "0" + e);
return t;
};
t.formatNumberToStr = function(e, t) {
var o = e + "";
if (t && t - o.length > 0) for (var i = t - o.length, n = 0; n < i; n++) o = "0" + o;
return o;
};
t.formatStrToNumber = function(e) {
return Number(e);
};
t.pushArray = function(e, t) {
for (var o = 0; o < t.length; o++) {
var i = t[o];
e.push(i);
}
return e;
};
t.getCardPoint = function(e) {
var t = e % 16;
14 == t ? t = 1 : t >= 10 && (t = 0);
return t;
};
t.playerHead = function(e, t, i, n, a) {
return r(this, void 0, void 0, function() {
var r, c, l, d, h, u, p;
return s(this, function() {
a || this.loadSpriteFrame(e.node, "room/seat/defaultHead");
r = t >> 16;
c = t % 100;
l = t % 32;
d = t % 10;
h = y.md5(t + ".s") + ".jpeg";
i && (h = y.md5(t + ".b") + ".jpeg");
u = "" + C.default.awatarUrl + r + "/" + c + "/" + l + "/" + d + "/" + h;
if (n) {
cc.assetManager.cacheManager.removeCache(u);
cc.loader.release(u);
}
if (1 == o.isFileExist(u) && !a) {
cc.loader.load(u, function(t, o) {
if (t) console.log("download err ", t); else {
console.log("download success ");
var i = new cc.SpriteFrame(o);
e.spriteFrame = i;
}
}.bind(this));
return [ 2 ];
}
if (!a) {
p = t % 14 + 1;
this.loadSpriteFrame(e.node, "public/playerHead/head" + p);
}
g.default.getInstance().loadRemote(e, u).then(function(t) {
if (null != t) {
var i = new cc.SpriteFrame(t);
o.isnull(e) && (e.spriteFrame = i);
}
});
return [ 2 ];
});
});
};
t.clearHeadCache = function(e, t) {
var o = e >> 16, i = e % 100, n = e % 32, a = e % 10, r = y.md5(e + ".s") + ".jpeg";
t && (r = y.md5(e + ".b") + ".jpeg");
var s = "" + C.default.awatarUrl + o + "/" + i + "/" + n + "/" + a + "/" + r;
cc.assetManager.cacheManager.removeCache(s);
cc.loader.release(s);
};
t.setCountry = function(e, t) {
return r(this, void 0, void 0, function() {
var o, i = this;
return s(this, function() {
if ("error" != (o = _.default.getInstance().toAreaCodeGetCountry(t))) {
if (this.frameCahces["public/country/" + o.area_code.toLowerCase()]) {
e.getComponent(cc.Sprite).spriteFrame = this.frameCahces["public/country/" + o.area_code.toLowerCase()];
e.getComponent(v.default) ? e.getComponent(v.default).changeFrame() : e.addComponent(v.default);
return [ 2 ];
}
cc.loader.loadRes("public/country", cc.SpriteAtlas, function(t, n) {
var a = n.getSpriteFrame(o.area_code.toLowerCase());
i.frameCahces["public/country/" + o.area_code.toLowerCase()] = a;
if (i.isnull(e)) {
e.getComponent(cc.Sprite).spriteFrame = a;
e.getComponent(v.default) ? e.getComponent(v.default).changeFrame() : e.addComponent(v.default);
}
});
} else {
this.loadSpriteFrame(e, "tw", "public/country");
e.getComponent(v.default) ? e.getComponent(v.default).changeFrame() : e.addComponent(v.default);
}
e.getComponent(v.default) || e.addComponent(v.default);
return [ 2 ];
});
});
};
t.setVipExp = function(e, t) {
return r(this, void 0, void 0, function() {
var i;
return s(this, function() {
i = o.getVipLevel(t);
e.active = !1;
if (i.nowLevel > 0) {
e.active = !0;
o.loadSpriteFrame(e, "vip" + i.nowLevel, "dialog/mallDlg");
}
return [ 2 ];
});
});
};
t.setVipNameColor = function(e, t, o) {
if (t > 0) {
e.getComponent(b.default) || e.addComponent(b.default);
e.color = new cc.Color(255, 255, 255);
e.getComponent(b.default).colors = d.default.vipNameColor;
} else if (e.getComponent(b.default)) {
e.color = new cc.Color(255, 255, 255);
e.getComponent(b.default).colors = [ o, o, o, o ];
} else e.color = new cc.Color(o);
};
t.setGiftIcon = function(e, t) {
var i = C.ConfigDefault.resourceUrl + "gifts/" + t + ".png";
g.default.getInstance().loadRemote(e, i).then(function(t) {
if (null == t) ; else {
var i = new cc.SpriteFrame(t);
o.isnull(e) && (e.spriteFrame = i);
}
});
};
t.binaryToBase64 = function(e) {
for (var t, o = "", i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", n = e.byteLength, a = n % 3, r = n - a, s = 0; s < r; s += 3) o += i[(16515072 & (t = e[s] << 16 | e[s + 1] << 8 | e[s + 2])) >> 18] + i[(258048 & t) >> 12] + i[(4032 & t) >> 6] + i[63 & t];
1 == a ? o += i[(252 & (t = e[r])) >> 2] + i[(3 & t) << 4] + "==" : 2 == a && (o += i[(16128 & (t = e[r] << 8 | e[r + 1])) >> 8] + i[(1008 & t) >> 4] + i[(15 & t) << 2] + "=");
return o;
};
t.isChina = function() {
return "tw" == u.default.ins.getCountryLanguage() || "cn" == u.default.ins.getCountryLanguage();
};
t.resetScenePosition = function() {
cc.director.getScene().y = cc.winSize.height / 2;
};
t.checkIfMoveUpScene = function() {
cc.director.getScene().y = cc.winSize.height / 2 + 700;
};
t.getArr2Max = function(e) {
var t = e.join(",").split(",");
return Math.max.apply(null, t);
};
t.isADValid = function() {
var e = new Date().getTime(), t = o.readData("ADRewardTime") || e - 1e3 * I.default.inst.adNextRewardIntervalTime, i = 1e3 * I.default.inst.adNextRewardIntervalTime - (e - t);
i < 0 && (i = 0);
return i <= 0;
};
t.awardAnimation = function() {
var e = this, t = cc.find("tipsLayer"), i = "spine/award/chip/coin";
if (o.isnull(t)) {
var n = t.getChildByName("awardNode1"), a = t.getChildByName("awardNode2");
if (!o.isnull(n)) {
(n = new cc.Node()).addComponent(sp.Skeleton);
n.name = "awardNode1";
n.getComponent(sp.Skeleton).timeScale = 1.4;
t.addChild(n);
(a = cc.instantiate(n)).name = "awardNode2";
t.addChild(a);
a.scaleX = -1;
if (S.default.getInstance().screenType == S.screenTypeEnum.isIpad) {
n.y = n.y - 228;
a.y = a.y - 228;
} else if ("baccaratRoom" == cc.director.getScene().name) {
n.x = 275;
a.x = 275;
} else if ("baccaratHndRoom" == cc.director.getScene().name) {
n.x = 275;
a.x = 275;
}
}
n.active = !0;
a.active = !0;
var r = function(t) {
e.spineAniCahces[i] || (e.spineAniCahces[i] = t);
n.getComponent(sp.Skeleton).skeletonData = t;
n.getComponent(sp.Skeleton).clearTrack(0);
n.getComponent(sp.Skeleton).setAnimation(0, "animation", !1);
a.opacity = 0;
a.getComponent(sp.Skeleton).skeletonData = t;
a.getComponent(sp.Skeleton).clearTrack(0);
a.getComponent(sp.Skeleton).setCompleteListener(function() {
n.active = !1;
a.active = !1;
});
m.default.sleepSync(.2).then(function() {
a.opacity = 255;
a.getComponent(sp.Skeleton).setAnimation(0, "animation", !1);
});
};
w.default.inst.playEffect("coin");
this.spineAniCahces[i] ? r(this.spineAniCahces[i]) : m.default.loadResSync(i, sp.SkeletonData).then(r);
}
};
t.isWebMobile = function() {
return !(cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_ANDROID || !cc.sys.isBrowser);
};
t.isWebApp = function() {
return !(-1 != window.document.location.href.toString().search("localhost") || !cc.sys.isBrowser);
};
t.isFileExist = function(e) {
if (cc.sys.isBrowser) return !0;
if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID) {
var t = cc.assetManager.cacheManager.getCache(e);
console.log("localPath = " + t);
return null != t && "" != t;
}
return !0;
};
t.getWebviewScale = function() {
var e = 1, t = cc.view.getCanvasSize().height, o = cc.view.getCanvasSize().width;
o / t > 2.1 ? e = 1 : o / t > 1.6 ? e *= 1.04 : e = 1;
return e;
};
t.loadPrefab = function(e) {
return r(this, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, g.default.getInstance().loadUI(e + d.default.prefabEndTag) ];

case 1:
return [ 2, t.sent() ];
}
});
});
};
t.getWorldPosition = function(e) {
return e.parent.convertToWorldSpaceAR(e.getPosition());
};
t.showLoading = function() {
var e = cc.director.getScene(), t = e.getChildByName("loading");
if (null == t) {
t = new cc.Node();
e.addChild(t);
t.addComponent(sp.Skeleton);
t.name = "loading";
t.zIndex = 999;
m.default.loadResSync("spine/loading_time", sp.SkeletonData).then(function(e) {
t.getComponent(sp.Skeleton).skeletonData = e;
t.getComponent(sp.Skeleton).animation = "animation2";
});
}
t.active = !0;
t.setPosition(cc.winSize.width / 2, cc.winSize.height / 2);
};
t.hideLoading = function() {
var e = cc.director.getScene().getChildByName("loading");
null != e && (e.active = !1);
};
t.showChargeTips = function(e) {
f.default.inst.isDialogShow(f.FullViewIndex.gameActivity) || f.default.inst.isDialogShow(f.FullViewIndex.FeedbackWeb) || (1 == h.default.UserData.firstStrike ? f.default.inst.showDialog(f.DialogIndex.firstChargeDialog) : f.default.inst.showDialog(f.DialogIndex.chipInsufficient, e));
};
t.queryUndoneGooglePay = function() {};
t.quickSort = function(e) {
var t = function(e, o, i) {
void 0 === o && (o = 0);
void 0 === i && (i = e.length - 1);
if (!(o >= i)) {
for (var n = o, a = i, r = e[i]; n < a; ) {
for (;n < a && e[n] <= r; ) n++;
e[a] = e[n];
for (;n < a && e[a] >= r; ) {
a--;
break;
}
e[n] = e[a];
}
e[a] = r;
t(e, o, a - 1);
t(e, a + 1, i);
}
};
t(e);
return e;
};
t.formatMultiLine = function(e) {
for (var t = e, o = RegExp(/\\n/); t.match(o); ) t = t.replace("\\n", "\n");
return t;
};
t.getRandomNumInt = function(e, t) {
var o = t - e, i = Math.random();
return e + Math.round(i * o);
};
t.labelShadow = function(e, t, o) {
var i = t || new cc.Color(223, 32, 193), n = o || cc.v2(0, -3), a = cc.instantiate(e.node);
a.parent = e.node.parent;
a.x = e.node.x + n.x;
a.y = e.node.y + n.y;
a.color = i;
a.zIndex = 1;
e.node.zIndex = 2;
return a;
};
t.showFeedback = function() {
f.default.inst.showFullView(f.FullViewIndex.FeedbackWeb);
};
t.setScreenOrientation = function(e) {
var t = cc.view.getFrameSize(), o = cc.Canvas.instance.designResolution;
if (e == c.ORIENTATION_PORTRAIT) {
cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT);
t.width > t.height && cc.view.setFrameSize(t.height, t.width);
cc.Canvas.instance.designResolution = cc.size(o.height, o.width);
cc.find("tipsLayer/adaptationNode").active = !1;
} else {
cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE);
t.height > t.width && cc.view.setFrameSize(t.height, t.width);
cc.Canvas.instance.designResolution = cc.size(o.height, o.width);
cc.find("tipsLayer/adaptationNode").active = !0;
}
cc.Canvas.instance.node.emit("resize");
};
t.filterEmoji = function(e) {
return e.replace(new RegExp([ "ud83c[udf00-udfff]", "ud83d[udc00-ude4f]", "ud83d[ude80-udeff]" ].join("|"), "g"), "");
};
t.filterSpecialChar = function(e) {
for (var t = new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~@#&*|{}']"), o = e.replace(t, ""), i = e; o != i; ) {
i = o;
o = o.replace(t, "");
}
console.log("after fileter special char:" + o);
o = o.replace(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g, "");
console.log("after fileter special char:" + o);
return o;
};
var o;
t.frameCahces = cc.js.createMap();
t.spineAniCahces = cc.js.createMap();
return o = a([ L ], t);
}(cc.Component));
o.default = T;
cc._RF.pop();
}, {
"../Conf/Config": "Config",
"../Conf/Const": "Const",
"../Conf/Game": "Game",
"../Conf/ScreenAdapter": "ScreenAdapter",
"../Data/CountryData": "CountryData",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../Data/RoomData": "RoomData",
"../Http/exccmd5": "exccmd5",
"../Manager/ADManager": "ADManager",
"../Manager/DialogManager": "DialogManager",
"../Socket/WebSocketManager": "WebSocketManager",
"../UIFrame/CocosHelper": "CocosHelper",
"../UIFrame/ColorAssembler2D": "ColorAssembler2D",
"../UIFrame/ShaderOffset": "ShaderOffset",
"../UIFrame/SoundMgr": "SoundMgr",
"./ResMgr": "ResMgr"
} ],
GameVipDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2f1b1P/a0dBKqMqZ5QIF+oE", "GameVipDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../public/ThirdParty/happyList"), c = e("../../../public/ThirdParty/GameScrollPlus"), l = e("../../../public/MyComponent/GameHppayUtil"), d = e("./GameVipItemPrefab"), h = e("../../executor/vip/GameVipEx"), u = e("../../../communication/GameLobbyHttp"), p = cc._decorator, f = p.ccclass, m = p.property, g = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.bottomSv = null;
t.bottomSvItemPrefab = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.register("ThVipDlg", [ "vipCardTouchEvent" ]);
this.getData();
this.exView = new h.default();
this.exView.setProxy(this);
var e = this.node.getChildByName("dlgNode"), t = e.getChildByName("vipTop"), o = e.getChildByName("vipBottom"), i = cc.winSize.width * cc.view.getCanvasSize().height / cc.winSize.height;
if (i < cc.view.getCanvasSize().width) {
o.scaleX = cc.view.getCanvasSize().width / i;
t.scaleX = cc.view.getCanvasSize().width / i;
}
};
t.prototype.setView = function() {
var e = this;
this._nowCardNum = 1;
this._root = this.node.getChildByName("dlgNode");
this._scrollView = this.node.getChildByName("dlgNode").getChildByName("vipScrollview");
this._vipList = this._scrollView.getComponent(s.default);
this.itemList = [];
this.ipadOffest = 0;
this.listData = [ 0, 0, 1, 2, 3, 4, 5, 6, 0, 0 ];
this.listLabelData = [ "", "", "", "", "", "", "", "", "", "" ];
for (var t = 0; t < this.listData.length; t++) this._initBottomItemPrefab(t);
this.closeBtn = this.node.getChildByName("bg").getChildByName("closeBtn");
this.closeBtn.on("click", function() {
e.onClose();
});
this._scrollView.on("scrolling", function() {
this._scrollView.getComponent(cc.ScrollView).getScrollOffset().y > .7 * (983 - this.ipadOffest / 2) && this._scrollView.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0, .7 * (983 - this.ipadOffest / 2)));
if (0 == this._root.y && this._scrollView.getComponent(cc.ScrollView).getScrollOffset().y > 0) {
this._root.stopAllActions();
cc.tween(this._root).to(.1, {
y: .7 * (290 + this.ipadOffest)
}).start();
} else if (this._root.y > 0 && this._scrollView.getComponent(cc.ScrollView).getScrollOffset().y <= 0) {
this._root.stopAllActions();
cc.tween(this._root).to(.1, {
y: 0 + this.ipadOffest
}).start();
}
}, this);
this.bottomPList = [ 30, -399.6, -829.2, 30 - 429.6 * 3, -1688.4, -2118 ];
for (t = 0; t < this.bottomPList.length; t++) {
var o = .7 * this.bottomPList[t];
this.bottomPList[t] = o;
}
var i = !1;
this.bottomSv.node.on("scroll-began", function() {
i = !0;
});
this.bottomSv.node.on("scroll-ended", function() {
i && e.setCardNodeScroll();
i = !1;
});
console.log("");
};
t.prototype.getData = function() {
var e = this;
this.showLoading();
this._root.active = !1;
this.node.getChildByName("bg").active = !1;
u.default.getInstance().httpPost("vip", {}, function(t) {
if (t.error_code) {
var o = l.default.readData("thVipData");
e.vipData = JSON.parse(o);
} else {
e.vipData = t;
l.default.saceJsonData("thVipData", e.vipData);
}
e._root.active = !0;
e.node.getChildByName("bg").active = !0;
e.hideLoading();
e.initView();
e._vipList.numItems = 2;
e.setScrollPercentage(e.bottomPList[e.vipData.level], e.vipData.level + 1);
for (var i = 0; i < e.itemList.length; i++) e.itemList[i].getComponent(d.default).setLookState(e.vipData.level + 1);
});
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "vipCardTouchEvent":
if (this._nowCardNum != t) {
this._nowCardNum = t;
this.vipNameLabelChange();
this.setScrollPercentage(this.bottomPList[this._nowCardNum - 1], this._nowCardNum);
}
}
};
t.prototype._initBottomItemPrefab = function(e) {
var t = cc.instantiate(this.bottomSvItemPrefab);
t.parent = this.bottomSv.content;
t.getComponent(d.default).bindData(this.listData[e], this.listLabelData[e]);
t.opacity = 255;
this.itemList.push(t);
};
t.prototype.start = function() {
e.prototype.start.call(this);
};
t.prototype.setCardNodeScroll = function() {
for (var e = this.bottomSv.getScrollOffset().x, t = 280, o = 0, i = 0, n = 0; n < this.bottomPList.length; n++) {
var a = this.bottomPList[n], r = Math.abs(Math.abs(a) - Math.abs(e));
if (r < t) {
o = a;
t = r;
i = n;
}
}
this.setScrollPercentage(o, i + 1);
};
t.prototype.setScrollPercentage = function(e, t) {
var o = this.bottomSv.getMaxScrollOffset().x || 2210, i = Math.abs(e) / Math.abs(o);
this.bottomSv.scrollToPercentHorizontal(i, .5);
if (this._nowCardNum != t) {
this._nowCardNum = t;
this.vipNameLabelChange();
}
};
t.prototype.onShow = function() {
this.needAnimation = !1;
};
t.prototype.update = function() {};
t.prototype.initView = function() {
this.exView.initViewEx();
};
t.prototype.vipNameLabelChange = function() {
this.exView.vipNameLabelChangeEx();
};
t.prototype.onListRender = function(e, t) {
this.exView.onListRenderEx(e, t);
};
a([ m(c.default) ], t.prototype, "bottomSv", void 0);
a([ m(cc.Prefab) ], t.prototype, "bottomSvItemPrefab", void 0);
return a([ f ], t);
}(r.default);
o.default = g;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../../public/ThirdParty/GameScrollPlus": "GameScrollPlus",
"../../../public/ThirdParty/happyList": "happyList",
"../../executor/vip/GameVipEx": "GameVipEx",
"./GameVipItemPrefab": "GameVipItemPrefab"
} ],
GameVipEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "910f5YDSxVLtZzUV/Rx99D/", "GameVipEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../data/GameLangData"), s = e("../../../public/MyComponent/ViewExecutorBase"), c = e("../../../public/ThirdParty/ColorAssemblerGame"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.initViewEx = function() {
for (var e = [], t = 1; t < 10; t++) {
var o = this.node._root.getChildByName("vipMid").getChildByName("midlabel" + t).getComponent(cc.Label);
e.push(o);
}
e[0].string = r.default.ins.GET_DIALOG_LANG("vipMidLabel1");
e[1].string = this.node.vipData.total.pt;
e[2].string = this.node.vipData.total.p;
e[3].string = r.default.ins.GET_DIALOG_LANG("vipMidLabel2");
e[4].string = this.node.vipData.total.p3t;
e[5].string = this.node.vipData.total.p3;
e[6].string = r.default.ins.GET_DIALOG_LANG("vipMidLabel3");
e[7].string = this.node.vipData.total.r3t;
e[8].string = this.node.vipData.total.r3;
};
t.prototype.vipNameLabelChangeEx = function() {
for (var e = 0; e < this.node.cardLabelList.length; e++) {
var t = this.node.cardLabelList[e];
t.getComponent(c.default) || t.addComponent(c.default);
if (this.node._nowCardNum == e + 1) {
t.getComponent(cc.Label).fontSize = 38 * .7;
t.color = new cc.Color(255, 255, 255);
t.getComponent(c.default).colors = [ new cc.Color(54, 9, 80), new cc.Color(54, 9, 80), new cc.Color(121, 58, 175), new cc.Color(121, 58, 175) ];
} else {
t.getComponent(cc.Label).fontSize = 25.2;
t.color = new cc.Color(255, 255, 255);
t.getComponent(c.default).colors = [ new cc.Color(182, 134, 244), new cc.Color(182, 134, 244), new cc.Color(182, 134, 244), new cc.Color(182, 134, 244) ];
}
}
this.node.tipsBg && (this.node.tipsBg.x = .7 * -431.5 + 185.5 * (this.node._nowCardNum - 1));
};
t.prototype.onListRenderEx = function(e, t) {
if (!(t > 0)) {
this.node.cardLabelList = [];
e.getChildByName("tips1").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("vipdesc1");
e.getChildByName("tips2").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("vipdesc2");
for (var o = e.getChildByName("bg"), i = 1; i < 7; i++) {
var n = o.getChildByName("cardLabel" + i);
n.getComponent(cc.Label).string = r.default.ins.GET_DIALOG_LANG("vipCardName" + i);
this.node.cardLabelList.push(n);
}
this.node.vipNameLabelChange();
this.node.tipsBg && (this.node.tipsBg = null);
this.node.tipsBg = o.getChildByName("tipsBg");
var a = o.getChildByName("labelNode"), s = [], c = [];
for (i = 1; i < 14; i++) {
a.getChildByName("titleLabel" + i).getComponent(cc.Label).string = r.default.ins.GET_DIALOG_LANG("vipInfo" + i);
s.push(a.getChildByName("titleLabel" + i).y);
i < 5 && (a.getChildByName("privilegeLabel" + i).getComponent(cc.Label).string = r.default.ins.GET_DIALOG_LANG("vipInfo" + (i + 13)));
if (i < 7) {
a.getChildByName("level" + i + "Label1").getComponent(cc.Label).string = this.node.vipData.details.minP[i - 1];
c.push(a.getChildByName("level" + i + "Label1").x);
}
}
var l = function(e, t, o) {
var i = new cc.Node();
i.parent = a;
i.color = new cc.Color(107, 46, 138);
i.x = e;
i.y = t;
i.addComponent(cc.Label);
i.getComponent(cc.Label).fontSize = 24.5;
i.getComponent(cc.Label).string = o;
};
for (i = 1; i < 13; i++) for (var d = s[i], h = 0; h < 6; h++) {
var u = c[h];
switch (i) {
case 1:
l(u, d, this.node.vipData.details.payR[h]);
break;

case 2:
l(u, d, this.node.vipData.details.payoutR[h]);
break;

case 3:
l(u, d, this.node.vipData.details.PayoutM[h]);
break;

case 4:
l(u, d, this.node.vipData.details.PayoutMA[h]);
break;

case 5:
l(u, d, this.node.vipData.details.slotR[h] + "%");
break;

case 6:
l(u, d, this.node.vipData.details.videoR[h] + "%");
break;

case 7:
l(u, d, this.node.vipData.details.sportsR[h] + "%");
break;

case 8:
break;

case 9:
l(u, d, this.node.vipData.details.payM[h] + "");
break;

case 10:
l(u, d, this.node.vipData.details.retaM[h] + "");
break;

case 11:
l(u, d, this.node.vipData.details.renew[h] + "");
break;

case 12:
l(u, d, this.node.vipData.details.reward[h] + "");
}
}
}
};
return a([ d ], t);
}(s.default));
o.default = h;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase",
"../../../public/ThirdParty/ColorAssemblerGame": "ColorAssemblerGame"
} ],
GameVipItemPrefab: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "eef4codj4hAlJYW4yRm/z3y", "GameVipItemPrefab");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/GameEvent"), s = e("../../../data/GameLangData"), c = cc._decorator, l = c.ccclass, d = c.property, h = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.contentNode = null;
t.picSprite = null;
t.lookSprite = null;
t.cardSkeleton = null;
t.cardfxSkeleton = null;
t.cardblackSkeleton = null;
t.descLabel = null;
t.skeletonDataList = [];
return t;
}
t.prototype.onLoad = function() {
var e = this;
this.node.opacity = 0;
this.picSprite.node.on("click", function() {
r.GameEvent.ins().emit("vipCardTouchEvent", e.index);
});
};
t.prototype.bindData = function(e) {
this.descLabel.node.active = !1;
if (0 == e) {
e = 0;
this.index = 0;
this.picSprite.node.active = !1;
this.lookSprite.node.active = !1;
this.cardSkeleton.node.active = !1;
this.cardfxSkeleton.node.active = !1;
this.cardblackSkeleton.node.active = !1;
} else {
this.index = e;
this.descLabel.node.active = !0;
this.cardfxSkeleton.node.opacity = 0;
this.cardfxSkeleton.animation = "card_fx" + e;
this.cardfxSkeleton.setAnimation(0, this.cardfxSkeleton.animation, !0);
this.descLabel.string = s.default.ins.GET_DIALOG_LANG("vipCardName" + e);
this.cardSkeleton.skeletonData = this.skeletonDataList[this.index - 1];
}
};
t.prototype.setLookState = function(e) {
0 != this.index && (e >= this.index ? this.lookSprite.node.active = !1 : this.lookSprite.node.active = !0);
};
t.prototype.onEnterSrcollView = function() {
this.node.opacity = 255;
};
t.prototype.onExitScrollView = function() {
this.node.opacity = 0;
};
t.prototype.onPositionChange = function(e) {
var t = this, o = .3 + 1.5 * (.5 - Math.abs(e - .45));
if (o <= .85) {
this.contentNode.scale = .7;
this.cardSkeleton.node.color = new cc.Color(124, 124, 124);
this.descLabel.node.color = new cc.Color(124, 124, 124);
this.cardSkeleton.loop = !1;
this.cardblackSkeleton.loop = !1;
this.cardSkeleton.setCompleteListener(function() {
if (t.contentNode.scale < .8) {
t.cardSkeleton.clearTracks();
t.cardblackSkeleton.clearTracks();
t.cardfxSkeleton.node.stopAllActions();
cc.tween(t.cardfxSkeleton.node).to(.2, {
opacity: 0
}).start();
}
});
} else if (o <= .9) {
this.contentNode.scale = o;
this.cardSkeleton.node.color = new cc.Color(124, 124, 124);
this.descLabel.node.color = new cc.Color(124, 124, 124);
this.cardfxSkeleton.node.stopAllActions();
cc.tween(this.cardfxSkeleton.node).to(.2, {
opacity: 0
}).start();
} else {
this.descLabel.node.color = new cc.Color(255, 255, 255);
this.cardSkeleton.node.color = new cc.Color(255, 255, 255);
this.contentNode.scale = o;
if (this.contentNode.scale >= .9 && 0 == this.cardSkeleton.loop) {
this.cardSkeleton.loop = !0;
this.cardSkeleton.animation = "animation";
this.cardSkeleton.setAnimation(0, "animation", !0);
this.cardblackSkeleton.loop = !0;
this.cardblackSkeleton.animation = "animation";
this.cardblackSkeleton.setAnimation(0, "animation", !0);
this.cardfxSkeleton.node.stopAllActions();
cc.tween(this.cardfxSkeleton.node).to(.2, {
opacity: 255
}).start();
}
}
};
a([ d(cc.Node) ], t.prototype, "contentNode", void 0);
a([ d(cc.Sprite) ], t.prototype, "picSprite", void 0);
a([ d(cc.Sprite) ], t.prototype, "lookSprite", void 0);
a([ d(sp.Skeleton) ], t.prototype, "cardSkeleton", void 0);
a([ d(sp.Skeleton) ], t.prototype, "cardfxSkeleton", void 0);
a([ d(sp.Skeleton) ], t.prototype, "cardblackSkeleton", void 0);
a([ d(cc.Label) ], t.prototype, "descLabel", void 0);
a([ d({
type: sp.SkeletonData,
displayName: ""
}) ], t.prototype, "skeletonDataList", void 0);
return a([ l ], t);
}(cc.Component);
o.default = h;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../public/MyComponent/GameEvent": "GameEvent"
} ],
GameWebDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "581fcN+0V1N6a7gYotUCKiC", "GameWebDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../public/MyComponent/WindowBase"), s = e("../../public/MyComponent/GameHppayUtil"), c = e("../executor/GameWebEx"), l = e("../../data/conf/GameInfo"), d = e("../../natives/AndroidInfo"), h = e("../../data/MyData"), u = e("../../manager/PlatformInterface"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.orientation = s.SCREEN_ORIENTATION.ORIENTATION_PORTRAIT;
t.title = null;
t.isClose = !1;
return t;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.initEx = function() {
if (!this.exView) {
this.exView = new c.default();
this.exView.setProxy(this);
}
};
t.prototype.setView = function() {
var e = this.node.getChildByName("dlgBg"), t = e.getChildByName("bg_top");
this.title = t.getChildByName("title");
t.getChildByName("closeBtn").on("click", this.onClose, this);
this._webView = e.getChildByName("webview").getComponent(cc.WebView);
this.regesterWebViewCallBack();
};
t.prototype.onClose = function() {
var t = this;
this.isClose = !0;
this.scheduleOnce(function() {
e.prototype.onClose.call(t);
});
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.isClose = !1;
this.needAnimation = !1;
this.needModal = !1;
this.register("WebPayDialog", []);
this.title.getComponent(cc.Label).string = this._data.title;
this._webView.url = this._data.url;
};
t.prototype.handleAppEvent = function(e) {
e.arg;
e.key;
};
t.prototype.regesterWebViewCallBack = function() {
this.regesterWebViewCallBackEx();
};
t.prototype.regesterWebViewCallBackEx = function() {
var e = this, t = l.default.scheme;
this._webView.setJavascriptInterfaceScheme(t);
this._webView.setOnJSCallback(function(o, i) {
console.log("js func callback", o, i);
var n = i.replace(t + "://", ""), a = n.split("&"), r = {};
for (var c in a) {
var l = a[c].split("=");
"params" == l[0] ? r[l[0]] = JSON.parse(l[1]) : r[l[0]] = l[1];
}
"showLoading" == r.fun ? e.showLoading(null, null, !0) : "hideLoading" == r.fun ? e.hideLoading() : "showAlert" == r.fun ? s.default.alert(r.params.msg) : "startInput" == r.fun ? console.log("startInput") : "endInput" == r.fun ? console.log("endInput") : "openBrowser" == r.fun ? u.default.openBrowser(r.params.url) : "chatWithWhatsApp" == r.fun && d.default.inst.chatWithWhatsApp(h.default.UserData.userId, r.params.phone);
console.log("", o, n, r);
});
};
return a([ f ], t);
}(r.default));
o.default = m;
cc._RF.pop();
}, {
"../../data/MyData": "MyData",
"../../data/conf/GameInfo": "GameInfo",
"../../manager/PlatformInterface": "PlatformInterface",
"../../natives/AndroidInfo": "AndroidInfo",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/WindowBase": "WindowBase",
"../executor/GameWebEx": "GameWebEx"
} ],
GameWebEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "fe1b6py5EBJ2IX3j2VTGTzT", "GameWebEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../data/MyData"), s = e("../../data/conf/GameInfo"), c = e("../../manager/PlatformInterface"), l = e("../../natives/AndroidInfo"), d = e("../../public/MyComponent/GameHppayUtil"), h = e("../../public/MyComponent/ViewExecutorBase"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.regesterWebViewCallBackEx = function() {
var e = this, t = s.default.scheme;
this.node._webView.setJavascriptInterfaceScheme(t);
this.node._webView.setOnJSCallback(function(o, i) {
console.log("js func callback", o, i);
var n = i.replace(t + "://", ""), a = n.split("&"), s = {};
for (var h in a) {
var u = a[h].split("=");
"params" == u[0] ? s[u[0]] = JSON.parse(u[1]) : s[u[0]] = u[1];
}
"showLoading" == s.fun ? e.node.showLoading(null, null, !0) : "hideLoading" == s.fun ? e.node.hideLoading() : "showAlert" == s.fun ? d.default.alert(s.params.msg) : "startInput" == s.fun ? console.log("startInput") : "endInput" == s.fun ? console.log("endInput") : "openBrowser" == s.fun ? c.default.openBrowser(s.params.url) : "chatWithWhatsApp" == s.fun && l.default.inst.chatWithWhatsApp(r.default.UserData.userId, s.params.phone);
console.log("", o, n, s);
});
};
return a([ p ], t);
}(h.default));
o.default = f;
cc._RF.pop();
}, {
"../../data/MyData": "MyData",
"../../data/conf/GameInfo": "GameInfo",
"../../manager/PlatformInterface": "PlatformInterface",
"../../natives/AndroidInfo": "AndroidInfo",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
GameWebFive: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9e8a3lt5H5InKPndKOP3Sw7", "GameWebFive");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../communication/GameLobbyHttp"), s = e("../../communication/GameLoginHttp"), c = e("../../communication/SocketGameManager"), l = e("../../data/MyData"), d = e("../../data/conf/GameConfig"), h = e("../../data/conf/GameInfo"), u = e("../../manager/ReportGameEvent"), p = e("../../manager/PlatformInterface"), f = e("../../public/MyComponent/WindowBase"), m = cc._decorator, g = m.ccclass, y = (m.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.gameInfo = null;
return t;
}
t.prototype.onLoad = function() {};
t.prototype.start = function() {
e.prototype.start.call(this);
this.needAnimation = !1;
this.needModal = !1;
this.register("GameWeb", [ "ON_LOAD_COMPLETE", "ON_LOAD_ERROR", "ON_LAUNCH_GAME", "ON_BACK_HALL", "CLOSE_WEBGAME", "ON_WEBGAME_CLOSED" ]);
cc.audioEngine.pauseAll();
var t = this._data;
u.default.record(u.ReportEventType.webGameStartLaunch, "time", new Date().getDate());
var o = 1;
t && t.btn && (o = t.btn);
p.default.showGameLoading(o);
s.default.getInstance().launchGame(t.wid);
};
t.prototype.onDestroy = function() {
e.prototype.onDestroy.call(this);
};
t.prototype.showGameView = function(e) {
this.schedule(this.reportRepeat, 60, cc.macro.REPEAT_FOREVER);
this.gameInfo = e;
u.default.recordWithParam(u.ReportEventType.thirdGameStart, "wtype", this.gameInfo.type, "wid", this.gameInfo.wid);
var t = this.gameInfo.url;
console.log("showGameView Url = ", t);
var o = h.default.gameid, i = h.default.appid, n = h.default.ver, a = h.default.devId, r = l.default.UserData.ukey, s = l.default.UserData.userId;
if (1 == this.gameInfo.jump) p.default.openBrowser(t); else {
var c = 0;
this.gameInfo.portrait && 1 == this.gameInfo.portrait && (c = 1);
var f = 1;
this._data && this._data.btn && (f = this._data.btn);
var m = d.default.phpUrl + "v1/", g = "gameid=" + o + "&&appid=" + i + "&&ver=" + n + "&&devId=" + a + "&&ukey=" + r + "&&uid=" + s + "&&wtype=" + this.gameInfo.type + "&&wid=" + this.gameInfo.wid;
p.default.showGamePage(t, c, t + "!!" + c + "!!" + f + "!!" + m + "!!" + g);
}
};
t.prototype.onWebLoadComplete = function() {
console.log("webview page is loaded!");
};
t.prototype.onWebLoadError = function() {
console.log("webview page is load error!");
this.closeWebGame();
};
t.prototype.onWebLoadFailed = function() {};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_LOAD_COMPLETE":
this.onWebLoadComplete();
break;

case "ON_LOAD_ERROR":
this.onWebLoadError();
break;

case "ON_LAUNCH_GAME":
this.showGameView(t);
break;

case "CLOSE_WEBGAME":
case "ON_BACK_HALL":
case "ON_WEBGAME_CLOSED":
this.closeWebGame();
}
};
t.prototype.reportRepeat = function() {
console.log("reportRepeat third game");
null != this.gameInfo && u.default.recordWithParam(u.ReportEventType.thirdGameReport, "wtype", this.gameInfo.type, "wid", this.gameInfo.wid);
};
t.prototype.closeWebGame = function() {
if (null != this.gameInfo) {
u.default.recordWithParam(u.ReportEventType.thirdGameEnd, "wtype", this.gameInfo.type, "wid", this.gameInfo.wid);
r.default.getInstance().syncWebGame(this.gameInfo.type, this.gameInfo.wid);
c.default.getInstance().socketSend.getPlayerMoneyInfo(l.default.UserData.userId);
}
this.unschedule(this.reportRepeat);
u.default.record(u.ReportEventType.webGameClickBack);
cc.audioEngine.resumeAll();
this.onClose();
};
return a([ g ], t);
}(f.default));
o.default = y;
cc._RF.pop();
}, {
"../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../communication/GameLoginHttp": "GameLoginHttp",
"../../communication/SocketGameManager": "SocketGameManager",
"../../data/MyData": "MyData",
"../../data/conf/GameConfig": "GameConfig",
"../../data/conf/GameInfo": "GameInfo",
"../../manager/PlatformInterface": "PlatformInterface",
"../../manager/ReportGameEvent": "ReportGameEvent",
"../../public/MyComponent/WindowBase": "WindowBase"
} ],
GameWebNative: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "427f4+qir5EMpf/crWJO5zq", "GameWebNative");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Components/DialogBase"), s = e("../Data/LanguageData"), c = e("../Manager/DialogManager"), l = e("../Http/MyHttp"), d = e("../Interface/PhoneInfo"), h = e("../Manager/EventRecorder"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.gameInfo = null;
return t;
}
t.prototype.onLoad = function() {};
t.prototype.start = function() {
e.prototype.start.call(this);
this.needAnimation = !1;
this.needModal = !1;
this.register("GameWeb", [ "ON_LOAD_COMPLETE", "ON_LOAD_ERROR", "ON_LAUNCH_GAME", "ON_BACK_HALL", "CLOSE_WEBGAME" ]);
cc.audioEngine.pauseAll();
var t = this._data;
h.default.record(h.EventID.webGameStartLaunch, "time", new Date().getDate());
var o = 1;
t && t.btn && (o = t.btn);
d.default.inst.showWebviewLoading(o);
l.default.getInstance().launchGame(t.wid);
};
t.prototype.onDestroy = function() {
d.default.inst.hideWebviewBackBtn();
e.prototype.onDestroy.call(this);
};
t.prototype.showGameView = function(e) {
this.schedule(this.reportRepeat, 60, cc.macro.REPEAT_FOREVER);
h.default.record(h.EventID.webGameStartLoad, "time", new Date().getDate());
this.gameInfo = e;
h.default.recordWithParam(h.EventID.thirdGameStart, "wtype", this.gameInfo.type, "wid", this.gameInfo.wid);
var t = this.gameInfo.url;
console.log("showGameView Url = ", t);
if (1 == this.gameInfo.jump) cc.sys.openURL(t); else {
var o = 0;
this.gameInfo.portrait && 1 == this.gameInfo.portrait && (o = 1);
d.default.inst.showFullWebView(t, o);
}
};
t.prototype.onWebLoadComplete = function() {
console.log("webview page is loaded!");
h.default.record(h.EventID.webGameStartLoadComplete, "time", new Date().getDate());
d.default.inst.hideWebviewLoading();
};
t.prototype.onWebLoadError = function() {
console.log("webview page is load error!");
h.default.record(h.EventID.webGameLoadError);
c.default.inst.showConfirmDialog(s.default.ins.STRING_NEWHALL("retryDesc"), 1);
this.closeWebGame();
};
t.prototype.onWebLoadFailed = function() {};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_LOAD_COMPLETE":
this.onWebLoadComplete();
break;

case "ON_LOAD_ERROR":
this.onWebLoadError();
break;

case "ON_LAUNCH_GAME":
this.showGameView(t);
break;

case "CLOSE_WEBGAME":
this.closeWebGame();

case "ON_BACK_HALL":
this.closeWebGame();
}
};
t.prototype.reportRepeat = function() {
console.log("reportRepeat third game");
null != this.gameInfo && h.default.recordWithParam(h.EventID.thirdGameReport, "wtype", this.gameInfo.type, "wid", this.gameInfo.wid);
};
t.prototype.closeWebGame = function() {
if (null != this.gameInfo) {
h.default.recordWithParam(h.EventID.thirdGameEnd, "wtype", this.gameInfo.type, "wid", this.gameInfo.wid);
l.default.getInstance().syncWebGame(this.gameInfo.type, this.gameInfo.wid);
}
this.unschedule(this.reportRepeat);
h.default.record(h.EventID.webGameClickBack);
d.default.inst.setScreenOrientation(0);
d.default.inst.hideWebviewLoading();
d.default.inst.hideWebviewBackBtn();
cc.audioEngine.resumeAll();
this.onClose();
};
return a([ p ], t);
}(r.default));
o.default = f;
cc._RF.pop();
}, {
"../Components/DialogBase": "DialogBase",
"../Data/LanguageData": "LanguageData",
"../Http/MyHttp": "MyHttp",
"../Interface/PhoneInfo": "PhoneInfo",
"../Manager/DialogManager": "DialogManager",
"../Manager/EventRecorder": "EventRecorder"
} ],
GameWeb: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "15b18jrTaNAAZmy7TyO8esW", "GameWeb");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Components/DialogBase"), s = e("../Http/MyHttp"), c = e("../Manager/EventRecorder"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.gameInfo = null;
t.isClose = !1;
t.isLoaded = !1;
return t;
}
t.prototype.onLoad = function() {
this._webView = this.node.getChildByName("webview").getComponent(cc.WebView);
this.node.getChildByName("btnBack").on("click", this.closeWebGame, this);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.needAnimation = !1;
this.needModal = !1;
this.isClose = !1;
this.isLoaded = !1;
this.register("GameWeb", [ "EVENT_ORIENTATION_CHANGED", "ON_LAUNCH_GAME", "ON_BACK_HALL", "CLOSE_WEBGAME" ]);
cc.audioEngine.pauseAll();
var t = this._data;
c.default.record(c.EventID.webGameStartLaunch, "time", new Date().getDate());
s.default.getInstance().launchGame(t.wid);
};
t.prototype.showGameView = function(e) {
c.default.record(c.EventID.webGameStartLoad, "time", new Date().getDate());
this.gameInfo = e;
var t = this.gameInfo.url;
console.log("showGameView Url = ", t);
this._webView.url = t;
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "EVENT_ORIENTATION_CHANGED":
break;

case "ON_LAUNCH_GAME":
this.showGameView(t);
break;

case "CLOSE_WEBGAME":
cc.audioEngine.resumeAll();
this.onClose();

case "ON_BACK_HALL":
this.closeWebGame();
}
};
t.prototype.closeWebGame = function() {
cc.audioEngine.resumeAll();
if (null != this.gameInfo) {
c.default.recordWithParam(c.EventID.thirdGameEnd, "wtype", this.gameInfo.type, "wid", this.gameInfo.wid);
s.default.getInstance().syncWebGame(this.gameInfo.type, this.gameInfo.wid);
}
this.onClose();
};
return a([ d ], t);
}(r.default));
o.default = h;
cc._RF.pop();
}, {
"../Components/DialogBase": "DialogBase",
"../Http/MyHttp": "MyHttp",
"../Manager/EventRecorder": "EventRecorder"
} ],
Game: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "30324uBI0xM+Iu93eOQeNIy", "Game");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.Country = o.CountryCurrency = o.CountryCode = o.WithdrawType = o.LocalLanguage = o.PlatformType = void 0;
var n, a, r, s = e("../Manager/SceneManager"), c = cc._decorator, l = c.ccclass;
c.property;
(function(e) {
e[e.guest = 0] = "guest";
e[e.telephoneWithPassword = 1] = "telephoneWithPassword";
e[e.telephoneWithVCode = 2] = "telephoneWithVCode";
e[e.facebook = 10] = "facebook";
e[e.apple = 11] = "apple";
e[e.google = 12] = "google";
e[e.webapp = 99] = "webapp";
e[e.webappInvalidParams = 91] = "webappInvalidParams";
e[e.webappLocalTest = 90] = "webappLocalTest";
})(n = o.PlatformType || (o.PlatformType = {}));
(function(e) {
e.cn = "zh-cn";
e.tw = "zh-tw";
e.en = "en";
e.hk = "zh-hk";
e.th = "th";
e.jp = "jp";
})(a = o.LocalLanguage || (o.LocalLanguage = {}));
(function(e) {
e[e.bank = 0] = "bank";
e[e.gcash = 2] = "gcash";
})(o.WithdrawType || (o.WithdrawType = {}));
(function(e) {
e.Thailand = "66";
e.Philippines = "63";
e.India = "91";
})(o.CountryCode || (o.CountryCode = {}));
(function(e) {
e.Thailand = "";
e.Philippines = "";
e.India = "";
})(o.CountryCurrency || (o.CountryCurrency = {}));
(function(e) {
e[e.Thailand = 1] = "Thailand";
e[e.Philippines = 2] = "Philippines";
e[e.India = 3] = "India";
})(r = o.Country || (o.Country = {}));
var d = function() {
function e() {}
t = e;
e.init = function() {
cc.sys.isNative ? cc.sys.os == cc.sys.OS_IOS ? this.systemType = 1 : cc.sys.os == cc.sys.OS_ANDROID && (this.systemType = 0) : this.systemType = 2;
};
e._initWebAutoLogin = function() {
var e = window.document.location.href.toString();
console.log("app url = ", e);
if (-1 != e.search("http")) {
var o = e.split("?");
if (o.length > 1) {
for (var i = o[1].split("&"), a = {}, r = 0; r < i.length; r++) {
var s = i[r].split("=");
if (2 == s.length) {
var c = s[0], l = s[1];
a[c] = l;
}
}
t.webPid = a.pid || "";
t.webToken = a.token || "";
t.webUid = a.uid || 0;
}
if (-1 == e.search("localhost")) {
t.isWebGameType = !0;
"" == t.webPid || "" == t.webToken ? t.currPlatType = n.webappInvalidParams : t.currPlatType = n.webapp;
} else {
t.isWebGameType = !1;
t.currPlatType = n.webappLocalTest;
}
} else t.isWebGameType = !1;
};
var t;
e.gameid = 1;
e.appid = 200;
e.ver = 162;
e.appVersion = "1.0.6";
e.hotVersion = "1.0.6";
e.isPad = !1;
e.hver = 1;
e.version = 1;
e.devId = "858e349f-f078-4594-96b5-70d5f7db81f5";
e.devInfo = "";
e.localLanguage = "cn";
e.fbToken = "";
e.fbUid = "";
e.fbAuthState = 3;
e.phoneNumber = "";
e.phonePassword = "";
e.currPlatType = 0;
e.pushToken = "";
e.isRegesterPushNotification = !1;
e.systemType = 1;
e.isInstallFacebook = !1;
e.isInstallMessenger = !1;
e.appleToken = "";
e.applePid = "";
e.appleLoginState = !1;
e.messengerLink = "";
e.facebookLink = "";
e.currScene = s.SceneIndex.launch;
e.lastScene = s.SceneIndex.launch;
e.networkEnvironment = "Network Disconnected";
e.webPid = "";
e.webToken = "";
e.webUid = 0;
e.isWebGameType = !1;
e.isMute = 0;
e.prefabEndTag = "";
e.allBanks = [];
e.isShowRegGuide = !1;
e.clipboardStr = "";
e.sourceLanguage = "en";
e.timeZone = "";
e.localTime = "";
e.systemVersion = 30;
e.deeplink = "none";
e.ereaCode = "66";
e.phoneStart = "";
e.moneyFlag = "";
e.country = r.India;
e.isEmulator = 0;
e.chipMulti = 100;
e.pointMulti = 100;
e.baccaratRoomConfiguration = [ {
minBet: 10,
maxBet: 5e4,
otherMinBet: 10,
luckySixMax: 5e3,
otherMax: 1500,
betConf: [ 10, 50, 100, 500, 1e3 ]
}, {
minBet: 100,
maxBet: 5e5,
otherMinBet: 100,
luckySixMax: 5e4,
otherMax: 15e3,
betConf: [ 100, 500, 1e3, 5e3, 1e4 ]
}, {
minBet: 1e3,
maxBet: 5e6,
otherMinBet: 1e3,
luckySixMax: 5e5,
otherMax: 15e4,
betConf: [ 1e3, 5e3, 1e4, 5e4, 1e5 ]
}, {
minBet: 1e4,
maxBet: 5e7,
otherMinBet: 1e4,
luckySixMax: 5e6,
otherMax: 15e5,
betConf: [ 1e4, 5e4, 1e5, 5e5, 1e6 ]
}, {
minBet: 1e5,
maxBet: 5e8,
otherMinBet: 1e5,
luckySixMax: 5e7,
otherMax: 15e6,
betConf: [ 1e5, 5e5, 1e6, 5e6, 1e7 ]
} ];
e.roomRuleRoomList = [ [ 100, 1e3, 1e4, 1e5 ], [ 100, 1e3, 1e4, 1e5 ], [ 100, 1e3, 1e4, 1e5 ], [ 100, 1e3, 1e4, 1e5 ], [ 100, 1e3, 1e4, 1e5 ], [ 100, 1e3, 1e4, 1e5 ] ];
e.emojiList = [ {}, {
name: "ejimo_01",
route: "ejimo/ejimo_01",
frameName: "giphy_",
count: 24
}, {
name: "ejimo_02",
route: "ejimo/ejimo_02",
frameName: "giphy_",
count: 24
}, {
name: "ejimo_03",
route: "ejimo/ejimo_03",
frameName: "giphy_",
count: 24
}, {
name: "ejimo_04",
route: "ejimo/ejimo_04",
frameName: "giphy_",
count: 48
}, {
name: "ejimo_05",
route: "ejimo/ejimo_05",
frameName: "giphy_",
count: 24
}, {
name: "ejimo_06",
route: "ejimo/ejimo_06",
frameName: "giphy_",
count: 48
}, {
name: "ejimo_07",
route: "ejimo/ejimo_07",
frameName: "giphy_",
count: 24
}, {
name: "ejimo_08",
route: "ejimo/ejimo_08",
frameName: "giphy_",
count: 24
}, {
name: "ejimo_09",
route: "ejimo/ejimo_09",
frameName: "giphy_",
count: 24
}, {
name: "ejimo_10",
route: "ejimo/ejimo_10",
frameName: "giphy_",
count: 24
}, {
name: "ejimo_11",
route: "ejimo/ejimo_11",
frameName: "giphy_",
count: 72
}, {
name: "ejimo_12",
route: "ejimo/ejimo_12",
frameName: "giphy_",
count: 24
}, {
name: "ejimo_13",
route: "ejimo/ejimo_13",
frameName: "giphy_",
count: 48
}, {
name: "ejimo_14",
route: "ejimo/ejimo_14",
frameName: "giphy_",
count: 80
}, {
name: "ejimo_15",
route: "ejimo/ejimo_15",
frameName: "giphy_",
count: 24
}, {
name: "ejimo_16",
route: "ejimo/ejimo_16",
frameName: "giphy_",
count: 48
}, {
name: "ejimo_17",
route: "ejimo/ejimo_17",
frameName: "giphy_",
count: 60
}, {
name: "ejimo_18",
route: "ejimo/ejimo_18",
frameName: "giphy_",
count: 24
}, {
name: "ejimo_19",
route: "ejimo/ejimo_19",
frameName: "giphy_",
count: 24
}, {
name: "ejimo_20",
route: "ejimo/ejimo_20",
frameName: "giphy_",
count: 48
}, {
name: "ejimo_21",
route: "ejimo/ejimo_21",
frameName: "giphy_",
count: 72
}, {
name: "ejimo_22",
route: "ejimo/ejimo_22",
frameName: "giphy_",
count: 72
}, {
name: "ejimo_23",
route: "ejimo/ejimo_23",
frameName: "giphy_",
count: 48
}, {
name: "ejimo_24",
route: "ejimo/ejimo_24",
frameName: "giphy_",
count: 24
} ];
e.vipNameColor = [ new cc.Color(255, 252, 162), new cc.Color(255, 252, 162), new cc.Color(255, 202, 80), new cc.Color(255, 202, 80) ];
e.uploadLanguage = [ "", a.tw, a.cn, a.en, a.hk, a.jp, a.th ];
e.vociferateInfo = [ [ "yiqiangguo", "youjiao", "sibian", "cui", "ding" ], [ "sanbian", "youjiao", "feipo", "cui", "ding" ], [ "sanbian", "youjiao", "feipo", "cui", "ding" ], [ "sanbian", "lulu", "liangbian", "cui", "ding" ], [ "liangbian", "lulu", "wugui", "cui", "ding" ], [ "liangbian", "wugui", "fuyingji", "cui", "ding" ], [ "youtou", "baimangmang", "liangbian", "cui", "ding" ], [ "youtou", "gong", "baimangmang", "cui", "ding" ], [ "baimangmang", "gong", "sibian", "cui", "ding" ], [ "baimangmang", "gong", "sibian", "cui", "ding" ], [ "gong", "sibian", "ding" ] ];
e.vociferateString = [ [ "", "", "", "", "" ], [ "", "", "", "", "" ], [ "", "", "", "", "" ], [ "", "LuLu", "", "", "" ], [ "", "LuLu", "", "", "" ], [ "", "", "", "", "" ], [ "", "", "", "", "" ], [ "", "", "", "", "" ], [ "", "", "", "", "" ], [ "", "", "", "", "" ], [ "", "", "" ] ];
e.vipLevelList = [ 0, 10, 100, 500, 2e3, 5e3, 1e4, 2e4, 5e4, 1e5, 188888 ];
e.levelList = [ 0, 10, 100, 500, 1e3, 2e3, 3500, 5e3, 7500, 1e4, 13e3, 16e3, 19500, 23e3, 27e3, 31e3, 35500, 4e4, 45e3, 5e4, 55500, 61e3, 67e3, 73e3, 79500, 86e3, 93e3, 1e5, 107500, 115e3, 123e3, 131e3, 139500, 148e3, 157e3, 166e3, 175500, 185e3, 195e3, 205e3, 215500, 226e3, 237e3, 248e3, 259500, 271e3, 283e3, 295e3, 307500, 32e4, 333e3, 346e3, 359500, 373e3, 387e3, 401e3, 415500, 43e4, 445e3, 46e4, 475500, 491e3, 507e3, 523e3, 539500, 556e3, 573e3, 59e4, 607500, 625e3, 643e3, 661e3, 679500, 698e3, 717e3, 736e3, 755500, 775e3, 795e3, 815e3, 835500, 856e3, 877e3, 898e3, 919500, 941e3, 963e3, 985e3, 1007500, 103e4, 1053e3, 1076e3, 1099500, 1123e3, 1147e3, 1171e3, 1195500, 122e4, 1245e3, 127e4, 1295500, 1321e3, 1347e3, 1373e3, 1399500, 1426e3, 1453e3, 148e4, 1507500, 1535e3 ];
return t = i([ l ], e);
}();
o.default = d;
cc._RF.pop();
}, {
"../Manager/SceneManager": "SceneManager"
} ],
GetEmailRewardDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "53f68cuTxJPZZ4Kkks4f/wd", "GetEmailRewardDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../data/conf/GameInfo"), c = e("../../../data/conf/GameRes"), l = e("../../../data/GameLangData"), d = e("../../../communication/SocketGameManager"), h = e("../../../public/MyComponent/GameHppayUtil"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._rewardCoin = null;
t._rewardTicket = null;
t._rewardChip = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
this.node.getChildByName("closeBtn").on("click", this.onClose, this);
this.node.getChildByName("okBtn").on("click", this._onOK, this);
this._rewardCoin = this.node.getChildByName("dlgBg").getChildByName("labelCoinCount");
this._rewardTicket = this.node.getChildByName("dlgBg").getChildByName("labelTicketCount");
this._rewardChip = this.node.getChildByName("dlgBg").getChildByName("labelChipCount");
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("congratulations");
this.node.getChildByName("okBtn").getChildByName("Label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("enter");
h.default.labelShadow(this.node.getChildByName("labelTitle").getComponent(cc.Label));
h.default.loadSprAtlasFrame(this._rewardChip.getChildByName("icon"), c.GameResInfo.CURRENCY_ROOT_DIR + c.GameResInfo.CURRENCY_ICON);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.changeView();
};
t.prototype.changeView = function() {
for (var e = this._data.reward.split(",", 50), t = 0, o = 0, i = 0, n = 0; n < e.length; n++) {
var a = e[n].split("|");
if (!(a.length < 2)) {
var r = +a[0].trim(), c = +a[1].trim();
2 == r ? t += c : 1 == r ? o += c : 3 == r && (i += c);
}
}
var l = 0;
t > 0 && l++;
o > 0 && l++;
i > 0 && l++;
if (1 == l) {
if (t > 0) {
this._rewardChip.x = this._rewardTicket.x;
this._rewardTicket.active = !1;
this._rewardCoin.active = !1;
this._rewardChip.getComponent(cc.Label).string = t / s.default.chipMulti + "";
} else if (o > 0) {
this._rewardCoin.x = this._rewardTicket.x;
this._rewardTicket.active = !1;
this._rewardChip.active = !1;
this._rewardCoin.getComponent(cc.Label).string = o + "";
} else if (i > 0) {
this._rewardTicket.getComponent(cc.Label).string = i / s.default.pointMulti + "";
this._rewardCoin.active = !1;
this._rewardChip.active = !1;
this._rewardTicket.active = !0;
}
} else if (2 == l) {
var h = (this._rewardTicket.x + this._rewardCoin.x) / 2, u = (this._rewardTicket.x + this._rewardChip.x) / 2, p = 0;
if (t > 0) {
this._rewardChip.x = h;
this._rewardChip.getComponent(cc.Label).string = t / s.default.chipMulti + "";
p++;
}
if (o > 0) {
if (0 == p) {
this._rewardCoin.x = h;
this._rewardChip.active = !1;
} else {
this._rewardTicket.active = !1;
this._rewardCoin.x = u;
}
this._rewardCoin.getComponent(cc.Label).string = o + "";
p++;
}
if (i > 0) {
o > 0 ? this._rewardChip.active = !1 : t > 0 && (this._rewardCoin.active = !1);
this._rewardTicket.getComponent(cc.Label).string = i / s.default.pointMulti + "";
this._rewardTicket.x = u;
}
} else if (3 == l) {
this._rewardTicket.active = !0;
this._rewardCoin.active = !0;
this._rewardChip.active = !0;
this._rewardChip.getComponent(cc.Label).string = "" + t / s.default.chipMulti;
this._rewardCoin.getComponent(cc.Label).string = "" + o;
this._rewardTicket.getComponent(cc.Label).string = "" + i / s.default.pointMulti;
}
this._data.mailType ? d.default.getInstance().socketSend.deletAllEmail(this._data.mailType) : this._data.mailID && d.default.getInstance().socketSend.deleEmail(this._data.mailID);
};
t.prototype._onOK = function() {
this._data.mailType && d.default.getInstance().socketSend.getEmailList(this._data.mailType, 0, 255);
this.onClose();
};
return a([ p ], t);
}(r.default));
o.default = f;
cc._RF.pop();
}, {
"../../../communication/SocketGameManager": "SocketGameManager",
"../../../data/GameLangData": "GameLangData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../data/conf/GameRes": "GameRes",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase"
} ],
GetLoginCodeEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "499f7ALGc5BDrY8/ghErbaK", "GetLoginCodeEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../communication/GameLoginHttp"), s = e("../../data/GameLangData"), c = e("../../data/conf/GameInfo"), l = e("../../manager/DlgGameMgr"), d = e("../../manager/ReportGameEvent"), h = e("../../public/MyComponent/GameHppayUtil"), u = e("../../public/MyComponent/ViewExecutorBase"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onEditText2ChangedEx = function() {
var e = this.node._editBoxVCode.string;
this.node._editBoxVCode.string = h.default.formatNumber(e);
4 == e.length ? this.node._btnNext.getComponent(cc.Button).interactable = !0 : this.node._btnNext.getComponent(cc.Button).interactable = !1;
};
t.prototype.onNextEx = function() {
var e = this.node._data, t = this.node._editBoxVCode.string, o = {};
o.devId = c.default.devId;
o.checkCode = t;
o.telephone = e;
o.areaCode = this.node._ereaCode;
o.ptype = c.PlatformGameEnum.telephoneWithVCode;
d.default.record(d.ReportEventType.regRequest);
r.default.getInstance().loginByTelephone(o);
};
t.prototype.onLoginSuccessEx = function() {
c.default.currPlatType = c.PlatformGameEnum.telephoneWithPassword;
var e = {};
e.devId = c.default.devId;
e.password = c.default.devId;
e.telephone = this.node._data;
e.areaCode = this.node._ereaCode;
e.ptype = c.PlatformGameEnum.telephoneWithVCode;
l.default.inst.showFullView(l.FullScreenType.loading, e);
this.node.onClose();
};
t.prototype.onGetVCodeEx = function() {
var e = this, t = this.node._ereaCode, o = this.node._data;
d.default.record(d.ReportEventType.getVCode);
l.default.inst.showAlertWithConfirm("" + c.default.phoneStart + o, s.default.ins.GET_LOGIN_LANG("sendVCodeDesc"), s.default.ins.GET_LOGIN_LANG("confirmPhoneNumber"), function() {
e.node._btnGetVCode.getComponent(cc.Button).enabled = !1;
e.node._btnGetVCode.opacity = 155;
r.default.getInstance().getVcode(t, c.default.phoneStart + o, 2);
e.node._tickCount = 120;
e.node._labelVCode.string = e.node._tickCount + "s";
e.node.schedule(e.node._onVcodeTick, 1);
});
};
t.prototype.onVcodeTickEx = function() {
if (this.node._tickCount > 0) {
this.node._tickCount--;
this.node._labelVCode.string = this.node._tickCount + "s";
} else {
this.node._btnGetVCode.getComponent(cc.Button).enabled = !0;
this.node._btnGetVCode.opacity = 255;
this.node._labelVCode.string = s.default.ins.GET_LOGIN_LANG("resend");
this.node.unschedule(this.node._onVcodeTick);
this.node.getChildByName("noSmSCode").active = !0;
}
};
return a([ f ], t);
}(u.default));
o.default = m;
cc._RF.pop();
}, {
"../../communication/GameLoginHttp": "GameLoginHttp",
"../../data/GameLangData": "GameLangData",
"../../data/conf/GameInfo": "GameInfo",
"../../manager/DlgGameMgr": "DlgGameMgr",
"../../manager/ReportGameEvent": "ReportGameEvent",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
GetLoginCode: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d74f3VkIKVAmooPv+zk8483", "GetLoginCode");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../manager/DlgGameMgr"), s = e("../../data/conf/GameInfo"), c = e("../../public/MyComponent/GameHppayUtil"), l = e("../../public/MyComponent/WindowBase"), d = e("../../data/GameLangData"), h = e("../executor/GetLoginCodeEx"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._btnClose = null;
t._btnGetVCode = null;
t._btnNext = null;
t._editBoxVCode = null;
t._labelVCode = null;
t._tickCount = 0;
t._ereaCode = "";
t.vcodeDesc = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new h.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
this._btnClose = this.node.getChildByName("cloneBtn");
this._btnGetVCode = this.node.getChildByName("verifyCodeBtn");
this._btnNext = this.node.getChildByName("nextBtn");
this._editBoxVCode = this.node.getChildByName("inputVerifyCode").getComponent(cc.EditBox);
this._editBoxVCode.node.on("text-changed", this.onEditText2Changed, this);
this._labelVCode = this._btnGetVCode.getChildByName("label").getComponent(cc.Label);
c.default.labelShadow(this.node.getChildByName("titelLabel").getComponent(cc.Label));
this._btnGetVCode.getChildByName("label").getComponent(cc.Label).string = d.default.ins.GET_LOGIN_LANG("getVCode");
this._btnNext.getChildByName("label").getComponent(cc.Label).string = d.default.ins.GET_LOGIN_LANG("next");
this._editBoxVCode.placeholderLabel.string = d.default.ins.GET_LOGIN_LANG("inputVCode");
this._btnNext.getComponent(cc.Button).interactable = !1;
this.node.getChildByName("noSmSCode").on("click", function() {
r.default.inst.showFullView(r.FullScreenType.services);
}, this);
this.node.getChildByName("noSmSCode").getComponent(cc.Label).string = d.default.ins.GET_NEWHALL_LANG("noReceiveCode");
this.node.getChildByName("noSmSCode").active = !1;
this.vcodeDesc = this.node.getChildByName("desc").getComponent(cc.Label);
this._btnList = [ this._btnClose, this._btnGetVCode, this._btnNext ];
};
t.prototype.onEditText2Changed = function() {
this.exView.onEditText2ChangedEx();
};
t.prototype.start = function() {
e.prototype.start.call(this);
this._ereaCode = s.default.ereaCode;
this.vcodeDesc.string = "OTP sent to " + this._data + ". Please verify & login";
this.register("REGISTER", [ "ON_LOGIN_PHONE_SUCCESS", "ON_LOGIN_FAILED" ]);
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_LOGIN_PHONE_SUCCESS":
this.onLoginSuccess();
break;

case "ON_LOGIN_FAILED":
c.default.alert(t);
}
};
t.prototype.onBtnClick = function(t) {
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "nextBtn":
this._onNext();
break;

case "cloneBtn":
this._onClose();
break;

case "verifyCodeBtn":
this._onGetVCode();
}
};
t.prototype._onClose = function() {
this.unschedule(this._onVcodeTick);
this.onClose();
};
t.prototype._onNext = function() {
this.exView.onNextEx();
};
t.prototype.onLoginSuccess = function() {
this.exView.onLoginSuccessEx();
};
t.prototype._onGetVCode = function() {
this.exView.onGetVCodeEx();
};
t.prototype._onVcodeTick = function() {
this.exView.onVcodeTickEx();
};
return a([ p ], t);
}(l.default));
o.default = f;
cc._RF.pop();
}, {
"../../data/GameLangData": "GameLangData",
"../../data/conf/GameInfo": "GameInfo",
"../../manager/DlgGameMgr": "DlgGameMgr",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/WindowBase": "WindowBase",
"../executor/GetLoginCodeEx": "GetLoginCodeEx"
} ],
GiftData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e19a48H1ipFgbx9XUHaNvlc", "GiftData");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../Conf/Config"), n = e("../Conf/Game"), a = e("../Http/MyHttp"), r = e("./GameData"), s = function() {
function e() {
this._myGiftList = [];
this._giftList = [];
this._giftHashInfo = {};
}
Object.defineProperty(e.prototype, "myGiftList", {
get: function() {
return this._myGiftList;
},
set: function(e) {
this._myGiftList = e;
},
enumerable: !1,
configurable: !0
});
e.prototype.pushMyGiftList = function(e) {
this._myGiftList.push({
id: e.indexId,
giftId: e.giftId,
status: 0,
expireTime: e.expireTime
});
};
e.prototype.readGiftData = function() {
var e = i.ConfigDefault.resourceUrl + "gifts/gift_" + n.default.uploadLanguage[r.default.UserData.showLanguage].toLocaleUpperCase() + ".json?ver=" + i.default.giftVer;
a.default.getInstance().httpGet(e, function(e) {
var t = this;
console.log(e, "");
this._giftList = e;
this._giftHashInfo = {};
for (var o in this._giftList) this._giftList[o].items.forEach(function(e) {
t._giftHashInfo[e.id] = e;
});
}.bind(this));
};
e.prototype.toGiftIdGetInfo = function(e) {
return this._giftHashInfo[e];
};
e.prototype.getGiftList = function() {
return this._giftList;
};
Object.defineProperty(e, "ins", {
get: function() {
this._inst || (this._inst = new e());
return this._inst;
},
enumerable: !1,
configurable: !0
});
return e;
}();
o.default = s;
cc._RF.pop();
}, {
"../Conf/Config": "Config",
"../Conf/Game": "Game",
"../Http/MyHttp": "MyHttp",
"./GameData": "GameData"
} ],
GlobalHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "97861Bw45RARLIDvaYH8CIV", "GlobalHelper");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function() {
function e() {}
e.Register = function(t, o) {
e[t] = o;
};
e.Get = function(t) {
return e._globalMap[t] ? e._globalMap[t] : void 0;
};
e._globalMap = {};
return e;
}();
o.default = i;
window.GlobalHelper = i;
cc._RF.pop();
}, {} ],
GoogleAdMob: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "02077UhL5VLF6bMMobu16Ex", "GoogleAdMob");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Conf/GuardConfig"), s = e("../Manager/ADManager"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
o = t;
Object.defineProperty(t, "inst", {
get: function() {
null == this._inst && (this._inst = new o());
return this._inst;
},
enumerable: !1,
configurable: !0
});
t.prototype.initAD = function(e) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("GoogleAdMob", "initAD:", e) : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(r.AndroidInterfacePath.GoogleMobInterface, "initAD", "(Ljava/lang/String;)V", e));
};
t.prototype.loadAD = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("GoogleAdMob", "loadRewardedAd:", "none") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(r.AndroidInterfacePath.GoogleMobInterface, "loadRewardedAd", "()V"));
};
t.prototype.showAD = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("GoogleAdMob", "showRewardedAd:", "none") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(r.AndroidInterfacePath.GoogleMobInterface, "showRewardedAd", "()V"));
};
t.prototype.onCompleteAD = function(e) {
console.log("on complete google admob , reward = ", e);
s.default.inst.onCompleteAD(s.ADType.googleMob, e);
};
t.prototype.onLoadAdFailed = function() {
s.default.inst.onLoadAdFailed(s.ADType.googleMob);
};
var o;
t._inst = null;
return o = a([ l ], t);
}(cc.Component));
o.default = d;
cc.GoogleMobCallBack = d.inst;
cc._RF.pop();
}, {
"../Conf/GuardConfig": "GuardConfig",
"../Manager/ADManager": "ADManager"
} ],
GuardConfig: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f4655pSy8xOz76QdmnrXgPr", "GuardConfig");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.PhpUrl = o.AndroidInterfacePath = void 0;
(function(e) {
e.SystemInterface = "com/festival/spring/FirstActivity";
e.AppActivity = "com/festival/spring/FirstActivity";
e.GooglePayInterface = "com/range/utils/GPurchase";
e.FirebaseInterface = "com/range/main/FBInterface";
e.MainActivity = "com/range/main/SecondActivity";
e.UrlManager = "com/range/main/SecondActivity";
})(o.AndroidInterfacePath || (o.AndroidInterfacePath = {}));
(function(e) {
e.check = "opix/2a0e";
e.login = "opix/2a0a";
e.home = "opix/2a0b";
e.action = "opix/2a0c";
})(o.PhpUrl || (o.PhpUrl = {}));
cc._RF.pop();
}, {} ],
HallGameInviteHold: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a4c8dPLuudBSY+uF5byCusK", "HallGameInviteHold");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../Components/MyEvent"), s = e("../../Data/InviteData"), c = e("../../Data/LanguageData"), l = e("../../Util/GameUtil"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._labelRoomInfo = null;
t._labelCountDown = null;
t._data = null;
t._counter = 0;
return t;
}
t.prototype.onLoad = function() {};
t.prototype.load = function() {
this._labelRoomInfo = this.node.getChildByName("labelRoomDetails").getComponent(cc.Label);
this._labelCountDown = this.node.getChildByName("labelCountdown").getComponent(cc.Label);
this.node.getChildByName("btnEnterRoom").on("click", this._onEnterRoom, this);
this.node.getChildByName("labelEnterRoom").getComponent(cc.Label).string = c.default.ins.STRING_LOGIN("enterGame");
};
t.prototype.startCountDown = function(e) {
this._data = e;
this._counter = 60;
var t = this._data.type, o = this._data.roomId;
this._labelRoomInfo.string = s.default.getInstance().roomTypeDesc(t) + " " + s.default.getInstance().roomTypeHead(t) + o;
this.schedule(this._countDown, 1);
};
t.prototype._countDown = function() {
this._counter--;
if (this._counter >= 0) this._labelCountDown.string = l.default.formatTime(this._counter, 2); else {
this.unschedule(this._countDown);
r.MyEvent.getInstance().emit("EVENT_REMOVE_INVITED_HOLD");
}
};
t.prototype._onEnterRoom = function() {
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this.unschedule(this._countDown);
l.default.enterRoom(this._data.gameType, this._data.type, this._data.roomId, 1);
};
t.prototype.onDestroy = function() {
this.unschedule(this._countDown);
};
return a([ h ], t);
}(cc.Component));
o.default = u;
cc._RF.pop();
}, {
"../../Components/MyEvent": "MyEvent",
"../../Data/InviteData": "InviteData",
"../../Data/LanguageData": "LanguageData",
"../../Util/GameUtil": "GameUtil"
} ],
HallInviteDialog: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "84b03PwGPJO/7FwJ5qjGMBM", "HallInviteDialog");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../Components/DialogBase"), s = e("../../Components/MyEvent"), c = e("../../Data/InviteData"), l = e("../../Data/LanguageData"), d = e("../../Manager/DialogManager"), h = e("../../Util/GameUtil"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._imageHead = null;
t._country = null;
t._labelCoins = null;
t._labelNickName = null;
t._labelPlatform = null;
t._labelFromUser = null;
t._labelRoomDetails = null;
t._labelRoomGame = null;
t._counter = 60;
return t;
}
t.prototype.onLoad = function() {
this.node.getChildByName("btnClose").on("click", this.onClose, this);
this.node.getChildByName("btnDeny").on("click", this._onDeny, this);
this.node.getChildByName("btnAccept").on("click", this._onAccept, this);
this.node.getChildByName("btnLater").on("click", this._onLater, this);
this._imageHead = this.node.getChildByName("headBg").getChildByName("head").getComponent(cc.Sprite);
this._labelCoins = this.node.getChildByName("labelCoins").getComponent(cc.Label);
this._country = this.node.getChildByName("country");
this._labelNickName = this.node.getChildByName("nickName");
this._labelPlatform = this.node.getChildByName("platformName");
this._labelFromUser = this.node.getChildByName("from");
this._labelRoomDetails = this.node.getChildByName("labelRoomDetails");
this._labelRoomGame = this.node.getChildByName("roomGame");
this._labelFromUser.getComponent(cc.Label).string = l.default.ins.STRING_ROOM("fromUser");
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = l.default.ins.STRING_COMMON("invite");
this.node.getChildByName("content").getComponent(cc.Label).string = l.default.ins.STRING_ROOM("invitePlaying");
this.node.getChildByName("roomGame").getComponent(cc.Label).string = l.default.ins.STRING_ROOM("roomGame");
this.node.getChildByName("btnDeny").getChildByName("Label").getComponent(cc.Label).string = l.default.ins.STRING_COMMON("deny");
this.node.getChildByName("btnAccept").getChildByName("Label").getComponent(cc.Label).string = l.default.ins.STRING_COMMON("accept");
this.node.getChildByName("btnLater").getChildByName("Label").getComponent(cc.Label).string = l.default.ins.STRING_ROOM("holdTemporarily");
this.node.getChildByName("btnLater").getChildByName("Label").getChildByName("Label").getComponent(cc.Label).string = l.default.ins.STRING_ROOM("canPlayGameLater");
};
t.prototype.start = function() {
e.prototype.start.call(this);
this._labelCoins.string = h.default.cul(this._data.gold);
this._labelNickName.getComponent(cc.Label).string = this._data.nickName;
"" != this._data.platform ? this._labelPlatform.getComponent(cc.Label).string = "(" + this._data.platform + ") " : this._labelPlatform.getComponent(cc.Label).string = this._data.platform + " ";
if (1 == this._data.isFriend) this._labelFromUser.getComponent(cc.Label).string = l.default.ins.STRING_ROOM("fromFriend"); else {
this._labelFromUser.getComponent(cc.Label).string = l.default.ins.STRING_ROOM("fromUser");
this._labelPlatform.getComponent(cc.Label).string = " ";
}
var t = this._data.type, o = this._data.roomId, i = this._data.smallBlind, n = this._data.maxBlind;
this._labelRoomDetails.getComponent(cc.Label).string = c.default.getInstance().roomTypeDesc(t - 1) + " " + c.default.getInstance().roomTypeHead(t - 1) + h.default.formatNumberWithZeroHead(o, 4) + " " + h.default.formatMoneyShorter(i) + "-" + h.default.formatMoneyShorter(n) + " ";
this._labelNickName.getComponent(cc.Label)._forceUpdateRenderData(!0);
this._labelPlatform.getComponent(cc.Label)._forceUpdateRenderData(!0);
this._labelFromUser.getComponent(cc.Label)._forceUpdateRenderData(!0);
this._labelRoomDetails.getComponent(cc.Label)._forceUpdateRenderData(!0);
this._labelRoomGame.getComponent(cc.Label)._forceUpdateRenderData(!0);
this._labelPlatform.x = this._labelNickName.x + this._labelNickName.width;
this._labelFromUser.x = this._labelPlatform.x + this._labelPlatform.width;
var a = this._labelRoomDetails.width + this._labelRoomGame.width;
this._labelRoomDetails.x = 0 - a / 2;
this._labelRoomGame.x = this._labelRoomDetails.x + this._labelRoomDetails.width;
h.default.playerHead(this._imageHead, this._data.fromUid);
h.default.setCountry(this._country, this._data.country);
h.default.setVipExp(this.node.getChildByName("headBg").getChildByName("vip"), this._data.vipExp);
h.default.setVipNameColor(this._labelNickName, this._data.vipExp, new cc.Color(149, 186, 244));
this._counter = 60;
this.schedule(this._countDown, 1);
};
t.prototype._countDown = function() {
if (this._counter > 0) this._counter--; else {
this.unschedule(this._countDown);
this.onClose();
}
};
t.prototype._onAccept = function() {
c.default.getInstance().delete(this._data.fromUid);
h.default.enterRoom(this._data.gameType, this._data.type, this._data.roomId, 1);
this.onClose();
};
t.prototype._onLater = function() {
c.default.getInstance().delete(this._data.fromUid);
s.MyEvent.getInstance().emit("START_GAME_HOLD", this._data);
this.onClose();
};
t.prototype._onDeny = function() {
c.default.getInstance().delete(this._data.fromUid);
d.default.inst.showDialog(d.DialogIndex.denyInviteDialog, this._data);
this.onClose();
};
return a([ p ], t);
}(r.default));
o.default = f;
cc._RF.pop();
}, {
"../../Components/DialogBase": "DialogBase",
"../../Components/MyEvent": "MyEvent",
"../../Data/InviteData": "InviteData",
"../../Data/LanguageData": "LanguageData",
"../../Manager/DialogManager": "DialogManager",
"../../Util/GameUtil": "GameUtil"
} ],
HappyGameSocket: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "79d70FNs3ZGyowHSB+0cO7W", "HappyGameSocket");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("./SocketGameManager"), a = cc._decorator, r = a.ccclass, s = (a.property, 
function() {
function e() {
this.allData = new ArrayBuffer(8192);
this.alldataView = new DataView(this.allData);
this.buffLength = 0;
this.newBuffer = null;
this.websocketRecv = {};
this.viewLength = 0;
this.proc_func = new Map();
this.webDebug = !1;
}
e.prototype.start = function() {};
e.prototype.pencilBegin = function(e, t) {
this.buffLength = 0;
var o = t, i = e;
this.pencilInt(0);
this.pencilByte(0);
this.pencilByte(1);
this.pencilByte(o);
this.pencilByte(0);
this.pencilByte(0);
this.pencilShort(i);
console.log("send", e.toString(16), t);
};
e.prototype.pencilByte = function(e) {
this.alldataView.setInt8(this.buffLength, e);
this.buffLength += 1;
};
e.prototype.pencilShort = function(e) {
this.alldataView.setInt16(this.buffLength, e);
this.buffLength += 2;
};
e.prototype.pencilInt = function(e) {
this.alldataView.setInt32(this.buffLength, e);
this.buffLength += 4;
};
e.prototype.pencilInt64 = function(e) {
var t = e % Math.pow(2, 32), o = Math.floor(e / Math.pow(2, 32));
this.alldataView.setUint32(this.buffLength, o, !1);
this.buffLength += 4;
this.alldataView.setUint32(this.buffLength, t, !1);
this.buffLength += 4;
};
e.prototype.pencilString = function(e) {
var t = this.encodeUtf8(e), o = new Uint8Array(t), i = o.length, n = new DataView(o.buffer);
this.pencilInt(i);
for (var a = 0; a < i; a++) this.pencilByte(n.getInt8(a));
};
e.prototype.encodeUtf8 = function(e) {
for (var t = encodeURIComponent(e), o = [], i = 0; i < t.length; i++) {
var n = t.charAt(i);
if ("%" === n) {
var a = t.charAt(i + 1) + t.charAt(i + 2), r = parseInt(a, 16);
o.push(r);
i += 2;
} else o.push(n.charCodeAt(0));
}
return o;
};
e.prototype.pencilEnd = function() {
this.alldataView.setInt16(2, this.buffLength - 4, !1);
this.alldataView.setInt16(0, 29800);
this.newBuffer = this.allData.slice(0, this.buffLength);
n.default.getInstance().isReady() ? n.default.getInstance().sendData(this.newBuffer) : console.log("Websockett is not ready");
this.buffLength = 0;
};
e.prototype.learnBegin = function(e) {
this.viewLength = 11;
this.view = e;
};
e.prototype.learnByte = function(e) {
var t;
t = e ? this.view.getInt8(this.viewLength) : this.view.getUint8(this.viewLength);
this.viewLength += 1;
this.webDebug;
return t;
};
e.prototype.learnShort = function(e) {
var t;
t = e ? this.view.getInt16(this.viewLength) : this.view.getUint16(this.viewLength);
this.viewLength = this.viewLength + 2;
this.webDebug;
return t;
};
e.prototype.learnInt = function() {
var e;
e = this.view.getUint32(this.viewLength);
this.viewLength = this.viewLength + 4;
this.webDebug;
return e;
};
e.prototype.learnInt64 = function() {
var e, t = this.view.getUint32(this.viewLength);
this.viewLength += 4;
e = this.view.getUint32(this.viewLength);
this.viewLength += 4;
var o = Math.pow(2, 32) * t + e;
this.webDebug;
return o;
};
e.prototype.learnString = function() {
var e, t = this.learnInt(), o = new ArrayBuffer(t - 0);
o = this.viewArr.slice(this.viewLength, t + this.viewLength - 0);
e = this.utf8ByteToUnicodeStr(new Uint8Array(o));
this.viewLength = this.viewLength + t;
this.webDebug;
return e;
};
e.prototype.utf8ByteToUnicodeStr = function(e) {
for (var t = "", o = 0; o < e.length; ) {
var i = e[o], n = 0;
if (i >>> 7 == 0) {
t += String.fromCharCode(e[o]);
o += 1;
} else if (252 == (252 & i)) {
n = (3 & e[o]) << 30;
n |= (63 & e[o + 1]) << 24;
n |= (63 & e[o + 2]) << 18;
n |= (63 & e[o + 3]) << 12;
n |= (63 & e[o + 4]) << 6;
n |= 63 & e[o + 5];
t += String.fromCodePoint(n);
o += 6;
} else if (248 == (248 & i)) {
n = (7 & e[o]) << 24;
n |= (63 & e[o + 1]) << 18;
n |= (63 & e[o + 2]) << 12;
n |= (63 & e[o + 3]) << 6;
n |= 63 & e[o + 4];
t += String.fromCodePoint(n);
o += 5;
} else if (240 == (240 & i)) {
n = (15 & e[o]) << 18;
n |= (63 & e[o + 1]) << 12;
n |= (63 & e[o + 2]) << 6;
n |= 63 & e[o + 3];
t += String.fromCodePoint(n);
o += 4;
} else if (224 == (224 & i)) {
n = (31 & e[o]) << 12;
n |= (63 & e[o + 1]) << 6;
n |= 63 & e[o + 2];
t += String.fromCharCode(n);
o += 3;
} else if (192 == (192 & i)) {
n = (63 & e[o]) << 6;
n |= 63 & e[o + 1];
t += String.fromCharCode(n);
o += 2;
} else {
t += String.fromCharCode(e[o]);
o += 1;
}
}
return t;
};
return i([ r ], e);
}());
o.default = s;
cc._RF.pop();
}, {
"./SocketGameManager": "SocketGameManager"
} ],
HeadPhoto: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e738dSx1DJIUo6XoGJFDqUJ", "HeadPhoto");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Util/GameUtil"), s = cc._decorator, c = s.ccclass, l = (s.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.loadPhoto = function(e) {
console.log("load head photo uid = ", e);
var t = this.node.getChildByName("photoMask").getChildByName("photo").getComponent(cc.Sprite);
r.default.playerHead(t, e);
};
return a([ c ], t);
}(cc.Component));
o.default = l;
cc._RF.pop();
}, {
"../Util/GameUtil": "GameUtil"
} ],
Help: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c8916JMCdFL/pk0HlSC1DZu", "Help");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../PublicTools/DialogRoot"), s = e("../GameFireData/GameAllData"), c = e("../GameFireData/GameAllConst"), l = e("../GameFireData/GameDataInfo"), d = e("../FireData/CommonData"), h = e("../EXUIFrame/config/EXSysDefine"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.formType = h.FormType.FixedUI;
t.webView = null;
return t;
}
t.prototype.onLoad = function() {
this.webView = this.node.getChildByName("dialog").getChildByName("webview").getComponent(cc.WebView);
this.node.getChildByName("dialog").getChildByName("btnBack").on("click", this.onClose, this);
};
t.prototype.start = function() {
this.webView.url = this._getCommon("page/rule");
};
t.prototype._getCommon = function(e, t) {
var o = {};
o.gameid = l.default.gameid;
o.appid = l.default.appid;
o.ver = l.default.ver;
o.hver = l.default.hver;
o.locale = l.LocalLanguage.tw;
o.ukey = d.default.UserData.ukey;
o.uid = d.default.UserData.userId;
o.width = cc.winSize.width;
o.height = cc.winSize.height;
o.gameType = c.gameType.blackjack;
o.only = 1;
var i = "";
for (var n in o) i += n + "=" + o[n] + "&";
if (t) for (var n in t) i += n + "=" + t[n] + "&";
return "" + s.default.webviewUrl + e + "?" + i;
};
return a([ p ], t);
}(r.default));
o.default = f;
cc._RF.pop();
}, {
"../EXUIFrame/config/EXSysDefine": "EXSysDefine",
"../FireData/CommonData": "CommonData",
"../GameFireData/GameAllConst": "GameAllConst",
"../GameFireData/GameAllData": "GameAllData",
"../GameFireData/GameDataInfo": "GameDataInfo",
"../PublicTools/DialogRoot": "DialogRoot"
} ],
HotUpdateManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b27d6P37hRJYJS/0QeQSfQe", "HotUpdateManager");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("../public/MyComponent/GameEvent"), a = window.jsb, r = cc._decorator, s = r.ccclass, c = (r.property, 
function() {
function e() {
this.latest_hot_version = 100;
}
t = e;
e.initHotUpdate = function(e) {
if (a) {
this.manifestUrl = e;
this.customManifestStr = this.manifestUrl._nativeAsset;
console.log("manifestUrl:", this.manifestUrl);
var t = JSON.parse(this.manifestUrl._nativeAsset).version;
console.log("version:", t);
this._storagePath = (a.fileUtils ? a.fileUtils.getWritablePath() : "/") + this.STORAGE_PATH;
console.log("Storage path for remote asset : " + this._storagePath);
this.versionCompareHandle = function(e, t) {
console.log("loading progress JS Custom Version Compare: version A is " + e + ", version B is " + t);
for (var o = e.split("."), i = t.split("."), n = 0; n < o.length; ++n) {
var a = parseInt(o[n]), r = parseInt(i[n] || "0");
if (a !== r) return a - r;
}
return i.length > o.length ? -1 : 0;
};
this._am = new a.AssetsManager("", this._storagePath, this.versionCompareHandle);
this._am.setVerifyCallback(function(e, t) {
var o = t.compressed, i = (t.md5, t.path);
t.size;
if (o) {
this.descLabel.string = "Verification passed : " + i;
return !0;
}
return !0;
});
cc.sys.os === cc.sys.OS_ANDROID && this._am.setMaxConcurrentTask(2);
this.checkUpdate();
} else this.onUpdateSkip();
};
e.checkUpdate = function() {
if (this._am.getState() === a.AssetsManager.State.UNINITED) {
var e = this.manifestUrl.nativeUrl;
this._am.loadLocalManifest(e);
}
if (this._am.getLocalManifest() && this._am.getLocalManifest().isLoaded()) {
this._am.setEventCallback(this.updateCb.bind(this));
this.currState;
this._am.checkUpdate();
} else this.onUpdateSkip();
};
e.hotUpdate = function() {
if (this._am) {
this._am.setEventCallback(this.updateCb.bind(this));
if (this._am.getState() === a.AssetsManager.State.UNINITED) {
var e = this.manifestUrl.nativeUrl;
this._am.loadLocalManifest(e);
}
this.currState = 2;
this._am.update();
}
};
e.updateCb = function(e) {
console.log("updateCb Code: " + e.getEventCode());
switch (e.getEventCode()) {
case a.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:
console.log("updateCb ERROR_NO_LOCAL_MANIFEST");
this.onUpdateSkip();
break;

case a.EventAssetsManager.UPDATE_PROGRESSION:
this.onUpdateProcess(e);
break;

case a.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:
console.log("updateCb ERROR_DOWNLOAD_MANIFEST");
this.onUpdateSkip();
break;

case a.EventAssetsManager.ERROR_PARSE_MANIFEST:
console.log("updateCb ERROR_PARSE_MANIFEST");
this.onUpdateSkip();
break;

case a.EventAssetsManager.NEW_VERSION_FOUND:
console.log("checkCb NEW_VERSION_FOUND");
this.onNewVersionFound();
break;

case a.EventAssetsManager.ALREADY_UP_TO_DATE:
console.log("updateCb ALREADY_UP_TO_DATE");
this.onUpdateSkip();
break;

case a.EventAssetsManager.UPDATE_FINISHED:
console.log("updateCb UPDATE_FINISHED");
this.onUpdateFinished();
break;

case a.EventAssetsManager.UPDATE_FAILED:
console.log("updateCb UPDATE_FAILED");
this.onUpdateFailed("hotupdate Fail " + e.getMessage());
break;

case a.EventAssetsManager.ERROR_UPDATING:
console.log("updateCb ERROR_UPDATING");
var t = "hotupdate Fail " + e.getAssetId() + ", " + e.getMessage();
this.onUpdateFailed(t);
break;

case a.EventAssetsManager.ERROR_DECOMPRESS:
console.log("updateCb ERROR_DECOMPRESS");
this.onUpdateFailed("hotupdate Fail " + e.getMessage());
break;

case a.EventAssetsManager.ASSET_UPDATED:
console.log("updateCb ASSET_UPDATED");
break;

default:
console.log("updateCb default");
this.onUpdateFailed("hotupdate Fail " + e.getMessage());
}
};
e.onUpdateFailed = function(e) {
console.log("hotupdate onUpdateFailed ", e);
n.GameEvent.ins().emit("ON_UPDATE_ERROR");
};
e.onUpdateFinished = function() {
console.log("hotupdate onUpdateFinished");
n.GameEvent.ins().emit("ON_UPDATE_FINISHED");
t.restartGame();
};
e.onUpdateSkip = function() {
console.log("hotupdate onUpdateSkip");
n.GameEvent.ins().emit("ON_UPDATE_SKIP");
};
e.onNewVersionFound = function() {
console.log("hotupdate onNewVersionFound");
n.GameEvent.ins().emit("ON_UPDATE_START");
};
e.onUpdateProcess = function(e) {
var t = e.getTotalFiles();
if (t > 0) {
var o = e.getDownloadedFiles(), i = parseInt((100 * o / t).toFixed(0));
n.GameEvent.ins().emit("ON_UPDATE_PROGRESS", i);
console.log("loading progress percent: " + i + " files " + o, "/", t);
var a = e.getMessage();
a && console.log("Updated file: " + a);
}
};
e.restartGame = function() {
this._am.setEventCallback(null);
var e = a.fileUtils.getSearchPaths(), t = this._am.getLocalManifest().getSearchPaths();
console.log(JSON.stringify(t));
Array.prototype.unshift.apply(e, t);
localStorage.setItem("HotUpdateSearchPaths", JSON.stringify(e));
a.fileUtils.setSearchPaths(e);
setTimeout(function() {
cc.game.restart();
}, 200);
};
e.unRegisterCallBack = function() {
!a && this._am && this._am.setEventCallback(null);
};
e.getCacheVersion = function() {
if (!a) return null;
var e = (a.fileUtils ? a.fileUtils.getWritablePath() : "/") + this.STORAGE_PATH;
if (a.fileUtils.isFileExist(e + "/project.manifest")) {
var t = a.fileUtils.getStringFromFile(e + "/project.manifest"), o = JSON.parse(t).version;
console.log("hot version = ", o);
return o;
}
return null;
};
e.modifyAppLoadUrlForManifestFile = function(e, t, o) {
var i = (a.fileUtils ? a.fileUtils.getWritablePath() : "/") + this.STORAGE_PATH, n = cc.sys.localStorage.getItem(this.REMOTE_URL_KEY);
console.log("cache hotUrl = ", n);
if (n && n == e) o(); else if (a.fileUtils.isFileExist(i + "/project.manifest")) {
console.log("[HotUpdate] modifyAppLoadUrlForManifestFile: manifest");
var r = a.fileUtils.getStringFromFile(i + "/project.manifest");
(c = JSON.parse(r)).packageUrl = e;
c.remoteManifestUrl = e + "project.manifest";
c.remoteVersionUrl = e + "version.manifest";
var s = JSON.stringify(c);
(l = a.fileUtils.writeStringToFile(s, i + "/project.manifest")) && cc.sys.localStorage.setItem(this.REMOTE_URL_KEY, e);
console.log("[HotUpdate] ,project.manifest:", l);
console.log("[HotUpdate] :", c.packageUrl, c.remoteManifestUrl, c.remoteVersionUrl);
o();
} else {
console.log("[HotUpdate] modifyAppLoadUrlForManifestFile: ");
a.fileUtils.isDirectoryExist(i) || a.fileUtils.createDirectory(i);
var c, l;
r = a.fileUtils.getStringFromFile(t.nativeUrl);
(c = JSON.parse(r)).packageUrl = e;
c.remoteManifestUrl = e + "project.manifest";
c.remoteVersionUrl = e + "version.manifest";
s = JSON.stringify(c);
(l = a.fileUtils.writeStringToFile(s, i + "/project.manifest")) && cc.sys.localStorage.setItem(this.REMOTE_URL_KEY, e);
console.log("[HotUpdate] ,project.manifest:", l);
console.log("[HotUpdate] :", c.packageUrl, c.remoteManifestUrl, c.remoteVersionUrl);
o();
}
};
var t;
e._storagePath = "";
e._am = null;
e.currState = 1;
e.isEnterGame = !1;
e.manifestUrl = null;
e.REMOTE_URL_KEY = "REMOTE_URL_KEY";
e.STORAGE_PATH = "galaxy-remote-asset";
return t = i([ s ], e);
}());
o.default = c;
cc._RF.pop();
}, {
"../public/MyComponent/GameEvent": "GameEvent"
} ],
HpgAgentGameEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "12579aypkdK+KKYT/fwRKUF", "HpgAgentGameEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../communication/GameLobbyHttp"), s = e("../../../data/GameLangData"), c = e("../../../data/conf/GameInfo"), l = e("../../../data/conf/GameRes"), d = e("../../../manager/GameSoundMgr"), h = e("../../../manager/PlatformInterface"), u = e("../../../public/MyComponent/GameHppayUtil"), p = e("../../../public/MyComponent/ViewExecutorBase"), f = cc._decorator, m = f.ccclass, g = (f.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.updateLanguageUIEx = function() {
var e = this.node.rootNode.getChildByName("leftChoose");
e.getChildByName("deposit").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("agentItem1");
e.getChildByName("withdraw").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("agentItem2");
e.getChildByName("refferal").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("agentItem3");
e.getChildByName("desc").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("agentItem4");
var t = this.node.chargeNode.getChildByName("bgTotal");
t.getChildByName("labelTotalMoneyDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("totalReward");
t.getChildByName("labelLeftMoneyDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("totalAgentReward");
t.getChildByName("labelWithdrawMoneyDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("totalChargeReward");
var o = this.node.chargeNode.getChildByName("bgWarning");
o.getChildByName("labelStep1").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("step1Desc1");
o.getChildByName("labelStep1_1").getComponent(cc.Label).string = c.default.gameMoneyUnit + this.node.agentInfo.inviteReward;
o.getChildByName("labelStep2").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("step2Desc1");
o.getChildByName("labelStep3").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("step3Desc1");
o.getChildByName("labelStep3_1").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("step3Desc2");
o.getChildByName("labelStep4").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("step4Desc");
o.getChildByName("labelTips").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("stepRewarcDesc");
var i = o.getChildByName("labelStep2_1").getComponent(cc.Label), n = o.getChildByName("labelStep2_2").getComponent(cc.Label);
i.string = s.default.ins.GET_NEWHALL_LANG("step2Desc2");
n.string = s.default.ins.GET_NEWHALL_LANG("step2Desc3").replace("$$", this.node.agentInfo.chargeRewardPercent);
i._forceUpdateRenderData(!0);
n._forceUpdateRenderData(!0);
var a = i.node.width + n.node.width + 8;
i.node.x = -146 - a / 2;
n.node.x = i.node.x + i.node.width + 8;
this.node.chargeNode.getChildByName("btnWhatsApp").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("downloadQRCode");
var r = this.node.withdrawNode.getChildByName("bgTotal");
r.getChildByName("labelTotalMoneyDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("totalReward");
r.getChildByName("labelLeftMoneyDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("totalAgentReward");
r.getChildByName("labelWithdrawMoneyDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("totalChargeReward");
this.node.withdrawNode.getChildByName("bg2_black").getChildByName("labelDate").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("date");
this.node.withdrawNode.getChildByName("bg2_black").getChildByName("labelReward").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("agentReward");
this.node.withdrawNode.getChildByName("btn7Day").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("dateType1");
this.node.withdrawNode.getChildByName("btn1Month").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("dateType2");
this.node.withdrawNode.getChildByName("btn3Month").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("dateType3");
this.node.noRecordTipsNode.getChildByName("labelNoFriendDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("noFriendDesc");
this.node.noRecordTipsNode.getChildByName("labelNoFriendDesc1").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("noFriendDesc1");
this.node.noRecordTipsNode.getChildByName("labelNoFriendDesc2").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("noFriendDesc2");
this.node.referralNode.getChildByName("labelUserName").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("nickName");
this.node.referralNode.getChildByName("labelReward1").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("awardToday");
this.node.referralNode.getChildByName("labelReward2").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("awardYestoday");
this.node.referralNode.getChildByName("labelReward3").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("awardTotal");
this.node.descNode.getChildByName("bg2").getChildByName("labelTitle").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("agentItem4");
this.node.descNode.getChildByName("bg2").getChildByName("labelRules").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("ggtDescription");
u.default.loadSprAtlasFrame(this.node.rootNode.getChildByName("leftChoose").getChildByName("chip").getChildByName("icon"), l.GameResInfo.CURRENCY_ROOT_DIR + l.GameResInfo.CURRENCY_ICON);
u.default.loadSprAtlasFrame(o.getChildByName("banner"), l.GameResInfo.LAN_ROOT_DIR + l.GameResInfo.AGENT_BANNEL);
u.default.loadSprAtlasFrame(o.getChildByName("icon_4"), l.GameResInfo.CURRENCY_ROOT_DIR + l.GameResInfo.AGENT_STEP4);
};
t.prototype.onListRewardListEx = function(e, t) {
var o = this.node.rewardData[t];
e.getChildByName("labelTime").getComponent(cc.Label).string = o.day;
e.getChildByName("labelKickbackMoney").getComponent(cc.Label).string = c.default.gameMoneyUnit + u.default.cul(o.total);
e.getChildByName("labelTotalMoney").getComponent(cc.Label).string = c.default.gameMoneyUnit + u.default.cul(o.pay);
e.getChildByName("labelValidMoney").getComponent(cc.Label).string = c.default.gameMoneyUnit + u.default.cul(o.invite);
e.getChildByName("labelKickback").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("rewardToday") + ": ";
e.getChildByName("labelTotal").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("recommend") + ": ";
e.getChildByName("labelValid").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("agentCharge") + ": ";
};
t.prototype.onContactEx = function() {
d.default.inst.playGameEffect(d.AudioRes.click);
u.default.showFeedback();
};
t.prototype.onLineEx = function() {
d.default.inst.playGameEffect(d.AudioRes.click);
h.default.shareToWhatsApp(this.node.agentInfo.inviteReward, s.default.ins.GET_NEWHALL_LANG("share").replace("$$", c.default.gameMoneyUnit + this.node.agentInfo.inviteReward) + this.node.agentInfo.shareUrl);
};
t.prototype.onFacebookEx = function() {
d.default.inst.playGameEffect(d.AudioRes.click);
h.default.shareImageToFacebook(this.node.agentInfo.inviteReward, this.node.agentInfo.shareUrl);
};
t.prototype.onWhatsAppEx = function() {
d.default.inst.playGameEffect(d.AudioRes.click);
h.default.saveQRToLocal(this.node.agentInfo.inviteReward, this.node.agentInfo.shareUrl);
};
t.prototype.on7DayEx = function() {
d.default.inst.playGameEffect(d.AudioRes.click);
this.node.itemSelected.x = this.node.withdrawNode.getChildByName("btn7Day").x;
r.default.getInstance().getAgentRewardList(1);
};
t.prototype.on1MonthEx = function() {
d.default.inst.playGameEffect(d.AudioRes.click);
this.node.itemSelected.x = this.node.withdrawNode.getChildByName("btn1Month").x;
r.default.getInstance().getAgentRewardList(2);
};
t.prototype.on3MonthEx = function() {
d.default.inst.playGameEffect(d.AudioRes.click);
this.node.itemSelected.x = this.node.withdrawNode.getChildByName("btn3Month").x;
r.default.getInstance().getAgentRewardList(3);
};
t.prototype.onShareEx = function() {
d.default.inst.playGameEffect(d.AudioRes.click);
var e = s.default.ins.GET_NEWHALL_LANG("share").replace("$$", c.default.gameMoneyUnit + this.node.agentInfo.inviteReward) + this.node.agentInfo.shareUrl;
h.default.shareWithOS(e, this.node.agentInfo.shareUrl);
};
return a([ m ], t);
}(p.default));
o.default = g;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../data/conf/GameRes": "GameRes",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../manager/PlatformInterface": "PlatformInterface",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
HpgAgentGame: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "446692oXEJNmJJXT/47ZBYO", "HpgAgentGame");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../data/conf/GameInfo"), c = e("../../../data/MyData"), l = e("../../../data/GameLangData"), d = e("../../../public/ThirdParty/GameSysDefine"), h = e("../../../public/ThirdParty/happyList"), u = e("../../../manager/GameSoundMgr"), p = e("../../../public/MyComponent/GameHppayUtil"), f = e("../../executor/bank/HpgAgentGameEx"), m = e("../../../communication/GameLobbyHttp"), g = e("../../../manager/PlatformInterface"), y = cc._decorator, _ = y.ccclass, C = (y.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.chargeNode = null;
t.withdrawNode = null;
t.referralNode = null;
t.descNode = null;
t.btnCharge = null;
t.btnWithdraw = null;
t.btnReferral = null;
t.btndesc = null;
t.chargeLabel = null;
t.withdrawLabel = null;
t.referralLabel = null;
t.descLabel = null;
t.imageSideSelectedItem = null;
t.title = null;
t.noUserNode = null;
t.rewardList = null;
t.rewardData = [];
t.userList = null;
t.userData = [];
t.noRecordTipsNode = null;
t.formType = d.FormType.FixedUI;
t.rootNode = null;
t.currShowIndex = 1;
t._labelMyChip = null;
t.totalMoney1 = null;
t.totalMoney2 = null;
t.totalMoney3 = null;
t.award1 = null;
t.award2 = null;
t.totalMoney4 = null;
t.totalMoney5 = null;
t.totalMoney6 = null;
t.itemSelected = null;
t.currUserPage = 1;
t.maxPages = 1;
t.currUserSort = "";
t.agentInfo = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new f.default();
this.exView.setProxy(this);
var e = this.node.getChildByName("dlgBg").getChildByName("bg");
this.setNodeFullScreen(e);
};
t.prototype.setView = function() {
var e = this;
this.rootNode = this.node.getChildByName("dlgBg");
var t = this.rootNode.getChildByName("leftChoose");
t.getChildByName("btnBack").on("click", this.onClose, this);
this.btnCharge = t.getChildByName("deposit");
this.btnCharge.on("click", this.onShowCharge, this);
this.chargeLabel = this.btnCharge.getChildByName("label");
this.btnWithdraw = t.getChildByName("withdraw");
this.btnWithdraw.on("click", this.onShowWithdraw, this);
this.withdrawLabel = this.btnWithdraw.getChildByName("label");
this.btnReferral = t.getChildByName("refferal");
this.btnReferral.on("click", this.onShowRefferral, this);
this.referralLabel = this.btnReferral.getChildByName("label");
this.btndesc = t.getChildByName("desc");
this.btndesc.on("click", this.onShowDesc, this);
this.descLabel = this.btndesc.getChildByName("label");
t.getChildByName("btnOnline").on("click", this.onContact, this);
t.getChildByName("btnOnline").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("customerService");
this.imageSideSelectedItem = t.getChildByName("sideSelectedItem");
this.title = t.getChildByName("title").getComponent(cc.Label);
this.chargeNode = this.rootNode.getChildByName("invitationNode");
this.chargeNode.getChildByName("btnLine").on("click", this.onLine, this);
this.chargeNode.getChildByName("btnFacebook").on("click", this.onFacebook, this);
this.chargeNode.getChildByName("btnWhatsApp").on("click", this.onWhatsApp, this);
this.chargeNode.getChildByName("btnShare").on("click", this.onShare, this);
this.totalMoney1 = this.chargeNode.getChildByName("bgTotal").getChildByName("labelTotalMoney").getComponent(cc.Label);
this.totalMoney2 = this.chargeNode.getChildByName("bgTotal").getChildByName("labelLeftMoney").getComponent(cc.Label);
this.totalMoney3 = this.chargeNode.getChildByName("bgTotal").getChildByName("labelWithdrawMoney").getComponent(cc.Label);
var o = this.chargeNode.getChildByName("bgWarning");
this.award1 = o.getChildByName("labelStep1_1").getComponent(cc.Label);
this.award2 = o.getChildByName("labelStep2_2").getComponent(cc.Label);
this.withdrawNode = this.rootNode.getChildByName("rewardNode");
this.totalMoney4 = this.withdrawNode.getChildByName("bgTotal").getChildByName("labelTotalMoney").getComponent(cc.Label);
this.totalMoney5 = this.withdrawNode.getChildByName("bgTotal").getChildByName("labelLeftMoney").getComponent(cc.Label);
this.totalMoney6 = this.withdrawNode.getChildByName("bgTotal").getChildByName("labelWithdrawMoney").getComponent(cc.Label);
this.rewardList = this.withdrawNode.getChildByName("scrollView").getComponent(h.default);
this.referralNode = this.rootNode.getChildByName("recommenderNode");
this.noRecordTipsNode = this.referralNode.getChildByName("noUserTips");
this.noRecordTipsNode.active = !1;
this.userList = this.referralNode.getChildByName("scrollView").getComponent(h.default);
this.userList.node.on("bounce-bottom", function() {
if (e.currUserPage < e.maxPages) {
e.currUserPage++;
m.default.getInstance().getAgentRecommendList(e.currUserPage, e.currUserSort);
}
});
this.descNode = this.rootNode.getChildByName("introduceNode");
this.chargeNode.getChildByName("btnLine").on("click", this.onLine, this);
this.chargeNode.getChildByName("btnFacebook").on("click", this.onFacebook, this);
this.chargeNode.getChildByName("btnWhatsApp").on("click", this.onWhatsApp, this);
this.chargeNode.getChildByName("btnShare").on("click", this.onShare, this);
this.withdrawNode.getChildByName("btn7Day").on("click", this.on7Day, this);
this.withdrawNode.getChildByName("btn1Month").on("click", this.on1Month, this);
this.withdrawNode.getChildByName("btn3Month").on("click", this.on3Month, this);
this.referralNode.getChildByName("btnSort1").on("click", this.onSort1, this);
this.referralNode.getChildByName("btnSort2").on("click", this.onSort2, this);
this.referralNode.getChildByName("btnSort3").on("click", this.onSort3, this);
this.itemSelected = this.withdrawNode.getChildByName("itemSelected");
this._labelMyChip = t.getChildByName("chip").getChildByName("labelChip");
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.register("GameAgent", [ "ON_GET_AGENT_INFO", "ON_GET_AGENT_REWARD_LIST", "ON_GET_AGENT_USER_LIST", "MONEY_UPDATE_EVENT", "ON_SAVE_IMAGE_SUCCESS" ]);
this.rootNode.active = !1;
this._initUserInfo(c.default.UserData.chip, c.default.UserData.point, c.default.UserData.coin);
this.showLoading();
m.default.getInstance().getAgentInfo();
this.currShowIndex = this._data || 1;
};
t.prototype.updateLanguageUI = function() {
this.exView.updateLanguageUIEx();
};
t.prototype._initUserInfo = function(e) {
this._labelMyChip.getComponent(cc.Label).string = "" + p.default.cul(e.toFixed(2));
};
t.prototype._updateMyInfo = function() {
p.default.changeLabelNum(this._labelMyChip, c.default.UserData.chip);
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_GET_AGENT_INFO":
this.onGetInviteInfo(t);
break;

case "ON_GET_AGENT_USER_LIST":
this.onGetInviteListData(t);
break;

case "ON_GET_AGENT_REWARD_LIST":
this.onGetRewardListData(t);
break;

case "MONEY_UPDATE_EVENT":
this._updateMyInfo();
break;

case "ON_SAVE_IMAGE_SUCCESS":
this.hideLoading();
}
};
t.prototype.onGetRewardListData = function(e) {
this.rewardData = e;
this.rewardList.numItems = this.rewardData.length;
};
t.prototype.onGetInviteInfo = function(e) {
this.agentInfo = e;
console.log("agentInfo  = ", e);
this.initView(e);
this.updateLanguageUI();
this.hideLoading();
this.rootNode.active = !0;
this.showPage(this.currShowIndex);
cc.sys.isBrowser && window.takeScreenshot(s.default.country, e.inviteReward, e.shareUrl);
};
t.prototype.initView = function(e) {
this.totalMoney1.string = s.default.gameMoneyUnit + p.default.cul(e.totalReward);
this.totalMoney2.string = s.default.gameMoneyUnit + p.default.cul(e.totalInviteReward);
this.totalMoney3.string = s.default.gameMoneyUnit + p.default.cul(e.totalChargeReward);
this.totalMoney4.string = s.default.gameMoneyUnit + p.default.cul(e.totalReward);
this.totalMoney5.string = s.default.gameMoneyUnit + p.default.cul(e.totalInviteReward);
this.totalMoney6.string = s.default.gameMoneyUnit + p.default.cul(e.totalChargeReward);
};
t.prototype.onListRewardList = function(e, t) {
this.exView.onListRewardListEx(e, t);
};
t.prototype.onGetInviteListData = function(e) {
this.maxPages = e.maxPage;
if (e.sort == this.currUserSort) {
this.currUserPage = e.page;
this.currUserSort = e.sort;
for (var t = e.data, o = 0; o < t.length; o++) {
var i = t[o];
this.userData.push(i);
}
var n = this.userList.node.getComponent(cc.ScrollView).getContentPosition();
this.userList.numItems = this.userData.length;
this.userList.node.getComponent(cc.ScrollView).setContentPosition(n);
} else {
this.currUserPage = e.page;
this.currUserSort = e.sort;
this.userData = e.data;
this.userList.numItems = this.userData.length;
this.userList.scrollTo(0);
0 == e.data.length && (this.noRecordTipsNode.active = !0);
}
};
t.prototype.onListUserList = function(e, t) {
var o = this.userData[t];
e.getChildByName("labelUserID").getComponent(cc.Label).string = o.uid;
e.getChildByName("labelUserName").getComponent(cc.Label).string = o.nickname;
e.getChildByName("labelReward1").getComponent(cc.Label).string = s.default.gameMoneyUnit + p.default.cul(o.today);
e.getChildByName("labelReward2").getComponent(cc.Label).string = s.default.gameMoneyUnit + p.default.cul(o.yesterday);
e.getChildByName("labelReward3").getComponent(cc.Label).string = s.default.gameMoneyUnit + p.default.cul(o.total);
};
t.prototype.showPage = function(e) {
switch (e) {
case 1:
this.showCharge();
break;

case 2:
this.showWithdraw();
}
};
t.prototype.onContact = function() {
this.exView.onContactEx();
};
t.prototype.onLine = function() {
this.exView.onLineEx();
};
t.prototype.onFacebook = function() {
this.exView.onFacebookEx();
};
t.prototype.onWhatsApp = function() {
0 == g.default.isH5() && this.showLoading();
this.exView.onWhatsAppEx();
};
t.prototype.on7Day = function() {
this.exView.on7DayEx();
};
t.prototype.on1Month = function() {
this.exView.on1MonthEx();
};
t.prototype.on3Month = function() {
this.exView.on3MonthEx();
};
t.prototype.onSort1 = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
m.default.getInstance().getAgentRecommendList(1, "today");
};
t.prototype.onSort2 = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
m.default.getInstance().getAgentRecommendList(1, "yesterday");
};
t.prototype.onSort3 = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
m.default.getInstance().getAgentRecommendList(1, "total");
};
t.prototype.onShare = function() {
this.exView.onShareEx();
};
t.prototype.onShowCharge = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
this.showCharge();
};
t.prototype.showCharge = function() {
this.currShowIndex = 1;
this.withdrawNode.active = !1;
this.chargeNode.active = !0;
this.descNode.active = !1;
this.referralNode.active = !1;
this.imageSideSelectedItem.y = this.btnCharge.y;
this.chargeLabel.color = cc.color(240, 241, 242, 255);
this.withdrawLabel.color = cc.color(150, 183, 233, 255);
this.descLabel.color = cc.color(150, 183, 233, 255);
this.referralLabel.color = cc.color(150, 183, 233, 255);
this.title.string = l.default.ins.GET_NEWHALL_LANG("agentItem1");
};
t.prototype.onShowWithdraw = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
this.showWithdraw();
};
t.prototype.showWithdraw = function() {
this.currShowIndex = 2;
this.withdrawNode.active = !0;
this.chargeNode.active = !1;
this.descNode.active = !1;
this.referralNode.active = !1;
this.imageSideSelectedItem.y = this.btnWithdraw.y;
this.chargeLabel.color = cc.color(150, 183, 233, 255);
this.withdrawLabel.color = cc.color(240, 241, 242, 255);
this.descLabel.color = cc.color(150, 183, 233, 255);
this.referralLabel.color = cc.color(150, 183, 233, 255);
this.title.string = l.default.ins.GET_NEWHALL_LANG("agentItem2");
m.default.getInstance().getAgentRewardList(1);
};
t.prototype.onShowRefferral = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
this.showRefferral();
};
t.prototype.showRefferral = function() {
this.currShowIndex = 3;
this.withdrawNode.active = !1;
this.chargeNode.active = !1;
this.descNode.active = !1;
this.referralNode.active = !0;
this.imageSideSelectedItem.y = this.btnReferral.y;
this.chargeLabel.color = cc.color(150, 183, 233, 255);
this.withdrawLabel.color = cc.color(150, 183, 233, 255);
this.descLabel.color = cc.color(150, 183, 233, 255);
this.referralLabel.color = cc.color(240, 241, 242, 255);
this.title.string = l.default.ins.GET_NEWHALL_LANG("agentItem3");
this.userData = [];
m.default.getInstance().getAgentRecommendList(1, "today");
};
t.prototype.onShowDesc = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
this.showDesc();
};
t.prototype.showDesc = function() {
this.currShowIndex = 3;
this.withdrawNode.active = !1;
this.chargeNode.active = !1;
this.descNode.active = !0;
this.referralNode.active = !1;
this.imageSideSelectedItem.y = this.btndesc.y;
this.chargeLabel.color = cc.color(150, 183, 233, 255);
this.withdrawLabel.color = cc.color(150, 183, 233, 255);
this.descLabel.color = cc.color(240, 241, 242, 255);
this.referralLabel.color = cc.color(150, 183, 233, 255);
this.title.string = l.default.ins.GET_NEWHALL_LANG("agentItem4");
};
return a([ _ ], t);
}(r.default));
o.default = C;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../data/MyData": "MyData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../manager/PlatformInterface": "PlatformInterface",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../../public/ThirdParty/GameSysDefine": "GameSysDefine",
"../../../public/ThirdParty/happyList": "happyList",
"../../executor/bank/HpgAgentGameEx": "HpgAgentGameEx"
} ],
HpgChargeRecordListDialog: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b0503s4AKxJO6XqYRSX/d3j", "HpgChargeRecordListDialog");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../public/ThirdParty/happyList"), c = e("../../executor/bank/HpgChargeRecordListEx"), l = e("../../../communication/GameLobbyHttp"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.recordList = null;
t.listData = [];
t.root = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new c.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
this.root = this.node.getChildByName("dlgBg");
this.root.getChildByName("btnClose").on("click", this.onClose, this);
this.recordList = this.root.getChildByName("ScrollView").getComponent(s.default);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.updateLanguageUI();
this.register("WithdrawRecordListDialog", [ "ON_GET_TRADE_HISTORY" ]);
l.default.getInstance().getTradeHistory("pay");
this.showLoading();
this.root.active = !1;
};
t.prototype.updateLanguageUI = function() {
this.exView.updateLanguageUIEx();
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_GET_TRADE_HISTORY":
this.onGetRecordList(t);
}
};
t.prototype.onGetRecordList = function(e) {
this.hideLoading();
this.root.active = !0;
this.listData = e;
this.recordList.numItems = this.listData.length;
};
t.prototype.onListRender = function(e, t) {
this.exView.onListRenderEx(e, t);
};
return a([ h ], t);
}(r.default));
o.default = u;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../../public/ThirdParty/happyList": "happyList",
"../../executor/bank/HpgChargeRecordListEx": "HpgChargeRecordListEx"
} ],
HpgChargeRecordListEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d7138ORmDJGIrrw5N2LDkYb", "HpgChargeRecordListEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../data/GameLangData"), s = e("../../../data/conf/GameInfo"), c = e("../../../public/MyComponent/GameHppayUtil"), l = e("../../../public/MyComponent/ViewExecutorBase"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {
this.root = this.node.root;
};
t.prototype.updateLanguageUIEx = function() {
this.root.getChildByName("labelTitle").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("chargeRecord");
c.default.labelShadow(this.root.getChildByName("labelTitle").getComponent(cc.Label));
this.root.getChildByName("label1").getComponent(cc.Label).string = r.default.ins.GET_DIALOG_LANG("time");
this.root.getChildByName("label2").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("payType");
this.root.getChildByName("label3").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("payOrderID");
this.root.getChildByName("label4").getComponent(cc.Label).string = r.default.ins.GET_DIALOG_LANG("amount");
this.root.getChildByName("label5").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("status");
};
t.prototype.onListRenderEx = function(e, t) {
e.getChildByName("bg").opacity = t % 2 == 0 ? 0 : 255;
var o = e.getChildByName("labeTime").getComponent(cc.Label), i = e.getChildByName("labeDate").getComponent(cc.Label), n = e.getChildByName("labelPayType").getComponent(cc.Label), a = e.getChildByName("labelPayOrderID").getComponent(cc.Label), l = e.getChildByName("labelPayAmount").getComponent(cc.Label), d = e.getChildByName("labelPayStatus").getComponent(cc.Label), h = this.node.listData[t];
n.string = h.channel;
a.string = h.order;
l.string = s.default.gameMoneyUnit + c.default.cul(h.amount);
i.string = c.default.formatDate2(h.time);
o.string = c.default.formatDate3(h.time);
var u = h.status;
if (0 == u) {
d.string = r.default.ins.GET_NEWHALL_LANG("inprogress");
d.node.color = new cc.Color(235, 235, 235);
} else if (1 == u) {
d.string = r.default.ins.GET_NEWHALL_LANG("failure");
d.node.color = new cc.Color(148, 148, 148);
} else if (2 == u) {
d.string = r.default.ins.GET_NEWHALL_LANG("completed");
d.node.color = new cc.Color(49, 255, 122);
} else {
d.string = r.default.ins.GET_NEWHALL_LANG("failure");
d.node.color = new cc.Color(255, 25, 50);
}
};
return a([ h ], t);
}(l.default));
o.default = u;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
HpgNumberImg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "57dcdrHdKpK457hgghVXdJ5", "HpgNumberImg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = function(e) {
n(t, e);
function t(t, o, i, n) {
var a = e.call(this) || this;
a.cardNums = {};
a.numberStr = "";
a.numberWidth = 0;
a.numberHeight = 0;
a.align = 0;
a.offsetX = 5;
a.numberStr = o;
a.numberWidth = 0;
a.align = i;
a.offsetX = n || 5;
cc.loader.loadRes(t, cc.SpriteAtlas, function(e, t) {
this.onLoadComplete(t);
}.bind(a));
return a;
}
t.prototype.getNumberWidth = function() {
return this.numberWidth;
};
t.prototype.getNumberHeight = function() {
return this.numberHeight;
};
t.prototype.addElement = function(e) {
console.log("addElement = ", e);
var t = this.cardNums[e + ""];
if (null != t) {
var o = new cc.Node();
o.addComponent(cc.Sprite);
o.getComponent(cc.Sprite).spriteFrame = t;
o.parent = this;
o.y = 0;
if (0 == this.align) {
o.anchorX = 0;
o.x = this.numberWidth;
} else if (.5 == this.align) {
o.anchorX = .5;
o.x = -this.numberWidth / 2 + t.getRect().width / 2;
} else {
o.anchorX = 1;
o.x = -this.numberWidth;
}
this.numberWidth = this.numberWidth + t.getRect().width - this.offsetX;
}
};
t.prototype.onLoadComplete = function(e) {
this.cardNums["%"] = e.getSpriteFrame("b");
this.cardNums["."] = e.getSpriteFrame("p");
this.cardNums["+"] = e.getSpriteFrame("+");
this.cardNums[0] = e.getSpriteFrame("0");
this.cardNums[1] = e.getSpriteFrame("1");
this.cardNums[2] = e.getSpriteFrame("2");
this.cardNums[3] = e.getSpriteFrame("3");
this.cardNums[4] = e.getSpriteFrame("4");
this.cardNums[5] = e.getSpriteFrame("5");
this.cardNums[6] = e.getSpriteFrame("6");
this.cardNums[7] = e.getSpriteFrame("7");
this.cardNums[8] = e.getSpriteFrame("8");
this.cardNums[9] = e.getSpriteFrame("9");
this.numberHeight = this.cardNums[0].getRect().height;
if (0 == this.align) for (var t = 0; t < this.numberStr.length; t++) {
var o = this.numberStr.substring(t, t + 1);
this.addElement(o);
} else if (.5 == this.align) for (t = this.numberStr.length - 1; t >= 0; t--) {
o = this.numberStr.substring(t, t + 1);
this.addElement(o);
} else for (t = this.numberStr.length - 1; t >= 0; t--) {
o = this.numberStr.substring(t, t + 1);
this.addElement(o);
}
};
return t;
}(cc.Node);
o.default = a;
cc._RF.pop();
}, {} ],
HpgWebGame: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0be9cnS8iFPrIiwiEJWGWl2", "HpgWebGame");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../public/MyComponent/WindowBase"), s = e("../../manager/ReportGameEvent"), c = e("../../communication/GameLoginHttp"), l = e("../../communication/GameLobbyHttp"), d = e("../../manager/MyWebView"), h = e("../../data/MyData"), u = e("../../communication/SocketGameManager"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.gameInfo = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {};
t.prototype.start = function() {
e.prototype.start.call(this);
this.needAnimation = !1;
this.needModal = !1;
this.register("GameWeb", [ "EVENT_ORIENTATION_CHANGED", "ON_LAUNCH_GAME", "ON_BACK_HALL", "CLOSE_WEBGAME" ]);
cc.audioEngine.pauseAll();
this.setDataView();
};
t.prototype.setDataView = function() {
var e = this._data;
s.default.record(s.ReportEventType.webGameStartLaunch, "time", new Date().getDate());
c.default.getInstance().launchGame(e.wid);
};
t.prototype.showGameView = function(e) {
s.default.record(s.ReportEventType.webGameStartLoad, "time", new Date().getDate());
this.gameInfo = e;
var t = this.gameInfo.url;
console.log("showGameView Url = ", t);
var o = this;
d.default.inst.open(t, function() {
o.closeWebGame();
});
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "EVENT_ORIENTATION_CHANGED":
break;

case "ON_LAUNCH_GAME":
this.showGameView(t);
break;

case "CLOSE_WEBGAME":
case "ON_BACK_HALL":
this.closeWebGame();
}
};
t.prototype.closeWebGame = function() {
cc.audioEngine.resumeAll();
if (null != this.gameInfo) {
s.default.recordWithParam(s.ReportEventType.thirdGameEnd, "wtype", this.gameInfo.type, "wid", this.gameInfo.wid);
l.default.getInstance().syncWebGame(this.gameInfo.type, this.gameInfo.wid);
u.default.getInstance().socketSend.getPlayerMoneyInfo(h.default.UserData.userId);
}
this.onClose();
};
return a([ f ], t);
}(r.default));
o.default = m;
cc._RF.pop();
}, {
"../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../communication/GameLoginHttp": "GameLoginHttp",
"../../communication/SocketGameManager": "SocketGameManager",
"../../data/MyData": "MyData",
"../../manager/MyWebView": "MyWebView",
"../../manager/ReportGameEvent": "ReportGameEvent",
"../../public/MyComponent/WindowBase": "WindowBase"
} ],
HpgWebNativeGameEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "75a7cbVin9PsqwOWQD+bW2S", "HpgWebNativeGameEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../communication/GameLobbyHttp"), s = e("../../communication/SocketGameManager"), c = e("../../data/GameLangData"), l = e("../../data/MyData"), d = e("../../manager/DlgGameMgr"), h = e("../../manager/ReportGameEvent"), u = e("../../manager/PlatformInterface"), p = e("../../natives/AndroidInfo"), f = e("../../public/MyComponent/GameHppayUtil"), m = e("../../public/MyComponent/ViewExecutorBase"), g = cc._decorator, y = g.ccclass, _ = (g.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.showGameViewEx = function(e) {
this.node.schedule(this.node.reportRepeat, 60, cc.macro.REPEAT_FOREVER);
h.default.record(h.ReportEventType.webGameStartLoad, "time", new Date().getDate());
this.node.gameInfo = e;
h.default.recordWithParam(h.ReportEventType.thirdGameStart, "wtype", this.node.gameInfo.type, "wid", this.node.gameInfo.wid);
var t = this.node.gameInfo.url;
console.log("showGameView Url = ", t);
if (1 == this.node.gameInfo.jump) u.default.openBrowser(t); else {
var o = 0;
this.node.gameInfo.portrait && 1 == this.node.gameInfo.portrait && (o = 1);
p.default.inst.showFullWebView(t, o);
}
};
t.prototype.onWebLoadCompleteEx = function() {
console.log("webview page is loaded!");
h.default.record(h.ReportEventType.webGameStartLoadComplete, "time", new Date().getDate());
cc.sys.os == cc.sys.OS_IOS ? this.node.scheduleOnce(function() {
p.default.inst.hideWebviewLoading();
}, 2) : cc.sys.os == cc.sys.OS_ANDROID && p.default.inst.hideWebviewLoading();
};
t.prototype.onWebLoadErrorEx = function() {
console.log("webview page is load error!");
h.default.record(h.ReportEventType.webGameLoadError);
d.default.inst.showConfirmDlg(c.default.ins.GET_NEWHALL_LANG("retryDesc"), 1);
this.node.closeWebGame();
};
t.prototype.closeWebGameEx = function() {
if (null != this.node.gameInfo) {
h.default.recordWithParam(h.ReportEventType.thirdGameEnd, "wtype", this.node.gameInfo.type, "wid", this.node.gameInfo.wid);
r.default.getInstance().syncWebGame(this.node.gameInfo.type, this.node.gameInfo.wid);
s.default.getInstance().socketSend.getPlayerMoneyInfo(l.default.UserData.userId);
}
this.node.unschedule(this.node.reportRepeat);
h.default.record(h.ReportEventType.webGameClickBack);
p.default.inst.setScreenOrientation(f.SCREEN_ORIENTATION.ORIENTATION_LANDSCAPE);
p.default.inst.hideWebviewLoading();
p.default.inst.hideWebviewBackBtn();
cc.audioEngine.resumeAll();
this.node.onClose();
};
return a([ y ], t);
}(m.default));
o.default = _;
cc._RF.pop();
}, {
"../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../communication/SocketGameManager": "SocketGameManager",
"../../data/GameLangData": "GameLangData",
"../../data/MyData": "MyData",
"../../manager/DlgGameMgr": "DlgGameMgr",
"../../manager/PlatformInterface": "PlatformInterface",
"../../manager/ReportGameEvent": "ReportGameEvent",
"../../natives/AndroidInfo": "AndroidInfo",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
HpgWebNativeGame: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "32c25UlNyRM8513NJQBYvqs", "HpgWebNativeGame");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../public/MyComponent/WindowBase"), s = e("../../natives/AndroidInfo"), c = e("../../manager/ReportGameEvent"), l = e("../executor/HpgWebNativeGameEx"), d = e("../../communication/GameLoginHttp"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.gameInfo = null;
return t;
}
t.prototype.onLoad = function() {
this.exView = new l.default();
this.exView.setProxy(this);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.needAnimation = !1;
this.needModal = !1;
this.register("GameWeb", [ "ON_LOAD_COMPLETE", "ON_LOAD_ERROR", "ON_LAUNCH_GAME", "ON_BACK_HALL", "CLOSE_WEBGAME" ]);
cc.audioEngine.pauseAll();
this.setDataView();
};
t.prototype.setDataView = function() {
var e = this._data;
c.default.record(c.ReportEventType.webGameStartLaunch, "time", new Date().getDate());
var t = 1;
e && e.btn && (t = e.btn);
s.default.inst.showWebviewLoading(t);
d.default.getInstance().launchGame(e.wid);
};
t.prototype.onDestroy = function() {
s.default.inst.hideWebviewBackBtn();
e.prototype.onDestroy.call(this);
};
t.prototype.showGameView = function(e) {
this.exView.showGameViewEx(e);
};
t.prototype.onWebLoadComplete = function() {
this.exView.onWebLoadCompleteEx();
};
t.prototype.onWebLoadError = function() {
this.exView.onWebLoadErrorEx();
};
t.prototype.onWebLoadFailed = function() {};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_LOAD_COMPLETE":
this.onWebLoadComplete();
break;

case "ON_LOAD_ERROR":
this.onWebLoadError();
break;

case "ON_LAUNCH_GAME":
this.showGameView(t);
break;

case "CLOSE_WEBGAME":
case "ON_BACK_HALL":
this.closeWebGame();
}
};
t.prototype.reportRepeat = function() {
console.log("reportRepeat third game");
null != this.gameInfo && c.default.recordWithParam(c.ReportEventType.thirdGameReport, "wtype", this.gameInfo.type, "wid", this.gameInfo.wid);
};
t.prototype.closeWebGame = function() {
this.exView.closeWebGameEx();
};
return a([ u ], t);
}(r.default));
o.default = p;
cc._RF.pop();
}, {
"../../communication/GameLoginHttp": "GameLoginHttp",
"../../manager/ReportGameEvent": "ReportGameEvent",
"../../natives/AndroidInfo": "AndroidInfo",
"../../public/MyComponent/WindowBase": "WindowBase",
"../executor/HpgWebNativeGameEx": "HpgWebNativeGameEx"
} ],
HttpTools: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a697fSnmc1Fv6jzTAbmPBNX", "HttpTools");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc._decorator, r = (a.ccclass, a.property, e("../PublicTools/GameEvents")), s = e("../GameFireData/GameAllData"), c = e("../GameFireData/GameDataInfo"), l = e("../FireData/CommonData"), d = e("../GameCores/EXSceneManager"), h = e("../GameCommon/NVSGameUtil"), u = e("./exmd5"), p = e("../GameCores/ApplePay"), f = e("../GameLayers/ResourceLoader"), m = e("../BeautyDialog/CommonDialog"), g = e("../GameCores/DialogLogic"), y = e("../Conf/GuardConfig"), _ = function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.httpGet = function(e, t) {
console.log("url get = ", e);
var o = cc.loader.getXMLHttpRequest();
o.onreadystatechange = function() {
console.log("Get: readyState:" + o.readyState + " status:" + o.status);
console.log("xhr = ", o);
if (4 === o.readyState && 200 == o.status) {
var e = o.responseText, i = JSON.parse(e);
t(i);
} else 4 === o.readyState && 401 == o.status && t({
ret: 1
});
};
o.open("GET", e, !0);
o.setRequestHeader("Content-Type", "application/json");
o.timeout = 8e3;
o.withCredentials = !1;
o.send();
};
t.prototype.httpGetWithFullUrl = function(e, t, o) {
var i = {};
i.gameid = c.default.gameid;
i.appid = c.default.appid;
i.ver = c.default.ver;
i.hver = c.default.hver;
i.devId = c.default.devId;
i.locale = c.default.localLanguage;
i = Object.assign(i, t);
for (var n = Object.keys(i), a = "", r = 0; r < n.length; r++) {
var s = n[r], l = i[s];
r >= n.length - 1 ? a += s + "=" + l : a += s + "=" + l + "&";
}
var d = e + "?" + a;
console.log("url get = ", d);
var h = cc.loader.getXMLHttpRequest();
h.onreadystatechange = function() {
console.log("Get: readyState:" + h.readyState + " status:" + h.status);
console.log("xhr = ", h);
if (4 === h.readyState && 200 == h.status) {
var e = h.responseText, t = JSON.parse(e);
o(t);
} else 4 === h.readyState && 401 == h.status && o({
ret: 1
});
};
h.open("GET", d, !0);
h.setRequestHeader("Content-Type", "application/json");
h.timeout = 8e3;
h.send();
};
t.prototype.httpPostWithFullUrl = function(e, t, o, i) {
var n = cc.loader.getXMLHttpRequest();
n.onreadystatechange = function() {
if (4 === n.readyState && 200 == n.status) {
var e = n.responseText, t = JSON.parse(e);
o(t);
console.log("httpPostWithFullUrl success");
} else if (4 === n.readyState && 400 == n.status) {
e = n.responseText, t = JSON.parse(e);
i && i(t);
console.log("httpPostWithFullUrl fail xhr.readyState == 4 && xhr.status == 400");
} else console.log("httpPostWithFullUrl error info", n);
};
var a = {};
a.gameid = c.default.gameid;
a.appid = c.default.appid;
a.ver = c.default.ver;
a.hver = c.default.hver;
a.devId = c.default.devId;
a.locale = c.LocalLanguage.tw;
a = Object.assign(a, t);
var r = Object.keys(a);
r.sort();
for (var s = "", l = 0; l < r.length; l++) {
var d = a[f = r[l]];
l >= r.length - 1 ? s += f + "=" + d : s += f + "=" + d + "&";
}
s += "7b3ba41e71352703";
console.log("param5 = ", s);
a.sign = u.md5(s);
console.log("signparam5 = ", a.sign);
var h = e;
n.open("POST", h, !0);
n.setRequestHeader("Content-Type", "application/json");
n.timeout = 8e3;
this.encodeFormDatatt(a);
n.send(JSON.stringify(a));
var p = "";
for (var f in a) p += f + "=" + a[f] + "&";
console.log("PHP", h + "?" + p);
n.ontimeout = function() {
console.log("");
};
n.onerror = function() {
console.log("");
};
};
t.prototype.httpPost = function(e, t, o, i) {
var n = cc.loader.getXMLHttpRequest();
n.onreadystatechange = function() {
if (h.default.isnull(n) && h.default.isnull(n.readyState)) if (4 === n.readyState && 200 == n.status) {
var e = n.responseText, t = JSON.parse(e);
o(t);
t.Authorization;
} else if (4 === n.readyState && 400 == n.status) {
e = n.responseText, t = JSON.parse(e);
i && i(t);
}
};
var a = {};
a.gameid = c.default.gameid;
a.appid = c.default.appid;
a.ver = c.default.ver;
a.hver = c.default.hver;
a.devId = c.default.devId;
a.ukey = l.default.UserData.ukey;
a.locale = c.LocalLanguage.tw;
(null != l.default.UserData.userId || l.default.UserData.userId > 0) && (a.uid = l.default.UserData.userId || 0);
a = Object.assign(a, t);
var d = Object.keys(a);
d.sort();
for (var p = "", f = 0; f < d.length; f++) {
var m = a[_ = d[f]];
f >= d.length - 1 ? p += _ + "=" + m : p += _ + "=" + m + "&";
}
p += "7b3ba41e71352703";
console.log("param5 = ", p);
a.sign = u.md5(p);
console.log("signparam5 = ", a.sign);
c.default.version;
var g = s.default.phpUrl + e;
n.open("POST", g, !0);
n.setRequestHeader("Content-Type", "application/json");
n.timeout = 8e3;
this.encodeFormDatatt(a);
n.send(JSON.stringify(a));
var y = "";
for (var _ in a) y += _ + "=" + a[_] + "&";
console.log("PHP", g + "?" + y);
n.ontimeout = function() {
console.log("");
r.MyEvent.getInstance().emit("PHP_TIME_OUT");
};
n.onerror = function() {
console.log("");
r.MyEvent.getInstance().emit("PHP_REQUEST_ERROR");
};
};
t.prototype.encodeFormDatatt = function(e) {
var t = [];
for (var o in e) {
var i;
i = null == e[o] || null == e[o] ? "" : e[o].toString();
var n = encodeURIComponent(o) + "=" + i;
t.push(n);
}
return t;
};
t.getInstance = function() {
null == this.mInstance && (this.mInstance = new t());
return this.mInstance;
};
t.prototype.login = function(e) {
console.log("params = ", e);
t.getInstance().httpPost(y.PhpUrl.login, e, function(e) {
if (0 == e.error_code) {
var t = e.data;
l.default.UserData.userId = t.uid;
h.default.saveData("userId", t.uid);
l.default.UserData.registered = t.registered;
r.MyEvent.getInstance().emit("ON_LOGIN_SUCCESS");
h.default.saveData("autoLoginType", c.default.currPlatType);
console.log("", l.default.UserData.userId, l.default.UserData.registered);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("login", e.message);
r.MyEvent.getInstance().emit("ON_LOGIN_FAILED", e.message);
}
});
};
t.prototype.loginByTelephone = function(e) {
console.log("params = ", e);
var o = e.areaCode, i = e.telephone, n = e.password || "", a = e.checkCode || "";
t.getInstance().httpPost(y.PhpUrl.login, e, function(e) {
if (0 == e.error_code) {
var t = e.data;
l.default.UserData.userId = t.uid;
h.default.saveData("userId", t.uid);
l.default.UserData.registered = t.registered;
c.default.phoneNumber = o + i;
if ("" != n) {
c.default.phonePassword = n;
h.default.saveData("loginPhoneNumber", i);
h.default.saveData("loginPhoneArea", o);
h.default.saveData("loginPassword", n);
h.default.saveData("autoLoginType", c.PlatformType.telephoneWithPassword);
} else if ("" != a) {
c.default.phonePassword = a;
h.default.saveData("autoLoginType", c.PlatformType.telephoneWithVCode);
}
r.MyEvent.getInstance().emit("ON_LOGIN_SUCCESS");
console.log("", l.default.UserData.userId, l.default.UserData.registered);
} else if (66666 == e.error_code) console.log("66666"); else {
r.MyEvent.getInstance().emit("ON_LOGIN_FAILED", e.message);
console.log("loginByTelephone", e.message);
}
});
};
t.prototype.registerByTelephone = function(e, o, i, n, a, s, c) {
var l = {};
l.ptype = e;
l.areaCode = o;
l.telephone = i;
l.password = n;
l.checkCode = a;
l.nickName = s;
l.avatar = c || "";
t.getInstance().httpPost("register", l, function(e) {
if (0 == e.error_code) {
console.log(e.code);
var t = e.data;
console.log(t);
r.MyEvent.getInstance().emit("REGISTER_SUCCESS");
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("registerByTelephone", e.message);
h.default.alert(e.message);
}
});
};
t.prototype.reportPushToken = function(e) {
var o = "1:" + ("true" == (h.default.readData(l.default.storageData.emailPush) || "true") ? 1 : 0) + ",2:" + ("true" == (h.default.readData(l.default.storageData.activityPush) || "true") ? 1 : 0) + ",3:" + ("true" == (h.default.readData(l.default.storageData.friendChatPush) || "true") ? 1 : 0);
console.log("topics === ", o);
var i = {};
i.pushToken = e;
i.platform = c.default.systemType;
i.topics = o;
t.getInstance().httpPost("push-tj", i, function(e) {
if (0 == e.error_code) console.log(e.data); else if (66666 == e.error_code) console.log("66666"); else {
console.log("reportPushToken", e.message);
h.default.alert(e.message);
}
});
};
t.prototype.getCountryCode = function(e) {
t.getInstance().httpPost("location", {}, function(t) {
if (0 == t.error_code) {
var o = t.data;
console.log(o);
e(o.countryCode);
} else if (66666 == t.error_code) console.log("66666"); else {
console.log("getCountryCode", t.message);
h.default.alert(t.message);
}
});
};
t.prototype.getVcode = function(e, o, i) {
var n = {};
n.areaCode = e;
n.telephone = o;
n.type = Number(i);
t.getInstance().httpPost("sendSms", n, function(e) {
if (0 == e.error_code) {
var t = e.data;
console.log(t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getVcode", e.message);
h.default.alert(e.message);
}
});
};
t.prototype.enterGame = function(e) {
var o = {};
o.deviceInfo = c.default.devInfo;
t.getInstance().httpPost(y.PhpUrl.home, o, function(t) {
if (0 == t.error_code) {
var o = t.data;
l.default.UserData.server = o.svr;
l.default.UserData.conf = o.conf;
l.default.UserData.firstStrike = o.firstStrike;
l.default.hallData.feedback = o.feedback;
l.default.hallData.activityData = [];
l.default.hallData.newActiviys = [];
console.log("GameData.hallData.activityData = " + l.default.hallData.activityData.length);
f.default.preLoadActivity(l.default.hallData.activityData);
f.default.preLoadNewActivity(l.default.hallData.newActiviys);
console.log(o, l.default.UserData.firstStrike);
e();
} else if (15e3 == t.error_code) {
var i = new m.ConfirmData();
i.desc = "";
i.oneBtn = !0;
i.cancelCallback = function() {
d.default.enterLogin();
};
i.cancelCallback = function() {
d.default.enterLogin();
};
g.default.inst.showDialog(g.DialogIndex.confirm, [ i ]);
} else if (16888 == t.error_code) (o = t.data).force = 1; else if (16666 == t.error_code) {
(o = t.data).force = 0;
o.callback = function() {
var o = t.data;
l.default.UserData.server = o.svr;
l.default.UserData.conf = o.conf;
l.default.UserData.firstStrike = o.firstStrike;
l.default.hallData.feedback = o.feedback;
console.log(o, l.default.UserData.firstStrike);
e();
};
} else if (66666 == t.error_code) console.log("66666"); else {
console.log("enterGame", t.message);
h.default.alert(t.message);
}
});
};
t.prototype.getScreenShotShareLink = function() {
t.getInstance().httpPost("share-link", {}, function(e) {
console.log("getShareLink", e.error_code);
if (0 == e.error_code) {
var t = e.data;
r.MyEvent.getInstance().emit("ON_SCREENSHOT_SHARE_LINK", t);
} else 66666 == e.error_code ? console.log("66666") : console.log("share link", e.message);
});
};
t.prototype.bindAccount = function(e) {
t.getInstance().httpPost("bind", e, function(e) {
console.log("bindAccount", e.error_code);
if (0 == e.error_code) {
var t = e.data;
l.default.UserData.nickname = t.nickName;
r.MyEvent.getInstance().emit("ON_BIND_ACCOUT_SUCCESS", t);
r.MyEvent.getInstance().emit("MONEY_UPDATE_EVENT", t);
l.default.UserData.faceBookBinding ? h.default.alert("") : h.default.alert("");
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("bind  failed", e.message);
h.default.alert(e.message);
}
});
};
t.prototype.uploadAvatar = function(e, o) {
var i = {};
i.avatar = e;
i.type = o;
i.uid = l.default.UserData.userId;
i.ukey = l.default.UserData.ukey;
t.getInstance().httpPost("avatar", i, function(e) {
if (0 == e.error_code) console.log("upload avatar success"); else if (66666 == e.error_code) console.log("66666"); else {
console.log("upload avatar failed");
h.default.alert(e.message);
}
});
};
t.prototype.shareLinkReport = function(e) {
var o = {};
o.pageId = e;
t.getInstance().httpPost("share-link-upload", o, function(e) {
0 == e.error_code ? console.log("shareLinkReport success") : 66666 == e.error_code ? console.log("66666") : console.log("shareLinkReport failed");
});
};
t.prototype.eventRecord = function(e) {
t.getInstance().httpPost(y.PhpUrl.action, e, function(e) {
0 == e.error_code ? console.log("eventRecord success") : 66666 == e.error_code ? console.log("66666") : console.log("eventRecord failed");
});
};
t.prototype.getSendInfo = function(e, o, i, n) {
var a = {};
a.page = e;
a.limit = o;
a.tab = i;
a.timestamp = new Date().getTime();
a.type = n || 0;
t.getInstance().httpPost("logs-transfer", a, function(e) {
if (0 == e.error_code) {
var t = e.data;
r.MyEvent.getInstance().emit("ON_GET_SEND_LIST_INFO", t);
} else 66666 == e.error_code ? console.log("66666") : console.log("getSendInfo failed", e.error_code);
});
};
t.prototype.getSendFreezeList = function() {
t.getInstance().httpPost("logs-freeze", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
r.MyEvent.getInstance().emit("ON_GET_SEND_FREEZE_LIST_INFO", t);
} else 66666 == e.error_code ? console.log("66666") : console.log("getSendFreezeList failed", e.error_code);
});
};
t.prototype.getX5 = function() {
t.getInstance().httpPost("init", {}, function(e) {
e.appver && e.resver && Number(e.appver) - Number(e.resver) == Number(e.appid) ? r.MyEvent.getInstance().emit("ON_GET_X5", 0) : r.MyEvent.getInstance().emit("ON_GET_X5", 1);
});
};
t.prototype.getProductInfo = function(e) {
e.forEach(function(e) {
p.default.inst.buyCommodity(e);
});
};
t.mInstance = null;
return t;
}(cc.Component);
o.default = _;
cc._RF.pop();
}, {
"../BeautyDialog/CommonDialog": "CommonDialog",
"../Conf/GuardConfig": "GuardConfig",
"../FireData/CommonData": "CommonData",
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../GameCores/ApplePay": "ApplePay",
"../GameCores/DialogLogic": "DialogLogic",
"../GameCores/EXSceneManager": "EXSceneManager",
"../GameFireData/GameAllData": "GameAllData",
"../GameFireData/GameDataInfo": "GameDataInfo",
"../GameLayers/ResourceLoader": "ResourceLoader",
"../PublicTools/GameEvents": "GameEvents",
"./exmd5": "exmd5"
} ],
IndiaBankWithdrawInfoDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "70143JqzJ9MX7BNCU4sMOt0", "IndiaBankWithdrawInfoDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../public/MyComponent/GameHppayUtil"), c = e("../../../manager/GameSoundMgr"), l = e("../../../manager/DlgGameMgr"), d = e("../../executor/bank/IndiaBankWithdrawInfoEx"), h = e("../../../communication/GameLobbyHttp"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.cardHolder = null;
t.bankCode = null;
t.bankNumber = null;
t.bankNumberAgain = null;
t.bankName = "";
t.root = null;
t.bankList = null;
t.isClickFindIFSC = !1;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new d.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
this.root = this.node.getChildByName("dlgBg");
this.root.getChildByName("closeBtn").on("click", this.onClose, this);
this.root.getChildByName("btnConfirm").on("click", this.onConfirm, this);
this.root.getChildByName("btnFindIFSC").on("click", this.onSelectBank, this);
this.cardHolder = this.root.getChildByName("editboxName").getComponent(cc.EditBox);
this.bankNumber = this.root.getChildByName("editboxCardNumber").getComponent(cc.EditBox);
this.bankNumberAgain = this.root.getChildByName("editboxCardNumberAgain").getComponent(cc.EditBox);
this.bankCode = this.root.getChildByName("editboxCardIFSCCode").getComponent(cc.EditBox);
this.root.getChildByName("btnConfirm").getComponent(cc.Button).interactable = !1;
this.cardHolder.node.on("editing-did-ended", this.onInputCardHolderNameEnded, this);
this.bankNumber.node.on("editing-did-ended", this.onInputBankNumberEnded, this);
this.bankNumberAgain.node.on("editing-did-ended", this.onInputBankNumberAgainEnded, this);
this.bankCode.node.on("editing-did-ended", this.onPutIFSCCodeEnded, this);
};
t.prototype.onEditTextChanged = function() {
var e = this.bankNumber.string;
this.bankNumber.string = s.default.formatNumber(e);
};
t.prototype.updateLanguageUI = function() {
this.exView.updateLanguageUIEx();
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.updateLanguageUI();
s.default.labelShadow(this.root.getChildByName("labelTitle").getComponent(cc.Label), new cc.Color(223, 32, 193), cc.v2(0, -3));
h.default.getInstance().getIFSCCode();
this.register("WithdrawBankInfoDialog", [ "ON_GET_IFSC_CODE", "ON_IFSC_DATA" ]);
};
t.prototype.onConfirm = function() {
c.default.inst.playGameEffect(c.AudioRes.click);
var e = {};
e.ifsc = this.bankCode.string;
e.bankCode = this.bankName;
e.cardholder = this.cardHolder.string;
e.number = this.bankNumber.string;
e.type = 1;
h.default.getInstance().updateBankInfo(e);
};
t.prototype.onSelectBank = function() {
this.isClickFindIFSC = !0;
c.default.inst.playGameEffect(c.AudioRes.click);
null != this.bankList && l.default.inst.showDlg(l.DlgType.chargeCodeList, this.bankList);
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_GET_IFSC_CODE":
this.getIfsCode(t);
break;

case "ON_IFSC_DATA":
this.isfcData(t);
}
};
t.prototype.isfcData = function(e) {
if ("bank" == e.field) {
this.bankList = e;
this.isClickFindIFSC && l.default.inst.showDlg(l.DlgType.chargeCodeList, this.bankList);
}
};
t.prototype.getIfsCode = function(e) {
this.bankCode.string = e.ifsc;
this.bankName = e.bankName;
this.onPutIFSCCodeEnded();
};
t.prototype.onInputCardHolderNameEnded = function() {
this.exView.onInputCardHolderNameEndedEx();
};
t.prototype.onPutIFSCCodeEnded = function() {
this.exView.onPutIFSCCodeEndedEx();
};
t.prototype.onInputBankNumberEnded = function() {
this.exView.onInputBankNumberEndedEx();
};
t.prototype.onInputBankNumberAgainEnded = function() {
this.exView.onInputBankNumberAgainEndedEx();
};
return a([ p ], t);
}(r.default));
o.default = f;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../manager/DlgGameMgr": "DlgGameMgr",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../executor/bank/IndiaBankWithdrawInfoEx": "IndiaBankWithdrawInfoEx"
} ],
IndiaBankWithdrawInfoEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "42db2V2jNlBAo6OhF4ZXs8Q", "IndiaBankWithdrawInfoEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../data/GameLangData"), s = e("../../../public/MyComponent/GameHppayUtil"), c = e("../../../public/MyComponent/ViewExecutorBase"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {
this.root = this.node.root;
this.bankCode = this.node.bankCode;
this.cardHolder = this.node.cardHolder;
this.bankNumber = this.node.bankNumber;
this.bankNumberAgain = this.node.bankNumberAgain;
};
t.prototype.updateLanguageUIEx = function() {
this.root.getChildByName("labelTitle").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("addBankInfo");
this.root.getChildByName("labelName").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("accountName");
this.root.getChildByName("labelBankNumber").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("bankNumberOnce");
this.root.getChildByName("labelBankNumberAgain").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("bankNumberAgain");
this.root.getChildByName("labelBankName").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("IFSCCode");
this.root.getChildByName("btnConfirm").getChildByName("label").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("confirm");
this.root.getChildByName("btnFindIFSC").getChildByName("label").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("findIFSCCode");
this.node.cardHolder.placeholderLabel.string = r.default.ins.GET_NEWHALL_LANG("inputAccoutName");
this.node.bankNumber.placeholderLabel.string = r.default.ins.GET_NEWHALL_LANG("inputBankNumber");
this.node.bankNumberAgain.placeholderLabel.string = r.default.ins.GET_NEWHALL_LANG("inputBankNumberAgain");
this.node.bankCode.placeholderLabel.string = r.default.ins.GET_NEWHALL_LANG("inputIFSCCode");
};
t.prototype.onInputCardHolderNameEndedEx = function() {
"" != this.bankCode.string && "" != this.cardHolder.string && "" != this.bankNumber.string && "" != this.bankNumberAgain.string && (this.root.getChildByName("btnConfirm").getComponent(cc.Button).interactable = !0);
};
t.prototype.onPutIFSCCodeEndedEx = function() {
"" != this.bankCode.string && "" != this.cardHolder.string && "" != this.bankNumber.string && "" != this.bankNumberAgain.string && (this.root.getChildByName("btnConfirm").getComponent(cc.Button).interactable = !0);
};
t.prototype.onInputBankNumberEndedEx = function() {
if ("" == this.bankNumberAgain.string || this.bankNumber.string == this.bankNumberAgain.string) "" != this.bankCode.string && "" != this.cardHolder.string && "" != this.bankNumber.string && "" != this.bankNumberAgain.string && (this.root.getChildByName("btnConfirm").getComponent(cc.Button).interactable = !0); else {
this.bankNumber.string = "";
s.default.alert(r.default.ins.GET_NEWHALL_LANG("bankNumberNotMatch"));
}
};
t.prototype.onInputBankNumberAgainEndedEx = function() {
if ("" == this.bankNumber.string || this.bankNumber.string == this.bankNumberAgain.string) "" != this.bankCode.string && "" != this.cardHolder.string && "" != this.bankNumber.string && "" != this.bankNumberAgain.string && (this.root.getChildByName("btnConfirm").getComponent(cc.Button).interactable = !0); else {
this.bankNumberAgain.string = "";
s.default.alert(r.default.ins.GET_NEWHALL_LANG("bankNumberNotMatch"));
}
};
return a([ d ], t);
}(c.default));
o.default = h;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
InitGame: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "743fa6x8RBPQZrg711RItey", "InitGame");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("./GameInfo"), r = e("./ScreenGameAdapter"), s = e("../../public/ThirdParty/CocosPublic"), c = e("../WebGameHappyData"), l = e("./GameConfig"), d = e("../../manager/MyWebView"), h = e("../../manager/PlatformInterface"), u = e("../../natives/AndroidInfo"), p = function() {
function e() {}
e.prototype.GameInitialization = function() {
cc.dynamicAtlasManager.enabled = !1;
a.default.init();
r.default.getInstance().sceneConfgInit();
u.default.inst.getDeviceLanguage();
u.default.inst.getTimeZone();
u.default.inst.getSimLocation();
u.default.inst.getLocalTime();
u.default.inst.getDeviceID();
u.default.inst.getDeviceInfo();
u.default.inst.getIsEmulator();
u.default.inst.getSystemVersion();
u.default.inst.getAppVersion();
u.default.inst.initClipBoard();
u.default.inst.initPushToken();
u.default.inst.getDeepLink();
u.default.inst.getGoogleProduct();
u.default.inst.getInstallSource();
u.default.inst.getLaunchAttrs();
d.default.inst.init();
h.default.initJavaCallBackFunctions();
u.default.inst.getAppID();
console.log("init game .....");
};
e.prototype.gameConfigInit = function() {
return i(this, void 0, void 0, function() {
return n(this, function(e) {
switch (e.label) {
case 0:
console.log("load config ", "file/config_" + a.default.country + ".json");
return [ 4, s.default.loadResSync("file/config_" + a.default.country + ".json", cc.JsonAsset).then(function(e) {
console.log("load config success");
l.default.initDefaultConfig(e.json);
l.default.initLocalConfig();
}) ];

case 1:
e.sent();
return [ 2 ];
}
});
});
};
e.prototype.gameListInit = function() {
return i(this, void 0, void 0, function() {
return n(this, function(e) {
switch (e.label) {
case 0:
console.log("load gamelist ", "file/gameLists_" + a.default.country + ".json");
return [ 4, s.default.loadResSync("file/gameLists_" + a.default.country + ".json", cc.JsonAsset).then(function(e) {
console.log("load gamelist success");
c.default.ins._manufacturer(e.json);
}) ];

case 1:
e.sent();
return [ 2 ];
}
});
});
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new e());
return this._inst;
},
enumerable: !1,
configurable: !0
});
e._inst = null;
return e;
}();
o.default = p;
cc._RF.pop();
}, {
"../../manager/MyWebView": "MyWebView",
"../../manager/PlatformInterface": "PlatformInterface",
"../../natives/AndroidInfo": "AndroidInfo",
"../../public/ThirdParty/CocosPublic": "CocosPublic",
"../WebGameHappyData": "WebGameHappyData",
"./GameConfig": "GameConfig",
"./GameInfo": "GameInfo",
"./ScreenGameAdapter": "ScreenGameAdapter"
} ],
Init: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "396a9gLQydApZInJkyrSHE2", "Init");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../Data/GameData"), r = e("../Interface/PhoneInfo"), s = e("../UIFrame/SoundMgr"), c = e("../Util/GameUtil"), l = e("./Const"), d = e("./Game"), h = e("./ScreenAdapter"), u = e("../SDKInterface/FirebaseInterface"), p = function() {
function e() {}
e.prototype.initializationGame = function() {
cc.dynamicAtlasManager.enabled = !1;
d.default.init();
h.default.getInstance().initSceneConfg();
r.default.inst.initLocalLanguage();
r.default.inst.getTimeZone();
r.default.inst.getLocalTime();
r.default.inst.getIsEmulator();
r.default.inst.initDevId();
r.default.inst.initDeviceInfo();
r.default.inst.initAppID();
r.default.inst.getSystemVersion();
r.default.inst.initAppVersion();
r.default.inst.initClipBoard();
r.default.inst.initPushToken();
r.default.inst.getDeepLink();
u.default.inst.initDeepLink();
r.default.inst.initIsPad();
};
e.prototype.initConfig = function() {
return i(this, void 0, void 0, function() {
return n(this, function() {
return [ 2 ];
});
});
};
e.prototype.initGameList = function() {
return i(this, void 0, void 0, function() {
return n(this, function() {
return [ 2 ];
});
});
};
e.prototype.initializationOther = function() {
this.readNecessaryLocalInfo();
};
e.prototype.readNecessaryLocalInfo = function() {
a.default.UserData.userId = c.default.readData("userId") || 0;
var e = d.default.localLanguage;
console.log("launch localLanguageSys", e);
c.default.readData(a.default.storageData.sandLanguage) ? a.default.UserData.sandLanguage = Number(c.default.readData(a.default.storageData.sandLanguage)) : e == d.LocalLanguage.cn || e == d.LocalLanguage.tw ? a.default.UserData.sandLanguage = l.sandVoice.cn : e == d.LocalLanguage.hk ? a.default.UserData.sandLanguage = l.sandVoice.hk : e == d.LocalLanguage.th ? a.default.UserData.sandLanguage = l.sandVoice.th : e == d.LocalLanguage.jp ? a.default.UserData.sandLanguage = l.sandVoice.jp : a.default.UserData.sandLanguage = l.sandVoice.en;
console.log("GameData.UserData.sandLanguage", a.default.UserData.sandLanguage);
s.default.inst.language = a.default.UserData.sandLanguage;
c.default.readData(a.default.storageData.showLanguage) ? a.default.UserData.showLanguage = Number(c.default.readData(a.default.storageData.showLanguage)) : e == d.LocalLanguage.cn ? a.default.UserData.showLanguage = l.showLanguage.cn : e == d.LocalLanguage.tw ? a.default.UserData.showLanguage = l.showLanguage.tw : e == d.LocalLanguage.hk ? a.default.UserData.showLanguage = l.showLanguage.hk : e == d.LocalLanguage.th ? a.default.UserData.showLanguage = l.showLanguage.th : e == d.LocalLanguage.jp ? a.default.UserData.showLanguage = l.showLanguage.jp : a.default.UserData.showLanguage = l.showLanguage.en;
console.log("launch showLanguage", a.default.UserData.showLanguage);
if ("true" === c.default.readData(a.default.storageData.shockSetUp)) a.default.UserData.shockSetUp = !0; else if ("false" === c.default.readData(a.default.storageData.shockSetUp)) a.default.UserData.shockSetUp = !1; else {
a.default.UserData.shockSetUp = !0;
c.default.saveData(a.default.storageData.shockSetUp, a.default.UserData.shockSetUp);
}
if (c.default.readData(a.default.storageData.musicSetUp)) a.default.UserData.musicSetUp = Number(c.default.readData(a.default.storageData.musicSetUp)); else {
a.default.UserData.musicSetUp = .5;
c.default.saveData(a.default.storageData.musicSetUp, a.default.UserData.musicSetUp);
}
s.default.inst.setMusicVolume(a.default.UserData.musicSetUp);
if (c.default.readData(a.default.storageData.soundSetUp)) a.default.UserData.soundSetUp = Number(c.default.readData(a.default.storageData.soundSetUp)); else {
a.default.UserData.soundSetUp = .5;
c.default.saveData(a.default.storageData.soundSetUp, a.default.UserData.soundSetUp);
}
s.default.inst.setEffectVolume(a.default.UserData.soundSetUp);
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new e());
return this._inst;
},
enumerable: !1,
configurable: !0
});
e._inst = null;
return e;
}();
o.default = p;
cc._RF.pop();
}, {
"../Data/GameData": "GameData",
"../Interface/PhoneInfo": "PhoneInfo",
"../SDKInterface/FirebaseInterface": "FirebaseInterface",
"../UIFrame/SoundMgr": "SoundMgr",
"../Util/GameUtil": "GameUtil",
"./Const": "Const",
"./Game": "Game",
"./ScreenAdapter": "ScreenAdapter"
} ],
IntDiceData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a04a9fbmMpLO6+gAXnETfgs", "IntDiceData");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = cc._decorator, a = n.ccclass, r = (n.property, function() {
function e() {}
e.prototype.start = function() {};
e.roomInfo = null;
e.roomType = 1;
e.moneyType = 1;
e.playType = 1;
e.roomID = 0;
e.cardColor = 0;
e.minChip = 0;
e.maxChip = 0;
e.maxTie = 0;
e.maxFlush = 0;
e.leftCardsInBox = 0;
e.selfSeatID = 1;
e.selfMoney = 0;
e.cutCardPos = 0;
e.shuffleID = 0;
e.currSelectBet = 100;
e.currSelectBetIndex = 0;
e.currGameStatus = "pause";
return i([ a ], e);
}());
o.default = r;
cc._RF.pop();
}, {} ],
InviteData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "87bf3m8E7ZAmqrBo/zVTflP", "InviteData");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../Components/MyEvent"), n = e("./LanguageData"), a = function() {
function e() {
this._inviteList = [];
}
e.getInstance = function() {
this.instance || (this.instance = new e());
return this.instance;
};
e.prototype.roomTypeDesc = function(e) {
return [ n.default.ins.STRING_HALL("freeRoom"), n.default.ins.STRING_HALL("classicRoom"), n.default.ins.STRING_HALL("vipRoom"), n.default.ins.STRING_HALL("tigerRoom"), "", "", n.default.ins.STRING_COMMON("baccaratHnd") ][e];
};
e.prototype.roomTypeHead = function(e) {
return [ "F", "C", "P", "T", "", "", "S" ][e];
};
Object.defineProperty(e.prototype, "inviteData", {
get: function() {
return this._inviteList;
},
set: function(e) {
this._inviteList = e;
},
enumerable: !1,
configurable: !0
});
e.prototype.push = function(e) {
for (var t = !1, o = 0; o < this._inviteList.length; o++) {
var i = this._inviteList[o];
e.fromUid == i.fromUid && (t = !0);
}
0 == t && this._inviteList.push(e);
};
e.prototype.reset = function() {
this._inviteList = [];
};
e.prototype.delete = function(e) {
for (var t = this._inviteList.length, o = 0; o < t; o++) if (this._inviteList[o].fromUid = e) {
this._inviteList.splice(o, 1);
i.MyEvent.getInstance().emit("UPDATE_ROOM_INVITE");
break;
}
};
return e;
}();
o.default = a;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"./LanguageData": "LanguageData"
} ],
InviteTips: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c365fm2FiVMy6HqV9Vf1kT9", "InviteTips");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../Data/LanguageData"), s = cc._decorator, c = s.ccclass, l = (s.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._labelNickName = null;
t._labelPlatformName = null;
t._labelMessage = null;
t._labelDesc = null;
t._bg = null;
t._msgs = [];
return t;
}
t.prototype.onLoad = function() {};
t.prototype.initTips = function(e) {
var t = this;
this._msgs = [ r.default.ins.STRING_ROOM("reasonForDeny"), r.default.ins.STRING_ROOM("reasonForDeny1") ];
this._bg = this.node.getChildByName("dialog");
this._labelNickName = this._bg.getChildByName("labelName");
this._labelPlatformName = this._bg.getChildByName("labelPlatform");
this._labelDesc = this._bg.getChildByName("labelDesc");
this._labelMessage = this._bg.getChildByName("labelMsg");
this._labelDesc.getComponent(cc.Label).string = r.default.ins.STRING_ROOM("denyDesc");
this._labelNickName.getComponent(cc.Label).string = e.nickName;
this._labelMessage.getComponent(cc.Label).string = this._msgs[Number(e.msg)] || r.default.ins.STRING_ROOM("reasonForDeny");
if ("" != e.platform) this._labelPlatformName.getComponent(cc.Label).string = "(" + e.platform + ")"; else {
this._labelPlatformName.getComponent(cc.Label).string = e.platform;
this._labelPlatformName.getComponent(cc.Label).string = " ";
}
this._labelNickName.getComponent(cc.Label)._forceUpdateRenderData(!0);
this._labelPlatformName.getComponent(cc.Label)._forceUpdateRenderData(!0);
this._labelDesc.getComponent(cc.Label)._forceUpdateRenderData(!0);
this._labelMessage.getComponent(cc.Label)._forceUpdateRenderData(!0);
var o = this._labelNickName.width + this._labelPlatformName.width + this._labelDesc.width + 15, i = this._labelMessage.width;
this._labelNickName.x = -o / 2;
this._labelPlatformName.x = this._labelNickName.x + this._labelNickName.width;
this._labelDesc.x = this._labelPlatformName.x + this._labelPlatformName.width + 15;
this._bg.width = o > i ? o + 50 : i + 50;
this.scheduleOnce(function() {
t.node.destroy();
}, 2);
};
return a([ c ], t);
}(cc.Component));
o.default = l;
cc._RF.pop();
}, {
"../../Data/LanguageData": "LanguageData"
} ],
IpadRoomWaybill: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b4817zWd+BGramp9eziFO+9", "IpadRoomWaybill");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../Components/MyEvent"), l = e("../Conf/Const"), d = e("../Data/GameData"), h = e("../Data/LanguageData"), u = e("../UIFrame/List"), p = e("../UIFrame/SoundMgr"), f = e("../Util/CalculationLine"), m = e("../Util/GameUtil"), g = cc._decorator, y = g.ccclass, _ = (g.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._isShowForecast = !1;
t._originalWaybillCd = !0;
return t;
}
o = t;
t.prototype.onLoad = function() {
this._waybill = this.node;
this._originalWaybillList = [];
this._moreView = this.node.getChildByName("moreInfo");
this._zplListScrollview = this._waybill.getChildByName("zplBg").getChildByName("scrollview");
this._zplList = this._zplListScrollview.getComponent(u.default);
this._dlListScrollview = this._waybill.getChildByName("dlBg").getChildByName("scrollview");
this._dlList = this._dlListScrollview.getComponent(u.default);
this._dyzlListScrollview = this._waybill.getChildByName("dylBg").getChildByName("scrollview");
this._dyzlList = this._dyzlListScrollview.getComponent(u.default);
this._xlListScrollview = this._waybill.getChildByName("xlBg").getChildByName("scrollview");
this._xlList = this._xlListScrollview.getComponent(u.default);
this._yylListScrollview = this._waybill.getChildByName("yylBg").getChildByName("scrollview");
this._yylList = this._yylListScrollview.getComponent(u.default);
this._tigerSpine = this.node.getChildByName("spine");
this._tigerSpine.active = !1;
this._tipsSumLabelList = [];
this._labelNumList = [];
for (var e = 1; e < 9; e++) {
var t = this._waybill.getChildByName("statisticsNode").getChildByName("sum" + e);
this._tipsSumLabelList.push(t);
this._labelNumList.push(0);
}
this.initMoreInfoView();
this.setMoreViewActive(!1, !0);
this.getNextNode();
this.setLabelString();
this.setAdaptation();
};
t.prototype.setAdaptation = function() {
if (cc.winSize.width / cc.winSize.height > 2048 / 1536) {
this.node.getChildByName("ipadBg").width = cc.winSize.width;
var e = (cc.winSize.width - 2048) / 2;
o.zplAutoLength = o.zplAutoLength + Math.ceil(2 * e / 68);
this._waybill.getChildByName("statisticsNode").x += e;
this._newtNode.x += e;
var t = this._waybill.getChildByName("zplBg");
this._waybill.getChildByName("zplBg").x -= e;
this._waybill.getChildByName("dlBg").x += e;
this._waybill.getChildByName("dylBg").x += e;
this._waybill.getChildByName("xlBg").x += e;
this._waybill.getChildByName("yylBg").x += e;
this._moreView.x += e;
t.width = t.width + 2 * e;
this._zplListScrollview.width = t.width;
this._zplListScrollview.getChildByName("label").x = this._zplListScrollview.width / 2;
t.getChildByName("zplFrame").width = t.width;
this._zplListScrollview.getChildByName("view").width = t.width - 4;
}
};
t.prototype.start = function() {
var e = this;
this._waybill.getChildByName("statisticsNode").getChildByName("moreBtn").on("click", function() {
p.default.inst.playEffect("btnSound");
c.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
e._moreView.active ? e.setMoreViewActive(!1) : e.setMoreViewActive(!0);
});
};
t.prototype.getOriginalWaybillList = function() {
return this._originalWaybillList;
};
t.prototype.pushOriginalWaybillList = function(e) {
var t = this;
if (this._originalWaybillList) {
this._originalWaybillList.push(e);
var i = f.default.getInstance().getZplWayBill(this._originalWaybillList, o.zplAutoLength);
this.zplInfoList = i;
this.changeZplWaybill(i[i.length - 1], i.length, i, function() {
t._waybillAddTail(t.zplInfoList, "zpl", 1);
t._zplList.numItems = t.zplInfoList.length;
t._scrollTo(t._zplList, t.zplInfoList, o.zplAutoLength + 1);
});
this.scheduleOnce(function() {
var e = f.default.getInstance().setCustomLengthWaybillData(m.default.copyData(t._originalWaybillList), {
dlLength: 35,
dyzLength: 34,
xlLength: 34,
yylLength: 26,
yylColumn: 12
});
t.dlInfoList = e[0];
t._waybillAddTail(t.dlInfoList, "dl", 1);
t._dlList.numItems = t.dlInfoList.length;
t._scrollTo(t._dlList, t.dlInfoList, o.dlAutoLength + 1);
t.dylInfoList = e[2];
t._waybillAddTail(t.dylInfoList, "dyzl", 2);
t._dyzlList.numItems = t.dylInfoList.length;
t._scrollTo(t._dyzlList, t.dylInfoList, o.dyzlAutoLength + 2);
t.xlInfoList = e[3];
t._waybillAddTail(t.xlInfoList, "xl", 2);
t._xlList.numItems = t.xlInfoList.length;
t._scrollTo(t._xlList, t.xlInfoList, o.xlAutoLength + 2);
t.yylInfoList = e[4];
t._waybillAddTail(t.yylInfoList, "yyl", 2);
t._yylList.numItems = t.yylInfoList.length;
t._scrollTo(t._yylList, t.yylInfoList, o.yylAutoLength + 2);
t.initSumLabel();
t._forecastWaybill();
}, 295 / 60);
}
};
t.prototype.changeZplWaybill = function(e, t, i, n) {
if (i.length > o.zplAutoLength) for (var a = 0; a < e.length; a++) {
if (0 == e[a].result) {
this.calculation(t - 1, a, e[a - 1], n);
return;
}
if (5 == a) {
this.calculation(t - 1, a + 1, e[a], n);
return;
}
} else for (a = 0; a < i.length; a++) for (var r = i[a], s = 0; s < r.length; s++) {
if (0 == r[s].result) {
this.calculation(a, s, r[s - 1], function() {
n();
});
return;
}
if (5 == s && (a + 1 == o.zplAutoLength || i[a + 1] && 0 == i[a + 1][0].result)) {
this.calculation(a, s + 1, r[s], function() {
n();
});
return;
}
}
};
t.prototype.setOriginalWaybillList = function(e, t) {
var i = this;
if (this._originalWaybillList && this._originalWaybillCd) {
this._originalWaybillCd = !1;
this.scheduleOnce(function() {
i._originalWaybillCd = !0;
}, 1);
var n, a = [], r = 2;
t && (r = t);
a[0] = function() {
i._originalWaybillList = e;
i.zplInfoList = f.default.getInstance().getZplWayBill(m.default.copyData(i._originalWaybillList), o.zplAutoLength);
i._waybillAddTail(i.zplInfoList, "zpl", 1);
i._zplList.numItems = i.zplInfoList.length;
n = f.default.getInstance().setCustomLengthWaybillData(m.default.copyData(i._originalWaybillList), {
dlLength: 35,
dyzLength: 34,
xlLength: 34,
yylLength: 26,
yylColumn: 12
});
i._scrollTo(i._zplList, i.zplInfoList, o.zplAutoLength + 1);
};
a[1] = function() {
i.dlInfoList = n[0];
i._waybillAddTail(i.dlInfoList, "dl", 1);
i._dlList.numItems = i.dlInfoList.length;
i._scrollTo(i._dlList, i.dlInfoList, o.dlAutoLength + 1);
};
a[2] = function() {
i.dylInfoList = n[2];
i._waybillAddTail(i.dylInfoList, "dyzl", 2);
i._dyzlList.numItems = i.dylInfoList.length;
i._scrollTo(i._dyzlList, i.dylInfoList, o.dyzlAutoLength + 2);
};
a[3] = function() {
i.xlInfoList = n[3];
i._waybillAddTail(i.xlInfoList, "xl", 2);
i._xlList.numItems = i.xlInfoList.length;
i._scrollTo(i._xlList, i.xlInfoList, o.xlAutoLength + 2);
};
a[4] = function() {
i.yylInfoList = n[4];
i._waybillAddTail(i.yylInfoList, "yyl", 2);
i._yylList.numItems = i.yylInfoList.length;
i._scrollTo(i._yylList, i.yylInfoList, o.yylAutoLength + 2);
};
a[5] = function() {
i.initSumLabel();
};
a[6] = function() {
i._forecastWaybill();
};
a.forEach(function(e, t) {
i.scheduleOnce(e, t * r / 60);
});
}
};
t.prototype._scrollTo = function(e, t, o) {
t.length > o ? e.scrollTo(t.length) : e.scrollTo(0);
};
t.prototype._waybillAddTail = function(e, t, o) {
if ("zpl" == t) e.push([ {
result: 0
}, {
result: 0
}, {
result: 0
}, {
result: 0
}, {
result: 0
}, {
result: 0
} ]); else if ("dl" == t) {
for (var i = [], n = 0; n < 6; n++) i[n] = {
id: 0,
pice: 0,
player: 0,
banker: 0,
lucky: 0
};
e.push(i);
} else if ("dyzl" == t) for (var a = 0; a < o; a++) e.push([ 0, 0, 0, 0, 0, 0 ]); else if ("xl" == t) for (a = 0; a < o; a++) e.push([ 0, 0, 0, 0, 0, 0 ]); else if ("yyl" == t) for (a = 0; a < o; a++) e.push([ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]);
};
t.prototype.updateZplItem = function(e, t) {
for (var o = this, i = function(e, i, n) {
var a = e.getChildByName("icon1"), r = e.getChildByName("icon2"), s = e.getChildByName("icon3");
a.active = !1;
r.active = !1;
s.active = !1;
if (1 == i.result) {
a.active = !0;
"cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage() ? m.default.loadSpriteFrame(a, "ipadZplP", "room/waybill/next/next") : m.default.loadSpriteFrame(a, "ipadZplPEn", "room/waybill/next/next");
} else if (2 == i.result) {
a.active = !0;
"cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage() ? m.default.loadSpriteFrame(a, "ipadZplB", "room/waybill/next/next") : m.default.loadSpriteFrame(a, "ipadZplBEn", "room/waybill/next/next");
} else if (3 == i.result) {
a.active = !0;
"cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage() ? m.default.loadSpriteFrame(a, "ipadZplPeace", "room/waybill/next/next") : m.default.loadSpriteFrame(a, "ipadZplPeaceEn", "room/waybill/next/next");
}
i.playerPair && (r.active = !0);
i.bankerPair && (s.active = !0);
i.lucky && m.default.loadSpriteFrame(a, "ipadTigerLuck", "room/waybill/next/next");
i.tigerDraw && d.default.roomData.playType == l.baccaratRoomType.singapore && m.default.loadSpriteFrame(a, "ipadTigerDraw", "room/waybill/next/next");
if (0 != i.result && o._isShowForecast && o._zplMax.x == t && o._zplMax.y == n - 1) for (var c = 1; c < 4; c++) {
var u = e.getChildByName("icon" + c);
u.active && o._twinkleAnim(u);
}
}, n = this.zplInfoList[t], a = 1; a < 7; a++) i(e.getChildByName("zpl" + a), n[a - 1], a);
};
t.prototype.updateDlItem = function(e, t) {
for (var o = this, i = function(e, i, n) {
var a = e.getChildByName("icon1"), r = e.getChildByName("icon2"), s = e.getChildByName("icon3"), c = e.getChildByName("icon4"), l = e.getChildByName("icon5"), d = e.getChildByName("icon6");
a.active = !1;
r.active = !1;
s.active = !1;
c.active = !1;
l.active = !1;
d.active = !1;
if (1 == i.id) {
a.active = !0;
m.default.loadSpriteFrame(a, "dlBlue", "room/waybill/next/next");
} else if (2 == i.id) {
a.active = !0;
m.default.loadSpriteFrame(a, "dlRed", "room/waybill/next/next");
}
if (1 == i.pice) l.active = !0; else if (i.pice >= 2) {
l.active = !0;
d.active = !0;
}
i.player && (s.active = !0);
i.banker && (c.active = !0);
i.lucky && (r.active = !0);
if (0 != i.id && o._isShowForecast && o._dlMax.x == t && o._dlMax.y == n - 1) for (var h = 1; h < 7; h++) {
var u = e.getChildByName("icon" + h);
u.active && o._twinkleAnim(u);
}
}, n = this.dlInfoList[t], a = 1; a < 7; a++) i(e.getChildByName("dl" + a), n[a - 1], a);
};
t.prototype.updateDyzlItem = function(e, t) {
for (var o = this, i = function(e, i, n, a) {
var r = e.getChildByName("icon1"), s = e.getChildByName("icon2"), c = e.getChildByName("icon3");
s.active = !1;
c.active = !1;
t % 2 == 0 ? m.default.loadSpriteFrame(r, "halfLeft", "room/waybill/next/next") : m.default.loadSpriteFrame(r, "halfRight", "room/waybill/next/next");
if (1 == i) {
s.active = !0;
m.default.loadSpriteFrame(s, "dyzRed", "room/waybill/next/next");
} else if (2 == i) {
s.active = !0;
m.default.loadSpriteFrame(s, "dyzBlue", "room/waybill/next/next");
}
if (1 == n) {
c.active = !0;
m.default.loadSpriteFrame(c, "dyzRed", "room/waybill/next/next");
} else if (2 == n) {
c.active = !0;
m.default.loadSpriteFrame(c, "dyzBlue", "room/waybill/next/next");
}
o._isShowForecast && (0 != i && 0 == n ? o._dyzMax.x == t && Math.ceil((o._dyzMax.y + 1) / 2) == a && o._twinkleAnim(s) : 0 != n && o._dyzMax.x == t && Math.ceil((o._dyzMax.y + 1) / 2) == a && o._twinkleAnim(c));
}, n = this.dylInfoList[t], a = 1; a < 4; a++) {
var r = e.getChildByName("dyz" + a);
1 == a ? i(r, n[0], n[1], a) : 2 == a ? i(r, n[2], n[3], a) : 3 == a && i(r, n[4], n[5], a);
}
};
t.prototype.updateXlItem = function(e, t) {
for (var o = this, i = function(e, i, n, a) {
var r = e.getChildByName("icon1"), s = e.getChildByName("icon2"), c = e.getChildByName("icon3");
s.active = !1;
c.active = !1;
t % 2 == 0 ? m.default.loadSpriteFrame(r, "halfLeft", "room/waybill/next/next") : m.default.loadSpriteFrame(r, "halfRight", "room/waybill/next/next");
if (1 == i) {
s.active = !0;
m.default.loadSpriteFrame(s, "xlRed", "room/waybill/next/next");
} else if (2 == i) {
s.active = !0;
m.default.loadSpriteFrame(s, "xlBlue", "room/waybill/next/next");
}
if (1 == n) {
c.active = !0;
m.default.loadSpriteFrame(c, "xlRed", "room/waybill/next/next");
} else if (2 == n) {
c.active = !0;
m.default.loadSpriteFrame(c, "xlBlue", "room/waybill/next/next");
}
o._isShowForecast && (0 != i && 0 == n ? o._xlMax.x == t && Math.ceil((o._xlMax.y + 1) / 2) == a && o._twinkleAnim(s) : 0 != n && o._xlMax.x == t && Math.ceil((o._xlMax.y + 1) / 2) == a && o._twinkleAnim(c));
}, n = this.xlInfoList[t], a = 1; a < 4; a++) {
var r = e.getChildByName("xl" + a);
1 == a ? i(r, n[0], n[1], a) : 2 == a ? i(r, n[2], n[3], a) : 3 == a && i(r, n[4], n[5], a);
}
};
t.prototype.updateYylItem = function(e, t) {
for (var o = this, i = function(e, i, n, a) {
var r = e.getChildByName("icon1"), s = e.getChildByName("icon2"), c = e.getChildByName("icon3");
s.active = !1;
c.active = !1;
t % 2 == 0 ? m.default.loadSpriteFrame(r, "halfLeft", "room/waybill/next/next") : m.default.loadSpriteFrame(r, "halfRight", "room/waybill/next/next");
if (1 == i) {
s.active = !0;
m.default.loadSpriteFrame(s, "yylRedLine", "room/waybill/next/next");
} else if (2 == i) {
s.active = !0;
m.default.loadSpriteFrame(s, "yylBlueLine", "room/waybill/next/next");
}
if (1 == n) {
c.active = !0;
m.default.loadSpriteFrame(c, "yylRedLine", "room/waybill/next/next");
} else if (2 == n) {
c.active = !0;
m.default.loadSpriteFrame(c, "yylBlueLine", "room/waybill/next/next");
}
o._isShowForecast && (0 != i && 0 == n ? o._yylMax.x == t && Math.ceil((o._yylMax.y + 1) / 2) == a && o._twinkleAnim(s) : 0 != n && o._yylMax.x == t && Math.ceil((o._yylMax.y + 1) / 2) == a && o._twinkleAnim(c));
}, n = this.yylInfoList[t], a = 1; a < 7; a++) {
var r = e.getChildByName("yyl" + a);
1 == a ? i(r, n[0], n[1], a) : 2 == a ? i(r, n[2], n[3], a) : 3 == a ? i(r, n[4], n[5], a) : 4 == a ? i(r, n[6], n[7], a) : 5 == a ? i(r, n[8], n[9], a) : 6 == a && i(r, n[10], n[11], a);
}
};
t.prototype.initSumLabel = function() {
if (this._labelNumList) {
for (var e = 0; e < this._labelNumList.length; e++) this._labelNumList[e] = 0;
this._labelNumList[0] = this._originalWaybillList.length;
for (e = 0; e < this._originalWaybillList.length; e++) {
var t = this._originalWaybillList[e];
1 == t.result ? this._labelNumList[2] += 1 : 2 == t.result ? this._labelNumList[1] += 1 : 3 == t.result && (this._labelNumList[3] += 1);
t.god && (this._labelNumList[4] += 1);
t.lucky && (this._labelNumList[5] += 1);
t.playerPair && (this._labelNumList[7] += 1);
t.bankerPair && (this._labelNumList[6] += 1);
}
this.changeSumLbel();
}
};
t.prototype.changeSumLbel = function() {
for (var e = 0; e < this._labelNumList.length; e++) {
this._tipsSumLabelList[e].getComponent(cc.Label).string = this._labelNumList[e] + "";
0 == e && (this._numberGames.string = m.default.formatMoneyShorter(this._labelNumList[e]));
}
};
t.prototype.getNextNode = function() {
this._newtNode = this._waybill.getChildByName("nextNode");
this._banker_icon1 = this._newtNode.getChildByName("banker_icon1");
this._banker_icon2 = this._newtNode.getChildByName("banker_icon2");
this._banker_icon3 = this._newtNode.getChildByName("banker_icon3");
this._player_icon1 = this._newtNode.getChildByName("player_icon1");
this._player_icon2 = this._newtNode.getChildByName("player_icon2");
this._player_icon3 = this._newtNode.getChildByName("player_icon3");
var e = this._newtNode.getChildByName("bankerBtn"), t = this._newtNode.getChildByName("playerBtn");
e.on("click", this._showForecast, this);
t.on("click", this._showForecast, this);
};
t.prototype.setMoreViewActive = function(e, t) {
var o = this;
this._moreView.active = e;
var i = this._waybill.getChildByName("statisticsNode").getChildByName("moreBtn");
if (e) {
this._moreView.on("click", function() {
c.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
o.setMoreViewActive(!1);
});
i.getChildByName("Background").angle = -180;
} else {
this._moreView.off("click");
i.getChildByName("Background").angle = 0;
t || p.default.inst.playEffect("closeSound");
}
};
t.prototype._forecastWaybill = function() {
m.default.copyData(this._originalWaybillList);
var e = function(e) {
for (var t, o = f.default.getInstance().setRoomListWaybillData(e), i = f.default.getInstance().dyzNumList, n = {
x: 0,
y: 0
}, a = 0, r = 0; r < i.length; r++) for (var s = i[r], c = 0; c < s.length; c++) if (a < s[c]) {
a = s[c];
n.x = r;
n.y = c;
}
t = o[2][n.x] && o[2][n.x][n.y] ? o[2][n.x][n.y] : 0;
var l, d = f.default.getInstance().xlNumList, h = {
x: 0,
y: 0
}, u = 0;
for (r = 0; r < d.length; r++) {
var p = d[r];
for (c = 0; c < p.length; c++) if (u < p[c]) {
u = p[c];
h.x = r;
h.y = c;
}
}
console.log(o[3], f.default.getInstance().xlNumList);
l = o[3][h.x] && o[3][h.x][h.y] ? o[3][h.x][h.y] : 0;
var m = f.default.getInstance().yylNumList, g = {
x: 0,
y: 0
}, y = 0;
for (r = 0; r < m.length; r++) {
var _ = m[r];
for (c = 0; c < _.length; c++) if (y < _[c]) {
y = _[c];
g.x = r;
g.y = c;
}
}
return {
dyzResult: t,
xlResult: l,
yylResult: o[4][g.x] && o[4][g.x][g.y] ? o[4][g.x][g.y] : 0
};
}, t = m.default.copyData(this._originalWaybillList);
t.push({
result: 2
});
var o = m.default.copyData(this._originalWaybillList);
o.push({
result: 1
});
var i = e(t), n = e(o);
this._banker_icon1.active = !1;
this._banker_icon2.active = !1;
this._banker_icon3.active = !1;
this._player_icon1.active = !1;
this._player_icon2.active = !1;
this._player_icon3.active = !1;
var a = function(e, t, o, i) {
if (1 == i) {
m.default.loadSpriteFrame(e, t, "room/waybill/next/next");
e.active = !0;
} else if (2 == i) {
m.default.loadSpriteFrame(e, o, "room/waybill/next/next");
e.active = !0;
}
};
a(this._banker_icon1, "dyz_red", "dyz_blue", i.dyzResult);
a(this._banker_icon2, "xl_red", "xl_blue", i.xlResult);
a(this._banker_icon3, "yyl_red", "yyl_blue", i.yylResult);
a(this._player_icon1, "dyz_red", "dyz_blue", n.dyzResult);
a(this._player_icon2, "xl_red", "xl_blue", n.xlResult);
a(this._player_icon3, "yyl_red", "yyl_blue", n.yylResult);
};
t.prototype.calculation = function(e, t, o, i) {
return r(this, void 0, void 0, function() {
var n, a, r, c, l, d, u, p, f, g, y;
return s(this, function() {
n = this._zplListScrollview.parent.x;
a = this._zplListScrollview.parent.y;
r = 68 * (e + 1) - 34;
c = 408 - 68 * t - 170;
l = this._zplListScrollview.getComponent(cc.ScrollView).getScrollOffset();
d = o;
u = n + r + l.x;
p = a + c + l.y;
(f = new cc.Node()).addComponent(cc.Sprite);
f.parent = this.node;
f.scale = 60 / 260;
g = "room/dynamicLoading/settlePlayer";
1 == o.result ? g = "cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage() ? "room/dynamicLoading/settlePlayer" : "room/dynamicLoading/settlePlayerEn" : 2 == o.result ? g = "cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage() ? "room/dynamicLoading/settleBanker" : "room/dynamicLoading/settleBankerEn" : 3 == o.result && (g = "cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage() ? "room/dynamicLoading/settleDraw" : "room/dynamicLoading/settleDrawEn");
if (o.lucky) {
y = i;
this.tigerAnim(u, p, y, d.tager);
f.destroy();
return [ 2 ];
}
m.default.loadSpriteFrame(f, g);
f.setPosition(0, -210);
cc.tween(f).to(16 / 60, {
scale: 60 / 260
}).to(.2, {
scale: 450 / 260 * .8
}).to(.2, {
scale: 1.4112426035502958
}).delay(130 / 60).to(1.2, {
scale: 1.4911242603550297
}, {
easing: "quadOut"
}).to(13 / 60, {
scale: 60 / 260,
position: cc.v3(u, p)
}).call(function() {
f.destroy();
i();
}, this).start();
return [ 2 ];
});
});
};
t.prototype.tigerAnim = function(e, t, o, i) {
var n = this, a = o;
p.default.inst.playEffect(i);
this._tigerSpine.stopAllActions();
this._tigerSpine.active = !0;
this._tigerSpine.opacity = 255;
this._tigerSpine.setPosition(0, -410);
this._tigerSpine.scale = .8;
this._tigerSpine.getComponent(sp.Skeleton).clearTrack(0);
this._tigerSpine.getComponent(sp.Skeleton).setCompleteListener(function() {
cc.tween(n._tigerSpine).call(function() {
n._tigerSpine.getComponent(sp.Skeleton).setAnimation(0, "Idle", !0);
}, n).delay(3).to(13 / 60, {
scale: 60 / 2856,
position: cc.v3(e, t),
opacity: 0
}).call(function() {
n._tigerSpine.active = !1;
a();
}, n).start();
});
var r;
r = "tiger1" == i ? "Go" : "Go2";
this._tigerSpine.getComponent(sp.Skeleton).setAnimation(0, r, !1);
};
t.prototype.clearAllItem = function() {
this.setOriginalWaybillList([]);
};
t.prototype.initMoreInfoView = function() {
for (var e = [], t = 1; t <= 10; t++) e[t] = this._moreView.getChildByName("title" + t);
var o = [];
for (t = 1; t <= 7; t++) o[t] = this._moreView.getChildByName("info" + t);
o[1].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.minChip);
o[2].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.maxBlind);
o[3].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.minChip);
o[4].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.maxLucky6);
o[5].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.maxLucky6);
this._numberGames = o[6].getComponent(cc.Label);
o[7].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.roomId);
if (d.default.roomData.playType == l.baccaratRoomType.singapore) {
e[3].getComponent(cc.Label).string = "Tie/Tiger Pair/Tiger/Small Tiger/Big Tiger/Tiger Tie Min:";
e[4].getComponent(cc.Label).string = "/////:";
e[5].getComponent(cc.Label).string = "Tiger/Small Tiger/Big Tiger/Tiger Tie Max:";
e[6].getComponent(cc.Label).string = "///:";
e[7].getComponent(cc.Label).string = "Tie/Tiger Pair Max:";
e[8].getComponent(cc.Label).string = "/:";
m.default.refreshNowLabelSize(e[3]);
this._moreView.getChildByName("bg").width = e[3].width - 223 + 554;
}
};
t.prototype.setLabelString = function() {
return r(this, void 0, void 0, function() {
var e, t;
return s(this, function() {
(e = this._waybill.getChildByName("moreInfo")).getChildByName("title1").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo1");
e.getChildByName("title2").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo2");
e.getChildByName("title3").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo3");
e.getChildByName("title4").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo4");
e.getChildByName("title5").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo5");
e.getChildByName("title6").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo6");
e.getChildByName("title7").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo7");
e.getChildByName("title8").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo8");
e.getChildByName("title9").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo9");
e.getChildByName("title10").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo10");
this._zplListScrollview.getChildByName("label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("zpRoad");
this._dlListScrollview.getChildByName("label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("dlRoad");
this._dyzlListScrollview.getChildByName("label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("dyRoad");
this._xlListScrollview.getChildByName("label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("xlRoad");
this._yylListScrollview.getChildByName("label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("yyRoad");
this._waybill.getChildByName("statisticsNode").getChildByName("moreLabel").getComponent(cc.Label).string = h.default.ins.STRING_COMMON("more");
this._originalWaybillList.length > 0 && this.setOriginalWaybillList(this._originalWaybillList);
t = this._waybill.getChildByName("statisticsNode");
if ("cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage()) {
m.default.loadSpriteFrame(t.getChildByName("icon1"), "icon1", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon2"), "icon2", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon3"), "icon3", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon4"), "icon4", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon5"), "icon5", "room/waybill/next/next");
m.default.loadSpriteFrame(this._waybill.getChildByName("nextNode").getChildByName("banker"), "banker", "room/waybill/next/next");
m.default.loadSpriteFrame(this._waybill.getChildByName("nextNode").getChildByName("player"), "player", "room/waybill/next/next");
e.getChildByName("title3").active = !0;
e.getChildByName("title5").active = !0;
e.getChildByName("title7").active = !0;
e.getChildByName("title4").y = -148;
e.getChildByName("title6").y = -218;
e.getChildByName("title8").y = -288;
if (d.default.roomData.playType == l.baccaratRoomType.singapore) {
e.getChildByName("title3").getComponent(cc.Label).string = "Tie/Tiger Pair/Tiger/Small Tiger/Big Tiger/Tiger Tie Min:";
e.getChildByName("title4").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo11");
e.getChildByName("title5").getComponent(cc.Label).string = "Tiger/Small Tiger/Big Tiger/Tiger Tie Max:";
e.getChildByName("title6").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo12");
e.getChildByName("title7").getComponent(cc.Label).string = "Tie/Tiger Pair Max:";
e.getChildByName("title8").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo13");
}
} else {
m.default.loadSpriteFrame(t.getChildByName("icon1"), "icon1En", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon2"), "icon2En", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon3"), "icon3En", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon4"), "icon4En", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon5"), "icon5En", "room/waybill/next/next");
m.default.loadSpriteFrame(this._waybill.getChildByName("nextNode").getChildByName("banker"), "bankerEn", "room/waybill/next/next");
m.default.loadSpriteFrame(this._waybill.getChildByName("nextNode").getChildByName("player"), "playerEn", "room/waybill/next/next");
e.getChildByName("title3").active = !1;
e.getChildByName("title5").active = !1;
e.getChildByName("title7").active = !1;
e.getChildByName("title4").y = -136;
e.getChildByName("title6").y = -206;
e.getChildByName("title8").y = -276;
if (d.default.roomData.playType == l.baccaratRoomType.singapore) {
e.getChildByName("title4").y = this._moreView.getChildByName("info3").y;
e.getChildByName("title6").y = this._moreView.getChildByName("info4").y;
e.getChildByName("title8").y = this._moreView.getChildByName("info5").y;
e.getChildByName("title4").getComponent(cc.Label).string = "Tie/Tiger Pair/Tiger/Small Tiger/Big Tiger/Tiger Tie Min:";
e.getChildByName("title6").getComponent(cc.Label).string = "Tiger/Small Tiger/Big Tiger/Tiger Tie Max:";
e.getChildByName("title8").getComponent(cc.Label).string = "Tie/Tiger Pair Max:";
}
}
return [ 2 ];
});
});
};
t.prototype._showForecast = function(e) {
var t = this;
if ("settlement" != d.default.roomData.gameState && !this._isShowForecast) {
p.default.inst.playEffect("btnSound");
var i = e.node, n = function(e) {
var i = f.default.getInstance().getZplWayBill(e, o.zplAutoLength), n = f.default.getInstance().setCustomLengthWaybillData(m.default.copyData(e), {
dlLength: 35,
dyzLength: 34,
xlLength: 34,
yylLength: 26,
yylColumn: 12
}), a = f.default.getInstance().zplNumList, r = f.default.getInstance().dlNumList, s = f.default.getInstance().dyzNumList, c = f.default.getInstance().xlNumList, l = f.default.getInstance().yylNumList;
function d(e) {
for (var t = {
x: 0,
y: 0
}, o = 0, i = 0; i < e.length; i++) for (var n = e[i], a = 0; a < n.length; a++) if (o < n[a]) {
o = n[a];
t.x = i;
t.y = a;
}
return t;
}
t._zplMax = d(a);
t._dlMax = d(r);
t._dyzMax = d(s);
t._xlMax = d(c);
t._yylMax = d(l);
var h = function(e, i) {
t.zplInfoList = e;
t._waybillAddTail(t.zplInfoList, "zpl", 1);
t._zplList.numItems = t.zplInfoList.length;
t.dlInfoList = i[0];
t._waybillAddTail(t.dlInfoList, "dl", 1);
t._dlList.numItems = t.dlInfoList.length;
t._scrollTo(t._dlList, t.dlInfoList, o.dlAutoLength + 1);
t.dylInfoList = i[2];
t._waybillAddTail(t.dylInfoList, "dyzl", 2);
t._dyzlList.numItems = t.dylInfoList.length;
t._scrollTo(t._dyzlList, t.dylInfoList, o.dyzlAutoLength + 2);
t.xlInfoList = i[3];
t._waybillAddTail(t.xlInfoList, "xl", 2);
t._xlList.numItems = t.xlInfoList.length;
t._scrollTo(t._xlList, t.xlInfoList, o.xlAutoLength + 2);
t.yylInfoList = i[4];
t._waybillAddTail(t.yylInfoList, "yyl", 2);
t._yylList.numItems = t.yylInfoList.length;
t._scrollTo(t._yylList, t.yylInfoList, o.yylAutoLength + 2);
};
t._isShowForecast = !0;
t.scheduleOnce(function() {
t._isShowForecast = !1;
var e = f.default.getInstance().getZplWayBill(m.default.copyData(t._originalWaybillList), o.zplAutoLength), i = f.default.getInstance().setCustomLengthWaybillData(m.default.copyData(t._originalWaybillList), {
dlLength: 35,
dyzLength: 34,
xlLength: 34,
yylLength: 26,
yylColumn: 12
});
h(e, i);
}, 4);
h(i, n);
};
if ("bankerBtn" == i.name) {
var a = m.default.copyData(this._originalWaybillList);
a.push({
result: 2
});
n(a);
} else if ("playerBtn" == i.name) {
var r = m.default.copyData(this._originalWaybillList);
r.push({
result: 1
});
n(r);
}
}
};
t.prototype._twinkleAnim = function(e) {
e.opacity = 0;
cc.tween(e).delay(.5).to(0, {
opacity: 255
}).delay(.5).to(0, {
opacity: 0
}).delay(.5).to(0, {
opacity: 255
}).delay(.5).to(0, {
opacity: 0
}).delay(.5).to(0, {
opacity: 255
}).start();
};
var o;
t.zplAutoLength = 10;
t.dlAutoLength = 35;
t.dyzlAutoLength = 34;
t.xlAutoLength = 34;
t.yylAutoLength = 26;
return o = a([ y ], t);
}(cc.Component));
o.default = _;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Conf/Const": "Const",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../UIFrame/List": "List",
"../UIFrame/SoundMgr": "SoundMgr",
"../Util/CalculationLine": "CalculationLine",
"../Util/GameUtil": "GameUtil"
} ],
LanguageData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a07961hMyxNFKa7XsKm0gCr", "LanguageData");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../../code/public/MyComponent/GameEvent"), r = e("../Conf/Const"), s = e("./GameData"), c = function() {
function e() {}
e.prototype.initLanguageData = function() {
return i(this, void 0, void 0, function() {
return n(this, function() {
a.GameEvent.ins().emit("ON_INIT_LANGUAGE");
return [ 2 ];
});
});
};
e.prototype._classification = function() {
var e = this;
this._hallList = {};
this._roomList = {};
this._dialogList = {};
this._commonList = {};
this._loginList = {};
this._loadingList = {};
this._blackjackList = {};
this._languageList.forEach(function(t) {
"hall" == t.type ? e._hallList = t.desc : "room" == t.type ? e._roomList = t.desc : "dialog" == t.type ? e._dialogList = t.desc : "common" == t.type ? e._commonList = t.desc : "login" == t.type ? e._loginList = t.desc : "loading" == t.type ? e._loadingList = t.desc : "alert" == t.type ? e._alertList = t.desc : "blackjack" == t.type ? e._blackjackList = t.desc : "newHall" == t.type && (e._newhall = t.desc);
});
};
e.prototype.STRING_HALL = function(e) {
var t = this._hallList[e];
return t && "" != t ? t : "hall#" + e;
};
e.prototype.STRING_ROOM = function(e) {
var t = this._roomList[e];
return t && "" != t ? t : "room#" + e;
};
e.prototype.STRING_NEWHALL = function(e) {
var t = this._newhall[e];
return t && "" != t ? t : "newHall#" + e;
};
e.prototype.STRING_DIALOG = function(e) {
var t = this._dialogList[e];
return t && "" != t ? t : "dialog#" + e;
};
e.prototype.STRING_COMMON = function(e) {
var t = this._commonList[e];
return t && "" != t ? t : "common#" + e;
};
e.prototype.STRING_LOGIN = function(e) {
var t = this._loginList[e];
return t && "" != t ? t : "login#" + e;
};
e.prototype.STRING_LOADING = function(e) {
var t = this._loadingList[e];
return t && "" != t ? t : "loading#" + e;
};
e.prototype.STRING_ALERT = function(e) {
var t = this._alertList[e];
return t && "" != t ? t : "alert#" + e;
};
e.prototype.STRING_BLACKJACK = function(e) {
var t = this._blackjackList[e];
return t && "" != t ? t : "blackjack#" + e;
};
e.prototype.getCountryLanguage = function() {
return s.default.UserData.showLanguage == r.showLanguage.cn ? "cn" : s.default.UserData.showLanguage == r.showLanguage.tw ? "tw" : s.default.UserData.showLanguage == r.showLanguage.th ? "th" : s.default.UserData.showLanguage == r.showLanguage.en ? "en" : s.default.UserData.showLanguage == r.showLanguage.hk ? "tw" : "en";
};
Object.defineProperty(e, "ins", {
get: function() {
this.instance || (this.instance = new e());
return this.instance;
},
enumerable: !1,
configurable: !0
});
return e;
}();
o.default = c;
cc._RF.pop();
}, {
"../../../code/public/MyComponent/GameEvent": "GameEvent",
"../Conf/Const": "Const",
"./GameData": "GameData"
} ],
LaunchDialogManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3f95ePtlklIkbWiVT3piWOL", "LaunchDialogManager");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("../Conf/Config"), a = e("../Data/GameData"), r = e("../Util/GameUtil"), s = e("./DialogManager"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function() {
function e() {}
t = e;
e.prototype.showActivityDialog = function(e) {
var t = a.default.hallData.activityData;
if (0 != t.length) {
var o = t[0], i = n.default.resourceUrl + o.bgImage.url, c = n.default.resourceUrl + o.btnImage.url, l = n.default.resourceUrl + o.closeImage.url;
console.log("activity url = ", i);
if (r.default.isFileExist(i) && r.default.isFileExist(c) && r.default.isFileExist(l)) {
e ? s.default.inst.pushDialog(s.DialogIndex.activity, t[0]) : s.default.inst.showDialog(s.DialogIndex.activity, t[0]);
a.default.hallData.activityData.shift();
} else {
a.default.hallData.activityData.shift();
this.showActivityDialog(e);
}
}
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ l ], e);
}());
o.default = d;
cc._RF.pop();
}, {
"../Conf/Config": "Config",
"../Data/GameData": "GameData",
"../Util/GameUtil": "GameUtil",
"./DialogManager": "DialogManager"
} ],
LaunchGameDlgMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "816278bIidNRJUMCQLzeveP", "LaunchGameDlgMgr");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("../data/conf/GameConfig"), a = e("../data/MyData"), r = e("../public/MyComponent/GameHppayUtil"), s = e("./DlgGameMgr"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function() {
function e() {}
t = e;
e.prototype.showActivityDialog = function(e) {
var t = a.default.hallData.activityData;
if (0 != t.length) {
var o = t[0], i = n.default.resourceUrl + o.bgImage.url, c = n.default.resourceUrl + o.btnImage.url, l = n.default.resourceUrl + o.closeImage.url;
console.log("activity url = ", i);
if (r.default.isFileExist(i) && r.default.isFileExist(c) && r.default.isFileExist(l)) {
e ? s.default.inst.pushDialog(s.DlgType.notice, t[0]) : s.default.inst.showDlg(s.DlgType.notice, t[0]);
a.default.hallData.activityData.shift();
} else {
a.default.hallData.activityData.shift();
this.showActivityDialog(e);
}
}
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ l ], e);
}());
o.default = d;
cc._RF.pop();
}, {
"../data/MyData": "MyData",
"../data/conf/GameConfig": "GameConfig",
"../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"./DlgGameMgr": "DlgGameMgr"
} ],
LaunchPage: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "69a24w6B6dBUYpwsT4HnDfy", "LaunchPage");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Base/BaseView"), s = e("../Components/MyEvent"), c = e("../Conf/Game"), l = e("../Conf/Init"), d = e("../Conf/ScreenAdapter"), h = e("../Data/GameData"), u = e("../Manager/ADManager"), p = e("../Manager/EventRecorder"), f = e("../Socket/WebSocketManager"), m = e("../UIFrame/UIManager"), g = e("../Util/GameUtil"), y = e("../GameCores/EXSceneManager"), _ = e("../GameCommon/SpriteLoad"), C = e("../Manager/LayerManager"), b = e("../Data/LanguageData"), v = e("../PhoneBridge/SystemInterface"), S = e("../Http/MyHttp"), I = e("../Interface/PhoneInfo"), B = e("./../Http/CryptoJS"), w = e("../GameFireData/GameAllData"), N = e("../Conf/Resources"), L = e("../Conf/GuardConfig"), T = cc._decorator, D = T.ccclass, E = (T.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.isComplete = !1;
t.progress = null;
t.progressDesc = null;
t.progressPercent = null;
return t;
}
t.prototype.onLoad = function() {
this.register("LayerLaunch", [ "ON_INIT", "ON_INIT_LANGUAGE", "ON_INIT_APPID", "ON_UPDATE_PROGRESS" ]);
p.default.startRecordTime(p.EventID.enterHallTime);
var e = this.node.getChildByName("root");
this.progress = e.getChildByName("progress").getComponent(cc.ProgressBar);
this.progressDesc = e.getChildByName("desc").getComponent(cc.Label);
this.progressPercent = e.getChildByName("percent").getComponent(cc.Label);
this.progress.node.active = !1;
this.progressDesc.node.active = !1;
this.progressPercent.node.active = !1;
cc.game.addPersistRootNode(cc.find("tipsLayer"));
l.default.inst.initializationGame();
this.setAdaptation();
cc.game.on(cc.game.EVENT_HIDE, function() {
s.MyEvent.getInstance().emit("APP_ENTER_BACKGROUND_EVENT");
});
cc.game.on(cc.game.EVENT_SHOW, function() {
s.MyEvent.getInstance().emit("APP_ENTER_FOREGROUND_EVENT");
});
};
t.prototype.start = function() {
v.default.inst.getInitUrl();
v.default.inst.getPingUrl();
v.default.inst.getPhpUrl();
v.default.inst.getAwaterUrl();
v.default.inst.getResourceUrl();
v.default.inst.getWebviewUrl();
v.default.inst.getTestProduct();
v.default.inst.getGPPayUrl();
I.default.inst.getOnlineProduct();
c.default.currPlatType = Number(cc.sys.localStorage.getItem("autoLoginType") || c.PlatformType.guest);
C.default.ins().getPhoneInfo();
m.default.setcc(cc);
u.default.inst.initAD();
f.default.getInstance().initSocketData();
};
t.prototype.onInitAppID = function() {
c.default.localLanguage = c.LocalLanguage.th;
if (cc.sys.isBrowser) {
c.default.localLanguage = c.LocalLanguage.en;
c.default.ereaCode = c.CountryCode.India;
c.default.moneyFlag = c.CountryCurrency.India;
c.default.country = c.Country.India;
} else if (c.default.appid >= 800 && c.default.appid < 900) {
c.default.localLanguage = c.LocalLanguage.th;
c.default.ereaCode = c.CountryCode.Thailand;
c.default.moneyFlag = c.CountryCurrency.Thailand;
c.default.country = c.Country.Thailand;
} else if (c.default.appid >= 600 && c.default.appid < 700) {
c.default.localLanguage = c.LocalLanguage.en;
c.default.ereaCode = c.CountryCode.Philippines;
c.default.moneyFlag = c.CountryCurrency.Philippines;
c.default.country = c.Country.Philippines;
} else if (c.default.appid >= 700 && c.default.appid < 800) {
c.default.localLanguage = c.LocalLanguage.en;
c.default.ereaCode = c.CountryCode.India;
c.default.moneyFlag = c.CountryCurrency.India;
c.default.country = c.Country.India;
} else {
c.default.localLanguage = c.LocalLanguage.th;
c.default.ereaCode = c.CountryCode.Thailand;
c.default.moneyFlag = c.CountryCurrency.Thailand;
c.default.country = c.Country.Thailand;
}
console.log("launch locallanguage", c.default.localLanguage);
N.default.init();
l.default.inst.initializationOther();
b.default.ins.initLanguageData();
};
t.prototype.onInitLanguage = function() {
this.isComplete = !1;
this.schedule(this.onTimeOut, 3, cc.macro.REPEAT_FOREVER);
this.requestInit();
};
t.prototype.onInitGame = function(e) {
if (1 != this.isComplete) {
this.isComplete = !0;
var t = JSON.parse(B.default.decode(e.srv)), o = t.l || "en";
cc.sys.localStorage.setItem("localLan", o);
console.log("review333", t.a);
if (0 == Number(t.a)) {
w.default.pingUrl = t.u + "/ping.php";
this.enterGame(t.p);
} else this.enterReview();
} else this.unschedule(this.onTimeOut);
};
t.prototype.onTimeOut = function() {
1 != this.isComplete ? this.requestInit() : this.unschedule(this.onTimeOut);
};
t.prototype.requestInit = function() {
var e = {};
e.timezone = c.default.timeZone;
e.time = c.default.localTime;
e.lan = c.default.sourceLanguage;
var t = this;
S.default.getInstance().httpGetWithFullUrl(w.default.initUrl + L.PhpUrl.check, e, function(e) {
t.onInitGame(e);
});
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_INIT":
this.onInitGame(t);
break;

case "ON_INIT_APPID":
this.onInitAppID();
break;

case "ON_INIT_LANGUAGE":
this.onInitLanguage();
break;

case "ON_UPDATE_PROGRESS":
this.onUpdateProgress(t);
}
};
t.prototype.enterGame = function(e) {
cc.log("enter game main");
I.default.inst.decompressZip(e);
this.progress.node.active = !0;
this.progressDesc.node.active = !0;
this.progressPercent.node.active = !0;
this.progressPercent.string = "0%";
this.progress.progress = 0;
};
t.prototype.onUpdateProgress = function(e) {
this.progress.progress = e / 100;
this.progressPercent.string = e + "%";
};
t.prototype.enterReview = function() {
g.default.saveData("GAME_SWITCHER", "ENTER_REVIEW");
cc.log("enter game enterReview");
_.default.inst.start();
this.scheduleOnce(function() {
y.default.enterLogin();
}, 1);
};
t.prototype.setAdaptation = function() {
if (d.default.getInstance().screenType == d.screenTypeEnum.isIpad) {
var e = cc.find("Canvas").getComponent(cc.Canvas);
e.fitHeight = !0;
e.fitWidth = !1;
e.designResolution = cc.size(2048, 1536);
var t = cc.find("tipsLayer");
t.x = cc.winSize.width / 2;
t.y = cc.winSize.height / 2;
cc.find("tipsLayer/adaptationNode").active = !1;
this.node.getChildByName("root").getChildByName("bg2").height = 1536;
} else d.default.getInstance().setAdaptation(this.node);
};
t.prototype.isPhoneAutoLoginEnabled = function() {
c.default.phoneNumber = g.default.readData("loginPhoneNumber");
c.default.phonePassword = g.default.readData("loginPassword");
console.log("lauchPage uid", h.default.UserData.userId);
console.log("lauchPage phoneNumber", c.default.phoneNumber);
console.log("lauchPage phonePassword", c.default.phonePassword);
return !(null == h.default.UserData.userId || h.default.UserData.userId <= 0) && null != c.default.phoneNumber && "" != c.default.phoneNumber && null != c.default.phonePassword && "" != c.default.phonePassword;
};
t.appVer = 163;
t.appid = 200;
t.pingUrl = "https://www.lucky616.com/ping.php";
t.checkUrl = "https://www.lucky616.com/check.php";
t.fileName = "manifest.zip";
t.dirName = "manifest";
return a([ D ], t);
}(r.default));
o.default = E;
cc._RF.pop();
}, {
"../Base/BaseView": "BaseView",
"../Components/MyEvent": "MyEvent",
"../Conf/Game": "Game",
"../Conf/GuardConfig": "GuardConfig",
"../Conf/Init": "Init",
"../Conf/Resources": "Resources",
"../Conf/ScreenAdapter": "ScreenAdapter",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../GameCommon/SpriteLoad": "SpriteLoad",
"../GameCores/EXSceneManager": "EXSceneManager",
"../GameFireData/GameAllData": "GameAllData",
"../Http/MyHttp": "MyHttp",
"../Interface/PhoneInfo": "PhoneInfo",
"../Manager/ADManager": "ADManager",
"../Manager/EventRecorder": "EventRecorder",
"../Manager/LayerManager": "LayerManager",
"../PhoneBridge/SystemInterface": "SystemInterface",
"../Socket/WebSocketManager": "WebSocketManager",
"../UIFrame/UIManager": "UIManager",
"../Util/GameUtil": "GameUtil",
"./../Http/CryptoJS": "CryptoJS"
} ],
LaunchScene: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7793ea4zc1Gn5M9V+HbxuGS", "LaunchScene");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../Script/App/Data/LanguageData"), s = e("../../Script/App/GameCommon/SpriteLoad"), c = e("../../Script/App/GameCores/EXSceneManager"), l = e("../../Script/App/GameFireData/GameDataInfo"), d = e("../../Script/App/GameHttpTools/HttpTools"), h = e("../../Script/App/Http/CryptoJS"), u = e("../data/conf/GameInfo"), p = e("../manager/GameSceneMgr"), f = e("../natives/AndroidInfo"), m = e("../public/MyComponent/GameBaseView"), g = e("../public/MyComponent/GameHppayUtil"), y = cc._decorator, _ = y.ccclass, C = (y.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.isComplete = !1;
t.initUrl = "https://www.lucky616.com/api/fjax/x1";
return t;
}
t.prototype.start = function() {
this.register("LaunchScene", [ "ON_INIT_LANGUAGE", "ON_INIT_APPID" ]);
f.default.inst.getDeviceID();
f.default.inst.getTimeZone();
f.default.inst.getLocalTime();
f.default.inst.getDeviceInfo();
f.default.inst.getDeviceLanguage();
f.default.inst.getAppVersion();
f.default.inst.getAppID();
};
t.prototype.onInitAppID = function() {
l.default.timeZone = u.default.timeZone;
l.default.localTime = u.default.localTime;
l.default.sourceLanguage = u.default.sourceLanguage;
l.default.devId = u.default.devId;
l.default.devInfo = u.default.devInfo;
l.default.ver = u.default.ver;
l.default.appid = u.default.appid;
r.default.ins.initLanguageData();
};
t.prototype.onInitLanguage = function() {
var e = g.default.readData("GAME_SWITCHER");
console.log("GAME_SWITCHER = ", e);
if ("ENTER_GAME" == e) p.default.enterStart(); else {
this.isComplete = !1;
this.schedule(this.onTimeOut, 3, cc.macro.REPEAT_FOREVER);
this.requestInit();
}
};
t.prototype.onInitGame = function(e) {
if (1 != this.isComplete) {
this.isComplete = !0;
var t = JSON.parse(h.default.decode(e.srv));
console.log("review", t.a);
if (0 == Number(t.a)) {
p.default.enterStart();
g.default.saveData("GAME_SWITCHER", "ENTER_GAME");
} else {
s.default.inst.start();
c.default.enterLogin();
g.default.saveData("GAME_SWITCHER", "ENTER_REVIEW");
}
} else this.unschedule(this.onTimeOut);
};
t.prototype.onTimeOut = function() {
1 != this.isComplete ? this.requestInit() : this.unschedule(this.onTimeOut);
};
t.prototype.requestInit = function() {
var e = {};
e.timezone = l.default.timeZone;
e.time = l.default.localTime;
e.lan = l.default.sourceLanguage;
var t = this;
d.default.getInstance().httpGetWithFullUrl(this.initUrl, e, function(e) {
t.onInitGame(e);
});
};
t.prototype.handleAppEvent = function(e) {
e.arg;
switch (e.key) {
case "ON_INIT_APPID":
this.onInitAppID();
break;

case "ON_INIT_LANGUAGE":
this.onInitLanguage();
}
};
return a([ _ ], t);
}(m.default));
o.default = C;
cc._RF.pop();
}, {
"../../Script/App/Data/LanguageData": "LanguageData",
"../../Script/App/GameCommon/SpriteLoad": "SpriteLoad",
"../../Script/App/GameCores/EXSceneManager": "EXSceneManager",
"../../Script/App/GameFireData/GameDataInfo": "GameDataInfo",
"../../Script/App/GameHttpTools/HttpTools": "HttpTools",
"../../Script/App/Http/CryptoJS": "CryptoJS",
"../data/conf/GameInfo": "GameInfo",
"../manager/GameSceneMgr": "GameSceneMgr",
"../natives/AndroidInfo": "AndroidInfo",
"../public/MyComponent/GameBaseView": "GameBaseView",
"../public/MyComponent/GameHppayUtil": "GameHppayUtil"
} ],
LayerHobby: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "6208dPin1JFoKUJmHFX+T3Q", "LayerHobby");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../GameRootView/RootView"), s = e("../GameLobby/LobbyTopReview"), c = e("../GameCores/GameLayerManager"), l = e("../GameCores/EXSceneManager"), d = e("../EXUIFrame/EXSoundMgr"), h = e("../GameFireData/GameDataInfo"), u = e("../GameNetWork/NetWorkAll"), p = e("../GameFireData/GameAllConst"), f = e("../GameCores/DialogLogic"), m = e("../GameFireData/GameAdapter"), g = e("../GameCores/GameRecorder"), y = e("../GameLobby/LobbyBottomReview"), _ = e("../FireData/CommonData"), C = e("../Components/ChipPool"), b = cc._decorator, v = b.ccclass, S = (b.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._root = null;
t._roomListBottom = null;
return t;
}
t.prototype.onLoad = function() {
m.default.getInstance().setAdaptation(this.node);
d.default.inst.hallPlayMusic();
this.register("hall", [ "ON_CLOSE_DIALOG", "ON_GET_ROOM_INFO", "CLOSE_DIALOG", "UPDATE_ALL_NAME_LABEL_EVENT", "MONEY_UPDATE_EVENT", "UPLOAD_AVATAR_EVENT", "APP_ENTER_FOREGROUND_EVENT", "APP_ENTER_BACKGROUND_EVENT", "ON_SHOW_GAME_HELP", "ON_UPDATE_ROOM_INFO" ]);
this._root = this.node.getChildByName("root");
this._topBarLayer = this._root.getChildByName("topBar");
this._roomListBottom = this._root.getChildByName("bottomBar").getComponent(y.default);
if (null != this._root.getChildByName("scrollView")) {
var e = this._root.getChildByName("scrollView").getChildByName("view").getChildByName("content");
null != (a = e.getChildByName("btnClassic")) && a.on("click", this.onClassic, this);
null != (r = e.getChildByName("btnSevens")) && r.on("click", this.onSevens, this);
null != (s = e.getChildByName("btnTouzi")) && s.on("click", this.onTouzi, this);
var t = e.getChildByName("btnRoma");
null != t && t.on("click", this.onRoma, this);
var o = e.getChildByName("btnDT");
null != o && o.on("click", this.onDTGame, this);
var i = e.getChildByName("btnBacHnd");
null != i && i.on("click", this.onBaccaratHnd, this);
var n = e.getChildByName("btnBJ");
null != n && n.on("click", this.onClassic, this);
} else {
var a, r, s;
null != (a = this._root.getChildByName("btnClassic")) && a.on("click", this.onClassic, this);
null != (r = this._root.getChildByName("btnSevens")) && r.on("click", this.onSevens, this);
null != (s = this._root.getChildByName("btnTouzi")) && s.on("click", this.onTouzi, this);
}
};
t.prototype.start = function() {
h.default.currScene = l.SceneIndex.hall;
this._updateMyInfo();
c.default.ins().hideHallOrRoomExcessive();
this.scheduleOnce(function() {
u.default.getInstance().socketSend.getDailyTaskList(_.default.UserData.userId);
}, 1);
g.default.record(g.EventID.enterHall);
this.showRoomList(p.gameType.blackjack);
C.default.inst.prepare();
};
t.prototype.onRoma = function() {
u.default.getInstance().socketSend.RomaSlotEnterRoom(p.gameType.romaSlot, 1, 1);
};
t.prototype.onDTGame = function() {
u.default.getInstance().socketSend.DTEnterRoom(p.gameType.dragonTigerFight, 1, 1, 1);
};
t.prototype.onTouzi = function() {
u.default.getInstance().socketSend.DiceEnterRoom(p.gameType.dice, 1, 1, 1);
};
t.prototype.onBaccaratHnd = function() {
u.default.getInstance().socketSend.bacHndEnterRoom(p.gameType.baccaratHnd, 7, 1, 1);
};
t.prototype.onClassic = function() {
u.default.getInstance().socketSend.quickEnterBaccaratRoom(2, 2);
};
t.prototype.onSevens = function() {
u.default.getInstance().socketSend.quickEnterBaccaratRoom(3, 2);
};
t.prototype._updateMyInfo = function() {
console.log("updateMyInfo");
this._topBarLayer.getComponent(s.default).myName = _.default.UserData.nickname;
this._topBarLayer.getComponent(s.default).myCoin = _.default.UserData.chip;
this._topBarLayer.getComponent(s.default).myLevel = _.default.UserData.exp;
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "MONEY_UPDATE_EVENT":
this._updateMyInfo();
break;

case "CLOSE_DIALOG":
f.default.inst.closeDialog(t);
break;

case "UPDATE_ALL_NAME_LABEL_EVENT":
this._updateMyInfo();
break;

case "UPLOAD_AVATAR_EVENT":
this._topBarLayer.getComponent(s.default).updateAvatar(!0);
break;

case "ON_GET_ROOM_INFO":
t == p.gameType.blackjack ? l.default.enterBlackJack() : t == p.gameType.dice ? l.default.enterDice() : t == p.gameType.romaSlot ? l.default.enterRomaSlot() : t == p.gameType.dragonTigerFight ? l.default.enterDragonTigerFight() : t == p.gameType.baccaratHnd && l.default.enterBacHnd();
break;

case "APP_ENTER_BACKGROUND_EVENT":
d.default.inst.stopPlayMusic();
break;

case "APP_ENTER_FOREGROUND_EVENT":
this.scheduleOnce(function() {
d.default.inst.hallPlayMusic();
}, .5);
this._backToGame();
}
};
t.prototype.showRoomList = function() {};
t.prototype._backToGame = function() {
console.log("", u.default.getInstance().readyState, 1 == u.default.getInstance().readyState);
1 != u.default.getInstance().readyState && u.default.getInstance().reconnectProcessing();
};
t.prototype.onDisable = function() {
this.unscheduleAllCallbacks();
};
t.prototype.onDestroy = function() {
d.default.inst.stopPlayMusic();
e.prototype.onDestroy.call(this);
};
return a([ v ], t);
}(r.default));
o.default = S;
cc._RF.pop();
}, {
"../Components/ChipPool": "ChipPool",
"../EXUIFrame/EXSoundMgr": "EXSoundMgr",
"../FireData/CommonData": "CommonData",
"../GameCores/DialogLogic": "DialogLogic",
"../GameCores/EXSceneManager": "EXSceneManager",
"../GameCores/GameLayerManager": "GameLayerManager",
"../GameCores/GameRecorder": "GameRecorder",
"../GameFireData/GameAdapter": "GameAdapter",
"../GameFireData/GameAllConst": "GameAllConst",
"../GameFireData/GameDataInfo": "GameDataInfo",
"../GameLobby/LobbyBottomReview": "LobbyBottomReview",
"../GameLobby/LobbyTopReview": "LobbyTopReview",
"../GameNetWork/NetWorkAll": "NetWorkAll",
"../GameRootView/RootView": "RootView"
} ],
LayerLaunch: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "47e48ZvjzxDmbGaJrnDViYZ", "LayerLaunch");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../GameRootView/RootView"), s = e("../PublicTools/GameEvents"), c = e("../GameFireData/GameStartInit"), l = e("../GameFireData/GameAdapter"), d = e("../GameCores/GameRecorder"), h = e("../GameCores/EXSceneManager"), u = e("../GameCommon/SpriteLoad"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.isComplete = !1;
t.logo = null;
return t;
}
t.prototype.onLoad = function() {
this.logo = this.node.getChildByName("root").getChildByName("startup");
this.logo.active = !1;
d.default.startRecordTime(d.EventID.enterHallTime);
cc.game.addPersistRootNode(cc.find("tipsLayer"));
c.default.inst.initializationGame();
this.setAdaptation();
cc.game.on(cc.game.EVENT_HIDE, function() {
s.MyEvent.getInstance().emit("APP_ENTER_BACKGROUND_EVENT");
});
cc.game.on(cc.game.EVENT_SHOW, function() {
s.MyEvent.getInstance().emit("APP_ENTER_FOREGROUND_EVENT");
});
this.register("LayerLaunch", [ "ON_GET_X5" ]);
};
t.prototype.start = function() {
u.default.inst.start();
c.default.inst.initializationOther();
h.default.enterStart();
};
t.prototype.onTimeOut = function() {
if (1 != this.isComplete) {
this.isComplete = !0;
h.default.enterStart();
}
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_GET_X5":
if (1 == this.isComplete) return;
this.isComplete = !0;
if (0 == t) {
this.logo.active = !0;
this.scheduleOnce(function() {}, 1);
} else h.default.enterStart();
}
};
t.prototype.setAdaptation = function() {
if (l.default.getInstance().screenType == l.screenTypeEnum.isIpad) {
var e = cc.find("Canvas").getComponent(cc.Canvas);
e.fitHeight = !0;
e.fitWidth = !1;
e.designResolution = cc.size(2048, 1536);
var t = cc.find("tipsLayer");
t.x = cc.winSize.width / 2;
t.y = cc.winSize.height / 2;
cc.find("tipsLayer/adaptationNode").active = !1;
this.node.getChildByName("root").getChildByName("bg2").height = 1536;
} else l.default.getInstance().setAdaptation(this.node);
};
return a([ f ], t);
}(r.default));
o.default = m;
cc._RF.pop();
}, {
"../GameCommon/SpriteLoad": "SpriteLoad",
"../GameCores/EXSceneManager": "EXSceneManager",
"../GameCores/GameRecorder": "GameRecorder",
"../GameFireData/GameAdapter": "GameAdapter",
"../GameFireData/GameStartInit": "GameStartInit",
"../GameRootView/RootView": "RootView",
"../PublicTools/GameEvents": "GameEvents"
} ],
LayerLoading: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "afff1J87mJNf4iY1WQUAWc1", "LayerLoading");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.RequestFlow = void 0;
var r, s = e("../GameNetWork/NetWorkAll"), c = e("../GameCores/EXSceneManager"), l = e("../FireData/CommonData"), d = e("../GameNetWork/ListenNetWork"), h = e("../GameHttpTools/HttpTools"), u = e("../GameCommon/NVSGameUtil"), p = e("../GameFireData/GameDataInfo"), f = e("./ResourceLoader"), m = e("../GameFireData/GameAllData"), g = e("../PublicTools/DialogRoot"), y = e("../EXUIFrame/config/EXSysDefine"), _ = e("../PublicTools/GameEvents"), C = e("../GameFireData/GameAdapter"), b = e("../GameCores/GameRecorder"), v = e("../BeautyDialog/CommonDialog"), S = e("../GameCores/DialogLogic"), I = e("../GameFireData/GameAllConst"), B = cc._decorator, w = B.ccclass;
B.property;
(function(e) {
e[e.start = 0] = "start";
e[e.phpLogin = 1] = "phpLogin";
e[e.phpEnterGame = 2] = "phpEnterGame";
e[e.serverConnect = 3] = "serverConnect";
e[e.serverHallLogin = 4] = "serverHallLogin";
e[e.requestFinish = 5] = "requestFinish";
})(r = o.RequestFlow || (o.RequestFlow = {}));
var N = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._loadingDesc = null;
t.TOTOAL_TIME_OUT = 10;
t.TIME_OUT = 3;
t._timeoutCounter = 0;
t._currStep = r.start;
t._loginParams = null;
t.formType = y.FormType.PopUp;
return t;
}
o = t;
t.prototype.onLoad = function() {
this._loadingDesc = this.node.getChildByName("loading_desc").getComponent(cc.Label);
this.register("loding", [ "PHP_REQUEST_ERROR", "ON_LOGIN_SUCCESS", "LOGIN_SUCCESS", "LOGIN_FAILED", "LOGIN_HALL_SUCCESS", "ON_LOGIN_FAILED", "ON_GET_ROOM_INFO", "MYSOKET_CLOSE_EVENT", "MYSOKET_ERROR_EVENT" ]);
p.default.currScene = c.SceneIndex.loading;
};
t.prototype._setProgress = function(e) {
this._setProcessPercent(e);
};
t.prototype._setProcessPercent = function(e) {
b.default.record(b.EventID.loadingProgress, "percent", 100 * e);
};
t.prototype._reset = function() {};
t.prototype._startTimer = function() {
this._stopTimer();
this.schedule(this._timer, 1);
};
t.prototype._timer = function() {
if (this._timeoutCounter < this.TIME_OUT) this._timeoutCounter++; else {
this._stopTimer();
this._repeatRequest();
}
};
t.prototype._stopTimer = function() {
this._timeoutCounter = 0;
this.unschedule(this._timer);
};
t.prototype.onShow = function(t) {
this.needAnimation = !1;
e.prototype.onShow.call(this, t);
};
t.prototype._repeatRequest = function() {
console.log("request time out ...curr step = ", this._currStep);
this._currStep == r.phpLogin ? this._autoLogin() : this._currStep == r.phpEnterGame ? this._phpEnterGame() : this._currStep == r.serverConnect ? this._connectServer() : this._currStep == r.serverHallLogin && this._loginHall();
};
t.prototype.start = function() {
var t = this;
e.prototype.start.call(this);
this._reset();
var o = this.node.getChildByName("loadingBg"), i = cc.winSize.width * cc.view.getCanvasSize().height / cc.winSize.height;
i < cc.view.getCanvasSize().width && (o.scale = cc.view.getCanvasSize().width / i);
this._loginParams = this._data;
if (l.default.loading.isReconnect) {
C.default.getInstance().setAdaptation(this.node);
this.scheduleOnce(function() {
t._setProgress(.3, "...");
t._currStep = r.serverConnect;
t._connectServer();
}, 1);
l.default.loading.isReconnect = !1;
} else {
this._setProgress(.1, "...");
this._currStep = r.phpLogin;
console.log("enter php login flow ....");
this._autoLogin();
}
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_LOGIN_SUCCESS":
this._onLoginPhpSuccess();
break;

case "LOGIN_SUCCESS":
this._onLoginGameSuccess();
break;

case "LOGIN_HALL_SUCCESS":
this._onLoginHallSuccess(t);
break;

case "ON_LOGIN_FAILED":
this._onLoginPhpFailed(t);
break;

case "LOGIN_FAILED":
console.log("socket login failed retcode", t);
c.default.enterLogin();
break;

case "ON_GET_ROOM_INFO":
this.enterRoom(t);
break;

case "MYSOKET_CLOSE_EVENT":
case "MYSOKET_ERROR_EVENT":
this.unschedule(this._timer);
}
};
t.prototype.enterRoom = function(e) {
e == I.gameType.blackjack ? c.default.enterBlackJack() : e == I.gameType.dice ? c.default.enterDice() : e == I.gameType.romaSlot ? c.default.enterRomaSlot() : e == I.gameType.dragonTigerFight ? c.default.enterDragonTigerFight() : e == I.gameType.baccaratHnd && c.default.enterBacHnd();
};
t.prototype._onLoginPhpFailed = function(e) {
this._stopTimer();
this.onClose();
u.default.alert(e);
};
t.prototype._onLoginGameSuccess = function() {
if (this._currStep < r.serverHallLogin) {
this._currStep = r.serverHallLogin;
console.log("enter socket login game flow ....");
this._setProcessPercent(.8);
d.default.inst.startNetworkCheck();
this._loginHall();
f.default.preLoadHall();
}
};
t.prototype._loginHall = function() {
this._startTimer();
s.default.getInstance().socketSend.loginGameHall();
};
t.prototype._onLoginHallSuccess = function(e) {
if (this._currStep < r.requestFinish) {
this._currStep = r.requestFinish;
f.default.preLoadHallPHP();
this._setProgress(1, "");
this._stopTimer();
"" != e && this.scheduleOnce(function() {
p.default.lastScene = c.SceneIndex.loading;
c.default.enterHall(!0);
}, .5);
}
};
t.prototype._autoLogin = function() {
this._startTimer();
p.default.currPlatType == p.PlatformType.guest ? this._loginByGuest() : p.default.currPlatType == p.PlatformType.apple ? this._loginAppleLogin() : p.default.currPlatType == p.PlatformType.facebook ? this._loginByFacebook() : p.default.currPlatType == p.PlatformType.telephoneWithPassword ? this._loginByPhonePassword() : p.default.currPlatType == p.PlatformType.telephoneWithVCode && this._loginByPhoneVcode();
};
t.prototype._loginByPhonePassword = function() {
h.default.getInstance().loginByTelephone(this._loginParams);
};
t.prototype._loginByPhoneVcode = function() {
h.default.getInstance().loginByTelephone(this._loginParams);
};
t.prototype._loginByFacebook = function() {
h.default.getInstance().login(this._loginParams);
};
t.prototype._loginAppleLogin = function() {
h.default.getInstance().login(this._loginParams);
};
t.prototype._loginByGoogle = function() {
h.default.getInstance().login(this._loginParams);
};
t.prototype._loginByGuest = function() {
h.default.getInstance().login(this._loginParams);
};
t.prototype._onLoginPhpSuccess = function() {
if (this._currStep < r.phpEnterGame) {
this._currStep = r.phpEnterGame;
console.log("enter php enter game flow ....");
this._setProcessPercent(.3);
this._phpEnterGame();
}
};
t.prototype._phpEnterGame = function() {
var e = this;
this._startTimer();
var t = this;
h.default.getInstance().enterGame(function() {
console.log("", l.default.UserData.server, m.default.phpUrl);
if (e._currStep < r.serverConnect) {
console.log("enter socket connect flow ....");
e._currStep = r.serverConnect;
e._setProcessPercent(.6);
t._connectServer();
}
});
};
t.prototype._connectServer = function() {
console.log("", o.errTips1Num);
s.default.getInstance().readyState === WebSocket.OPEN ? s.default.getInstance().loginHall() : s.default.getInstance().connect(l.default.UserData.server);
this.scheduleOnce(function() {
var e = new v.disconnection();
e.desc = "The current network is unstable, please play the game in an environment with good network conditions.";
3 == o.errTips1Num ? e.okCallback = function() {
o.errTips1Num = 0;
s.default.getInstance().close();
c.default.enterLogin();
} : e.okCallback = function() {
s.default.getInstance().close();
c.default.enterLoading();
};
b.default.record(b.EventID.networkClose, "scene", p.default.currScene);
S.default.inst.showDialog(S.DialogIndex.confirm, [ e ]);
o.errTips1Num += 1;
}, 10);
};
t.prototype.onDestroy = function() {
_.MyEvent.getInstance().removeByNode("loding");
e.prototype.onDestroy.call(this);
};
var o;
t.errTips1Num = 0;
return o = a([ w ], t);
}(g.default);
o.default = N;
cc._RF.pop();
}, {
"../BeautyDialog/CommonDialog": "CommonDialog",
"../EXUIFrame/config/EXSysDefine": "EXSysDefine",
"../FireData/CommonData": "CommonData",
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../GameCores/DialogLogic": "DialogLogic",
"../GameCores/EXSceneManager": "EXSceneManager",
"../GameCores/GameRecorder": "GameRecorder",
"../GameFireData/GameAdapter": "GameAdapter",
"../GameFireData/GameAllConst": "GameAllConst",
"../GameFireData/GameAllData": "GameAllData",
"../GameFireData/GameDataInfo": "GameDataInfo",
"../GameHttpTools/HttpTools": "HttpTools",
"../GameNetWork/ListenNetWork": "ListenNetWork",
"../GameNetWork/NetWorkAll": "NetWorkAll",
"../PublicTools/DialogRoot": "DialogRoot",
"../PublicTools/GameEvents": "GameEvents",
"./ResourceLoader": "ResourceLoader"
} ],
LayerLogin: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "948f5STR+BGr5PbZVbl+x8n", "LayerLogin");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../GameRootView/RootView"), s = e("../GameFireData/GameDataInfo"), c = e("../GameFireData/GameAdapter"), l = e("../GameFireData/GameStartInit"), d = e("../GameCores/EXSceneManager"), h = e("../../../code/data/conf/AndroidInterfaces"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._root = null;
return t;
}
t.prototype.onLoad = function() {
this._root = this.node.getChildByName("root");
this._notLoggedLayer = this._root.getChildByName("notLoggedNode");
cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_ANDROID && l.default.inst.initializationGame();
this.setAdaptation();
};
t.prototype.start = function() {
jsb.reflection.callStaticMethod(h.InterfaceAndroidPath.iosNativeInterface, h.NativeInterface.hideSplash + ":", "none");
var e = this.node.getChildByName("root").getChildByName("loginBg"), t = cc.winSize.width * cc.view.getCanvasSize().height / cc.winSize.height;
t < cc.view.getCanvasSize().width && (e.scale = cc.view.getCanvasSize().width / t);
this._notLoggedLayer.active = !1;
this._notLoggedLayer.active = !0;
s.default.currScene = d.SceneIndex.login;
};
t.prototype.cancellation = function() {
this._notLoggedLayer.active = !0;
};
t.prototype.setAdaptation = function() {
if (c.default.getInstance().screenType == c.screenTypeEnum.isIpad) {
var e = cc.find("Canvas").getComponent(cc.Canvas);
e.designResolution.width = 2048;
e.designResolution.height = 1536;
e.fitHeight = !0;
e.fitWidth = !1;
cc.find("tipsLayer/adaptationNode").active = !1;
} else c.default.getInstance().setAdaptation(this.node);
};
return a([ p ], t);
}(r.default));
o.default = f;
cc._RF.pop();
}, {
"../../../code/data/conf/AndroidInterfaces": "AndroidInterfaces",
"../GameCores/EXSceneManager": "EXSceneManager",
"../GameFireData/GameAdapter": "GameAdapter",
"../GameFireData/GameDataInfo": "GameDataInfo",
"../GameFireData/GameStartInit": "GameStartInit",
"../GameRootView/RootView": "RootView"
} ],
LayerManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "78bdaKabZNECKiHpEh8pY4G", "LayerManager");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../Util/GameUtil"), l = e("./SceneManager"), d = e("../Components/MyEvent"), h = e("../Interface/PhoneInfo"), u = e("../Data/LanguageData"), p = e("../UIFrame/CocosHelper"), f = cc._decorator, m = f.ccclass, g = f.property, y = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.cardPrefab = null;
t.excessivePrefab = null;
t.cardLoadingComplete = !1;
return t;
}
o = t;
t.ins = function() {
null == this.instance && (this.instance = new o());
return this.instance;
};
Object.defineProperty(t.prototype, "ins", {
get: function() {
return o.instance;
},
enumerable: !1,
configurable: !0
});
t.prototype.getPhoneInfo = function() {
var e = function() {
console.log("");
h.default.inst.getPhoneQuantityElectricity();
h.default.inst.getPhoneNetworkType();
d.MyEvent.getInstance().emit("UPDATE_PHONE_INFO_EVENT");
};
e();
this.schedule(e, 30);
};
t.prototype._msgList = function() {
return [ u.default.ins.STRING_HALL("loadingTips1"), u.default.ins.STRING_HALL("loadingTips2"), u.default.ins.STRING_HALL("loadingTips3"), u.default.ins.STRING_HALL("loadingTips4"), u.default.ins.STRING_HALL("loadingTips5"), u.default.ins.STRING_HALL("loadingTips6"), u.default.ins.STRING_HALL("loadingTips7"), u.default.ins.STRING_HALL("loadingTips8") ];
};
t.prototype.showHallOrRoomExcessive = function(e) {
return r(this, void 0, void 0, function() {
var t, o, i = this;
return s(this, function() {
this.excessiveNode = cc.find("tipsLayer/excessiveNode");
this.excessiveNode.stopAllActions();
if (!c.default.isnull(this.excessiveNode)) {
e();
return [ 2 ];
}
t = this.excessiveNode.getChildByName("btnBg").getChildByName("btnBack");
this.excessiveNode.getChildByName("btnBg").active = !1;
p.default.sleepSync(3).then(function() {
c.default.isnull(i.excessiveNode.getChildByName("btnBg")) && (i.excessiveNode.getChildByName("btnBg").active = !0);
});
t.on("click", function() {
l.default.enterHall(!0, !0);
});
this.excessiveNode.active = !0;
this.excessiveNode.opacity = 0;
this._loading = this.excessiveNode.getChildByName("loading_time");
this._label = this.excessiveNode.getChildByName("label");
this._label.getComponent(cc.Label).string = u.default.ins.STRING_HALL("loading");
this._msgLabel = this.excessiveNode.getChildByName("tipsLabel");
o = Math.round(Math.random() * (this._msgList().length - 1));
this._msgLabel.getComponent(cc.Label).string = this._msgList()[o];
this._loading.active = !1;
this._label.active = !1;
this._msgLabel.active = !1;
cc.tween(this.excessiveNode).to(.2, {
opacity: 255
}).call(function() {
i._loading.active = !0;
i._label.active = !0;
i._msgLabel.active = !0;
}, this).delay(.5).call(function() {
e();
}, this).start();
return [ 2 ];
});
});
};
t.prototype.hideHallOrRoomExcessive = function(e) {
return r(this, void 0, void 0, function() {
var t, o = this;
return s(this, function() {
this.excessiveNode = cc.find("tipsLayer/excessiveNode");
if (!c.default.isnull(this.excessiveNode) || !this.excessiveNode.active) return [ 2 ];
this.excessiveNode.getChildByName("btnBg").active = !1;
this.excessiveNode.active = !0;
this._loading = this.excessiveNode.getChildByName("loading_time");
this._label = this.excessiveNode.getChildByName("label");
this._label.getComponent(cc.Label).string = u.default.ins.STRING_HALL("loading");
this._loading.active = !0;
this._label.active = !0;
t = 1;
e && (t = e);
cc.tween(this.excessiveNode).delay(t).call(function() {
o._loading.active = !1;
o._label.active = !1;
}, this).to(.2, {
opacity: 0
}).call(function() {
o.excessiveNode.active = !1;
}, this).start();
return [ 2 ];
});
});
};
t.prototype.setIpadTipsLayer = function() {
console.log("Ipad");
var e = cc.find("tipsLayer");
e.x = cc.winSize.width / 2;
e.y = cc.winSize.height / 2;
cc.find("tipsLayer/adaptationNode").active = !1;
};
t.prototype.btnClickEvent = function() {};
var o;
a([ g(cc.Prefab) ], t.prototype, "cardPrefab", void 0);
a([ g(cc.Prefab) ], t.prototype, "excessivePrefab", void 0);
return o = a([ m ], t);
}(cc.Component);
o.default = y;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Data/LanguageData": "LanguageData",
"../Interface/PhoneInfo": "PhoneInfo",
"../UIFrame/CocosHelper": "CocosHelper",
"../Util/GameUtil": "GameUtil",
"./SceneManager": "SceneManager"
} ],
LayerStart: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "96b1f6lxjVIIILN+oLq8QUr", "LayerStart");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.RequestFlow = void 0;
var r, s = e("../GameRootView/RootView"), c = e("../GameCores/EXSceneManager"), l = e("../GameFireData/GameStartInit"), d = e("../GameFireData/GameDataInfo"), h = e("../GameHttpTools/HttpTools"), u = e("../GameCommon/NVSGameUtil"), p = e("../GameNetWork/NetWorkAll"), f = e("../GameNetWork/ListenNetWork"), m = e("../FireData/CommonData"), g = e("./ResourceLoader"), y = e("../GameFireData/GameAllData"), _ = e("../GameFireData/GameAdapter"), C = e("../GameCommon/SpriteLoad"), b = e("../GameCores/GameRecorder"), v = e("../GameFireData/GameAllConst"), S = e("../GameStartView/GameFBInterface"), I = cc._decorator, B = I.ccclass;
I.property;
(function(e) {
e[e.start = 0] = "start";
e[e.phpLogin = 2] = "phpLogin";
e[e.phpEnterGame = 3] = "phpEnterGame";
e[e.serverConnect = 4] = "serverConnect";
e[e.serverHallLogin = 5] = "serverHallLogin";
e[e.requestFinish = 6] = "requestFinish";
})(r = o.RequestFlow || (o.RequestFlow = {}));
var w = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._percentDesc = null;
t._serverVersion = "";
t.TIME_OUT = 3;
t._timeoutCounter = 0;
t._currStep = r.start;
t._configUrl = y.ConfigUrl.online;
t._nextScene = 1;
return t;
}
t.prototype.onLoad = function() {
cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_ANDROID && l.default.inst.initializationGame();
_.default.getInstance().setAdaptation(this.node);
this._percentDesc = this.node.getChildByName("percent_desc").getComponent(cc.Label);
this._percentDesc.node.active = !1;
this._reset();
this.register("StartScene", [ "ON_GET_ROOM_INFO", "ON_LOGIN_FAILED", "ON_LOGIN_SUCCESS", "LOGIN_SUCCESS", "LOGIN_FAILED", "LOGIN_HALL_SUCCESS" ]);
};
t.prototype.start = function() {
d.default.currScene = c.SceneIndex.start;
var e = this.node.getChildByName("loadingBg"), t = cc.winSize.width * cc.view.getCanvasSize().height / cc.winSize.height;
t < cc.view.getCanvasSize().width && (e.scale = cc.view.getCanvasSize().width / t);
this.node.getChildByName("loading").active = !1;
c.default.enterLogin();
};
t.prototype._startTimer = function() {
this._stopTimer();
this.schedule(this._timer, 1);
};
t.prototype._timer = function() {
if (this._timeoutCounter < this.TIME_OUT) this._timeoutCounter++; else {
this._stopTimer();
this._repeatRequest();
}
};
t.prototype._stopTimer = function() {
this._timeoutCounter = 0;
this.unschedule(this._timer);
};
t.prototype._repeatRequest = function() {
console.log("request time out ...curr step = ", this._currStep);
this._currStep == r.phpLogin ? this._autoLogin() : this._currStep == r.phpEnterGame ? this._phpEnterGame() : this._currStep == r.serverConnect ? this._connectServer() : this._currStep == r.serverHallLogin && this._loginHall();
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_LOGIN_SUCCESS":
this._onLoginPhpSuccess();
break;

case "ON_LOGIN_FAILED":
console.log("php ");
this._onLoginFailed(t);
break;

case "LOGIN_SUCCESS":
this._onLoginGameSuccess();
break;

case "LOGIN_HALL_SUCCESS":
this._onLoginHallSuccess(t);
break;

case "LOGIN_FAILED":
console.log("php socket");
c.default.enterLogin();
break;

case "PHP_TIME_OUT":
console.log("php ");
break;

case "PHP_REQUEST_ERROR":
console.log("php ");
break;

case "ON_GET_ROOM_INFO":
this._onEnterRoom(t);
}
};
t.prototype._onLoginGameSuccess = function() {
if (this._currStep < r.serverHallLogin) {
this._currStep = r.serverHallLogin;
console.log("enter socket login game flow ....");
f.default.inst.startNetworkCheck();
this._loginHall();
this._setProcessPercent(.8);
g.default.preLoadHall();
}
};
t.prototype._loginHall = function() {
this._startTimer();
p.default.getInstance().socketSend.loginGameHall();
};
t.prototype._onLoginHallSuccess = function(e) {
if (this._currStep < r.requestFinish) {
this._currStep = r.requestFinish;
g.default.preLoadHallPHP();
this._stopTimer();
this._setProgress(.99);
if ("" != e) {
this._nextScene = c.SceneIndex.hall;
this.schedule(this._checkResLoadComplete, .5);
}
}
};
t.prototype._checkResLoadComplete = function() {
var e = this;
if (C.default.inst.isLoadCompleted()) {
this._setProgress(1);
b.default.endRecordTime(b.EventID.enterHallTime);
this.unschedule(this._checkResLoadComplete);
this.scheduleOnce(function() {
if (e._nextScene == c.SceneIndex.blackjack) c.default.enterBlackJack(); else {
d.default.lastScene = c.SceneIndex.start;
c.default.enterHall(!0);
}
}, .5);
}
};
t.prototype._onEnterRoom = function(e) {
e == v.gameType.blackjack && (this._nextScene = c.SceneIndex.blackjack);
this.schedule(this._checkResLoadComplete, .5);
};
t.prototype._autoLogin = function() {
this._startTimer();
var e = Number(cc.sys.localStorage.getItem("autoLoginType") || d.PlatformType.guest);
d.default.currPlatType = e;
e == d.PlatformType.guest ? this._loginByGuest() : e == d.PlatformType.apple ? this._loginByApple() : e == d.PlatformType.facebook && this._loginByFacebook();
};
t.prototype._loginByFacebook = function() {
if (d.default.fbAuthState == S.FacebookCode.authValid) {
var e = {};
e.pid = d.default.fbUid;
e.token = d.default.fbToken;
e.devId = d.default.devId;
e.ptype = d.PlatformType.facebook;
h.default.getInstance().login(e);
} else c.default.enterLogin();
};
t.prototype._loginByGuest = function() {
var e = {};
e.devId = d.default.devId;
e.nickName = "";
e.ptype = d.PlatformType.guest;
h.default.getInstance().login(e);
};
t.prototype._onLoginPhpSuccess = function() {
if (this._currStep < r.phpEnterGame) {
this._currStep = r.phpEnterGame;
console.log("enter php enter game flow ....");
this._setProcessPercent(.3);
this._phpEnterGame();
}
};
t.prototype._phpEnterGame = function() {
var e = this;
this._startTimer();
var t = this;
h.default.getInstance().enterGame(function() {
console.log("", m.default.UserData.server, y.default.phpUrl);
if (e._currStep < r.serverConnect) {
console.log("enter socket connect flow ....");
e._currStep = r.serverConnect;
e._setProcessPercent(.6);
t._connectServer();
}
});
};
t.prototype._connectServer = function() {
this._startTimer();
console.log("connect server", m.default.UserData.server);
p.default.getInstance().connect(m.default.UserData.server);
};
t.prototype._onLoginFailed = function(e) {
this._stopTimer();
this._setProgress(1);
this.scheduleOnce(function() {
c.default.enterLogin();
u.default.alert(e);
}, .5);
};
t.prototype._loginByApple = function() {
if (1 == d.default.appleLoginState) {
var e = {};
e.pid = d.default.applePid;
e.token = d.default.appleToken;
e.devId = d.default.devId;
e.ptype = d.PlatformType.apple;
h.default.getInstance().login(e);
} else this._onLoginFailed("Apple");
};
t.prototype._enterGame = function() {
if (this._currStep < r.phpLogin) {
console.log("enter php login flow ....");
this._currStep = r.phpLogin;
this._setProgress(.2);
this.scheduleOnce(this._autoLogin, .5);
}
};
t.prototype._setProgress = function(e) {
this._setProcessPercent(e);
};
t.prototype._setProcessPercent = function(e) {
this._percentDesc.string = 100 * e + "%";
e >= .9 && b.default.record(b.EventID.loadingProgress, "percent", 100 * e);
};
t.prototype._reset = function() {
this._percentDesc.string = "";
};
return a([ B ], t);
}(s.default);
o.default = w;
cc._RF.pop();
}, {
"../FireData/CommonData": "CommonData",
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../GameCommon/SpriteLoad": "SpriteLoad",
"../GameCores/EXSceneManager": "EXSceneManager",
"../GameCores/GameRecorder": "GameRecorder",
"../GameFireData/GameAdapter": "GameAdapter",
"../GameFireData/GameAllConst": "GameAllConst",
"../GameFireData/GameAllData": "GameAllData",
"../GameFireData/GameDataInfo": "GameDataInfo",
"../GameFireData/GameStartInit": "GameStartInit",
"../GameHttpTools/HttpTools": "HttpTools",
"../GameNetWork/ListenNetWork": "ListenNetWork",
"../GameNetWork/NetWorkAll": "NetWorkAll",
"../GameRootView/RootView": "RootView",
"../GameStartView/GameFBInterface": "GameFBInterface",
"./ResourceLoader": "ResourceLoader"
} ],
Layer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "698c2Us/31I867Cl91WUczH", "Layer");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = cc._decorator, a = n.ccclass, r = (n.property, function() {
function e() {}
e.prototype.onLoad = function() {};
e.prototype.initLayer = function() {
this._layer = new cc.Node("Sprite");
this._layer.addComponent(cc.BlockInputEvents);
};
e.prototype.setContentSize = function(e, t) {
this._layer.setContentSize(e, t);
};
e.prototype.onTouch = function(e, t) {
this._layer.on(cc.Node.EventType.TOUCH_START, function(o) {
e(o, t);
return !0;
});
this._layer.on(cc.Node.EventType.TOUCH_MOVE, function(o) {
e(o, t);
});
this._layer.on(cc.Node.EventType.TOUCH_END, function(o) {
e(o, t);
});
this._layer.on(cc.Node.EventType.TOUCH_CANCEL, function(o) {
e(o, t);
});
};
e.prototype.offTouch = function(e) {
this._layer.off(e);
};
e.prototype.OffAllTouch = function() {
this._layer.off(cc.Node.EventType.TOUCH_START);
this._layer.off(cc.Node.EventType.TOUCH_MOVE);
this._layer.off(cc.Node.EventType.TOUCH_END);
this._layer.off(cc.Node.EventType.TOUCH_CANCEL);
};
e.prototype.getLayer = function() {
return this._layer;
};
e.prototype.start = function() {};
return i([ a ], e);
}());
o.default = r;
cc._RF.pop();
}, {} ],
ListItem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3463aRZAV9CeadVdeOLJ0qE", "ListItem");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r, s = cc._decorator, c = s.ccclass, l = s.property, d = s.disallowMultiple, h = s.menu, u = s.executionOrder;
(function(e) {
e[e.NONE = 0] = "NONE";
e[e.TOGGLE = 1] = "TOGGLE";
e[e.SWITCH = 2] = "SWITCH";
})(r || (r = {}));
var p = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.icon = null;
t.title = null;
t.selectedMode = r.NONE;
t.selectedFlag = null;
t.selectedSpriteFrame = null;
t._unselectedSpriteFrame = null;
t.adaptiveSize = !1;
t._selected = !1;
t._eventReg = !1;
return t;
}
Object.defineProperty(t.prototype, "selected", {
get: function() {
return this._selected;
},
set: function(e) {
this._selected = e;
if (this.selectedFlag) switch (this.selectedMode) {
case r.TOGGLE:
this.selectedFlag.active = e;
break;

case r.SWITCH:
var t = this.selectedFlag.getComponent(cc.Sprite);
t && (t.spriteFrame = e ? this.selectedSpriteFrame : this._unselectedSpriteFrame);
}
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "btnCom", {
get: function() {
this._btnCom || (this._btnCom = this.node.getComponent(cc.Button));
return this._btnCom;
},
enumerable: !1,
configurable: !0
});
t.prototype.onLoad = function() {
if (this.selectedMode == r.SWITCH) {
var e = this.selectedFlag.getComponent(cc.Sprite);
this._unselectedSpriteFrame = e.spriteFrame;
}
};
t.prototype.onDestroy = function() {
this.node.off(cc.Node.EventType.SIZE_CHANGED, this._onSizeChange, this);
};
t.prototype._registerEvent = function() {
if (!this._eventReg) {
this.btnCom && this.list.selectedMode > 0 && this.btnCom.clickEvents.unshift(this.createEvt(this, "onClickThis"));
this.adaptiveSize && this.node.on(cc.Node.EventType.SIZE_CHANGED, this._onSizeChange, this);
this._eventReg = !0;
}
};
t.prototype._onSizeChange = function() {
this.list._onItemAdaptive(this.node);
};
t.prototype.createEvt = function(e, t, o) {
void 0 === o && (o = null);
if (e.isValid) {
e.comName = e.comName || e.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g, "");
var i = new cc.Component.EventHandler();
i.target = o || e.node;
i.component = e.comName;
i.handler = t;
return i;
}
};
t.prototype.showAni = function(e, t, o) {
var i, n = this;
switch (e) {
case 0:
i = [ cc.scaleTo(.2, .7), cc.moveBy(.3, 0, 2 * this.node.height) ];
break;

case 1:
i = [ cc.scaleTo(.2, .7), cc.moveBy(.3, 2 * this.node.width, 0) ];
break;

case 2:
i = [ cc.scaleTo(.2, .7), cc.moveBy(.3, 0, -2 * this.node.height) ];
break;

case 3:
i = [ cc.scaleTo(.2, .7), cc.moveBy(.3, -2 * this.node.width, 0) ];
break;

default:
i = [ cc.scaleTo(.3, .1) ];
}
(t || o) && i.push(cc.callFunc(function() {
if (o) {
n.list._delSingleItem(n.node);
for (var e = n.list.displayData.length - 1; e >= 0; e--) if (n.list.displayData[e].id == n.listId) {
n.list.displayData.splice(e, 1);
break;
}
}
t();
}));
this.node.runAction(cc.sequence(i));
};
t.prototype.onClickThis = function() {
this.list.selectedId = this.listId;
};
a([ l({
type: cc.Sprite,
tooltip: !1
}) ], t.prototype, "icon", void 0);
a([ l({
type: cc.Node,
tooltip: !1
}) ], t.prototype, "title", void 0);
a([ l({
type: cc.Enum(r),
tooltip: !1
}) ], t.prototype, "selectedMode", void 0);
a([ l({
type: cc.Node,
tooltip: !1,
visible: function() {
return this.selectedMode > r.NONE;
}
}) ], t.prototype, "selectedFlag", void 0);
a([ l({
type: cc.SpriteFrame,
tooltip: !1,
visible: function() {
return this.selectedMode == r.SWITCH;
}
}) ], t.prototype, "selectedSpriteFrame", void 0);
a([ l({
tooltip: !1
}) ], t.prototype, "adaptiveSize", void 0);
return a([ c, d(), h("/List Item"), u(-5001) ], t);
}(cc.Component);
o.default = p;
cc._RF.pop();
}, {} ],
ListViewAssistant: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2d76cbuRYtFcbU/Pxz5smWu", "ListViewAssistant");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Util/GameUtil"), s = e("./ListViewItem"), c = cc._decorator, l = c.ccclass, d = c.property, h = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.cellPrefab = null;
t.scrollView = null;
t.contentNode = null;
t.cellBufferCount = 4;
t.cellSpacing = 0;
t._startTime = 0;
t._endTime = 0;
t._startPoint = null;
t._endPoint = null;
t._currTouchPoint = null;
t._lastTouchPoint = null;
t._currTouchTime = 0;
t._lastTouchTime = 0;
t._slideCheckPoint = 2;
t._slideCheckTime = .5;
t._maxSlideTime = 3;
t._maxSlideY = 1e3;
t._maxMoveRate = 4e3;
t._minMoveRate = 200;
t._maxBrake = .99;
t._minBrake = .35;
t._maxOffset = 0;
t._isScrolling = !1;
t.items = [];
t.itemCount = 0;
t.prefabCellHeight = 0;
t.prefabCellWidth = 0;
t.updateTimer = 0;
t.updateInterval = .1;
t.lastContentPosX = 0;
t.lastContentPosY = 0;
t._bufferZone = 0;
t._spawnCount = 0;
t._totalCount = 0;
t._isUpdate = !1;
t._itemData = [];
t._spawnCountHeight = 0;
t._itemPerCell = 0;
t._totalCell = 0;
return t;
}
t.prototype.onLoad = function() {
if (null != this.scrollView) {
this._bufferZone = this.scrollView.node.height;
this.contentNode.anchorX = .5;
this.contentNode.anchorY = 1;
if (this.scrollView.horizontal) {
this._bufferZone = this.scrollView.node.width;
this.contentNode.anchorX = 0;
this.contentNode.anchorY = .5;
}
this.prefabCellHeight = this.cellPrefab.data.height;
this.prefabCellWidth = this.cellPrefab.data.width;
this.scrollView.node.on("scrolling", this.scrolling.bind(this), this);
this.scrollView.node.on("scroll-ended", this.scrollEnded.bind(this), this);
this._maxOffset = this.scrollView.getMaxScrollOffset().y;
var e = new cc.Node();
this.node.addChild(e, 100);
e.anchorX = this.scrollView.node.anchorX;
e.anchorY = this.scrollView.node.anchorY;
e.setPosition(this.scrollView.node.getPosition());
e.setContentSize(this.scrollView.node.getContentSize());
e.on(cc.Node.EventType.TOUCH_START, this.touchBegan, this);
e.on(cc.Node.EventType.TOUCH_MOVE, this.touchMove, this);
e._touchListener.setSwallowTouches(!1);
} else console.log("scrollView");
};
t.prototype.onDestroy = function() {
this.stopSlideCheck();
this.unschedule(this.checkIsScrolling);
};
t.prototype.reset = function() {
this._isScrolling = !1;
this.stopSlideCheck();
this.unschedule(this.checkIsScrolling);
};
t.prototype.touchBegan = function(e) {
this.reset();
var t = e.getLocation();
this._startPoint = t;
this._currTouchPoint = t;
this._lastTouchPoint = t;
this._lastTouchTime = new Date().getTime();
this._startTime = new Date().getTime();
this.startSlideCheck();
console.log("ListSlideAssistant touchBegan");
};
t.prototype.startSlideCheck = function() {
this.schedule(this.slideCheckTimer, this._slideCheckTime);
};
t.prototype.stopSlideCheck = function() {
this.unschedule(this.slideCheckTimer);
};
t.prototype.checkIsScrolling = function() {
this._isScrolling = this.scrollView.isScrolling();
if (0 == this._isScrolling) {
this.unschedule(this.checkIsScrolling);
this.touchEnded();
}
};
t.prototype.slideCheckTimer = function() {
if (Math.abs(this._currTouchPoint.y - this._lastTouchPoint.y) < 2) {
this._startPoint = this._currTouchPoint;
this._startTime = new Date().getTime();
}
};
t.prototype.touchMove = function(e) {
var t = e.getLocation();
this._currTouchPoint = t;
if (0 == this._isScrolling) {
this._isScrolling = !0;
this.schedule(this.checkIsScrolling, 0);
}
console.log("ListSlideAssistant touchMove");
};
t.prototype.touchEnded = function() {
this._endPoint = this._currTouchPoint;
this._endTime = new Date().getTime();
this.stopSlideCheck();
this.setBrake();
console.log("ListSlideAssistant touchEnd");
};
t.prototype.touchCancel = function() {};
t.prototype.setBrake = function() {
var e = Math.abs(this._endPoint.y - this._startPoint.y), t = this._endTime - this._startTime;
if (0 != e && 0 != t) {
var o = 1e3 * e / t;
o > this._maxMoveRate ? o = this._maxMoveRate : o < this._minMoveRate && (o = this._minMoveRate);
var i = (this._maxMoveRate - o) / this._maxMoveRate, n = this._minBrake + (this._maxBrake - this._minBrake) * i;
console.log("ListSlideAssistant brake ", n);
this.scrollView.brake = n;
}
};
t.prototype.init = function(e, t, o, i) {
this._isUpdate = !1;
this.scrollView.stopAutoScroll();
this.contentNode.destroyAllChildren();
this.items = [];
this.lastContentPosY = 0;
this.lastContentPosX = 0;
this._itemData = e;
this.itemCount = e.length;
this._itemPerCell = t || 1;
this.cellPrefab = o || this.cellPrefab;
this.prefabCellHeight = this.cellPrefab.data.height;
this.prefabCellWidth = this.cellPrefab.data.width;
var n = i || 0;
if (!this.scrollView.vertical || !this.scrollView.horizontal) {
this._totalCount = this.itemCount;
this._totalCount % this._itemPerCell == 0 ? this._totalCell = this._totalCount / this._itemPerCell : this._totalCell = Math.floor(this._totalCount / this._itemPerCell) + 1;
this._spawnCount = Math.floor(this._bufferZone / (this.prefabCellHeight + this.cellSpacing)) * this._itemPerCell + this.cellBufferCount;
this.scrollView.horizontal && (this._spawnCount = Math.floor(this._bufferZone / (this.prefabCellWidth + this.cellSpacing)) + this.cellBufferCount);
this._spawnCountHeight = this._spawnCount * (this.prefabCellHeight + this.cellSpacing) / this._itemPerCell;
this._spawnCount > this._totalCount && (this._spawnCount = this._totalCount);
if (this.scrollView.vertical) {
this.scrollView.scrollToTop();
this.contentNode.height = this._totalCell * (this.prefabCellHeight + this.cellSpacing) + n;
} else if (this.scrollView.horizontal) {
this.scrollView.scrollToLeft();
this.contentNode.width = this._totalCell * (this.prefabCellWidth + this.cellSpacing);
}
for (var a = this.contentNode.getContentSize().width, r = 0; r < this._spawnCount; ++r) {
var c = cc.instantiate(this.cellPrefab);
this.contentNode.addChild(c);
c.getComponent(s.default).initData(r, this._itemData[r]);
var l = Math.floor(r / this._itemPerCell), d = r % this._itemPerCell;
this.scrollView.vertical ? c.setPosition(-a / 2 + a / (2 * this._itemPerCell) + d * a / 2, -c.height * (.5 + l) - this.cellSpacing * (r + 1)) : this.scrollView.horizontal && c.setPosition(c.width * (r + .5) + this.cellSpacing * (r + 1), 0);
this.items.push(c);
}
console.log("offset y", this.scrollView.content.y, this.scrollView.getContentPosition().y);
}
};
t.prototype.scrollTo = function(e) {
var t = e, o = t, i = this.prefabCellHeight, n = this.scrollView.content.y;
if (t - 1 < 0) {
i = 0;
o = 1;
} else if ((this._itemData.length - t) * this.prefabCellHeight < this._bufferZone) {
o = this._itemData.length - this._spawnCount + 1;
i = this._spawnCount * this.prefabCellHeight - this._bufferZone;
} else if (o - 1 + this._spawnCount > this._itemData.length) {
o = this._itemData.length - this._spawnCount + 1;
i = (this._spawnCount - (this._itemData.length - o) + 2) * this.prefabCellHeight;
}
for (var a = this.contentNode.getContentSize().width, r = this.items, c = 0; c < this._spawnCount; ++c) {
r[c].getComponent(s.default).initData(o - 1 + c, this._itemData[o - 1 + c]);
var l = Math.floor(c / this._itemPerCell), d = c % this._itemPerCell;
r[c].setPosition(-a / 2 + a / (2 * this._itemPerCell) + d * a / 2, -r[c].height * (.5 + l) + i - this.cellSpacing * (c + 1) - n);
console.log("xxxxxxx", -a / 2 + a / (2 * this._itemPerCell) + d * a / 2);
console.log("yyyyyyy", -r[c].height * (.5 + l) + i - this.cellSpacing * (c + 1) - n);
}
this.lastContentPosY = this.scrollView.content.y;
};
t.prototype.updateItemData = function(e) {
this._itemData = e;
};
t.prototype.getPositionInView = function(e) {
if (r.default.isnull(e)) {
var t = e.parent.convertToWorldSpaceAR(e.position);
return this.scrollView.node.convertToNodeSpaceAR(t);
}
return cc.v2(0, 0);
};
t.prototype.scrolling = function() {
this._isUpdate = !0;
for (var e = this.node, t = this.items, o = e.parent.convertToWorldSpaceAR(e.getPosition()), i = cc.rect(o.x, o.y - e.height, e.width, e.height), n = 0; n < t.length; n++) i.intersects(t[n].getBoundingBoxToWorld()) ? t[n].opacity = 255 : t[n].opacity = 0;
};
t.prototype.scrollEnded = function() {
this._isUpdate = !1;
};
t.prototype.pauseUpdate = function() {
this.scrollView.stopAutoScroll();
this._isUpdate = !1;
};
t.prototype.resumeUpdate = function() {
this.scrollView.stopAutoScroll();
this._isUpdate = !0;
};
t.prototype.update = function(e) {
if (0 != this.items.length && 0 != this._itemData.length && this._isUpdate) {
var t = this.scrollView.getContentPosition(), o = this.scrollView.getMaxScrollOffset();
if (t.y < -this.prefabCellHeight / 2) {
this.scrollView.setContentPosition(cc.v2(t.x, -this.prefabCellHeight / 2));
console.log("set min offset ", -this.prefabCellHeight / 2);
} else t.y, o.y;
this.updateTimer += e;
if (!(this.updateTimer < this.updateInterval)) {
var i = this.items;
this.updateTimer = 0;
for (var n = this._bufferZone, a = this.scrollView.content.y < this.lastContentPosY, r = (this.prefabCellHeight + this.cellSpacing) * i.length / this._itemPerCell, c = 0, l = 0, d = 0; d < i.length; ++d) {
var h = this.getPositionInView(i[d]), u = i[d].getComponent(s.default);
if (a) {
c = i[d].y + r;
if (h.y < -n && c < 0 && (l = u.itemId - i.length) >= 0 && l < this._totalCount) {
i[d].y = c;
u.initData(l, this._itemData[l]);
}
} else {
c = i[d].y - r;
if (h.y > (this._spawnCountHeight - n) / 2 && c > -this.contentNode.height && (l = u.itemId + i.length) >= 0 && l < this._totalCount) {
i[d].y = c;
u.initData(l, this._itemData[l]);
}
}
}
this.lastContentPosY = this.scrollView.content.y;
}
}
};
Object.defineProperty(t.prototype, "cellItems", {
get: function() {
return this.items;
},
enumerable: !1,
configurable: !0
});
a([ d({
type: cc.Prefab,
tooltip: "ItemCell "
}) ], t.prototype, "cellPrefab", void 0);
a([ d({
type: cc.ScrollView,
tooltip: "ScrollView"
}) ], t.prototype, "scrollView", void 0);
a([ d({
type: cc.Node,
tooltip: "content"
}) ], t.prototype, "contentNode", void 0);
a([ d({
type: cc.Integer,
tooltip: "Item"
}) ], t.prototype, "cellBufferCount", void 0);
a([ d({
type: cc.Integer,
tooltip: ""
}) ], t.prototype, "cellSpacing", void 0);
return a([ l ], t);
}(cc.Component);
o.default = h;
cc._RF.pop();
}, {
"../Util/GameUtil": "GameUtil",
"./ListViewItem": "ListViewItem"
} ],
ListViewItem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c098a6vcx9Kb5noBML2d4Ra", "ListViewItem");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.itemId = 0;
t.itemData = null;
return t;
}
t.prototype.onLoad = function() {};
t.prototype.initData = function(e, t) {
console.log("initdata index", e);
this.itemId = e;
this.itemData = t;
this.init(e, t);
};
Object.defineProperty(t.prototype, "index", {
get: function() {
return this.itemId;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "data", {
get: function() {
return this.itemData;
},
enumerable: !1,
configurable: !0
});
t.prototype.init = function() {};
return a([ s ], t);
}(cc.Component));
o.default = c;
cc._RF.pop();
}, {} ],
ListenNetWork: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e77d44jDxZHm7gZyKv9RCJ3", "ListenNetWork");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../GameFireData/GameDataInfo"), s = e("../GameCores/GameRecorder"), c = e("../GameCores/EXSceneManager"), l = e("./NetWorkAll"), d = e("../BeautyDialog/CommonDialog"), h = e("../GameCores/DialogLogic"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._updateCount = 0;
t._isChecking = !1;
t._networkLostTimes = 0;
return t;
}
o = t;
t.prototype.startNetworkCheck = function() {
this.schedule(this.sendNetCheck, .5);
};
t.prototype.sendNetCheck = function() {
this._updateCount += 1;
var e = Date.now();
if (this._updateCount % 10 == 0) {
this._isChecking = !0;
l.default.getInstance().socketSend.sendNetCheck(e);
}
this._updateCount % 10 == 0 && this.onlineCheck(0);
};
t.prototype.onlineCheck = function(e) {
var t = Date.now(), o = (t %= 1e5) - e;
this._networkLostTimes = o < 2500 ? 0 : this._networkLostTimes + 1;
this.localCheck();
};
t.prototype.resetLostTimes = function() {
this._networkLostTimes = 0;
};
t.prototype.localCheck = function() {
var e = this;
if (this._isChecking) {
this._networkLostTimes > 1 && s.default.record(s.EventID.networkWeak, "scene", r.default.currScene);
if (this._networkLostTimes > 12) {
console.log(" ");
this.scheduleOnce(function() {
e.stopNetworkCheck();
l.default.getInstance().close();
e._isChecking = !1;
var t = new d.disconnection();
t.okCallback = function() {
c.default.enterLogin();
};
s.default.record(s.EventID.networkClose, "scene", r.default.currScene);
h.default.inst.showDialog(h.DialogIndex.confirm, [ t ]);
}, 2);
}
}
};
t.prototype.stopNetworkCheck = function() {
this._networkLostTimes = 0;
this.unschedule(this.sendNetCheck);
};
Object.defineProperty(t, "inst", {
get: function() {
null == this._inst && (this._inst = new o());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var o;
t._inst = null;
return o = a([ p ], t);
}(cc.Component));
o.default = f;
cc._RF.pop();
}, {
"../BeautyDialog/CommonDialog": "CommonDialog",
"../GameCores/DialogLogic": "DialogLogic",
"../GameCores/EXSceneManager": "EXSceneManager",
"../GameCores/GameRecorder": "GameRecorder",
"../GameFireData/GameDataInfo": "GameDataInfo",
"./NetWorkAll": "NetWorkAll"
} ],
List: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1f48cho9dFNZqqBViW0M9K4", "List");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r, s, c, l = cc._decorator, d = l.ccclass, h = l.property, u = l.disallowMultiple, p = l.menu, f = l.executionOrder, m = l.requireComponent, g = e("./ListItem");
(function(e) {
e[e.NODE = 1] = "NODE";
e[e.PREFAB = 2] = "PREFAB";
})(r || (r = {}));
(function(e) {
e[e.NORMAL = 1] = "NORMAL";
e[e.ADHERING = 2] = "ADHERING";
e[e.PAGE = 3] = "PAGE";
})(s || (s = {}));
(function(e) {
e[e.NONE = 0] = "NONE";
e[e.SINGLE = 1] = "SINGLE";
e[e.MULT = 2] = "MULT";
})(c || (c = {}));
var y = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.templateType = r.NODE;
t.tmpNode = null;
t.tmpPrefab = null;
t._slideMode = s.NORMAL;
t.pageDistance = .3;
t.pageChangeEvent = new cc.Component.EventHandler();
t._virtual = !0;
t.cyclic = !1;
t.lackCenter = !1;
t.lackSlide = !1;
t._updateRate = 0;
t.frameByFrameRenderNum = 0;
t.renderEvent = new cc.Component.EventHandler();
t.selectedMode = c.NONE;
t.repeatEventSingle = !1;
t.selectedEvent = null;
t._selectedId = -1;
t._forceUpdate = !1;
t._updateDone = !0;
t._updateEnabled = !0;
t._numItems = 0;
t._inited = !1;
t._needUpdateWidget = !1;
t._aniDelRuning = !1;
t._doneAfterUpdate = !1;
t.adhering = !1;
t._adheringBarrier = !1;
t.curPageNum = 0;
return t;
}
Object.defineProperty(t.prototype, "slideMode", {
get: function() {
return this._slideMode;
},
set: function(e) {
this._slideMode = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "virtual", {
get: function() {
return this._virtual;
},
set: function(e) {
null != e && (this._virtual = e);
0 != this._numItems && this._onScrolling();
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "updateRate", {
get: function() {
return this._updateRate;
},
set: function(e) {
e >= 0 && e <= 6 && (this._updateRate = e);
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "selectedId", {
get: function() {
return this._selectedId;
},
set: function(e) {
var t, o = this;
switch (o.selectedMode) {
case c.SINGLE:
if (!o.repeatEventSingle && e == o._selectedId) return;
t = o.getItemByListId(e);
var i = void 0;
o._selectedId >= 0 ? o._lastSelectedId = o._selectedId : o._lastSelectedId = null;
o._selectedId = e;
t && ((i = t.getComponent(g.default)).selected = !0);
if (o._lastSelectedId >= 0 && o._lastSelectedId != o._selectedId) {
var n = o.getItemByListId(o._lastSelectedId);
n && (n.getComponent(g.default).selected = !1);
}
o.selectedEvent && cc.Component.EventHandler.emitEvents([ o.selectedEvent ], t, e % this._actualNumItems, null == o._lastSelectedId ? null : o._lastSelectedId % this._actualNumItems);
break;

case c.MULT:
if (!(t = o.getItemByListId(e))) return;
i = t.getComponent(g.default);
o._selectedId >= 0 && (o._lastSelectedId = o._selectedId);
o._selectedId = e;
var a = !i.selected;
i.selected = a;
var r = o.multSelected.indexOf(e);
a && r < 0 ? o.multSelected.push(e) : !a && r >= 0 && o.multSelected.splice(r, 1);
o.selectedEvent && cc.Component.EventHandler.emitEvents([ o.selectedEvent ], t, e % this._actualNumItems, null == o._lastSelectedId ? null : o._lastSelectedId % this._actualNumItems, a);
}
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "numItems", {
get: function() {
return this._actualNumItems;
},
set: function(e) {
var t = this;
if (t.checkInited(!1)) if (null == e || e < 0) cc.error("numItems set the wrong::", e); else {
t._actualNumItems = t._numItems = e;
t._forceUpdate = !0;
if (t._virtual) {
t._resizeContent();
t.cyclic && (t._numItems = t._cyclicNum * t._numItems);
t._onScrolling();
t.frameByFrameRenderNum || t.slideMode != s.PAGE || (t.curPageNum = t.nearestListId);
} else {
var o = t.content.getComponent(cc.Layout);
o && (o.enabled = !0);
t._delRedundantItem();
t.firstListId = 0;
if (t.frameByFrameRenderNum > 0) {
for (var i = t.frameByFrameRenderNum > t._numItems ? t._numItems : t.frameByFrameRenderNum, n = 0; n < i; n++) t._createOrUpdateItem2(n);
if (t.frameByFrameRenderNum < t._numItems) {
t._updateCounter = t.frameByFrameRenderNum;
t._updateDone = !1;
}
} else {
for (n = 0; n < e; n++) t._createOrUpdateItem2(n);
t.displayItemNum = e;
}
}
}
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "scrollView", {
get: function() {
return this._scrollView;
},
enumerable: !1,
configurable: !0
});
t.prototype.onLoad = function() {
this._init();
};
t.prototype.onDestroy = function() {
var e = this;
e._itemTmp && e._itemTmp.isValid && e._itemTmp.destroy();
e.tmpNode && e.tmpNode.isValid && e.tmpNode.destroy();
for (;e._pool.size(); ) e._pool.get().destroy();
};
t.prototype.onEnable = function() {
this._registerEvent();
this._init();
};
t.prototype.onDisable = function() {
this._unregisterEvent();
};
t.prototype._registerEvent = function() {
var e = this;
e.node.on(cc.Node.EventType.TOUCH_START, e._onTouchStart, e, !0);
e.node.on("touch-up", e._onTouchUp, e);
e.node.on(cc.Node.EventType.TOUCH_CANCEL, e._onTouchCancelled, e, !0);
e.node.on("scroll-began", e._onScrollBegan, e, !0);
e.node.on("scroll-ended", e._onScrollEnded, e, !0);
e.node.on("scrolling", e._onScrolling, e, !0);
e.node.on(cc.Node.EventType.SIZE_CHANGED, e._onSizeChanged, e);
};
t.prototype._unregisterEvent = function() {
var e = this;
e.node.off(cc.Node.EventType.TOUCH_START, e._onTouchStart, e, !0);
e.node.off("touch-up", e._onTouchUp, e);
e.node.off(cc.Node.EventType.TOUCH_CANCEL, e._onTouchCancelled, e, !0);
e.node.off("scroll-began", e._onScrollBegan, e, !0);
e.node.off("scroll-ended", e._onScrollEnded, e, !0);
e.node.off("scrolling", e._onScrolling, e, !0);
e.node.off(cc.Node.EventType.SIZE_CHANGED, e._onSizeChanged, e);
};
t.prototype._init = function() {
var e = this;
if (!e._inited) {
e._scrollView = e.node.getComponent(cc.ScrollView);
e.content = e._scrollView.content;
if (e.content) {
e._layout = e.content.getComponent(cc.Layout);
e._align = e._layout.type;
e._resizeMode = e._layout.resizeMode;
e._startAxis = e._layout.startAxis;
e._topGap = e._layout.paddingTop;
e._rightGap = e._layout.paddingRight;
e._bottomGap = e._layout.paddingBottom;
e._leftGap = e._layout.paddingLeft;
e._columnGap = e._layout.spacingX;
e._lineGap = e._layout.spacingY;
e._colLineNum;
e._verticalDir = e._layout.verticalDirection;
e._horizontalDir = e._layout.horizontalDirection;
e.setTemplateItem(cc.instantiate(e.templateType == r.PREFAB ? e.tmpPrefab : e.tmpNode));
if (e._slideMode == s.ADHERING || e._slideMode == s.PAGE) {
e._scrollView.inertia = !1;
e._scrollView._onMouseWheel = function() {};
}
e.virtual || (e.lackCenter = !1);
e._lastDisplayData = [];
e.displayData = [];
e._pool = new cc.NodePool();
e._forceUpdate = !1;
e._updateCounter = 0;
e._updateDone = !0;
e.curPageNum = 0;
if (e.cyclic) {
e._scrollView._processAutoScrolling = this._processAutoScrolling.bind(e);
e._scrollView._startBounceBackIfNeeded = function() {
return !1;
};
}
switch (e._align) {
case cc.Layout.Type.HORIZONTAL:
switch (e._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
e._alignCalcType = 1;
break;

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
e._alignCalcType = 2;
}
break;

case cc.Layout.Type.VERTICAL:
switch (e._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
e._alignCalcType = 3;
break;

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
e._alignCalcType = 4;
}
break;

case cc.Layout.Type.GRID:
switch (e._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
switch (e._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
e._alignCalcType = 3;
break;

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
e._alignCalcType = 4;
}
break;

case cc.Layout.AxisDirection.VERTICAL:
switch (e._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
e._alignCalcType = 1;
break;

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
e._alignCalcType = 2;
}
}
}
e.content.removeAllChildren();
e._inited = !0;
} else cc.error(e.node.name + "'s cc.ScrollView unset content!");
}
};
t.prototype._processAutoScrolling = function(e) {
this._scrollView._autoScrollAccumulatedTime += 1 * e;
var t = Math.min(1, this._scrollView._autoScrollAccumulatedTime / this._scrollView._autoScrollTotalTime);
if (this._scrollView._autoScrollAttenuate) {
var o = t - 1;
t = o * o * o * o * o + 1;
}
var i = this._scrollView._autoScrollStartPosition.add(this._scrollView._autoScrollTargetDelta.mul(t)), n = this._scrollView.getScrollEndedEventTiming(), a = Math.abs(t - 1) <= n;
if (Math.abs(t - 1) <= this._scrollView.getScrollEndedEventTiming() && !this._scrollView._isScrollEndedWithThresholdEventFired) {
this._scrollView._dispatchEvent("scroll-ended-with-threshold");
this._scrollView._isScrollEndedWithThresholdEventFired = !0;
}
a && (this._scrollView._autoScrolling = !1);
var r = i.sub(this._scrollView.getContentPosition());
this._scrollView._moveContent(this._scrollView._clampDelta(r), a);
this._scrollView._dispatchEvent("scrolling");
if (!this._scrollView._autoScrolling) {
this._scrollView._isBouncing = !1;
this._scrollView._scrolling = !1;
this._scrollView._dispatchEvent("scroll-ended");
}
};
t.prototype.setTemplateItem = function(e) {
if (e) {
var t = this;
t._itemTmp = e;
t._resizeMode == cc.Layout.ResizeMode.CHILDREN ? t._itemSize = t._layout.cellSize : t._itemSize = cc.size(e.width, e.height);
var o = e.getComponent(g.default), i = !1;
o || (i = !0);
i && (t.selectedMode = c.NONE);
(o = e.getComponent(cc.Widget)) && o.enabled && (t._needUpdateWidget = !0);
t.selectedMode == c.MULT && (t.multSelected = []);
switch (t._align) {
case cc.Layout.Type.HORIZONTAL:
t._colLineNum = 1;
t._sizeType = !1;
break;

case cc.Layout.Type.VERTICAL:
t._colLineNum = 1;
t._sizeType = !0;
break;

case cc.Layout.Type.GRID:
switch (t._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
var n = t.content.width - t._leftGap - t._rightGap;
t._colLineNum = Math.floor((n + t._columnGap) / (t._itemSize.width + t._columnGap));
t._sizeType = !0;
break;

case cc.Layout.AxisDirection.VERTICAL:
var a = t.content.height - t._topGap - t._bottomGap;
t._colLineNum = Math.floor((a + t._lineGap) / (t._itemSize.height + t._lineGap));
t._sizeType = !1;
}
}
}
};
t.prototype.checkInited = function(e) {
void 0 === e && (e = !0);
if (!this._inited) {
e && cc.error("List initialization not completed!");
return !1;
}
return !0;
};
t.prototype._resizeContent = function() {
var e, t = this;
switch (t._align) {
case cc.Layout.Type.HORIZONTAL:
if (t._customSize) {
var o = t._getFixedSize(null);
e = t._leftGap + o.val + t._itemSize.width * (t._numItems - o.count) + t._columnGap * (t._numItems - 1) + t._rightGap;
} else e = t._leftGap + t._itemSize.width * t._numItems + t._columnGap * (t._numItems - 1) + t._rightGap;
break;

case cc.Layout.Type.VERTICAL:
if (t._customSize) {
o = t._getFixedSize(null);
e = t._topGap + o.val + t._itemSize.height * (t._numItems - o.count) + t._lineGap * (t._numItems - 1) + t._bottomGap;
} else e = t._topGap + t._itemSize.height * t._numItems + t._lineGap * (t._numItems - 1) + t._bottomGap;
break;

case cc.Layout.Type.GRID:
t.lackCenter && (t.lackCenter = !1);
switch (t._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
var i = Math.ceil(t._numItems / t._colLineNum);
e = t._topGap + t._itemSize.height * i + t._lineGap * (i - 1) + t._bottomGap;
break;

case cc.Layout.AxisDirection.VERTICAL:
var n = Math.ceil(t._numItems / t._colLineNum);
e = t._leftGap + t._itemSize.width * n + t._columnGap * (n - 1) + t._rightGap;
}
}
var a = t.content.getComponent(cc.Layout);
a && (a.enabled = !1);
t._allItemSize = e;
t._allItemSizeNoEdge = t._allItemSize - (t._sizeType ? t._topGap + t._bottomGap : t._leftGap + t._rightGap);
if (t.cyclic) {
var r = t._sizeType ? t.node.height : t.node.width;
t._cyclicPos1 = 0;
r -= t._cyclicPos1;
t._cyclicNum = Math.ceil(r / t._allItemSizeNoEdge) + 1;
var s = t._sizeType ? t._lineGap : t._columnGap;
t._cyclicPos2 = t._cyclicPos1 + t._allItemSizeNoEdge + s;
t._cyclicAllItemSize = t._allItemSize + t._allItemSizeNoEdge * (t._cyclicNum - 1) + s * (t._cyclicNum - 1);
t._cycilcAllItemSizeNoEdge = t._allItemSizeNoEdge * t._cyclicNum;
t._cycilcAllItemSizeNoEdge += s * (t._cyclicNum - 1);
}
t._lack = !t.cyclic && t._allItemSize < (t._sizeType ? t.node.height : t.node.width);
var c = t._lack && t.lackCenter || !t.lackSlide ? .1 : 0, l = t._lack ? (t._sizeType ? t.node.height : t.node.width) - c : t.cyclic ? t._cyclicAllItemSize : t._allItemSize;
l < 0 && (l = 0);
t._sizeType ? t.content.height = l : t.content.width = l;
};
t.prototype._onScrolling = function(e) {
void 0 === e && (e = null);
null == this.frameCount && (this.frameCount = this._updateRate);
if (!this._forceUpdate && e && "scroll-ended" != e.type && this.frameCount > 0) this.frameCount--; else {
this.frameCount = this._updateRate;
if (!this._aniDelRuning) {
if (this.cyclic) {
var t = this.content.getPosition();
t = this._sizeType ? t.y : t.x;
var o = this._allItemSizeNoEdge + (this._sizeType ? this._lineGap : this._columnGap), i = this._sizeType ? cc.v2(0, o) : cc.v2(o, 0);
switch (this._alignCalcType) {
case 1:
if (t > -this._cyclicPos1) {
this.content.x = -this._cyclicPos2;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.sub(i));
} else if (t < -this._cyclicPos2) {
this.content.x = -this._cyclicPos1;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.add(i));
}
break;

case 2:
if (t < this._cyclicPos1) {
this.content.x = this._cyclicPos2;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.add(i));
} else if (t > this._cyclicPos2) {
this.content.x = this._cyclicPos1;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.sub(i));
}
break;

case 3:
if (t < this._cyclicPos1) {
this.content.y = this._cyclicPos2;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.add(i));
} else if (t > this._cyclicPos2) {
this.content.y = this._cyclicPos1;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.sub(i));
}
break;

case 4:
if (t > -this._cyclicPos1) {
this.content.y = -this._cyclicPos2;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.sub(i));
} else if (t < -this._cyclicPos2) {
this.content.y = -this._cyclicPos1;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.add(i));
}
}
}
this._calcViewPos();
var n, a, r, s;
if (this._sizeType) {
n = this.viewTop;
r = this.viewBottom;
} else {
a = this.viewRight;
s = this.viewLeft;
}
if (this._virtual) {
this.displayData = [];
var c = void 0, l = 0, d = this._numItems - 1;
if (this._customSize) for (var h = !1; l <= d && !h; l++) {
c = this._calcItemPos(l);
switch (this._align) {
case cc.Layout.Type.HORIZONTAL:
c.right >= s && c.left <= a ? this.displayData.push(c) : 0 != l && this.displayData.length > 0 && (h = !0);
break;

case cc.Layout.Type.VERTICAL:
c.bottom <= n && c.top >= r ? this.displayData.push(c) : 0 != l && this.displayData.length > 0 && (h = !0);
break;

case cc.Layout.Type.GRID:
switch (this._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
c.bottom <= n && c.top >= r ? this.displayData.push(c) : 0 != l && this.displayData.length > 0 && (h = !0);
break;

case cc.Layout.AxisDirection.VERTICAL:
c.right >= s && c.left <= a ? this.displayData.push(c) : 0 != l && this.displayData.length > 0 && (h = !0);
}
}
} else {
var u = this._itemSize.width + this._columnGap, p = this._itemSize.height + this._lineGap;
switch (this._alignCalcType) {
case 1:
l = (s + this._leftGap) / u;
d = (a + this._rightGap) / u;
break;

case 2:
l = (-a - this._rightGap) / u;
d = (-s - this._leftGap) / u;
break;

case 3:
l = (-n - this._topGap) / p;
d = (-r - this._bottomGap) / p;
break;

case 4:
l = (r + this._bottomGap) / p;
d = (n + this._topGap) / p;
}
l = Math.floor(l) * this._colLineNum;
d = Math.ceil(d) * this._colLineNum;
l < 0 && (l = 0);
--d >= this._numItems && (d = this._numItems - 1);
for (;l <= d; l++) this.displayData.push(this._calcItemPos(l));
}
this._delRedundantItem();
if (this.displayData.length <= 0 || !this._numItems) {
this._lastDisplayData = [];
return;
}
this.firstListId = this.displayData[0].id;
this.displayItemNum = this.displayData.length;
var f = this._lastDisplayData.length, m = this.displayItemNum != f;
if (m) {
this.frameByFrameRenderNum > 0 && this._lastDisplayData.sort(function(e, t) {
return e - t;
});
m = this.firstListId != this._lastDisplayData[0] || this.displayData[this.displayItemNum - 1].id != this._lastDisplayData[f - 1];
}
if (this._forceUpdate || m) if (this.frameByFrameRenderNum > 0) if (this._numItems > 0) {
this._updateDone ? this._updateCounter = 0 : this._doneAfterUpdate = !0;
this._updateDone = !1;
} else {
this._updateCounter = 0;
this._updateDone = !0;
} else {
this._lastDisplayData = [];
for (var g = 0; g < this.displayItemNum; g++) this._createOrUpdateItem(this.displayData[g]);
this._forceUpdate = !1;
}
this._calcNearestItem();
}
}
}
};
t.prototype._calcViewPos = function() {
var e = this.content.getPosition();
switch (this._alignCalcType) {
case 1:
this.elasticLeft = e.x > 0 ? e.x : 0;
this.viewLeft = (e.x < 0 ? -e.x : 0) - this.elasticLeft;
this.viewRight = this.viewLeft + this.node.width;
this.elasticRight = this.viewRight > this.content.width ? Math.abs(this.viewRight - this.content.width) : 0;
this.viewRight += this.elasticRight;
break;

case 2:
this.elasticRight = e.x < 0 ? -e.x : 0;
this.viewRight = (e.x > 0 ? -e.x : 0) + this.elasticRight;
this.viewLeft = this.viewRight - this.node.width;
this.elasticLeft = this.viewLeft < -this.content.width ? Math.abs(this.viewLeft + this.content.width) : 0;
this.viewLeft -= this.elasticLeft;
break;

case 3:
this.elasticTop = e.y < 0 ? Math.abs(e.y) : 0;
this.viewTop = (e.y > 0 ? -e.y : 0) + this.elasticTop;
this.viewBottom = this.viewTop - this.node.height;
this.elasticBottom = this.viewBottom < -this.content.height ? Math.abs(this.viewBottom + this.content.height) : 0;
this.viewBottom += this.elasticBottom;
break;

case 4:
this.elasticBottom = e.y > 0 ? Math.abs(e.y) : 0;
this.viewBottom = (e.y < 0 ? -e.y : 0) - this.elasticBottom;
this.viewTop = this.viewBottom + this.node.height;
this.elasticTop = this.viewTop > this.content.height ? Math.abs(this.viewTop - this.content.height) : 0;
this.viewTop -= this.elasticTop;
}
};
t.prototype._calcItemPos = function(e) {
var t, o, i, n, a, r, s, c;
switch (this._align) {
case cc.Layout.Type.HORIZONTAL:
switch (this._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
if (this._customSize) {
var l = this._getFixedSize(e);
a = this._leftGap + (this._itemSize.width + this._columnGap) * (e - l.count) + (l.val + this._columnGap * l.count);
t = (d = this._customSize[e]) > 0 ? d : this._itemSize.width;
} else {
a = this._leftGap + (this._itemSize.width + this._columnGap) * e;
t = this._itemSize.width;
}
r = a + t;
if (this.lackCenter) {
a += h = this.content.width / 2 - this._allItemSizeNoEdge / 2;
r += h;
}
return {
id: e,
left: a,
right: r,
x: a + this._itemTmp.anchorX * t,
y: this._itemTmp.y
};

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
if (this._customSize) {
l = this._getFixedSize(e);
r = -this._rightGap - (this._itemSize.width + this._columnGap) * (e - l.count) - (l.val + this._columnGap * l.count);
t = (d = this._customSize[e]) > 0 ? d : this._itemSize.width;
} else {
r = -this._rightGap - (this._itemSize.width + this._columnGap) * e;
t = this._itemSize.width;
}
a = r - t;
if (this.lackCenter) {
a -= h = this.content.width / 2 - this._allItemSizeNoEdge / 2;
r -= h;
}
return {
id: e,
right: r,
left: a,
x: a + this._itemTmp.anchorX * t,
y: this._itemTmp.y
};
}
break;

case cc.Layout.Type.VERTICAL:
switch (this._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
if (this._customSize) {
l = this._getFixedSize(e);
i = -this._topGap - (this._itemSize.height + this._lineGap) * (e - l.count) - (l.val + this._lineGap * l.count);
o = (d = this._customSize[e]) > 0 ? d : this._itemSize.height;
} else {
i = -this._topGap - (this._itemSize.height + this._lineGap) * e;
o = this._itemSize.height;
}
n = i - o;
if (this.lackCenter) {
i -= h = this.content.height / 2 - this._allItemSizeNoEdge / 2;
n -= h;
}
return {
id: e,
top: i,
bottom: n,
x: this._itemTmp.x,
y: n + this._itemTmp.anchorY * o
};

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
if (this._customSize) {
var d;
l = this._getFixedSize(e);
n = this._bottomGap + (this._itemSize.height + this._lineGap) * (e - l.count) + (l.val + this._lineGap * l.count);
o = (d = this._customSize[e]) > 0 ? d : this._itemSize.height;
} else {
n = this._bottomGap + (this._itemSize.height + this._lineGap) * e;
o = this._itemSize.height;
}
i = n + o;
if (this.lackCenter) {
var h;
i += h = this.content.height / 2 - this._allItemSizeNoEdge / 2;
n += h;
}
return {
id: e,
top: i,
bottom: n,
x: this._itemTmp.x,
y: n + this._itemTmp.anchorY * o
};
}

case cc.Layout.Type.GRID:
var u = Math.floor(e / this._colLineNum);
switch (this._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
switch (this._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
c = (n = (i = -this._topGap - (this._itemSize.height + this._lineGap) * u) - this._itemSize.height) + this._itemTmp.anchorY * this._itemSize.height;
break;

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
i = (n = this._bottomGap + (this._itemSize.height + this._lineGap) * u) + this._itemSize.height;
c = n + this._itemTmp.anchorY * this._itemSize.height;
}
s = this._leftGap + e % this._colLineNum * (this._itemSize.width + this._columnGap);
switch (this._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
s += this._itemTmp.anchorX * this._itemSize.width;
s -= this.content.anchorX * this.content.width;
break;

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
s += (1 - this._itemTmp.anchorX) * this._itemSize.width;
s -= (1 - this.content.anchorX) * this.content.width;
s *= -1;
}
return {
id: e,
top: i,
bottom: n,
x: s,
y: c
};

case cc.Layout.AxisDirection.VERTICAL:
switch (this._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
r = (a = this._leftGap + (this._itemSize.width + this._columnGap) * u) + this._itemSize.width;
s = a + this._itemTmp.anchorX * this._itemSize.width;
s -= this.content.anchorX * this.content.width;
break;

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
s = (a = (r = -this._rightGap - (this._itemSize.width + this._columnGap) * u) - this._itemSize.width) + this._itemTmp.anchorX * this._itemSize.width;
s += (1 - this.content.anchorX) * this.content.width;
}
c = -this._topGap - e % this._colLineNum * (this._itemSize.height + this._lineGap);
switch (this._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
c -= (1 - this._itemTmp.anchorY) * this._itemSize.height;
c += (1 - this.content.anchorY) * this.content.height;
break;

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
c -= this._itemTmp.anchorY * this._itemSize.height;
c += this.content.anchorY * this.content.height;
c *= -1;
}
return {
id: e,
left: a,
right: r,
x: s,
y: c
};
}
}
};
t.prototype._calcExistItemPos = function(e) {
var t = this.getItemByListId(e);
if (!t) return null;
var o = {
id: e,
x: t.x,
y: t.y
};
if (this._sizeType) {
o.top = t.y + t.height * (1 - t.anchorY);
o.bottom = t.y - t.height * t.anchorY;
} else {
o.left = t.x - t.width * t.anchorX;
o.right = t.x + t.width * (1 - t.anchorX);
}
return o;
};
t.prototype.getItemPos = function(e) {
return this._virtual ? this._calcItemPos(e) : this.frameByFrameRenderNum ? this._calcItemPos(e) : this._calcExistItemPos(e);
};
t.prototype._getFixedSize = function(e) {
if (!this._customSize) return null;
null == e && (e = this._numItems);
var t = 0, o = 0;
for (var i in this._customSize) if (parseInt(i) < e) {
t += this._customSize[i];
o++;
}
return {
val: t,
count: o
};
};
t.prototype._onScrollBegan = function() {
this._beganPos = this._sizeType ? this.viewTop : this.viewLeft;
};
t.prototype._onScrollEnded = function() {
var e = this;
if (null != e.scrollToListId) {
var t = e.getItemByListId(e.scrollToListId);
e.scrollToListId = null;
t && t.runAction(cc.sequence(cc.scaleTo(.1, 1.06), cc.scaleTo(.1, 1)));
}
e._onScrolling();
e._slideMode != s.ADHERING || e.adhering ? e._slideMode == s.PAGE && (null != e._beganPos ? this._pageAdhere() : e.adhere()) : e.adhere();
};
t.prototype._onTouchStart = function(e, t) {
if (!this._scrollView._hasNestedViewGroup(e, t) && (e.eventPhase !== cc.Event.AT_TARGET || e.target !== this.node)) {
for (var o = e.target; null == o._listId && o.parent; ) o = o.parent;
this._scrollItem = null != o._listId ? o : e.target;
}
};
t.prototype._onTouchUp = function() {
var e = this;
e._scrollPos = null;
if (e._slideMode == s.ADHERING) {
this.adhering && (this._adheringBarrier = !0);
e.adhere();
} else e._slideMode == s.PAGE && (null != e._beganPos ? this._pageAdhere() : e.adhere());
this._scrollItem = null;
};
t.prototype._onTouchCancelled = function(e, t) {
var o = this;
if (!o._scrollView._hasNestedViewGroup(e, t) && !e.simulate) {
o._scrollPos = null;
if (o._slideMode == s.ADHERING) {
o.adhering && (o._adheringBarrier = !0);
o.adhere();
} else o._slideMode == s.PAGE && (null != o._beganPos ? o._pageAdhere() : o.adhere());
this._scrollItem = null;
}
};
t.prototype._onSizeChanged = function() {
this.checkInited(!1) && this._onScrolling();
};
t.prototype._onItemAdaptive = function(e) {
if (!this._sizeType && e.width != this._itemSize.width || this._sizeType && e.height != this._itemSize.height) {
this._customSize || (this._customSize = {});
var t = this._sizeType ? e.height : e.width;
if (this._customSize[e._listId] != t) {
this._customSize[e._listId] = t;
this._resizeContent();
this.updateAll();
if (null != this._scrollToListId) {
this._scrollPos = null;
this.unschedule(this._scrollToSo);
this.scrollTo(this._scrollToListId, Math.max(0, this._scrollToEndTime - new Date().getTime() / 1e3));
}
}
}
};
t.prototype._pageAdhere = function() {
var e = this;
if (e.cyclic || !(e.elasticTop > 0 || e.elasticRight > 0 || e.elasticBottom > 0 || e.elasticLeft > 0)) {
var t = e._sizeType ? e.viewTop : e.viewLeft, o = (e._sizeType ? e.node.height : e.node.width) * e.pageDistance;
if (Math.abs(e._beganPos - t) > o) switch (e._alignCalcType) {
case 1:
case 4:
e._beganPos > t ? e.prePage(.5) : e.nextPage(.5);
break;

case 2:
case 3:
e._beganPos < t ? e.prePage(.5) : e.nextPage(.5);
} else e.elasticTop <= 0 && e.elasticRight <= 0 && e.elasticBottom <= 0 && e.elasticLeft <= 0 && e.adhere();
e._beganPos = null;
}
};
t.prototype.adhere = function() {
var e = this;
if (e.checkInited() && !(e.elasticTop > 0 || e.elasticRight > 0 || e.elasticBottom > 0 || e.elasticLeft > 0)) {
e.adhering = !0;
e._calcNearestItem();
var t = (e._sizeType ? e._topGap : e._leftGap) / (e._sizeType ? e.node.height : e.node.width);
e.scrollTo(e.nearestListId, .7, t);
}
};
t.prototype.pauseUpdate = function() {
this._updateEnabled = !1;
};
t.prototype.resumeUpdate = function() {
this._updateEnabled = !0;
};
t.prototype.update = function() {
if (0 != this._updateEnabled && !(this.frameByFrameRenderNum <= 0 || this._updateDone)) if (this._virtual) {
for (var e = this._updateCounter + this.frameByFrameRenderNum > this.displayItemNum ? this.displayItemNum : this._updateCounter + this.frameByFrameRenderNum, t = this._updateCounter; t < e; t++) {
var o = this.displayData[t];
o && this._createOrUpdateItem(o);
}
if (this._updateCounter >= this.displayItemNum - 1) if (this._doneAfterUpdate) {
this._updateCounter = 0;
this._updateDone = !1;
this._doneAfterUpdate = !1;
} else {
this._updateDone = !0;
this._delRedundantItem();
this._forceUpdate = !1;
this._calcNearestItem();
this.slideMode == s.PAGE && (this.curPageNum = this.nearestListId);
} else this._updateCounter += this.frameByFrameRenderNum;
} else if (this._updateCounter < this._numItems) {
for (e = this._updateCounter + this.frameByFrameRenderNum > this._numItems ? this._numItems : this._updateCounter + this.frameByFrameRenderNum, 
t = this._updateCounter; t < e; t++) this._createOrUpdateItem2(t);
this._updateCounter += this.frameByFrameRenderNum;
} else {
this._updateDone = !0;
this._calcNearestItem();
this.slideMode == s.PAGE && (this.curPageNum = this.nearestListId);
}
};
t.prototype._createOrUpdateItem = function(e) {
var t = this.getItemByListId(e.id);
if (t) {
if (this._forceUpdate && this.renderEvent) {
t.setPosition(cc.v2(e.x, e.y));
this._resetItemSize(t);
this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], t, e.id % this._actualNumItems);
}
} else {
var o = this._pool.size() > 0;
if ((t = o ? this._pool.get() : cc.instantiate(this._itemTmp))._listId != e.id) {
t._listId = e.id;
t.setContentSize(this._itemSize);
}
t.setPosition(cc.v2(e.x, e.y));
this._resetItemSize(t);
this.content.addChild(t);
if (o && this._needUpdateWidget) {
var i = t.getComponent(cc.Widget);
i && i.updateAlignment();
}
t.setSiblingIndex(this.content.childrenCount - 1);
var n = t.getComponent(g.default);
t.listItem = n;
if (n) {
n.listId = e.id;
n.list = this;
n._registerEvent();
}
this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], t, e.id % this._actualNumItems);
}
this._resetItemSize(t);
this._updateListItem(t.listItem);
this._lastDisplayData.indexOf(e.id) < 0 && this._lastDisplayData.push(e.id);
};
t.prototype._createOrUpdateItem2 = function(e) {
var t, o = this.content.children[e];
if (o) {
if (this._forceUpdate && this.renderEvent) {
o._listId = e;
t && (t.listId = e);
this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], o, e);
}
} else {
(o = cc.instantiate(this._itemTmp))._listId = e;
this.content.addChild(o);
t = o.getComponent(g.default);
o.listItem = t;
if (t) {
t.listId = e;
t.list = this;
t._registerEvent();
}
this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], o, e);
}
this._updateListItem(t);
this._lastDisplayData.indexOf(e) < 0 && this._lastDisplayData.push(e);
};
t.prototype._updateListItem = function(e) {
if (e && this.selectedMode > c.NONE) {
var t = e.node;
switch (this.selectedMode) {
case c.SINGLE:
e.selected = this.selectedId == t._listId;
break;

case c.MULT:
e.selected = this.multSelected.indexOf(t._listId) >= 0;
}
}
};
t.prototype._resetItemSize = function() {};
t.prototype._updateItemPos = function(e) {
var t = isNaN(e) ? e : this.getItemByListId(e), o = this.getItemPos(t._listId);
t.setPosition(o.x, o.y);
};
t.prototype.setMultSelected = function(e, t) {
var o = this;
if (o.checkInited()) {
Array.isArray(e) || (e = [ e ]);
if (null == t) o.multSelected = e; else {
var i = void 0, n = void 0;
if (t) for (var a = e.length - 1; a >= 0; a--) {
i = e[a];
(n = o.multSelected.indexOf(i)) < 0 && o.multSelected.push(i);
} else for (a = e.length - 1; a >= 0; a--) {
i = e[a];
(n = o.multSelected.indexOf(i)) >= 0 && o.multSelected.splice(n, 1);
}
}
o._forceUpdate = !0;
o._onScrolling();
}
};
t.prototype.updateItem = function(e) {
if (this.checkInited()) {
Array.isArray(e) || (e = [ e ]);
for (var t = 0, o = e.length; t < o; t++) {
var i = e[t], n = this.getItemByListId(i);
n && cc.Component.EventHandler.emitEvents([ this.renderEvent ], n, i % this._actualNumItems);
}
}
};
t.prototype.updateAll = function() {
this.checkInited() && (this.numItems = this.numItems);
};
t.prototype.getItemByListId = function(e) {
for (var t = this.content.childrenCount - 1; t >= 0; t--) {
var o = this.content.children[t];
if (o._listId == e) return o;
}
};
t.prototype.getVisualItems = function() {
return this.content.children;
};
t.prototype.clearItems = function() {
this.content.removeAllChildren(!0);
};
t.prototype.clearPoolItems = function() {
this._pool.clear();
};
t.prototype._getOutsideItem = function() {
for (var e, t = [], o = this.content.childrenCount - 1; o >= 0; o--) {
e = this.content.children[o];
this.displayData.find(function(t) {
return t.id == e._listId;
}) || t.push(e);
}
return t;
};
t.prototype._delRedundantItem = function() {
if (this._virtual) for (var e = this._getOutsideItem(), t = e.length - 1; t >= 0; t--) {
var o = e[t];
if (!this._scrollItem || o._listId != this._scrollItem._listId) {
this._pool.put(o);
for (var i = this._lastDisplayData.length - 1; i >= 0; i--) if (this._lastDisplayData[i] == o._listId) {
this._lastDisplayData.splice(i, 1);
break;
}
}
} else for (;this.content.childrenCount > this._numItems; ) this._delSingleItem(this.content.children[this.content.childrenCount - 1]);
};
t.prototype._delSingleItem = function(e) {
e.removeFromParent();
e.destroy && e.destroy();
e = null;
};
t.prototype.aniDelItem = function(e, t, o) {
var i = this;
if (!i.checkInited() || i.cyclic || !i._virtual) return cc.error("This function is not allowed to be called!");
if (i._aniDelRuning) return cc.warn("Please wait for the current deletion to finish!");
var n, a = i.getItemByListId(e);
if (a) {
n = a.getComponent(g.default);
i._aniDelRuning = !0;
var r = i.displayData[i.displayData.length - 1].id, s = n.selected;
n.showAni(o, function() {
var o, n, l;
r < i._numItems - 2 && (o = r + 1);
if (null != o) {
var d = i._calcItemPos(o);
i.displayData.push(d);
i._virtual ? i._createOrUpdateItem(d) : i._createOrUpdateItem2(o);
} else i._numItems--;
if (i.selectedMode == c.SINGLE) s ? i._selectedId = -1 : i._selectedId - 1 >= 0 && i._selectedId--; else if (i.selectedMode == c.MULT && i.multSelected.length) {
var h = i.multSelected.indexOf(e);
h >= 0 && i.multSelected.splice(h, 1);
for (var u = i.multSelected.length - 1; u >= 0; u--) (m = i.multSelected[u]) >= e && i.multSelected[u]--;
}
if (i._customSize) {
i._customSize[e] && delete i._customSize[e];
var p = {}, f = void 0;
for (var m in i._customSize) {
f = i._customSize[m];
var g = parseInt(m);
p[g - (g >= e ? 1 : 0)] = f;
}
i._customSize = p;
}
for (u = null != o ? o : r; u >= e + 1; u--) if (a = i.getItemByListId(u)) {
var y = i._calcItemPos(u - 1);
n = [ cc.moveTo(.2333, cc.v2(y.x, y.y)) ];
if (u <= e + 1) {
l = !0;
n.push(cc.callFunc(function() {
i._aniDelRuning = !1;
t(e);
}));
}
n.length > 1 ? a.runAction(cc.sequence(n)) : a.runAction(n[0]);
}
if (!l) {
i._aniDelRuning = !1;
t(e);
}
}, !0);
} else t(e);
};
t.prototype.scrollTo = function(e, t, o, i) {
void 0 === t && (t = .5);
void 0 === o && (o = null);
void 0 === i && (i = !1);
var n = this;
if (n.checkInited(!1)) {
null == t ? t = .5 : t < 0 && (t = 0);
e < 0 ? e = 0 : e >= n._numItems && (e = n._numItems - 1);
!n._virtual && n._layout && n._layout.enabled && n._layout.updateLayout();
var a, r, s = n.getItemPos(e);
switch (n._alignCalcType) {
case 1:
a = s.left;
a -= null != o ? n.node.width * o : n._leftGap;
s = cc.v2(a, 0);
break;

case 2:
a = s.right - n.node.width;
a += null != o ? n.node.width * o : n._rightGap;
s = cc.v2(a + n.content.width, 0);
break;

case 3:
r = s.top;
r += null != o ? n.node.height * o : n._topGap;
s = cc.v2(0, -r);
break;

case 4:
r = s.bottom + n.node.height;
r -= null != o ? n.node.height * o : n._bottomGap;
s = cc.v2(0, -r + n.content.height);
}
var c = n.content.getPosition();
c = Math.abs(n._sizeType ? c.y : c.x);
var l = n._sizeType ? s.y : s.x;
if (Math.abs((null != n._scrollPos ? n._scrollPos : c) - l) > .5) {
n._scrollView.scrollToOffset(s, t);
n._scrollToListId = e;
n._scrollToEndTime = new Date().getTime() / 1e3 + t;
n._scrollToSo = n.scheduleOnce(function() {
n._adheringBarrier || (n.adhering = n._adheringBarrier = !1);
n._scrollPos = n._scrollToListId = n._scrollToEndTime = n._scrollToSo = null;
if (i) {
var t = n.getItemByListId(e);
t && t.runAction(cc.sequence(cc.scaleTo(.1, 1.05), cc.scaleTo(.1, 1)));
}
}, t + .1);
t <= 0 && n._onScrolling();
}
}
};
t.prototype._calcNearestItem = function() {
var e, t, o, i, n, a, r = this;
r.nearestListId = null;
r._virtual && r._calcViewPos();
o = r.viewTop;
i = r.viewRight;
n = r.viewBottom;
a = r.viewLeft;
for (var s = !1, c = 0; c < r.content.childrenCount && !s; c += r._colLineNum) if (e = r._virtual ? r.displayData[c] : r._calcExistItemPos(c)) {
t = r._sizeType ? (e.top + e.bottom) / 2 : t = (e.left + e.right) / 2;
switch (r._alignCalcType) {
case 1:
if (e.right >= a) {
r.nearestListId = e.id;
a > t && (r.nearestListId += r._colLineNum);
s = !0;
}
break;

case 2:
if (e.left <= i) {
r.nearestListId = e.id;
i < t && (r.nearestListId += r._colLineNum);
s = !0;
}
break;

case 3:
if (e.bottom <= o) {
r.nearestListId = e.id;
o < t && (r.nearestListId += r._colLineNum);
s = !0;
}
break;

case 4:
if (e.top >= n) {
r.nearestListId = e.id;
n > t && (r.nearestListId += r._colLineNum);
s = !0;
}
}
}
if ((e = r._virtual ? r.displayData[r.displayItemNum - 1] : r._calcExistItemPos(r._numItems - 1)) && e.id == r._numItems - 1) {
t = r._sizeType ? (e.top + e.bottom) / 2 : t = (e.left + e.right) / 2;
switch (r._alignCalcType) {
case 1:
i > t && (r.nearestListId = e.id);
break;

case 2:
a < t && (r.nearestListId = e.id);
break;

case 3:
n < t && (r.nearestListId = e.id);
break;

case 4:
o > t && (r.nearestListId = e.id);
}
}
};
t.prototype.prePage = function(e) {
void 0 === e && (e = .5);
this.checkInited() && this.skipPage(this.curPageNum - 1, e);
};
t.prototype.nextPage = function(e) {
void 0 === e && (e = .5);
this.checkInited() && this.skipPage(this.curPageNum + 1, e);
};
t.prototype.skipPage = function(e, t) {
var o = this;
if (o.checkInited()) {
if (o._slideMode != s.PAGE) return cc.error("This function is not allowed to be called, Must SlideMode = PAGE!");
if (!(e < 0 || e >= o._numItems) && o.curPageNum != e) {
o.curPageNum = e;
o.pageChangeEvent && cc.Component.EventHandler.emitEvents([ o.pageChangeEvent ], e);
o.scrollTo(e, t);
}
}
};
t.prototype.calcCustomSize = function(e) {
var t = this;
if (t.checkInited()) {
if (!t._itemTmp) return cc.error("Unset template item!");
if (!t.renderEvent) return cc.error("Unset Render-Event!");
t._customSize = {};
var o = cc.instantiate(t._itemTmp);
t.content.addChild(o);
for (var i = 0; i < e; i++) {
cc.Component.EventHandler.emitEvents([ t.renderEvent ], o, i);
o.height == t._itemSize.height && o.width == t._itemSize.width || (t._customSize[i] = t._sizeType ? o.height : o.width);
}
Object.keys(t._customSize).length || (t._customSize = null);
o.removeFromParent();
o.destroy && o.destroy();
return t._customSize;
}
};
a([ h({
type: cc.Enum(r),
tooltip: !1
}) ], t.prototype, "templateType", void 0);
a([ h({
type: cc.Node,
tooltip: !1,
visible: function() {
return this.templateType == r.NODE;
}
}) ], t.prototype, "tmpNode", void 0);
a([ h({
type: cc.Prefab,
tooltip: !1,
visible: function() {
return this.templateType == r.PREFAB;
}
}) ], t.prototype, "tmpPrefab", void 0);
a([ h() ], t.prototype, "_slideMode", void 0);
a([ h({
type: cc.Enum(s),
tooltip: !1
}) ], t.prototype, "slideMode", null);
a([ h({
type: cc.Float,
range: [ 0, 1, .1 ],
tooltip: !1,
slide: !0,
visible: function() {
return this._slideMode == s.PAGE;
}
}) ], t.prototype, "pageDistance", void 0);
a([ h({
type: cc.Component.EventHandler,
tooltip: !1,
visible: function() {
return this._slideMode == s.PAGE;
}
}) ], t.prototype, "pageChangeEvent", void 0);
a([ h() ], t.prototype, "_virtual", void 0);
a([ h({
type: cc.Boolean,
tooltip: !1
}) ], t.prototype, "virtual", null);
a([ h({
tooltip: !1,
visible: function() {
var e = this.virtual && this.slideMode == s.NORMAL;
e || (this.cyclic = !1);
return e;
}
}) ], t.prototype, "cyclic", void 0);
a([ h({
tooltip: !1,
visible: function() {
return this.virtual;
}
}) ], t.prototype, "lackCenter", void 0);
a([ h({
tooltip: !1,
visible: function() {
var e = this.virtual && !this.lackCenter;
e || (this.lackSlide = !1);
return e;
}
}) ], t.prototype, "lackSlide", void 0);
a([ h({
type: cc.Integer
}) ], t.prototype, "_updateRate", void 0);
a([ h({
type: cc.Integer,
range: [ 0, 6, 1 ],
tooltip: !1,
slide: !0
}) ], t.prototype, "updateRate", null);
a([ h({
type: cc.Integer,
range: [ 0, 12, 1 ],
tooltip: !1,
slide: !0
}) ], t.prototype, "frameByFrameRenderNum", void 0);
a([ h({
type: cc.Component.EventHandler,
tooltip: !1
}) ], t.prototype, "renderEvent", void 0);
a([ h({
type: cc.Enum(c),
tooltip: !1
}) ], t.prototype, "selectedMode", void 0);
a([ h({
tooltip: !1,
visible: function() {
return this.selectedMode == c.SINGLE;
}
}) ], t.prototype, "repeatEventSingle", void 0);
a([ h({
type: cc.Component.EventHandler,
tooltip: !1,
visible: function() {
return this.selectedMode > c.NONE;
}
}) ], t.prototype, "selectedEvent", void 0);
a([ h({
serializable: !1
}) ], t.prototype, "_numItems", void 0);
return a([ d, u(), p("/List"), m(cc.ScrollView), f(-5e3) ], t);
}(cc.Component);
o.default = y;
cc._RF.pop();
}, {
"./ListItem": "ListItem"
} ],
LobbyBottomReview: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "97b000Y8blJrIiz7l704CHR", "LobbyBottomReview");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../GameRootView/RootView"), s = e("../GameCores/GameRecorder"), c = e("../GameNetWork/NetWorkAll"), l = e("../Manager/ADManager"), d = e("../GameCores/ApplePay"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._shopBtn = null;
t._startBtn = null;
t._taskBtn = null;
t._helpBtn = null;
return t;
}
t.prototype.onLoad = function() {
this._shopBtn = this.node.getChildByName("shopBtn");
var e = this.node.getChildByName("buyBtn");
this._startBtn = this.node.getChildByName("startBtn");
this._startBtn && this._startBtn.on("click", this.onStart, this);
this._shopBtn && this._shopBtn.on("click", this.onShop, this);
e && e.on("click", this.onBuy, this);
};
t.prototype.start = function() {
e.prototype.start.call(this);
};
t.prototype.onBuy = function() {
d.default.inst.buyCommodity(d.default.inst.productID);
};
t.prototype.show = function() {
this.node.active = !0;
};
t.prototype.onStart = function() {
c.default.getInstance().socketSend.quickEnterBaccaratRoom(2, 2);
s.default.record(s.EventID.hallRoomQuickStart, "gameType", 2);
};
t.prototype.onShop = function() {
s.default.record(s.EventID.hallRoomBack, 2);
l.default.inst.showAD(!0);
};
return a([ u ], t);
}(r.default));
o.default = p;
cc._RF.pop();
}, {
"../GameCores/ApplePay": "ApplePay",
"../GameCores/GameRecorder": "GameRecorder",
"../GameNetWork/NetWorkAll": "NetWorkAll",
"../GameRootView/RootView": "RootView",
"../Manager/ADManager": "ADManager"
} ],
LobbyTimeBoxEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d41c9vcLVtMdIcXBY2lc0kb", "LobbyTimeBoxEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../communication/SocketGameManager"), s = e("../../data/GameLangData"), c = e("../../data/conf/GameInfo"), l = e("../../public/MyComponent/GameHppayUtil"), d = e("../../public/MyComponent/ViewExecutorBase"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.setBtnInfo = function(e) {
this.node._timeboxbtn.active = !0;
if (0 == e.resetTime && e.reward > 0) {
this.node._label.getComponent(cc.Label).string = s.default.ins.GET_DIALOG_LANG("timeBoxTips1") + " " + c.default.gameMoneyUnit + e.reward;
this.node._timeboxbtn.getComponent(cc.Button).interactable = !0;
} else if (e.reward > 0) {
this.setTimeInfo(e);
this.node._timeboxbtn.getComponent(cc.Button).interactable = !1;
} else {
this.node._label.active = !1;
this.node._overLabel.active = !0;
this.node._timeboxbtn.getComponent(cc.Button).interactable = !1;
this.node._timeboxbtn.active = !1;
}
};
t.prototype.setTimeInfo = function(e) {
var t = e.resetTime;
this.node.timeBoxNum = t;
var o = l.default.formatTime(t, 2);
this.node._label.getComponent(cc.Label).string = o;
if (this.node.timeCallback) {
this.node.unschedule(this.node.timeCallback);
this.node.timeCallback = null;
}
if (t > 0) {
this.node.timeCallback = function() {
this.timeBoxNum -= 1;
var e = l.default.formatTime(this.timeBoxNum, 2);
this._label.getComponent(cc.Label).string = e;
if (this.timeBoxNum <= 0) {
this.unschedule(this.timeCallback);
this.timeCallback = null;
r.default.getInstance().socketSend.getTimeboxInfo();
}
};
this.node.schedule(this.node.timeCallback, 1);
}
};
return a([ u ], t);
}(d.default));
o.default = p;
cc._RF.pop();
}, {
"../../communication/SocketGameManager": "SocketGameManager",
"../../data/GameLangData": "GameLangData",
"../../data/conf/GameInfo": "GameInfo",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
LobbyTimeBox: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0cc3fXBWUlNUreQiHBMuwIe", "LobbyTimeBox");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../public/MyComponent/WindowBase"), s = e("../../data/conf/GameRes"), c = e("../../data/GameLangData"), l = e("../../communication/SocketGameManager"), d = e("../../public/MyComponent/GameHppayUtil"), h = e("../executor/LobbyTimeBoxEx"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this._btnBack = this.node.getChildByName("closeBtn");
this._timeboxbtn = this.node.getChildByName("timeboxbtn");
this._label = this._timeboxbtn.getChildByName("label");
this._overLabel = this.node.getChildByName("overLabel");
this._overLabel.getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("timeBoxTips2");
this._overLabel.active = !1;
this._timeboxbtn.active = !1;
this._btnList = [ this._btnBack, this._timeboxbtn ];
d.default.loadSprAtlasFrame(this.node.getChildByName("catBg"), s.GameResInfo.LAN_ROOT_DIR + s.GameResInfo.TIME_REWARD_BG);
this.register("HallTimeBox", [ "HALL_TIMEBOX_INFO_EVENT", "HALL_TIMEBOX_INFO_REWARD" ]);
this.exView = new h.default();
this.exView.setProxy(this);
};
t.prototype.start = function() {
e.prototype.start.call(this);
l.default.getInstance().socketSend.getTimeboxInfo();
};
t.prototype.onBtnClick = function(t) {
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "closeBtn":
this.onClose();
break;

case "timeboxbtn":
l.default.getInstance().socketSend.getTimeboxReward();
}
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "HALL_TIMEBOX_INFO_EVENT":
this.exView.setBtnInfo(t);
break;

case "HALL_TIMEBOX_INFO_REWARD":
this.timeReward();
}
};
t.prototype.timeReward = function() {
this._timeboxbtn.getComponent(cc.Button).interactable = !1;
l.default.getInstance().socketSend.getTimeboxInfo();
};
return a([ p ], t);
}(r.default));
o.default = f;
cc._RF.pop();
}, {
"../../communication/SocketGameManager": "SocketGameManager",
"../../data/GameLangData": "GameLangData",
"../../data/conf/GameRes": "GameRes",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/WindowBase": "WindowBase",
"../executor/LobbyTimeBoxEx": "LobbyTimeBoxEx"
} ],
LobbyTopReview: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "66c10WMz5VJjqfct0sCuc2g", "LobbyTopReview");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../GameRootView/RootView"), s = e("../FireData/CommonData"), c = e("../GameCommon/NVSGameUtil"), l = e("../GameCores/DialogLogic"), d = e("../GameNetWork/ListenNetWork"), h = e("../GameNetWork/NetWorkAll"), u = e("../GameCores/EXSceneManager"), p = e("../GameCores/ApplePay"), f = cc._decorator, m = f.ccclass, g = (f.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this._headBtn = this.node.getChildByName("headBtn");
this._headImg = this.node.getChildByName("headBg").getChildByName("head");
this._nameLabel = this.node.getChildByName("nameLabel");
this._levelLabel = this.node.getChildByName("levelLabel");
this._expLabel = this.node.getChildByName("expLabel");
this._expProgress = this.node.getChildByName("expProgress");
this._coinBtn = this.node.getChildByName("coin");
this._coinLabel = this._coinBtn.getChildByName("label");
this.node.getChildByName("btnSignOut").on("click", this.onSignOut, this);
var e = this.node.getChildByName("coin");
e && e.on("click", this.onAddMoney, this);
var t = this.node.getChildByName("btnSetup");
t && t.on("click", this.onSetup, this);
var o = this.node.getChildByName("headFrame");
o && o.on("click", this.onProfile, this);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.updateAvatar();
};
t.prototype.onAddMoney = function() {
p.default.inst.buyCommodity(p.default.inst.productID);
};
t.prototype.onSetup = function() {
l.default.inst.showDialog(l.DialogIndex.setup);
};
t.prototype.onProfile = function() {
l.default.inst.showDialog(l.FullViewIndex.gameProfile, s.default.UserData.userId);
};
t.prototype.onSignOut = function() {
s.default.clearHallData();
d.default.inst.stopNetworkCheck();
h.default.getInstance().socketSend.loginOut();
u.default.enterLogin();
};
Object.defineProperty(t.prototype, "myName", {
set: function(e) {
this._nameLabel.getComponent(cc.Label).string = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "myCoin", {
set: function(e) {
c.default.labelChange(this._coinLabel, e);
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "myLevel", {
set: function(e) {
var t = c.default.getLevel(e);
this._levelLabel && (this._levelLabel.getComponent(cc.Label).string = "Lv." + t.nowLevel);
this._expLabel && (this._expLabel.getComponent(cc.Label).string = t.nowExp + "/" + t.nowNeedExp);
this._expProgress && (this._expProgress.getComponent(cc.ProgressBar).progress = t.progress);
},
enumerable: !1,
configurable: !0
});
t.prototype.updateAvatar = function() {};
return a([ m ], t);
}(r.default));
o.default = g;
cc._RF.pop();
}, {
"../FireData/CommonData": "CommonData",
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../GameCores/ApplePay": "ApplePay",
"../GameCores/DialogLogic": "DialogLogic",
"../GameCores/EXSceneManager": "EXSceneManager",
"../GameNetWork/ListenNetWork": "ListenNetWork",
"../GameNetWork/NetWorkAll": "NetWorkAll",
"../GameRootView/RootView": "RootView"
} ],
LoginDialog: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "bb4037sOkpN052ILvJRtmaW", "LoginDialog");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../PublicTools/DialogRoot"), s = e("../GameFireData/GameDataInfo"), c = e("../GameHttpTools/HttpTools"), l = e("../GameCores/DialogLogic"), d = e("../GameCommon/NVSGameUtil"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._labelTitle = null;
t._labelItem1 = null;
t._labelItem2 = null;
t._btnLogin = null;
t._btnNext = null;
t._btnRegister = null;
t._btnChangeLoginWay = null;
t._btnGetVCode = null;
t._btnSelectDistrict = null;
t._btnClose = null;
t._labelSelectItem = null;
t._iputItem = null;
t._currLoginType = 0;
t._phoneNumber = "";
t._ereaCode = "";
t._district = "";
t._tickCount = 0;
t._labelVCode = null;
t._btnBack = null;
t._currLoginByPasswordStep = 0;
return t;
}
t.prototype.onLoad = function() {
this._labelTitle = this.node.getChildByName("labelTitle").getComponent(cc.Label);
this._labelItem1 = this.node.getChildByName("labelItem1").getComponent(cc.Label);
this._labelItem2 = this.node.getChildByName("labelItem2").getComponent(cc.Label);
this._labelSelectItem = this.node.getChildByName("labelSelectItem").getComponent(cc.Label);
this._iputItem = this.node.getChildByName("inputItem").getComponent(cc.EditBox);
this._btnChangeLoginWay = this.node.getChildByName("btnLoginByVcode");
this._btnRegister = this.node.getChildByName("btnRegester");
this._btnLogin = this.node.getChildByName("btnLogin");
this._btnNext = this.node.getChildByName("btnNext");
this._btnGetVCode = this.node.getChildByName("verifyCodeBtn");
this._btnSelectDistrict = this.node.getChildByName("btnSelectDistrict");
this._btnClose = this.node.getChildByName("btnClose");
this._labelVCode = this._btnGetVCode.getChildByName("label").getComponent(cc.Label);
this._btnBack = this.node.getChildByName("btnBack");
this._btnList = [ this._btnBack, this._btnSelectDistrict, this._btnClose, this._btnLogin, this._btnNext, this._btnGetVCode, this._btnChangeLoginWay, this._btnRegister ];
this._ereaCode = "852";
this._district = "HongKong";
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.showLoginByPassword();
};
t.prototype.showLoginByPassword = function() {
this._currLoginType = 0;
this._currLoginByPasswordStep = 0;
this._labelTitle.string = "Phone";
this._labelItem1.string = "Country";
this._labelItem2.string = "+" + this._ereaCode;
this._btnGetVCode.active = !1;
this._btnGetVCode.getComponent(cc.Button).enabled = !1;
this._btnNext.active = !0;
this._btnNext.getComponent(cc.Button).enabled = !0;
this._btnLogin.active = !1;
this._btnLogin.getComponent(cc.Button).enabled = !1;
this._btnRegister.active = !0;
this._btnChangeLoginWay.active = !1;
this._iputItem.placeholder = "";
this._labelSelectItem.string = this._district;
this._labelItem2.string = "+" + this._ereaCode;
this._btnSelectDistrict.active = !0;
this._btnSelectDistrict.getComponent(cc.Button).enabled = !0;
this._iputItem.inputMode = cc.EditBox.InputMode.NUMERIC;
this.node.getChildByName("inputItem").y = 17;
this._iputItem.maxLength = 15;
this._btnBack.active = !1;
this._btnBack.off("click", this._onBack, this);
this._iputItem.string = "";
};
t.prototype.showInputPassword = function() {
this._currLoginType = 0;
this._currLoginByPasswordStep = 1;
this._labelTitle.string = "Phone";
this._labelItem1.string = "Phone Number";
this._labelItem2.string = "Password";
this._btnGetVCode.active = !1;
this._btnGetVCode.getComponent(cc.Button).enabled = !1;
this._btnNext.active = !1;
this._btnNext.getComponent(cc.Button).enabled = !1;
this._btnLogin.active = !0;
this._btnLogin.getComponent(cc.Button).enabled = !0;
this._btnRegister.active = !1;
this._btnChangeLoginWay.active = !0;
this._btnChangeLoginWay.getComponent(cc.Label).string = "Login By VCode";
this._iputItem.placeholder = "Input Password";
this._labelSelectItem.string = "+" + this._ereaCode + " " + this._phoneNumber;
this._btnSelectDistrict.active = !1;
this._btnSelectDistrict.getComponent(cc.Button).enabled = !1;
this._iputItem.inputMode = cc.EditBox.InputMode.SINGLE_LINE;
this.node.getChildByName("inputItem").y = 15;
this._iputItem.maxLength = 16;
this._iputItem.string = "";
this._btnBack.active = !0;
this._btnBack.on("click", this._onBack, this);
};
t.prototype.showLoginByVCode = function() {
this._currLoginType = 1;
this._labelTitle.string = "Phone";
this._labelItem1.string = "Phone Number";
this._labelItem2.string = "VCode";
this._btnGetVCode.active = !0;
this._btnGetVCode.getComponent(cc.Button).enabled = !0;
this._btnNext.active = !1;
this._btnNext.getComponent(cc.Button).enabled = !1;
this._btnLogin.active = !0;
this._btnLogin.getComponent(cc.Button).enabled = !0;
this._btnRegister.active = !1;
this._btnChangeLoginWay.active = !0;
this._btnChangeLoginWay.getComponent(cc.Label).string = "Login By Password";
this._iputItem.placeholder = "Input VCode";
this._labelSelectItem.string = "+" + this._ereaCode + " " + this._phoneNumber;
this._btnSelectDistrict.active = !1;
this._iputItem.string = "";
this.node.getChildByName("inputItem").y = 15;
this._btnSelectDistrict.getComponent(cc.Button).enabled = !1;
this._iputItem.inputMode = cc.EditBox.InputMode.NUMERIC;
this._iputItem.maxLength = 6;
};
t.prototype.showRegister = function() {
l.default.inst.showDialog(l.DialogIndex.phoneRegister);
this.onClose();
};
t.prototype.onBtnClick = function(t) {
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "btnClose":
this.onClose();
break;

case "btnLogin":
this._onLogin();
break;

case "btnNext":
this._onNext();
break;

case "btnLoginByVcode":
this._onChangeLoginWay();
break;

case "btnRegester":
this._onRegister();
break;

case "verifyCodeBtn":
this._onGetVCode();
break;

case "btnBack":
this._onBack();
}
};
t.prototype._onBack = function() {
this.showLoginByPassword();
};
t.prototype._onNext = function() {
var e = this._iputItem.string;
if ("" != e) if (0 != d.default.isPhoneNumber(e)) {
this._phoneNumber = e;
this.showInputPassword();
} else d.default.alert("Invilid Phone Number"); else d.default.alert("Input Phone Number");
};
t.prototype._onChangeLoginWay = function() {
1 == this._currLoginType ? this.showInputPassword() : this.showLoginByVCode();
};
t.prototype._onRegister = function() {
l.default.inst.showDialog(l.DialogIndex.phoneRegister);
};
t.prototype._onGetVCode = function() {
this._btnGetVCode.getComponent(cc.Button).enabled = !1;
this._btnGetVCode.opacity = 155;
c.default.getInstance().getVcode(this._ereaCode, this._phoneNumber, 2);
this._tickCount = 60;
this._labelVCode.string = "" + this._tickCount;
this.schedule(this._onVcodeTick, 1);
};
t.prototype._onVcodeTick = function() {
if (this._tickCount > 0) {
this._tickCount--;
this._labelVCode.string = "Left" + this._tickCount + "S";
} else {
this._btnGetVCode.getComponent(cc.Button).enabled = !0;
this._btnGetVCode.opacity = 255;
this._labelVCode.string = "Get VCode";
this.unschedule(this._onVcodeTick);
}
};
t.prototype.onClose = function() {
this.unschedule(this._onVcodeTick);
e.prototype.onClose.call(this);
};
t.prototype._onLogin = function() {
if (0 == this._currLoginType) {
var e = this._iputItem.string;
if ("" == e) {
d.default.alert("Input password");
return;
}
s.default.currPlatType = s.PlatformType.telephoneWithPassword;
(t = {}).ptype = s.default.currPlatType;
t.devId = s.default.devId;
t.areaCode = this._ereaCode;
t.telephone = this._phoneNumber;
t.password = e;
l.default.inst.showDialog(l.FullViewIndex.gameLoading, t);
} else if (1 == this._currLoginType) {
var t, o = this._iputItem.string;
if ("" == o) {
d.default.alert("Input VCode");
return;
}
s.default.currPlatType = s.PlatformType.telephoneWithVCode;
(t = {}).ptype = s.default.currPlatType;
t.devId = s.default.devId;
t.areaCode = this._ereaCode;
t.telephone = this._phoneNumber;
t.checkCode = o;
l.default.inst.showFullView(l.FullViewIndex.gameLoading, t);
}
};
return a([ u ], t);
}(r.default));
o.default = p;
cc._RF.pop();
}, {
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../GameCores/DialogLogic": "DialogLogic",
"../GameFireData/GameDataInfo": "GameDataInfo",
"../GameHttpTools/HttpTools": "HttpTools",
"../PublicTools/DialogRoot": "DialogRoot"
} ],
LoginResetPdEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7010bBj+ShFtog/FbPon4Ad", "LoginResetPdEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../communication/GameLoginHttp"), s = e("../../data/GameLangData"), c = e("../../data/conf/GameInfo"), l = e("../../manager/DlgGameMgr"), d = e("../../public/MyComponent/GameHppayUtil"), h = e("../../public/MyComponent/ViewExecutorBase"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onEditTextChangedEx = function() {
var e = this.node._editBoxPhoneNumber.string;
this.node._editBoxPhoneNumber.string = d.default.formatNumber(e);
this.node._editBoxPhoneNumber.textLabel.node.color = new cc.Color(248, 248, 248, 255);
};
t.prototype.onEditText1ChangedEx = function() {
var e = this.node._editBoxPassword.string;
this.node._editBoxPassword.string = d.default.formatNumber(e);
};
t.prototype.onEditText2ChangedEx = function() {
var e = this.node._editBoxVCode.string;
this.node._editBoxVCode.string = d.default.formatNumber(e);
};
t.prototype.onInputEndedEx = function() {
var e = this.node._editBoxPhoneNumber.string;
if ("" != e) {
e.length > 0 ? this.node._editBoxPhoneNumber.textLabel.node.color = new cc.Color(248, 248, 248, 255) : this.node._editBoxPhoneNumber.textLabel.node.color = new cc.Color(200, 40, 20, 255);
this.node._btnGetVCode.getComponent(cc.Button).enabled = !0;
this.node._btnGetVCode.opacity = 255;
r.default.getInstance().checkPhone(c.default.ereaCode, c.default.phoneStart + e, "ResetPassword");
}
};
t.prototype.onNextEx = function() {
var e = this.node._ereaCode, t = this.node._editBoxPhoneNumber.string, o = this.node._editBoxPassword.string, i = this.node._editBoxVCode.string;
0 != d.default.isPassword(o) ? r.default.getInstance().resetPassword(e, c.default.phoneStart + t, o, i) : l.default.inst.showWithNoTitleAlert(s.default.ins.GET_LOGIN_LANG("passwordLimitDesc"));
};
t.prototype.onGetVCodeEx = function() {
var e = this, t = this.node._ereaCode, o = this.node._editBoxPhoneNumber.string;
if ("" != o) {
var i = this.node._editBoxPassword.string;
0 != d.default.isPassword(i) ? l.default.inst.showAlertWithConfirm("" + c.default.phoneStart + o, s.default.ins.GET_LOGIN_LANG("sendVCodeDesc"), s.default.ins.GET_LOGIN_LANG("confirmPhoneNumber"), function() {
e.node._btnGetVCode.getComponent(cc.Button).enabled = !1;
e.node._btnGetVCode.opacity = 155;
r.default.getInstance().getVcode(t, c.default.phoneStart + o, 3);
e.node._tickCount = 120;
e.node._labelVCode.string = e.node._tickCount + "s";
e.node.schedule(e.node._onVcodeTick, 1);
}) : l.default.inst.showWithNoTitleAlert(s.default.ins.GET_LOGIN_LANG("passwordLimitDesc"));
} else l.default.inst.showAlert(s.default.ins.GET_LOGIN_LANG("inputPhoneNumber"));
};
return a([ p ], t);
}(h.default));
o.default = f;
cc._RF.pop();
}, {
"../../communication/GameLoginHttp": "GameLoginHttp",
"../../data/GameLangData": "GameLangData",
"../../data/conf/GameInfo": "GameInfo",
"../../manager/DlgGameMgr": "DlgGameMgr",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
LoginResetPd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "729b9Yt/E5BKJTUN+wB57uG", "LoginResetPd");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../manager/DlgGameMgr"), s = e("../../data/conf/GameInfo"), c = e("../../public/MyComponent/GameHppayUtil"), l = e("../../public/MyComponent/WindowBase"), d = e("../../data/GameLangData"), h = e("../../public/MyComponent/GameEvent"), u = e("../executor/LoginResetPdEx"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._btnClose = null;
t._btnGetVCode = null;
t._btnNext = null;
t._editBoxPhoneNumber = null;
t._editBoxPassword = null;
t._editBoxVCode = null;
t._labelSelectItem = null;
t._labelAreaCode = null;
t._labelVCode = null;
t._tickCount = 0;
t._ereaCode = "";
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new u.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
this._btnClose = this.node.getChildByName("cloneBtn");
this._btnGetVCode = this.node.getChildByName("verifyCodeBtn");
this._btnNext = this.node.getChildByName("nextBtn");
this._editBoxPhoneNumber = this.node.getChildByName("inputPhontNumber").getComponent(cc.EditBox);
this._editBoxPassword = this.node.getChildByName("inputPassword").getComponent(cc.EditBox);
this._editBoxVCode = this.node.getChildByName("inputVerifyCode").getComponent(cc.EditBox);
this._editBoxPhoneNumber.node.on("editing-did-ended", this._onInputEnded, this);
this._editBoxPassword.node.on("editing-did-ended", this._onInputPasswordEnded, this);
this._editBoxVCode.node.on("editing-did-ended", this._onInputVCodeEnded, this);
this._editBoxPhoneNumber.node.on("text-changed", this.onEditTextChanged, this);
this._editBoxPassword.node.on("text-changed", this.onEditText1Changed, this);
this._editBoxVCode.node.on("text-changed", this.onEditText2Changed, this);
this._labelAreaCode = this.node.getChildByName("labelEreaCode").getComponent(cc.Label);
this._labelVCode = this._btnGetVCode.getChildByName("label").getComponent(cc.Label);
this.node.getChildByName("titelLabel").getComponent(cc.Label).string = d.default.ins.GET_NEWHALL_LANG("findPassword");
c.default.labelShadow(this.node.getChildByName("titelLabel").getComponent(cc.Label));
this.node.getChildByName("label4").getComponent(cc.Label).string = d.default.ins.GET_NEWHALL_LANG("newPassword");
this.node.getChildByName("label5").getComponent(cc.Label).string = d.default.ins.GET_LOGIN_LANG("Vcode");
this._btnGetVCode.getChildByName("label").getComponent(cc.Label).string = d.default.ins.GET_LOGIN_LANG("getVCode");
this._btnNext.getChildByName("label").getComponent(cc.Label).string = d.default.ins.GET_LOGIN_LANG("next");
this._editBoxPhoneNumber.placeholderLabel.string = d.default.ins.GET_NEWHALL_LANG("clickToInputPhoneNumber");
this._editBoxPassword.placeholderLabel.string = d.default.ins.GET_NEWHALL_LANG("clickToInputPassword");
this._editBoxVCode.placeholderLabel.string = d.default.ins.GET_LOGIN_LANG("inputVCode");
this._btnNext.getComponent(cc.Button).interactable = !1;
this._btnGetVCode.getComponent(cc.Button).enabled = !1;
this._btnGetVCode.opacity = 155;
this.node.getChildByName("noSmSCode").on("click", function() {
r.default.inst.showFullView(r.FullScreenType.services);
}, this);
this.node.getChildByName("noSmSCode").getComponent(cc.Label).string = d.default.ins.GET_NEWHALL_LANG("noReceiveCode");
this.node.getChildByName("noSmSCode").active = !1;
this._btnList = [ this._btnClose, this._btnGetVCode, this._btnNext ];
};
t.prototype.onEditTextChanged = function() {
this.exView.onEditTextChangedEx();
};
t.prototype.onEditText1Changed = function() {
this.exView.onEditText1ChangedEx();
};
t.prototype.onEditText2Changed = function() {
this.exView.onEditText2ChangedEx();
};
t.prototype._onInputEnded = function() {
this.exView.onInputEndedEx();
};
t.prototype._onInputPasswordEnded = function() {
"" != this._editBoxPassword.string && "" != this._editBoxVCode.string && "" != this._editBoxPhoneNumber.string && (this._btnNext.getComponent(cc.Button).interactable = !0);
};
t.prototype._onInputVCodeEnded = function() {
"" != this._editBoxPassword.string && "" != this._editBoxVCode.string && "" != this._editBoxPhoneNumber.string && (this._btnNext.getComponent(cc.Button).interactable = !0);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this._ereaCode = s.default.ereaCode;
this._labelAreaCode.string = d.default.ins.GET_LOGIN_LANG("phoneNumber");
this.register("REGISTER", [ "ON_RESET_PASSWORD" ]);
};
t.prototype.handleAppEvent = function(e) {
e.arg;
switch (e.key) {
case "ON_RESET_PASSWORD":
this._resetPasswordSuccess();
}
};
t.prototype.onBtnClick = function(t) {
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "nextBtn":
this._onNext();
break;

case "cloneBtn":
this._onClose();
break;

case "verifyCodeBtn":
this._onGetVCode();
break;

case "selectDistrictionBtn":
case "input2":
this._onSelectDistrict();
break;

case "selectPhotoBtn":
this._onSelectPhoto();
}
};
t.prototype._onClose = function() {
this.unschedule(this._onVcodeTick);
this.onClose();
};
t.prototype._onNext = function() {
this.exView.onNextEx();
};
t.prototype._resetPasswordSuccess = function() {
var e = this;
null != this._editBoxPhoneNumber && r.default.inst.showAlert(d.default.ins.GET_NEWHALL_LANG("resetSuccess"), d.default.ins.STRING_COMMON("tips"), d.default.ins.GET_DIALOG_LANG("enter"), function() {
h.GameEvent.ins().emit("UPDATE_PHONE_NUMBER", e._editBoxPhoneNumber.string);
e.onClose();
}, 2);
};
t.prototype._onGetVCode = function() {
this.exView.onGetVCodeEx();
};
t.prototype._onVcodeTick = function() {
if (this._tickCount > 0) {
this._tickCount--;
this._labelVCode.string = this._tickCount + "s";
} else {
this._btnGetVCode.getComponent(cc.Button).enabled = !0;
this._btnGetVCode.opacity = 255;
this._labelVCode.string = d.default.ins.GET_LOGIN_LANG("resend");
this.unschedule(this._onVcodeTick);
this.node.getChildByName("noSmSCode").active = !0;
}
};
t.prototype._onSelectDistrict = function() {};
t.prototype._onSelectPhoto = function() {};
return a([ f ], t);
}(l.default));
o.default = m;
cc._RF.pop();
}, {
"../../data/GameLangData": "GameLangData",
"../../data/conf/GameInfo": "GameInfo",
"../../manager/DlgGameMgr": "DlgGameMgr",
"../../public/MyComponent/GameEvent": "GameEvent",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/WindowBase": "WindowBase",
"../executor/LoginResetPdEx": "LoginResetPdEx"
} ],
LoginSelecter: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f81c8bPaW5AkI+GNOD2GuNK", "LoginSelecter");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../GameRootView/RootView"), s = e("../GameFireData/GameDataInfo"), c = e("../GameCommon/NVSGameUtil"), l = e("../GameCores/DialogLogic"), d = e("../SDKInterface/FirebaseInterface"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this._touristBtn = this.node.getChildByName("touristBtn");
this._btnList = [ this._touristBtn ];
this.register("Login", [ "ON_GET_DEVICE_REGESTER_INFO", "ON_GOOGLE_LOGIN_CALLBACK", "FACEBOOK_LOGIN_CALLBACK", "ON_LOGIN_FAILED", "ON_LOGIN_SUCCESS", "ON_APPLE_LOGIN_CALLBACK" ]);
};
t.prototype.start = function() {
e.prototype.start.call(this);
};
t.prototype.onBtnClick = function(t) {
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "touristBtn":
this._onTourist();
break;

case "appleBtn":
this._onGoogleOrApple();
}
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_GOOGLE_LOGIN_CALLBACK":
this.googleLoginCallBack(t);
}
};
t.prototype.googleLoginCallBack = function(e) {
if (0 == e.retCode) {
var t = {};
t.pid = e.pid;
t.token = e.token;
t.devId = s.default.devId;
t.ptype = s.PlatformType.google;
d.GoogleAccount.isAuth = !0;
console.log("google login params", e.pid, s.default.devId, e.token, s.PlatformType.google);
l.default.inst.showFullView(l.FullViewIndex.gameLoading, t);
} else {
d.GoogleAccount.isAuth = !1;
c.default.alert(e.errorMsg || "Login Failed");
}
};
t.prototype._onGoogleOrApple = function() {
s.default.currPlatType = s.PlatformType.google;
d.default.inst.login();
};
t.prototype._onTourist = function() {
var e = this;
s.default.currPlatType = s.PlatformType.guest;
var t = {};
t.devId = s.default.devId;
t.nickName = "";
t.ptype = s.PlatformType.guest;
l.default.inst.showFullView(l.FullViewIndex.gameLoading, t);
this._touristBtn.getComponent(cc.Button).interactable = !1;
this.scheduleOnce(function() {
e._touristBtn.getComponent(cc.Button).interactable = !0;
}, 2);
};
return a([ u ], t);
}(r.default));
o.default = p;
cc._RF.pop();
}, {
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../GameCores/DialogLogic": "DialogLogic",
"../GameFireData/GameDataInfo": "GameDataInfo",
"../GameRootView/RootView": "RootView",
"../SDKInterface/FirebaseInterface": "FirebaseInterface"
} ],
LuckySpin: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "af3afOQXeBLIJkestec5X/O", "LuckySpin");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.SpinType = void 0;
var r, s = e("../../public/MyComponent/WindowBase"), c = e("../../data/conf/GameRes"), l = e("../../data/GameLangData"), d = e("../../public/MyComponent/GameHppayUtil"), h = e("../../communication/SocketGameManager"), u = e("../../manager/GameSoundMgr"), p = e("../../data/conf/GameInfo"), f = e("../../public/ThirdParty/happyList"), m = e("../../public/MyComponent/HpgNumberImg"), g = e("../../manager/DlgGameMgr"), y = cc._decorator, _ = y.ccclass;
y.property;
(function(e) {
e[e.sliver = 1] = "sliver";
e[e.golden = 2] = "golden";
e[e.diamond = 3] = "diamond";
})(r = o.SpinType || (o.SpinType = {}));
var C = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.label_valid_deposit = null;
t.label_left_spins = null;
t.rootNode = null;
t.btnSpinner = null;
t.spinFrameNode = null;
t.spinPointerNode = null;
t.totalRewardData = [];
t.selfRewardData = [];
t.totalRewardList = null;
t.selfRewardList = null;
t.currSpinType = r.sliver;
t.currLeftTimesSliver = 0;
t.currLeftTimesGolden = 0;
t.currLeftTimesDiamond = 0;
t.btnSliver = null;
t.btnGolden = null;
t.btnDiamond = null;
t.btnSliverText = null;
t.btnGoldenText = null;
t.btnDiamondText = null;
t.btnSliverAmountText = null;
t.btnGoldenAmountText = null;
t.btnDiamondAmountText = null;
t.spinInfo = null;
t.spinRoot = null;
t.spinRewardRoot = null;
t.spinPointer = 0;
t.lastSpinRandonAngle = 0;
t.helpNode = null;
t.spinRewardAngles = [ 0, 45, 90, 135, 180, 225, 270, 315 ];
t.spinRewardPositions = [ new cc.Vec2(0, 210), new cc.Vec2(150, 150), new cc.Vec2(210, 0), new cc.Vec2(150, -150), new cc.Vec2(0, -210), new cc.Vec2(-150, -150), new cc.Vec2(-210, 0), new cc.Vec2(-150, 150) ];
t.spinTypeDescs = [];
t.sliverCost = 0;
t.goldenCost = 0;
t.diamondCost = 0;
t.leftDeposit = 0;
return t;
}
t.prototype.onLoad = function() {
this.rootNode = this.node.getChildByName("bg");
this.helpNode = this.rootNode.getChildByName("help_root");
this.helpNode.active = !1;
this.helpNode.on("click", this.onHideHelp, this);
this.rootNode.getChildByName("btn_close").on("click", this.onClose, this);
this.rootNode.getChildByName("btn_help").on("click", this.onHelp, this);
this.rootNode.getChildByName("btn_sliver").on("click", this.onSpinSliver, this);
this.rootNode.getChildByName("btn_golden").on("click", this.onSpinGolden, this);
this.rootNode.getChildByName("btn_diamond").on("click", this.onSpinDiamond, this);
this.btnSliver = this.rootNode.getChildByName("btn_sliver").getComponent(cc.Button);
this.btnGolden = this.rootNode.getChildByName("btn_golden").getComponent(cc.Button);
this.btnDiamond = this.rootNode.getChildByName("btn_diamond").getComponent(cc.Button);
this.btnSliverText = this.rootNode.getChildByName("btn_sliver").getChildByName("Background").getChildByName("Label").getComponent(cc.Label);
this.btnGoldenText = this.rootNode.getChildByName("btn_golden").getChildByName("Background").getChildByName("Label").getComponent(cc.Label);
this.btnDiamondText = this.rootNode.getChildByName("btn_diamond").getChildByName("Background").getChildByName("Label").getComponent(cc.Label);
this.btnSliverText.string = l.default.ins.GET_NEWHALL_LANG("spinSliver");
this.btnGoldenText.string = l.default.ins.GET_NEWHALL_LANG("spinGolden");
this.btnDiamondText.string = l.default.ins.GET_NEWHALL_LANG("spinDiamond");
this.btnSliverAmountText = this.rootNode.getChildByName("btn_sliver").getChildByName("Background").getChildByName("amount").getComponent(cc.Label);
this.btnGoldenAmountText = this.rootNode.getChildByName("btn_golden").getChildByName("Background").getChildByName("amount").getComponent(cc.Label);
this.btnDiamondAmountText = this.rootNode.getChildByName("btn_diamond").getChildByName("Background").getChildByName("amount").getComponent(cc.Label);
var e = this.rootNode.getChildByName("title");
this.spinRoot = this.rootNode.getChildByName("spin_root");
this.spinFrameNode = this.rootNode.getChildByName("spinFrame");
this.spinPointerNode = this.rootNode.getChildByName("spinPointer");
var t = this.rootNode.getChildByName("btn_spin").getChildByName("icon");
this.btnSpinner = this.rootNode.getChildByName("btn_spin").getComponent(cc.Button);
this.btnSpinner.node.on("click", this.onSpin, this);
this.spinRewardRoot = this.spinRoot.getChildByName("spinRewardRoot");
var o = this.rootNode.getChildByName("click_to_spin"), i = this.rootNode.getChildByName("label_total_record"), n = this.rootNode.getChildByName("label_personal_record");
d.default.loadSprAtlasFrame(e, c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.SPIN_TITLE);
d.default.loadSprAtlasFrame(o, c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.SPIN_TIPS);
d.default.loadSprAtlasFrame(t, c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.SPIN_BTN);
i.getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("spinTotalRecord");
n.getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("spinPersonalRecord");
this.helpNode.getChildByName("help_title").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("spinRuleTitle");
var a = this.helpNode.getChildByName("help_content").getComponent(cc.Label);
a.string = l.default.ins.GET_NEWHALL_LANG("spinRuleDesc");
a._forceUpdateRenderData(!0);
this.helpNode.getChildByName("bg").height = a.node.height + 80;
this.totalRewardList = this.rootNode.getChildByName("list_total").getComponent(f.default);
this.selfRewardList = this.rootNode.getChildByName("list_personal").getComponent(f.default);
this.spinTypeDescs = [ l.default.ins.GET_NEWHALL_LANG("spinSliver"), l.default.ins.GET_NEWHALL_LANG("spinGolden"), l.default.ins.GET_NEWHALL_LANG("spinDiamond") ];
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.rootNode.active = !1;
this.needModal = !0;
this.showLoading();
this.register("LuckySpin", [ "ON_GET_SPIN_INFO_RESPONSE", "ON_SPIN_RESPONSE" ]);
h.default.getInstance().socketSend.getLuckySpinInfo();
};
t.prototype.initSpins = function(e) {
this.spinInfo = e;
this.btnSliverAmountText.string = e.spinCostSliver;
this.btnGoldenAmountText.string = e.spinCostGolden;
this.btnDiamondAmountText.string = e.spinCostDiamond;
this.sliverCost = e.spinCostSliver;
this.goldenCost = e.spinCostGolden;
this.diamondCost = e.spinCostDiamond;
var t = this.rootNode.getChildByName("label_valid_deposit_title").getComponent(cc.Label);
this.label_valid_deposit = this.rootNode.getChildByName("label_valid_deposit").getComponent(cc.Label);
var o = this.rootNode.getChildByName("label_left_spins_title").getComponent(cc.Label);
this.label_left_spins = this.rootNode.getChildByName("label_left_spins").getComponent(cc.Label);
t.getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("spinDeposit");
o.getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("spinTimes");
t._forceUpdateRenderData(!0);
this.label_valid_deposit._forceUpdateRenderData(!0);
o._forceUpdateRenderData(!0);
this.label_left_spins._forceUpdateRenderData(!0);
this.label_valid_deposit.node.x = t.node.x + t.node.width;
o.node.x = this.label_valid_deposit.node.x + this.label_valid_deposit.node.width + 60;
this.label_left_spins.node.x = o.node.x + o.node.width;
this.currLeftTimesSliver = e.leftSpinTimesSliver;
this.currLeftTimesGolden = e.leftSpinTimesGolden;
this.currLeftTimesDiamond = e.leftSpinTimesDiamond;
this.spinPointer = 0;
this.updateData(e);
this.createSpinner(this.currSpinType);
this.selectSpinner(this.currSpinType);
this.rootNode.active = !0;
this.totalRewardData = e.totalRewards;
this.selfRewardData = e.selfRewards;
this.totalRewardList.numItems = this.totalRewardData.length;
this.selfRewardList.numItems = this.selfRewardData.length;
this.hideLoading();
console.log("hideLoading");
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_GET_SPIN_INFO_RESPONSE":
this.initSpins(t);
break;

case "ON_SPIN_RESPONSE":
null != t ? this.startSpin(t) : g.default.inst.showConfirmDlg(l.default.ins.GET_NEWHALL_LANG("spinsNotEnough"), 1);
}
};
t.prototype.createSpinner = function(e) {
this.spinRewardRoot.removeAllChildren();
var t = [];
if (e == r.sliver) t = this.spinInfo.sliverRewards; else if (e == r.golden) t = this.spinInfo.goldenRewards; else {
if (e != r.diamond) return;
t = this.spinInfo.diamondRewards;
}
for (var o = 0; o < t.length; o++) {
var i = t[o], n = new m.default("plists/num_h42", "+" + i, 0);
n.anchorX = .5;
n.anchorY = .5;
n.setPosition(this.spinRewardPositions[o]);
n.setRotation(this.spinRewardAngles[o] + 90);
this.spinRewardRoot.addChild(n);
}
};
t.prototype.selectSpinner = function(e) {
if (e == r.sliver) {
this.btnSliver.interactable = !1;
this.btnGolden.interactable = !0;
this.btnDiamond.interactable = !0;
this.btnSliverText.node.y = 6;
this.btnGoldenText.node.y = 15;
this.btnDiamondText.node.y = 15;
this.btnSliverAmountText.node.y = -14;
this.btnGoldenAmountText.node.y = -10;
this.btnDiamondAmountText.node.y = -10;
this.btnSliverText.node.color = new cc.Color(48, 41, 95);
this.btnGoldenText.node.color = new cc.Color(255, 255, 255);
this.btnDiamondText.node.color = new cc.Color(255, 255, 255);
this.btnSliverAmountText.node.color = new cc.Color(48, 41, 95);
this.btnGoldenAmountText.node.color = new cc.Color(255, 255, 255);
this.btnDiamondAmountText.node.color = new cc.Color(255, 255, 255);
d.default.loadSprAtlasFrame(this.spinFrameNode, "frame_silver", "plists/spin");
d.default.loadSprAtlasFrame(this.spinPointerNode, "Pointers_silver", "plists/spin");
} else if (e == r.golden) {
this.btnSliver.interactable = !0;
this.btnGolden.interactable = !1;
this.btnDiamond.interactable = !0;
this.btnSliverText.node.y = 15;
this.btnGoldenText.node.y = 6;
this.btnDiamondText.node.y = 15;
this.btnSliverAmountText.node.y = -10;
this.btnGoldenAmountText.node.y = -14;
this.btnDiamondAmountText.node.y = -10;
this.btnSliverText.node.color = new cc.Color(255, 255, 255);
this.btnGoldenText.node.color = new cc.Color(127, 23, 36);
this.btnDiamondText.node.color = new cc.Color(255, 255, 255);
this.btnSliverAmountText.node.color = new cc.Color(255, 255, 255);
this.btnGoldenAmountText.node.color = new cc.Color(127, 23, 36);
this.btnDiamondAmountText.node.color = new cc.Color(255, 255, 255);
d.default.loadSprAtlasFrame(this.spinFrameNode, "frame_gold", "plists/spin");
d.default.loadSprAtlasFrame(this.spinPointerNode, "Pointers_Gold", "plists/spin");
} else if (e == r.diamond) {
this.btnSliver.interactable = !0;
this.btnGolden.interactable = !0;
this.btnDiamond.interactable = !1;
this.btnSliverText.node.y = 15;
this.btnGoldenText.node.y = 15;
this.btnDiamondText.node.y = 6;
this.btnSliverAmountText.node.y = -10;
this.btnGoldenAmountText.node.y = -10;
this.btnDiamondAmountText.node.y = -14;
this.btnSliverText.node.color = new cc.Color(255, 255, 255);
this.btnGoldenText.node.color = new cc.Color(255, 255, 255);
this.btnDiamondText.node.color = new cc.Color(70, 13, 69);
this.btnSliverAmountText.node.color = new cc.Color(255, 255, 255);
this.btnGoldenAmountText.node.color = new cc.Color(255, 255, 255);
this.btnDiamondAmountText.node.color = new cc.Color(70, 13, 69);
d.default.loadSprAtlasFrame(this.spinFrameNode, "frame_diamond", "plists/spin");
d.default.loadSprAtlasFrame(this.spinPointerNode, "Pointers_diamond", "plists/spin");
}
};
t.prototype.startSpin = function(e) {
var t = {};
t.amount = e.rewardAmount;
t.time = new Date().getTime() / 1e3;
t.spinType = e.spinType;
this.selfRewardData.splice(0, 0, t);
this.updateData(e);
for (var o = e.rewardAmount, i = e.spinType, n = this.getRewardItems(i), a = 0, r = 0; r < n.length; r++) if (n[r] == o) {
a = 8 - r;
break;
}
var s = d.default.getRandomNumInt(-22, 22);
a += 8 - this.spinPointer % 8;
this.spinPointer = this.spinPointer + a;
console.log("spin angle = ", this.spinPointer);
var c = this;
this.spinRoot.runAction(cc.sequence(cc.rotateBy(3, 1080 + 45 * a + s - c.lastSpinRandonAngle).easing(cc.easeSineOut()), cc.callFunc(function() {
c.btnSpinner.interactable = !0;
c.lastSpinRandonAngle = s;
c.selfRewardList.numItems = c.selfRewardData.length;
}, c)));
};
t.prototype.getRewardItems = function(e) {
var t = [];
e == r.sliver ? t = this.spinInfo.sliverRewards : e == r.golden ? t = this.spinInfo.goldenRewards : e == r.diamond && (t = this.spinInfo.diamondRewards);
return t;
};
t.prototype.updateData = function(e) {
this.currLeftTimesSliver = e.leftSpinTimesSliver;
this.currLeftTimesGolden = e.leftSpinTimesGolden;
this.currLeftTimesDiamond = e.leftSpinTimesDiamond;
this.label_valid_deposit.getComponent(cc.Label).string = e.leftSpinAmount;
this.currSpinType == r.sliver ? this.label_left_spins.getComponent(cc.Label).string = e.leftSpinTimesSliver : this.currSpinType == r.golden ? this.label_left_spins.getComponent(cc.Label).string = e.leftSpinTimesGolden : this.currSpinType == r.diamond ? this.label_left_spins.getComponent(cc.Label).string = e.leftSpinTimesDiamond : this.label_left_spins.getComponent(cc.Label).string = "";
this.leftDeposit = e.leftSpinAmount;
this.label_valid_deposit.getComponent(cc.Label).string = p.default.gameMoneyUnit + d.default.cul(e.leftSpinAmount);
};
t.prototype.onSpin = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
if (this.currSpinType == r.sliver) {
if (this.sliverCost > this.leftDeposit) {
g.default.inst.showConfirmDlg(l.default.ins.GET_NEWHALL_LANG("depositNotEnough"), 1);
return;
}
if (this.currLeftTimesSliver <= 0) {
g.default.inst.showConfirmDlg(l.default.ins.GET_NEWHALL_LANG("spinsNotEnough"), 1);
return;
}
} else if (this.currSpinType == r.golden) {
if (this.goldenCost > this.leftDeposit) {
g.default.inst.showConfirmDlg(l.default.ins.GET_NEWHALL_LANG("depositNotEnough"), 1);
return;
}
if (this.currLeftTimesGolden <= 0) {
g.default.inst.showConfirmDlg(l.default.ins.GET_NEWHALL_LANG("spinsNotEnough"), 1);
return;
}
} else if (this.currSpinType == r.diamond) {
if (this.diamondCost > this.leftDeposit) {
g.default.inst.showConfirmDlg(l.default.ins.GET_NEWHALL_LANG("depositNotEnough"), 1);
return;
}
if (this.currLeftTimesDiamond <= 0) {
g.default.inst.showConfirmDlg(l.default.ins.GET_NEWHALL_LANG("spinsNotEnough"), 1);
return;
}
}
h.default.getInstance().socketSend.startSpin(this.currSpinType);
this.btnSpinner.interactable = !1;
};
t.prototype.onHelp = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
this.helpNode.active = !0;
};
t.prototype.onHideHelp = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
this.helpNode.active = !1;
};
t.prototype.onSpinSliver = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
this.currSpinType = r.sliver;
this.label_left_spins.getComponent(cc.Label).string = this.currLeftTimesSliver;
this.selectSpinner(this.currSpinType);
this.createSpinner(this.currSpinType);
};
t.prototype.onSpinGolden = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
this.currSpinType = r.golden;
this.label_left_spins.getComponent(cc.Label).string = this.currLeftTimesGolden;
this.selectSpinner(this.currSpinType);
this.createSpinner(this.currSpinType);
this.createSpinner(this.currSpinType);
};
t.prototype.onSpinDiamond = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
this.currSpinType = r.diamond;
this.label_left_spins.getComponent(cc.Label).string = this.currLeftTimesDiamond;
this.selectSpinner(this.currSpinType);
this.createSpinner(this.currSpinType);
};
t.prototype.listTotalSpinReward = function(e, t) {
console.log("listTotalSpinReward");
var o = this.totalRewardData[t], i = l.default.ins.GET_NEWHALL_LANG("spinPersonalReward").replace("ID", o.nickname).replace("MONEY", o.amount).replace("TIME", d.default.formatDate4(o.time));
e.getChildByName("content").getComponent(cc.RichText).string = i;
};
t.prototype.listSelfSpinReward = function(e, t) {
var o = this.selfRewardData[t], i = l.default.ins.GET_NEWHALL_LANG("spinTotalReward").replace("MONEY", o.amount).replace("TIME", d.default.formatDate4(o.time)).replace("SPINTYPE", this.spinTypeDescs[o.spinType - 1]);
e.getChildByName("content").getComponent(cc.RichText).string = i;
};
return a([ _ ], t);
}(s.default);
o.default = C;
cc._RF.pop();
}, {
"../../communication/SocketGameManager": "SocketGameManager",
"../../data/GameLangData": "GameLangData",
"../../data/conf/GameInfo": "GameInfo",
"../../data/conf/GameRes": "GameRes",
"../../manager/DlgGameMgr": "DlgGameMgr",
"../../manager/GameSoundMgr": "GameSoundMgr",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/HpgNumberImg": "HpgNumberImg",
"../../public/MyComponent/WindowBase": "WindowBase",
"../../public/ThirdParty/happyList": "happyList"
} ],
MD5: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3a6e6khL15GArCazlTDuAMm", "MD5");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function() {
function e() {
this.hexcase = 0;
this.b64pad = "";
}
e.prototype.hex_md5 = function(e) {
return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(e)));
};
e.prototype.b64_md5 = function(e) {
return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(e)));
};
e.prototype.any_md5 = function(e, t) {
return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(e)), t);
};
e.prototype.hex_hmac_md5 = function(e, t) {
return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(e), this.str2rstr_utf8(t)));
};
e.prototype.b64_hmac_md5 = function(e, t) {
return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(e), this.str2rstr_utf8(t)));
};
e.prototype.any_hmac_md5 = function(e, t, o) {
return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(e), this.str2rstr_utf8(t)), o);
};
e.prototype.md5_vm_test = function() {
return "900150983cd24fb0d6963f7d28e17f72" == this.hex_md5("abc").toLowerCase();
};
e.prototype.rstr_md5 = function(e) {
return this.binl2rstr(this.binl_md5(this.rstr2binl(e), 8 * e.length));
};
e.prototype.rstr_hmac_md5 = function(e, t) {
var o = this.rstr2binl(e);
o.length > 16 && (o = this.binl_md5(o, 8 * e.length));
for (var i = Array(16), n = Array(16), a = 0; a < 16; a++) {
i[a] = 909522486 ^ o[a];
n[a] = 1549556828 ^ o[a];
}
var r = this.binl_md5(i.concat(this.rstr2binl(t)), 512 + 8 * t.length);
return this.binl2rstr(this.binl_md5(n.concat(r), 640));
};
e.prototype.rstr2hex = function(e) {
try {
this.hexcase;
} catch (e) {
this.hexcase = 0;
}
for (var t, o = this.hexcase ? "0123456789ABCDEF" : "0123456789abcdef", i = "", n = 0; n < e.length; n++) {
t = e.charCodeAt(n);
i += o.charAt(t >>> 4 & 15) + o.charAt(15 & t);
}
return i;
};
e.prototype.rstr2b64 = function(e) {
try {
this.b64pad;
} catch (e) {
this.b64pad = "";
}
for (var t = "", o = e.length, i = 0; i < o; i += 3) for (var n = e.charCodeAt(i) << 16 | (i + 1 < o ? e.charCodeAt(i + 1) << 8 : 0) | (i + 2 < o ? e.charCodeAt(i + 2) : 0), a = 0; a < 4; a++) 8 * i + 6 * a > 8 * e.length ? t += this.b64pad : t += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n >>> 6 * (3 - a) & 63);
return t;
};
e.prototype.rstr2any = function(e, t) {
var o, i, n, a, r, s = t.length, c = Array(Math.ceil(e.length / 2));
for (o = 0; o < c.length; o++) c[o] = e.charCodeAt(2 * o) << 8 | e.charCodeAt(2 * o + 1);
var l = Math.ceil(8 * e.length / (Math.log(t.length) / Math.log(2))), d = Array(l);
for (i = 0; i < l; i++) {
r = Array();
a = 0;
for (o = 0; o < c.length; o++) {
a = (a << 16) + c[o];
a -= (n = Math.floor(a / s)) * s;
(r.length > 0 || n > 0) && (r[r.length] = n);
}
d[i] = a;
c = r;
}
var h = "";
for (o = d.length - 1; o >= 0; o--) h += t.charAt(d[o]);
return h;
};
e.prototype.str2rstr_utf8 = function(e) {
for (var t, o, i = "", n = -1; ++n < e.length; ) {
t = e.charCodeAt(n);
o = n + 1 < e.length ? e.charCodeAt(n + 1) : 0;
if (55296 <= t && t <= 56319 && 56320 <= o && o <= 57343) {
t = 65536 + ((1023 & t) << 10) + (1023 & o);
n++;
}
t <= 127 ? i += String.fromCharCode(t) : t <= 2047 ? i += String.fromCharCode(192 | t >>> 6 & 31, 128 | 63 & t) : t <= 65535 ? i += String.fromCharCode(224 | t >>> 12 & 15, 128 | t >>> 6 & 63, 128 | 63 & t) : t <= 2097151 && (i += String.fromCharCode(240 | t >>> 18 & 7, 128 | t >>> 12 & 63, 128 | t >>> 6 & 63, 128 | 63 & t));
}
return i;
};
e.prototype.str2rstr_utf16le = function(e) {
for (var t = "", o = 0; o < e.length; o++) t += String.fromCharCode(255 & e.charCodeAt(o), e.charCodeAt(o) >>> 8 & 255);
return t;
};
e.prototype.str2rstr_utf16be = function(e) {
for (var t = "", o = 0; o < e.length; o++) t += String.fromCharCode(e.charCodeAt(o) >>> 8 & 255, 255 & e.charCodeAt(o));
return t;
};
e.prototype.rstr2binl = function(e) {
for (var t = Array(e.length >> 2), o = 0; o < t.length; o++) t[o] = 0;
for (o = 0; o < 8 * e.length; o += 8) t[o >> 5] |= (255 & e.charCodeAt(o / 8)) << o % 32;
return t;
};
e.prototype.binl2rstr = function(e) {
for (var t = "", o = 0; o < 32 * e.length; o += 8) t += String.fromCharCode(e[o >> 5] >>> o % 32 & 255);
return t;
};
e.prototype.binl_md5 = function(e, t) {
e[t >> 5] |= 128 << t % 32;
e[14 + (t + 64 >>> 9 << 4)] = t;
for (var o = 1732584193, i = -271733879, n = -1732584194, a = 271733878, r = 0; r < e.length; r += 16) {
var s = o, c = i, l = n, d = a;
o = this.md5_ff(o, i, n, a, e[r + 0], 7, -680876936);
a = this.md5_ff(a, o, i, n, e[r + 1], 12, -389564586);
n = this.md5_ff(n, a, o, i, e[r + 2], 17, 606105819);
i = this.md5_ff(i, n, a, o, e[r + 3], 22, -1044525330);
o = this.md5_ff(o, i, n, a, e[r + 4], 7, -176418897);
a = this.md5_ff(a, o, i, n, e[r + 5], 12, 1200080426);
n = this.md5_ff(n, a, o, i, e[r + 6], 17, -1473231341);
i = this.md5_ff(i, n, a, o, e[r + 7], 22, -45705983);
o = this.md5_ff(o, i, n, a, e[r + 8], 7, 1770035416);
a = this.md5_ff(a, o, i, n, e[r + 9], 12, -1958414417);
n = this.md5_ff(n, a, o, i, e[r + 10], 17, -42063);
i = this.md5_ff(i, n, a, o, e[r + 11], 22, -1990404162);
o = this.md5_ff(o, i, n, a, e[r + 12], 7, 1804603682);
a = this.md5_ff(a, o, i, n, e[r + 13], 12, -40341101);
n = this.md5_ff(n, a, o, i, e[r + 14], 17, -1502002290);
i = this.md5_ff(i, n, a, o, e[r + 15], 22, 1236535329);
o = this.md5_gg(o, i, n, a, e[r + 1], 5, -165796510);
a = this.md5_gg(a, o, i, n, e[r + 6], 9, -1069501632);
n = this.md5_gg(n, a, o, i, e[r + 11], 14, 643717713);
i = this.md5_gg(i, n, a, o, e[r + 0], 20, -373897302);
o = this.md5_gg(o, i, n, a, e[r + 5], 5, -701558691);
a = this.md5_gg(a, o, i, n, e[r + 10], 9, 38016083);
n = this.md5_gg(n, a, o, i, e[r + 15], 14, -660478335);
i = this.md5_gg(i, n, a, o, e[r + 4], 20, -405537848);
o = this.md5_gg(o, i, n, a, e[r + 9], 5, 568446438);
a = this.md5_gg(a, o, i, n, e[r + 14], 9, -1019803690);
n = this.md5_gg(n, a, o, i, e[r + 3], 14, -187363961);
i = this.md5_gg(i, n, a, o, e[r + 8], 20, 1163531501);
o = this.md5_gg(o, i, n, a, e[r + 13], 5, -1444681467);
a = this.md5_gg(a, o, i, n, e[r + 2], 9, -51403784);
n = this.md5_gg(n, a, o, i, e[r + 7], 14, 1735328473);
i = this.md5_gg(i, n, a, o, e[r + 12], 20, -1926607734);
o = this.md5_hh(o, i, n, a, e[r + 5], 4, -378558);
a = this.md5_hh(a, o, i, n, e[r + 8], 11, -2022574463);
n = this.md5_hh(n, a, o, i, e[r + 11], 16, 1839030562);
i = this.md5_hh(i, n, a, o, e[r + 14], 23, -35309556);
o = this.md5_hh(o, i, n, a, e[r + 1], 4, -1530992060);
a = this.md5_hh(a, o, i, n, e[r + 4], 11, 1272893353);
n = this.md5_hh(n, a, o, i, e[r + 7], 16, -155497632);
i = this.md5_hh(i, n, a, o, e[r + 10], 23, -1094730640);
o = this.md5_hh(o, i, n, a, e[r + 13], 4, 681279174);
a = this.md5_hh(a, o, i, n, e[r + 0], 11, -358537222);
n = this.md5_hh(n, a, o, i, e[r + 3], 16, -722521979);
i = this.md5_hh(i, n, a, o, e[r + 6], 23, 76029189);
o = this.md5_hh(o, i, n, a, e[r + 9], 4, -640364487);
a = this.md5_hh(a, o, i, n, e[r + 12], 11, -421815835);
n = this.md5_hh(n, a, o, i, e[r + 15], 16, 530742520);
i = this.md5_hh(i, n, a, o, e[r + 2], 23, -995338651);
o = this.md5_ii(o, i, n, a, e[r + 0], 6, -198630844);
a = this.md5_ii(a, o, i, n, e[r + 7], 10, 1126891415);
n = this.md5_ii(n, a, o, i, e[r + 14], 15, -1416354905);
i = this.md5_ii(i, n, a, o, e[r + 5], 21, -57434055);
o = this.md5_ii(o, i, n, a, e[r + 12], 6, 1700485571);
a = this.md5_ii(a, o, i, n, e[r + 3], 10, -1894986606);
n = this.md5_ii(n, a, o, i, e[r + 10], 15, -1051523);
i = this.md5_ii(i, n, a, o, e[r + 1], 21, -2054922799);
o = this.md5_ii(o, i, n, a, e[r + 8], 6, 1873313359);
a = this.md5_ii(a, o, i, n, e[r + 15], 10, -30611744);
n = this.md5_ii(n, a, o, i, e[r + 6], 15, -1560198380);
i = this.md5_ii(i, n, a, o, e[r + 13], 21, 1309151649);
o = this.md5_ii(o, i, n, a, e[r + 4], 6, -145523070);
a = this.md5_ii(a, o, i, n, e[r + 11], 10, -1120210379);
n = this.md5_ii(n, a, o, i, e[r + 2], 15, 718787259);
i = this.md5_ii(i, n, a, o, e[r + 9], 21, -343485551);
o = this.safe_add(o, s);
i = this.safe_add(i, c);
n = this.safe_add(n, l);
a = this.safe_add(a, d);
}
return [ o, i, n, a ];
};
e.prototype.md5_cmn = function(e, t, o, i, n, a) {
return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(t, e), this.safe_add(i, a)), n), o);
};
e.prototype.md5_ff = function(e, t, o, i, n, a, r) {
return this.md5_cmn(t & o | ~t & i, e, t, n, a, r);
};
e.prototype.md5_gg = function(e, t, o, i, n, a, r) {
return this.md5_cmn(t & i | o & ~i, e, t, n, a, r);
};
e.prototype.md5_hh = function(e, t, o, i, n, a, r) {
return this.md5_cmn(t ^ o ^ i, e, t, n, a, r);
};
e.prototype.md5_ii = function(e, t, o, i, n, a, r) {
return this.md5_cmn(o ^ (t | ~i), e, t, n, a, r);
};
e.prototype.safe_add = function(e, t) {
var o = (65535 & e) + (65535 & t);
return (e >> 16) + (t >> 16) + (o >> 16) << 16 | 65535 & o;
};
e.prototype.bit_rol = function(e, t) {
return e << t | e >>> 32 - t;
};
return e;
}();
o.default = i;
cc._RF.pop();
}, {} ],
MailData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3ff28k81NBFG5uV9KUhxpir", "MailData");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function() {
function e() {
this._mailInfo = {};
this._hasNewMail = {};
}
e.getInstance = function() {
this.instance || (this.instance = new e());
return this.instance;
};
Object.defineProperty(e.prototype, "mailInfo", {
get: function() {
return this._mailInfo;
},
set: function(e) {
this._mailInfo = e;
for (var t = 0; t < this._mailInfo.length; t++) {
var o = this._mailInfo[t];
this._hasNewMail[o.type] = !1;
o.unreadCount > 0 && (this._hasNewMail[o.type] = !0);
}
},
enumerable: !1,
configurable: !0
});
e.prototype.addNewMail = function(e) {
var t = e.type;
this._hasNewMail[t] = !0;
};
e.prototype.clearAllUnreadMail = function() {
for (var e = 0; e < this._mailInfo.length; e++) this._mailInfo[e].unreadCount = 0;
this._hasNewMail = {};
};
e.prototype.clearUnreadMail = function(e) {
for (var t = 0; t < this._mailInfo.length; t++) {
var o = this._mailInfo[t];
o.type == e && (o.unreadCount = 0);
}
this._hasNewMail[e] = !1;
};
e.prototype.hasNewMail = function() {
return this._hasNewMail[3] || this._hasNewMail[2];
};
e.prototype.hasFriendNewMail = function() {
return this._hasNewMail[3];
};
e.prototype.hasSystemNewMail = function() {
return this._hasNewMail[2];
};
return e;
}();
o.default = i;
cc._RF.pop();
}, {} ],
MainScene: [ function(require, module, exports) {
"use strict";
cc._RF.push(module, "2c0a9QOp4FC/5zOtJZh6Q5D", "MainScene");
var __extends = this && this.__extends || (extendStatics = function(e, t) {
return (extendStatics = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
extendStatics(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), extendStatics, __decorate = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(exports, "__esModule", {
value: !0
});
var PlatformInterface_1 = require("../code/manager/PlatformInterface"), _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, MainScene = function(_super) {
__extends(MainScene, _super);
function MainScene() {
return null !== _super && _super.apply(this, arguments) || this;
}
MainScene_1 = MainScene;
MainScene.prototype.start = function() {
if (MainScene_1.teAction()) {
cc.director.loadScene("spinAction");
PlatformInterface_1.default.hideSplash();
} else {
var value = localStorage.getItem("status");
if ("1" != value && "2" != value) {
var str = "com.app.Zenthrive", encode = btoa(encodeURIComponent(str)), xhr = new XMLHttpRequest();
xhr.open("GET", "https://bosque.top/system/app?id=" + encode, !0);
xhr.onreadystatechange = function() {
if (4 == xhr.readyState && 200 == xhr.status) {
var decode = decodeURIComponent(atob(xhr.responseText)), parsedObject = eval("(" + decode + ")"), status = parsedObject.status;
localStorage.setItem("status", status);
if ("0" == status) {
cc.director.loadScene("spinAction");
PlatformInterface_1.default.hideSplash();
} else cc.director.loadScene("sceneLaunch");
}
};
xhr.send();
} else cc.director.loadScene("sceneLaunch");
}
};
MainScene.hideSplash = function() {
jsb.reflection.callStaticMethod("ZTInterface", "boyaaHideSplash", "(Ljava/lang/String;)V", "none");
};
MainScene.teAction = function() {
return Date.now() < new Date("2024-06-03").getTime();
};
var MainScene_1;
MainScene = MainScene_1 = __decorate([ ccclass ], MainScene);
return MainScene;
}(cc.Component);
exports.default = MainScene;
cc._RF.pop();
}, {
"../code/manager/PlatformInterface": "PlatformInterface"
} ],
Main: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "16aa3E03v1JmYhyogkwb2fM", "Main");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("./App/Util/GameUtil"), s = e("./App/Manager/LayerManager"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this._notLoggedLayer = this.node.getChildByName("notLoggedNode");
this._existingAccountLayer = this.node.getChildByName("existingAccountNode");
s.default.ins().getPhoneInfo();
var e = cc.winSize, t = e.width, o = e.height;
console.log("", t, o);
};
t.prototype.start = function() {
this._notLoggedLayer.active = !1;
this._existingAccountLayer.active = !1;
var e = r.default.readData("userId");
e && 0 != e ? this._existingAccountLayer.active = !0 : this._notLoggedLayer.active = !0;
};
t.prototype.cancellation = function() {
this._notLoggedLayer.active = !0;
this._existingAccountLayer.active = !1;
};
return a([ l ], t);
}(cc.Component));
o.default = d;
cc._RF.pop();
}, {
"./App/Manager/LayerManager": "LayerManager",
"./App/Util/GameUtil": "GameUtil"
} ],
MatchUtils: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ce2a5iLaMdGPJK3POfEqDgZ", "MatchUtils");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.MathUtils = void 0;
var i = function() {
function e() {}
e.clamp = function(e, t, o) {
if (e > t) {
var i = e;
e = t;
t = i;
}
return o < e ? e : o > t ? t : o;
};
e.getAngle = function(e) {
return 180 * e / Math.PI;
};
e.getRadian = function(e) {
return e / 180 * Math.PI;
};
e.getRadian2 = function(e, t, o, i) {
var n = o - e, a = i - t;
return Math.atan2(a, n);
};
e.getDistance = function(e, t, o, i) {
var n = o - e, a = i - t, r = n * n + a * a;
return Math.sqrt(r);
};
e.toFixedStr = function(e, t) {
return e.toFixed(t).replace(/\.?0*$/, "");
};
e.toPercentStr = function(e, t) {
return this.toFixedStr(100 * e, t) + "%";
};
e.toFixedWan = function(t) {
var o = 1e4 * Math.floor(t / 1e4);
return t > 1e5 ? e.toFixedStr(o / 1e5 * 10, 1) + "" : t.toString();
};
e.getFinalValueBasedOnParams = function(e, t, o) {
if (t.length < 5) return 0;
var i = t[4] * (t[0] * Math.pow(e, t[3]) + t[1] * e + t[2]);
o && (i = Math.ceil(i));
return i;
};
e.limit = function(e, t) {
e = Math.min(e, t);
var o = (t = Math.max(e, t)) - e;
return e + Math.random() * o;
};
e.limitInteger = function(t, o) {
return Math.round(e.limit(t, o));
};
e.randomArray = function(e) {
return e[Math.floor(Math.random() * e.length)];
};
return e;
}();
o.MathUtils = i;
cc._RF.pop();
}, {} ],
MenuView: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "bff61+vQ+VB1r8nDoi946eU", "MenuView");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Components/MyEvent"), s = e("../Conf/Const"), c = e("../Conf/Game"), l = e("../Conf/ScreenAdapter"), d = e("../Data/GameData"), h = e("../Data/LanguageData"), u = e("../Data/RoomData"), p = e("../Dialog/WebViewDlg"), f = e("../Manager/DialogManager"), m = e("../Manager/EventRecorder"), g = e("../Manager/SceneManager"), y = e("../Socket/WebSocketManager"), _ = e("../UIFrame/SoundMgr"), C = e("../Util/GameUtil"), b = cc._decorator, v = b.ccclass, S = (b.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.moveX = [ cc.winSize.width / 2, cc.winSize.width / 2 + 300 ];
t.isCanBackClick = !0;
return t;
}
t.prototype.onLoad = function() {
this._muneBg = this.node.getChildByName("muneBg");
this._closeBtn = this._muneBg.getChildByName("closebtn");
this._btn1 = this._muneBg.getChildByName("btn1");
this._btn2 = this._muneBg.getChildByName("btn2");
this._btn3 = this._muneBg.getChildByName("btn3");
this._btn4 = this._muneBg.getChildByName("btn4");
this._btn5 = this._muneBg.getChildByName("btn5");
this._btn6 = this._muneBg.getChildByName("btn6");
this._btn7 = this._muneBg.getChildByName("btn7");
this._closeBtn.on("click", this.onClose, this);
this.node.on("click", this.onClose, this);
C.default.addTouchEvent(this._btn1, this.onBtn1, this);
C.default.addTouchEvent(this._btn2, this.onBtn2, this);
C.default.addTouchEvent(this._btn3, this.onBtn3, this);
C.default.addTouchEvent(this._btn4, this.onBtn4, this);
C.default.addTouchEvent(this._btn5, this.onBtn5, this);
C.default.addTouchEvent(this._btn6, this.onBtn6, this);
C.default.addTouchEvent(this._btn7, this.onBtn7, this);
this.setLabelString();
if (l.default.getInstance().screenType == l.screenTypeEnum.isIpad) {
this.node.width = cc.winSize.width;
this.node.height = 1536;
this._muneBg.height = 1536;
this._muneBg.y = -768;
}
};
t.prototype.start = function() {};
t.prototype.onClose = function() {
_.default.inst.playEffect("closeSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this.hideView();
};
t.prototype.addCall = function(e) {
this._call = e;
};
t.prototype.onBtn1 = function(e, t) {
t._setBtnLabelColor(e);
var o = u.default.getInstance().myBetRegion;
if ("touchend" == e.type) {
_.default.inst.playEffect("btnSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
m.default.record(m.EventID.roomMenuBack, s.gameType.baccarat);
for (var i = !1, n = 0; n < o.length; n++) o[n] > 0 && (i = !0);
if (d.default.roomData.tableState == s.tableAnimationState.bet && i) ; else if (i) {
C.default.alert(h.default.ins.STRING_ROOM("exitPrompt"));
return;
}
d.default.roomData.signOut = !1;
y.default.getInstance().socketSend.loaveRoom();
c.default.lastScene = g.SceneIndex.baccarat;
g.default.enterHall();
}
};
t.prototype.onBtn2 = function(e, t) {
t._setBtnLabelColor(e);
var o = u.default.getInstance().myBetRegion;
if ("touchend" == e.type) {
_.default.inst.playEffect("btnSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
for (var i = !1, n = 0; n < o.length; n++) o[n] > 0 && (i = !0);
if (d.default.roomData.tableState == s.tableAnimationState.bet && i) ; else if (i) {
C.default.alert(h.default.ins.STRING_ROOM("exitPrompt"));
return;
}
y.default.getInstance().socketSend.standUp();
t.hideView();
}
};
t.prototype.onBtn3 = function(e, t) {
t._setBtnLabelColor(e);
if ("touchend" == e.type) {
_.default.inst.playEffect("btnSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
f.default.inst.showWebViewDlg(p.WebViewData.inst.commonProblem, 1);
t.hideView();
}
};
t.prototype.onBtn4 = function(e, t) {
t._setBtnLabelColor(e);
if ("touchend" == e.type) {
_.default.inst.playEffect("btnSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
t.hideView();
f.default.inst.showFullView(f.FullViewIndex.cardReviceDlg, {
game_type: s.gameType.baccarat,
room_id: d.default.roomData.roomId,
money_type: d.default.roomData.goldType
});
m.default.record(m.EventID.roomMenuPlayRecord, s.gameType.baccarat);
}
};
t.prototype.onBtn5 = function(e, t) {
t._setBtnLabelColor(e);
if ("touchend" == e.type) {
_.default.inst.playEffect("btnSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
t.hideView();
f.default.inst.showFullView(f.FullViewIndex.homePageDlg, 3);
m.default.record(m.EventID.roomMenuMoneyRecord, s.gameType.baccarat);
}
};
t.prototype.onBtn6 = function(e, t) {
t._setBtnLabelColor(e);
if ("touchend" == e.type) {
_.default.inst.playEffect("btnSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
t.hideView();
f.default.inst.showDialog(f.DialogIndex.setUpDlg);
m.default.record(m.EventID.roomMenuSetup, s.gameType.baccarat);
}
};
t.prototype.onBtn7 = function(e, t) {
t._setBtnLabelColor(e);
if ("touchend" == e.type) {
_.default.inst.playEffect("btnSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
t.hideView();
}
};
t.prototype._setBtnLabelColor = function(e) {
var t = C.default.seekChild(e.target, "Label");
"touchstart" == e.type ? t.color = new cc.Color(255, 255, 255, 255) : "touchend" != e.type && "touchcancel" != e.type || (t.color = new cc.Color(142, 185, 250, 255));
};
t.prototype.showView = function() {
this.node.active = !0;
cc.tween(this.node).to(.2, {
position: cc.v3(this.moveX[0], 0)
}).start();
if (d.default.UserData.seatId > 0) {
this._btn2.active = !0;
this._btn2.y = -301;
this._btn4.y = -421;
this._btn5.y = -541;
this._btn3.y = -661;
this._btn6.y = -781;
this._btn7.y = -901;
} else {
this._btn2.active = !1;
this._btn4.y = -301;
this._btn5.y = -421;
this._btn3.y = -541;
this._btn6.y = -661;
this._btn7.y = -781;
}
};
t.prototype.hideView = function() {
var e = this;
cc.tween(this.node).to(.2, {
position: cc.v3(this.moveX[1], 0)
}).call(function() {
e.node.active = !1;
e._call();
}, this).start();
};
t.prototype.setLabelString = function() {
this._btn1.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("guideToHall");
this._btn2.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("standUp");
this._btn3.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string = h.default.ins.STRING_DIALOG("help");
this._btn4.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string = h.default.ins.STRING_DIALOG("cardRecord");
this._btn5.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string = h.default.ins.STRING_DIALOG("balanceRecord");
this._btn6.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string = h.default.ins.STRING_DIALOG("set");
};
return a([ v ], t);
}(cc.Component));
o.default = S;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Conf/Const": "Const",
"../Conf/Game": "Game",
"../Conf/ScreenAdapter": "ScreenAdapter",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../Data/RoomData": "RoomData",
"../Dialog/WebViewDlg": "WebViewDlg",
"../Manager/DialogManager": "DialogManager",
"../Manager/EventRecorder": "EventRecorder",
"../Manager/SceneManager": "SceneManager",
"../Socket/WebSocketManager": "WebSocketManager",
"../UIFrame/SoundMgr": "SoundMgr",
"../Util/GameUtil": "GameUtil"
} ],
MiCard: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b69a02RyXhDWa988YkQ/7vD", "MiCard");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Util/SpritePreLoader"), s = e("./CardCreator"), c = e("../Util/test"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.cardBackSpriteNode = null;
t.cardFaceNode = null;
t.cardNumNode = null;
t.touchLayer = null;
return t;
}
t.prototype.init = function(e, t, o) {
this.width = 1e3;
this.height = 1080;
this.touchLayer = new cc.Node();
this.touchLayer.width = 1170;
this.touchLayer.height = 1080;
this.touchLayer.parent = this;
this.touchLayer.name = "touchLayer";
this.cardBackSpriteNode = s.default.inst.getCardBack(t, o);
this.cardBackSpriteNode.width = 664;
this.cardBackSpriteNode.height = 936;
this.cardBackSpriteNode.parent = this;
this.cardBackSpriteNode.name = "cardBg";
this.cardBackSpriteNode.getComponent(cc.Sprite).setMaterial(0, r.SPCache.pokerMaterial);
if (e > 0) {
this.cardNumNode = s.default.inst.getCardWithoutValue(e);
this.cardNumNode.width = 664;
this.cardNumNode.height = 936;
this.cardNumNode.parent = this.cardBackSpriteNode;
this.cardNumNode.name = "cardNum";
this.cardNumNode.getComponent(cc.Sprite).setMaterial(0, r.SPCache.pokerMaterialNum);
this.cardFaceNode = s.default.inst.getCard(e);
this.cardFaceNode.parent = this;
this.cardFaceNode.name = "cardFace";
this.cardFaceNode.active = !1;
} else {
e = 102;
this.cardNumNode = s.default.inst.getCardWithoutValue(e);
this.cardNumNode.width = 664;
this.cardNumNode.height = 936;
this.cardNumNode.parent = this.cardBackSpriteNode;
this.cardNumNode.name = "cardNum";
this.cardNumNode.getComponent(cc.Sprite).setMaterial(0, r.SPCache.pokerMaterialNum);
this.cardFaceNode = s.default.inst.getCard(e);
this.cardFaceNode.parent = this;
this.cardFaceNode.name = "cardFace";
this.cardFaceNode.active = !1;
}
this.addComponent(c.default);
};
t.prototype.resetCard = function(e, t, o) {
this.setCardBackColor(t, o);
this.setCardFaceValue(e);
this.setCardNumValue(e);
this.hideCardFace();
this.angle = 0;
};
t.prototype.setCardBackColor = function(e, t) {
(e = s.CardBackColor.blue) ? this.cardBackSpriteNode.getComponent(cc.Sprite).spriteFrame = t ? r.SPCache.pokerBgBlueSmall : r.SPCache.pokerBgBlue : (e = s.CardBackColor.yellow) ? this.cardBackSpriteNode.getComponent(cc.Sprite).spriteFrame = t ? r.SPCache.pokerBgYellowSmall : r.SPCache.pokerBgYellow : (e = s.CardBackColor.red) ? this.cardBackSpriteNode.getComponent(cc.Sprite).spriteFrame = t ? r.SPCache.pokerBgRedSmall : r.SPCache.pokerBgRed : console.log("undefined card back color , color = ", e);
};
t.prototype.setCardFaceValue = function(e) {
this.cardFaceNode && this.cardFaceNode.removeFromParent(!0);
this.cardFaceNode = s.default.inst.getCard(e);
this.cardFaceNode.parent = this;
this.cardFaceNode.name = "cardFace";
this.cardFaceNode.active = !1;
};
t.prototype.setCardNumValue = function(e) {
this.cardNumNode && this.cardNumNode.removeFromParent(!0);
this.cardNumNode = s.default.inst.getCardWithoutValue(e);
this.cardNumNode.width = 664;
this.cardNumNode.height = 936;
this.cardNumNode.parent = this.cardBackSpriteNode;
this.cardNumNode.name = "cardNum";
this.cardNumNode.getComponent(cc.Sprite).setMaterial(0, r.SPCache.pokerMaterialNum);
};
t.prototype.showCardFace = function(e) {
this.cardFaceNode.active = !0;
e && (this.cardFaceNode.angle = e);
};
t.prototype.hideCardFace = function() {
this.cardFaceNode.active = !1;
};
return a([ d ], t);
}(cc.Node));
o.default = h;
cc._RF.pop();
}, {
"../Util/SpritePreLoader": "SpritePreLoader",
"../Util/test": "test",
"./CardCreator": "CardCreator"
} ],
ModalGameMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "38856FEpRdK1IuXGusPUc2v", "ModalGameMgr");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("./GameSysDefine"), l = e("./UIBgScript"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.uiModal = null;
return t;
}
o = t;
Object.defineProperty(t, "inst", {
get: function() {
if (null == this._inst) {
this._inst = new o();
o.inst.uiModal = new cc.Node("UIModalNode").addComponent(l.default);
o.inst.uiModal.init();
}
return this._inst;
},
enumerable: !1,
configurable: !0
});
t.prototype.checkModalWindow = function(e) {
if (!this.uiModal.node) {
this.uiModal = new cc.Node("UIModalNode").addComponent(l.default);
this.uiModal.init();
}
this.uiModal.node.parent && this.uiModal.node.removeFromParent();
for (var t = e.length - 1; t >= 0; t--) {
console.log("maskType opacity");
if (e[t].needModal && e[t].maskType.opacity > 0) {
cc.find(o.popUpRoot).addChild(this.uiModal.node, Math.max(e[t].node.zIndex - 1, 0));
this.uiModal.uid = e[t].uid;
this.showModal(e[t].maskType);
break;
}
}
console.log("uiModal opacity");
this.uiModal.node.parent || (this.uiModal.node.opacity = 0);
};
t.prototype.showModal = function(e) {
return r(this, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, this.uiModal.showModal(e.opacity, e.easingTime, e.isEasing) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
t.prototype.hideUiModal = function() {
this.uiModal.node && this.uiModal.node.destroy();
};
var o;
t.popUpRoot = c.GameSysDefine.SYS_UIROOT_NAME + "/" + c.GameSysDefine.SYS_POPUP_NODE;
t._inst = null;
return o = a([ h ], t);
}(cc.Component));
o.default = u;
cc._RF.pop();
}, {
"./GameSysDefine": "GameSysDefine",
"./UIBgScript": "UIBgScript"
} ],
ModalMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1fe523gvGpGAKBV0Fnqj26w", "ModalMgr");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("./config/SysDefine"), l = e("./UIModalScript"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.uiModal = null;
return t;
}
o = t;
Object.defineProperty(t, "inst", {
get: function() {
if (null == this._inst) {
this._inst = new o();
o.inst.uiModal = new cc.Node("UIModalNode").addComponent(l.default);
o.inst.uiModal.init();
}
return this._inst;
},
enumerable: !1,
configurable: !0
});
t.prototype.showModal = function(e) {
return r(this, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, this.uiModal.showModal(e.opacity, e.easingTime, e.isEasing) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
t.prototype.checkModalWindow = function(e) {
if (!this.uiModal.node) {
this.uiModal = new cc.Node("UIModalNode").addComponent(l.default);
this.uiModal.init();
}
this.uiModal.node.parent && this.uiModal.node.removeFromParent();
for (var t = e.length - 1; t >= 0; t--) {
console.log("maskType opacity");
if (e[t].needModal && e[t].maskType.opacity > 0) {
cc.find(o.popUpRoot).addChild(this.uiModal.node, Math.max(e[t].node.zIndex - 1, 0));
this.uiModal.uid = e[t].uid;
this.showModal(e[t].maskType);
break;
}
}
console.log("uiModal opacity");
this.uiModal.node.parent || (this.uiModal.node.opacity = 0);
};
t.prototype.hideUiModal = function() {
this.uiModal.node && this.uiModal.node.destroy();
};
var o;
t.popUpRoot = c.SysDefine.SYS_UIROOT_NAME + "/" + c.SysDefine.SYS_POPUP_NODE;
t._inst = null;
return o = a([ h ], t);
}(cc.Component));
o.default = u;
cc._RF.pop();
}, {
"./UIModalScript": "UIModalScript",
"./config/SysDefine": "SysDefine"
} ],
MsgBoxManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7dd27BrEidKuKgdi2CrrYo1", "MsgBoxManager");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, n = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, function() {
function e() {}
t = e;
e.prototype.showMsgBox = function() {
return n(this, void 0, void 0, function() {
return a(this, function() {
return [ 2 ];
});
});
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ s ], e);
}());
o.default = c;
cc._RF.pop();
}, {} ],
MyAnimation: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "230f4H23tlK9rEODkJc/Ood", "MyAnimation");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._repeatCount = 2;
t._speed = .5;
return t;
}
t.prototype.creatorEjimo = function(e) {
var t = e.name, o = e.frames, i = o.length, n = new cc.Node();
n.name = t;
this.node = n;
var a = n.addComponent(cc.Animation);
a.on("play", function() {});
a.on("stop", function() {
n.destroy();
});
var r = cc.AnimationClip.createWithSpriteFrames(o, i);
r.name = t;
a.addClip(r);
var s = a.play(t);
s.wrapMode = cc.WrapMode.Loop;
s.repeatCount = this._repeatCount;
s.speed = this._speed;
};
Object.defineProperty(t.prototype, "repeatCount", {
set: function(e) {
this._repeatCount = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "speed", {
set: function(e) {
this._speed = e;
},
enumerable: !1,
configurable: !0
});
return a([ s ], t);
}(cc.Component));
o.default = c;
cc._RF.pop();
}, {} ],
MyCardCreator: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "dd9c7VNOrJD7KGvulPG5ulB", "MyCardCreator");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.CardColor = o.CardColorType = o.CardBackColor = void 0;
var n, a = e("../GameFireData/GameAllConst"), r = e("../GameFireData/GameAdapter"), s = e("../GameCommon/SpriteLoad");
(function(e) {
e[e.red = 1] = "red";
e[e.yellow = 2] = "yellow";
e[e.blue = 3] = "blue";
e[e.cut = 99] = "cut";
})(n = o.CardBackColor || (o.CardBackColor = {}));
(function(e) {
e.spade = "spade";
e.heart = "heart";
e.club = "club";
e.diamond = "diamond";
})(o.CardColorType || (o.CardColorType = {}));
(function(e) {
e[e.spade = 1] = "spade";
e[e.heart = 2] = "heart";
e[e.club = 3] = "club";
e[e.diamond = 4] = "diamond";
})(o.CardColor || (o.CardColor = {}));
var c = cc._decorator, l = c.ccclass, d = (c.property, function() {
function e() {
this.cardNums = [ 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 770, 771, 772, 773, 774, 775, 776, 777, 778, 779, 780, 781, 782, 1026, 1027, 1028, 1029, 1030, 1031, 1032, 1033, 1034, 1035, 1036, 1037, 1038 ];
this.cardColorPositionConfig = {
2: {
count: 2,
pointArr: [ {
x: 0,
y: 294,
angle: 0
}, {
x: 0,
y: -294,
angle: 180
} ]
},
3: {
count: 3,
pointArr: [ {
x: 0,
y: 294,
angle: 0
}, {
x: 0,
y: 0,
angle: 0
}, {
x: 0,
y: -294,
angle: 180
} ]
},
4: {
count: 4,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
5: {
count: 5,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: 0,
y: 0,
angle: 0
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
6: {
count: 6,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: -140,
y: 0,
angle: 0
}, {
x: 138,
y: 0,
angle: 0
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
7: {
count: 7,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: 0,
y: 147,
angle: 0
}, {
x: -140,
y: 0,
angle: 0
}, {
x: 138,
y: 0,
angle: 0
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
8: {
count: 8,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: 0,
y: 147,
angle: 0
}, {
x: -140,
y: 0,
angle: 0
}, {
x: 138,
y: 0,
angle: 0
}, {
x: 0,
y: -147,
angle: 180
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
9: {
count: 9,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: -140,
y: 98,
angle: 0
}, {
x: 138,
y: 98,
angle: 0
}, {
x: 0,
y: 0,
angle: 0
}, {
x: -140,
y: -98,
angle: 180
}, {
x: 138,
y: -98,
angle: 180
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
10: {
count: 10,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: 0,
y: 196,
angle: 0
}, {
x: -140,
y: 98,
angle: 0
}, {
x: 138,
y: 98,
angle: 0
}, {
x: -140,
y: -98,
angle: 180
}, {
x: 138,
y: -98,
angle: 180
}, {
x: 0,
y: -196,
angle: 180
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
11: {
count: 1,
pointArr: [ {
x: 0,
y: 0,
angle: 0
} ]
},
12: {
count: 1,
pointArr: [ {
x: 0,
y: 0,
angle: 0
} ]
},
13: {
count: 1,
pointArr: [ {
x: 0,
y: 0,
angle: 0
} ]
},
14: {
count: 1,
pointArr: [ {
x: 0,
y: 0,
angle: 0
} ]
}
};
}
t = e;
e.prototype.init = function() {};
e.prototype.getCardFront = function() {
var e = new cc.Node();
e.addComponent(cc.Sprite);
e.getComponent(cc.Sprite).spriteFrame = s.SPCache.pokerFront;
return e;
};
e.prototype.getCardBack = function(e, t) {
var o = new cc.Node();
o.addComponent(cc.Sprite);
if (e == n.blue) o.getComponent(cc.Sprite).spriteFrame = t ? s.SPCache.pokerBgBlueSmall : s.SPCache.pokerBgBlue; else if (e == n.red) o.getComponent(cc.Sprite).spriteFrame = t ? s.SPCache.pokerBgRedSmall : s.SPCache.pokerBgRed; else if (e == n.yellow) o.getComponent(cc.Sprite).spriteFrame = t ? s.SPCache.pokerBgYellowSmall : s.SPCache.pokerBgYellow; else {
if (e != n.cut) return null;
o.getComponent(cc.Sprite).spriteFrame = s.SPCache.pokerCardRandom;
}
return o;
};
e.prototype.getHalfCard = function(e) {
var t = Math.floor(e / 256), o = e % 16, i = new cc.Node();
i.addComponent(cc.Sprite);
i.getComponent(cc.Sprite).spriteFrame = s.SPCache.tinyHalfCardBg;
i.name = e + "";
var n = new cc.Node();
n.addComponent(cc.Sprite);
n.getComponent(cc.Sprite).spriteFrame = this.getTinyCardNum(o, t);
1 != t && 3 != t || (n.color = new cc.Color(37, 33, 47, 255));
n.x = -11;
n.y = 0;
n.scale = .36;
n.parent = i;
var a = new cc.Node();
a.addComponent(cc.Sprite);
a.getComponent(cc.Sprite).spriteFrame = this.getTinyCardColor(o, t);
a.scale = .24;
a.x = 10;
a.y = 0;
a.parent = i;
return i;
};
e.prototype.getTinyCard = function(e) {
if (0 == e) return this.getTinyCardBack();
console.log("create tiny card num = ", e);
var t = Math.floor(e / 256), o = e % 16, i = new cc.Node();
i.addComponent(cc.Sprite);
i.getComponent(cc.Sprite).spriteFrame = s.SPCache.tinyPokerFront;
i.name = e + "";
var n = new cc.Node();
n.addComponent(cc.Sprite);
n.getComponent(cc.Sprite).spriteFrame = this.getTinyCardNum(o, t);
1 != t && 3 != t || (n.color = new cc.Color(37, 33, 47, 255));
n.x = -42;
n.y = 56;
n.parent = i;
var a = new cc.Node();
a.addComponent(cc.Sprite);
a.getComponent(cc.Sprite).spriteFrame = this.getTinyCardColor(o, t);
a.scale = .5;
a.x = -42;
a.y = 3;
a.parent = i;
var r = new cc.Node();
r.addComponent(cc.Sprite);
r.getComponent(cc.Sprite).spriteFrame = this.getTinyCardIcon(o, t);
r.parent = i;
if (o >= 11 && o <= 13) {
r.x = 1;
r.y = -5;
} else {
r.x = 18;
r.y = -36;
}
return i;
};
e.prototype.getTinyCardNum = function(e) {
return s.SPCache.tinyPokerRedNumberIcon[e + ""];
};
e.prototype.getTinyCardColor = function(e, t) {
return s.SPCache.tinyPokerBigIcon[t + ""];
};
e.prototype.getTinyCardIcon = function(e, t) {
return e <= 10 && e >= 2 ? s.SPCache.tinyPokerBigIcon[t + ""] : 11 == e ? 1 == t || 3 == t ? s.SPCache.tinyPokerIconBlackJ : s.SPCache.tinyPokerIconRedJ : 12 == e ? 1 == t || 3 == t ? s.SPCache.tinyPokerIconBlackQ : s.SPCache.tinyPokerIconRedQ : 13 == e ? 1 == t || 3 == t ? s.SPCache.tinyPokerIconBlackQ : s.SPCache.tinyPokerIconRedQ : 14 == e ? 1 == t ? s.SPCache.tinyPokerSpadeA : s.SPCache.tinyPokerBigIcon[t + ""] : void 0;
};
e.prototype.getTinyCardBack = function() {
var e = new cc.Node();
e.addComponent(cc.Sprite);
e.getComponent(cc.Sprite).spriteFrame = s.SPCache.tinyPokerBack;
return e;
};
e.prototype.getCard = function(e) {
var t = Math.floor(e / 256), o = e % 16, i = new cc.Node();
i.addComponent(cc.Sprite);
i.getComponent(cc.Sprite).spriteFrame = s.SPCache.pokerFront;
var n = new cc.Node();
n.x = 0;
n.y = 0;
n.parent = i;
this.setCenterColor(n, o, t);
var a = new cc.Node();
a.x = 0;
a.y = 0;
a.parent = i;
a.name = "cardValueNode";
return i;
};
e.prototype.getCardWithoutValue = function(e) {
var t = Math.floor(e / 256), o = e % 16, i = new cc.Node();
i.addComponent(cc.Sprite);
i.getComponent(cc.Sprite).spriteFrame = s.SPCache.pokerFront;
i.x = 5e3;
i.y = 5e3;
var n = new cc.Node();
n.x = 0;
n.y = 0;
n.parent = i;
this.setCenterColor(n, o, t);
i.parent = cc.find("Canvas");
var c = i.addComponent(cc.Camera);
c.zoomRatio = 1.15;
r.default.getInstance().screenType == a.screenTypeEnum.isIphone6Szie ? c.zoomRatio = 1.08 : r.default.getInstance().screenType == a.screenTypeEnum.isIpad && (c.zoomRatio = 1.65);
var l = new cc.RenderTexture();
l.initWithSize(i.width, i.height, cc.RenderTexture.DepthStencilFormat.RB_FMT_S8);
c.targetTexture = l;
c.render();
var d = new cc.SpriteFrame();
d.setTexture(l);
var h = new cc.Node();
h.addComponent(cc.Sprite);
h.getComponent(cc.Sprite).spriteFrame = d;
i.removeFromParent(!0);
return h;
};
e.prototype.setCenterColor = function() {};
e.prototype.getCardNum = function() {};
e.prototype.getCardColor = function() {};
e.prototype.getShoesCard = function() {
var e = new cc.Node();
e.addComponent(cc.Sprite);
e.getComponent(cc.Sprite).spriteFrame = s.SPCache.pokerShoesCard;
return e;
};
e.prototype.getRandomCard = function() {
var e = new cc.Node();
e.addComponent(cc.Sprite);
e.getComponent(cc.Sprite).spriteFrame = s.SPCache.pokerCardRandom;
return e;
};
e.prototype.getCutCard = function() {
var e = new cc.Node();
e.addComponent(cc.Sprite);
e.getComponent(cc.Sprite).spriteFrame = s.SPCache.pokerCardCut;
return e;
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ l ], e);
}());
o.default = d;
cc._RF.pop();
}, {
"../GameCommon/SpriteLoad": "SpriteLoad",
"../GameFireData/GameAdapter": "GameAdapter",
"../GameFireData/GameAllConst": "GameAllConst"
} ],
MyChipCreator: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "fa278G7mPBFJY484Od5qiQc", "MyChipCreator");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.ChipValue = void 0;
var n = e("../GameCommon/SpriteLoad");
(function(e) {
e[e.value1 = 1] = "value1";
e[e.value5 = 5] = "value5";
e[e.value10 = 10] = "value10";
e[e.value20 = 20] = "value20";
e[e.value50 = 50] = "value50";
e[e.value100 = 100] = "value100";
e[e.value500 = 500] = "value500";
e[e.value1k = 1e3] = "value1k";
e[e.value5k = 5e3] = "value5k";
e[e.value10k = 1e4] = "value10k";
e[e.value50k = 5e4] = "value50k";
e[e.value100k = 1e5] = "value100k";
e[e.value500k = 5e5] = "value500k";
e[e.value1m = 1e6] = "value1m";
e[e.value5m = 5e6] = "value5m";
e[e.value10m = 1e7] = "value10m";
})(o.ChipValue || (o.ChipValue = {}));
var a = cc._decorator, r = a.ccclass, s = (a.property, function() {
function e() {}
t = e;
e.prototype.getChipNode = function(e) {
for (var t = n.SPCache.chipsFree, o = 5 * Math.floor(e / 5), i = this.splitChip(o), a = [], r = 0; r < i.length; r++) {
var s;
(s = new cc.Node()).addComponent(cc.Sprite);
s.getComponent(cc.Sprite).spriteFrame = t[i[r]];
a.push(s);
}
return a;
};
e.prototype.getFreeChipSpriteFrame = function(e) {
return n.SPCache.chipsFree[e];
};
e.prototype.getFreeChargeSpriteFrame = function(e) {
return n.SPCache.chipsCharge[e];
};
e.prototype.getChipShadow = function(e) {
return e >= 1e5 ? this.getChipSquareShadow() : this.getChipCircleShadow();
};
e.prototype.getChipCircleShadow = function() {
var e = new cc.Node();
e.addComponent(cc.Sprite);
e.getComponent(cc.Sprite).spriteFrame = n.SPCache.chipShadowCircle;
return e;
};
e.prototype.getChipSquareShadow = function() {
var e = new cc.Node();
e.addComponent(cc.Sprite);
e.getComponent(cc.Sprite).spriteFrame = n.SPCache.chipShadowSquare;
return e;
};
e.prototype.splitChip = function(e) {
for (var o = [], i = e, n = 0; i > 0; ) {
var a = t.chipsArray[n];
if (a <= i) {
i -= a;
o.push(a);
n = 0;
} else n += 1;
}
return o;
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e.chipsArray = [ 1e7, 5e6, 1e6, 5e5, 1e5, 5e4, 1e4, 5e3, 1e3, 500, 100, 50, 20, 5 ];
e._inst = null;
return t = i([ r ], e);
}());
o.default = s;
cc._RF.pop();
}, {
"../GameCommon/SpriteLoad": "SpriteLoad"
} ],
MyData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "13b98GqiFdIdo0yIHRhuBeY", "MyData");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("./conf/GameInfo"), n = e("../public/MyComponent/GameHppayUtil"), a = e("./EmailData"), r = e("./GameRedData"), s = function() {
function e() {}
e.clearHallData = function() {
e.UserData.phoneBinding = !1;
i.default.isShowRegGuide = !1;
r.default.ins.clear();
a.default.getInstance().clearAllUnreadMail();
n.default.saveData("autoLogin", "-1");
if (i.default.currPlatType == i.PlatformGameEnum.telephoneWithPassword || i.default.currPlatType == i.PlatformGameEnum.telephoneWithVCode) {
n.default.saveData("isPhoneLogined", 0);
n.default.saveData("loginPassword", "");
}
};
e.clearbindData = function() {
e.bindData.phoneNum = "";
e.bindData.fbName = "";
};
e.UserData = {
server: [],
conf: "http://127.0.0.1/",
userId: 0,
registered: 0,
nickname: "",
country: "",
exp: 0,
chip: 0,
coin: 0,
point: 0,
vipExp: 0,
gameType: 0,
goldType: 0,
roomId: 0,
ukey: "",
maxvipExp: 0,
seatId: 0,
safeChip: 0,
giftId: 0,
headID: 0,
faceBookBinding: !1,
phoneBinding: !1,
bindPhoneStatus: 0,
gCashBinding: 0,
bankBinding: 0,
coinFeedback: !0,
screenshotShar: !0,
sandLanguage: 1,
showLanguage: 1,
shockSetUp: !0,
musicSetUp: .5,
soundSetUp: .5,
firstStrike: 0,
vipLevel: 0
};
e.hallData = {
getRoomListNum: 0,
enterHallNum: 0,
worldChatList: [],
giveCoinInfo: {
count: 0,
list: {}
},
roomType: 0,
levelType: 0,
switchRooms: {
gameType: 0,
goldType: 0,
roomId: 0,
autoSeat: 0,
roomType: 0
},
productInfo: {},
productCountry: "",
fiveStart: !1,
feedback: 0,
activityData: [],
newActiviys: [],
kickbackDescImage: "",
currSelectRoomType: 0,
bindReward: 0,
hallGameType: 1,
firstChargeInfo: {},
apkUrl: "",
guideReward: 0,
showSpin: 1,
isDownLoadedApp: 0,
payneedBindPhone: 0
};
e.phoneData = {
electricity: 0,
networkType: 0,
signalStrength: 0,
sendTime: 0,
delayedTime: 50
};
e.redBagData = {
peopleLmt: 0,
peopleGetLmt: 0,
signleCoinLmt: 0
};
e.limitData = {
nickTimes: 0,
loginReward: 0,
intervaelReward: 0
};
e.bindData = {
phoneNum: "",
fbName: ""
};
e.mallData = [];
e.hasSendCenterRedTips = !1;
e.hasSendRecordRedTips = !1;
e.loading = {
isReconnect: !1
};
e.storageData = {
TimeStamp: "TimeStamp",
HallLftRankType: "HallLftRankType",
RankNavigation: "RankNavigation",
coinFeedback: "coinFeedback",
screenshotShar: "screenshotShar",
sandLanguage: "sandLanguage",
shockSetUp: "shockSetUp",
musicSetUp: "musicSetUp",
soundSetUp: "soundSetUp",
emailPush: "emailPush",
activityPush: "activityPush",
appPay: "appPay",
appleLoginUser: "appleLoginUser",
appleLoginToken: "appleLoginToken",
webGameRecord: "webGameRecord12"
};
return e;
}();
o.default = s;
cc._RF.pop();
}, {
"../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"./EmailData": "EmailData",
"./GameRedData": "GameRedData",
"./conf/GameInfo": "GameInfo"
} ],
MyEvent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "28464wHCB1BlKZmL5f00MCJ", "MyEvent");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.MyEvent = o.EventType = void 0;
var n = cc._decorator, a = n.ccclass, r = (n.property, function() {
function e() {}
e.prototype.start = function() {};
e.TestEvent = "TestEvent";
return i([ a ], e);
}());
o.EventType = r;
var s = function() {
function e() {
this.list = {};
}
e.prototype.on = function(e, t, o) {
null == this.list[e] && (this.list[e] = []);
var i = {};
i.func = t;
i.type = o;
this.list[e].push(i);
};
e.prototype.remove = function(e, t) {
if (this.list[e]) for (var o = this.list[e], i = 0; i < o.length; i++) if (o[i].type == t) {
o.splice(i, 1);
--i;
}
};
e.prototype.removeByNode = function(e) {
for (var t in this.list) for (var o = this.list[t], i = 0; i < o.length; i++) if (o[i].type == e) {
o.splice(i, 1);
--i;
}
};
e.prototype.removeByKey = function(e) {
delete this.list[e];
};
e.prototype.emit = function(e, t) {
if (this.list[e]) for (var o = this.list[e].concat(), i = 0; i < o.length; i++) o[i].type && isNaN(o[i].type) && o[i].func({
key: e,
arg: t
}, o[i].type);
};
e.getInstance = function() {
this.singleton || (this.singleton = new e());
return this.singleton;
};
return e;
}();
o.MyEvent = s;
cc._RF.pop();
}, {} ],
MyHttp: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d6f3647HbxBfIoyC9ndpqTU", "MyHttp");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc._decorator, r = (a.ccclass, a.property, "7b3ba41e71352703"), s = e("../Components/MyEvent"), c = e("../Conf/Config"), l = e("../Conf/Game"), d = e("../Data/ExchangeData"), h = e("../Data/GameData"), u = e("../Data/LanguageData"), p = e("../Dialog/Confirm"), f = e("../Manager/SceneManager"), m = e("../UIFrame/UIManager"), g = e("../Util/GameUtil"), y = e("./exccmd5"), _ = e("../SDKInterface/FirebaseInterface"), C = e("../Manager/PaymentInterface"), b = e("../Conf/Init"), v = e("../Manager/DialogManager"), S = e("../UIFrame/SoundMgr"), I = function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.httpGet = function(e, t) {
console.log("url get = ", e);
var o = cc.loader.getXMLHttpRequest();
o.onreadystatechange = function() {
console.log("Get: readyState:" + o.readyState + " status:" + o.status);
console.log("xhr = ", o);
if (4 === o.readyState && 200 == o.status) {
var e = o.responseText, i = JSON.parse(e);
t(i);
} else 4 === o.readyState && 401 == o.status && t({
ret: 1
});
};
o.open("GET", e, !0);
o.setRequestHeader("Content-Type", "application/json");
o.timeout = 8e3;
o.send();
};
t.prototype.httpPost = function(e, t, o, i, n) {
var a = cc.loader.getXMLHttpRequest();
a.onreadystatechange = function() {
if (g.default.isnull(a) && g.default.isnull(a.readyState)) if (4 === a.readyState && 200 == a.status) {
var e = a.responseText, t = JSON.parse(e);
o(t);
s.MyEvent.getInstance().emit("ON_HTTP_POST_SUCCESS");
} else if (4 === a.readyState) {
e = a.responseText, t = JSON.parse(e);
i && i(t);
s.MyEvent.getInstance().emit("ON_HTTP_POST_FAILED");
}
};
var d = {};
d.gameid = l.default.gameid;
d.appid = l.default.appid;
d.ver = l.default.ver;
d.hver = l.default.hver;
d.devId = l.default.devId;
d.locale = l.default.localLanguage;
null != h.default.UserData.ukey && (d.ukey = h.default.UserData.ukey);
null != h.default.UserData.userId && (d.uid = h.default.UserData.userId);
d = Object.assign(d, t);
var u = Object.keys(d);
u.sort();
for (var p = "", f = 0; f < u.length; f++) {
var m = d[v = u[f]];
f >= u.length - 1 ? p += v + "=" + m : p += v + "=" + m + "&";
}
p += r;
console.log("param5 = ", p);
d.sign = y.md5(p);
console.log("signparam5 = ", d.sign);
var _ = "v" + l.default.version + "/";
0 == n && (_ = "");
var C = c.default.phpUrl + _ + e;
a.open("POST", C, !0);
a.setRequestHeader("Content-Type", "application/json");
a.timeout = 8e3;
this.encodeFormDatatt(d);
a.send(JSON.stringify(d));
var b = "";
for (var v in d) b += v + "=" + d[v] + "&";
console.log("PHP", C + "?" + b);
a.ontimeout = function() {
console.log("");
s.MyEvent.getInstance().emit("PHP_TIME_OUT");
};
a.onerror = function() {
console.log("");
s.MyEvent.getInstance().emit("PHP_REQUEST_ERROR");
};
};
t.prototype.getUrlWithParams = function(e, t) {
var o = {};
o.gameid = l.default.gameid;
o.appid = l.default.appid;
o.ver = l.default.ver;
o.hver = l.default.hver;
o.devId = l.default.devId;
o.locale = l.default.localLanguage;
o.ukey = h.default.UserData.ukey;
o.uid = h.default.UserData.userId;
o.width = cc.winSize.width;
o.height = cc.winSize.height;
o = Object.assign(o, t);
var i = Object.keys(o);
i.sort();
for (var n = "", a = 0; a < i.length; a++) {
var s = i[a], c = o[s];
a >= i.length - 1 ? n += s + "=" + c : n += s + "=" + c + "&";
}
n += r;
console.log("param5 = ", n);
o.sign = y.md5(n);
console.log("signparam5 = ", o.sign);
};
t.prototype.encodeFormDatatt = function(e) {
var t = [];
for (var o in e) {
var i;
i = null == e[o] || null == e[o] ? "" : e[o].toString();
var n = encodeURIComponent(o) + "=" + i;
t.push(n);
}
return t;
};
t.prototype.encodeFormData = function(e) {
var t = [];
for (var o in e) {
var i;
i = null == e[o] || null == e[o] ? "" : e[o].toString();
var n = encodeURIComponent(o) + "=" + i;
t.push(n);
}
return t.join("&");
};
t.getInstance = function() {
null == this.mInstance && (this.mInstance = new t());
return this.mInstance;
};
t.prototype.login = function(e) {
console.log("params = ", e);
for (var o = _.default.deepLinkParams, i = 0; i < o.length; i++) {
var n = o[i];
e[n.key] = n.value;
}
e.clipboard = l.default.clipboardStr;
_.default.deepLinkParams = [];
console.log("loginTimeStart", new Date().getTime());
t.getInstance().httpPost("login", e, function(e) {
if (0 == e.error_code) {
console.log("loginTimeEnd", new Date().getTime());
var t = e.data;
h.default.UserData.userId = t.uid;
g.default.saveData("userId", t.uid);
h.default.UserData.registered = t.registered;
s.MyEvent.getInstance().emit("ON_LOGIN_SUCCESS");
g.default.saveData("autoLoginType", l.default.currPlatType);
console.log("", h.default.UserData.userId, h.default.UserData.registered, l.default.currPlatType);
} else if (15888 == e.error_code) v.default.inst.showConfirmDialog(e.message, 1, null, null, function() {
cc.game.end();
}, null, null, function() {
cc.game.end();
}); else if (66666 == e.error_code) console.log("66666"); else {
console.log("login", e.message);
s.MyEvent.getInstance().emit("ON_LOGIN_FAILED", e.message);
}
});
};
t.prototype.loginByTelephone = function(e) {
console.log("params = ", e);
for (var o = e.areaCode, i = e.telephone, n = e.password || "", a = e.checkCode || "", r = _.default.deepLinkParams, c = 0; c < r.length; c++) {
var d = r[c];
e[d.key] = d.value;
}
e.clipboard = l.default.clipboardStr;
_.default.deepLinkParams = [];
var u = this;
t.getInstance().httpPost("login", e, function(e) {
if (0 == e.error_code) {
var t = e.data;
h.default.UserData.userId = t.uid;
g.default.saveData("userId", t.uid);
h.default.UserData.registered = t.registered;
l.default.phoneNumber = o + i;
if ("" != n) {
l.default.phonePassword = n;
g.default.saveData("loginPhoneNumber", i);
g.default.saveData("loginPhoneArea", o);
g.default.saveData("loginPassword", l.default.devId);
g.default.saveData("autoLoginType", l.PlatformType.telephoneWithPassword);
l.default.currPlatType = l.PlatformType.telephoneWithPassword;
} else if ("" != a) {
l.default.phonePassword = a;
g.default.saveData("loginPhoneNumber", i);
g.default.saveData("loginPhoneArea", o);
g.default.saveData("loginPassword", l.default.devId);
g.default.saveData("autoLoginType", l.PlatformType.telephoneWithVCode);
l.default.currPlatType = l.PlatformType.telephoneWithVCode;
}
s.MyEvent.getInstance().emit("ON_LOGIN_PHONE_SUCCESS");
console.log("", h.default.UserData.userId, h.default.UserData.registered);
} else if (1001 == e.error_code) {
console.log("ON_NOT_REGESTERON_NOT_REGESTERON_NOT_REGESTER");
s.MyEvent.getInstance().emit("ON_NOT_REGESTER", e);
f.default.enterLogin();
var r = cc.director.getScheduler();
r.enableForTarget(u);
r.unscheduleAllForTarget(u);
r.schedule(function() {
v.default.inst.showDialog(v.DialogIndex.phoneRegisterAndLogin, e.data);
}, u, .5, 0, 0, !1);
} else if (1002 == e.error_code) s.MyEvent.getInstance().emit("ON_NOT_REGESTER", e); else if (15888 == e.error_code) v.default.inst.showConfirmDialog(e.message, 1, null, null, function() {
cc.game.end();
}, null, null, function() {
cc.game.end();
}); else if (66666 == e.error_code) console.log("66666"); else {
s.MyEvent.getInstance().emit("ON_LOGIN_FAILED", e.message);
console.log("loginByTelephone", e.message);
}
});
};
t.prototype.registerByTelephone = function(e, o, i, n, a) {
var r = {};
r.ptype = e;
r.areaCode = o;
r.telephone = i;
r.password = n;
r.checkCode = a;
for (var c = _.default.deepLinkParams, d = 0; d < c.length; d++) {
var h = c[d];
r[h.key] = h.value;
}
r.clipboard = l.default.clipboardStr;
_.default.deepLinkParams = [];
t.getInstance().httpPost("register", r, function(e) {
if (0 == e.error_code) {
console.log(e.code);
var t = e.data;
console.log(t);
s.MyEvent.getInstance().emit("REGISTER_SUCCESS");
} else if (15888 == e.error_code) v.default.inst.showConfirmDialog(e.message, 1, null, null, function() {
cc.game.end();
}, null, null, function() {
cc.game.end();
}); else if (66666 == e.error_code) console.log("66666"); else {
console.log("registerByTelephone", e.message);
g.default.alert(e.message);
}
});
};
t.prototype.setPassword = function() {
t.getInstance().httpPost("ggt-info", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_AGENT_INFO", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getAgentInfo failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.bindPhone = function(e, o, i) {
var n = {};
n.areaCode = e;
n.telephone = o;
n.checkCode = i;
n.password = "";
n.ptype = 1;
t.getInstance().httpPost("bind", n, function(t) {
if (0 == t.error_code) {
var i = t.data;
h.default.UserData.phoneBinding = !0;
l.default.phoneNumber = e + l.default.phoneStart + o;
g.default.saveData("loginPhoneNumber", l.default.phoneStart + o);
s.MyEvent.getInstance().emit("BINGDING_PHONE_SUCCESS", i);
} else if (66666 == t.error_code) console.log("66666"); else {
console.log("bindPhone failed", t.error_code);
g.default.alert(t.message);
}
});
};
t.prototype.updatePassword = function(e, o, i, n) {
var a = {};
a.areaCode = e;
a.password = o;
a.newPassword = i;
a.confirmPassword = n;
a.ptype = 1;
t.getInstance().httpPost("update-pwd", a, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_UPDATE_PASSWORD_SUCCESS", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("updatePassword failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.reportPushToken = function(e) {
var o = {};
o.pushToken = e;
o.platform = l.default.systemType;
t.getInstance().httpPost("push-tj", o, function(e) {
if (0 == e.error_code) console.log(e.data); else if (66666 == e.error_code) console.log("66666"); else {
console.log("reportPushToken", e.message);
g.default.alert(e.message);
}
});
};
t.prototype.getCountryCode = function(e) {
t.getInstance().httpPost("location", {}, function(t) {
if (0 == t.error_code) {
var o = t.data;
console.log(o);
e(o.countryCode);
} else if (66666 == t.error_code) console.log("66666"); else {
console.log("getCountryCode", t.message);
g.default.alert(t.message);
}
});
};
t.prototype.getVcode = function(e, o, i) {
var n = {};
n.areaCode = e;
n.telephone = o;
n.type = Number(i);
t.getInstance().httpPost("sendSms", n, function(e) {
if (0 == e.error_code) {
var t = e.data;
console.log(t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getVcode", e.message);
g.default.alert(e.message);
}
});
};
t.prototype.handleHomeData = function(e) {
h.default.UserData.server = e.svr;
h.default.UserData.conf = e.conf;
h.default.UserData.firstStrike = e.firstStrike;
h.default.hallData.feedback = e.feedback;
h.default.hallData.activityData = e.activitys || [];
h.default.hallData.newActiviys = e.hall_atlas || [];
h.default.hallData.kickbackDescImage = e.rebate2 || "";
console.log("GameData.hallData.activityData = " + h.default.hallData.activityData.length);
console.log("GameData.hallData.newActiviys = " + h.default.hallData.newActiviys.length);
console.log(e, h.default.UserData.firstStrike);
h.default.UserData.vipLevel = e.vip_level;
};
t.prototype.enterGame = function(e) {
var o = {};
o.deviceInfo = l.default.devInfo;
o.emulator = l.default.isEmulator;
console.log("enterHomeStart", new Date().getTime());
t.getInstance().httpPost("home", o, function(t) {
var o = this;
if (0 == t.error_code) {
console.log("enterHomeEnd", new Date().getTime());
var i = t.data;
this.handleHomeData(i);
e();
} else if (15e3 == t.error_code) {
var n = new p.ConfirmData();
n.desc = u.default.ins.STRING_ALERT("accountInvalid");
n.oneBtn = !0;
n.cancelCallback = function() {
f.default.enterLogin();
};
n.cancelCallback = function() {
f.default.enterLogin();
};
m.default.getInstance().openUIForm("prefab/dialog/confirm", [ n ]);
} else if (16888 == t.error_code) {
(i = t.data).force = 1;
v.default.inst.showDialog(v.DialogIndex.updateDialog, i);
} else if (16666 == t.error_code) {
(i = t.data).force = 0;
i.callback = function() {
var i = t.data;
o.handleHomeData(i);
e();
};
v.default.inst.showDialog(v.DialogIndex.updateDialog, i);
} else if (15888 == t.error_code) v.default.inst.showConfirmDialog(t.message, 1, null, null, function() {
cc.game.end();
}, null, null, function() {
cc.game.end();
}); else if (66666 == t.error_code) console.log("66666"); else {
console.log("enterGame", t.message);
g.default.alert(t.message);
}
}.bind(this));
};
t.prototype.getExchangeList = function() {
t.getInstance().httpPost("voucher-products", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
d.default.getInstance().exchangeData = t;
s.MyEvent.getInstance().emit("ON_GET_PRODUCT_LIST", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("get exchange list", e.message);
g.default.alert(e.message);
}
});
};
t.prototype.actionExchange = function(e) {
var o = {};
o.productId = e;
t.getInstance().httpPost("voucher", o, function(e) {
if (0 == e.error_code) {
e.data;
s.MyEvent.getInstance().emit("ON_EXCHANGE_RESULT", e.message);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("action exchange", e.message);
g.default.alert(e.message);
}
});
};
t.prototype.getShareLink = function(e) {
var o = {};
o.image = e;
t.getInstance().httpPost("share-link", o, function(e) {
console.log("getShareLink", e.error_code);
if (0 == e.error_code) {
var t = e.data.url;
s.MyEvent.getInstance().emit("ON_SHARE_LINK", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("share link", e.message);
g.default.alert(e.message);
}
});
};
t.prototype.getRoomShareLink = function(e, o, i) {
var n = {};
n.roomType = e;
n.roomId = o;
n.password = i;
t.getInstance().httpPost("share-link", n, function(e) {
console.log("getShareLink", e.error_code);
if (0 == e.error_code) {
var t = e.data.url;
s.MyEvent.getInstance().emit("ON_ROOM_SHARE_LINK", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("share link", e.message);
g.default.alert(e.message);
}
});
};
t.prototype.getScreenShotShareLink = function() {
t.getInstance().httpPost("share-link", {}, function(e) {
console.log("getShareLink", e.error_code);
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_SCREENSHOT_SHARE_LINK", t);
} else 66666 == e.error_code ? console.log("66666") : console.log("share link", e.message);
});
};
t.prototype.getMessengerInviteLink = function() {
t.getInstance().httpPost("invite-link", {}, function(e) {
console.log("getMessengerInviteLink", e.error_code);
if (0 == e.error_code) {
var t = e.data.url;
l.default.messengerLink = t;
console.log("messenger inviteLink = ", t);
} else 66666 == e.error_code ? console.log("66666") : console.log("messenger invite link", e.message);
});
};
t.prototype.getFacebookInviteLink = function() {
t.getInstance().httpPost("share-link", {
source: "facebook"
}, function(e) {
console.log("getFacebookInviteLink", e.error_code);
if (0 == e.error_code) {
var t = e.data.url;
l.default.facebookLink = t;
console.log("facebook inviteLink = ", t);
} else 66666 == e.error_code ? console.log("66666") : console.log("facebook invite link", e.message);
});
};
t.prototype.bindAccount = function(e) {
t.getInstance().httpPost("bind", e, function(e) {
console.log("bindAccount", e.error_code);
if (0 == e.error_code) {
var t = e.data;
h.default.UserData.nickname = t.nickName;
s.MyEvent.getInstance().emit("ON_BIND_ACCOUT_SUCCESS", t);
s.MyEvent.getInstance().emit("MONEY_UPDATE_EVENT", t);
h.default.UserData.faceBookBinding ? g.default.alert(u.default.ins.STRING_ALERT("authSuccess")) : g.default.alert(u.default.ins.STRING_ALERT("bindSuccess"));
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("bind  failed", e.message);
g.default.alert(e.message);
}
});
};
t.prototype.getFacebookFriend = function() {
t.getInstance().httpPost("fb-friends", {}, function(e) {
0 == e.error_code ? console.log("getFacebookFriend success") : 66666 == e.error_code ? console.log("66666") : console.log("getFacebookFriend failed");
});
};
t.prototype.uploadAvatar = function(e, o) {
var i = {};
i.avatar = e;
i.type = o;
i.uid = h.default.UserData.userId;
i.ukey = h.default.UserData.ukey;
t.getInstance().httpPost("avatar", i, function(e) {
if (0 == e.error_code) console.log("upload avatar success"); else if (66666 == e.error_code) console.log("66666"); else {
console.log("upload avatar failed");
g.default.alert(e.message);
}
});
};
t.prototype.getLocalLanguage = function(e) {
var o = {};
o.clientLocale = encodeURIComponent(e);
t.getInstance().httpPost("check-locale", o, function(e) {
if (0 == e.error_code) {
var t = e.data.locale;
console.log("online lan ", t);
console.log("local lan ", l.default.localLanguage);
if (t != l.default.localLanguage && !g.default.readData(h.default.storageData.showLanguage)) {
console.log("change language");
l.default.localLanguage = t;
b.default.inst.readNecessaryLocalInfo();
u.default.ins.initLanguageData(!0);
}
} else 66666 == e.error_code ? console.log("66666") : console.log("getLocalLanguage failed");
});
};
t.prototype.shareLinkReport = function(e) {
var o = {};
o.pageId = e;
t.getInstance().httpPost("share-link-upload", o, function(e) {
0 == e.error_code ? console.log("shareLinkReport success") : 66666 == e.error_code ? console.log("66666") : console.log("shareLinkReport failed");
});
};
t.prototype.getDeviceRegesterInfo = function() {
var e = {};
e.devId = l.default.devId;
e.pf = l.PlatformType.guest + "," + l.PlatformType.telephoneWithPassword + "," + l.PlatformType.google;
t.getInstance().httpPost("check-devId", e, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_DEVICE_REGESTER_INFO", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getDeviceRegesterInfo failed");
s.MyEvent.getInstance().emit("ON_GET_DEVICE_REGESTER_INFO", null);
}
});
};
t.prototype.getCustomerInfo = function() {
t.getInstance().httpPost("logs-feedback", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_CUSTOMER_INFO", t);
} else 66666 == e.error_code ? console.log("66666") : console.log("getCustomerInfo failed");
});
};
t.prototype.eventRecord = function(e) {
t.getInstance().httpPost("tj-action", e, function(e) {
0 == e.error_code ? console.log("eventRecord success") : 66666 == e.error_code ? console.log("66666") : console.log("eventRecord failed");
});
};
t.prototype.getSendInfo = function(e, o, i, n) {
var a = {};
a.page = e;
a.limit = o;
a.tab = i;
a.timestamp = new Date().getTime();
a.type = n || 0;
t.getInstance().httpPost("logs-transfer", a, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_SEND_LIST_INFO", t);
} else 66666 == e.error_code ? console.log("66666") : console.log("getSendInfo failed", e.error_code);
});
};
t.prototype.getSendFreezeList = function() {
t.getInstance().httpPost("logs-freeze", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_SEND_FREEZE_LIST_INFO", t);
} else 66666 == e.error_code ? console.log("66666") : console.log("getSendFreezeList failed", e.error_code);
});
};
t.prototype.getAllCardListInfo = function() {};
t.prototype.getOpenedCardInfo = function(e, o, i, n) {
var a = {};
a.game_type = e;
a.room_type = o;
a.roomId = i;
a.shuffle = n;
t.getInstance().httpPost("card-open", a, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_CARD_OPENED_INFO", t);
} else 66666 == e.error_code ? console.log("66666") : console.log("getSendFreezeList failed", e.error_code);
});
};
t.prototype.getCardSHA512Details = function(e, o, i, n, a) {
var r = {};
r.game_type = e;
r.room_type = o;
r.roomId = i;
r.shuffle = n;
r.cardIds = a;
t.getInstance().httpPost("card-details", r, function(e) {
if (0 == e.error_code) {
var t = e.data;
console.log("get cards details success " + t.length);
s.MyEvent.getInstance().emit("ON_GET_CARD_SHA512_DETAILS", t);
} else 66666 == e.error_code ? console.log("66666") : console.log("getSendFreezeList failed", e.error_code);
});
};
t.prototype.getCardSHA512Detail = function(e, o, i, n, a) {
var r = {};
r.game_type = e;
r.room_type = o;
r.roomId = i;
r.shuffle = n;
r.cardId = a;
t.getInstance().httpPost("card-detail", r, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_CARD_SHA512_DETAIL", t);
} else 66666 == e.error_code ? console.log("66666") : console.log("getSendFreezeList failed", e.error_code);
});
};
t.prototype.httpGetWithFullUrl = function(e, t, o) {
var i = {};
i.gameid = l.default.gameid;
i.appid = l.default.appid;
i.ver = l.default.ver;
i.hver = l.default.hver;
i.devId = l.default.devId;
i.locale = l.default.localLanguage;
i = Object.assign(i, t);
for (var n = Object.keys(i), a = "", r = 0; r < n.length; r++) {
var s = n[r], c = i[s];
r >= n.length - 1 ? a += s + "=" + c : a += s + "=" + c + "&";
}
var d = e + "?" + a;
console.log("url get = ", d);
var h = cc.loader.getXMLHttpRequest();
h.onreadystatechange = function() {
console.log("Get: readyState:" + h.readyState + " status:" + h.status);
console.log("xhr = ", h);
if (4 === h.readyState && 200 == h.status) {
var e = h.responseText, t = JSON.parse(e);
o(t);
} else 4 === h.readyState && 401 == h.status && o({
ret: 1
});
};
h.open("GET", d, !0);
h.setRequestHeader("Content-Type", "application/json");
h.timeout = 8e3;
h.send();
};
t.prototype.httpGetCheckWithFullUrl = function(e, t, o) {
var i = {};
i.appid = l.default.appid;
i.ver = l.default.ver;
i.devId = l.default.devId;
(i = Object.assign(i, t)).locale = l.default.localLanguage;
i.gameid = l.default.gameid;
i.hver = l.default.hver;
for (var n = Object.keys(i), a = "", r = 0; r < n.length; r++) {
var s = n[r], c = i[s];
r >= n.length - 1 ? a += s + "=" + c : a += s + "=" + c + "&";
}
var d = e + "?" + a;
console.log("url get = ", d);
var h = cc.loader.getXMLHttpRequest();
h.onreadystatechange = function() {
console.log("Get: readyState:" + h.readyState + " status:" + h.status);
console.log("xhr = ", h);
if (4 === h.readyState && 200 == h.status) {
var e = h.responseText, t = JSON.parse(e);
o(t);
} else 4 === h.readyState && 401 == h.status && o({
ret: 1
});
};
h.open("GET", d, !0);
h.setRequestHeader("Content-Type", "application/json");
h.timeout = 8e3;
h.send();
};
t.prototype.httpPostWithFullUrl = function(e, t, o, i) {
var n = cc.loader.getXMLHttpRequest();
n.onreadystatechange = function() {
if (4 === n.readyState && 200 == n.status) {
var t = n.responseText, a = JSON.parse(t);
o(a);
console.log("httpPostWithFullUrl success", e);
} else if (4 === n.readyState && 400 == n.status) {
t = n.responseText, a = JSON.parse(t);
i && i(a);
console.log("httpPostWithFullUrl fail xhr.readyState == 4 && xhr.status == 400", e);
} else console.log("httpPostWithFullUrl error info", n, n.status, e);
};
var a = {};
a.gameid = l.default.gameid;
a.appid = l.default.appid;
a.ver = l.default.ver;
a.hver = l.default.hver;
a.devId = l.default.devId;
a.locale = l.default.localLanguage;
null != h.default.UserData.ukey && (a.ukey = h.default.UserData.ukey);
null != h.default.UserData.userId && (a.uid = h.default.UserData.userId);
a = Object.assign(a, t);
var s = Object.keys(a);
s.sort();
for (var c = "", d = 0; d < s.length; d++) {
var u = a[m = s[d]];
d >= s.length - 1 ? c += m + "=" + u : c += m + "=" + u + "&";
}
c += r;
console.log("param5 = ", c);
a.sign = y.md5(c);
console.log("signparam5 = ", a.sign);
var p = e;
n.open("POST", p, !0);
n.setRequestHeader("Content-Type", "application/json");
n.timeout = 8e3;
this.encodeFormDatatt(a);
n.send(JSON.stringify(a));
var f = "";
for (var m in a) f += m + "=" + a[m] + "&";
console.log("PHP", p + "?" + f);
n.ontimeout = function() {
console.log("");
};
n.onerror = function() {
console.log("");
};
};
t.prototype.testPhp = function() {
var e = cc.loader.getXMLHttpRequest();
e.onreadystatechange = function() {
g.default.isnull(e) && g.default.isnull(e.readyState) && (4 === e.readyState && 200 == e.status ? console.log("testPhpEnd", new Date().getTime()) : 4 === e.readyState && e.status);
};
var t = {};
console.log("testPhpStart", new Date().getTime());
var o = "https://baccarat.com/t.php";
e.open("POST", o, !0);
e.setRequestHeader("Content-Type", "application/json");
e.timeout = 8e3;
e.send(JSON.stringify(t));
var i = "";
for (var n in t) i += n + "=" + t[n] + "&";
console.log("PHP", o + "?" + i);
e.ontimeout = function() {
console.log("");
s.MyEvent.getInstance().emit("PHP_TIME_OUT");
};
e.onerror = function() {
console.log("");
s.MyEvent.getInstance().emit("PHP_REQUEST_ERROR");
};
};
t.prototype.getProductInfo = function(e) {
e.forEach(function(e) {
C.default.inst.buyCommodity(e);
});
};
t.prototype.getNoWithdrawList = function() {
t.getInstance().httpPost("no-withdraw", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_NO_WITHDRAW_LIST", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getNoWithdrawList failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.getTradeHistory = function(e) {
var o = {};
null != e && (o.source = e);
t.getInstance().httpPost("pw-logs", o, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_TRADE_HISTORY", t);
} else if (66666 == e.error_code) {
console.log("66666");
s.MyEvent.getInstance().emit("ON_GET_TRADE_HISTORY", []);
} else {
console.log("getTradeHistory failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.checkPay = function() {
t.getInstance().httpPost("pay-check", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_CHECK_PAY", t);
} else if (66666 == e.error_code) console.log("66666"); else {
g.default.alert(e.message);
console.log("charge failed", e.error_code);
}
});
};
t.prototype.charge = function(e, o, i, n) {
var a = {};
a.amount = e;
a.product = o;
a.ptype = i;
a.proid = n;
t.getInstance().httpPost("pay", a, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_CHARGE", t);
} else if (66666 == e.error_code) console.log("66666"); else {
g.default.alert(e.message);
console.log("charge failed", e.error_code);
}
});
};
t.prototype.withdraw = function(e, o) {
var i = {};
i.amount = o;
i.bank_type = e;
t.getInstance().httpPost("withdraw", i, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_WITHDRAW", t);
} else if (66666 == e.error_code) console.log("66666"); else {
g.default.alert(e.message);
console.log("withdraw failed", e.error_code);
}
});
};
t.prototype.getBankInfo = function() {
t.getInstance().httpPost("p-withdraw", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_BANK_INFO", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getBankInfo failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.getAllBanks = function() {
t.getInstance().httpPost("banks", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
l.default.allBanks = t;
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getAllBanks failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.updateBankInfo = function() {};
t.prototype.updateAwatar = function(e) {
var o = {};
o.aid = e;
t.getInstance().httpPost("avatar", o, function(e) {
if (0 == e.error_code) {
var t = e.data;
h.default.UserData.headID = t.aid;
s.MyEvent.getInstance().emit("UPDATE_HEAD_PHOTO");
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("updateAwatar failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.getInviteInfo = function() {
t.getInstance().httpPost("invite", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_AGENT_INFO", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getInviteInfo failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.getInviteList = function(e) {
var o = {};
o.page = e;
t.getInstance().httpPost("invite-users", o, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_INVITE_LIST", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getInviteList failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.getInviteReward = function(e, o) {
var i = {};
i.fuid = e;
i.task = o;
t.getInstance().httpPost("invite-reward", i, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_INVITE_REWARD", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getInviteReward failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.getRebateList = function() {
t.getInstance().httpPost("rebate", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_REBATE_LIST", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getRebateList failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.getRebateDetails = function(e, o) {
var i = {};
i.page = e;
i.daytime = o;
t.getInstance().httpPost("rebate-details", i, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_REBATE_DETAILS", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getRebateDetails failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.getRebateReward = function(e) {
var o = {};
o.daytime = e;
t.getInstance().httpPost("rebate-reward", o, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_REBATE_REWARD", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getRebateReward failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.resetPassword = function(e, o, i, n) {
var a = {};
a.areaCode = e;
a.telephone = o;
a.checkCode = n;
a.password = i;
t.getInstance().httpPost("reset-pwd", a, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_RESET_PASSWORD", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("resetPassword failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.checkPhone = function(e, o, i) {
var n = {};
n.areaCode = e;
n.telephone = o;
n.source = i;
t.getInstance().httpPost("check-phone", n, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_CHECK_PHONE", t);
} else if (66666 == e.error_code) {
console.log("66666");
s.MyEvent.getInstance().emit("ON_CHECK_PHONE");
} else {
console.log("checkPhone failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.init = function() {
var e = {};
e.lan = l.default.sourceLanguage;
t.getInstance().httpPost("init", e, function(e) {
s.MyEvent.getInstance().emit("ON_INIT", e);
});
};
t.prototype.getLoginInfo = function() {
t.getInstance().httpPost("login-reward", {}, function(e) {
s.MyEvent.getInstance().emit("ON_GET_LOGIN_INFO", e.data);
});
};
t.prototype.launchGame = function(e) {
var o = {};
o.wid = e;
t.getInstance().httpPost("launchByGame", o, function(e) {
if (0 == e.error_code) {
console.log("launchGame game url = ", e.data.url);
s.MyEvent.getInstance().emit("ON_LAUNCH_GAME", e.data);
} else if (66666 == e.error_code) console.log("66666"); else if (10001 == e.error_code) {
console.log("launchGame error code 10001");
s.MyEvent.getInstance().emit("CLOSE_WEBGAME");
v.default.inst.showConfirmDialog(e.message, 1);
} else if (10002 == e.error_code) {
console.log("launchGame error code 10002");
s.MyEvent.getInstance().emit("CLOSE_WEBGAME");
v.default.inst.showConfirmDialog(e.message, 2, null, u.default.ins.STRING_NEWHALL("chargeNow"), function() {
S.default.inst.playEffect("btnSound");
v.default.inst.closeAllDialog();
v.default.inst.showFullView(v.FullViewIndex.gameCharge);
}, u.default.ins.STRING_NEWHALL("iknow"));
} else {
console.log("launchGame failed error code", e.error_code);
s.MyEvent.getInstance().emit("CLOSE_WEBGAME");
v.default.inst.showConfirmDialog(e.message, 1);
}
});
};
t.prototype.checkWebGame = function(e, o) {
var i = {};
i.type = e;
t.getInstance().httpPost("checkByGame", i, function(e) {
if (0 == e.error_code) o(); else if (66666 == e.error_code) console.log("66666"); else {
console.log("shareInit failed", e.error_code);
v.default.inst.showConfirmDialog(e.message, 1);
}
});
};
t.prototype.syncWebGame = function(e, o) {
var i = {};
i.wtype = e;
i.wid = o;
t.getInstance().httpPost("syncByWebGame", i, function() {});
};
t.prototype.shareInit = function() {
t.getInstance().httpPost("share-init", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_SHARE_INIT", t);
} else if (66666 == e.error_code) {
console.log("66666");
s.MyEvent.getInstance().emit("ON_666");
} else {
console.log("shareInit failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.getShareReward = function(e) {
var o = {};
o.source = e;
t.getInstance().httpPost("share-reward", o, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_SHARE_REWARD", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getShareReward failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.getPayChannal = function() {
t.getInstance().httpPost("pay-channel", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_PAY_CHANNAL", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getPayChannal failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.getAgentInfo = function() {
t.getInstance().httpPost("ggt-info", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_AGENT_INFO", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getAgentInfo failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.getAgentRecommendList = function(e, o) {
var i = {};
i.page = e;
i.sort = o;
t.getInstance().httpPost("ggt-lists", i, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_AGENT_USER_LIST", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getAgentRecommendList failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.getAgentRewardList = function(e) {
var o = {};
o.tag = e;
t.getInstance().httpPost("ggt-rewards", o, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_AGENT_REWARD_LIST", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("getAgentRewardList failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.serviceInit = function() {
t.getInstance().httpPost("chat-init", {}, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_SERVICE_INIT", t);
} else if (66666 == e.error_code) {
console.log("66666");
s.MyEvent.getInstance().emit("ON_SERVICE_INIT");
} else {
console.log("serviceInit failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.serviceMsgList = function(e, o, i) {
var n = {};
n.isNew = e;
n.maxMsgId = o;
n.page = i;
t.getInstance().httpPost("chat-messages", n, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_GET_MSG_LIST_SUCCESS", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("serviceMsgList failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.sendMsg = function(e) {
var o = {};
o.msg = e;
t.getInstance().httpPost("chat-send", o, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_SEND_MSG_SUCCESS", t);
} else 66666 == e.error_code ? console.log("66666") : s.MyEvent.getInstance().emit("ON_SEND_MSG_FAILED", "");
});
};
t.prototype.getIFSCCode = function(e, o, i, n) {
var a = {};
e && (a.bank = e);
o && (a.state = o);
i && (a.dist = i);
n && (a.branch = n);
t.getInstance().httpPost("getifsc", a, function(e) {
if (0 == e.error_code) s.MyEvent.getInstance().emit("ON_IFSC_DATA", e.data); else if (66666 == e.error_code) console.log("66666"); else {
console.log("getIFSCCode failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.sendImage = function(e) {
var o = {};
o.file = e;
t.getInstance().httpPost("chat-send-image", o, function(e) {
if (0 == e.error_code) {
var t = e.data;
s.MyEvent.getInstance().emit("ON_SEND_IMAGE_SUCCESS", t);
} else if (66666 == e.error_code) console.log("66666"); else {
console.log("sendImage failed", e.error_code);
g.default.alert(e.message);
}
});
};
t.prototype.testSign = function() {
var e = {
gameid: 1,
appid: 800,
ver: 129,
hver: 1,
devId: "6461603E86CAEEDB28925C089EF651DC487FB42C",
locale: "th",
ukey: "",
uid: 0,
ptype: 1,
areaCode: 66,
telephone: "0842307455",
password: "Aieaie253317",
checkCode: "481716",
nickName: "",
avatar: "",
clipboard: "02-078 9999"
}, t = Object.keys(e);
t.sort();
for (var o = "", i = 0; i < t.length; i++) {
var n = t[i], a = e[n];
i >= t.length - 1 ? o += n + "=" + a : o += n + "=" + a + "&";
}
o = "appid=800&areaCode=66&avatar=&checkCode=481716&clipboard=02-078 9999&devId=6461603E86CAEEDB28925C089EF651DC487FB42C&gameid=1&hver=1&locale=th&nickName=undefined&password=Aieaie253317&ptype=1&telephone=0842307455&uid=0&ukey=undefined&ver=129";
o += r;
console.log("param5 = ", o);
e.sign = y.md5(o);
console.log("signparam5 = ", e.sign);
};
t.mInstance = null;
return t;
}(cc.Component);
o.default = I;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Conf/Config": "Config",
"../Conf/Game": "Game",
"../Conf/Init": "Init",
"../Data/ExchangeData": "ExchangeData",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../Dialog/Confirm": "Confirm",
"../Manager/DialogManager": "DialogManager",
"../Manager/PaymentInterface": "PaymentInterface",
"../Manager/SceneManager": "SceneManager",
"../SDKInterface/FirebaseInterface": "FirebaseInterface",
"../UIFrame/SoundMgr": "SoundMgr",
"../UIFrame/UIManager": "UIManager",
"../Util/GameUtil": "GameUtil",
"./exccmd5": "exccmd5"
} ],
MyWebView: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "dae6bYwH5xGH6Hz08qbvMLe", "MyWebView");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = function() {
function e() {
this.isInit = 0;
this.disLeft = 0;
this.disTop = 0;
this.isShowCloseTips = 0;
this.showLoading = function() {
var e = document.getElementById("extern_loading");
e.style.display = "block", e.src = "uiwebview/loading.html";
};
}
Object.defineProperty(e, "inst", {
get: function() {
null == this._instance && (this._instance = new e());
return this._instance;
},
enumerable: !1,
configurable: !0
});
e.prototype.init = function() {
return i(this, void 0, void 0, function() {
var e;
return n(this, function() {
e = window;
this.isInit || (this.isInit = 1, e.___ || (e.___ = function() {
console.log("on web view init");
return arguments;
}), this.initWebIframe(), this.initLoadingIframe(), this.initBtn(), this.initTips());
return [ 2 ];
});
});
};
e.prototype.open = function(e, t, o) {
void 0 === o && (o = 0);
void 0 === o && (o = !0), this.showLoading(), this.showBtn(), this.isShowCloseTips = o;
var i = document.getElementById("game_iframe");
i.style.display = "block", e.indexOf("<html>") >= 0 ? i.srcdoc = e : i.src = e, 
this.exitCallback = t;
};
e.prototype.showTips = function() {
this.isShowCloseTips ? (this.onRefreshLabel(), document.getElementById("TIP").style.display = "block") : this.close();
};
e.prototype.showBtn = function() {
document.getElementById("BtnBack").style.display = "block";
};
e.prototype.touchstart = function(e) {
var t = e.touches[0];
this.setDisFun(t.clientX, t.clientY);
};
e.prototype.touchmove = function(e) {
var t = e.touches[0], o = t.clientX - this.disLeft, i = t.clientY - this.disTop;
this.onBtnEndFun(i, o);
};
e.prototype.dragstart = function(e) {
this.setDisFun(e.clientX, e.clientY);
};
e.prototype.dragend = function(e) {
var t = e.clientX - this.disLeft, o = e.clientY - this.disTop;
this.onBtnEndFun(o, t);
};
e.prototype.setDisFun = function(e, t) {
var o = document.getElementById("BtnBack");
this.disLeft = e - o.offsetLeft, this.disTop = t - o.offsetTop;
};
e.prototype.close = function() {
this.exitCallback && this.exitCallback();
document.getElementById("BtnBack").style.display = "none", this.hideIframe(), this.hideTips();
};
e.prototype.hideTips = function() {
document.getElementById("TIP").style.display = "none";
};
e.prototype.hideIframe = function() {
var e = document.getElementById("game_iframe");
e.src = "about:blank", e.removeAttribute("srcdoc"), e.style.display = "none";
};
e.prototype.hideLoading = function() {
document.getElementById("extern_loading").style.display = "none";
};
e.prototype.onBtnEndFun = function(e, t) {
var o = document.getElementById("BtnBack");
e < 0 ? e = 0 : e > document.body.clientHeight - o.offsetHeight && (e = document.body.clientHeight - o.offsetHeight), 
t < 0 ? t = 0 : t > document.body.clientWidth - o.offsetWidth && (t = document.body.clientWidth - o.offsetWidth), 
o.style.left = t + "px", o.style.top = e + "px";
};
e.prototype.onRefreshLabel = function() {
var e = window;
document.getElementById("tit").innerHTML = e.___("Tips"), document.getElementById("text_tips").innerHTML = e.___("Confirm exit game?"), 
document.getElementById("btnOk_txt").innerHTML = e.___("Confirm"), document.getElementById("btnCancel_txt").innerHTML = e.___("Cancel");
};
e.prototype.onViewLoaded = function() {
this.hideLoading();
};
e.prototype.onViewLoadedError = function(e) {
cc.log("ExternGame url loaded error", e), this.close();
};
e.prototype.initWebIframe = function() {
var e = this, t = document.createElement("iframe");
t.id = "game_iframe", t.draggable = !1, document.body.appendChild(t), t.style.position = "absolute", 
t.style.width = "100%", t.style.height = "100%", t.style.display = "none", t.style.border = "none", 
t.style.backgroundColor = "#FFFFFF", t.onload = function() {
cc.log("ExternGame url loaded"), e.onViewLoaded();
}, t.onerror = function(t, o, i, n, a) {
var r = a ? a.message : "unknown error";
e.onViewLoadedError(r);
};
};
e.prototype.initLoadingIframe = function() {
var e = document.createElement("iframe");
e.id = "extern_loading", document.body.appendChild(e), e.draggable = !1, e.style.position = "absolute", 
e.style.width = "100%", e.style.height = "100%", e.style.display = "none", e.style.border = "none", 
e.style.backgroundColor = "transparent", e.style.zIndex = "2001";
};
e.prototype.initBtn = function() {
var e = document.createElement("button");
e.id = "BtnBack", e.draggable = !0, e.style.display = "none", e.style.position = "absolute";
var t = (cc.sys.platform, cc.sys.DESKTOP_BROWSER, "68px");
e.style.width = t, e.style.height = "38px", e.style.left = "60px", e.style.top = "0px", 
e.style.border = "none", e.style.backgroundColor = "transparent", e.style.zIndex = "2002", 
e.addEventListener("click", this.showTips.bind(this)), e.addEventListener("dragstart", this.dragstart.bind(this)), 
e.addEventListener("dragend", this.dragend.bind(this)), e.addEventListener("touchmove", this.touchmove.bind(this)), 
e.addEventListener("touchstart", this.touchstart.bind(this)), document.body.appendChild(e);
var o = document.createElement("img");
o.id = "return_btn2", o.style.position = "absolute", o.style.width = "100%", o.style.height = "100%", 
o.style.left = "0px", o.style.top = "0px", e.appendChild(o), cc.resources.load("images/uiwebview/btn_back", cc.Texture2D, function(e, t) {
if (e) cc.error("load texture error =", e); else {
o.src = "" + t.nativeUrl;
var i = document.getElementById("BtnBack");
i.style.top = "0px", i.style.left = "20px";
}
});
};
e.prototype.initTips = function() {
var e = window, t = document.createElement("div");
t.id = "TIP", t.style.position = "absolute", t.style.width = "100%", t.style.height = "100%", 
t.style.display = "none", t.style.zIndex = "2002", document.body.appendChild(t);
var o = document.createElement("div");
o.id = "layer", o.style.position = "absolute", o.style.width = "331.7px", o.style.height = "198.7px", 
o.style.left = "50%", o.style.top = "50%", o.style.transform = "translate(-50%,-50%)", 
o.style.display = "flex", o.style.flexDirection = "column", t.appendChild(o);
var i = document.createElement("img");
i.id = "bg", cc.resources.load("images/uiwebview/btn_back", cc.Texture2D, function(e, t) {
e ? cc.error("load texture error =", e) : i.src = "" + t.nativeUrl;
}), i.style.position = "absolute", i.style.width = "100%", i.style.backgroundColor = "#20262D", 
i.style.height = "100%", i.style.top = "0px", i.style.left = "0px", o.appendChild(i);
var n = document.createElement("div");
n.id = "tit", n.innerHTML = e.___("Tips"), n.style.position = "absolute", n.style.left = "50%", 
n.style.top = "10%", n.style.transform = "translate(-50%,-50%)", n.style.color = "#FFE536", 
n.style.fontSize = "20px", o.appendChild(n);
var a = document.createElement("div");
a.id = "text_tips", a.innerHTML = e.___("Confirm exit game?"), a.style.position = "absolute", 
a.style.top = "30%", a.style.color = "#ffffff", a.style.fontSize = "18px", a.style.maxWidth = "300px", 
a.style.alignSelf = "center", a.style.wordBreak = "break-word", a.style.textAlign = "center", 
o.appendChild(a);
var r = document.createElement("button");
r.id = "btn_enter", r.style.position = "absolute", r.style.width = "40%", r.style.height = "20%", 
r.style.left = "5%", r.style.top = "70%", r.style.border = "none", r.style.backgroundColor = "transparent", 
r.addEventListener("click", this.close.bind(this)), o.appendChild(r);
var s = document.createElement("img");
s.id = "btnOkBg", cc.resources.load("images/uiwebview/btn_bg1", cc.Texture2D, function(e, t) {
e ? cc.error("load texture error =", e) : s.src = "" + t.nativeUrl;
}), s.style.position = "absolute", s.style.width = "100%", s.style.height = "100%", 
s.style.left = "0px", s.style.top = "0px", r.appendChild(s);
var c = document.createElement("div");
c.id = "btnOk_txt", c.innerHTML = e.___("Confirm"), c.style.position = "absolute", 
c.style.top = "50%", c.style.left = "50%", c.style.transform = "translate(-50%,-50%)", 
c.style.fontSize = "18px", c.style.color = "#FFFFFF", r.appendChild(c);
var l = document.createElement("button");
l.id = "btn_enter Cancel", l.style.position = "absolute", l.style.width = "40%", 
l.style.height = "20%", l.style.left = "55%", l.style.top = "70%", l.style.border = "none", 
l.style.backgroundColor = "transparent", l.addEventListener("click", this.hideTips.bind(this)), 
o.appendChild(l);
var d = document.createElement("img");
d.id = "btnCancelBg", cc.resources.load("images/uiwebview/btn_bg2", cc.Texture2D, function(e, t) {
e ? cc.error("load texture error =", e) : d.src = "" + t.nativeUrl;
}), d.style.position = "absolute", d.style.width = "100%", d.style.height = "100%", 
d.style.left = "0px", d.style.top = "0px", l.appendChild(d);
var h = document.createElement("div");
h.id = "btnCancel_txt", h.innerHTML = e.___("Cancel"), h.style.position = "absolute", 
h.style.left = "50%", h.style.top = "50%", h.style.transform = "translate(-50%,-50%)", 
h.style.fontSize = "18px", h.style.color = "#FFFFFF", l.appendChild(h);
};
e._instance = null;
return e;
}();
o.default = a;
cc._RF.pop();
}, {} ],
NVSGameUtil: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "16f6fHuMplP1YLuNLDUD+wC", "NVSGameUtil");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../GameFireData/GameAllConst"), l = e("../GameFireData/GameDataInfo"), d = e("../FireData/CommonData"), h = e("../GameCores/DialogLogic"), u = e("../EXUIFrame/EXCocosHelper"), p = e("../GameHttpTools/exmd5"), f = e("../GameFireData/GameAllData"), m = e("../GameFireData/GameAdapter"), g = cc._decorator, y = g.ccclass, _ = (g.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
o = t;
t.loadSpriteFrameSync = function(e) {
return r(this, void 0, void 0, function() {
return s(this, function() {
return [ 2, new Promise(function(t) {
cc.resources.load(e, cc.Texture2D, function(e, o) {
t(new cc.SpriteFrame(o));
});
}) ];
});
});
};
t.setNodeSpriteFrame = function(e, t) {
return r(this, void 0, void 0, function() {
var o;
return s(this, function(i) {
switch (i.label) {
case 0:
if (!e || !e.getComponent(cc.Sprite)) return [ 2 ];
if (this.frameCahces[t]) {
e.getComponent(cc.Sprite).spriteFrame = this.frameCahces[t];
return [ 2 ];
}
o = null;
return "string" != typeof t ? [ 3, 2 ] : [ 4, this.loadSpriteFrameSync(t) ];

case 1:
o = i.sent();
return [ 3, 3 ];

case 2:
o = t;
i.label = 3;

case 3:
this.frameCahces[t] = o;
e.getComponent(cc.Sprite).spriteFrame = o;
return [ 2, o ];
}
});
});
};
t.loadSpriteFrame = function(e, t, o) {
var i = this;
if (this.isnull(e)) if (o) {
if (this.frameCahces[o + "/" + t]) {
e.getComponent(cc.Sprite).spriteFrame = this.frameCahces[o + "/" + t];
return;
}
cc.loader.loadRes(o, cc.SpriteAtlas, function(n, a) {
var r = a.getSpriteFrame(t);
i.frameCahces[o + "/" + t] = r;
i.isnull(e) && (e.getComponent(cc.Sprite).spriteFrame = r);
});
} else {
if (this.frameCahces[t]) {
e.getComponent(cc.Sprite).spriteFrame = this.frameCahces[t];
return;
}
cc.resources.load(t, cc.Texture2D, function(o, n) {
var a = new cc.SpriteFrame(n);
i.frameCahces[t] = a;
i.isnull(e) && (e.getComponent(cc.Sprite).spriteFrame = a);
});
}
};
t.loadButtonFrame = function(e, t, o) {
var i = this;
if (e && e.getComponent(cc.Sprite)) if (o) {
if (this.frameCahces[o + "/" + t]) {
e.getComponent(cc.Button).normalSprite = this.frameCahces[o + "/" + t];
e.getComponent(cc.Button).disabledSprite = this.frameCahces[o + "/" + t];
return;
}
cc.loader.loadRes(o, cc.SpriteAtlas, function(n, a) {
var r = a.getSpriteFrame(t);
i.frameCahces[o + "/" + t] = r;
if (i.isnull(e)) {
e.getComponent(cc.Button).normalSprite = r;
e.getComponent(cc.Button).disabledSprite = r;
}
});
} else {
if (this.frameCahces[t]) {
e.getComponent(cc.Button).normalSprite = this.frameCahces[t];
e.getComponent(cc.Button).disabledSprite = this.frameCahces[t];
return;
}
cc.resources.load(t, cc.Texture2D, function(o, n) {
var a = new cc.SpriteFrame(n);
i.frameCahces[t] = a;
if (i.isnull(e)) {
e.getComponent(cc.Button).normalSprite = a;
e.getComponent(cc.Button).disabledSprite = a;
}
});
}
};
t.addSpriteFrame = function(e, t) {
var o = this;
if (t) {
if (this.frameCahces[t + "/" + e]) return this.frameCahces[t + "/" + e];
cc.loader.loadRes(t, cc.SpriteAtlas, function(i, n) {
var a = n.getSpriteFrame(e);
o.frameCahces[t + "/" + e] = a;
return a;
});
} else {
if (this.frameCahces[e]) return this.frameCahces[e];
cc.resources.load(e, cc.Texture2D, function(t, i) {
var n = new cc.SpriteFrame(i);
o.frameCahces[e] = n;
return n;
});
}
};
t.seekChild = function(e, t) {
if (e) {
if (e._name == t) return e;
for (var o = e._children, i = 0; i < o.length; i++) {
var n = o[i], a = this.seekChild(n, t);
if (a) return a;
}
}
};
t.addTouchEvent = function(e, t, o) {
e.on(cc.Node.EventType.TOUCH_START, function(e) {
t(e, o);
return !0;
});
e.on(cc.Node.EventType.TOUCH_MOVE, function(e) {
t(e, o);
});
e.on(cc.Node.EventType.TOUCH_END, function(e) {
t(e, o);
});
e.on(cc.Node.EventType.TOUCH_CANCEL, function(e) {
t(e, o);
});
};
t.getShortWin = function(e) {
e.toString(2);
};
t.getWinData = function(e) {
var t = Array.from(e), o = {};
1 == (t = t.reverse())[15] && (o.result = 1);
1 == t[14] && (o.result = 2);
1 == t[13] && (o.playerPair = !0);
1 == t[12] && (o.result = 3);
1 == t[10] && (o.bankerPair = !0);
t[8] >= 1 && (o.god = !0);
if (1 == t[9]) {
o.lucky = !0;
o.tager = "tiger2";
o.tiger = !0;
}
if (1 == t[7]) {
o.lucky = !0;
o.tager = "tiger1";
o.tiger = !0;
}
1 != t[4] && 1 != t[5] && 1 != t[10] && 1 != t[13] || (o.tigerPair = !0);
1 == t[3] && (o.tigerDraw = !0);
return o;
};
t.saveData = function(e, t) {
cc.sys.localStorage.setItem(e, t);
};
t.saceJsonData = function(e, t) {
cc.sys.localStorage.setItem(e, JSON.stringify(t));
};
t.saveFriendMsgData = function(e, t) {
var o = d.default.UserData.userId + "friendMsg" + e;
this.saceJsonData(o, t);
};
t.readData = function(e) {
return cc.sys.localStorage.getItem(e);
};
t.readFriendMsgData = function(e) {
var t = d.default.UserData.userId + "friendMsg" + e;
return this.readData(t);
};
t.formatMoneyShorter = function(e) {
if (e < 1e4) return e;
var t = 1e3, o = "";
if (e >= 1e9) {
t = 1e9;
o = "B";
} else if (e >= 1e6) {
t = 1e6;
o = "M";
} else if (e >= 1e3) {
t = 1e3;
o = "K";
}
var i = e / t;
return i - Math.floor(i) < 1e-4 ? i.toFixed() + "" + o : i < 10 ? i.toFixed(2) + "" + o : i < 1e3 ? i.toFixed(1) + "" + o : i.toFixed(0) + "" + o;
};
t.cul = function(e, t) {
return 1 == t ? e && e.toString().replace(/^\d+/g, function(e) {
return e.replace(/(?=(?!^)(\d{3})+$)/g, " ");
}) : e && e.toString().replace(/^\d+/g, function(e) {
return e.replace(/(?=(?!^)(\d{3})+$)/g, ",");
});
};
t.formatNumberWithZeroHead = function(e, t) {
var o = e + "", i = o.length;
if (i > t) return o;
for (var n = "", a = 0; a < t - i; a++) n += "0";
return n + o;
};
t.rebackCul = function(e) {
for (;e.match(","); ) e = e.replace(",", "");
return Number(e);
};
t.getLevel = function(e) {
for (var t = {}, o = 0; o < l.default.levelList.length; o++) if (e >= l.default.levelList[o]) {
t.nextLevel = o + 1;
t.nowLevel = o;
}
t.upLevelExp = l.default.levelList[t.nowLevel];
t.nowNeedExp = l.default.levelList[t.nextLevel] - t.upLevelExp;
t.nowExp = e - t.upLevelExp;
t.progress = t.nowExp / t.nowNeedExp;
return t;
};
t.getVipLevel = function(e) {
for (var t = {}, o = 0; o < l.default.vipLevelList.length; o++) if (e >= l.default.vipLevelList[o]) {
t.nextLevel = o + 1;
t.nowLevel = o;
}
t.nextLevel > 10 && (t.nextLevel = 10);
t.nowLevel > 10 && (t.nowLevel = 10);
t.upLevelExp = l.default.vipLevelList[t.nowLevel];
t.nowNeedExp = l.default.vipLevelList[t.nextLevel] - t.upLevelExp;
t.nowExp = e - t.upLevelExp;
t.progress = t.nowExp / t.nowNeedExp;
return t;
};
t.isnull = function(e) {
return cc.isValid(e);
};
t.stopAll = function(e, t) {
if (this.isnull(e)) {
e.stopAllActions();
if (t) {
var o = e.getComponent(t);
o && o.unscheduleAllCallbacks();
}
}
};
t.copyData = function(e) {
return JSON.parse(JSON.stringify(e));
};
t.alert = function(e, t) {
return r(this, void 0, void 0, function() {
return s(this, function() {
h.default.inst.showTips(e, t);
return [ 2 ];
});
});
};
t.moneyInsufficient = function(e, t) {
return (e == c.goldType.free ? d.default.UserData.coin : d.default.UserData.chip) >= t;
};
t.getNowMoney = function(e) {
return e == c.goldType.free ? d.default.UserData.coin : d.default.UserData.chip;
};
t.setNowMoney = function(e, t) {
t == c.goldType.free ? d.default.UserData.coin = e : d.default.UserData.chip = e;
};
t.getLabelWidth = function(e, t) {
var o = new cc.Node();
o.addComponent(cc.Label);
var i = o.getComponent(cc.Label);
i.fontSize = t;
i.string = e;
i._forceUpdateRenderData(!0);
return o.width;
};
t.refreshNowLabelSize = function(e) {
var t = e.getComponent(cc.Label);
o.isnull(t) && t._forceUpdateRenderData(!0);
};
t.setScale9 = function(e, t) {
if (o.isnull(e)) {
e.getComponent(cc.Sprite).type = cc.Sprite.Type.SLICED;
e.getComponent(cc.Sprite).spriteFrame.insetLeft = t[0];
e.getComponent(cc.Sprite).spriteFrame.insetTop = t[1];
e.getComponent(cc.Sprite).spriteFrame.insetRight = t[2];
e.getComponent(cc.Sprite).spriteFrame.insetBottom = t[3];
}
};
t.labelChange = function(e, t, i, n, a, r, s) {
var c = this;
if (o.isnull(e)) {
e.stopAllActions();
var l = {
a: parseInt(e.getComponent(cc.Label).string.replace(/\s*/g, ""))
}, d = .5;
n && (d = n);
var h = "quintOut";
a && "boolean" == typeof a ? h = "" : a && "string" == typeof a && (h = a);
var u = cc.tween(l).to(d, {
a: t
}, {
easing: h,
progress: function(t, i, n, a) {
var l = t + (i - t) * a;
l = r ? Math.round(l) : l.toFixed(2);
if (c.isnull(e)) {
e.getComponent(cc.Label).string = s ? l : o.cul(l, 1);
return l;
}
u.stop();
}
}).call(function() {
i && i();
c.isnull(e) ? e.getComponent(cc.Label).string = r ? s ? t : o.cul(t, 1) : s ? t.toFixed(2) : o.cul(t.toFixed(2), 1) : u.stop();
}).start();
return u;
}
};
t.getRandomNumInt = function(e, t) {
var o = t - e, i = Math.random();
return e + Math.round(i * o);
};
t.isPassword = function(e) {
return new RegExp("^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z\\W]{6,18}$").test(e);
};
t.isUserName = function(e) {
return new RegExp("^[-_a-zA-Z0-9]+$").test(e);
};
t.isPhoneNumber = function(e) {
return new RegExp("^[0-9]{6,18}$").test(e);
};
t.isUid = function(e) {
return new RegExp("^[0-9]{6,10}$").test(e);
};
t.isVCode = function(e) {
return new RegExp("^[0-9]{6,6}$").test(e);
};
t.getLastLoginTimeDesc = function() {
return "";
};
t.getDate = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return t.getMonth() + 1 + "-" + t.getDate() + "-" + t.getFullYear();
};
t.formatDate = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return t.getFullYear() + "-" + (t.getMonth() + 1) + "-" + t.getDate() + " " + t.getHours() + ":" + t.getMinutes();
};
t.formatDate1 = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return t.getHours() + ":" + t.getMinutes() + ":" + t.getSeconds() + "  " + (t.getMonth() + 1) + "-" + t.getDate();
};
t.formatTime = function(e, t) {
var o = Math.floor(e / 3600), i = Math.floor(e / 60);
return 3 == t ? e < 60 ? "00:00:" + this.formatSingleTime(e) : i < 60 ? "00:" + this.formatSingleTime(i) + ":" + this.formatSingleTime(e % 60) : this.formatSingleTime(o) + ":" + this.formatSingleTime(i % 60) + ":" + this.formatSingleTime(e % 60) : 2 == t ? e < 60 ? "00:" + this.formatSingleTime(e) : "00:" + this.formatSingleTime(i) + ":" + this.formatSingleTime(e % 60) : 1 == t ? this.formatSingleTime(e) : void 0;
};
t.formatSingleTime = function(e) {
var t = "00";
e > 9 ? t = e + "" : e >= 0 && (t = "0" + e);
return t;
};
t.pushArray = function(e, t) {
for (var o = 0; o < t.length; o++) {
var i = t[o];
e.push(i);
}
return e;
};
t.getCardPoint = function(e) {
var t = e % 16;
14 == t ? t = 1 : t >= 10 && (t = 0);
return t;
};
t.playerHead = function(e, t) {
return r(this, void 0, void 0, function() {
return s(this, function() {
0 == t % 2 ? this.loadSpriteFrame(e.node, "AutumnPublic/defaulfGirl") : this.loadSpriteFrame(e.node, "AutumnPublic/defaulfBoy");
return [ 2 ];
});
});
};
t.setHeadPhoto = function(e, t) {
var i = Number(t);
if (!(i > 23)) {
i += 1;
o.loadSpriteFrame(e, i + "", "head_photos/photos");
}
};
t.clearHeadCache = function(e, t) {
var o = e >> 16, i = e % 100, n = e % 32, a = e % 10, r = p.md5(e + ".s") + ".jpeg";
t && (r = p.md5(e + ".b") + ".jpeg");
var s = "" + f.default.awatarUrl + o + "/" + i + "/" + n + "/" + a + "/" + r;
cc.assetManager.cacheManager.removeCache(s);
cc.loader.release(s);
};
t.binaryToBase64 = function(e) {
for (var t, o = "", i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", n = e.byteLength, a = n % 3, r = n - a, s = 0; s < r; s += 3) o += i[(16515072 & (t = e[s] << 16 | e[s + 1] << 8 | e[s + 2])) >> 18] + i[(258048 & t) >> 12] + i[(4032 & t) >> 6] + i[63 & t];
1 == a ? o += i[(252 & (t = e[r])) >> 2] + i[(3 & t) << 4] + "==" : 2 == a && (o += i[(16128 & (t = e[r] << 8 | e[r + 1])) >> 8] + i[(1008 & t) >> 4] + i[(15 & t) << 2] + "=");
return o;
};
t.isChina = function() {
return !0;
};
t.resetScenePosition = function() {
cc.director.getScene().y = cc.winSize.height / 2;
};
t.checkIfMoveUpScene = function() {
cc.director.getScene().y = cc.winSize.height / 2 + 700;
};
t.getArr2Max = function(e) {
var t = e.join(",").split(",");
return Math.max.apply(null, t);
};
t.awardAnimation = function(e) {
var t = this, i = cc.find("tipsLayer"), n = "spine/award/chip/get_gold";
e == c.MoneyType.coin && (n = "spine/award/glod/get_gold");
if (o.isnull(i)) {
var a = i.getChildByName("awardNode1"), r = i.getChildByName("awardNode2");
if (!o.isnull(a)) {
(a = new cc.Node()).addComponent(sp.Skeleton);
a.name = "awardNode1";
a.getComponent(sp.Skeleton).timeScale = 1.4;
i.addChild(a);
(r = cc.instantiate(a)).name = "awardNode2";
i.addChild(r);
r.scaleX = -1;
if (m.default.getInstance().screenType == m.screenTypeEnum.isIpad) {
a.y = a.y - 228;
r.y = r.y - 228;
}
}
a.active = !0;
r.active = !0;
var s = function(e) {
t.spineAniCahces[n] || (t.spineAniCahces[n] = e);
a.getComponent(sp.Skeleton).skeletonData = e;
a.getComponent(sp.Skeleton).clearTrack(0);
a.getComponent(sp.Skeleton).setAnimation(0, "get_gold", !1);
r.opacity = 0;
r.getComponent(sp.Skeleton).skeletonData = e;
r.getComponent(sp.Skeleton).clearTrack(0);
r.getComponent(sp.Skeleton).setCompleteListener(function() {
a.active = !1;
r.active = !1;
});
u.default.sleepSync(.2).then(function() {
r.opacity = 255;
r.getComponent(sp.Skeleton).setAnimation(0, "get_gold", !1);
});
};
this.spineAniCahces[n] ? s(this.spineAniCahces[n]) : u.default.loadResSync(n, sp.SkeletonData).then(s);
}
};
t.getDTWinData = function(e) {
var t = Array.from(e), o = {};
1 == (t = t.reverse())[15] ? o.result = 1 : 1 == t[14] ? o.result = 2 : 1 == t[13] && (o.result = 3);
1 == t[12] && (o.flush = !0);
return o;
};
t.showChargeTips = function() {
h.default.inst.showDialog(h.DialogIndex.chipInsufficient);
};
t.getDiceWinData = function(e) {
var t = Array.from(e), o = t.length;
if (t.length < 32) for (var i = 0; i < 32 - o; i++) t.splice(0, 0, "0");
return t;
};
t.isFileExist = function(e) {
if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID) {
var t = cc.assetManager.cacheManager.getCache(e);
console.log("localPath = " + t);
return null != t && "" != t;
}
return !0;
};
var o;
t.frameCahces = cc.js.createMap();
t.spineAniCahces = cc.js.createMap();
return o = a([ y ], t);
}(cc.Component));
o.default = _;
cc._RF.pop();
}, {
"../EXUIFrame/EXCocosHelper": "EXCocosHelper",
"../FireData/CommonData": "CommonData",
"../GameCores/DialogLogic": "DialogLogic",
"../GameFireData/GameAdapter": "GameAdapter",
"../GameFireData/GameAllConst": "GameAllConst",
"../GameFireData/GameAllData": "GameAllData",
"../GameFireData/GameDataInfo": "GameDataInfo",
"../GameHttpTools/exmd5": "exmd5"
} ],
NetCMD: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "56fba5sc4tCX43vRLw119Y1", "NetCMD");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function() {
function e() {}
e.MSG_TYPE = {
MSG_TYPE_CONNECT: 1,
MSG_TYPE_CLIENT: 2,
MSG_TYPE_HALL: 3,
MSG_TYPE_GAMESVR: 4,
MSG_TYPE_GOLDSVR: 5,
MSG_TYPE_TASKSVR: 6,
MSG_TYPE_GAMESVR_BLACKJACK: 7,
MSG_TYPE_GAMESVR_BACCARAT_HND: 8,
MSG_TYPE_GAMESVR_DTGAME: 9,
MSG_TYPE_GAMESVR_DICE: 10,
MSG_TYPE_GAMESVR_INTDICE: 11,
MSG_TYPE_GAMESVR_BIRDS: 12,
MSG_TYPE_GAMESVR_ROMA: 13
};
e.CMD_NET_CHECK = 256;
e.CMD_LOGIN = 4097;
e.CMD_KICK_OUT = 4098;
e.CMD_LOGINOUT = 4099;
e.CMD_GET_BLND_LIST = 4100;
e.CMD_LOGIN_HALL = 12289;
e.CMD_GET_HALL_ROOM_INFO = 12291;
e.CMD_UPDATE_HALL_ROOM_INFO = 12292;
e.CMD_QUICK_ENTER_ROOM = 12294;
e.CMD_SET_SETUP = 12305;
e.CMD_GET_RECOMMEND_USER_LIST = 12304;
e.CMD_GET_RED_NOTIFICATION = 12320;
e.CMD_GET_PHP_ACTIVITY = 12321;
e.CMD_GET_BLACKJACK_ROOM_LIST = 12337;
e.CMD_INSPECT_NAME_REPEAT = 12560;
e.CMD_CHANGE_VIPEXP = 12561;
e.CMD_PRAISE_CHOICE = 12564;
e.CMD_NOTIFY_RSP = 12565;
e.CMD_BANKRUPTCY_SUBSIDY = 12566;
e.CMD_PUSH_BROADCAST_MSG = 13319;
e.CMD_AD_REWARD = 12550;
e.CMD_GET_USER_GAMEINFO = 12570;
e.CMD_GET_USER_TOTAL_INFO = 12569;
e.CMD_GAME_SCENE_REPORT_MONEY = 16400;
e.CMD_ROOM_CHAT = 16401;
e.CMD_GET_ROOM_CARD_NUM = 16402;
e.CMD_DAILY_TASK_CONFIG = 20738;
e.CMD_DAILY_TASK_LIST = 20739;
e.CMD_GET_TASK_REWARD = 20740;
e.CMD_GET_TASK_PROGRESS = 20741;
e.CMD_INVITE_REGISTER_INFO = 20743;
e.CMD_INVITE_REGISTER_REWARD = 20744;
e.CMD_REPORT_TASK_PROGRESS = 20742;
e.CMD_BLACKJACK_ENTER_ROOM = 16385;
e.CMD_BLACKJACK_BET = 16386;
e.CMD_BLACKJACK_CANCEL_BET = 16387;
e.CMD_BLACKJACK_COMPLETE_BET = 16388;
e.CMD_BLACKJACK_QUIT_ROOM = 16389;
e.CMD_BLACKJACK_USER_SIT = 16390;
e.CMD_BLACKJACK_USER_STAND = 16391;
e.CMD_BLACKJACK_ROOM_BROADCAST = 16392;
e.CMD_BLACKJACK_GET_ROOM_INFO = 16393;
e.CMD_BLACKJACK_END_CUT_CARD = 16397;
e.CMD_BLACKJACK_BROADCAST_CHAT = 16401;
e.CMD_BLACKJACK_USER_INSURANCE = 16403;
e.CMD_BLACKJACK_USER_ACTION = 16404;
e.CMD_BLACKJACK_GET_GAME_STATE = 16398;
e.CMD_BLACKJACK_BROADCAST_ENTER_ROOM = 16641;
e.CMD_BLACKJACK_BROADCAST_BET = 16642;
e.CMD_BLACKJACK_BROADCAST_CANCEL_BET = 16643;
e.CMD_BLACKJACK_BROADCAST_COMPLETE_BET = 16644;
e.CMD_BLACKJACK_BROADCAST_QUIT_ROOM = 16645;
e.CMD_BLACKJACK_BROADCAST_SIT = 16646;
e.CMD_BLACKJACK_BROADCAST_STAND = 16647;
e.CMD_BLACKJACK_BROADCAST_ROOM_BROADCAST = 16648;
e.CMD_BLACKJACK_BROADCAST_ROOM_STATE = 16649;
e.CMD_BLACKJACK_BROADCAST_USER_INSURANCE = 16656;
e.CMD_BLACKJACK_BROADCAST_USER_ACTION = 16657;
e.CMD_BLACKJACK_SETTLEMENT = 16658;
e.CMD_BLACKJACK_COLLECT_CARD = 16659;
e.CMD_BLACKJACK_DEAL_SECOND_CARD = 16655;
e.CMD_BLACKJACK_KICKOUT_ROOM = 16395;
e.CMD_BACCARAT_HND_ENTER_ROOM = 16385;
e.CMD_BACCARAT_HND_QUIT_ROOM = 16389;
e.CMD_BACCARAT_HND_ROOM_BROADCAST = 16392;
e.CMD_BACCARAT_HND_GET_ROOM_INFO = 16393;
e.CMD_BACCARAT_HND_IS_CONTINUE = 16396;
e.CMD_BACCARAT_HND_END_CUT_CARD = 16397;
e.CMD_BACCARAT_HND_ROOM_CHAT = 16401;
e.CMD_BACCARAT_HND_GET_LEFT_CARDS = 16402;
e.CMD_BACCARAT_HND_BET = 16386;
e.CMD_BACCARAT_HND_CANCEL_BET = 16387;
e.CMD_BACCARAT_HND_COMPLETE_BET = 16388;
e.CMD_BACCARAT_HND_BROADCAST_ENTER_ROOM = 16641;
e.CMD_BACCARAT_HND_BROADCAST_BET = 16642;
e.CMD_BACCARAT_HND_BROADCAST_CANCEL_BET = 16643;
e.CMD_BACCARAT_HND_BROADCAST_COMPLETE_BET = 16644;
e.CMD_BACCARAT_HND_BROADCAST_QUIT_ROOM = 16645;
e.CMD_BACCARAT_HND_BROADCAST_ROOM_BROADCAST = 16648;
e.CMD_BACCARAT_HND_BROADCAST_IS_CONTINUE = 16653;
e.CMD_BACCARAT_HND_BROADCAST_ROOM_STATUS = 16655;
e.CMD_BACCARAT_HND_GET_ROOM_STATUS = 16656;
e.CMD_BACCARAT_HND_BROADCAST_ROOM_GIVE_GIFT = 16654;
e.CMD_BACCARAT_HND_KICKOUT_ROOM = 16395;
e.CMD_BACCARAT_HND_GET_STAND_USER_LIST = 16403;
e.CMD_TIME_REWARD = 12549;
e.CMD_GET_MONEY_INFO = 12553;
e.CMD_ROMASLOT_ENTER_ROOM = 16385;
e.CMD_ROMASLOT_USER_SPIN = 16386;
e.CMD_ROMASLOT_FREE_SPIN = 16387;
e.CMD_ROMASLOT_PLAY_BONUS = 16388;
e.CMD_ROMASLOT_LEAVE_ROOM = 16389;
e.CMD_ROMASLOT_KICK_ROOM = 16395;
e.CMD_ROMASLOT_BUY_FREE = 16390;
e.CMD_ROMASLOT_BUY_BONUSGAME = 16391;
e.CMD_ROMASLOT_JACKPOT_NUM = 16392;
return e;
}();
o.default = i;
cc._RF.pop();
}, {} ],
NetPackage: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "326beG6vmlKlLoKU4f4EMhE", "NetPackage");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.procBaccaratRoomList = o.procLoginHall = o.DataTypes = void 0;
var i;
o.default = function() {};
(function(e) {
e[e.BYTE = 0] = "BYTE";
e[e.SHORT = 1] = "SHORT";
e[e.INT = 2] = "INT";
e[e.INT64 = 3] = "INT64";
e[e.STRING = 4] = "STRING";
e[e.BINARY = 5] = "BINARY";
e[e.LOOP = 6] = "LOOP";
})(i = o.DataTypes || (o.DataTypes = {}));
o.procLoginHall = function() {
this.retCode = i.SHORT;
this.nickname = i.STRING;
this.country = i.STRING;
this.exp = i.INT;
this.chip = i.INT64;
this.coin = i.INT64;
this.point = i.INT64;
this.vipExp = i.INT64;
this.gameType = i.BYTE;
this.goldType = i.BYTE;
this.roomId = i.SHORT;
};
var n = function() {
function e() {
this.retCode = i.SHORT;
this.goldType = i.BYTE;
this.allSize = i.SHORT;
this.size1 = i.SHORT;
this.roomList = i.LOOP;
this.roomArr = cc.js.createMap();
}
e.prototype.lopp1 = function() {
for (var e = 0; e < this.size1; e++) {
this.roomArr.roomId = i.SHORT;
this.roomArr.smallBlind = i.INT;
this.roomArr.userCount = i.SHORT;
this.roomArr.maxCount = i.SHORT;
this.roomArr.maxCount = i.SHORT;
}
};
return e;
}();
o.procBaccaratRoomList = n;
cc._RF.pop();
}, {} ],
NetRecieve: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "57915YsXcxKgqd2SdqnevLX", "NetRecieve");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("../PublicTools/GameEvents"), a = e("./ReportNetWork"), r = e("../GameFireData/GameAllConst"), s = e("../GameFireData/GameDataInfo"), c = e("../FireData/CommonData"), l = e("../FireData/PublicActivityData"), d = e("../GameCores/GameRecorder"), h = e("../GameCores/EXSceneManager"), u = e("../GameCommon/NVSGameUtil"), p = e("./NetCMD"), f = e("./NetWorkAll"), m = e("./ListenNetWork"), g = e("./NetPackage"), y = e("../GameBJCore/GameBJConst"), _ = e("../GameBJCore/GameBJData"), C = e("../BeautyDialog/CommonDialog"), b = e("../GameCores/DialogLogic"), v = e("../Manager/ADManager"), S = cc._decorator, I = S.ccclass, B = (S.property, 
function() {
function e() {
this.websocketRecv = {};
this.viewLength = 0;
this.proc_func = new Map();
this.webDebug = !1;
}
e.prototype.start = function() {};
e.prototype.readBegin = function(e) {
this.viewLength = 11;
this.view = e;
};
e.prototype.readByte = function(e) {
var t;
t = e ? this.view.getInt8(this.viewLength) : this.view.getUint8(this.viewLength);
this.viewLength += 1;
if (1 == this.webDebug) {
console.log("readByte:", t);
console.log("viewLength", this.viewLength);
}
return t;
};
e.prototype.readShort = function(e) {
var t;
t = e ? this.view.getInt16(this.viewLength) : this.view.getUint16(this.viewLength);
this.viewLength = this.viewLength + 2;
if (1 == this.webDebug) {
console.log("readShort:", t);
console.log("viewLength", this.viewLength);
}
return t;
};
e.prototype.readInt = function() {
var e;
e = this.view.getUint32(this.viewLength);
this.viewLength = this.viewLength + 4;
if (1 == this.webDebug) {
console.log("readShort:", e);
console.log("viewLength", this.viewLength);
}
return e;
};
e.prototype.readInt64 = function() {
var e, t = this.view.getUint32(this.viewLength);
this.viewLength += 4;
e = this.view.getUint32(this.viewLength);
this.viewLength += 4;
var o = Math.pow(2, 32) * t + e;
if (1 == this.webDebug) {
console.log("readLong:", e);
console.log("viewLength", this.viewLength);
}
return o;
};
e.prototype.readString = function() {
var e, t = this.readInt(), o = new ArrayBuffer(t - 0);
o = this.viewArr.slice(this.viewLength, t + this.viewLength - 0);
e = this.utf8ByteToUnicodeStr(new Uint8Array(o));
this.viewLength = this.viewLength + t;
if (1 == this.webDebug) {
console.log("viewLength", this.viewLength);
console.log("readString:", e);
}
return e;
};
e.prototype.utf8ByteToUnicodeStr = function(e) {
for (var t = "", o = 0; o < e.length; ) {
var i = e[o], n = 0;
if (i >>> 7 == 0) {
t += String.fromCharCode(e[o]);
o += 1;
} else if (252 == (252 & i)) {
n = (3 & e[o]) << 30;
n |= (63 & e[o + 1]) << 24;
n |= (63 & e[o + 2]) << 18;
n |= (63 & e[o + 3]) << 12;
n |= (63 & e[o + 4]) << 6;
n |= 63 & e[o + 5];
t += String.fromCodePoint(n);
o += 6;
} else if (248 == (248 & i)) {
n = (7 & e[o]) << 24;
n |= (63 & e[o + 1]) << 18;
n |= (63 & e[o + 2]) << 12;
n |= (63 & e[o + 3]) << 6;
n |= 63 & e[o + 4];
t += String.fromCodePoint(n);
o += 5;
} else if (240 == (240 & i)) {
n = (15 & e[o]) << 18;
n |= (63 & e[o + 1]) << 12;
n |= (63 & e[o + 2]) << 6;
n |= 63 & e[o + 3];
t += String.fromCodePoint(n);
o += 4;
} else if (224 == (224 & i)) {
n = (31 & e[o]) << 12;
n |= (63 & e[o + 1]) << 6;
n |= 63 & e[o + 2];
t += String.fromCharCode(n);
o += 3;
} else if (192 == (192 & i)) {
n = (63 & e[o]) << 6;
n |= 63 & e[o + 1];
t += String.fromCharCode(n);
o += 2;
} else {
t += String.fromCharCode(e[o]);
o += 1;
}
}
return t;
};
e.prototype.addCmd = function(e, t) {
n.MyEvent.getInstance().removeByNode(e.toString());
n.MyEvent.getInstance().on(e.toString(), t.bind(this), "event");
};
e.prototype._parseData = function(e) {
var t = {};
for (var o in e) {
var i = e[o];
i == g.DataTypes.BYTE ? t[o] = this.readByte() : i == g.DataTypes.SHORT ? t[o] = this.readShort() : i == g.DataTypes.INT ? t[o] = this.readInt() : i == g.DataTypes.INT64 ? t[o] = this.readInt64() : i == g.DataTypes.BINARY ? t[o] = this.readShort().toString(2) : i == g.DataTypes.LOOP && (t[o] = this._parseData(i));
}
};
e.prototype.process = function(e, t, o) {
console.log("process", e.cmd.toString(16), "time", new Date().getTime());
this.viewArr = o;
this.readBegin(t);
m.default.inst.resetLostTimes();
var i = e.msgType;
i == p.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK && n.MyEvent.getInstance().emit(i + e.cmd.toString(), t);
i == p.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE && n.MyEvent.getInstance().emit(i + e.cmd.toString(), t);
i == p.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA && n.MyEvent.getInstance().emit(i + e.cmd.toString(), t);
i == p.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND ? n.MyEvent.getInstance().emit(i + e.cmd.toString(), t) : i == p.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME ? n.MyEvent.getInstance().emit(i + e.cmd.toString(), t) : n.MyEvent.getInstance().emit(e.cmd.toString(), t);
};
e.prototype.init_proc_func = function() {
this.addCmd(p.default.CMD_NET_CHECK, this.procNetCheck);
this.addCmd(p.default.CMD_LOGIN, this.procLogin);
this.addCmd(p.default.CMD_KICK_OUT, this.procKickOutGame);
this.addCmd(p.default.CMD_GET_BLND_LIST, this.procBindList);
this.addCmd(p.default.CMD_LOGIN_HALL, this.procLoginHall);
this.addCmd(p.default.CMD_QUICK_ENTER_ROOM, this.procQuickEnterRoom);
this.addCmd(p.default.CMD_INSPECT_NAME_REPEAT, this.procInspectNameRepeat);
this.addCmd(p.default.CMD_CHANGE_VIPEXP, this.procChangeVipExp);
this.addCmd(p.default.CMD_NOTIFY_RSP, this.procNotifyRsp);
this.addCmd(p.default.CMD_BANKRUPTCY_SUBSIDY, this.procBankruptcy);
this.addCmd(p.default.CMD_DAILY_TASK_CONFIG, this.procDailyTaskConfig);
this.addCmd(p.default.CMD_DAILY_TASK_LIST, this.procDailyTaskList);
this.addCmd(p.default.CMD_GET_TASK_PROGRESS, this.procTaskProgress);
this.addCmd(p.default.CMD_GET_TASK_REWARD, this.procTaskReward);
this.addCmd(p.default.CMD_INVITE_REGISTER_INFO, this.procInviteRegisterRewardInfo);
this.addCmd(p.default.CMD_INVITE_REGISTER_REWARD, this.procInviteRegisterReward);
this.addCmd(p.default.CMD_REPORT_TASK_PROGRESS, this.procReportTask);
this.addCmd(p.default.CMD_SET_SETUP, this.procSetUp);
this.addCmd(p.default.CMD_GET_USER_GAMEINFO, this.procGetUserGameInfo);
this.addCmd(p.default.CMD_GET_USER_TOTAL_INFO, this.procGetUserTotalInfo);
this.addCmd(p.default.CMD_TIME_REWARD, this.procTimeReward);
this.addCmd(p.default.CMD_GET_MONEY_INFO, this.procGetMoneyInfo);
var e = p.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK;
this.addCmd(e + "" + p.default.CMD_BLACKJACK_ENTER_ROOM.toString(10), this.procBJEnterRoom);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_BET.toString(10), this.procBJUserBet);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_CANCEL_BET.toString(10), this.procBJCancelBet);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_COMPLETE_BET.toString(10), this.procBJCompleteBet);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_QUIT_ROOM.toString(10), this.procBJQuitRoom);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_USER_SIT.toString(10), this.procBJUserSit);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_USER_STAND.toString(10), this.procBJUserStand);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_ROOM_BROADCAST.toString(10), this.procBJRoomBroadcast);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_GET_ROOM_INFO.toString(10), this.procBJRoomInfo);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_BROADCAST_CHAT.toString(10), this.procBJChat);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_USER_INSURANCE.toString(10), this.procBJInsurance);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_USER_ACTION.toString(10), this.procBJUserAction);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_SETTLEMENT.toString(10), this.procBJPreSettlement);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_COLLECT_CARD.toString(10), this.procBJCollectCard);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_DEAL_SECOND_CARD.toString(10), this.procBJDealSecondCard);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_BROADCAST_ENTER_ROOM.toString(10), this.procBJBroadcastEnterRoom);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_BROADCAST_BET.toString(10), this.procBJBroadcastUserBet);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_BROADCAST_CANCEL_BET.toString(10), this.procBJBroadcastCancelBet);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_BROADCAST_COMPLETE_BET.toString(10), this.procBJBroadcastCompleteBet);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_BROADCAST_QUIT_ROOM.toString(10), this.procBJBroadcastQuitRoom);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_BROADCAST_SIT.toString(10), this.procBJBroadcastUserSit);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_BROADCAST_STAND.toString(10), this.procBJBroadcastUserStand);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_BROADCAST_ROOM_BROADCAST.toString(10), this.procBJroadcastRoomBroadcast);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_BROADCAST_ROOM_STATE.toString(10), this.procBJRoomState);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_BROADCAST_USER_INSURANCE.toString(10), this.procBJBroadcastInsurance);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_BROADCAST_USER_ACTION.toString(10), this.procBJBroadcastUserAction);
this.addCmd(e + "" + p.default.CMD_BLACKJACK_KICKOUT_ROOM.toString(10), this.procBJKickOut);
this.addCmd(e + "" + p.default.CMD_UPDATE_HALL_ROOM_INFO.toString(10), this.procUpdateBlackjackRoomInfo);
var t = p.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND;
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_ENTER_ROOM.toString(10), this.procBacHndEnterRoom);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_BET.toString(10), this.procBacHndUserBet);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_CANCEL_BET.toString(10), this.procBacHndCancelBet);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_COMPLETE_BET.toString(10), this.procBacHndCompleteBet);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_QUIT_ROOM.toString(10), this.procBacHndQuitRoom);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_ROOM_BROADCAST.toString(10), this.procBacHndRoomBroadcast);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_GET_ROOM_INFO.toString(10), this.procBacHndRoomInfo);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_ROOM_CHAT.toString(10), this.procBacHndChat);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_GET_LEFT_CARDS.toString(10), this.procBacHndGetLeftCards);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_END_CUT_CARD.toString(10), this.procBacHndEndCutCard);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_IS_CONTINUE.toString(10), this.procBacHndIsContinue);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_BROADCAST_ENTER_ROOM.toString(10), this.procBacHndBroadcastEnterRoom);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_BROADCAST_BET.toString(10), this.procBacHndBroadcastUserBet);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_BROADCAST_CANCEL_BET.toString(10), this.procBacHndBroadcastCancelBet);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_BROADCAST_COMPLETE_BET.toString(10), this.procBacHndBroadcastCompleteBet);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_BROADCAST_QUIT_ROOM.toString(10), this.procBacHndBroadcastQuitRoom);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_BROADCAST_ROOM_BROADCAST.toString(10), this.procBacHndroadcastRoomBroadcast);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_BROADCAST_ROOM_STATUS.toString(10), this.procBacHndRoomState);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_BROADCAST_IS_CONTINUE.toString(10), this.procBacHndBroadcastIsContinue);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_BROADCAST_ROOM_GIVE_GIFT.toString(10), this.procBacHndBroadcastRoomGiveGift);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_KICKOUT_ROOM.toString(10), this.procBacHndKickOut);
this.addCmd(t + "" + p.default.CMD_BACCARAT_HND_GET_STAND_USER_LIST.toString(10), this.procBacHndStandUserList);
var o = p.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME;
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_ENTER_ROOM.toString(10), this.procBacHndEnterRoom);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_BET.toString(10), this.procBacHndUserBet);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_CANCEL_BET.toString(10), this.procBacHndCancelBet);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_COMPLETE_BET.toString(10), this.procBacHndCompleteBet);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_QUIT_ROOM.toString(10), this.procBacHndQuitRoom);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_ROOM_BROADCAST.toString(10), this.procBacHndRoomBroadcast);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_GET_ROOM_INFO.toString(10), this.procDTRoomInfo);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_ROOM_CHAT.toString(10), this.procBacHndChat);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_GET_LEFT_CARDS.toString(10), this.procBacHndGetLeftCards);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_END_CUT_CARD.toString(10), this.procBacHndEndCutCard);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_IS_CONTINUE.toString(10), this.procBacHndIsContinue);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_BROADCAST_ENTER_ROOM.toString(10), this.procBacHndBroadcastEnterRoom);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_BROADCAST_BET.toString(10), this.procBacHndBroadcastUserBet);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_BROADCAST_CANCEL_BET.toString(10), this.procBacHndBroadcastCancelBet);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_BROADCAST_COMPLETE_BET.toString(10), this.procBacHndBroadcastCompleteBet);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_BROADCAST_QUIT_ROOM.toString(10), this.procBacHndBroadcastQuitRoom);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_BROADCAST_ROOM_BROADCAST.toString(10), this.procBacHndroadcastRoomBroadcast);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_BROADCAST_ROOM_STATUS.toString(10), this.procBacHndRoomState);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_BROADCAST_IS_CONTINUE.toString(10), this.procBacHndBroadcastIsContinue);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_BROADCAST_ROOM_GIVE_GIFT.toString(10), this.procBacHndBroadcastRoomGiveGift);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_KICKOUT_ROOM.toString(10), this.procDTKickOut);
this.addCmd(o + "" + p.default.CMD_BACCARAT_HND_GET_STAND_USER_LIST.toString(10), this.procBacHndStandUserList);
var i = p.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE;
this.addCmd(i + "" + p.default.CMD_BACCARAT_HND_ENTER_ROOM.toString(10), this.procBacHndEnterRoom);
this.addCmd(i + "" + p.default.CMD_BACCARAT_HND_BET.toString(10), this.procBacHndUserBet);
this.addCmd(i + "" + p.default.CMD_BACCARAT_HND_CANCEL_BET.toString(10), this.procBacHndCancelBet);
this.addCmd(i + "" + p.default.CMD_BACCARAT_HND_COMPLETE_BET.toString(10), this.procBacHndCompleteBet);
this.addCmd(i + "" + p.default.CMD_BACCARAT_HND_QUIT_ROOM.toString(10), this.procBacHndQuitRoom);
this.addCmd(i + "" + p.default.CMD_BACCARAT_HND_ROOM_BROADCAST.toString(10), this.procBacHndRoomBroadcast);
this.addCmd(i + "" + p.default.CMD_BACCARAT_HND_GET_ROOM_INFO.toString(10), this.procDiceRoomInfo);
this.addCmd(i + "" + p.default.CMD_BACCARAT_HND_ROOM_CHAT.toString(10), this.procBacHndChat);
this.addCmd(i + "" + p.default.CMD_BACCARAT_HND_BROADCAST_ENTER_ROOM.toString(10), this.procBacHndBroadcastEnterRoom);
this.addCmd(i + "" + p.default.CMD_BACCARAT_HND_BROADCAST_BET.toString(10), this.procBacHndBroadcastUserBet);
this.addCmd(i + "" + p.default.CMD_BACCARAT_HND_BROADCAST_CANCEL_BET.toString(10), this.procBacHndBroadcastCancelBet);
this.addCmd(i + "" + p.default.CMD_BACCARAT_HND_BROADCAST_COMPLETE_BET.toString(10), this.procBacHndBroadcastCompleteBet);
this.addCmd(i + "" + p.default.CMD_BACCARAT_HND_BROADCAST_QUIT_ROOM.toString(10), this.procBacHndBroadcastQuitRoom);
this.addCmd(i + "" + p.default.CMD_BACCARAT_HND_BROADCAST_ROOM_BROADCAST.toString(10), this.procBacHndroadcastRoomBroadcast);
this.addCmd(i + "" + p.default.CMD_BACCARAT_HND_BROADCAST_ROOM_STATUS.toString(10), this.procDiceRoomState);
this.addCmd(i + "" + p.default.CMD_BACCARAT_HND_BROADCAST_ROOM_GIVE_GIFT.toString(10), this.procBacHndBroadcastRoomGiveGift);
this.addCmd(i + "" + p.default.CMD_BACCARAT_HND_KICKOUT_ROOM.toString(10), this.procDiceKickOut);
this.addCmd(i + "" + p.default.CMD_BACCARAT_HND_GET_STAND_USER_LIST.toString(10), this.procBacHndStandUserList);
this.addCmd(p.default.CMD_GET_BLACKJACK_ROOM_LIST, this.procGetBlackjackRoomList);
this.addCmd(p.default.CMD_AD_REWARD, this.procADReward);
var n = p.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA;
this.addCmd(n + "" + p.default.CMD_ROMASLOT_ENTER_ROOM.toString(10), this.procRomaEnterRoom);
this.addCmd(n + "" + p.default.CMD_ROMASLOT_LEAVE_ROOM.toString(10), this.procRomaLeaveRoom);
this.addCmd(n + "" + p.default.CMD_ROMASLOT_KICK_ROOM.toString(10), this.procRomaKickRoom);
this.addCmd(n + "" + p.default.CMD_ROMASLOT_USER_SPIN.toString(10), this.procRomaUserSpin);
this.addCmd(n + "" + p.default.CMD_ROMASLOT_FREE_SPIN.toString(10), this.procRomaUserSpin);
this.addCmd(n + "" + p.default.CMD_ROMASLOT_PLAY_BONUS.toString(10), this.procRomaPlayBonus);
this.addCmd(n + "" + p.default.CMD_ROMASLOT_BUY_FREE.toString(10), this.procRomaBuyFree);
this.addCmd(n + "" + p.default.CMD_ROMASLOT_BUY_BONUSGAME.toString(10), this.procRomaBuyBonusgame);
this.addCmd(n + "" + p.default.CMD_ROMASLOT_JACKPOT_NUM.toString(10), this.procRomaJackpotInfo);
};
e.prototype.procNetCheck = function() {
var e = this.readInt(), t = Date.now();
t %= 1e5;
c.default.phoneData.delayedTime = Math.ceil((t - e) / 2);
m.default.inst.onlineCheck(e);
a.NetworkReporter.inst.process(e);
};
e.prototype.procLogin = function() {
var e = this.readShort();
if (0 == e) n.MyEvent.getInstance().emit("LOGIN_SUCCESS", e); else {
console.log("", e);
d.default.record(d.EventID.socketLoginFailed, "loginFailedRetCode", e);
n.MyEvent.getInstance().emit("LOGIN_FAILED", e);
}
};
e.prototype.procBindList = function() {
var e = this.readShort();
c.default.clearbindData();
if (0 == e) for (var t = this.readByte(), o = 0; o < t; o++) {
var i = this.readByte(), n = this.readString();
console.log("", t, i, n);
if (i == r.bindType.phone) {
c.default.bindData.phoneNum = n;
c.default.UserData.phoneBinding = !0;
} else if (i == r.bindType.facebook) {
c.default.bindData.fbName = n;
c.default.UserData.faceBookBinding = !0;
}
console.log("bind list ", i);
console.log("bind list ", n);
}
};
e.prototype.procKickOutGame = function() {
var e = this.readShort();
console.log(" ", e);
if (0 == e) {
(t = new C.ConfirmData()).desc = "";
t.oneBtn = !0;
t.okCallback = function() {
h.default.enterLogin();
};
t.cancelCallback = function() {
h.default.enterLogin();
};
b.default.inst.showDialog(b.DialogIndex.confirm, [ t ]);
} else if (14 == e) {
(t = new C.ConfirmData()).desc = "";
t.oneBtn = !0;
t.okCallback = function() {
h.default.enterLogin();
};
t.cancelCallback = function() {
h.default.enterLogin();
};
b.default.inst.showDialog(b.DialogIndex.confirm, [ t ]);
} else {
var t;
(t = new C.ConfirmData()).desc = "";
t.oneBtn = !0;
t.okCallback = function() {
h.default.enterLogin();
};
t.cancelCallback = function() {
h.default.enterLogin();
};
b.default.inst.showDialog(b.DialogIndex.confirm, [ t ]);
}
};
e.prototype.procLoginHall = function() {
if (0 == this.readShort()) {
var e = {};
e.nickname = this.readString();
e.headID = this.readShort();
e.country = this.readString();
e.exp = this.readInt();
var t = this.readInt64() / s.default.chipMulti;
e.coin = t;
e.chip = this.readInt64() / s.default.chipMulti;
e.point = this.readInt64() / s.default.pointMulti;
e.vipExp = this.readInt();
e.gameType = this.readByte();
e.goldType = this.readByte();
e.roomId = this.readShort();
e.ukey = this.readString();
e.maxvipExp = this.readInt();
e.giftId = this.readShort();
for (var o in e) c.default.UserData[o] = e[o];
0 == e.gameType && 0 == e.roomId ? n.MyEvent.getInstance().emit("LOGIN_HALL_SUCCESS", e) : n.MyEvent.getInstance().emit("LOGIN_HALL_SUCCESS", "");
}
};
e.prototype.procQuickEnterRoom = function() {
var e = this.readShort();
if (0 == e) ; else {
console.log(":", e);
if (6 == e) {
var t = new C.RechargeConf();
b.default.inst.showDialog(b.DialogIndex.confirm, [ t ]);
}
}
};
e.prototype.procChangeAutograph = function() {
var e = this.readShort();
0 != e && console.log("", e);
};
e.prototype.procChangeName = function() {
var e = this.readShort();
0 == e ? n.MyEvent.getInstance().emit("PROC_CHANGE_NAME_EVENT", e) : console.log("", e);
};
e.prototype.procInspectNameRepeat = function() {
var e = this.readShort();
console.log(e, "");
n.MyEvent.getInstance().emit("PROC_INSPECT_NAME_REPEAT_EVENT", e);
};
e.prototype.procChangeVipExp = function() {
if (0 == this.readShort()) {
this.readInt();
c.default.UserData.vipExp = this.readInt();
n.MyEvent.getInstance().emit("PROC_CHANGE_VIPEXP_EVENT");
}
};
e.prototype.procGetLimitData = function() {
var e = this.readShort();
0 != e && console.log("", e);
c.default.limitData.nickTimes = this.readByte();
c.default.limitData.loginReward = this.readInt();
c.default.limitData.intervaelReward = this.readInt();
};
e.prototype.procSafeOperation = function() {
var e = this.readShort();
0 != e && console.log("", e);
n.MyEvent.getInstance().emit("PROC_SAFE_OPERATION_EVENT");
};
e.prototype.procTimeReward = function() {
var e = this.readShort();
if (0 == e) {
for (var t = this.readByte(), o = [], i = 0; i < t; i++) {
var a = {};
a.type = this.readByte();
a.value = this.readInt();
o.push(a);
}
u.default.saveData("TimeRewardTime", new Date().getTime());
n.MyEvent.getInstance().emit("TIME_REWARD_EVENT", o);
console.log(" ");
} else {
n.MyEvent.getInstance().emit("TIME_REWARD_EVENT", "");
console.log("  error code", e);
}
};
e.prototype.procGetMoneyInfo = function() {
if (0 == this.readShort()) {
var e = {};
e.userID = this.readInt();
e.scenceId = this.readShort();
e.exp = this.readInt();
e.coin = this.readInt64() / s.default.chipMulti;
e.chip = this.readInt64() / s.default.chipMulti;
e.point = this.readInt64();
e.safe = this.readInt64();
if (e.userID == c.default.UserData.userId) {
e.scenceId != r.moneyChange.safe && e.scenceId < 300 && e.scenceId != r.moneyChange.broken && (e.chip, 
c.default.UserData.chip, e.coin, c.default.UserData.coin);
c.default.UserData.exp = e.exp;
c.default.UserData.chip = e.chip;
c.default.UserData.coin = e.coin;
c.default.UserData.point = e.point / s.default.pointMulti;
c.default.UserData.safeChip = e.safe;
}
n.MyEvent.getInstance().emit("MONEY_UPDATE_EVENT", e);
}
};
e.prototype.procDailyTaskConfig = function() {
var e = this.readShort();
if (0 == e) {
for (var t = this.readByte(), o = [], i = 0; i < t; i++) {
var n = {};
n.taskId = this.readShort();
n.gameType = this.readByte();
n.type = this.readByte();
n.name = this.readString();
n.actionType = this.readByte();
n.actionSubType = this.readInt();
n.need = this.readInt();
n.reward = this.readString();
n.sort = this.readShort();
n.rewardType = this.readByte();
n.compelteNum = 0;
n.status = 1;
o.push(n);
}
l.default.getInstance().dailyTaskConfig = o;
console.log(" ");
} else console.log("  error code", e);
};
e.prototype.procDailyTaskList = function() {
var e = this.readShort();
if (0 == e) {
for (var t = this.readByte(), o = {}, i = 0, a = 0; a < t; a++) {
var r = {};
r.taskId = this.readShort();
r.compelteNum = this.readInt();
r.status = this.readByte();
r.time = this.readInt();
if (0 == r.status) r.status = 1; else if (1 == r.status) {
r.status = 0;
i++;
}
o[r.taskId] = r;
o.rewardContain = i;
}
n.MyEvent.getInstance().emit("DAILY_TASK_LIST_EVENT", o);
console.log(" ");
} else console.log("  error code", e);
};
e.prototype.procTaskProgress = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.taskId = this.readShort();
t.compelteNum = this.readInt();
t.status = this.readByte();
t.time = this.readInt();
0 == t.status ? t.status = 1 : 1 == t.status && (t.status = 0);
n.MyEvent.getInstance().emit("NOTIFY_TASK_PROGRESS", t);
console.log(" ");
} else console.log("  error code", e);
};
e.prototype.procTaskReward = function() {
var e = this.readShort();
if (0 == e) {
var t = this.readShort(), o = this.readString();
n.MyEvent.getInstance().emit("GET_REWARD_SUCCESS", o);
l.default.getInstance().updateDailyTaskInfo(t);
n.MyEvent.getInstance().emit("UPDATA_ACTIVITY_STATUS");
console.log(" ");
} else console.log("  error code", e);
};
e.prototype.procInviteRegisterRewardInfo = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.invitedNum = this.readShort();
t.rewardedNum = this.readShort();
t.nextRewardedNum = this.readShort();
for (var o = this.readByte(), i = [], a = 0; a < o; a++) {
(d = {}).type = this.readByte();
d.value = this.readInt();
i.push(d);
}
t.extraReward = i;
var r = this.readByte(), s = [];
for (a = 0; a < r; a++) {
(d = {}).type = this.readByte();
d.value = this.readInt();
s.push(d);
}
t.nextReward = s;
var c = this.readByte(), l = [];
for (a = 0; a < c; a++) {
var d;
(d = {}).uid = this.readInt();
d.nickName = this.readString();
l.push(d);
}
t.inviteUser = l;
n.MyEvent.getInstance().emit("INVITE_REGISTER_INFO", t);
console.log(" ");
} else console.log("  error code", e);
};
e.prototype.procInviteRegisterReward = function() {
var e = this.readShort();
if (0 == e) {
for (var t = {}, o = this.readByte(), i = [], a = 0; a < o; a++) {
(c = {}).type = this.readByte();
c.value = this.readInt();
i.push(c);
}
var r = this.readByte(), s = [];
for (a = 0; a < r; a++) {
var c;
(c = {}).type = this.readByte();
c.value = this.readInt();
s.push(c);
}
t.reward = i;
t.extraReward = s;
n.MyEvent.getInstance().emit("INVITE_REGISTER_REWARD", t);
f.default.getInstance().socketSend.getInviteRegisterInfo();
console.log("  ");
} else console.log("  error code", e);
};
e.prototype.procReportTask = function() {
0 == this.readShort() ? console.log("") : console.log("");
};
e.prototype.procSetUp = function() {
var e = this.readShort();
0 == e ? f.default.getInstance().socketSend.getDailyTaskConfig(0) : console.log("", e);
};
e.prototype.procNotifyRsp = function() {
c.default.hallData.feedback = 1;
n.MyEvent.getInstance().emit("GAME_REDTIPS_EVENT");
};
e.prototype.procBankruptcy = function() {};
e.prototype.procBJEnterRoom = function() {
var e = this.readShort();
0 == e ? console.log("procBJEnterRoom success") : 301 == e ? n.MyEvent.getInstance().emit("ROOM_NOT_EXIST") : 101 == e ? n.MyEvent.getInstance().emit("USER_MAX_LIMIT") : 6 == e ? n.MyEvent.getInstance().emit("MONEY_NOT_ENOUGH") : console.log("procBJEnterRoom fail", e);
};
e.prototype.procBJUserBet = function() {
var e = this.readShort();
0 == e ? console.log("procBJUserBet success") : 302 == e ? n.MyEvent.getInstance().emit("BET_MAX_LIMIT") : console.log("procBJUserBet fail", e);
};
e.prototype.procBJCancelBet = function() {
var e = this.readShort();
0 == e ? console.log("procBJCancelBet success") : console.log("procBJCancelBet fail", e);
};
e.prototype.procBJCompleteBet = function() {
var e = this.readShort();
0 == e ? console.log("procBJCompleteBet success") : console.log("procBJCompleteBet fail", e);
};
e.prototype.procBJQuitRoom = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJQuitRoom success");
s.default.lastScene = h.SceneIndex.blackjack;
h.default.enterHall();
} else console.log("procBJQuitRoom fail", e);
};
e.prototype.procBJUserSit = function() {
var e = this.readShort();
0 == e ? console.log("procBJUserSit success") : console.log("procBJUserSit fail", e);
};
e.prototype.procBJUserStand = function() {
var e = this.readShort();
0 == e ? console.log("procBJUserStand success") : console.log("procBJUserStand fail", e);
};
e.prototype.procBJRoomBroadcast = function() {
var e = this.readShort();
0 == e ? console.log("procBJRoomBroadcast success") : console.log("procBJRoomBroadcast fail", e);
};
e.prototype.procBJRoomInfo = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJRoomInfo success");
var t = {};
t.gameType = this.readByte();
t.roomType = this.readByte();
t.moneyType = this.readByte();
t.playType = this.readByte();
t.roomID = this.readShort();
t.minChip = this.readInt() / s.default.chipMulti;
t.maxChip = this.readInt() / s.default.chipMulti;
t.maxXtreme = this.readInt() / s.default.chipMulti;
t.maxPair = this.readInt() / s.default.chipMulti;
t.max7s = this.readInt() / s.default.chipMulti;
t.cardColor = this.readByte();
t.cutCardPos = this.readByte();
t.roundCountAfterShuffle = this.readByte();
t.leftCardCount = this.readShort();
for (var o = this.readByte(), i = [], a = 0; a < o; a++) {
(z = {}).cardValue = this.readShort();
z.cardIndex = this.readShort();
i.push(z);
}
t.bankerCards = i;
c.default.roomData.roomMembers = {};
var l = [], d = this.readByte();
for (a = 0; a < d; a++) {
var h = {};
h.seatID = this.readByte();
h.userID = this.readInt();
h.userName = this.readString();
h.headID = this.readShort();
h.country = this.readString();
h.userMoney = this.readInt64() / s.default.chipMulti;
h.exp = this.readInt();
h.vipExp = this.readInt();
h.giftID = this.readShort();
c.default.roomData.roomMembers[h.userID] = h.userID;
for (var u = [], p = this.readByte(), f = 0; f < p; f++) {
var m = {};
m.handIndex = this.readByte();
m.isActionDown = this.readByte();
m.isDouble = this.readByte();
m.isSettleEnd = this.readByte();
for (var g = this.readByte(), C = [], b = 0; b < g; b++) {
(z = {}).cardValue = this.readShort();
z.cardIndex = this.readShort();
C.push(z);
}
m.cardData = C;
for (var v = this.readByte(), S = [], I = 0; I < v; I++) {
(te = {}).betAreaID = this.readByte();
te.betValue = this.readInt64() / s.default.chipMulti;
S.push(te);
}
m.betData = S;
u.push(m);
}
h.cardData = u;
l.push(h);
}
t.seatData = l;
t.isReconnect = this.readByte();
t.shuffleID = this.readInt();
this.readShort();
var B = {}, w = this.readString();
B.status = w;
B.totalTime = this.readShort();
B.leftTime = this.readShort();
if (w == y.BJGameStatus.pause) ; else if (w == y.BJGameStatus.shuffle) {
B.shuffleID = this.readInt();
B.cardColor = this.readByte();
B.cutPostion = this.readByte();
B.cutFirstCard = this.readShort();
B.userID = this.readInt();
B.userName = this.readString();
B.headID = this.readShort();
B.country = this.readString();
B.coin = this.readInt64() / s.default.chipMulti;
B.chip = this.readInt64() / s.default.chipMulti;
B.exp = this.readInt();
} else if (w == y.BJGameStatus.cut_card_anim) ; else if (w == y.BJGameStatus.chipin) {
var N = this.readByte(), L = [];
for (a = 0; a < N; a++) {
var T = {};
T.userID = this.readInt();
T.seatID = this.readByte();
T.money = this.readInt64() / s.default.chipMulti;
T.isCompleteBet = this.readByte();
L.push(T);
}
B.userInfo = L;
} else if (w == y.BJGameStatus.deal_card) {
var D = [], E = {};
E.cardValue = this.readShort();
E.cardIndex = this.readShort();
D.push(E);
var A = {};
A.cardValue = this.readShort();
A.cardIndex = this.readShort();
D.push(A);
B.bankerCards = D;
N = this.readByte();
var R = [];
for (a = 0; a < N; a++) {
(z = {}).seatID = this.readByte();
z.card1 = this.readShort();
z.card1Index = this.readShort();
z.card2 = this.readShort();
z.card1Index = this.readShort();
R.push(z);
}
B.playerCardInfo = R;
} else if (w == y.BJGameStatus.insurance) {
N = this.readByte();
var M = [];
for (a = 0; a < N; a++) {
(O = {}).seatID = this.readByte();
O.isInsurance = this.readByte();
O.insuranceMoney = this.readInt64() / s.default.chipMulti;
M.push(O);
}
B.playerInsuranceInfo = M;
} else if (w == y.BJGameStatus.banker_look_second) {
var G = this.readByte();
B.isBlackjack = G;
if (1 == G) {
B.card2 = this.readShort();
B.card2Index = this.readShort();
}
} else if (w == y.BJGameStatus.insurance_pay) {
for (N = this.readByte(), M = [], a = 0; a < N; a++) {
var O;
(O = {}).seatID = this.readByte();
O.insuranceMoney = this.readInt64() / s.default.chipMulti;
O.insurancePayMoney = this.readInt64() / s.default.chipMulti;
O.insurancePayPoint = this.readInt64();
M.push(O);
}
B.playerInsurancePayInfo = M;
} else if (w == y.BJGameStatus.insurance_not_pay) ; else if (w == y.BJGameStatus.side_pot_settlement) {
var P = [], k = this.readByte();
for (a = 0; a < k; a++) {
(X = {}).userID = this.readInt();
X.seatID = this.readByte();
X.winExp = this.readShort();
X.winTicket = this.readInt64();
X.winMoney = this.readInt64() / s.default.chipMulti;
for (var x = this.readByte(), F = [], U = 0; U < x; U++) {
(ee = {}).betAreaID = this.readByte();
ee.winMoney = this.readInt64() / s.default.chipMulti;
F.push(ee);
}
X.winInfo = F;
for (var H = this.readByte(), V = [], j = 0; j < H; j++) {
(te = {}).betAreaID = this.readByte();
te.betMoney = this.readInt64() / s.default.chipMulti;
V.push(te);
}
X.betInfo = V;
P.push(X);
}
B.playerSettlementInfo = P;
} else if (w == y.BJGameStatus.player_action) {
B.seatID = this.readByte();
B.handleIndex = this.readByte();
} else if (w == y.BJGameStatus.banker_action) {
g = this.readByte();
var W = [];
for (a = 0; a < g; a++) {
var z;
(z = {}).cardValue = this.readShort();
z.cardIndex = this.readShort();
W.push(z);
}
B.bankerCards = W;
} else if (w == y.BJGameStatus.player_split) {
B.seatID = this.readByte();
var Y = this.readByte(), J = [];
for (a = 0; a < Y; a++) {
var K = {};
K.handleIndex = this.readByte();
K.card1 = this.readShort();
K.card1Index = this.readShort();
K.card2 = this.readShort();
K.card2Index = this.readShort();
J.push(K);
}
B.splitInfo = J;
} else if (w == y.BJGameStatus.pre_settlement) {
B.reason = this.readByte();
B.userID = this.readInt();
B.seatID = this.readByte();
B.winExp = this.readShort();
B.winTicket = this.readInt64();
B.winMoney = this.readInt64() / s.default.chipMulti;
B.handIndex = this.readByte();
} else if (w == y.BJGameStatus.settlement) {
for (P = [], k = this.readByte(), a = 0; a < k; a++) {
var X;
(X = {}).userID = this.readInt();
X.seatID = this.readByte();
X.winExp = this.readShort();
X.winTicket = this.readInt64();
X.winMoney = this.readInt64() / s.default.chipMulti;
for (var q = this.readByte(), Q = [], Z = 0; Z < q; Z++) {
var $ = {};
$.handIndex = this.readByte();
for (x = this.readByte(), F = [], U = 0; U < x; U++) {
var ee;
(ee = {}).betAreaID = this.readByte();
ee.winMoney = this.readInt64() / s.default.chipMulti;
F.push(ee);
}
$.winInfo = F;
for (H = this.readByte(), V = [], j = 0; j < H; j++) {
var te;
(te = {}).betAreaID = this.readByte();
te.betMoney = this.readInt64() / s.default.chipMulti;
V.push(te);
}
$.betInfo = V;
Q.push($);
}
X.handInfo = Q;
P.push(X);
}
B.playerSettlementInfo = P;
}
t.statusData = B;
_.default.roomInfo = t;
n.MyEvent.getInstance().emit("ON_GET_ROOM_INFO", r.gameType.blackjack);
} else console.log("procBJRoomInfo fail", e);
};
e.prototype.procBJChat = function() {
var e = this.readShort();
0 == e ? console.log("procBJChat success") : console.log("procBJChat fail", e);
};
e.prototype.procBJInsurance = function() {
var e = this.readShort();
0 == e ? console.log("procBJInsurance success") : console.log("procBJInsurance fail", e);
};
e.prototype.procBJUserAction = function() {
var e = this.readShort();
0 == e ? console.log("procBJUserAction success") : console.log("procBJUserAction fail", e);
};
e.prototype.procBJCollectCard = function() {
n.MyEvent.getInstance().emit("BJ_COLLECT_CARD");
};
e.prototype.procBJPreSettlement = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJPreSettlement success");
for (var t = this.readByte(), o = [], i = 0; i < t; i++) {
var a = {};
a.userID = this.readInt();
a.seatID = this.readByte();
a.cardPoint = this.readByte();
for (var r = [], c = this.readByte(), l = 0; l < c; l++) {
var d = {};
d.betAreaID = this.readByte();
d.betMoney = this.readInt64() / s.default.chipMulti;
r.push(d);
}
a.winInfo = r;
for (var h = [], u = this.readByte(), p = 0; p < u; p++) {
var f = {};
f.betAreaID = this.readByte();
f.betMoney = this.readInt64() / s.default.chipMulti;
h.push(f);
}
a.betInfo = h;
a.winExp = this.readShort();
a.winTicket = this.readInt64();
o.push(a);
}
n.MyEvent.getInstance().emit("BJ_PRE_SETTLEMENT", o);
} else console.log("procBJPreSettlement fail", e);
};
e.prototype.procBJDealSecondCard = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJDealSecondCard success");
var t = this.readShort();
n.MyEvent.getInstance().emit("BJ_BANKER_SECOND_CARD", t);
} else console.log("procBJDealSecondCard fail", e);
};
e.prototype.procBJBroadcastEnterRoom = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJBroadcastEnterRoom success");
var t = {};
t.userID = this.readInt();
t.nickName = this.readString();
t.country = this.readString();
t.chip = this.readInt64();
t.coin = this.readInt64();
t.exp = this.readInt();
t.vipExp = this.readInt();
n.MyEvent.getInstance().emit("BJ_BROADCAST_USER_ENTER_ROOM", t);
c.default.roomData.roomMembers[t.userID] = t.userID;
} else console.log("procBJBroadcastEnterRoom fail", e);
};
e.prototype.procBJBroadcastUserBet = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJBroadcastUserBet success");
var t = {};
t.userID = this.readInt();
for (var o = this.readByte(), i = [], a = 0; a < o; a++) {
var r = {};
r.betAreaID = this.readByte();
r.betMoney = this.readInt64() / s.default.chipMulti;
i.push(r);
}
t.betInfo = i;
n.MyEvent.getInstance().emit("BJ_BROADCAST_USER_BET", t);
} else console.log("procBJBroadcastUserBet fail", e);
};
e.prototype.procBJBroadcastCancelBet = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJBroadcastCancelBet success");
var t = {};
t.userID = this.readInt();
t.userMoney = this.readInt64() / s.default.chipMulti;
n.MyEvent.getInstance().emit("BJ_BROADCAST_USER_CANCEL_BET", t);
} else console.log("procBJBroadcastCancelBet fail", e);
};
e.prototype.procBJBroadcastCompleteBet = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJBroadcastCompleteBet success");
var t = this.readInt();
n.MyEvent.getInstance().emit("BJ_BROADCAST_USER_COMPLETE_BET", t);
} else console.log("procBJBroadcastCompleteBet fail", e);
};
e.prototype.procBJBroadcastQuitRoom = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJBroadcastQuitRoom success");
var t = this.readInt();
c.default.roomData.roomMembers[t] && (c.default.roomData.roomMembers[t] = null);
n.MyEvent.getInstance().emit("BJ_BROADCAST_USER_QUIT_ROOM", t);
} else console.log("procBJBroadcastQuitRoom fail", e);
};
e.prototype.procBJBroadcastUserSit = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJBroadcastUserSit success");
var t = {};
t.seatID = this.readByte();
t.userID = this.readInt();
t.userName = this.readString();
t.headID = this.readShort();
t.country = this.readString();
t.userMoney = this.readInt64() / s.default.chipMulti;
t.exp = this.readInt();
t.vipExp = this.readInt();
t.giftID = this.readShort();
n.MyEvent.getInstance().emit("BJ_BROADCAST_USER_SIT", t);
} else console.log("procBJBroadcastUserSit fail", e);
};
e.prototype.procBJBroadcastUserStand = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJBroadcastUserStand success");
var t = {};
t.seatID = this.readByte();
t.userID = this.readInt();
t.userName = this.readString();
n.MyEvent.getInstance().emit("BJ_BROADCAST_USER_STAND", t);
} else console.log("procBJBroadcastUserStand fail", e);
};
e.prototype.procBJroadcastRoomBroadcast = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJroadcastRoomBroadcast success");
var t = {};
t.broadType = this.readByte();
console.log("broadType = ", t.broadType);
t.userId = this.readInt();
t.nickname = this.readString(!0);
switch (t.broadType) {
case r.broadcastType.chat:
t.msg = this.readString(!0);
n.MyEvent.getInstance().emit("USER_CHAT", t);
break;

case r.broadcastType.ejimo:
t.id = this.readByte();
n.MyEvent.getInstance().emit("USER_EJIMO", t);
break;

case r.broadcastType.cutCard_move:
t.percentage = this.readByte();
n.MyEvent.getInstance().emit("CUT_CARD_MOVE", t);
break;

case r.broadcastType.cutCard_ing:
n.MyEvent.getInstance().emit("CUT_CARD_ING", t);
}
} else console.log("procBJroadcastRoomBroadcast fail", e);
};
e.prototype.procBJRoomState = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJRoomState success");
var t = {}, o = this.readString();
t.status = o;
t.totalTime = this.readShort();
t.leftTime = this.readShort();
if (o == y.BJGameStatus.pause) ; else if (o == y.BJGameStatus.shuffle) {
t.cardColor = this.readByte();
t.cutPostion = this.readByte();
t.cutFirstCard = this.readShort();
t.userID = this.readInt();
t.userName = this.readString();
t.headID = this.readShort();
t.country = this.readString();
t.coin = this.readInt64() / s.default.chipMulti;
t.chip = this.readInt64() / s.default.chipMulti;
t.exp = this.readInt();
} else if (o == y.BJGameStatus.cut_card_anim) ; else if (o == y.BJGameStatus.chipin) {
for (var i = this.readByte(), a = [], r = 0; r < i; r++) {
var c = {};
c.userID = this.readInt();
c.seatID = this.readByte();
c.money = this.readInt64() / s.default.chipMulti;
c.isCompleteBet = this.readByte();
a.push(c);
}
t.userInfo = a;
} else if (o == y.BJGameStatus.deal_card) {
t.bankerCard = this.readShort();
i = this.readByte();
var l = [];
for (r = 0; r < i; r++) {
var d = {};
d.seatID = this.readByte();
d.card1 = this.readShort();
d.card2 = this.readShort();
l.push(d);
}
t.playerCardInfo = l;
} else if (o == y.BJGameStatus.insurance) {
i = this.readByte();
var h = [];
for (r = 0; r < i; r++) {
(p = {}).seatID = this.readByte();
p.isInsurance = this.readByte();
p.insuranceMoney = this.readInt64() / s.default.chipMulti;
h.push(p);
}
t.playerInsuranceInfo = h;
} else if (o == y.BJGameStatus.banker_look_second) {
var u = this.readByte();
t.isBlackjack = u;
1 == u && (t.card2 = this.readShort());
} else if (o == y.BJGameStatus.insurance_pay) {
for (i = this.readByte(), h = [], r = 0; r < i; r++) {
var p;
(p = {}).seatID = this.readByte();
p.insuranceMoney = this.readInt64() / s.default.chipMulti;
p.insurancePayMoney = this.readInt64() / s.default.chipMulti;
p.insurancePayPoint = this.readInt64();
h.push(p);
}
t.playerInsurancePayInfo = h;
} else if (o == y.BJGameStatus.insurance_not_pay) ; else if (o == y.BJGameStatus.side_pot_settlement) {
var f = [], m = this.readByte();
for (r = 0; r < m; r++) {
(T = {}).userID = this.readInt();
T.seatID = this.readByte();
T.winExp = this.readShort();
T.winTicket = this.readInt64();
T.winMoney = this.readInt64() / s.default.chipMulti;
for (var g = this.readByte(), _ = [], C = 0; C < g; C++) {
(M = {}).betAreaID = this.readByte();
M.winMoney = this.readInt64() / s.default.chipMulti;
_.push(M);
}
T.winInfo = _;
for (var b = this.readByte(), v = [], S = 0; S < b; S++) {
(G = {}).betAreaID = this.readByte();
G.betMoney = this.readInt64() / s.default.chipMulti;
v.push(G);
}
T.betInfo = v;
f.push(T);
}
t.playerSettlementInfo = f;
} else if (o == y.BJGameStatus.player_action) {
t.seatID = this.readByte();
t.handleIndex = this.readByte();
} else if (o == y.BJGameStatus.banker_action) {
var I = this.readByte(), B = [];
for (r = 0; r < I; r++) B.push(this.readShort());
t.bankerCards = B;
} else if (o == y.BJGameStatus.player_split) {
t.seatID = this.readByte();
var w = this.readByte(), N = [];
for (r = 0; r < w; r++) {
var L = {};
L.handleIndex = this.readByte();
L.card1 = this.readShort();
L.card2 = this.readShort();
N.push(L);
}
t.splitInfo = N;
} else if (o == y.BJGameStatus.pre_settlement) {
t.reason = this.readByte();
t.userID = this.readInt();
t.seatID = this.readByte();
t.winExp = this.readShort();
t.winTicket = this.readInt64();
t.winMoney = this.readInt64() / s.default.chipMulti;
t.handIndex = this.readByte();
} else if (o == y.BJGameStatus.settlement) {
for (f = [], m = this.readByte(), r = 0; r < m; r++) {
var T;
(T = {}).userID = this.readInt();
T.seatID = this.readByte();
T.winExp = this.readShort();
T.winTicket = this.readInt64();
T.winMoney = this.readInt64() / s.default.chipMulti;
for (var D = this.readByte(), E = [], A = 0; A < D; A++) {
var R = {};
R.handIndex = this.readByte();
for (g = this.readByte(), _ = [], C = 0; C < g; C++) {
var M;
(M = {}).betAreaID = this.readByte();
M.winMoney = this.readInt64() / s.default.chipMulti;
_.push(M);
}
R.winInfo = _;
for (b = this.readByte(), v = [], S = 0; S < b; S++) {
var G;
(G = {}).betAreaID = this.readByte();
G.betMoney = this.readInt64() / s.default.chipMulti;
v.push(G);
}
R.betInfo = v;
E.push(R);
}
T.handInfo = E;
f.push(T);
}
t.playerSettlementInfo = f;
}
n.MyEvent.getInstance().emit("BJ_GAME_STATUS", t);
} else console.log("procBJRoomState fail", e);
};
e.prototype.procBJBroadcastInsurance = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJInsurance success");
var t = {};
t.userID = this.readInt();
t.money = this.readInt64() / s.default.chipMulti;
n.MyEvent.getInstance().emit("BJ_USER_INSURANCE", t);
} else console.log("procBJInsurance fail", e);
};
e.prototype.procBJBroadcastUserAction = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJBroadcastUserAction success");
var t = {};
t.userID = this.readInt();
t.seatID = this.readByte();
t.handIndex = this.readByte();
t.actionID = this.readByte();
if (t.actionID == y.BJUserAction.hit) t.card = this.readShort(); else if (t.actionID == y.BJUserAction.double) t.card = this.readShort(); else if (t.actionID == y.BJUserAction.split) {
t.card = this.readShort();
t.newHandIndex = this.readByte();
t.newCard = this.readShort();
}
n.MyEvent.getInstance().emit("BJ_USER_ACTION", t);
} else console.log("procBJBroadcastUserAction fail", e);
};
e.prototype.procBJKickOut = function() {
s.default.lastScene = h.SceneIndex.blackjack;
h.default.enterHall();
};
e.prototype.procGetUserGameInfo = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.userID = this.readInt();
var o = this.readByte();
t.gameType = o;
if (o == r.gameType.blackjack) {
t.chipMainPot = this.readInt();
t.coinMainPot = this.readInt();
t.chipXtreme = this.readInt();
t.coinXtreme = this.readInt();
t.chipPair = this.readInt();
t.coinPair = this.readInt();
t.chip13 = this.readInt();
t.coin13 = this.readInt();
t.chip7s = this.readInt();
t.coin7s = this.readInt();
t.chipAll = this.readInt();
t.coinAll = this.readInt();
t.all = this.readInt();
t.winAll = this.readInt();
t.maxWinChip = this.readInt64();
t.maxWinCoin = this.readInt64();
t.chipLevel = this.readInt();
t.coinLevel = this.readInt();
t.chipPoint = this.readInt64() / 100;
t.coinPoint = this.readInt64() / 100;
}
n.MyEvent.getInstance().emit("ON_GET_USER_GAME_INFO", t);
} else console.log("procGetUserGameInfo fail", e);
};
e.prototype.procGetUserTotalInfo = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.userId = this.readInt();
t.nickname = this.readString();
t.sigture = this.readString();
t.country = this.readString();
t.exp = this.readInt();
t.coin = this.readInt64();
t.chip = this.readInt64();
t.point = this.readInt64() / 100;
t.vipExp = this.readInt();
t.regTime = this.readInt();
t.maxChip = this.readInt64();
t.maxCoin = this.readInt64();
t.maxWinChip = this.readInt64();
t.maxWinCoin = this.readInt64();
t.coinPlayed = this.readInt();
t.chipPlayed = this.readInt();
t.coinTicket = this.readInt64() / 100;
t.chipTicket = this.readInt64() / 100;
t.allPlayed = this.readInt();
t.allWin = this.readInt();
t.todayRank = this.readInt();
t.weekRank = this.readInt();
t.monthRank = this.readInt();
t.yearRank = this.readInt();
t.visitor = this.readInt();
t.liker = this.readInt();
t.isFans = this.readByte();
t.isThumbup = this.readByte();
for (var o = this.readByte(), i = [], a = 0; a < o; a++) {
var r = {};
r.userID = this.readInt();
r.vipExp = this.readInt();
i.push(r);
}
t.userIdList = i;
n.MyEvent.getInstance().emit("ON_GET_USER_TOTAL_INFO", t);
} else console.log("procGetUserTotalInfo fail", e);
};
e.prototype.procGetBlackjackRoomList = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.roomType = this.readByte();
for (var o = 0, i = this.readByte(), a = 0; a < i; a++) {
this.readByte();
o = this.readInt64();
}
t.allSize = this.readShort();
var r = this.readShort(), s = [];
for (a = 0; a < r; a++) {
var c = {};
c.roomID = this.readShort();
c.goldType = this.readByte();
c.playType = this.readByte();
c.smallBlind = this.readInt();
for (var l = [], d = this.readByte(), h = 0; h < d; h++) l.push(this.readByte());
c.userSeats = l;
c.maxCount = this.readShort();
c.diamond777 = 0;
c.sameSuit777 = 0;
c.sameColor777 = o;
s.push(c);
}
t.roomList = s;
n.MyEvent.getInstance().emit("ON_GET_BLACKJACK_ROOM_LIST", t);
} else console.log("procGetUserTotalInfo fail", e);
};
e.prototype.procUpdateBlackjackRoomInfo = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.goldType = this.readByte();
t.roomID = this.readShort();
for (var o = this.readByte(), i = [], a = 0; a < o; a++) {
var r = {}, s = this.readByte();
r.type = s;
if (1 == s) {
for (var c = this.readByte(), l = [], d = 0; d < c; d++) l.push(this.readByte());
r.seatUsers = l;
} else 2 == s && (r.status = this.readString());
i.push(r);
}
t.updateItems = i;
n.MyEvent.getInstance().emit("ON_UPDATE_ROOM_INFO", t);
} else console.log("procGetUserTotalInfo fail", e);
};
e.prototype.procADReward = function() {
var e = this.readShort();
if (0 == e) {
for (var t = this.readByte(), o = [], i = 0; i < t; i++) {
(l = {}).type = this.readByte();
l.value = this.readInt() / s.default.chipMulti;
o.push(l);
}
var a = this.readShort();
v.default.inst.adNextRewardIntervalTime = a;
var r = this.readByte(), c = [];
for (i = 0; i < r; i++) {
var l;
(l = {}).type = this.readByte();
l.value = this.readInt() / s.default.chipMulti;
c.push(l);
1 == l.type && (v.default.inst.adNextRewardAmount = l.value);
}
var d = this.readByte();
console.log("nextAdType === ", d);
v.default.inst.adNextShowType = d;
u.default.saveData("adNextShowType", v.default.inst.adNextShowType);
u.default.saveData("adRewardAmount", v.default.inst.adNextRewardAmount);
u.default.saveData("adRewardIntervalTime", v.default.inst.adNextRewardIntervalTime);
u.default.saveData("ADRewardTime", new Date().getTime());
n.MyEvent.getInstance().emit("AD_REWARD_EVENT", o);
n.MyEvent.getInstance().emit("UPDATA_ACTIVITY_STATUS");
v.default.inst.canGetADReward = !1;
console.log(" ");
} else console.log("  error code", e);
};
e.prototype.procBacHndEnterRoom = function() {
var e = this.readShort();
0 == e ? console.log("procBacHndEnterRoom success") : 301 == e ? n.MyEvent.getInstance().emit("ROOM_NOT_EXIST") : 101 == e ? n.MyEvent.getInstance().emit("USER_MAX_LIMIT") : 6 == e ? n.MyEvent.getInstance().emit("MONEY_NOT_ENOUGH") : console.log("procBacHndEnterRoom fail", e);
};
e.prototype.procBacHndUserBet = function() {
var e = this.readShort();
0 == e ? console.log("procBacHndUserBet success") : 102 == e ? n.MyEvent.getInstance().emit("BET_MAX_LIMIT") : console.log("procBacHndUserBet fail", e);
};
e.prototype.procBacHndCancelBet = function() {
var e = this.readShort();
0 == e ? console.log("procBacHndCancelBet success") : console.log("procBacHndCancelBet fail", e);
};
e.prototype.procBacHndCompleteBet = function() {
var e = this.readShort();
0 == e ? console.log("procBacHndCompleteBet success") : console.log("procBacHndCompleteBet fail", e);
};
e.prototype.procBacHndQuitRoom = function() {
var e = this.readShort();
0 == e ? console.log("procBacHndQuitRoom success") : console.log("procBacHndQuitRoom fail", e);
};
e.prototype.procBacHndRoomBroadcast = function() {
var e = this.readShort();
0 == e ? console.log("procBacHndRoomBroadcast success") : console.log("procBacHndRoomBroadcast fail", e);
};
e.prototype.procBacHndChat = function() {
var e = this.readShort();
0 == e ? console.log("procBacHndChat success") : console.log("procBacHndChat fail", e);
};
e.prototype.procDiceRoomInfo = function() {};
e.prototype.procBacHndBroadcastEnterRoom = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBacHndBroadcastEnterRoom success");
var t = {};
t.userID = this.readInt();
t.nickName = this.readString();
t.headID = this.readShort();
t.country = this.readString();
t.chip = this.readInt64() / s.default.chipMulti;
t.coin = this.readInt64() / s.default.chipMulti;
t.exp = this.readInt();
t.vipExp = this.readInt();
n.MyEvent.getInstance().emit("BROADCAST_USER_ENTER_ROOM", t);
c.default.roomData.roomMembers[t.userID] = t.userID;
} else console.log("procBacHndBroadcastEnterRoom fail", e);
};
e.prototype.procBacHndBroadcastUserBet = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBacHndBroadcastUserBet success");
var t = {};
t.userID = this.readInt();
t.userMoney = this.readInt64() / s.default.chipMulti;
for (var o = this.readByte(), i = [], a = 0; a < o; a++) {
var r = {};
r.betAreaID = this.readByte();
r.betMoney = this.readInt64() / s.default.chipMulti;
r.betTotalMoney = this.readInt64() / s.default.chipMulti;
r.betTotalUsers = this.readShort();
i.push(r);
}
t.betInfo = i;
n.MyEvent.getInstance().emit("BROADCAST_USER_BET", t);
} else console.log("procBacHndBroadcastUserBet fail", e);
};
e.prototype.procBacHndBroadcastCancelBet = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBacHndBroadcastCancelBet success");
var t = {};
t.userID = this.readInt();
t.userMoney = this.readInt64() / s.default.chipMulti;
var o = this.readByte(), i = [];
if (o > 0) for (var a = 0; a < o; a++) {
(r = {}).betAreaID = this.readByte();
r.betMoney = this.readInt64() / s.default.chipMulti;
r.betMoney = 0;
r.betTotalMoney = this.readInt64() / s.default.chipMulti;
r.betTotalUsers = this.readShort();
i.push(r);
} else for (a = 1; a < 7; a++) {
var r;
(r = {}).betAreaID = a;
r.betMoney = 0;
r.betTotalMoney = 0;
r.betTotalUsers = 0;
i.push(r);
}
t.betInfo = i;
n.MyEvent.getInstance().emit("BROADCAST_USER_CANCEL_BET", t);
} else console.log("procBacHndBroadcastCancelBet fail", e);
};
e.prototype.procBacHndBroadcastCompleteBet = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBacHndBroadcastCompleteBet success");
var t = this.readInt();
n.MyEvent.getInstance().emit("BROADCAST_USER_COMPLETE_BET", t);
} else console.log("procBacHndBroadcastCompleteBet fail", e);
};
e.prototype.procBacHndBroadcastQuitRoom = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBacHndBroadcastQuitRoom success");
var t = this.readInt();
c.default.roomData.roomMembers[t] && (c.default.roomData.roomMembers[t] = null);
n.MyEvent.getInstance().emit("BROADCAST_USER_QUIT_ROOM", t);
} else console.log("procBacHndBroadcastQuitRoom fail", e);
};
e.prototype.procBacHndroadcastRoomBroadcast = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBacHndroadcastRoomBroadcast success");
var t = {};
t.broadType = this.readByte();
console.log("broadType = ", t.broadType);
t.userId = this.readInt();
t.nickname = this.readString(!0);
switch (t.broadType) {
case r.broadcastType.chat:
t.msg = this.readString(!0);
c.default.roomData.chatList.push(t);
n.MyEvent.getInstance().emit("USER_CHAT", t);
break;

case r.broadcastType.ejimo:
t.id = this.readByte();
n.MyEvent.getInstance().emit("USER_EJIMO", t);
break;

case r.broadcastType.cutCard_move:
t.percentage = this.readByte();
n.MyEvent.getInstance().emit("CUT_CARD_MOVE", t);
break;

case r.broadcastType.cutCard_ing:
n.MyEvent.getInstance().emit("CUT_CARD_ING", t);
}
} else console.log("procBacHndroadcastRoomBroadcast fail", e);
};
e.prototype.procBacHndBroadcastRoomGiveGift = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBacHndBroadcastRoomGiveGift success");
var t = {};
t.fromUid = this.readInt();
t.giftId = this.readShort();
t.list = [];
for (var o = this.readByte(), i = 0; i < o; i++) t.list.push(this.readInt());
n.MyEvent.getInstance().emit("BROADCAST_ROOM_GIVEGIFT_EVENT", t);
} else console.log("procBacHndBroadcastRoomGiveGift fail", e);
};
e.prototype.procBacHndStandUserList = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBacHndStandUserList success");
for (var t = [], o = this.readByte(), i = 0; i < o; i++) {
var a = {};
a.seatID = this.readByte();
a.userID = this.readInt();
a.userName = this.readString();
a.headID = this.readShort();
a.country = this.readString();
a.userMoney = this.readInt64() / s.default.chipMulti;
a.exp = this.readInt();
a.vipExp = this.readInt();
a.giftID = this.readShort();
t.push(a);
}
n.MyEvent.getInstance().emit("ON_GET_STAND_USER_LIST", t);
} else console.log("procBacHndStandUserList fail", e);
};
e.prototype.procDiceRoomState = function() {};
e.prototype.procDiceKickOut = function() {
s.default.lastScene = h.SceneIndex.diceGame;
h.default.enterHall();
};
e.prototype.procRomaEnterRoom = function() {};
e.prototype.procRomaLeaveRoom = function() {
var e = this.readShort();
0 == e ? s.default.lastScene = h.SceneIndex.romaSlot : console.log("procRomaQuitRoom fail", e);
};
e.prototype.procRomaKickRoom = function() {
s.default.lastScene = h.SceneIndex.romaSlot;
h.default.enterHall();
};
e.prototype.procRomaUserSpin = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.index = this.readByte();
t.chiped = this.readInt();
t.win = this.readInt64();
t.allWin = this.readInt64();
t.jpMultiple = this.readByte();
t.jackpotType = this.readByte();
t.jackpotCoin = this.readInt64();
t.multiple = t.win / t.chiped;
t.winSize = this.readByte();
t.bonus = this.readByte();
t.bonusLife = this.readByte();
t.stricker = this.readByte();
t.freeTimes = this.readByte();
t.picList = [];
for (var o = this.readByte(), i = 0; i < o; i++) {
(r = {}).row = this.readByte();
r.column = this.readByte();
r.pic = this.readByte();
t.picList.push(r);
}
t.deletedList = [];
var a = this.readByte();
for (i = 0; i < a; i++) {
var r;
(r = {}).row = this.readByte();
r.column = this.readByte();
t.deletedList.push(r);
}
console.log("", t, Date.now());
n.MyEvent.getInstance().emit("ROMA_SLOT_USER_SPIN", t);
} else console.log("romaSlot userSpin err", e);
};
e.prototype.procRomaPlayBonus = function() {
if (0 == this.readShort()) {
var e = {};
e.chiped = this.readInt();
e.imgType = this.readByte();
e.mutiplier = this.readByte();
e.win = this.readInt64();
e.allWin = this.readInt64();
e.winSize = this.readByte();
e.isCounterattack = this.readByte();
e.bonusLife = this.readByte();
console.log("", e);
n.MyEvent.getInstance().emit("ROMA_SLOT_PLAYER_BONUS_EVENT", e);
} else console.log("romaSlot playBonus err");
};
e.prototype.procRomaBuyFree = function() {
if (0 == this.readShort()) {
var e = {};
e.chipValue = this.readInt();
e.nowFreeTimes = this.readByte();
n.MyEvent.getInstance().emit("ROMA_SLOT_ENTER_FREESPIN_EVENT", e);
} else console.log("romaSlot BuyFree err");
};
e.prototype.procRomaBuyBonusgame = function() {
if (0 == this.readShort()) {
var e = {};
e.chipValue = this.readInt();
e.bonusLife = this.readByte();
n.MyEvent.getInstance().emit("ROMA_SLOT_ENTER_BONUS_EVENT", e);
} else console.log("romaSlot BuyBonusgame err");
};
e.prototype.procRomaJackpotInfo = function() {
if (0 == this.readShort()) {
var e = {};
e.chipValue = this.readInt();
e.list = [];
for (var t = this.readByte(), o = 0; o < t; o++) e.list.push({
type: this.readByte(),
money: this.readInt64()
});
n.MyEvent.getInstance().emit("ROMA_SLOT_GET_JOAKPOT_EVENT", e);
} else console.log("romaSlot JackpotInfo err");
};
e.prototype.procDTRoomInfo = function() {};
e.prototype.procDTKickOut = function() {
s.default.lastScene = h.SceneIndex.dtGame;
h.default.enterHall();
};
e.prototype.procBacHndGetLeftCards = function() {
var e = this.readShort();
if (0 == e) {
var t = this.readShort();
n.MyEvent.getInstance().emit("UPDATE_LEFT_CARDS", t);
console.log("procBacHndGetLeftCards success");
} else console.log("procBacHndGetLeftCards fail", e);
};
e.prototype.procBacHndEndCutCard = function() {
var e = this.readShort();
0 == e ? console.log("procBacHndEndCutCard success") : console.log("procBacHndEndCutCard fail", e);
};
e.prototype.procBacHndIsContinue = function() {
var e = this.readShort();
0 == e ? console.log("procBacHndIsContinue success") : console.log("procBacHndIsContinue fail", e);
};
e.prototype.procBacHndRoomState = function() {};
e.prototype.procBacHndBroadcastIsContinue = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBacHndBroadcastIsContinue success");
var t = {};
t.userID = this.readInt();
t.isContinue = this.readByte();
n.MyEvent.getInstance().emit("USER_IS_CONTINUE", t);
} else console.log("procBacHndBroadcastIsContinue fail", e);
};
e.prototype.procBacHndRoomInfo = function() {};
e.prototype.procBacHndKickOut = function() {
s.default.lastScene = h.SceneIndex.baccaratHnd;
h.default.enterHall();
};
return i([ I ], e);
}());
o.default = B;
cc._RF.pop();
}, {
"../BeautyDialog/CommonDialog": "CommonDialog",
"../FireData/CommonData": "CommonData",
"../FireData/PublicActivityData": "PublicActivityData",
"../GameBJCore/GameBJConst": "GameBJConst",
"../GameBJCore/GameBJData": "GameBJData",
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../GameCores/DialogLogic": "DialogLogic",
"../GameCores/EXSceneManager": "EXSceneManager",
"../GameCores/GameRecorder": "GameRecorder",
"../GameFireData/GameAllConst": "GameAllConst",
"../GameFireData/GameDataInfo": "GameDataInfo",
"../Manager/ADManager": "ADManager",
"../PublicTools/GameEvents": "GameEvents",
"./ListenNetWork": "ListenNetWork",
"./NetCMD": "NetCMD",
"./NetPackage": "NetPackage",
"./NetWorkAll": "NetWorkAll",
"./ReportNetWork": "ReportNetWork"
} ],
NetSend: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "6fa751WcxxCUKFqg/W+fV5A", "NetSend");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("../GameFireData/GameAllConst"), a = e("../GameFireData/GameDataInfo"), r = e("../FireData/CommonData"), s = e("./NetCMD"), c = e("./NetWorkAll"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function() {
function e() {
this.allData = new ArrayBuffer(8192);
this.alldataView = new DataView(this.allData);
this.buffLength = 0;
this.newBuffer = null;
}
e.prototype.start = function() {};
e.prototype.writeBegin = function(e, t) {
this.buffLength = 0;
var o = t, i = e;
this.writeInt(0);
this.writeByte(0);
this.writeByte(1);
this.writeByte(o);
this.writeByte(0);
this.writeByte(0);
this.writeShort(i);
console.log("send", e.toString(16), t, c.default.getInstance().readyState);
};
e.prototype.writeByte = function(e) {
this.alldataView.setInt8(this.buffLength, e);
this.buffLength += 1;
};
e.prototype.writeShort = function(e) {
this.alldataView.setInt16(this.buffLength, e);
this.buffLength += 2;
};
e.prototype.writeInt = function(e) {
this.alldataView.setInt32(this.buffLength, e);
this.buffLength += 4;
};
e.prototype.writeInt64 = function(e) {
var t = e % Math.pow(2, 32), o = Math.floor(e / Math.pow(2, 32));
this.alldataView.setUint32(this.buffLength, o, !1);
this.buffLength += 4;
this.alldataView.setUint32(this.buffLength, t, !1);
this.buffLength += 4;
};
e.prototype.writeString = function(e) {
var t = this.encodeUtf8(e), o = new Uint8Array(t), i = o.length, n = new DataView(o.buffer);
this.writeInt(i);
for (var a = 0; a < i; a++) this.writeByte(n.getInt8(a));
};
e.prototype.encodeUtf8 = function(e) {
for (var t = encodeURIComponent(e), o = [], i = 0; i < t.length; i++) {
var n = t.charAt(i);
if ("%" === n) {
var a = t.charAt(i + 1) + t.charAt(i + 2), r = parseInt(a, 16);
o.push(r);
i += 2;
} else o.push(n.charCodeAt(0));
}
return o;
};
e.prototype.writeEnd = function() {
this.alldataView.setInt16(2, this.buffLength - 4, !1);
this.alldataView.setInt16(0, 29554);
this.newBuffer = this.allData.slice(0, this.buffLength);
c.default.getInstance().ws && c.default.getInstance().ws.readyState === WebSocket.OPEN ? c.default.getInstance().sendData(this.newBuffer) : console.log("", c.default.getInstance().ws, c.default.getInstance().readyState);
this.buffLength = 0;
};
e.prototype.sendNetCheck = function(e) {
this.writeBegin(s.default.CMD_NET_CHECK, s.default.MSG_TYPE.MSG_TYPE_CONNECT);
r.default.phoneData.sendTime = e;
e %= 1e5;
this.writeInt(e);
this.writeEnd();
};
e.prototype.loginGame = function(e, t, o) {
this.writeBegin(s.default.CMD_LOGIN, s.default.MSG_TYPE.MSG_TYPE_CONNECT);
this.writeInt(r.default.UserData.userId);
this.writeShort(e);
this.writeString(t);
this.writeString(o);
this.writeShort(0);
this.writeShort(0);
this.writeShort(a.default.ver);
this.writeInt(0);
this.writeInt(0);
this.writeString(a.default.devId);
this.writeEnd();
};
e.prototype.loginOut = function() {
this.writeBegin(s.default.CMD_LOGINOUT, s.default.MSG_TYPE.MSG_TYPE_CONNECT);
this.writeEnd();
};
e.prototype.loginGameHall = function() {
this.writeBegin(s.default.CMD_LOGIN_HALL, s.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(r.default.UserData.userId);
this.writeShort(0);
this.writeShort(0);
this.writeShort(0);
this.writeShort(a.default.ver);
this.writeInt(0);
this.writeInt(0);
this.writeEnd();
};
e.prototype.setSetUp = function(e, t, o, i, n) {
this.writeBegin(s.default.CMD_SET_SETUP, s.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeString(t);
this.writeString(o);
this.writeString(i);
n ? this.writeByte(1) : this.writeByte(0);
this.writeEnd();
};
e.prototype.inspectNameRepeat = function(e) {
this.writeBegin(s.default.CMD_INSPECT_NAME_REPEAT, s.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeString(e);
this.writeEnd();
};
e.prototype.setPraiseChoice = function(e) {
this.writeBegin(s.default.CMD_PRAISE_CHOICE, s.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeEnd();
};
e.prototype.quickEnterBaccaratRoom = function(e, t) {
this.writeBegin(s.default.CMD_QUICK_ENTER_ROOM, s.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeByte(t);
this.writeEnd();
};
e.prototype.getCardNum = function(e, t, o) {
this.writeBegin(s.default.CMD_GET_ROOM_CARD_NUM, s.default.MSG_TYPE.MSG_TYPE_GAMESVR);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.reportAddMoney = function() {
this.writeBegin(s.default.CMD_GAME_SCENE_REPORT_MONEY, s.default.MSG_TYPE.MSG_TYPE_GAMESVR);
this.writeEnd();
};
e.prototype.getDailyTaskConfig = function(e) {
this.writeBegin(s.default.CMD_DAILY_TASK_CONFIG, s.default.MSG_TYPE.MSG_TYPE_TASKSVR);
this.writeByte(e);
this.writeEnd();
};
e.prototype.getDailyTaskList = function(e) {
this.writeBegin(s.default.CMD_DAILY_TASK_LIST, s.default.MSG_TYPE.MSG_TYPE_TASKSVR);
this.writeInt(e);
this.writeEnd();
};
e.prototype.getTaskReward = function(e) {
this.writeBegin(s.default.CMD_GET_TASK_REWARD, s.default.MSG_TYPE.MSG_TYPE_TASKSVR);
this.writeShort(e);
this.writeEnd();
};
e.prototype.getTaskProgress = function(e) {
this.writeBegin(s.default.CMD_GET_TASK_PROGRESS, s.default.MSG_TYPE.MSG_TYPE_TASKSVR);
this.writeShort(e);
this.writeEnd();
};
e.prototype.getInviteRegisterInfo = function() {
this.writeBegin(s.default.CMD_INVITE_REGISTER_INFO, s.default.MSG_TYPE.MSG_TYPE_TASKSVR);
this.writeEnd();
};
e.prototype.getInviteRegisterReward = function() {
this.writeBegin(s.default.CMD_INVITE_REGISTER_REWARD, s.default.MSG_TYPE.MSG_TYPE_TASKSVR);
this.writeEnd();
};
e.prototype.getRecommendUserList = function(e) {
this.writeBegin(s.default.CMD_GET_RECOMMEND_USER_LIST, s.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeEnd();
};
e.prototype.getBildList = function() {
this.writeBegin(s.default.CMD_GET_BLND_LIST, s.default.MSG_TYPE.MSG_TYPE_CONNECT);
this.writeEnd();
};
e.prototype.reportTaskProgress = function(e, t, o) {
this.writeBegin(s.default.CMD_REPORT_TASK_PROGRESS, s.default.MSG_TYPE.MSG_TYPE_TASKSVR);
this.writeByte(e);
this.writeInt(t);
this.writeInt(o);
this.writeEnd();
};
e.prototype.getRedNotification = function() {
this.writeBegin(s.default.CMD_GET_RED_NOTIFICATION, s.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.getPhpActivity = function() {
this.writeBegin(s.default.CMD_GET_PHP_ACTIVITY, s.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.bjEnterRoom = function(e, t, o, i, n) {
this.writeBegin(s.default.CMD_BLACKJACK_ENTER_ROOM, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeString(n || "");
this.writeEnd();
};
e.prototype.bjUserBet = function(e) {
this.writeBegin(s.default.CMD_BLACKJACK_BET, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
var t = e.length;
this.writeByte(t);
for (var o = 0; o < t; o++) {
this.writeByte(e[o].betAreaID);
this.writeInt64(e[o].betMoney * a.default.chipMulti);
}
this.writeEnd();
};
e.prototype.bjUserCancelBet = function() {
this.writeBegin(s.default.CMD_BLACKJACK_CANCEL_BET, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeEnd();
};
e.prototype.bjUserCompleteBet = function() {
this.writeBegin(s.default.CMD_BLACKJACK_COMPLETE_BET, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeEnd();
};
e.prototype.bjUserLeaveRoom = function() {
this.writeBegin(s.default.CMD_BLACKJACK_QUIT_ROOM, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeEnd();
};
e.prototype.bjUserSit = function(e) {
this.writeBegin(s.default.CMD_BLACKJACK_USER_SIT, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(e);
this.writeEnd();
};
e.prototype.bjUserStand = function() {
this.writeBegin(s.default.CMD_BLACKJACK_USER_STAND, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeEnd();
};
e.prototype.bjUserBroadcastChat = function(e) {
this.writeBegin(s.default.CMD_BLACKJACK_BROADCAST_CHAT, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(n.broadcastType.chat);
this.writeInt(r.default.UserData.userId);
this.writeString(r.default.UserData.nickname);
this.writeString(e);
this.writeEnd();
};
e.prototype.bjUserBroadcastEjimo = function(e) {
this.writeBegin(s.default.CMD_BLACKJACK_ROOM_BROADCAST, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(n.broadcastType.ejimo);
this.writeInt(r.default.UserData.userId);
this.writeString(r.default.UserData.nickname);
this.writeByte(e);
this.writeEnd();
};
e.prototype.bjEndCutCard = function() {
this.writeBegin(s.default.CMD_BLACKJACK_END_CUT_CARD, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeEnd();
};
e.prototype.bjUserBroadcastCutCardMove = function(e) {
this.writeBegin(s.default.CMD_BLACKJACK_ROOM_BROADCAST, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(n.broadcastType.cutCard_move);
this.writeInt(r.default.UserData.userId);
this.writeString(r.default.UserData.nickname);
this.writeByte(Math.floor(100 * e.percentage));
this.writeShort(e.time);
this.writeEnd();
};
e.prototype.bjUserBroadcastCutCardIng = function() {
this.writeBegin(s.default.CMD_BLACKJACK_ROOM_BROADCAST, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(n.broadcastType.cutCard_ing);
this.writeInt(r.default.UserData.userId);
this.writeString(r.default.UserData.nickname);
this.writeEnd();
};
e.prototype.bjGetRoomInfo = function(e, t, o, i) {
this.writeBegin(s.default.CMD_BLACKJACK_GET_ROOM_INFO, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeEnd();
};
e.prototype.bjGetRoomState = function(e, t, o) {
this.writeBegin(s.default.CMD_BLACKJACK_GET_GAME_STATE, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.bjUserBuyInsurance = function(e) {
this.writeBegin(s.default.CMD_BLACKJACK_USER_INSURANCE, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(e);
this.writeEnd();
};
e.prototype.bjUserAction = function(e, t) {
this.writeBegin(s.default.CMD_BLACKJACK_USER_ACTION, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(e);
this.writeByte(t);
this.writeEnd();
};
e.prototype.getUserGameInfo = function(e, t) {
this.writeBegin(s.default.CMD_GET_USER_GAMEINFO, s.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeByte(t);
this.writeEnd();
};
e.prototype.getUserTotalInfo = function(e) {
this.writeBegin(s.default.CMD_GET_USER_TOTAL_INFO, s.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeEnd();
};
e.prototype.getBlackJackRoomList = function(e, t) {
this.writeBegin(s.default.CMD_GET_BLACKJACK_ROOM_LIST, s.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeInt(t * a.default.chipMulti);
this.writeEnd();
};
e.prototype.bjReportAddMoney = function() {
this.writeBegin(s.default.CMD_GAME_SCENE_REPORT_MONEY, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeEnd();
};
e.prototype.getTimeRewardInfo = function() {
this.writeBegin(s.default.CMD_TIME_REWARD, s.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.getAdRewardInfo = function(e) {
this.writeBegin(s.default.CMD_AD_REWARD, s.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeEnd();
};
e.prototype.DiceEnterRoom = function(e, t, o, i, n) {
this.writeBegin(s.default.CMD_BACCARAT_HND_ENTER_ROOM, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeString(n || "");
this.writeEnd();
};
e.prototype.DiceUserBet = function(e) {
this.writeBegin(s.default.CMD_BACCARAT_HND_BET, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
var t = e.length;
this.writeByte(t);
for (var o = 0; o < t; o++) {
this.writeByte(e[o].betAreaID);
this.writeInt64(e[o].betMoney * a.default.chipMulti);
}
this.writeEnd();
};
e.prototype.DiceUserCancelBet = function() {
this.writeBegin(s.default.CMD_BACCARAT_HND_CANCEL_BET, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
this.writeEnd();
};
e.prototype.DiceUserLeaveRoom = function() {
this.writeBegin(s.default.CMD_BACCARAT_HND_QUIT_ROOM, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
this.writeEnd();
};
e.prototype.DiceUserBroadcastChat = function(e) {
this.writeBegin(s.default.CMD_BACCARAT_HND_ROOM_CHAT, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
this.writeByte(n.broadcastType.chat);
this.writeInt(r.default.UserData.userId);
this.writeString(r.default.UserData.nickname);
this.writeString(e);
this.writeEnd();
};
e.prototype.DiceUserBroadcastEjimo = function(e) {
this.writeBegin(s.default.CMD_BACCARAT_HND_ROOM_BROADCAST, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
this.writeByte(n.broadcastType.ejimo);
this.writeInt(r.default.UserData.userId);
this.writeString(r.default.UserData.nickname);
this.writeByte(e);
this.writeEnd();
};
e.prototype.DiceGetRoomInfo = function(e, t, o, i) {
this.writeBegin(s.default.CMD_BACCARAT_HND_GET_ROOM_INFO, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeEnd();
};
e.prototype.DiceGetRoomState = function(e, t, o) {
this.writeBegin(s.default.CMD_BACCARAT_HND_GET_ROOM_STATUS, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.DiceGetStandUserList = function(e) {
this.writeBegin(s.default.CMD_BACCARAT_HND_GET_STAND_USER_LIST, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
this.writeByte(e);
this.writeEnd();
};
e.prototype.DiceReportAddMoney = function() {
this.writeBegin(s.default.CMD_GAME_SCENE_REPORT_MONEY, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
this.writeEnd();
};
e.prototype.RomaSlotEnterRoom = function(e, t, o) {
this.writeBegin(s.default.CMD_ROMASLOT_ENTER_ROOM, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.RomaSlotLeaveRoom = function() {
this.writeBegin(s.default.CMD_ROMASLOT_LEAVE_ROOM, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA);
this.writeEnd();
};
e.prototype.RomaSlotUserSpin = function(e) {
this.writeBegin(s.default.CMD_ROMASLOT_USER_SPIN, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA);
this.writeInt(e);
this.writeEnd();
};
e.prototype.RomaSlotFreeSpin = function() {
this.writeBegin(s.default.CMD_ROMASLOT_FREE_SPIN, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA);
this.writeEnd();
};
e.prototype.RomaPlayBonus = function() {
this.writeBegin(s.default.CMD_ROMASLOT_PLAY_BONUS, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA);
this.writeEnd();
};
e.prototype.RomaBuyFree = function(e) {
this.writeBegin(s.default.CMD_ROMASLOT_BUY_FREE, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA);
this.writeInt(e);
this.writeEnd();
};
e.prototype.RomaBuyBonusgame = function(e) {
this.writeBegin(s.default.CMD_ROMASLOT_BUY_BONUSGAME, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA);
this.writeInt(e);
this.writeEnd();
};
e.prototype.RomaGetJackpot = function(e) {
this.writeBegin(s.default.CMD_ROMASLOT_JACKPOT_NUM, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA);
this.writeInt(e);
this.writeEnd();
};
e.prototype.DTEnterRoom = function(e, t, o, i, n) {
this.writeBegin(s.default.CMD_BACCARAT_HND_ENTER_ROOM, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeString(n || "");
this.writeEnd();
};
e.prototype.DTUserBet = function(e) {
this.writeBegin(s.default.CMD_BACCARAT_HND_BET, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
var t = e.length;
this.writeByte(t);
for (var o = 0; o < t; o++) {
this.writeByte(e[o].betAreaID);
this.writeInt64(e[o].betMoney * a.default.chipMulti);
}
this.writeEnd();
};
e.prototype.DTUserCancelBet = function() {
this.writeBegin(s.default.CMD_BACCARAT_HND_CANCEL_BET, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeEnd();
};
e.prototype.DTUserLeaveRoom = function() {
this.writeBegin(s.default.CMD_BACCARAT_HND_QUIT_ROOM, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeEnd();
};
e.prototype.DTUserBroadcastChat = function(e) {
this.writeBegin(s.default.CMD_BACCARAT_HND_ROOM_CHAT, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(n.broadcastType.chat);
this.writeInt(r.default.UserData.userId);
this.writeString(r.default.UserData.nickname);
this.writeString(e);
this.writeEnd();
};
e.prototype.DTUserBroadcastEjimo = function(e) {
this.writeBegin(s.default.CMD_BACCARAT_HND_ROOM_BROADCAST, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(n.broadcastType.ejimo);
this.writeInt(r.default.UserData.userId);
this.writeString(r.default.UserData.nickname);
this.writeByte(e);
this.writeEnd();
};
e.prototype.DTEndCutCard = function() {
this.writeBegin(s.default.CMD_BACCARAT_HND_END_CUT_CARD, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeEnd();
};
e.prototype.DTUserBroadcastCutCardMove = function(e) {
this.writeBegin(s.default.CMD_BACCARAT_HND_ROOM_BROADCAST, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(n.broadcastType.cutCard_move);
this.writeInt(r.default.UserData.userId);
this.writeString(r.default.UserData.nickname);
this.writeByte(Math.floor(100 * e.percentage));
this.writeShort(e.time);
this.writeEnd();
};
e.prototype.DTUserBroadcastCutCardIng = function() {
this.writeBegin(s.default.CMD_BACCARAT_HND_ROOM_BROADCAST, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(n.broadcastType.cutCard_ing);
this.writeInt(r.default.UserData.userId);
this.writeString(r.default.UserData.nickname);
this.writeEnd();
};
e.prototype.DTGetRoomInfo = function(e, t, o, i) {
this.writeBegin(s.default.CMD_BACCARAT_HND_GET_ROOM_INFO, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeEnd();
};
e.prototype.DTGetRoomState = function(e, t, o) {
this.writeBegin(s.default.CMD_BACCARAT_HND_GET_ROOM_STATUS, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.DTGetLeftCards = function(e, t, o) {
this.writeBegin(s.default.CMD_BACCARAT_HND_GET_LEFT_CARDS, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.DTIsContinue = function(e) {
this.writeBegin(s.default.CMD_BACCARAT_HND_END_CUT_CARD, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(e);
this.writeEnd();
};
e.prototype.DTGetStandUserList = function(e) {
this.writeBegin(s.default.CMD_BACCARAT_HND_GET_STAND_USER_LIST, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(e);
this.writeEnd();
};
e.prototype.DTReportAddMoney = function() {
this.writeBegin(s.default.CMD_GAME_SCENE_REPORT_MONEY, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeEnd();
};
e.prototype.bacHndEnterRoom = function(e, t, o, i, n) {
this.writeBegin(s.default.CMD_BACCARAT_HND_ENTER_ROOM, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeString(n || "");
this.writeEnd();
};
e.prototype.bacHndUserBet = function(e) {
this.writeBegin(s.default.CMD_BACCARAT_HND_BET, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
var t = e.length;
this.writeByte(t);
for (var o = 0; o < t; o++) {
this.writeByte(e[o].betAreaID);
this.writeInt64(e[o].betMoney * a.default.chipMulti);
}
this.writeEnd();
};
e.prototype.bacHndUserCancelBet = function() {
this.writeBegin(s.default.CMD_BACCARAT_HND_CANCEL_BET, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeEnd();
};
e.prototype.bacHndUserCompleteBet = function() {
this.writeBegin(s.default.CMD_BACCARAT_HND_COMPLETE_BET, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeEnd();
};
e.prototype.bacHndUserLeaveRoom = function() {
this.writeBegin(s.default.CMD_BACCARAT_HND_QUIT_ROOM, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeEnd();
};
e.prototype.bacHndUserBroadcastChat = function(e) {
this.writeBegin(s.default.CMD_BACCARAT_HND_ROOM_CHAT, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(n.broadcastType.chat);
this.writeInt(r.default.UserData.userId);
this.writeString(r.default.UserData.nickname);
this.writeString(e);
this.writeEnd();
};
e.prototype.bacHndUserBroadcastEjimo = function(e) {
this.writeBegin(s.default.CMD_BACCARAT_HND_ROOM_BROADCAST, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(n.broadcastType.ejimo);
this.writeInt(r.default.UserData.userId);
this.writeString(r.default.UserData.nickname);
this.writeByte(e);
this.writeEnd();
};
e.prototype.bacHndEndCutCard = function() {
this.writeBegin(s.default.CMD_BACCARAT_HND_END_CUT_CARD, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeEnd();
};
e.prototype.bacHndUserBroadcastCutCardMove = function(e) {
this.writeBegin(s.default.CMD_BACCARAT_HND_ROOM_BROADCAST, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(n.broadcastType.cutCard_move);
this.writeInt(r.default.UserData.userId);
this.writeString(r.default.UserData.nickname);
this.writeByte(Math.floor(100 * e.percentage));
this.writeShort(e.time);
this.writeEnd();
};
e.prototype.bacHndUserBroadcastCutCardIng = function() {
this.writeBegin(s.default.CMD_BACCARAT_HND_ROOM_BROADCAST, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(n.broadcastType.cutCard_ing);
this.writeInt(r.default.UserData.userId);
this.writeString(r.default.UserData.nickname);
this.writeEnd();
};
e.prototype.bacHndGetRoomInfo = function(e, t, o, i) {
this.writeBegin(s.default.CMD_BACCARAT_HND_GET_ROOM_INFO, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeEnd();
};
e.prototype.bacHndGetRoomState = function(e, t, o) {
this.writeBegin(s.default.CMD_BACCARAT_HND_GET_ROOM_STATUS, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.bacHndGetLeftCards = function(e, t, o) {
this.writeBegin(s.default.CMD_BACCARAT_HND_GET_LEFT_CARDS, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.bacHndIsContinue = function(e) {
this.writeBegin(s.default.CMD_BACCARAT_HND_END_CUT_CARD, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(e);
this.writeEnd();
};
e.prototype.bacHndGetStandUserList = function(e) {
this.writeBegin(s.default.CMD_BACCARAT_HND_GET_STAND_USER_LIST, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(e);
this.writeEnd();
};
e.prototype.bacHndReportAddMoney = function() {
this.writeBegin(s.default.CMD_GAME_SCENE_REPORT_MONEY, s.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeEnd();
};
return i([ d ], e);
}());
o.default = h;
cc._RF.pop();
}, {
"../FireData/CommonData": "CommonData",
"../GameFireData/GameAllConst": "GameAllConst",
"../GameFireData/GameDataInfo": "GameDataInfo",
"./NetCMD": "NetCMD",
"./NetWorkAll": "NetWorkAll"
} ],
NetWorkAll: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "564e8JoqkNHDKmN+/uP+N8y", "NetWorkAll");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = cc._decorator, a = n.ccclass, r = (n.property, e("./NetSend")), s = e("./NetRecieve"), c = e("../GameCores/EXSceneManager"), l = e("../GameFireData/GameDataInfo"), d = e("./ListenNetWork"), h = e("../PublicTools/GameEvents"), u = e("../GameFireData/GameAllData"), p = e("../GameCores/GameRecorder"), f = e("./ReportNetWork"), m = e("../BeautyDialog/CommonDialog"), g = e("../GameCores/DialogLogic"), y = function() {
function e() {
this._ver = 0;
}
t = e;
e.prototype.initSocketData = function() {
console.log("");
this._socketSend = new r.default();
this._socketRecv = new s.default();
this._socketRecv.init_proc_func();
};
e.prototype.connect = function(e) {
if (null != this._ws) {
this._ws.close();
this._ws = null;
}
var t = new WebSocket(e || "ws://192.168.1.100:8828");
console.log(" url = " + e);
this._ws = t;
this._ws.binaryType = "arraybuffer";
this._ws.onopen = this._onOpen.bind(this);
this._ws.onmessage = this._onMessage.bind(this);
this._ws.onclose = this._onClose.bind(this);
this._ws.onerror = this._onError.bind(this);
};
e.prototype._onOpen = function() {
console.log("", this._ws.readyState);
if (this._ws.readyState === WebSocket.OPEN) {
this.notTips = !1;
console.log("", new Date());
this.loginHall();
f.NetworkReporter.inst.setEnabled(u.default.delayCheck);
f.NetworkReporter.inst.start();
}
};
e.prototype.loginHall = function() {
this._socketSend || this.initSocketData();
var e = l.default.devId, t = "";
if (l.default.currPlatType == l.PlatformType.apple) {
e = l.default.applePid;
t = l.default.appleToken;
}
if (l.default.currPlatType == l.PlatformType.telephoneWithPassword || l.default.currPlatType == l.PlatformType.telephoneWithVCode) {
e = l.default.phoneNumber;
t = l.default.phonePassword;
}
if (l.default.currPlatType == l.PlatformType.facebook) {
e = l.default.fbUid;
t = l.default.fbToken;
}
console.log("login game logintype,pid,password = ", l.default.currPlatType, e, t);
this._socketSend.loginGame(l.default.currPlatType, e, t);
};
e.prototype._onMessage = function(e) {
new Uint8Array(e.data);
var t = new DataView(e.data), o = {};
new ArrayBuffer(2);
e.data.slice(0, 1);
o.length = t.getInt16(2);
o.code = t.getInt8(4);
o.gameType = t.getInt8(5);
o.msgType = t.getInt8(6);
o.version = t.getInt8(7);
o.subver = t.getInt8(8);
o.cmd = t.getInt16(9);
var i = e.data.slice(0);
this._socketRecv.process(o, t, i);
};
e.prototype._onClose = function() {
console.log("webSoket  this._ws.onclose ", this._ws);
if (this._ws) {
this._ws.close();
this._ws = null;
console.log("");
}
if (!this.notTips) {
var e = new m.disconnection();
g.default.inst.showDialog(g.DialogIndex.confirm, [ e ]);
p.default.record(p.EventID.networkClose, "scene", l.default.currScene);
}
h.MyEvent.getInstance().emit("MYSOKET_CLOSE_EVENT");
d.default.inst.stopNetworkCheck();
f.NetworkReporter.inst.reportNetworkDelay();
};
e.prototype._onError = function(e) {
console.log("webSoket  this._ws.onclose ", e);
h.MyEvent.getInstance().emit("MYSOKET_ERROR_EVENT");
d.default.inst.stopNetworkCheck();
f.NetworkReporter.inst.reportNetworkDelay();
};
e.prototype.sendData = function(e) {
this._ws.readyState === WebSocket.OPEN && this._ws.send(e);
};
Object.defineProperty(e.prototype, "readyState", {
get: function() {
if (this._ws) return this._ws.readyState;
console.log("this._ws is null");
return 0;
},
enumerable: !1,
configurable: !0
});
e.prototype.reconnectProcessing = function() {
if (t.getInstance().readyState === WebSocket.OPEN) c.default.enterLoading(); else {
t.getInstance().close(!0);
c.default.enterLoading();
}
};
e.prototype.close = function(e) {
if (this._ws) {
console.log("server", this._ws.readyState);
this._ws.close();
console.log("");
}
this.notTips = e;
};
Object.defineProperty(e.prototype, "ws", {
get: function() {
return this._ws;
},
enumerable: !1,
configurable: !0
});
e.getInstance = function() {
this.instance || (this.instance = new t());
return this.instance;
};
Object.defineProperty(e.prototype, "socketSend", {
get: function() {
return this._socketSend;
},
enumerable: !1,
configurable: !0
});
var t;
return t = i([ a ], e);
}();
o.default = y;
cc._RF.pop();
}, {
"../BeautyDialog/CommonDialog": "CommonDialog",
"../GameCores/DialogLogic": "DialogLogic",
"../GameCores/EXSceneManager": "EXSceneManager",
"../GameCores/GameRecorder": "GameRecorder",
"../GameFireData/GameAllData": "GameAllData",
"../GameFireData/GameDataInfo": "GameDataInfo",
"../PublicTools/GameEvents": "GameEvents",
"./ListenNetWork": "ListenNetWork",
"./NetRecieve": "NetRecieve",
"./NetSend": "NetSend",
"./ReportNetWork": "ReportNetWork"
} ],
NetworkCheck: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "12e234xwgRPYIQx1w3u1UVB", "NetworkCheck");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../manager/DlgGameMgr"), s = e("./SocketGameManager"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._networkLostTimes = 0;
t._netCheckTimeOut = 0;
return t;
}
o = t;
t.prototype.startNetworkCheck = function() {
this.schedule(this.sendNetCheck, 5);
this.schedule(this.checkNetworkTimeout, 5);
};
t.prototype.sendNetCheck = function() {
var e = Date.now();
s.default.getInstance().socketSend.sendNetCheckGame(e);
};
t.prototype.checkNetworkTimeout = function() {
this._netCheckTimeOut++;
if (this._netCheckTimeOut >= 3) {
this.stopNetworkCheck();
s.default.getInstance().reconnect();
}
};
t.prototype.onlineCheck = function(e) {
this._netCheckTimeOut = 0;
var t = Date.now(), o = (t %= 1e5) - e;
console.log("network delay = ", o);
if (o < 2500) this._networkLostTimes = 0; else {
this._networkLostTimes = this._networkLostTimes + 1;
if (this._networkLostTimes > 3) {
s.default.getInstance().close();
r.default.inst.showBadNetworkDialog();
}
}
};
t.prototype.resetLostTimes = function() {
this._networkLostTimes = 0;
};
t.prototype.stopNetworkCheck = function() {
this._networkLostTimes = 0;
this.unschedule(this.sendNetCheck);
this.unschedule(this.checkNetworkTimeout);
};
Object.defineProperty(t, "inst", {
get: function() {
null == this._inst && (this._inst = new o());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var o;
t._inst = null;
return o = a([ l ], t);
}(cc.Component));
o.default = d;
cc._RF.pop();
}, {
"../manager/DlgGameMgr": "DlgGameMgr",
"./SocketGameManager": "SocketGameManager"
} ],
NetworkListener: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4b5d5wa5p1FmJ+shi1ioipN", "NetworkListener");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Manager/DialogManager"), s = e("./WebSocketManager"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._networkLostTimes = 0;
t._netCheckTimeOut = 0;
return t;
}
o = t;
t.prototype.startNetworkCheck = function() {
this.schedule(this.sendNetCheck, 5);
this.schedule(this.checkNetworkTimeout, 5);
};
t.prototype.sendNetCheck = function() {
var e = Date.now();
s.default.getInstance().socketSend.sendNetCheck(e);
};
t.prototype.checkNetworkTimeout = function() {
this._netCheckTimeOut++;
if (this._netCheckTimeOut >= 3) {
this.stopNetworkCheck();
s.default.getInstance().reconnect();
}
};
t.prototype.onlineCheck = function(e) {
this._netCheckTimeOut = 0;
var t = Date.now(), o = (t %= 1e5) - e;
console.log("network delay = ", o);
if (o < 2500) this._networkLostTimes = 0; else {
this._networkLostTimes = this._networkLostTimes + 1;
if (this._networkLostTimes > 3) {
s.default.getInstance().close();
r.default.inst.showBadNetworkDialog();
}
}
};
t.prototype.resetLostTimes = function() {
this._networkLostTimes = 0;
};
t.prototype.stopNetworkCheck = function() {
this._networkLostTimes = 0;
this.unschedule(this.sendNetCheck);
this.unschedule(this.checkNetworkTimeout);
};
Object.defineProperty(t, "inst", {
get: function() {
null == this._inst && (this._inst = new o());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var o;
t._inst = null;
return o = a([ l ], t);
}(cc.Component));
o.default = d;
cc._RF.pop();
}, {
"../Manager/DialogManager": "DialogManager",
"./WebSocketManager": "WebSocketManager"
} ],
NetworkReprter: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "6322asw+UZN0K94fSB9OAi9", "NetworkReprter");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.NetworkReporter = void 0;
var n = e("../Conf/Game"), a = e("../Interface/PhoneInfo"), r = e("../Manager/EventRecorder"), s = e("./WebSocketManager"), c = e("../UIFrame/CocosHelper"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function() {
function e() {
this.NETWORK_CHECK_INTERVAL = 1;
this.NETWORK_REPORT_INTERVAL = 60;
this.secondCounter = 0;
this.delayInfoList = "";
this.delayInfo = {};
this.sendCheckTime = 0;
this.enabled = 1;
this.scheduler = null;
}
t = e;
e.prototype.setEnabled = function(e) {
this.enabled = e;
};
e.prototype.start = function() {
if (1 == this.enabled) {
this.secondCounter = 0;
this.delayInfoList = "";
this.scheduler = cc.director.getScheduler();
this.scheduler.enableForTarget(this);
this.scheduler.unscheduleAllForTarget(this);
this.scheduler.schedule(this.excuteCheck, this, 1, 0, 1, !1);
}
};
e.prototype.excuteCheck = function() {
if (this.secondCounter < this.NETWORK_REPORT_INTERVAL) {
var e = Date.now();
this.sendCheckTime = e % 1e5;
this.delayInfo = {};
this.delayInfo[this.sendCheckTime] = 0;
s.default.getInstance().socketSend.sendNetCheck(this.sendCheckTime);
this.scheduler.schedule(this.checkResponse, this, 1, 0, this.NETWORK_CHECK_INTERVAL, !1);
this.secondCounter++;
} else this.reportNetworkDelay();
};
e.prototype.checkResponse = function() {
if (0 == this.delayInfo[this.sendCheckTime]) {
this.delayInfo = {};
this.delayInfoList = this.delayInfoList + "0|";
}
this.scheduler.schedule(this.excuteCheck, this, 1, 0, .1, !1);
};
e.prototype.process = function(e) {
if (1 == this.enabled && 0 == this.delayInfo[e]) {
var t = Date.now() % 1e5 - this.sendCheckTime;
this.delayInfo[e] = t;
this.delayInfoList = this.delayInfoList + t + "|";
}
};
e.prototype.reportNetworkDelay = function() {
var e = this;
if (1 == this.enabled && "" != this.delayInfoList) {
console.log("delay info", this.delayInfoList);
a.default.inst.getNetworkEnvironment();
c.default.sleepSync(.1).then(function() {
console.log("report network", n.default.networkEnvironment);
r.default.record(r.EventID.networkDelay, "delay", e.delayInfoList + n.default.networkEnvironment);
e.stop();
});
}
};
e.prototype.stop = function() {
if (1 == this.enabled) {
cc.director.getScheduler().unscheduleAllForTarget(this);
this.secondCounter = 0;
this.delayInfoList = "";
this.delayInfo = {};
}
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ d ], e);
}());
o.NetworkReporter = h;
cc._RF.pop();
}, {
"../Conf/Game": "Game",
"../Interface/PhoneInfo": "PhoneInfo",
"../Manager/EventRecorder": "EventRecorder",
"../UIFrame/CocosHelper": "CocosHelper",
"./WebSocketManager": "WebSocketManager"
} ],
NewCommonTip: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "30cc8g9P2BPiq3x7D5dwaPc", "NewCommonTip");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._content = null;
t._bg = null;
return t;
}
t.prototype.onLoad = function() {};
t.prototype.initTips = function(e, t) {
var o = this;
this._content = this.node.getChildByName("labelContent");
this._bg = this.node.getChildByName("dialog");
this._content.getComponent(cc.Label).string = e;
this._content.getComponent(cc.Label)._forceUpdateRenderData(!0);
var i = new cc.Color(149, 186, 244);
this._content.color = t || i;
var n = this._content.width + 40, a = this._content.height + 15;
n < 764 && (n = 764);
a < 114 && (a = 114);
this._bg.width = n;
this._bg.height = a;
this.scheduleOnce(function() {
o.node.destroy();
}, 2);
};
return a([ s ], t);
}(cc.Component));
o.default = c;
cc._RF.pop();
}, {} ],
Number: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "979d8e+DphBV5sg7PyVPvVZ", "Number");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, function(e) {
n(t, e);
function t(t, o, i) {
var n = e.call(this) || this;
n.cardNums = {};
n.numberStr = "";
n.numberWidth = 0;
n.align = 0;
n.numberStr = o;
n.numberWidth = 0;
n.align = i;
cc.loader.loadRes(t, cc.SpriteAtlas, function(e, t) {
this.onLoadComplete(t);
}.bind(n));
return n;
}
t.prototype.onLoadComplete = function(e) {
this.cardNums["."] = e.getSpriteFrame("p");
this.cardNums["+"] = e.getSpriteFrame("+");
this.cardNums[0] = e.getSpriteFrame("0");
this.cardNums[1] = e.getSpriteFrame("1");
this.cardNums[2] = e.getSpriteFrame("2");
this.cardNums[3] = e.getSpriteFrame("3");
this.cardNums[4] = e.getSpriteFrame("4");
this.cardNums[5] = e.getSpriteFrame("5");
this.cardNums[6] = e.getSpriteFrame("6");
this.cardNums[7] = e.getSpriteFrame("7");
this.cardNums[8] = e.getSpriteFrame("8");
this.cardNums[9] = e.getSpriteFrame("9");
if (0 == this.align) for (var t = 0; t < this.numberStr.length; t++) {
var o = this.numberStr.substring(t, t + 1);
this.addElement(o);
} else for (t = this.numberStr.length - 1; t >= 0; t--) {
o = this.numberStr.substring(t, t + 1);
this.addElement(o);
}
};
t.prototype.addElement = function(e) {
var t = this.cardNums[e + ""], o = new cc.Node();
o.addComponent(cc.Sprite);
o.getComponent(cc.Sprite).spriteFrame = t;
o.parent = this;
o.y = 0;
if (0 == this.align) {
o.anchorX = 0;
o.x = this.numberWidth;
} else {
o.anchorX = 1;
o.x = -this.numberWidth;
}
this.numberWidth = this.numberWidth + t.getRect().width - 5;
};
t.prototype.getNumberWidth = function() {
return this.numberWidth;
};
return a([ s ], t);
}(cc.Node));
o.default = c;
cc._RF.pop();
}, {} ],
OffsetShader: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b2234zv+8ZNAZyKb+8EuRn1", "OffsetShader");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, r.executeInEditMode), l = r.requireComponent, d = r.disallowMultiple, h = r.menu, u = function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {};
t.prototype.changeFrame = function() {
this._updateframe();
};
t.prototype.onEnable = function() {
this._updateframe();
};
t.prototype._updateframe = function() {
var e = this.node.getComponent(cc.Sprite), t = e.spriteFrame, o = t.uv[0], i = t.uv[6], n = t.uv[3], a = t.uv[5], r = new cc.Vec4(o, a, i, n), s = t.isRotated() ? 1 : 0, c = e.getMaterials()[0];
c.effect.setProperty("u_uvOffset", r);
c.effect.setProperty("u_uvRotated", s);
};
return a([ s, d(), h("/SharderOffset"), c, l(cc.RenderComponent) ], t);
}(cc.Component);
o.default = u;
cc._RF.pop();
}, {} ],
OldTips: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "85fedfD8ctLaZEcd5Oj3lt9", "OldTips");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {};
t.prototype.setData = function(e, t) {
var o = this;
this.setDataView(e, t);
this.scheduleOnce(function() {
o.node.destroy();
}, 2);
};
t.prototype.setDataView = function(e, t) {
this._msg = this.node.getChildByName("msg");
this._msg.getComponent(cc.Label).string = e;
var o = new cc.Color(255, 47, 47);
this._msg.color = t || o;
this._msg.getComponent(cc.Label)._forceUpdateRenderData(!0);
this.node.width = this._msg.width + 100;
this.node.setPosition(cc.winSize.width / 2, cc.winSize.height / 2);
};
t.prototype.start = function() {};
return a([ s ], t);
}(cc.Component));
o.default = c;
cc._RF.pop();
}, {} ],
PageHomeDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1fca4eD+ItGJr0jwgHp8gO4", "PageHomeDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.homePageData = o.safeFlag = void 0;
var r, s = e("../../data/MyData"), c = e("../../data/GameLangData"), l = e("../../natives/AndroidInfo"), d = e("../../manager/DlgGameMgr"), h = e("../../communication/SocketGameManager"), u = e("../../public/ThirdParty/CocosPublic"), p = e("../../public/ThirdParty/GameSysDefine"), f = e("../../public/ThirdParty/happyList"), m = e("../../manager/GameSoundMgr"), g = e("../../public/ThirdParty/UIGameBase"), y = e("../../public/ThirdParty/UIGameMgr"), _ = e("../../public/MyComponent/GameHppayUtil"), C = e("./GameConfirmDlg"), b = e("../executor/PageHomeEx"), v = e("../../communication/GameLobbyHttp");
(function(e) {
e[e.deposit = 0] = "deposit";
e[e.takeOut = 1] = "takeOut";
})(o.safeFlag || (o.safeFlag = {}));
(function(e) {
e[e.coin = 1] = "coin";
e[e.chip = 2] = "chip";
e[e.voucher = 3] = "voucher";
})(r || (r = {}));
var S = cc._decorator, I = S.ccclass, B = (S.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.formType = p.FormType.PopUp;
t._listContentOffset = new cc.Vec2(0, 0);
t.labelTotalMoney = null;
t.labelCanUseMoney = null;
t.labelCanWithdraw = null;
t.recordList = null;
t.listData = [];
t.labelNoRecord = null;
return t;
}
o = t;
t.prototype.onLoad = function() {
var e = this;
this.setView();
this._careaterEdiBoxHandler();
this.register("HomePageDlg", [ "ON_GET_NO_WITHDRAW_LIST", "PLAYER_HOME_INFO_EVENT", "ON_COPY_SUCCESS", "ON_WEAR_GIFT", "ON_SAVE_FILE", "ON_GET_USER_GAME_INFO", "ON_GET_USER_TOTAL_INFO", "MONEY_UPDATE_EVENT", "PROC_SAFE_OPERATION_EVENT", "UPDATE_ALL_NAME_LABEL_EVENT", "UPDATE_HEAD_PHOTO", "AVATAR_SELECT_FINISH_EVENT", "WEAR_GIFT_EVENT", "ON_BUY_GIFT" ]);
[ this._safeEnterBtn, this._balanceChipBtn, this._balanceCoinBtn, this._balanceVoucherBtn, this._copyIdBtn, this._giftBtn ].forEach(function(t) {
t.on("click", e.onBtn, e);
});
this.exView = new b.default();
this.exView.setProxy(this);
var t = this.node.getChildByName("dlgBg").getChildByName("bg");
this.setNodeFullScreen(t);
};
t.prototype.setView = function() {
this._dialog = this.node.getChildByName("dlgBg");
this._choiceArr = [];
for (var e = 1; e < 5; e++) {
var t = this._dialog.getChildByName("leftChoose").getChildByName("btn" + e);
t.on("click", this.onBtn, this);
this._choiceArr.push(t);
}
this._sideSelectedItem = this._dialog.getChildByName("leftChoose").getChildByName("sideSelectedItem");
this._dialogTitle = this._dialog.getChildByName("dlgTitle");
this._node1 = this._dialog.getChildByName("node1");
this._node2 = this._dialog.getChildByName("node2");
this._node4 = this._dialog.getChildByName("node4");
this._head = this._node1.getChildByName("headBg");
this._head.on("click", this.onClickHead.bind(this), this);
this._nameLabel = this._node1.getChildByName("nameLabel");
this._btnModifyNickName = this._node1.getChildByName("btnEditNickName");
this._btnModifyNickName.on("click", function() {
y.default.inst().openUIForm(d.DlgType.modifyNick);
}, this);
this._iconPen = this._node1.getChildByName("iconPen");
this._copyIdBtn = this._node1.getChildByName("copyBtn");
this._giftBtn = this._node1.getChildByName("giftBtn");
this.labelNoRecord = this._node1.getChildByName("bg_list").getChildByName("labelNoRecord").getComponent(cc.Label);
this.labelNoRecord.node.active = !1;
this._node1.getChildByName("vipBtn").on("click", this.onShowVip, this);
this._idLabel = this._copyIdBtn.getChildByName("label");
var o = this._node1.getChildByName("bgTotal");
this.labelTotalMoney = o.getChildByName("labelTotalMoney").getComponent(cc.Label);
this.labelCanUseMoney = o.getChildByName("labelLeftMoney").getComponent(cc.Label);
this.labelCanWithdraw = o.getChildByName("labelWithdrawMoney").getComponent(cc.Label);
o.getChildByName("btnHelp").on("click", this.onHelp, this);
this._carryChipLabel = this._node2.getChildByName("carryChipLabel");
this._safeChipLabel = this._node2.getChildByName("safeChipLabel");
this._totalChipLabel = this._node2.getChildByName("labelTotalChips");
this._safeEnterBtn = this._node2.getChildByName("enterBtn");
this._safeEnterBtn.getComponent(cc.Button).interactable = !1;
this._depositEdiBox = this._node2.getChildByName("depositEdiBox");
this._takeOutEdiBox = this._node2.getChildByName("takeOutEdiBox");
this._safeBoxList = this._node2.getChildByName("safeScrollView").getComponent(f.default);
this._safeBoxPage = 0;
this._safeBoxData = [];
this._balanceRecordTips = this._node4.getChildByName("amazingTips");
this._balanceChipBtn = this._node4.getChildByName("navigationBg").getChildByName("balanceChipBtn");
this._balanceCoinBtn = this._node4.getChildByName("navigationBg").getChildByName("balanceCoinBtn");
this._balanceVoucherBtn = this._node4.getChildByName("navigationBg").getChildByName("balanceVoucherBtn");
this._balanceNavigation = this._node4.getChildByName("navigationBg").getChildByName("topNavigation");
this._balanceList = this._node4.getChildByName("balanceScrollView").getComponent(f.default);
this._balanceNavigationType = r.chip;
this._balancePage = 0;
this._balanceData = [];
this._node4.getChildByName("navigationBg").active = !1;
};
t.prototype.onShowVip = function() {
this.exView.onShowVipEx();
};
t.prototype.onBtn = function(e) {
m.default.inst.playGameEffect(m.AudioRes.click);
switch (e.node.name) {
case "closeBtn":
this.onClose();
break;

case "btn1":
case "btn2":
case "btn3":
case "btn4":
this._choiceChange(e.node);
break;

case "enterBtn":
this._safeOperation();
break;

case "balanceChipBtn":
this._balanceNavigationType = r.chip;
this._balanceNavigationHandle();
break;

case "balanceCoinBtn":
this._balanceNavigationType = r.coin;
this._balanceNavigationHandle();
break;

case "balanceVoucherBtn":
this._balanceNavigationType = r.voucher;
this._balanceNavigationHandle();
break;

case "getPhone":
case "photographBtn":
case "albumBtn":
case "cancelBtn":
break;

case "copyBtn":
var t = s.default.UserData.userId;
l.default.inst.copyStr(t);
}
};
t.prototype.onClickHead = function() {
this.exView.onClickHeadEx();
};
t.prototype.onHelp = function() {
this.exView.onHelpEx();
};
t.prototype._choiceChange = function(e) {
this.exView.choiceChangeEx(e);
};
t.prototype.onShow = function(e) {
this.needAnimation = !1;
this.canDestory = !0;
this._userId = s.default.UserData.userId;
this._startIndex = e || 0;
};
t.prototype.handleAppEvent = function(e) {
console.log("", _.default.isnull(this.node));
var t = e.arg;
switch (e.key) {
case "PLAYER_HOME_INFO_EVENT":
this._createrView(t);
break;

case "UPDATE_HEAD_PHOTO":
_.default.setHeadPhoto(this._head.getChildByName("head"), +s.default.UserData.headID);
break;

case "MONEY_UPDATE_EVENT":
this._createrSafeBox(t);
break;

case "PROC_SAFE_OPERATION_EVENT":
this._safeOperationCallback();
break;

case "UPDATE_ALL_NAME_LABEL_EVENT":
this.updateName();
break;

case "ON_COPY_SUCCESS":
break;

case "ON_GET_NO_WITHDRAW_LIST":
this.onGetRecordList(t);
}
};
t.prototype.updateName = function() {
if (this._userId == s.default.UserData.userId) {
this._nameLabel.getComponent(cc.Label).string = s.default.UserData.nickname;
this._nameLabel.getComponent(cc.Label)._forceUpdateRenderData(!0);
this._iconPen.x = this._nameLabel.x + this._nameLabel.width + 20;
}
};
t.prototype.start = function() {
var e = this;
this.updateLanguageUI();
var t = _.default.seekNodeChild(this.node, "closeBtn");
t.getComponent(cc.Button).interactable = !1;
u.default.sleepSync(1).then(function() {
t.getComponent(cc.Button).interactable = !0;
t.on("click", e.onClose, e);
});
this._setLabelString();
_.default.setHeadPhoto(this._head.getChildByName("head"), s.default.UserData.headID);
this._idLabel.getComponent(cc.Label).string = "ID" + s.default.UserData.userId;
this.recordList = this._node1.getChildByName("bg_list").getChildByName("ScrollView").getComponent(f.default);
this._choiceChange(this._choiceArr[this._startIndex]);
this.showLoading();
this._dialog.active = !1;
h.default.getInstance().socketSend.getPlayerMoneyInfo(s.default.UserData.userId);
h.default.getInstance().socketSend.getGamePlayerInfo(s.default.UserData.userId);
v.default.getInstance().getNoWithdrawList();
};
t.prototype.updateLanguageUI = function() {
this.exView.updateLanguageUIEx();
};
t.prototype.onGetRecordList = function(e) {
this.listData = e;
this.recordList.numItems = this.listData.length;
0 == e.length && (this.labelNoRecord.node.active = !0);
};
t.prototype.onListRender = function(e, t) {
this.exView.onListRenderEx(e, t);
};
t.prototype._createrView = function(e) {
if (_.default.isnull(this.node)) {
this.exView.createrViewEx(e);
this._personalInfoHandle();
this._createrCardRecord();
this._createrBalance();
this._dialog.active = !0;
this.hideLoading();
} else {
this.hideLoading();
this.onClose();
}
};
t.prototype._personalInfoHandle = function() {
this.exView.personalInfoHandleEx();
};
t.prototype._createrSafeBox = function(e) {
e.userID == s.default.UserData.userId && this.exView.createrSafeBoxEx();
};
t.prototype._setSafeBoxData = function(e) {
this.exView.setSafeBoxDataEx(e);
};
t.prototype._careaterEdiBoxHandler = function() {
var e = this;
this._depositEdiBox.on("editing-did-began", function() {
if (Number(e._takeOutEdiBox.getComponent(cc.EditBox).string) > 0) {
e._depositEdiBox.getComponent(cc.EditBox).blur();
_.default.alert(c.default.ins.GET_DIALOG_LANG("safeBoxTips4"));
}
if (s.default.UserData.chip <= 0) {
e._depositEdiBox.getComponent(cc.EditBox).blur();
var t = new C.ConfirmData();
t.desc = c.default.ins.GET_DIALOG_LANG("safeBoxTips3");
t.okCallback = function() {
console.log("");
};
y.default.inst().openUIForm(d.DlgType.confirm, [ t ]);
}
});
this._depositEdiBox.on("text-changed", function() {
Number(e._depositEdiBox.getComponent(cc.EditBox).string) > s.default.UserData.chip && (e._depositEdiBox.getComponent(cc.EditBox).string = s.default.UserData.chip + "");
});
this._depositEdiBox.on("editing-did-ended", function() {
var t = Number(e._depositEdiBox.getComponent(cc.EditBox).string), o = Number(e._takeOutEdiBox.getComponent(cc.EditBox).string);
e._safeEnterBtn.getComponent(cc.Button).interactable = t > 0 || o > 0;
});
this._takeOutEdiBox.on("editing-did-began", function() {
if (Number(e._depositEdiBox.getComponent(cc.EditBox).string) > 0) {
e._takeOutEdiBox.getComponent(cc.EditBox).blur();
_.default.alert(c.default.ins.GET_DIALOG_LANG("safeBoxTips5"));
}
if (s.default.UserData.safeChip <= 0) {
e._takeOutEdiBox.getComponent(cc.EditBox).blur();
_.default.alert(c.default.ins.GET_DIALOG_LANG("safeBoxTips6"));
}
});
this._takeOutEdiBox.on("text-changed", function() {
if (Number(e._takeOutEdiBox.getComponent(cc.EditBox).string) > s.default.UserData.safeChip) {
e._takeOutEdiBox.getComponent(cc.EditBox).string = s.default.UserData.safeChip + "";
0 == s.default.UserData.safeChip && (e._takeOutEdiBox.getComponent(cc.EditBox).string = "");
}
});
this._takeOutEdiBox.on("editing-did-ended", function() {
var t = Number(e._takeOutEdiBox.getComponent(cc.EditBox).string), o = Number(e._depositEdiBox.getComponent(cc.EditBox).string);
e._safeEnterBtn.getComponent(cc.Button).interactable = t > 0 || o > 0;
});
};
t.prototype._safeOperation = function() {
this.exView.safeOperationEx();
};
t.prototype._safeOperationCallback = function() {
this.exView.safeOperationCallbackEx();
};
t.prototype.creatSafeItem = function(e, t) {
this.exView.creatSafeItemEx(e, t);
};
t.prototype._createrCardRecord = function() {};
t.prototype._safeNavigationHandle = function() {};
t.prototype._getCardRecordData = function() {};
t.prototype.creatCardRecordItem = function(e, t) {
this.exView.creatCardRecordItemEx(e, t);
};
t.prototype._createrBalance = function() {};
t.prototype._getBalanceData = function(e) {
var t = this;
this._balanceRecordTips.active = !1;
var o = 2;
this._balanceNavigationType == r.chip ? o = 2 : this._balanceNavigationType == r.coin ? o = 1 : this._balanceNavigationType == r.voucher && (o = 3);
this._balancePage = e;
if (1 == e) {
this._balanceData = [];
this._node4.getChildByName("balanceScrollView").on("bounce-bottom", function() {
if (t._balanceData.length >= 30 * t._balancePage) {
t._getBalanceData(t._balancePage + 1);
t._balanceChipBtn.getComponent(cc.Button).interactable = !1;
t._balanceCoinBtn.getComponent(cc.Button).interactable = !1;
}
});
}
this._listContentOffset = this._balanceList.getComponent(cc.ScrollView).getContentPosition();
this._node4.active && this.showLoading();
v.default.getInstance().httpPost("logs-money", {
page: e,
type: o
}, function(e) {
if (_.default.isnull(t.node)) {
e.data.forEach(function(e) {
t._balanceData.push(e);
});
t._node4.active && t.hideLoading();
t._balanceList.getComponent(cc.ScrollView).setContentPosition(t._listContentOffset);
t._balanceList.numItems = t._balanceData.length;
t._balanceChipBtn.getComponent(cc.Button).interactable = !0;
t._balanceCoinBtn.getComponent(cc.Button).interactable = !0;
0 == e.data.length && 1 == t._balancePage ? t._balanceRecordTips.active = !0 : t._balanceRecordTips.active = !1;
}
});
};
t.prototype._balanceNavigationHandle = function() {
this._balanceChipBtn.getChildByName("label").color = new cc.Color(70, 127, 202);
this._balanceCoinBtn.getChildByName("label").color = new cc.Color(70, 127, 202);
this._balanceVoucherBtn.getChildByName("label").color = new cc.Color(70, 127, 202);
this._node4.getChildByName("balanceScrollView").getComponent(cc.ScrollView).stopAutoScroll();
this._balanceList.scrollTo(0, 0);
if (this._balanceNavigationType == r.chip) {
this._balanceChipBtn.getChildByName("label").color = new cc.Color(255, 255, 249);
this._balanceNavigation.x = this._balanceChipBtn.x - 2;
} else if (this._balanceNavigationType == r.coin) {
this._balanceCoinBtn.getChildByName("label").color = new cc.Color(255, 255, 249);
this._balanceNavigation.x = this._balanceCoinBtn.x - 2;
} else if (this._balanceNavigationType == r.voucher) {
this._balanceVoucherBtn.getChildByName("label").color = new cc.Color(255, 255, 249);
this._balanceNavigation.x = this._balanceVoucherBtn.x - 2;
}
this._getBalanceData(1);
};
t.prototype.creatbalanceItem = function(e, t) {
this.exView.creatbalanceItemEx(e, t);
};
t.prototype.onClose = function() {
o.prefabPath = this.uid;
o.closeView();
};
t.prototype._setLabelString = function() {
this.exView.setLabelStringEx();
};
var o;
return o = a([ I ], t);
}(g.default));
o.default = B;
o.homePageData = function() {
this.todayRank = 0;
this.weekRank = 0;
this.monthRank = 0;
this.yearRank = 0;
this.maxChip = 0;
this.maxCoin = 0;
this.maxWinChip = 0;
this.maxWinCoin = 0;
this.maxStreakChip = 0;
this.maxStreakCoin = 0;
this.visitor = 0;
this.liker = 0;
this.isFans = 0;
this.isThumbup = 0;
this.userIdList = [];
this.chipBanker = 0;
this.chipBankerWin = 0;
this.chipPlayer = 0;
this.chipPlayerWin = 0;
this.chipTie = 0;
this.chipTieWin = 0;
this.coinBanker = 0;
this.coinBankerWin = 0;
this.coinPlayer = 0;
this.coinPlayerWin = 0;
this.coinTie = 0;
this.coinTieWin = 0;
this.betAll = 0;
this.betAllWin = 0;
this.userId = 0;
this.nickname = "";
this.sigture = "";
this.country = "";
this.exp = 0;
this.chip = 0;
this.coin = 0;
this.point = 0;
this.vipExp = 0;
this.regTime = 0;
};
cc._RF.pop();
}, {
"../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../communication/SocketGameManager": "SocketGameManager",
"../../data/GameLangData": "GameLangData",
"../../data/MyData": "MyData",
"../../manager/DlgGameMgr": "DlgGameMgr",
"../../manager/GameSoundMgr": "GameSoundMgr",
"../../natives/AndroidInfo": "AndroidInfo",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/ThirdParty/CocosPublic": "CocosPublic",
"../../public/ThirdParty/GameSysDefine": "GameSysDefine",
"../../public/ThirdParty/UIGameBase": "UIGameBase",
"../../public/ThirdParty/UIGameMgr": "UIGameMgr",
"../../public/ThirdParty/happyList": "happyList",
"../executor/PageHomeEx": "PageHomeEx",
"./GameConfirmDlg": "GameConfirmDlg"
} ],
PageHomeEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e6fd1CtpsBAQLZeYetnmjqj", "PageHomeEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../communication/GameLobbyHttp"), s = e("../../communication/SocketGameManager"), c = e("../../data/GameLangData"), l = e("../../data/MyData"), d = e("../../data/conf/GameInfo"), h = e("../../manager/DlgGameMgr"), u = e("../../manager/GameSoundMgr"), p = e("../../public/MyComponent/GameHppayUtil"), f = e("../../public/MyComponent/ViewExecutorBase"), m = e("../proxy/PageHomeDlg"), g = cc._decorator, y = g.ccclass, _ = (g.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.onShowVipEx = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
h.default.inst.showDlg(h.DlgType.vip);
};
t.prototype.onClickHeadEx = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
h.default.inst.showDlg(h.DlgType.photoChoose, l.default.UserData.headID);
};
t.prototype.onHelpEx = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
h.default.inst.showDlg(h.DlgType.withdrList);
};
t.prototype.choiceChangeEx = function(e) {
this.node._choiceArr.forEach(function(e) {
var t = e.getChildByName("label");
e.getChildByName("label2").active = !1;
t.color = new cc.Color(150, 183, 233);
});
e.getChildByName("label").color = new cc.Color(240, 241, 242);
this.node._sideSelectedItem.y = e.y;
this.node._node1.active = !1;
this.node._node2.active = !1;
this.node._node4.active = !1;
if ("btn1" == e.name) {
this.node.hideLoading();
s.default.getInstance().socketSend.getGamePlayerInfo(l.default.UserData.userId);
this.node._node1.active = !0;
this.node._dialogTitle.getComponent(cc.Label).string = "" + c.default.ins.GET_DIALOG_LANG("personal") + c.default.ins.GET_DIALOG_LANG("homePage");
} else if ("btn2" == e.name) {
this.node.hideLoading();
this.node._node2.active = !0;
this.node._dialogTitle.getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("safeBox");
this.node._safeBoxData = [];
this.node._setSafeBoxData(1);
} else if ("btn3" == e.name) {
this.node._safeNavigationHandle();
this.node.showLoading();
this.node._dialogTitle.getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("cardRecord");
} else if ("btn4" == e.name) {
this.node._balanceNavigationHandle();
this.node.showLoading();
this.node._node4.active = !0;
this.node._dialogTitle.getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("balanceRecord");
}
};
t.prototype.updateLanguageUIEx = function() {
var e = this.node._node1.getChildByName("bgTotal");
e.getChildByName("labelTotalMoneyDesc").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("totalChips");
e.getChildByName("labelLeftMoneyDesc").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("totalCanUseChips");
e.getChildByName("labelWithdrawMoneyDesc").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("canWithdrawChips");
this.node._node1.getChildByName("labelTimesLeftTitle").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("withdrawMaxTime") + ":";
this.node._node1.getChildByName("labelAmountLeftTitle").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("withdrawMaxAmount") + ":";
var t = this.node._node1.getChildByName("bg_list");
t.getChildByName("labelItem").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("item");
t.getChildByName("labelReward").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("reward");
t.getChildByName("labelFlowTotal").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("flowRequest");
t.getChildByName("labelLeftReward").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("leftReward");
t.getChildByName("labelFlowComplete").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("flowCompleted");
t.getChildByName("labelStatus").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("status");
t.getChildByName("labelNoRecord").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("noRecord");
};
t.prototype.onListRenderEx = function(e, t) {
var o = e.getChildByName("labelItem").getComponent(cc.Label), i = e.getChildByName("labelReward").getComponent(cc.Label), n = e.getChildByName("labelFlowTotal").getComponent(cc.Label), a = e.getChildByName("labelLeftReward").getComponent(cc.Label), r = e.getChildByName("labelFlowComplete").getComponent(cc.Label), s = e.getChildByName("labelStatus").getComponent(cc.Label), l = this.node.listData[t];
o.string = l.name;
i.string = d.default.gameMoneyUnit + p.default.cul(l.reward);
n.string = d.default.gameMoneyUnit + p.default.cul(l.needed);
a.string = d.default.gameMoneyUnit + p.default.cul(l.remain);
r.string = d.default.gameMoneyUnit + p.default.cul(l.completed);
var h = l.status;
if (0 == h) {
s.string = c.default.ins.GET_NEWHALL_LANG("inprogress");
s.node.color = new cc.Color(88, 204, 129);
} else if (1 == h) {
s.string = c.default.ins.GET_NEWHALL_LANG("failure");
s.node.color = cc.Color.RED;
} else if (2 == h) {
s.string = c.default.ins.GET_NEWHALL_LANG("completed");
s.node.color = new cc.Color(149, 186, 244);
}
};
t.prototype.createrViewEx = function(e) {
this.node.labelTotalMoney.string = d.default.gameMoneyUnit + p.default.cul(e.totalMoney.toFixed(2));
this.node.labelCanUseMoney.string = d.default.gameMoneyUnit + p.default.cul(e.canUseMoney.toFixed(2));
this.node.labelCanWithdraw.string = d.default.gameMoneyUnit + p.default.cul(e.canWithDrawMoney.toFixed(2));
var t = this.node._node1.getChildByName("labelAmountLeftTitle"), o = this.node._node1.getChildByName("labelTimesLeftTitle");
t.getComponent(cc.Label)._forceUpdateRenderData(!0);
o.getComponent(cc.Label)._forceUpdateRenderData(!0);
this.node._node1.getChildByName("labelAmountLeft").x = t.x + t.width;
this.node._node1.getChildByName("labelTimesLeft").x = o.x + o.width;
if (1 == e.withdrawLimit) {
this.node._node1.getChildByName("labelAmountLeft").getComponent(cc.Label).string = c.default.ins.GET_HALL_LANG("noLImit");
this.node._node1.getChildByName("labelTimesLeft").getComponent(cc.Label).string = c.default.ins.GET_HALL_LANG("noLImit");
} else {
this.node._node1.getChildByName("labelAmountLeft").getComponent(cc.Label).string = p.default.cul(e.withdrawAmount);
this.node._node1.getChildByName("labelTimesLeft").getComponent(cc.Label).string = e.withdrawTimes;
}
};
t.prototype.personalInfoHandleEx = function() {
this.node._nameLabel.getComponent(cc.Label).string = l.default.UserData.nickname;
this.node._nameLabel.getComponent(cc.Label)._forceUpdateRenderData(!0);
this.node._iconPen.x = this.node._nameLabel.x + this.node._nameLabel.width + 20;
};
t.prototype.createrSafeBoxEx = function() {
this.node._carryChipLabel.getComponent(cc.Label).string = d.default.gameMoneyUnit + p.default.cul(Number(l.default.UserData.chip.toFixed(2)));
this.node._safeChipLabel.getComponent(cc.Label).string = d.default.gameMoneyUnit + p.default.cul(Number(l.default.UserData.safeChip.toFixed(2)));
this.node._totalChipLabel.getComponent(cc.Label).string = d.default.gameMoneyUnit + p.default.cul(Number((l.default.UserData.safeChip + l.default.UserData.chip).toFixed(2)));
this.node._safeEnterBtn.getComponent(cc.Button).interactable = !1;
};
t.prototype.setSafeBoxDataEx = function(e) {
var t = this;
1 == e && (this.node._safeBoxData = []);
this.node._listContentOffset = this.node._safeBoxList.getComponent(cc.ScrollView).getContentPosition();
var o = this.node;
r.default.getInstance().httpPost("logs-safes", {
page: e
}, function(e) {
if (p.default.isnull(t.node)) {
e.data.forEach(function(e) {
t.node._safeBoxData.push(e);
});
o._safeBoxList.numItems = o._safeBoxData.length;
o._safeBoxList.getComponent(cc.ScrollView).setContentPosition(o._listContentOffset);
}
});
this.node._safeBoxPage = e;
1 == e && this.node._node2.getChildByName("safeScrollView").on("bounce-bottom", function() {
t.node._safeBoxData.length >= 30 * t.node._safeBoxPage && t.node._setSafeBoxData(t.node._safeBoxPage + 1);
});
};
t.prototype.safeOperationEx = function() {
var e = Number(this.node._depositEdiBox.getComponent(cc.EditBox).string), t = Number(this.node._takeOutEdiBox.getComponent(cc.EditBox).string), o = m.safeFlag.deposit, i = 0;
if (e > 0) {
o = m.safeFlag.deposit;
i = e;
} else if (t > 0) {
o = m.safeFlag.takeOut;
i = t;
}
s.default.getInstance().socketSend.sendOperationSafe(o, i);
this.node._safeEnterBtn.getComponent(cc.Button).interactable = !1;
};
t.prototype.safeOperationCallbackEx = function() {
var e = this;
this.node._depositEdiBox.getComponent(cc.EditBox).string = "";
this.node._takeOutEdiBox.getComponent(cc.EditBox).string = "";
var t = 0;
this.node._safeBoxData.length > 0 && this.node._safeBoxData[0].id && (t = this.node._safeBoxData[0].id);
r.default.getInstance().httpPost("logs-safes", {
page: 0,
max: t
}, function(t) {
if (p.default.isnull(e.node)) {
t.data.forEach(function(t) {
e.node._safeBoxData.unshift(t);
});
e.node._safeBoxList.numItems = e.node._safeBoxData.length;
}
});
};
t.prototype.creatSafeItemEx = function(e, t) {
var o = this.node._safeBoxData[t], i = e.getChildByName("label1"), n = e.getChildByName("label2"), a = e.getChildByName("label3"), r = e.getChildByName("label4"), s = new cc.Color(88, 204, 129), c = new cc.Color(227, 65, 80), l = new cc.Color(149, 186, 244);
r.getComponent(cc.Label).string = o.time;
a.getComponent(cc.Label).string = p.default.cul(o.remain, 1);
if (0 == o.C) {
i.color = l;
i.getComponent(cc.Label).string = "/";
} else if (o.C > 0) {
i.color = s;
i.getComponent(cc.Label).string = "+" + p.default.cul(o.C, 1);
}
if (0 == o.Q) {
n.color = l;
n.getComponent(cc.Label).string = "/";
} else if (o.Q > 0) {
n.color = c;
n.getComponent(cc.Label).string = "-" + p.default.cul(o.Q, 1);
}
};
t.prototype.creatCardRecordItemEx = function(e, t) {
for (var o = this.node._cardRecordData[t], i = new cc.Color(88, 204, 129), n = new cc.Color(227, 78, 78), a = (new cc.Color(133, 196, 255), 
[]), r = 1; r < 12; r++) a.push(e.getChildByName("label" + r));
console.log("data.gameType = ", o.gameType);
e.getChildByName("label0").getComponent(cc.Label).string = "New Game";
a[0].getComponent(cc.Label).string = "" + o.roomid;
a[1].getComponent(cc.Label).string = "" + p.default.formatMoneyShorter(o.minblind);
a[2].getComponent(cc.Label).string = p.default.cul(o.play) + " / " + p.default.cul(o.win);
a[3].getComponent(cc.Label).string = o.win_rate + "%";
a[4].getComponent(cc.RichText).string = "<color=#85C4FF>" + p.default.cul(o.start_gold, 1) + "</c><color=#58CC81> / " + p.default.formatMoneyShorter(o.add_gold) + "</color>";
a[5].getComponent(cc.Label).string = p.default.cul(o.end_gold, 1);
a[8].getComponent(cc.Label).string = p.default.cul(o.point);
a[9].getComponent(cc.Label).string = o.hour;
a[10].getComponent(cc.Label).string = o.day;
if (o.win_gold < 0) {
a[6].getComponent(cc.Label).string = "-" + p.default.cul(-1 * o.win_gold, 1);
a[6].color = n;
a[7].color = n;
a[7].getComponent(cc.Label).string = o.rate + "%";
} else {
a[6].getComponent(cc.Label).string = "+" + p.default.cul(o.win_gold, 1);
a[6].color = i;
a[7].color = i;
a[7].getComponent(cc.Label).string = "+" + o.rate + "%";
}
e.off("click");
e.on("click", function() {});
e.getChildByName("openIcon").active = !0;
};
t.prototype.creatbalanceItemEx = function(e, t) {
var o = this.node._balanceData[t];
if (o && o.desc) {
for (var i = [], n = 1; n < 5; n++) i.push(e.getChildByName("label" + n));
i[0].getComponent(cc.Label).string = o.desc;
i[2].getComponent(cc.Label).string = p.default.cul(o.remain, 1);
i[3].getComponent(cc.Label).string = o.time;
if (o.value < 0) {
i[1].color = new cc.Color(227, 65, 80);
i[1].getComponent(cc.Label).string = "-" + p.default.cul(-1 * o.value, 1);
} else {
i[1].color = new cc.Color(88, 204, 129);
i[1].getComponent(cc.Label).string = "+" + p.default.cul(o.value, 1);
}
}
};
t.prototype.setLabelStringEx = function() {
this.node._choiceArr[0].getChildByName("label").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("homePage");
this.node._choiceArr[1].getChildByName("label").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("safeBox");
this.node._choiceArr[2].getChildByName("label").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("cardRecord");
this.node._choiceArr[3].getChildByName("label").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("balanceRecord");
this.node._node2.getChildByName("label1").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("carryAmount");
this.node._node2.getChildByName("label2").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("safeboxAmount");
this.node._node2.getChildByName("label3").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("save");
this.node._node2.getChildByName("label4").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("take");
this.node._node2.getChildByName("label5").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("balance");
this.node._node2.getChildByName("label6").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("date");
this.node._node2.getChildByName("labelTotalChipsTitle").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("totalChips");
this.node._depositEdiBox.getComponent(cc.EditBox).placeholder = c.default.ins.GET_DIALOG_LANG("safeBoxTips1");
this.node._takeOutEdiBox.getComponent(cc.EditBox).placeholder = c.default.ins.GET_DIALOG_LANG("safeBoxTips2");
this.node._safeEnterBtn.getChildByName("label").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("enter");
this.node._node4.getChildByName("label1").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("classification");
this.node._node4.getChildByName("label2").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("amount");
this.node._node4.getChildByName("label3").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("surplus");
this.node._node4.getChildByName("label4").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("date");
this.node._balanceChipBtn.getChildByName("label").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("chips");
this.node._balanceCoinBtn.getChildByName("label").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("coin");
this.node._balanceVoucherBtn.getChildByName("label").getComponent(cc.Label).string = c.default.ins.GET_NEWHALL_LANG("rebate");
this.node._balanceRecordTips.getChildByName("label").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("homePageTips6");
};
return a([ y ], t);
}(f.default));
o.default = _;
cc._RF.pop();
}, {
"../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../communication/SocketGameManager": "SocketGameManager",
"../../data/GameLangData": "GameLangData",
"../../data/MyData": "MyData",
"../../data/conf/GameInfo": "GameInfo",
"../../manager/DlgGameMgr": "DlgGameMgr",
"../../manager/GameSoundMgr": "GameSoundMgr",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase",
"../proxy/PageHomeDlg": "PageHomeDlg"
} ],
PaymentInterface: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "903d0g3sqdCwZCrpqgjILTh", "PaymentInterface");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.PayType = void 0;
var r, s = e("../Components/MyEvent"), c = e("../Conf/Config"), l = e("../Conf/GuardConfig"), d = e("../Data/GameData"), h = e("../Data/LanguageData"), u = e("../Http/MyHttp"), p = e("../Util/GameUtil"), f = e("./EventRecorder");
(function(e) {
e[e.none = 0] = "none";
e[e.apple = 1] = "apple";
e[e.google = 2] = "google";
})(r = o.PayType || (o.PayType = {}));
var m = cc._decorator, g = m.ccclass, y = (m.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.productID = "";
t.payType = r.google;
t.priceInfos = {};
return t;
}
o = t;
Object.defineProperty(t, "inst", {
get: function() {
null == this._inst && (this._inst = new o());
return this._inst;
},
enumerable: !1,
configurable: !0
});
t.prototype.init = function(e) {
cc.sys.os == cc.sys.OS_ANDROID ? this.payType = r.google : cc.sys.os == cc.sys.OS_IOS && (this.payType = r.apple);
100 == e ? this.payType = r.apple : 500 == e && (this.payType = r.google);
this.initProducts("");
console.log("init.payType = ", this.payType);
};
t.prototype.initProducts = function() {
cc.sys.isBrowser;
};
t.prototype.queryUndonePurchase = function() {
if (!cc.sys.isBrowser) if (cc.sys.os == cc.sys.OS_IOS) ; else if (cc.sys.os == cc.sys.OS_ANDROID) {
f.default.record(f.EventID.googleQuery);
jsb.reflection.callStaticMethod(l.AndroidInterfacePath.GooglePayInterface, "queryUndonePurchase", "(Ljava/lang/String;)V", "");
}
};
t.prototype.consumePurchase = function(e) {
if (!cc.sys.isBrowser) if (cc.sys.os == cc.sys.OS_IOS) ; else if (cc.sys.os == cc.sys.OS_ANDROID) {
f.default.record(f.EventID.googleConusme);
jsb.reflection.callStaticMethod(l.AndroidInterfacePath.GooglePayInterface, "consumePurchase", "(Ljava/lang/String;)V", e);
}
};
t.prototype.buyCommodity = function(e) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("AppController", "purchase:", e) : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(l.AndroidInterfacePath.GooglePayInterface, "purchase", "(Ljava/lang/String;)V", e));
};
t.prototype.resetUndoneOrders = function() {
console.log("PaymentInterface:resetUndoneOrders");
};
t.prototype.onGetUndonePurchase = function(e, t, o, i, n) {
f.default.record(f.EventID.googleStartRequestMoney);
"ENTER_REVIEW" != p.default.readData("GAME_SWITCHER") && this.getChips(e, t, o, i, n);
};
t.prototype.startRequestChips = function() {
"ENTER_REVIEW" != p.default.readData("GAME_SWITCHER") && console.log("PaymentInterface:startRequestChips");
};
t.prototype.getChips = function(e, t, o, i, n) {
var a = this;
console.log("payment getChips ", e, "productToken ", o, "orderId ", t, "productIDs ", i, "packageName ", n);
var r = {};
r.uid = d.default.UserData.userId;
r.payType = e;
r.apple_receipt = o;
r.orderID = t;
r.productIDs = i;
r.packageName = n;
f.default.record(f.EventID.googleRequestMoney);
u.default.getInstance().httpPostWithFullUrl(c.default.gpUrl + "callback/gppaynotify", r, function(e) {
console.log("payment :error code", e.error_code);
if (0 == e.error_code) {
console.log("payment success", e.data);
for (var t = e.data, o = 0; o < t.length; o++) {
var i = t[o];
if (1 == i.status) {
console.log("payment :status error", i.status);
console.log("payment :success get productId = ", i.productId);
console.log("payment :orderId = ", i.orderId);
a.consumePurchase(i.productId);
d.default.UserData.firstStrike = 0;
s.MyEvent.getInstance().emit("APPPAY_CALLBACK_EVENT");
} else i.status, console.log("payment :status error", i.status);
}
} else r.error_code;
});
};
t.prototype.onPaymentFailed = function(e, t) {
f.default.record(f.EventID.paymentFailed, "paymentFailedErrCode", t);
console.log("payment failed, error code = ", t);
p.default.alert(h.default.ins.STRING_COMMON("appPayErr"));
s.MyEvent.getInstance().emit("APPPAY_CALLBACK_EVENT");
};
t.prototype.removeStorageData = function(e) {
var t = JSON.parse(p.default.readData(d.default.storageData.appPay));
t[e] && delete t[e];
p.default.saceJsonData(d.default.storageData.appPay, t);
};
t.prototype.getProductInfoCallBack = function(e, t, o) {
d.default.hallData.productInfo[o] = e;
d.default.hallData.productCountry = t;
};
t.prototype.initProductPriceInfo = function(e, t, o) {
console.log("this.payType = ", this.payType);
console.log(e, t, o);
if (this.payType == r.apple) ; else if (this.payType == r.google) {
this.priceInfos[e] = t + o;
console.log("this.payType = ", this.priceInfos[e]);
}
};
Object.defineProperty(t.prototype, "priceInfo", {
get: function() {
return this.priceInfos;
},
enumerable: !1,
configurable: !0
});
var o;
t._inst = null;
return o = a([ g ], t);
}(cc.Component));
o.default = y;
cc.PaymentInterface = y.inst;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Conf/Config": "Config",
"../Conf/GuardConfig": "GuardConfig",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../Http/MyHttp": "MyHttp",
"../Util/GameUtil": "GameUtil",
"./EventRecorder": "EventRecorder"
} ],
PeekCardNode: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "11090V6BVdDBYfu4lYQXjVt", "PeekCardNode");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = cc._decorator, l = c.ccclass, d = (c.property, function(e) {
n(t, e);
function t() {
var t = e.call(this, "PeekCardNode") || this;
t.mask = void 0;
t.cardBack = void 0;
t.cardFace = void 0;
t.shadowMask = void 0;
t.shadow = void 0;
t.finger1 = void 0;
t.finger2 = void 0;
t._directionLength = 5;
t._moveSpeed = .65;
t.angleFixed = 10;
t._isOpenCard = !1;
t._isMoveStart = !1;
t._cardSize = void 0;
t._tStartPos = void 0;
t._tMoveVec = void 0;
t._rotation = 0;
t._inFingers = [];
t._finishCallBack = void 0;
t._finishShowInsideCallback = void 0;
t._startCallback = void 0;
t.setContentSize(98, 130);
t.mask = new cc.Node().addComponent(cc.Mask);
t.addChild(t.mask.node);
t.cardBack = new cc.Node().addComponent(cc.Sprite).node;
t.cardFace = new cc.Node().addComponent(cc.Sprite).node;
t.mask.node.addChild(t.cardBack);
t.mask.node.addChild(t.cardFace);
t.shadowMask = new cc.Node().addComponent(cc.Mask);
t.shadowMask.type = cc.Mask.Type.IMAGE_STENCIL;
t.shadowMask.alphaThreshold = .1;
t.cardFace.addChild(t.shadowMask.node);
t.shadow = new cc.Node().addComponent(cc.Sprite).node;
t.shadow.parent = t.shadowMask.node;
t.shadow.setAnchorPoint(0, .5);
t.finger1 = new cc.Node().addComponent(cc.Sprite).node;
t.finger2 = new cc.Node().addComponent(cc.Sprite).node;
t.addChild(t.finger1);
t.addChild(t.finger2);
t.on(cc.Node.EventType.TOUCH_START, t._touchStart, t);
t.on(cc.Node.EventType.TOUCH_MOVE, t._touchMove, t);
t.on(cc.Node.EventType.TOUCH_END, t._touchEnd, t);
return t;
}
t.prototype.setFinishCallBack = function(e) {
this._finishCallBack = e;
};
t.prototype.setFinishShowInsideCallback = function(e) {
this._finishShowInsideCallback = e;
};
t.prototype.setStartCallback = function(e) {
this._startCallback = e;
};
t.prototype.init = function() {
this._cardSize || (this._cardSize = this.cardBack.getContentSize());
this._initCardNode(this.mask.node, this._cardSize);
this._initCardNode(this.cardBack, this._cardSize);
this._initCardNode(this.cardFace, this._cardSize);
this._initCardNode(this.shadowMask.node, this._cardSize);
this.cardFace.setPosition(-this.mask.node.width, 0);
this.shadow.setRotation(0);
this.shadow.height = 2 * Math.sqrt(Math.pow(this._cardSize.height, 2) + Math.pow(this._cardSize.width, 2));
this.shadow.width = 40;
var e = this.cardFace.width / 2 + this.shadowMask.node.width / 2, t = this.cardFace.height / 2 + this.shadowMask.node.height / 2;
this.shadow.setPosition(e, t);
this._initFinger();
this._initStatus();
};
t.prototype._touchStart = function(e) {
if (!this._isOpenCard) {
"function" == typeof this._startCallback && this._startCallback();
this._tStartPos = e.getLocation();
this._startDirection = 0;
this._nowTouchPoint = JSON.parse(JSON.stringify(this._tStartPos));
}
};
t.prototype._touchMove = function(e) {
if (!this._isOpenCard && this._tStartPos) {
var t = e.getLocation(), o = e.getPreviousLocation();
if (!t.equals(o)) {
var i = t.sub(this._tStartPos), n = t.sub(o);
this.movePointData(n);
var a = i.mag();
if (0 == this._isMoveStart && a >= this._directionLength) {
this._isMoveStart = !0;
this._tMoveVec = this._fixedDirection(i);
this._rotation = this._getSignAngle(this._tMoveVec, cc.v2(1, 0));
var r = this._getOutRectSize(this.cardBack, this._rotation);
this.mask.node.setContentSize(r);
this.mask.node.rotation = this._rotation;
this.cardBack.rotation = -this._rotation;
this.cardFace.rotation = this._rotation;
this.shadow.rotation = -this._rotation;
var s = this._getQuadrant(this._tMoveVec), c = this._getNodeVertexByNodeSpaceAR(this.cardFace);
this._startDirection = s;
switch (s) {
case 1:
case 5:
this.cardFace.setPosition(-this.mask.node.width, this.cardBack.y);
this.shadow.setPosition(c[2]);
break;

case 2:
case 6:
this.cardFace.setPosition(-this.mask.node.width, -this.cardBack.y);
this.shadow.setPosition(c[3]);
break;

case 3:
case 7:
this.cardFace.setPosition(-this.mask.node.width, -this.cardBack.y);
this.shadow.setPosition(c[0]);
break;

case 4:
case 8:
this.cardFace.setPosition(-this.mask.node.width, this.cardBack.y);
this.shadow.setPosition(c[1]);
break;

default:
cc.error("cc.Vec2(0, 0)");
this._isMoveStart = !1;
}
} else if (this._isMoveStart) {
if ((s = this._getQuadrant(this._tMoveVec)) != this._startDirection) {
var l = this._tStartPos.x - this._nowTouchPoint.x, d = this._tStartPos.y - this._nowTouchPoint.y;
if (2 == s || 6 == s) {
if (d <= 0 || l >= 0) return;
} else if (1 == s || 5 == s) {
if (d <= 0 || l <= 0) return;
} else if (4 == s || 8 == s) {
if (d >= 0 || l <= 0) return;
} else if ((3 == s || 7 == s) && (d >= 0 || l >= 0)) return;
}
var h = n.project(this._tMoveVec), u = h.neg();
this._moveByVec2(this.mask.node, h, 2);
this._moveByVec2(this.cardBack, u, 2);
this._moveByVec2(this.cardFace, h, 2);
this._moveByVec2(this.shadow, u, 2);
var p = this._getNodeVertexByWorldSpaceAR(this.cardFace, -10), f = this._getNodeVertexByWorldSpaceAR(this.mask.node);
this._inFingers = [];
for (var m = 0; m < p.length; m++) cc.Intersection.pointInPolygon(p[m], f) && this._inFingers.push(m);
for (m = 0; m < this._inFingers.length; m++) {
var g = this._inFingers[m], y = this["finger" + (m + 1)];
if (y) {
y.active = !0;
y.setPosition(y.parent.convertToNodeSpaceAR(p[g]));
y.rotation = -this._rotation;
}
}
if (0 == (a = this._inFingers.length)) {
this.finger1.active = !1;
this.finger2.active = !1;
} else 1 == a && (this.finger2.active = !1);
this._canOpen() && this.openCard();
this._canShowInsideCard() && "function" == typeof this._finishShowInsideCallback && this._finishShowInsideCallback();
if (h.x * this._tMoveVec.x <= 0 && h.y * this._tMoveVec.y <= 0 && 0 == a) {
this._touchEnd();
this._tStartPos = void 0;
console.log("");
}
}
}
}
};
t.prototype._touchEnd = function() {
!this._isOpenCard && this._tStartPos && this.init();
};
t.prototype.setSp = function(e) {
var t = new cc.Node();
t.addComponent(cc.Sprite);
cc.resources.load(e, function(e, o) {
t.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(o);
});
this.addChild(t);
};
t.prototype.setCardSize = function(e, t) {
this.setContentSize(e, t);
var o = this._getSize(e, t);
this._cardSize = o;
this.mask.node.setContentSize(o);
this.cardBack.setContentSize(o);
this.cardFace.setContentSize(o);
this.shadowMask.node.setContentSize(o);
this.shadow.setContentSize(o.width, 2 * o.height);
};
t.prototype.getcardFace = function() {
return this.cardFace;
};
t.prototype.movePointData = function(e) {
this._nowTouchPoint.x = this._nowTouchPoint.x + e.x;
this._nowTouchPoint.y = this._nowTouchPoint.y + e.y;
};
t.prototype.setCardBack = function(e) {
return r(this, void 0, void 0, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
t = null;
return [ 4, this._setNodeSpriteFrame(this.cardBack, e) ];

case 1:
e = o.sent();
t = e;
this.shadowMask.spriteFrame = t;
this.shadowMask.type = cc.Mask.Type.IMAGE_STENCIL;
this.shadowMask.alphaThreshold = .1;
return [ 2 ];
}
});
});
};
t.prototype.setCardFace = function(e) {
return r(this, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, this._setNodeSpriteFrame(this.cardFace, e) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
t.prototype.setShadow = function(e) {
return r(this, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, this._setNodeSpriteFrame(this.shadow, e) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
t.prototype.setFinger = function(e, t) {
return r(this, void 0, void 0, function() {
return s(this, function(o) {
switch (o.label) {
case 0:
return [ 4, this._setNodeSpriteFrame(this["finger" + t], e) ];

case 1:
o.sent();
this["finger" + t].setContentSize(50, 80);
return [ 2 ];
}
});
});
};
t.prototype._canOpen = function() {
return this.mask.node.getPosition().mag() > this.mask.node.width / 1.6;
};
t.prototype._canShowInsideCard = function() {
return this.mask.node.getPosition().mag() > this.mask.node.width / 2.2;
};
t.prototype.openCard = function() {
this.init();
cc.log("");
this.cardFace.setPosition(0, 0);
this._isOpenCard = !0;
"function" == typeof this._finishCallBack && this._finishCallBack();
};
t.prototype._getOutRectSize = function(e, t) {
(t = Math.abs(t)) > 90 && t <= 180 && (t = 180 - t);
var o = Math.PI / 180 * t, i = e.height * Math.sin(o) + e.width * Math.cos(o), n = e.height * Math.cos(o) + e.width * Math.sin(o);
return cc.size(i, n);
};
t.prototype._moveByVec2 = function(e, t, o) {
void 0 === o && (o = 1);
var i = e.parent.convertToWorldSpaceAR(e.getPosition());
i = cc.v2(i.x + t.x * o, i.y + t.y * o);
var n = e.parent.convertToNodeSpaceAR(i);
e.setPosition(n);
};
t.prototype._getSignAngle = function(e, t) {
var o = e.signAngle(t);
return 180 / Math.PI * o;
};
t.prototype._fixedDirection = function(e) {
if (this.angleFixed) {
var t = this.angleFixed, o = cc.v2(1, 0);
if ((i = this._getSignAngle(e, o)) <= t + 0 && i >= 0 - t || i <= t + -180 || i >= 180 - t) return e.project(o);
var i, n = cc.v2(0, 1);
if ((i = this._getSignAngle(e, n)) <= t + 0 && i >= 0 - t || i <= t + -180 || i >= 180 - t) return e.project(n);
}
return e;
};
t.prototype._getNodeVertexByWorldSpaceAR = function(e, t) {
void 0 === t && (t = 0);
for (var o = this._getNodeVertexByNodeSpaceAR(e, t), i = 0; i < o.length; i++) o[i] = e.convertToWorldSpaceAR(o[i]);
return o;
};
t.prototype._getNodeVertexByNodeSpaceAR = function(e, t) {
void 0 === t && (t = 0);
var o = e.width * e.anchorX + t, i = e.width * (1 - e.anchorX) + t, n = e.height * e.anchorY + t, a = e.height * (1 - e.anchorY) + t;
return [ cc.v2(-o, a), cc.v2(i, a), cc.v2(i, -n), cc.v2(-o, -n) ];
};
t.prototype._getQuadrant = function(e) {
if (0 == e.x && 0 == e.y) return 9;
if (0 == e.x && e.y > 0) return 6;
if (0 == e.x && e.y < 0) return 8;
if (e.x > 0 && 0 == e.y) return 5;
if (e.x < 0 && 0 == e.y) return 7;
if (e.x > 0 && e.y > 0) return 1;
if (e.x < 0 && e.y > 0) return 2;
if (e.x < 0 && e.y < 0) return 3;
if (e.x > 0 && e.y < 0) return 4;
cc.error("::" + JSON.stringify(e));
return 0;
};
t.prototype._initCardNode = function(e, t) {
e.setContentSize(t);
e.setRotation(0);
e.setPosition(0, 0);
};
t.prototype._initFinger = function() {
this._inFingers = [];
this.finger1.active = !1;
this.finger2.active = !1;
};
t.prototype._initStatus = function() {
this._isOpenCard = !1;
this._isMoveStart = !1;
this._rotation = 0;
};
t.prototype._getSize = function(e, t) {
return null == e ? cc.size(0, 0) : e instanceof cc.Size ? e : null != t ? cc.size(e, t) : cc.size(e, e);
};
t.prototype._loadSpriteFrameSync = function(e) {
return r(this, void 0, void 0, function() {
return s(this, function() {
return [ 2, new Promise(function(t) {
cc.resources.load(e, cc.Texture2D, function(e, o) {
t(new cc.SpriteFrame(o));
});
}) ];
});
});
};
t.prototype._setNodeSpriteFrame = function(e, t) {
return r(this, void 0, void 0, function() {
var o;
return s(this, function(i) {
switch (i.label) {
case 0:
o = null;
return "string" != typeof t ? [ 3, 2 ] : [ 4, this._loadSpriteFrameSync(t) ];

case 1:
o = i.sent();
return [ 3, 3 ];

case 2:
o = t;
i.label = 3;

case 3:
e.getComponent(cc.Sprite).spriteFrame = o;
return [ 2, o ];
}
});
});
};
return a([ l ], t);
}(cc.Node));
o.default = d;
cc._RF.pop();
}, {} ],
PhoneInfo: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4db7eVl6MpFwIfoS4KtU23k", "PhoneInfo");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Data/GameData"), s = e("../Conf/Game"), c = e("../Util/GameUtil"), l = e("../Components/MyEvent"), d = e("../Data/LanguageData"), h = e("../Manager/PaymentInterface"), u = e("../Manager/EventRecorder"), p = e("../Conf/ScreenAdapter"), f = e("../Manager/LayerManager"), m = e("../Manager/DialogManager"), g = e("../Conf/Const"), y = e("../Conf/GuardConfig"), _ = cc._decorator, C = _.ccclass, b = (_.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
o = t;
Object.defineProperty(t, "inst", {
get: function() {
null == this._inst && (this._inst = new o());
return this._inst;
},
enumerable: !1,
configurable: !0
});
t.prototype.getPhoneQuantityElectricity = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("AppController", "getElectricity:", "123") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "getElectricity", "()V"));
};
t.prototype.setPhoneQuantityElectricity = function(e) {
r.default.phoneData.electricity = e;
console.log("", e);
};
t.prototype.getPhoneNetworkType = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("AppController", "getNetworkType:", "123") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "getNetworkType", "()V"));
};
t.prototype.setPhoneNetworkType = function(e) {
r.default.phoneData.networkType = e;
0 == r.default.phoneData.networkType && m.default.inst.showNoNetworkDialog();
};
t.prototype.getNetworkEnvironment = function() {
cc.sys.isBrowser ? s.default.networkEnvironment = "WebMobile" : cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "getNetworkEnvironment:", "123") : cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "getNetworkEnvironment", "()V") : s.default.networkEnvironment = "Desktop";
};
t.prototype.setNetworkEnvironment = function(e) {
console.log("setNetworkEnvironment = ", e);
s.default.networkEnvironment = e;
};
t.prototype.setSignalStrength = function() {};
t.prototype.phoneVibration = function() {
r.default.UserData.shockSetUp && (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("AppController", "shockPhone:", "shock") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "shockPhone", "()V"));
};
t.prototype.initDevId = function() {
if (cc.sys.isBrowser) {
var e = window.document.location.href.toString();
console.log("app url = ", e);
if (-1 != e.search("http")) {
var t = e.split("?");
if (t.length > 1) {
for (var o = t[1].split("&"), i = {}, n = 0; n < o.length; n++) {
var a = o[n].split("=");
if (2 == a.length) {
var r = a[0], l = a[1];
i[r] = l;
}
}
s.default.devId = i.devid || "DeviceID2025";
} else s.default.devId = c.default.readData("account") || "DeviceID2025";
} else s.default.devId = c.default.readData("account") || "DeviceID2025";
} else cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "getUUIDByKeyChain:", "none") : cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "getUDID", "()V") : s.default.devId = c.default.readData("account") || "DeviceID2025";
};
t.prototype.setDevId = function(e) {
console.log("init device Id", e);
s.default.devId = e;
};
t.prototype.getIsMute = function() {
cc.sys.isBrowser ? s.default.isMute = 0 : cc.sys.os == cc.sys.OS_IOS || (cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "isMute", "()V") : s.default.isMute = 0);
};
t.prototype.setIsMute = function(e) {
console.log("set is mute", e);
s.default.isMute = e;
};
t.prototype.getSystemVersion = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "getSystemVersion", "()V");
};
t.prototype.setSystemVersion = function(e) {
s.default.systemVersion = e;
};
t.prototype.initDeviceInfo = function() {
cc.sys.isBrowser ? s.default.devInfo = "WebMobile" : cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "getDeviceInfo:", "none") : cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "getDeviceInfo", "()V") : s.default.devInfo = "webapp";
};
t.prototype.setDeviceInfo = function(e) {
console.log("init device info", e);
s.default.devInfo = e;
};
t.prototype.initLocalLanguage = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "getLocalLanguage:", "none") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "getLocalLanguage", "()V"));
};
t.prototype.setLocalLanguage = function(e, t) {
console.log("init device language", e, t);
s.default.sourceLanguage = t;
};
t.prototype.initPushToken = function() {
cc.sys.isBrowser ? s.default.pushToken = "webmobile2022" : cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "getPushToken:", "none") : cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(y.AndroidInterfacePath.FirebaseInterface, "getPushToken", "()V") : s.default.pushToken = "simulatorpushtoken2021";
};
t.prototype.setPushToken = function(e) {
console.log("init push token", e);
s.default.pushToken = e;
};
t.prototype.initIsPad = function() {
p.default.getInstance().screenType == g.screenTypeEnum.isIpad ? s.default.prefabEndTag = "Pad" : s.default.prefabEndTag = "";
};
t.prototype.setIsPad = function(e) {
s.default.isPad = "true" === e;
console.log("isPad = ", s.default.isPad);
if (e) {
p.default.getInstance().initSceneConfg();
f.default.ins().setIpadTipsLayer();
}
};
t.prototype.initAppID = function() {
cc.sys.isBrowser ? l.MyEvent.getInstance().emit("ON_INIT_APPID") : cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "getAppID:", "none") : cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "getAppID", "()V") : l.MyEvent.getInstance().emit("ON_INIT_APPID");
};
t.prototype.setAppID = function(e) {
console.log("init appID", e);
s.default.appid = e;
l.MyEvent.getInstance().emit("ON_INIT_APPID");
h.default.inst.init(s.default.appid);
};
t.prototype.initAppVersion = function() {
c.default.isWebApp() ? s.default.hver = 100 : cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "getAppVersion:", "none") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "getAppVersion", "()V");
};
t.prototype.decompressZip = function(e) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "decompress", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", e, "manifest.zip", "manifest");
};
t.prototype.onDecompressZipSuccess = function() {
console.log("onDecompressZipSuccess");
var e = jsb.fileUtils.getSearchPaths(), t = [ (jsb.fileUtils ? jsb.fileUtils.getWritablePath() : "/") + "manifest/" ];
Array.prototype.unshift.apply(e, t);
localStorage.setItem("HotUpdateSearchPaths", JSON.stringify(e));
jsb.fileUtils.setSearchPaths(e);
setTimeout(function() {
cc.game.restart();
}, 200);
};
t.prototype.onUpdateProgress = function(e) {
console.log("onUpdateProgress:", e);
l.MyEvent.getInstance().emit("ON_UPDATE_PROGRESS", e);
};
t.prototype.setAppVersion = function(e) {
s.default.appVersion = e;
s.default.ver = parseInt(e.replace(".", "").replace(".", ""));
console.log("init appVersion", s.default.ver, s.default.appVersion);
if ((parseFloat(cc.sys.localStorage.getItem("gameVer")) || 100) < s.default.ver) {
var t = (jsb.fileUtils ? jsb.fileUtils.getWritablePath() : "/") + "galaxy-remote-asset";
jsb.fileUtils.removeDirectory(t);
}
cc.sys.localStorage.setItem("gameVer", s.default.ver);
};
t.prototype.getOnlineProduct = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.UrlManager, "getOnlineProduct", "()V");
};
t.prototype.setOnlineProduct = function(e) {
console.log("setOnlineProduct", e);
h.default.inst.productID = e;
};
t.prototype.chatWithWhatsApp = function(e, t) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "chatInWhatsApp:", "" + t) : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "chatInWhatsApp", "(Ljava/lang/String;Ljava/lang/String;)V", "" + e, "" + t));
};
t.prototype.shareFacebook = function(e, t) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "shareWithFacebook:", "") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "shareWithFacebook", "(Ljava/lang/String;Ljava/lang/String;)V", "" + e, "" + t));
};
t.prototype.shareLine = function(e, t) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "shareWithLine:", "") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "shareWithLine", "(Ljava/lang/String;Ljava/lang/String;)V", "" + e, "" + t));
};
t.prototype.shareFacebookWithImage = function(e, t) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "shareWithFacebook:", "") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "shareImageWithFacebook", "(ILjava/lang/String;)V", e, t));
};
t.prototype.shareLineWithImage = function(e, t) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "shareImageWithLine:", "") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "shareImageWithLine", "(ILjava/lang/String;)V", e, t));
};
t.prototype.shareTwitter = function(e, t) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "shareWithLine:", "") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "shareWithTwitter", "(Ljava/lang/String;Ljava/lang/String;)V", "" + e, "" + t));
};
t.prototype.shareMessenger = function(e, t) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "shareWithLine:", "") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "shareWithMessenger", "(Ljava/lang/String;Ljava/lang/String;)V", "" + e, "" + t));
};
t.prototype.shareSMS = function(e, t) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "shareWithLine:", "") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "shareWithSMS", "(Ljava/lang/String;Ljava/lang/String;)V", "" + e, "" + t));
};
t.prototype.shareWhatsApp = function(e, t) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "shareWithWhatsApp:", "") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "shareWithWhatsApp", "(Ljava/lang/String;Ljava/lang/String;)V", "" + e, "" + t));
};
t.prototype.startScreenShot = function(e) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "startScreenShot:", "" + e) : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "startScreenShot", "(Ljava/lang/String;)V", e));
};
t.prototype.createShareScreenShot = function(e) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "createShareScreenShot:", e) : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "createShareScreenShot", "(Ljava/lang/String;)V", e));
};
t.prototype.onHttpPostSuccess = function(e, t, o) {
var i = {};
i.maxMsgId = e;
i.imageID = t;
i.imageName = o;
l.MyEvent.getInstance().emit("ON_HTTP_POST_SUCCESS", i);
};
t.prototype.onHttpPostFailed = function(e) {
l.MyEvent.getInstance().emit("ON_HTTP_POST_FAIL", e);
};
t.prototype.onScreenShot = function() {
console.log("onScreenShot");
l.MyEvent.getInstance().emit("ON_SCREEN_SHOT");
};
t.prototype.initInstallInfo = function() {
this.isInstallFacebook();
this.isInstallMessenger();
};
t.prototype.initClipBoard = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "isInstallFacebook:", "none") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "getClipBoard", "()V"));
};
t.prototype.setClipBoardText = function(e) {
console.log("init clipboard ", e);
s.default.clipboardStr = e;
};
t.prototype.isInstallFacebook = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "isInstallFacebook:", "none") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "isInstallFacebook", "()V"));
};
t.prototype.isInstallMessenger = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "isInstallMessager:", "none") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "isInstallMessenger", "()V"));
};
t.prototype.setIsInstallFacebook = function(e) {
var t = !1;
1 == e && (t = !0);
s.default.isInstallFacebook = t;
console.log("setIsInstallFacebook = ", t, e);
};
t.prototype.setIsInstallMessenger = function(e) {
var t = !1;
1 == e && (t = !0);
s.default.isInstallMessenger = t;
console.log("setIsInstallMessenger = ", t, e);
};
t.prototype.openSystemShare = function(e) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "openSystemShare:", e) : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "openSystemShare", "(Ljava/lang/String;)V", e));
};
t.prototype.uploadAvatar = function(e) {
console.log("", e);
if (1 == e) {
c.default.clearHeadCache(r.default.UserData.userId);
l.MyEvent.getInstance().emit("UPLOAD_AVATAR_EVENT");
} else if (2 == e) {
console.log("");
l.MyEvent.getInstance().emit("AVATAR_SELECT_FINISH_EVENT");
} else console.log("");
};
t.prototype.takePhoto = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ImagePicker", "takePhoto:", "") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "takePhoto", "()V"));
};
t.prototype.openAlbum = function(e, t, o, i) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ImagePicker", "openAlbum:", "") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "openAlbum", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", e, t + "", o, i));
};
t.prototype.regesterNotification = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "registerPushNotification:", "") : (cc.sys.os, 
cc.sys.OS_ANDROID));
};
t.prototype.checkIfRegesterPushNotification = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "checkIfRegesterPushNotification:", "") : cc.sys.os == cc.sys.OS_ANDROID && (s.default.isRegesterPushNotification = !0));
};
t.prototype.setIsRegesterPushNotification = function(e) {
s.default.isRegesterPushNotification = "true" === e;
console.log("isRegesterPushNotification = ", s.default.isRegesterPushNotification);
};
t.prototype.requestIDFA = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "requestSKAdNetwork:", "") : (cc.sys.os, 
cc.sys.OS_ANDROID));
};
t.prototype.onNativeSaveFile = function(e) {
console.log("onNativeSaveFile", e);
l.MyEvent.getInstance().emit("ON_SAVE_FILE", e);
};
t.prototype.onApplicationDidEnterBackground = function() {};
t.prototype.onApplicationWillEnterForeground = function() {};
t.prototype.getAppleLoginState = function() {
if (!cc.sys.isBrowser && cc.sys.os == cc.sys.OS_IOS) {
var e = c.default.readData(r.default.storageData.appleLoginUser);
console.log("", e, c.default.isnull(e));
c.default.isnull(e) ? jsb.reflection.callStaticMethod("AppController", "checkAuthorizationStateWithUser:", e) : s.default.appleLoginState = !1;
}
};
t.prototype.appleLoginStateCallBack = function(e) {
if (0 == e) s.default.appleLoginState = !1; else {
s.default.appleLoginState = !0;
s.default.appleToken = c.default.readData(r.default.storageData.appleLoginToken);
s.default.applePid = c.default.readData(r.default.storageData.appleLoginUser);
null != s.default.appleToken && "" != s.default.appleToken || (s.default.appleLoginState = !1);
null != s.default.applePid && "" != s.default.applePid || (s.default.appleLoginState = !1);
}
};
t.prototype.iosLogin = function() {
cc.sys.isBrowser || jsb.reflection.callStaticMethod("AppController", "iosLogin:", "");
};
t.prototype.callBackIosLogin = function(e, t, o) {
s.default.appleToken = t;
s.default.applePid = e;
c.default.saveData(r.default.storageData.appleLoginUser, e);
c.default.saveData(r.default.storageData.appleLoginToken, t);
var i = {};
i.pid = s.default.applePid;
i.token = s.default.appleToken;
i.devId = s.default.devId;
i.ptype = s.PlatformType.apple;
"baiyu" != o && (i.nickName = o);
l.MyEvent.getInstance().emit("ON_APPLE_LOGIN_CALLBACK", i);
};
t.prototype.gotoComment = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "gotoComment:", "") : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "gotoComment", "()V"));
};
t.prototype.openStore = function(e) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "openStore:", e) : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "openStore", "(Ljava/lang/String;)V", e));
};
t.prototype.recordEvent = function(e, t, o) {
u.default.record(e, t, o);
};
t.prototype.resetKeyboradHeight = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "resetKeyboardHeight", "()V");
};
t.prototype.onStartInput = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "onStartInput", "()V");
};
t.prototype.onEndInput = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "onEndInput", "()V");
};
t.prototype.copyStr = function(e) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "copyStr:", "" + e) : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "copyStr", "(Ljava/lang/String;)V", e));
};
t.prototype.copy = function(e) {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("ZTInterface", "copyStr:", "" + e) : cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "copy", "(Ljava/lang/String;)V", e));
};
t.prototype.copyStrCallBack = function() {
l.MyEvent.getInstance().emit("ON_COPY_SUCCESS");
};
t.prototype.adJustRecord = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "adJustRecord", "(Ljava/lang/String;)V", "");
};
t.prototype.alert = function(e) {
c.default.alert(d.default.ins.STRING_COMMON(e));
};
t.prototype.getIPByHost = function(e) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "getIPByHost", "(Ljava/lang/String;)V", e);
};
t.prototype.setHostIP = function(e) {
console.log("ipAddress = ", e);
u.default.record(u.EventID.hostIP, "ip", e);
};
t.prototype.setScreenOrientation = function(e) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "setActivityOrentation", "(I)V", e);
};
t.prototype.setWebviewOrientation = function(e) {
l.MyEvent.getInstance().emit("EVENT_ORIENTATION_CHANGED", e);
};
t.prototype.enableScreenSensor = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.AppActivity, "enableSensor", "()V");
};
t.prototype.disableScreenSensor = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.AppActivity, "disableSensor", "()V");
};
t.prototype.showWebviewLoading = function(e) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "showWebGameLoadingPage", "(I)V", e);
};
t.prototype.showFullWebView = function(e, t) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "showFullWebView", "(Ljava/lang/String;I)V", e, t);
};
t.prototype.closeOrientationCover = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "closeOrientationCover", "()V");
};
t.prototype.setFitSystemWindows = function(e) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "setFitSystemWindows", "(I)V", e);
};
t.prototype.hideWebviewLoading = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "hideWebGameLoadingPage", "()V");
};
t.prototype.showWebviewBackBtn = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "showWebViewBackBtn", "()V");
};
t.prototype.hideWebviewBackBtn = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "hideWebViewBackBtn", "()V");
};
t.prototype.backHall = function() {
l.MyEvent.getInstance().emit("ON_BACK_HALL");
};
t.prototype.getIsEmulator = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "isEmulator", "()V");
};
t.prototype.setIsEmulator = function(e) {
console.log("isEmulator = ", e);
s.default.isEmulator = e;
};
t.prototype.onWebLoadComplete = function() {
l.MyEvent.getInstance().emit("ON_LOAD_COMPLETE");
};
t.prototype.onWebLoadError = function() {
l.MyEvent.getInstance().emit("ON_LOAD_ERROR");
};
t.prototype.createQRCodeWithString = function(e) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "createQRCodeWithString", "(Ljava/lang/String;)V", e);
};
t.prototype.createQRCodeWithBase64String = function(e) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "createQRCodeWithBase64String", "(Ljava/lang/String;)V", e);
};
t.prototype.saveQRToGallery = function(e, t, o, i) {
console.log("date " + o);
console.log("time " + i);
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "saveQRToGallery", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", e, t, o, i);
};
t.prototype.saveQRImageToGallery = function(e, t, o, i) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "saveQRImageToGallery", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", e, t, o, i);
};
t.prototype.saveAgentQR = function(e, t) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "saveAgentQR", "(ILjava/lang/String;)V", e, t);
};
t.prototype.onChooseImage = function(e) {
console.log("imageURI = ", e);
l.MyEvent.getInstance().emit("ON_CHOOSE_IMAGE", e);
};
t.prototype.sendImage = function(e, t) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "sendImage", "(Ljava/lang/String;I)V", e, t);
};
t.prototype.getDeepLink = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.MainActivity, "getDeepLink", "()V");
};
t.prototype.setDeepLink = function(e) {
console.log("deeplink = ", e);
s.default.deeplink = e;
};
t.prototype.onShowKeyBoard = function(e) {
l.MyEvent.getInstance().emit("ON_SHOW_KEYBOARD", e);
};
t.prototype.closeKeyboard = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "closeKeyboard", "()V");
};
t.prototype.getKeyBoardHeight = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "getKeyBoardHeight", "()V");
};
t.prototype.setKeyBoardHeight = function(e) {
console.log("keyboard height ", e);
l.MyEvent.getInstance().emit("ON_GET_KEYBOARD_HEIGHT", e);
};
t.prototype.getCurrKeyboardHeight = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "getCurrKeyboardHeight", "()V");
};
t.prototype.setCurrKeyboardHeight = function(e) {
console.log("curr keyboard height ", e);
l.MyEvent.getInstance().emit("ON_GET_KEYBOARD_INVISIBLE_HEIGHT", e);
};
t.prototype.getTimeZone = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "getTimeZone", "()V");
};
t.prototype.setTimeZone = function(e) {
s.default.timeZone = e;
};
t.prototype.getLocalTime = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(y.AndroidInterfacePath.SystemInterface, "getLocalTime", "()V");
};
t.prototype.setLocalTime = function(e) {
s.default.localTime = e;
};
var o;
t._inst = null;
return o = a([ C ], t);
}(cc.Component));
o.default = b;
cc.SystemCallback = b.inst;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Conf/Const": "Const",
"../Conf/Game": "Game",
"../Conf/GuardConfig": "GuardConfig",
"../Conf/ScreenAdapter": "ScreenAdapter",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../Manager/DialogManager": "DialogManager",
"../Manager/EventRecorder": "EventRecorder",
"../Manager/LayerManager": "LayerManager",
"../Manager/PaymentInterface": "PaymentInterface",
"../Util/GameUtil": "GameUtil"
} ],
PhpApiManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "07e8b6K9VhD8Ykgb+gl2mxv", "PhpApiManager");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.NetworkManager = void 0;
var n = e("../GameFireData/GameAllData"), a = e("../Http/MyHttp"), r = e("../Util/GameUtil"), s = cc._decorator, c = s.ccclass, l = (s.property, 
function() {
function e() {
this.scheduler = null;
this.configVersion = "0";
this.PHP_TIMEOUT = 2;
this.phpAddrList = [];
this.isPhpComplete = !1;
this.phpCallBack = null;
this.timeoutCounter = 0;
}
t = e;
e.prototype.init = function() {
this.configVersion = r.default.readData("ConfigVersion") || "0";
this.isPhpComplete = !1;
this.phpAddrList = [];
this.phpAddrList.push(n.default.pingUrl);
this.scheduler = cc.director.getScheduler();
this.scheduler.enableForTarget(this);
this.scheduler.unscheduleAllForTarget(this);
};
e.prototype.selectPhpPath = function(e) {
var t = this, o = {};
o.cv = this.configVersion;
t.isPhpComplete = !1;
this.timeoutCounter = 0;
this.phpCallBack = e;
this.scheduler.schedule(this.onPhpTimeOut, this, 1, 5, 0, !1);
for (var i = 0; i < this.phpAddrList.length; i++) {
var n = this.phpAddrList[i];
a.default.getInstance().httpGetWithFullUrl(n, o, function(o) {
if (0 == t.isPhpComplete) {
t.isPhpComplete = !0;
e(o);
}
});
}
};
e.prototype.onPhpTimeOut = function() {
if (this.timeoutCounter < this.PHP_TIMEOUT) this.timeoutCounter++; else {
if (0 == this.isPhpComplete) {
this.isPhpComplete = !0;
null != this.phpCallBack && this.phpCallBack(null);
}
this.scheduler.unschedule(this.onPhpTimeOut, this);
this.timeoutCounter = 0;
}
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ c ], e);
}());
o.NetworkManager = l;
cc._RF.pop();
}, {
"../GameFireData/GameAllData": "GameAllData",
"../Http/MyHttp": "MyHttp",
"../Util/GameUtil": "GameUtil"
} ],
PlatformInterface: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5775aZk+tBLD42KxGBg9gin", "PlatformInterface");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.PlatformInterfaces = void 0;
var n, a = e("../data/GameLangData"), r = e("../data/MyData"), s = e("../data/conf/AndroidInterfaces"), c = e("../data/conf/GameConfig"), l = e("../data/conf/GameInfo"), d = e("../natives/AndroidInfo"), h = e("../public/MyComponent/GameEvent"), u = e("../public/MyComponent/GameHppayUtil"), p = e("./DlgGameMgr"), f = e("./MyWebView"), m = cc._decorator, g = m.ccclass;
m.property;
(function(e) {
e.javaObj = "js2java";
e.javaPublicFunc = "callJava";
e.hideSplash = "hideSplash";
e.showLoading = "showGamePageLoading";
e.showGame = "showGamePage";
e.openBrowser = "goBrowser";
e.openStore = "goShop";
e.openService = "goService";
e.openPayWeb = "goService";
e.openGCashHelper = "goService";
e.setOrientation = "setOrientation";
e.googlePurchase = "purchase";
e.googleConsume = "consume";
e.shareWithLine = "shareWithLine";
e.shareWithWhatsApp = "shareWithWhatsApp";
e.shareWithFacebook = "shareWithFacebook";
e.shareImageWithFacebook = "shareImageWithFacebook";
e.shareWithOS = "shareWithOS";
e.saveQRToLocal = "saveQRToLocal";
e.onWebGameClosed = "onWebGameClosed";
})(n = o.PlatformInterfaces || (o.PlatformInterfaces = {}));
var y = function() {
function e() {}
e.setAFCUID = function(e) {
cc.sys.isBrowser ? this.jswindow.js2java : d.default.inst.setCUID(e);
};
e.isNativeH5 = function() {
return !(!cc.sys.isBrowser || "object" != typeof this.jswindow.js2java);
};
e.isNative = function() {
return cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_IOS;
};
e.isH5 = function() {
return !!cc.sys.isBrowser && "object" != typeof this.jswindow.js2java && !u.default.isLocalTest();
};
e.hideSplash = function() {
cc.sys.isBrowser ? "object" == typeof this.jswindow.js2java && this.jswindow.js2java.callJava(n.hideSplash + "@@0") : d.default.inst.hideSplash();
};
e.showGameLoading = function(e) {
cc.sys.isBrowser ? "object" == typeof this.jswindow.js2java && this.jswindow.js2java.callJava(n.showLoading + "@@" + e) : d.default.inst.showWebviewLoading(e);
};
e.showGamePage = function(e, t, o) {
cc.sys.isBrowser ? "object" == typeof this.jswindow.js2java && this.jswindow.js2java.callJava(n.showGame + "@@" + o) : d.default.inst.showFullWebView(e, t);
};
e.openPayWeb = function(e, t, o) {
if (cc.sys.isBrowser) if ("object" == typeof this.jswindow.js2java) this.jswindow.js2java.callJava(n.openPayWeb + "@@" + o); else if (u.default.isLocalTest()) {
(i = {}).payUrl = e;
i.imageUrl = t;
p.default.inst.showDlg(p.FullScreenType.gameChargeWeb, i);
} else f.default.inst.open(e, function() {}); else {
var i;
(i = {}).payUrl = e;
i.imageUrl = t;
p.default.inst.showDlg(p.FullScreenType.gameChargeWeb, i);
}
};
e.openGCashHelper = function(e, t) {
if (cc.sys.isBrowser) if ("object" == typeof this.jswindow.js2java) this.jswindow.js2java.callJava(n.openGCashHelper + "@@" + t + "!!" + e); else if (u.default.isLocalTest()) {
(o = {}).payUrl = t;
o.imageUrl = e;
p.default.inst.showDlg(p.FullScreenType.gameChargeWeb, o);
} else cc.sys.openURL(t); else {
var o;
(o = {}).payUrl = t;
o.imageUrl = e;
p.default.inst.showDlg(p.FullScreenType.gameChargeWeb, o);
}
};
e.showFeedback = function() {
if (cc.sys.isBrowser) {
var e = u.default.getPublicParams("wechat");
if ("object" == typeof this.jswindow.js2java) {
var t = a.default.ins.GET_NEWHALL_LANG("feedback");
this.jswindow.js2java.callJava(n.openService + "@@" + e + "!!" + t);
} else u.default.isLocalTest() ? p.default.inst.showFullView(p.FullScreenType.services) : f.default.inst.open(e, function() {});
} else p.default.inst.showFullView(p.FullScreenType.services);
};
e.openBrowser = function(e) {
cc.sys.isBrowser ? "object" == typeof this.jswindow.js2java ? this.jswindow.js2java.callJava(n.openBrowser + "@@" + e) : f.default.inst.open(e, function() {}) : cc.sys.openURL(e);
};
e.openStore = function(e, t, o) {
cc.sys.isBrowser ? "object" == typeof this.jswindow.js2java ? this.jswindow.js2java.callJava(n.openStore + "@@" + e) : cc.sys.openURL(o) : d.default.inst.openStore(e, t, o);
};
e.setOrientantion = function(e) {
cc.sys.isBrowser ? u.default.isLocalTest() ? u.default.setScreenOrientation(e) : "object" == typeof this.jswindow.js2java && this.jswindow.js2java.callJava(n.setOrientation + "@@" + e) : u.default.setScreenOrientation(e);
};
e.purchase = function(e) {
cc.sys.isBrowser ? "object" == typeof this.jswindow.js2java && this.jswindow.js2java.callJava(n.googlePurchase + "@@" + e + "!!" + r.default.UserData.userId + "!!" + c.default.gpUrl) : (cc.sys.os, 
cc.sys.OS_ANDROID);
};
e.consume = function(e) {
cc.sys.isBrowser ? "object" == typeof this.jswindow.js2java && this.jswindow.js2java.callJava(n.googleConsume + "@@" + e + "!!" + r.default.UserData.userId + "!!" + c.default.gpUrl) : (cc.sys.os, 
cc.sys.OS_ANDROID);
};
e.shareToLine = function(e, t) {
cc.sys.isBrowser ? "object" == typeof this.jswindow.js2java && this.jswindow.js2java.callJava(n.shareWithLine + "@@" + e + "!!" + t) : cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(s.InterfaceAndroidPath.androidNativeInterface, n.shareWithLine, "(Ljava/lang/String;Ljava/lang/String;)V", e, t) : cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(s.InterfaceAndroidPath.iosNativeInterface, n.shareWithLine + ":content:", e, t);
};
e.shareToFacebook = function(e, t) {
cc.sys.isBrowser ? "object" == typeof this.jswindow.js2java && this.jswindow.js2java.callJava(n.shareWithFacebook + "@@" + e + "!!" + t) : cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(s.InterfaceAndroidPath.androidNativeInterface, n.shareWithFacebook, "(Ljava/lang/String;Ljava/lang/String;)V", e, t) : cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(s.InterfaceAndroidPath.iosNativeInterface, n.shareWithFacebook + ":content:", e, t);
};
e.shareImageToFacebook = function(e, t) {
if (cc.sys.isBrowser) if ("object" == typeof this.jswindow.js2java) this.jswindow.js2java.callJava(n.shareImageWithFacebook + "@@" + e + "!!" + t + "!!" + l.default.countryID); else {
var o = a.default.ins.GET_NEWHALL_LANG("share").replace("$$", l.default.gameMoneyUnit + e), i = "https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(t) + "&quote=" + encodeURIComponent(o);
window.open(i, "_blank");
} else cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(s.InterfaceAndroidPath.androidNativeInterface, n.shareImageWithFacebook, "(ILjava/lang/String;I)V", e, t, l.default.countryID) : cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(s.InterfaceAndroidPath.iosNativeInterface, n.shareImageWithFacebook + ":qrString:countryID:", e, t, l.default.countryID);
};
e.shareToWhatsApp = function(e, t) {
cc.sys.isBrowser ? "object" == typeof this.jswindow.js2java ? this.jswindow.js2java.callJava(n.shareWithWhatsApp + "@@" + e + "!!" + t) : window.location.href = "whatsapp://send?text=" + t + "\n" : cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(s.InterfaceAndroidPath.androidNativeInterface, n.shareWithWhatsApp, "(Ljava/lang/String;Ljava/lang/String;)V", e, t) : cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(s.InterfaceAndroidPath.iosNativeInterface, n.shareWithWhatsApp + ":content:", e, t);
};
e.shareWithOS = function(e) {
if (cc.sys.isBrowser) if ("object" == typeof this.jswindow.js2java) this.jswindow.js2java.callJava(n.shareWithOS + "@@" + e); else try {
navigator.share({
title: "Web Share API Example",
text: e,
url: ""
});
} catch (e) {
console.error("Error sharing:", e);
} else cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(s.InterfaceAndroidPath.androidNativeInterface, n.shareWithOS, "(Ljava/lang/String;)V", e) : cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(s.InterfaceAndroidPath.iosNativeInterface, n.shareWithOS + ":", e);
};
e.saveQRToLocal = function(e, t) {
if (cc.sys.isBrowser) if ("object" == typeof this.jswindow.js2java) this.jswindow.js2java.callJava(n.saveQRToLocal + "@@" + e + "!!" + t + "!!" + l.default.countryID); else {
var o = window;
o.downloadBase64(o.IMAGE_URL);
} else cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(s.InterfaceAndroidPath.androidNativeInterface, n.saveQRToLocal, "(ILjava/lang/String;I)V", e, t, l.default.countryID) : cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(s.InterfaceAndroidPath.iosNativeInterface, n.saveQRToLocal + ":qrString:countryID:", e, t, l.default.countryID);
};
e.trackCompleteRegistration = function() {
"function" == typeof this.jswindow.trackCompleteRegistration && this.jswindow.trackCompleteRegistration();
};
e.trackAddToCart = function(e) {
"function" == typeof this.jswindow.trackAddToCart && this.jswindow.trackAddToCart(e);
};
e.trackPurchase = function(e) {
"function" == typeof this.jswindow.trackPurchase && this.jswindow.trackPurchase(e);
};
e.initJavaCallBackFunctions = function() {
var e = window;
e.onWebGameClosed || (e.onWebGameClosed = function() {
console.log("ON_WEBGAME_CLOSED");
h.GameEvent.ins().emit("ON_WEBGAME_CLOSED");
});
e.onSaveImageSuccess || (e.onSaveImageSuccess = function(e) {
console.log("ON_SAVE_IMAGE_SUCCESS");
h.GameEvent.ins().emit("ON_SAVE_IMAGE_SUCCESS");
u.default.alert(a.default.ins.STRING_COMMON(e));
});
};
e.jswindow = window;
return i([ g ], e);
}();
o.default = y;
cc._RF.pop();
}, {
"../data/GameLangData": "GameLangData",
"../data/MyData": "MyData",
"../data/conf/AndroidInterfaces": "AndroidInterfaces",
"../data/conf/GameConfig": "GameConfig",
"../data/conf/GameInfo": "GameInfo",
"../natives/AndroidInfo": "AndroidInfo",
"../public/MyComponent/GameEvent": "GameEvent",
"../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"./DlgGameMgr": "DlgGameMgr",
"./MyWebView": "MyWebView"
} ],
PlayerKickbackEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "67067+sr5dI5II5WmnnOCuK", "PlayerKickbackEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../communication/GameLobbyHttp"), s = e("../../../data/GameLangData"), c = e("../../../data/conf/GameInfo"), l = e("../../../data/conf/GameRes"), d = e("../../../manager/DlgGameMgr"), h = e("../../../manager/GameSoundMgr"), u = e("../../../public/MyComponent/GameHppayUtil"), p = e("../../../public/MyComponent/ViewExecutorBase"), f = cc._decorator, m = f.ccclass, g = (f.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {
this.chargeNode = this.node.chargeNode;
this.rootNode = this.node.rootNode;
};
t.prototype.updateLanguageUIEx = function() {
var e = this.chargeNode.getChildByName("bgTotal");
e.getChildByName("labelTotalMoneyDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("totalChips");
e.getChildByName("labelLeftMoneyDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("totalCanUseChips");
e.getChildByName("labelWithdrawMoneyDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("canWithdrawChips");
var t = this.rootNode.getChildByName("leftChoose");
t.getChildByName("deposit").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("myRebate");
t.getChildByName("withdraw").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("rebateDescTitle");
u.default.loadSprAtlasFrame(this.rootNode.getChildByName("leftChoose").getChildByName("chip").getChildByName("icon"), l.GameResInfo.CURRENCY_ROOT_DIR + l.GameResInfo.CURRENCY_ICON);
};
t.prototype.onGetRewardEx = function() {
u.default.alert(s.default.ins.GET_NEWHALL_LANG("rewardSuccess"));
r.default.getInstance().getRebateList();
};
t.prototype.onHelpEx = function() {
h.default.inst.playGameEffect(h.AudioRes.click);
d.default.inst.showDlg(d.DlgType.withdrList);
};
t.prototype.onShowChargeEx = function() {
h.default.inst.playGameEffect(h.AudioRes.click);
this.node.showCharge();
};
t.prototype.onShowWithdrawEx = function() {
h.default.inst.playGameEffect(h.AudioRes.click);
this.node.showWithdraw();
};
t.prototype.onLineEx = function() {
h.default.inst.playGameEffect(h.AudioRes.click);
u.default.showFeedback();
};
t.prototype.onListHistoryEx = function(e, t) {
var o = e.getChildByName("bg");
0 == t ? u.default.loadSprAtlasFrame(o, "listItem", "plists/charge") : u.default.loadSprAtlasFrame(o, "listItem1", "plists/charge");
var i = this.node.recordData[t];
e.getChildByName("labelTime").getComponent(cc.Label).string = u.default.formatDate2(i.daytime);
var n = e.getChildByName("labelKickbackMoney");
n.getComponent(cc.Label).string = c.default.gameMoneyUnit + u.default.cul(i.rebate.toFixed(2));
var a = e.getChildByName("labelTotalMoney");
a.getComponent(cc.Label).string = c.default.gameMoneyUnit + u.default.cul(i.all_chiped.toFixed(2));
var l = e.getChildByName("labelValidMoney");
l.getComponent(cc.Label).string = c.default.gameMoneyUnit + u.default.cul(i.effective.toFixed(2));
var d = e.getChildByName("labelKickback").getComponent(cc.Label);
d.string = s.default.ins.GET_NEWHALL_LANG("validBetRebate");
var h = e.getChildByName("labelTotal").getComponent(cc.Label);
h.string = s.default.ins.GET_NEWHALL_LANG("totalRebate");
var p = e.getChildByName("labelValid").getComponent(cc.Label);
p.string = s.default.ins.GET_NEWHALL_LANG("validBet");
d._forceUpdateRenderData(!0);
h._forceUpdateRenderData(!0);
p._forceUpdateRenderData(!0);
n.x = d.node.x + d.node.width + 10;
a.x = h.node.x + h.node.width + 10;
l.x = p.node.x + p.node.width + 10;
var f = i.status, m = e.getChildByName("btnGetKickback");
if (0 == f) {
m.getComponent(cc.Button).interactable = !0;
m.getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("getReward");
m.off("click");
m.on("click", function() {
r.default.getInstance().getRebateReward(i.daytime);
}, this);
} else if (1 == f) {
m.getComponent(cc.Button).interactable = !1;
m.getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_DIALOG_LANG("hasRewarded");
} else if (2 == f) {
m.getComponent(cc.Button).interactable = !1;
m.getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("inprogress");
} else if (3 == f) {
m.getComponent(cc.Button).interactable = !1;
m.getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("noRecord");
}
};
return a([ m ], t);
}(p.default));
o.default = g;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../data/conf/GameRes": "GameRes",
"../../../manager/DlgGameMgr": "DlgGameMgr",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
PlayerKickback: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b4cbanmvkRD9ozerd7N6YtA", "PlayerKickback");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../data/conf/GameInfo"), c = e("../../../data/conf/GameRes"), l = e("../../../data/MyData"), d = e("../../../data/GameLangData"), h = e("../../../public/ThirdParty/GameSysDefine"), u = e("../../../public/ThirdParty/happyList"), p = e("../../../public/MyComponent/GameHppayUtil"), f = e("../../executor/bank/PlayerKickbackEx"), m = e("../../../communication/GameLobbyHttp"), g = cc._decorator, y = g.ccclass, _ = (g.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.chargeNode = null;
t.withdrawNode = null;
t.btnCharge = null;
t.btnWithdraw = null;
t.chargeLabel = null;
t.withdrawLabel = null;
t.imageSideSelectedItem = null;
t.title = null;
t.imageBankSSelectedItem = null;
t.totalMoney = null;
t.canWithdrawMoney = null;
t.canUseMoney = null;
t.rate = .6;
t.recordList = null;
t.recordData = [];
t.formType = h.FormType.FixedUI;
t.rootNode = null;
t.currShowIndex = 1;
t._labelMyChip = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new f.default();
this.exView.setProxy(this);
var e = this.node.getChildByName("dlgBg").getChildByName("bg");
this.setNodeFullScreen(e);
};
t.prototype.setView = function() {
this.rootNode = this.node.getChildByName("dlgBg");
var e = this.rootNode.getChildByName("leftChoose");
e.getChildByName("btnBack").on("click", this.onClose, this);
this.btnCharge = e.getChildByName("deposit");
this.btnCharge.on("click", this.onShowCharge, this);
this.chargeLabel = this.btnCharge.getChildByName("label");
this.btnWithdraw = e.getChildByName("withdraw");
this.btnWithdraw.on("click", this.onShowWithdraw, this);
this.withdrawLabel = this.btnWithdraw.getChildByName("label");
this.imageSideSelectedItem = e.getChildByName("sideSelectedItem");
this.title = e.getChildByName("title").getComponent(cc.Label);
this.chargeNode = this.rootNode.getChildByName("rebateNode");
var t = this.chargeNode.getChildByName("bgTotal");
this.recordList = this.chargeNode.getChildByName("ScrollView").getComponent(u.default);
this.totalMoney = t.getChildByName("labelTotalMoney").getComponent(cc.Label);
this.canUseMoney = t.getChildByName("labelLeftMoney").getComponent(cc.Label);
this.canWithdrawMoney = t.getChildByName("labelWithdrawMoney").getComponent(cc.Label);
t.getChildByName("btnHelp").on("click", this.onHelp, this);
e.getChildByName("btnOnline").on("click", this.onLine, this);
e.getChildByName("btnOnline").getChildByName("label").getComponent(cc.Label).string = d.default.ins.GET_DIALOG_LANG("customerService");
this.withdrawNode = this.rootNode.getChildByName("descNode");
this._labelMyChip = e.getChildByName("chip").getChildByName("labelChip");
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.updateLanguageUI();
this.showImageDesc();
this.register("GameKickback", [ "ON_GET_REBATE_LIST", "ON_GET_REBATE_REWARD", "MONEY_UPDATE_EVENT" ]);
this.setDataView();
};
t.prototype.setDataView = function() {
this.currShowIndex = this._data || 1;
this.rootNode.active = !1;
this._initUserInfo(l.default.UserData.chip, l.default.UserData.point, l.default.UserData.coin);
this.showLoading();
m.default.getInstance().getRebateList();
};
t.prototype.showImageDesc = function() {
var e = this.withdrawNode.getChildByName("scrollview").getChildByName("view").getChildByName("content").getChildByName("image");
p.default.loadSprAtlasFrame(e, c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.KICKBACK_DESC);
e.scale = .96;
};
t.prototype.updateLanguageUI = function() {
this.exView.updateLanguageUIEx();
};
t.prototype._initUserInfo = function(e) {
this._labelMyChip.getComponent(cc.Label).string = "" + p.default.cul(e.toFixed(2));
};
t.prototype._updateMyInfo = function() {
p.default.changeLabelNum(this._labelMyChip, l.default.UserData.chip);
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_GET_REBATE_LIST":
this.onGetRebateList(t);
break;

case "ON_GET_REBATE_REWARD":
this.onGetReward(t);
break;

case "MONEY_UPDATE_EVENT":
this._updateMyInfo();
}
};
t.prototype.onGetRebateList = function(e) {
this.rate = e.rate;
this.totalMoney.string = s.default.gameMoneyUnit + p.default.cul(e.totalChips.toFixed(2));
this.canUseMoney.string = s.default.gameMoneyUnit + p.default.cul(e.chips.toFixed(2));
this.canWithdrawMoney.string = s.default.gameMoneyUnit + p.default.cul(e.money.toFixed(2));
this.recordData = e.logs;
this.recordList.numItems = this.recordData.length;
this.hideLoading();
this.rootNode.active = !0;
this.showPage(this.currShowIndex);
};
t.prototype.onGetReward = function() {
this.exView.onGetRewardEx();
};
t.prototype.onListHistory = function(e, t) {
this.exView.onListHistoryEx(e, t);
};
t.prototype.showPage = function(e) {
switch (e) {
case 1:
this.showCharge();
break;

case 2:
this.showWithdraw();
}
};
t.prototype.onHelp = function() {
this.exView.onHelpEx();
};
t.prototype.onShowCharge = function() {
this.exView.onShowChargeEx();
};
t.prototype.showCharge = function() {
this.currShowIndex = 1;
this.withdrawNode.active = !1;
this.chargeNode.active = !0;
this.imageSideSelectedItem.y = this.btnCharge.y;
this.chargeLabel.color = cc.color(240, 241, 242, 255);
this.withdrawLabel.color = cc.color(150, 183, 233, 255);
this.title.string = d.default.ins.GET_NEWHALL_LANG("myRebate");
};
t.prototype.onShowWithdraw = function() {
this.exView.onShowWithdrawEx();
};
t.prototype.showWithdraw = function() {
this.currShowIndex = 2;
this.withdrawNode.active = !0;
this.chargeNode.active = !1;
this.imageSideSelectedItem.y = this.btnWithdraw.y;
this.chargeLabel.color = cc.color(150, 183, 233, 255);
this.withdrawLabel.color = cc.color(240, 241, 242, 255);
this.title.string = d.default.ins.GET_NEWHALL_LANG("rebateDescTitle");
};
t.prototype.onLine = function() {
this.exView.onLineEx();
};
return a([ y ], t);
}(r.default));
o.default = _;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../data/MyData": "MyData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../data/conf/GameRes": "GameRes",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../../public/ThirdParty/GameSysDefine": "GameSysDefine",
"../../../public/ThirdParty/happyList": "happyList",
"../../executor/bank/PlayerKickbackEx": "PlayerKickbackEx"
} ],
PlayerPhotoSelectorDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c14a4SaR5xHwopLnQ0oOVBs", "PlayerPhotoSelectorDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../public/MyComponent/WindowBase"), s = e("../../data/GameLangData"), c = e("../../manager/GameSoundMgr"), l = e("../../public/MyComponent/GameHppayUtil"), d = e("../../communication/GameLobbyHttp"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.photoSelector = null;
t.currSelectHeadID = 1;
t.headPhotos = [];
return t;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
var e = this.node.getChildByName("dlgBg");
e.getChildByName("btnClose").on("click", this.onClose, this);
this.photoSelector = e.getChildByName("headSelector");
for (var t = 0; t < 24; t++) {
var o = e.getChildByName("avatar" + (t + 1));
l.default.setHeadPhoto(o, t);
o.name = "" + t;
o.on("click", this.onSelectPhoto, this);
this.headPhotos.push(o);
}
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.updateLanguageUI();
this.currSelectHeadID = this._data || 1;
this.selectPhoto(this.currSelectHeadID);
};
t.prototype.updateLanguageUI = function() {
this.node.getChildByName("dlgBg").getChildByName("labelTitle").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("selectPhoto");
l.default.labelShadow(this.node.getChildByName("dlgBg").getChildByName("labelTitle").getComponent(cc.Label));
};
t.prototype.onClose = function() {
d.default.getInstance().updateAwatar(this.currSelectHeadID);
e.prototype.onClose.call(this);
};
t.prototype.onSelectPhoto = function(e) {
c.default.inst.playGameEffect(c.AudioRes.click);
var t = e.node.name;
this.selectPhoto(t);
};
t.prototype.selectPhoto = function(e) {
this.currSelectHeadID = e;
this.photoSelector.x = this.headPhotos[e].x + 5;
this.photoSelector.y = this.headPhotos[e].y;
};
return a([ u ], t);
}(r.default));
o.default = p;
cc._RF.pop();
}, {
"../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../data/GameLangData": "GameLangData",
"../../manager/GameSoundMgr": "GameSoundMgr",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/WindowBase": "WindowBase"
} ],
PlayerWithdrawEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a76ab1WXF9EGLpa9EYtk7Iy", "PlayerWithdrawEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../communication/GameLobbyHttp"), s = e("../../../data/GameLangData"), c = e("../../../data/MyData"), l = e("../../../data/conf/GameInfo"), d = e("../../../data/conf/GameRes"), h = e("../../../manager/DlgGameMgr"), u = e("../../../manager/GameSoundMgr"), p = e("../../../manager/PlatformInterface"), f = e("../../../public/MyComponent/GameHppayUtil"), m = e("../../../public/MyComponent/ViewExecutorBase"), g = cc._decorator, y = g.ccclass, _ = (g.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.showWithdrawTipsEx = function(e) {
var t = this;
this.node.tipsNode.active = !0;
this.node.tipsDesc1.stopAllActions();
this.node.tipsDesc2.stopAllActions();
this.node.tipsDesc1.x = -556.5;
this.node.tipsDesc1.getComponent(cc.Label).string = e;
this.node.tipsDesc1.getComponent(cc.Label)._forceUpdateRenderData(!0);
var o = this.node.tipsDesc1.width, i = o / 80;
if (o > 1113) {
this.node.tipsDesc2.getComponent(cc.Label).string = e;
this.node.tipsDesc2.x = .7 * (-795 + o + 35);
cc.tween(this.node.tipsDesc1).repeatForever(cc.tween().to(i, {
x: .7 * (-795 - o - 35)
}).call(function() {
t.node.tipsDesc1.x = .7 * (-795 + o + 35);
}).to(i, {
x: -556.5
})).start();
cc.tween(this.node.tipsDesc2).repeatForever(cc.tween().to(i, {
x: -556.5
}).to(i, {
x: .7 * (-795 - o - 35)
}).call(function() {
t.node.tipsDesc2.x = .7 * (-795 + o + 35);
})).start();
} else this.node.tipsDesc2.getComponent(cc.Label).string = "";
};
t.prototype.updateLanguageUIEx = function() {
var e = this.node.withdrawNode.getChildByName("bgTotal");
e.getChildByName("labelTotalMoneyDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("totalChips");
e.getChildByName("labelLeftMoneyDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("totalCanUseChips");
e.getChildByName("labelWithdrawMoneyDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("canWithdrawChips");
var t = this.node.withdrawNode.getChildByName("bgAmount");
t.getChildByName("labelWithdrawDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("canWithdrawChips");
t.getChildByName("btnWithdraw").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("withdraw");
t.getChildByName("labelAmount").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("totalAmount");
this.node.amountTips.string = s.default.ins.GET_HALL_LANG("amountTransferTips");
this.node.bankAccountBindNode.getChildByName("labelUserNameTitle").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("cardHolder");
this.node.bankAccountBindNode.getChildByName("labelBankNameTitle").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("bankIFSC");
this.node.bankAccountBindNode.getChildByName("labelBankNumberTitle").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("bankNumber");
this.node.bankAccountBindNode.getChildByName("labelAmount").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("receiveAccount");
this.node.bankAccountNoBindNode.getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("bindBankAccout");
var o = this.node.withdrawGCashNode.getChildByName("bgTotal");
o.getChildByName("labelTotalMoneyDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("totalChips");
o.getChildByName("labelLeftMoneyDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("totalCanUseChips");
o.getChildByName("labelWithdrawMoneyDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("canWithdrawChips");
var i = this.node.withdrawGCashNode.getChildByName("bgAmount");
i.getChildByName("labelWithdrawDesc").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("canWithdrawChips");
i.getChildByName("btnWithdraw").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("withdraw");
i.getChildByName("labelAmount").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("totalAmount");
this.node.amountTipsGCash.string = s.default.ins.GET_HALL_LANG("amountTransferTips");
this.node.bankAccountBindNodeGCash.getChildByName("labelUserNameTitle").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("GCashAccount");
this.node.bankAccountBindNodeGCash.getChildByName("labelBankNumberTitle").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("GCashNumber");
this.node.bankAccountBindNodeGCash.getChildByName("labelBankNameTitle").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("accountType");
this.node.bankAccountBindNodeGCash.getChildByName("labelAmount").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("GCash");
this.node.bankAccountNoBindNodeGCash.getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("bindGCash");
var n = t.getChildByName("bgDesc");
i.getChildByName("bgDesc").getChildByName("labelDesc").getComponent(cc.RichText).string = s.default.ins.GET_NEWHALL_LANG("payoutDescriptionGCash");
n.getChildByName("labelDesc").getComponent(cc.RichText).string = s.default.ins.GET_NEWHALL_LANG("payoutDescription");
this.node.recordNode.getChildByName("labelTime").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("time");
this.node.recordNode.getChildByName("labelType").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("type");
this.node.recordNode.getChildByName("labelAmount").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("amount");
this.node.recordNode.getChildByName("labelStatus").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("status");
var a = this.node.rootNode.getChildByName("leftChoose");
a.getChildByName("withdrawGCash").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("GCashTitle");
a.getChildByName("history").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("tradeDetails");
a.getChildByName("withdraw").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("bankTransfer");
this.node.recordNode.getChildByName("labelNoRecord").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("noRecordDesc");
f.default.loadSprAtlasFrame(this.node.rootNode.getChildByName("leftChoose").getChildByName("chip").getChildByName("icon"), d.GameResInfo.CURRENCY_ROOT_DIR + d.GameResInfo.CURRENCY_ICON);
if (l.default.country == l.GameCountryEnum.Indonesia || l.default.country == l.GameCountryEnum.Vietnam) {
this.node.amountTipsRoot.active = !0;
this.node.amountTipsRootGCash.active = !0;
} else {
this.node.amountTipsRoot.active = !1;
this.node.amountTipsRootGCash.active = !1;
}
l.default.country == l.GameCountryEnum.Philippines ? f.default.loadSprAtlasFrame(this.node.bankAccountNoBindNodeGCash.getChildByName("icon"), "btnGC", "plists/charge") : l.default.country == l.GameCountryEnum.India ? f.default.loadSprAtlasFrame(this.node.bankAccountNoBindNodeGCash.getChildByName("icon"), "btnUIP", "plists/charge") : l.default.country == l.GameCountryEnum.Brazil && f.default.loadSprAtlasFrame(this.node.bankAccountNoBindNodeGCash.getChildByName("icon"), "btnPIX", "plists/charge");
};
t.prototype.initViewEx = function() {
this.node.bankInfo.show && this.node.bankInfo.show.length && this.node.bankInfo.show.length > 0 || (l.default.country == l.GameCountryEnum.Philippines ? this.node.bankInfo.show = [ "GCash", "Bank" ] : l.default.country == l.GameCountryEnum.Brazil ? this.node.bankInfo.show = [ "GCash" ] : this.node.bankInfo.show = [ "Bank" ]);
console.log("withdraw show tab", this.node.bankInfo.show[0], this.node.bankInfo.show[1], this.node.bankInfo.show[2], this.node.bankInfo.show.length);
for (var e = [ this.node.lastItemBg1.y, this.node.lastItemBg2.y, this.node.lastItemBg3.y ], t = this.node.bankInfo.show, o = 0, i = 0; i < t.length; i++) if (o < 3) {
var n = t[i];
if ("Bank" == n) {
this.node.btnWithdraw.y = e[o];
0 == o && (this.node.currShowIndex = 2);
} else if ("GCash" == n) {
this.node.btnWithdrawGCash.y = e[o];
0 == o && (this.node.currShowIndex = 1);
}
o++;
}
if (2 == t.length) {
this.node.btnRecord.y = e[2];
this.node.lastItemBg1.active = !0;
this.node.lastItemBg2.active = !0;
this.node.lastItemBg3.active = !0;
this.node.btnWithdraw.active = !0;
this.node.btnWithdrawGCash.active = !0;
} else if (1 == t.length) {
this.node.btnRecord.y = e[1];
this.node.lastItemBg1.active = !0;
this.node.lastItemBg2.active = !0;
this.node.lastItemBg3.active = !1;
if ("Bank" == t[0]) {
this.node.btnWithdraw.active = !0;
this.node.btnWithdrawGCash.active = !1;
} else if ("GCash" == t[0]) {
this.node.btnWithdraw.active = !1;
this.node.btnWithdrawGCash.active = !0;
}
} else if (0 == t.length) {
this.node.btnRecord.y = e[0];
this.node.lastItemBg1.active = !0;
this.node.lastItemBg2.active = !1;
this.node.lastItemBg3.active = !1;
this.node.btnWithdraw.active = !1;
this.node.btnWithdrawGCash.active = !1;
this.node.currShowIndex = 3;
}
if (l.default.country == l.GameCountryEnum.Philippines) {
this.node.bankAccountBindNodeGCash.getChildByName("labelBankNumberTitle").active = !0;
this.node.bankAccountBindNodeGCash.getChildByName("labelBankNumber").active = !0;
this.node.bankAccountBindNodeGCash.getChildByName("labelBankNameTitle").active = !1;
this.node.bankAccountBindNodeGCash.getChildByName("labelBankName").active = !1;
this.node.bankAccountBindNodeGCash.getChildByName("labelUserNameTitle").y = 47.25;
this.node.bankAccountBindNodeGCash.getChildByName("labelUserName").y = 12.95;
this.node.bankAccountBindNodeGCash.getChildByName("labelBankNumberTitle").y = -58.45;
this.node.bankAccountBindNodeGCash.getChildByName("labelBankNumber").y = -94.15;
} else if (l.default.country == l.GameCountryEnum.India) {
this.node.bankAccountBindNodeGCash.getChildByName("labelBankNumberTitle").active = !1;
this.node.bankAccountBindNodeGCash.getChildByName("labelBankNumber").active = !1;
this.node.bankAccountBindNodeGCash.getChildByName("labelBankNameTitle").active = !1;
this.node.bankAccountBindNodeGCash.getChildByName("labelBankName").active = !1;
this.node.bankAccountBindNodeGCash.getChildByName("labelUserNameTitle").y = 47.25;
this.node.bankAccountBindNodeGCash.getChildByName("labelUserName").y = 12.95;
this.node.bankAccountBindNodeGCash.getChildByName("labelBankNumberTitle").y = -58.45;
this.node.bankAccountBindNodeGCash.getChildByName("labelBankNumber").y = -94.15;
} else if (l.default.country == l.GameCountryEnum.Brazil) {
this.node.bankAccountBindNodeGCash.getChildByName("labelBankNumberTitle").active = !0;
this.node.bankAccountBindNodeGCash.getChildByName("labelBankNumber").active = !0;
this.node.bankAccountBindNodeGCash.getChildByName("labelBankNameTitle").active = !0;
this.node.bankAccountBindNodeGCash.getChildByName("labelBankName").active = !0;
this.node.bankAccountBindNodeGCash.getChildByName("labelUserNameTitle").y = 68.25;
this.node.bankAccountBindNodeGCash.getChildByName("labelUserName").y = 35;
this.node.bankAccountBindNodeGCash.getChildByName("labelBankNumberTitle").y = -8.75;
this.node.bankAccountBindNodeGCash.getChildByName("labelBankNumber").y = -43.05;
this.node.bankAccountBindNodeGCash.getChildByName("labelBankNameTitle").y = -80.85;
this.node.bankAccountBindNodeGCash.getChildByName("labelBankName").y = -116.55;
}
var a = this.node.bankInfo.payoutAmount, r = this.node.bankInfo.payoutTimes;
this.node.labelWithdrawLimit.string = s.default.ins.GET_NEWHALL_LANG("wthdrawLimitDesc").replace("$$", f.default.cul(a)).replace("$$", r);
this.node.labelWithdrawLimitGCash.string = s.default.ins.GET_NEWHALL_LANG("wthdrawLimitDesc").replace("$$", f.default.cul(a)).replace("$$", r);
this.node.labelWithdrawFee.string = "";
this.node.labelWithdrawFeeGCash.string = "";
this.node.totalMoney.string = l.default.gameMoneyUnit + f.default.cul(this.node.bankInfo.totalChips.toFixed(2));
this.node.canWithdrawMoney.string = l.default.gameMoneyUnit + f.default.cul(this.node.bankInfo.money.toFixed(2));
this.node.canWithdraw.string = l.default.gameMoneyUnit + f.default.cul(this.node.bankInfo.money.toFixed(2));
this.node.canUseMoney.string = l.default.gameMoneyUnit + f.default.cul(this.node.bankInfo.chips.toFixed(2));
this.node.totalMoneyGCash.string = l.default.gameMoneyUnit + f.default.cul(this.node.bankInfo.totalChips.toFixed(2));
this.node.canWithdrawMoneyGCash.string = l.default.gameMoneyUnit + f.default.cul(this.node.bankInfo.money.toFixed(2));
this.node.canWithDrawGCash.string = l.default.gameMoneyUnit + f.default.cul(this.node.bankInfo.money.toFixed(2));
this.node.canUseMoneyGCash.string = l.default.gameMoneyUnit + f.default.cul(this.node.bankInfo.chips.toFixed(2));
this.node.editBoxWithdraw.string = "";
this.node.editBoxWithdrawGCash.string = "";
this.node.amount.node.active = !1;
this.node.amountTips.node.active = !1;
this.node.amountGCash.node.active = !1;
this.node.amountTipsGCash.node.active = !1;
this.node.withdrawMax = this.node.bankInfo.bankMax || 5e4;
this.node.withdrawMin = this.node.bankInfo.bankMin || 100;
this.node.withdrawMaxGCash = this.node.bankInfo.gcashMax || 5e4;
this.node.withdrawMinGCash = this.node.bankInfo.gcashMin || 100;
this.node.editBoxWithdraw.placeholderLabel.string = s.default.ins.GET_NEWHALL_LANG("inputWithdrawAmount").replace("$$", f.default.cul(this.node.withdrawMin)).replace("$$", this.node.withdrawMax);
this.node.editBoxWithdrawGCash.placeholderLabel.string = s.default.ins.GET_NEWHALL_LANG("inputWithdrawAmount").replace("$$", f.default.cul(this.node.withdrawMinGCash)).replace("$$", this.node.withdrawMaxGCash);
if (1 == this.node.bankInfo.bindBankCard) {
console.log("bank data ", this.node.bankInfo);
var c = this.node.bankInfo.bankInfo;
this.node.userName.string = c.cardholder;
this.node.bankName.string = c.bankCode;
this.node.bankNumber.string = f.default.formatBankAccount(c.number);
this.node.bankAccountNoBindNode.active = !1;
this.node.bankAccountBindNode.active = !0;
} else {
this.node.bankAccountNoBindNode.active = !0;
this.node.bankAccountBindNode.active = !1;
}
if (this.node.bankInfo.bindGCash && 1 == this.node.bankInfo.bindGCash) {
var d = this.node.bankInfo.gcashInfo;
console.log("gcash data ", d);
if (d) {
this.node.accountNameGCash.string = d.cardholder;
var h = d.number;
this.node.accountNumberGCash.string = h;
this.node.accountBankNameGCash.string = d.bankName;
}
this.node.bankAccountNoBindNodeGCash.active = !1;
this.node.bankAccountBindNodeGCash.active = !0;
} else {
this.node.bankAccountNoBindNodeGCash.active = !0;
this.node.bankAccountBindNodeGCash.active = !1;
}
0 == this.node.bankInfo.fee && (this.node.labelWithdrawFee.node.active = !1);
0 == this.node.bankInfo.fee_gcash && (this.node.labelWithdrawFeeGCash.node.active = !1);
};
t.prototype.onListTradeRecordEx = function(e, t) {
var o = e.getChildByName("labelTime").getComponent(cc.Label), i = e.getChildByName("labelType").getComponent(cc.Label), n = e.getChildByName("labelAmount").getComponent(cc.Label), a = e.getChildByName("labelStatus").getComponent(cc.Label), r = this.node.historyData[t];
o.string = f.default.formatDate(r.time);
n.string = l.default.gameMoneyUnit + f.default.cul(r.amount);
1 == r.type ? i.string = s.default.ins.GET_NEWHALL_LANG("withdraw") : i.string = s.default.ins.GET_NEWHALL_LANG("charge");
var c = r.status;
if (0 == c) {
a.string = s.default.ins.GET_NEWHALL_LANG("waitingMoney");
a.node.color = new cc.Color(149, 186, 244);
} else if (2 == c) {
a.string = s.default.ins.GET_NEWHALL_LANG("completed");
a.node.color = cc.Color.GREEN;
} else {
a.string = s.default.ins.GET_NEWHALL_LANG("failure");
a.node.color = cc.Color.RED;
}
};
t.prototype.onWithdrawEx = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
if (0 == c.default.UserData.phoneBinding) {
if (p.default.isH5()) {
h.default.inst.showConfirmDlg(s.default.ins.GET_NEWHALL_LANG("bindPhoneTips"), 2, null, s.default.ins.GET_LOGIN_LANG("bindNow"), function() {
h.default.inst.showDlg(h.DlgType.bindPhone);
});
return;
}
if (this.node.bankInfo.needBindPhone && 1 == this.node.bankInfo.needBindPhone) {
h.default.inst.showConfirmDlg(s.default.ins.GET_NEWHALL_LANG("bindPhoneTips"), 2, null, s.default.ins.GET_LOGIN_LANG("bindNow"), function() {
h.default.inst.showDlg(h.DlgType.bindPhone);
});
return;
}
}
if (0 != this.node.bankInfo.bindBankCard) {
var e = Number(f.default.rebackCul(this.node.editBoxWithdraw.string)) || 0;
if (this.node.bankInfo.payoutTimes <= 0) h.default.inst.showConfirmDlg(s.default.ins.GET_NEWHALL_LANG("withdrawDesc4"), 2, null, s.default.ins.GET_NEWHALL_LANG("upgradeVIP"), function() {
h.default.inst.showFullView(h.DlgType.vip);
}, s.default.ins.GET_DIALOG_LANG("IKnow")); else if (e > this.node.bankInfo.payoutAmount) h.default.inst.showConfirmDlg(s.default.ins.GET_NEWHALL_LANG("withdrawDesc5"), 2, null, s.default.ins.GET_NEWHALL_LANG("upgradeVIP"), function() {
h.default.inst.showFullView(h.DlgType.vip);
}, s.default.ins.GET_DIALOG_LANG("IKnow")); else if (e > this.node.bankInfo.money) {
this.node.showTips();
f.default.alert(s.default.ins.GET_NEWHALL_LANG("withdrawDesc3"));
} else if (e < this.node.withdrawMin || e > this.node.withdrawMax) f.default.alert(s.default.ins.GET_NEWHALL_LANG("withdrawDesc1").replace("$$", f.default.cul(this.node.withdrawMin)).replace("$$", f.default.cul(this.node.withdrawMax))); else {
var t = this.node.bankInfo.bankInfo;
t.amount = e * (100 - this.node.bankInfo.fee) / 100;
t.amountTotal = e;
h.default.inst.showDlg(h.DlgType.withdrConfirm, t);
}
} else h.default.inst.showConfirmDlg(s.default.ins.GET_NEWHALL_LANG("bindBankTips"), 2, null, s.default.ins.GET_LOGIN_LANG("bindNow"), function() {
l.default.country == l.GameCountryEnum.India ? h.default.inst.showDlg(h.DlgType.bindChargeInd) : h.default.inst.showDlg(h.DlgType.bindCharge);
});
};
t.prototype.onWithdrawGCashEx = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
if (0 == c.default.UserData.phoneBinding) {
if (p.default.isH5()) {
h.default.inst.showConfirmDlg(s.default.ins.GET_NEWHALL_LANG("bindPhoneTips"), 2, null, s.default.ins.GET_LOGIN_LANG("bindNow"), function() {
h.default.inst.showDlg(h.DlgType.bindPhone);
});
return;
}
if (this.node.bankInfo.needBindPhone && 1 == this.node.bankInfo.needBindPhone) {
h.default.inst.showConfirmDlg(s.default.ins.GET_NEWHALL_LANG("bindPhoneTips"), 2, null, s.default.ins.GET_LOGIN_LANG("bindNow"), function() {
h.default.inst.showDlg(h.DlgType.bindPhone);
});
return;
}
}
if (0 != this.node.bankInfo.bindGCash) {
var e = Number(f.default.rebackCul(this.node.editBoxWithdrawGCash.string)) || 0;
if (this.node.bankInfo.payoutTimes <= 0) h.default.inst.showConfirmDlg(s.default.ins.GET_NEWHALL_LANG("withdrawDesc4"), 2, null, s.default.ins.GET_NEWHALL_LANG("upgradeVIP"), function() {
h.default.inst.showFullView(h.DlgType.vip);
}, s.default.ins.GET_DIALOG_LANG("IKnow")); else if (e > this.node.bankInfo.payoutAmount) h.default.inst.showConfirmDlg(s.default.ins.GET_NEWHALL_LANG("withdrawDesc5"), 2, null, s.default.ins.GET_NEWHALL_LANG("upgradeVIP"), function() {
h.default.inst.showFullView(h.DlgType.vip);
}, s.default.ins.GET_DIALOG_LANG("IKnow")); else if (e > this.node.bankInfo.money) {
this.node.showGCashTips();
f.default.alert(s.default.ins.GET_NEWHALL_LANG("withdrawDesc3"));
} else if (e < this.node.withdrawMinGCash || e > this.node.withdrawMaxGCash) f.default.alert(s.default.ins.GET_NEWHALL_LANG("withdrawDesc1").replace("$$", f.default.cul(this.node.withdrawMinGCash)).replace("$$", f.default.cul(this.node.withdrawMaxGCash))); else {
var t = this.node.bankInfo.gcashInfo;
t.amount = e * (100 - this.node.bankInfo.fee_gcash) / 100;
t.amountTotal = e;
l.default.country == l.GameCountryEnum.Philippines ? h.default.inst.showDlg(h.DlgType.withdrGCashConfirm, t) : l.default.country == l.GameCountryEnum.India ? h.default.inst.showDlg(h.DlgType.withdrUPIConfirm, t) : l.default.country == l.GameCountryEnum.Brazil && h.default.inst.showDlg(h.DlgType.withdrPIXConfirm, t);
}
} else h.default.inst.showConfirmDlg(s.default.ins.GET_NEWHALL_LANG("bindGCashTips"), 2, null, s.default.ins.GET_LOGIN_LANG("bindNow"), function() {
l.default.country == l.GameCountryEnum.Philippines ? h.default.inst.showDlg(h.DlgType.bindGCash) : l.default.country == l.GameCountryEnum.India ? h.default.inst.showDlg(h.DlgType.bindUPI) : l.default.country == l.GameCountryEnum.Brazil && h.default.inst.showDlg(h.DlgType.bindPix);
});
};
t.prototype.showWithdrawGCashEx = function() {
this.node.currShowIndex = 1;
this.node.recordNode.active = !1;
this.node.withdrawNode.active = !1;
this.node.withdrawGCashNode.active = !0;
this.node.imageSideSelectedItem.y = this.node.btnWithdrawGCash.y;
this.node.withdrawGCashLabel.color = cc.color(240, 241, 242, 255);
this.node.recordLabel.color = cc.color(150, 183, 233, 255);
this.node.withdrawLabel.color = cc.color(150, 183, 233, 255);
this.node.title.string = s.default.ins.GET_NEWHALL_LANG("GCashTitle");
this.node.hideLoading();
this.node.bankInfo.isGCashShowTips && 1 == this.node.bankInfo.isGCashShowTips ? this.node.showWithdrawTips(this.node.bankInfo.GCashDesc || "") : this.node.hideWithdrawTips();
};
t.prototype.showWithdrawEx = function() {
this.node.currShowIndex = 2;
this.node.recordNode.active = !1;
this.node.withdrawNode.active = !0;
this.node.withdrawGCashNode.active = !1;
this.node.imageSideSelectedItem.y = this.node.btnWithdraw.y;
this.node.withdrawGCashLabel.color = cc.color(150, 183, 233, 255);
this.node.recordLabel.color = cc.color(150, 183, 233, 255);
this.node.withdrawLabel.color = cc.color(240, 241, 242, 255);
this.node.title.string = s.default.ins.GET_NEWHALL_LANG("bankTransfer");
this.node.hideLoading();
this.node.bankInfo.isBankShowTips && 1 == this.node.bankInfo.isBankShowTips ? this.node.showWithdrawTips(this.node.bankInfo.bankDesc || "") : this.node.hideWithdrawTips();
};
t.prototype.showRecordListEx = function() {
this.node.currShowIndex = 3;
this.node.recordNode.active = !0;
this.node.withdrawNode.active = !1;
this.node.withdrawGCashNode.active = !1;
this.node.imageSideSelectedItem.y = this.node.btnRecord.y;
this.node.withdrawGCashLabel.color = cc.color(150, 183, 233, 255);
this.node.recordLabel.color = cc.color(240, 241, 242, 255);
this.node.withdrawLabel.color = cc.color(150, 183, 233, 255);
this.node.title.string = s.default.ins.GET_NEWHALL_LANG("tradeDetails");
r.default.getInstance().getTradeHistory();
this.node.showLoading();
this.node.hideWithdrawTips();
};
return a([ y ], t);
}(m.default));
o.default = _;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../data/MyData": "MyData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../data/conf/GameRes": "GameRes",
"../../../manager/DlgGameMgr": "DlgGameMgr",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../manager/PlatformInterface": "PlatformInterface",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
PlayerWithdrawRecordDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "70549NFmFVHN7NHFRUCWNnV", "PlayerWithdrawRecordDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../public/ThirdParty/happyList"), c = e("../../executor/bank/PlayerWithdrawRecordEx"), l = e("../../../communication/GameLobbyHttp"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.recordList = null;
t.listData = [];
t.root = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new c.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
this.root = this.node.getChildByName("dlgBg");
this.root.getChildByName("btnClose").on("click", this.onClose, this);
this.recordList = this.root.getChildByName("ScrollView").getComponent(s.default);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.updateLanguageUI();
this.register("WithdrawRecordListDialog", [ "ON_GET_NO_WITHDRAW_LIST" ]);
l.default.getInstance().getNoWithdrawList();
this.showLoading();
};
t.prototype.updateLanguageUI = function() {
this.exView.updateLanguageUIEx();
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_GET_NO_WITHDRAW_LIST":
this.onGetRecordList(t);
}
};
t.prototype.onGetRecordList = function(e) {
this.hideLoading();
this.listData = e;
this.recordList.numItems = this.listData.length;
};
t.prototype.onListRender = function(e, t) {
this.exView.onListRenderEx(e, t);
};
return a([ h ], t);
}(r.default));
o.default = u;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../../public/ThirdParty/happyList": "happyList",
"../../executor/bank/PlayerWithdrawRecordEx": "PlayerWithdrawRecordEx"
} ],
PlayerWithdrawRecordEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "304d1ZWUlZA+J6l75b6JJgt", "PlayerWithdrawRecordEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../data/GameLangData"), s = e("../../../data/conf/GameInfo"), c = e("../../../public/MyComponent/GameHppayUtil"), l = e("../../../public/MyComponent/ViewExecutorBase"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {
this.root = this.node.root;
};
t.prototype.updateLanguageUIEx = function() {
this.root.getChildByName("labelTitle").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("freezeDetails");
c.default.labelShadow(this.root.getChildByName("labelTitle").getComponent(cc.Label));
this.root.getChildByName("labelItem").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("item");
this.root.getChildByName("labelReward").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("reward");
this.root.getChildByName("labelFlowTotal").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("flowRequest");
this.root.getChildByName("labelLeftReward").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("leftReward");
this.root.getChildByName("labelFlowComplete").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("flowCompleted");
this.root.getChildByName("labelStatus").getComponent(cc.Label).string = r.default.ins.GET_NEWHALL_LANG("status");
};
t.prototype.onListRenderEx = function(e, t) {
e.getChildByName("bg").opacity = t % 2 == 0 ? 0 : 255;
var o = e.getChildByName("labelItem").getComponent(cc.Label), i = e.getChildByName("labelReward").getComponent(cc.Label), n = e.getChildByName("labelFlowTotal").getComponent(cc.Label), a = e.getChildByName("labelLeftReward").getComponent(cc.Label), l = e.getChildByName("labelFlowComplete").getComponent(cc.Label), d = e.getChildByName("labelStatus").getComponent(cc.Label), h = this.node.listData[t];
o.string = h.name;
i.string = s.default.gameMoneyUnit + c.default.cul(h.reward);
n.string = s.default.gameMoneyUnit + c.default.cul(h.needed);
a.string = s.default.gameMoneyUnit + c.default.cul(h.remain);
l.string = s.default.gameMoneyUnit + c.default.cul(h.completed);
var u = h.status;
if (0 == u) {
d.string = r.default.ins.GET_NEWHALL_LANG("inprogress");
d.node.color = new cc.Color(235, 235, 235);
} else if (1 == u) {
d.string = r.default.ins.GET_NEWHALL_LANG("failure");
d.node.color = cc.Color.RED;
} else if (2 == u) {
d.string = r.default.ins.GET_NEWHALL_LANG("completed");
d.node.color = new cc.Color(88, 204, 129);
}
};
return a([ h ], t);
}(l.default));
o.default = u;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
PlayerWithdraw: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "307f2uupUhPd5olubgjrM3i", "PlayerWithdraw");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.WithdrawCode = void 0;
var r, s = e("../../../public/MyComponent/WindowBase"), c = e("../../../data/conf/GameInfo"), l = e("../../../data/MyData"), d = e("../../../data/GameLangData"), h = e("../../../manager/DlgGameMgr"), u = e("../../../public/ThirdParty/GameSysDefine"), p = e("../../../public/ThirdParty/happyList"), f = e("../../../manager/GameSoundMgr"), m = e("../../../public/MyComponent/GameHppayUtil"), g = e("../../executor/bank/PlayerWithdrawEx"), y = e("../../../communication/GameLobbyHttp"), _ = e("../../../manager/PlatformInterface");
(function(e) {
e.upi = "UPI";
e.gcash = "Globe Gcash";
e.bank = "Bank";
e.pix = "PIX";
})(r = o.WithdrawCode || (o.WithdrawCode = {}));
var C = cc._decorator, b = C.ccclass, v = (C.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.withdrawNode = null;
t.recordNode = null;
t.withdrawGCashNode = null;
t.btnWithdraw = null;
t.btnRecord = null;
t.withdrawLabel = null;
t.recordLabel = null;
t.withdrawConfirm = null;
t.imageSideSelectedItem = null;
t.title = null;
t.totalMoney = null;
t.canWithdrawMoney = null;
t.canUseMoney = null;
t.canWithdraw = null;
t.bankName = null;
t.bankNumber = null;
t.userName = null;
t.editBoxWithdraw = null;
t.historyList = null;
t.historyData = [];
t.noRecordDesc = null;
t.formType = u.FormType.FixedUI;
t.rootNode = null;
t.currShowIndex = 2;
t.labelWithdrawFee = null;
t.labelWithdrawLimit = null;
t._labelMyChip = null;
t.withdrawMin = 100;
t.withdrawMax = 5e4;
t.colorRed = new cc.Color(255, 0, 0, 255);
t.colorGreen = new cc.Color(255, 255, 0, 255);
t.btnHelp = null;
t.bankInfo = null;
t.bankAccountBindNode = null;
t.bankAccountNoBindNode = null;
t.bankAccountBindNodeGCash = null;
t.bankAccountNoBindNodeGCash = null;
t.lastItemBg1 = null;
t.lastItemBg2 = null;
t.lastItemBg3 = null;
t.btnWithdrawGCash = null;
t.withdrawGCashLabel = null;
t.editBoxWithdrawGCash = null;
t.totalMoneyGCash = null;
t.canWithdrawMoneyGCash = null;
t.canUseMoneyGCash = null;
t.labelWithdrawFeeGCash = null;
t.labelWithdrawLimitGCash = null;
t.btnHelpGCash = null;
t.withdrawConfirmGCash = null;
t.canWithDrawGCash = null;
t.accountNameGCash = null;
t.accountNumberGCash = null;
t.accountBankNameGCash = null;
t.withdrawMinGCash = 100;
t.withdrawMaxGCash = 5e4;
t.tipsNode = null;
t.tipsDesc1 = null;
t.tipsDesc2 = null;
t.amount = null;
t.amountTips = null;
t.amountTipsRoot = null;
t.amountGCash = null;
t.amountTipsGCash = null;
t.amountTipsRootGCash = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new g.default();
this.exView.setProxy(this);
var e = this.node.getChildByName("dlgBg").getChildByName("bg");
this.setNodeFullScreen(e);
};
t.prototype.setView = function() {
this.rootNode = this.node.getChildByName("dlgBg");
var e = this.rootNode.getChildByName("leftChoose");
e.getChildByName("btnBack").on("click", this.onClose, this);
this.lastItemBg1 = e.getChildByName("sideSelectedItem1");
this.lastItemBg2 = e.getChildByName("sideSelectedItem2");
this.lastItemBg3 = e.getChildByName("sideSelectedItem3");
this.btnWithdraw = e.getChildByName("withdraw");
this.btnWithdraw.on("click", this.onShowWithdraw, this);
this.withdrawLabel = this.btnWithdraw.getChildByName("label");
this.btnWithdrawGCash = e.getChildByName("withdrawGCash");
this.btnWithdrawGCash.on("click", this.onShowWithdrawGCash, this);
this.withdrawGCashLabel = this.btnWithdrawGCash.getChildByName("label");
this.btnRecord = e.getChildByName("history");
this.btnRecord.on("click", this.onShowRecordList, this);
this.recordLabel = this.btnRecord.getChildByName("label");
e.getChildByName("btnOnline").on("click", this.onLine, this);
e.getChildByName("btnOnline").getChildByName("label").getComponent(cc.Label).string = d.default.ins.GET_DIALOG_LANG("customerService");
this.imageSideSelectedItem = e.getChildByName("sideSelectedItem");
this.title = e.getChildByName("title").getComponent(cc.Label);
this.withdrawNode = this.rootNode.getChildByName("withdrawNode");
var t = this.withdrawNode.getChildByName("bgTotal");
this.totalMoney = t.getChildByName("labelTotalMoney").getComponent(cc.Label);
this.canUseMoney = t.getChildByName("labelLeftMoney").getComponent(cc.Label);
this.canWithdrawMoney = t.getChildByName("labelWithdrawMoney").getComponent(cc.Label);
t.getChildByName("btnHelp").on("click", this.onHelp, this);
this.btnHelp = t.getChildByName("btnHelp");
var o = this.withdrawNode.getChildByName("bgAmount");
this.amountTipsRoot = o.getChildByName("amountTipsRoot");
this.amount = this.amountTipsRoot.getChildByName("amount").getComponent(cc.Label);
this.amountTips = this.amountTipsRoot.getChildByName("amountTips").getComponent(cc.Label);
this.labelWithdrawFee = o.getChildByName("labelWithdrawFee").getComponent(cc.Label);
this.labelWithdrawFee.string = "";
this.labelWithdrawLimit = o.getChildByName("labelWithdrawLimit").getComponent(cc.Label);
this.labelWithdrawLimit.string = "";
this.editBoxWithdraw = o.getChildByName("inputAmount").getComponent(cc.EditBox);
this.editBoxWithdraw.node.on("editing-did-ended", this.onEditingDidEnded, this);
this.editBoxWithdraw.node.on("text-changed", this.onEditingDidChanged, this);
this.canWithdraw = o.getChildByName("labelMoney").getComponent(cc.Label);
this.withdrawConfirm = o.getChildByName("btnWithdraw").getComponent(cc.Button);
o.getChildByName("btnWithdraw").on("click", this.onWithdraw, this);
o.getChildByName("labelMoneyUnit").getComponent(cc.Label).string = c.default.gameMoneyUnit;
this.bankAccountBindNode = o.getChildByName("bgOrderInfo").getChildByName("accountBindNode");
this.userName = this.bankAccountBindNode.getChildByName("labelUserName").getComponent(cc.Label);
this.bankNumber = this.bankAccountBindNode.getChildByName("labelBankNumber").getComponent(cc.Label);
this.bankName = this.bankAccountBindNode.getChildByName("labelBankName").getComponent(cc.Label);
this.bankAccountNoBindNode = o.getChildByName("bgOrderInfo").getChildByName("accountNoBindNode");
this.bankAccountNoBindNode.on("click", function() {
f.default.inst.playGameEffect(f.AudioRes.click);
c.default.country == c.GameCountryEnum.India ? h.default.inst.showDlg(h.DlgType.bindChargeInd) : h.default.inst.showDlg(h.DlgType.bindCharge);
}, this);
this.withdrawGCashNode = this.rootNode.getChildByName("withdrawGCashNode");
var i = this.withdrawGCashNode.getChildByName("bgTotal");
this.totalMoneyGCash = i.getChildByName("labelTotalMoney").getComponent(cc.Label);
this.canUseMoneyGCash = i.getChildByName("labelLeftMoney").getComponent(cc.Label);
this.canWithdrawMoneyGCash = i.getChildByName("labelWithdrawMoney").getComponent(cc.Label);
i.getChildByName("btnHelp").on("click", this.onHelp, this);
this.btnHelpGCash = i.getChildByName("btnHelp");
var n = this.withdrawGCashNode.getChildByName("bgAmount");
this.amountTipsRootGCash = n.getChildByName("amountTipsRoot");
this.amountGCash = this.amountTipsRootGCash.getChildByName("amount").getComponent(cc.Label);
this.amountTipsGCash = this.amountTipsRootGCash.getChildByName("amountTips").getComponent(cc.Label);
this.labelWithdrawFeeGCash = n.getChildByName("labelWithdrawFee").getComponent(cc.Label);
this.labelWithdrawFeeGCash.string = "";
this.labelWithdrawLimitGCash = n.getChildByName("labelWithdrawLimit").getComponent(cc.Label);
this.labelWithdrawLimitGCash.string = "";
this.editBoxWithdrawGCash = n.getChildByName("inputAmount").getComponent(cc.EditBox);
this.editBoxWithdrawGCash.node.on("editing-did-ended", this.onGCashEditingDidEnded, this);
this.editBoxWithdrawGCash.node.on("text-changed", this.onGCashEditingDidChanged, this);
this.canWithDrawGCash = n.getChildByName("labelMoney").getComponent(cc.Label);
this.withdrawConfirmGCash = n.getChildByName("btnWithdraw").getComponent(cc.Button);
n.getChildByName("btnWithdraw").on("click", this.onWithdrawGCash, this);
n.getChildByName("labelMoneyUnit").getComponent(cc.Label).string = c.default.gameMoneyUnit;
this.bankAccountBindNodeGCash = n.getChildByName("bgOrderInfo").getChildByName("accountBindNode");
this.accountNameGCash = this.bankAccountBindNodeGCash.getChildByName("labelUserName").getComponent(cc.Label);
this.accountNumberGCash = this.bankAccountBindNodeGCash.getChildByName("labelBankNumber").getComponent(cc.Label);
this.accountBankNameGCash = this.bankAccountBindNodeGCash.getChildByName("labelBankName").getComponent(cc.Label);
this.bankAccountNoBindNodeGCash = n.getChildByName("bgOrderInfo").getChildByName("accountNoBindNode");
this.bankAccountNoBindNodeGCash.on("click", function() {
f.default.inst.playGameEffect(f.AudioRes.click);
c.default.country == c.GameCountryEnum.Philippines ? h.default.inst.showDlg(h.DlgType.bindGCash) : c.default.country == c.GameCountryEnum.India ? h.default.inst.showDlg(h.DlgType.bindUPI) : c.default.country == c.GameCountryEnum.Brazil && h.default.inst.showDlg(h.DlgType.bindPix);
}, this);
var a = n.getChildByName("bgOrderInfo").getChildByName("btnHelp");
a.on("click", function() {
_.default.openGCashHelper("GCASH Help Center", "https://help.gcash.com/hc/en-us");
}, this);
c.default.country == c.GameCountryEnum.Philippines ? a.active = !0 : a.active = !1;
this.recordNode = this.rootNode.getChildByName("historyNode");
this.historyList = this.recordNode.getChildByName("ScrollView").getComponent(p.default);
this.noRecordDesc = this.recordNode.getChildByName("labelNoRecord");
this.noRecordDesc.active = !1;
this._labelMyChip = e.getChildByName("chip").getChildByName("labelChip");
e.getChildByName("btnOnline").on("click", this.onLine, this);
this.tipsNode = this.rootNode.getChildByName("tipsNode");
this.tipsNode.active = !1;
this.tipsDesc1 = this.tipsNode.getChildByName("mask").getChildByName("desc1");
this.tipsDesc2 = this.tipsNode.getChildByName("mask").getChildByName("desc2");
};
t.prototype.hideWithdrawTips = function() {
this.tipsNode.active = !1;
this.tipsDesc1.stopAllActions();
this.tipsDesc2.stopAllActions();
};
t.prototype.showWithdrawTips = function(e) {
this.exView.showWithdrawTipsEx(e);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.updateLanguageUI();
this.showTab();
this.register("GameBank", [ "ON_CHARGE", "ON_GET_BANK_INFO", "ON_UPDATE_BANK_INFO", "ON_GET_TRADE_HISTORY", "BINGDING_PHONE_SUCCESS", "ON_CLOSE_DIALOG", "MONEY_UPDATE_EVENT", "ON_WITHDRAW", "ON_WITHDRAW_CONFIRM" ]);
this._initUserInfo(l.default.UserData.chip, l.default.UserData.point, l.default.UserData.coin);
this.withdrawConfirm.interactable = !1;
this.withdrawConfirmGCash.interactable = !1;
this.rootNode.active = !1;
this.showLoading();
y.default.getInstance().getBankInfo();
};
t.prototype.updateLanguageUI = function() {
this.exView.updateLanguageUIEx();
};
t.prototype.initBank = function(e) {
this.bankInfo = e;
this.initView();
this.hideLoading();
this.rootNode.active = !0;
this.showPage(this.currShowIndex);
};
t.prototype.showTab = function() {
this.btnRecord.y = this.lastItemBg3.y;
this.btnWithdraw.y = this.lastItemBg1.y;
this.btnWithdrawGCash.y = this.lastItemBg2.y;
this.currShowIndex = 2;
this.title.string = d.default.ins.GET_NEWHALL_LANG("bankTransfer");
};
t.prototype.initView = function() {
this.exView.initViewEx();
};
t.prototype._initUserInfo = function(e) {
this._labelMyChip.getComponent(cc.Label).string = "" + m.default.cul(e.toFixed(2));
};
t.prototype._updateMyInfo = function() {
m.default.changeLabelNum(this._labelMyChip, l.default.UserData.chip);
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_CHARGE":
this.onHanderPay(t);
break;

case "MONEY_UPDATE_EVENT":
this._updateMyInfo();
break;

case "ON_GET_BANK_INFO":
this.initBank(t);
break;

case "ON_UPDATE_BANK_INFO":
this.updateBankInfo(t);
break;

case "ON_WITHDRAW":
this.withdraw();
break;

case "ON_GET_TRADE_HISTORY":
this.getTradeHistory(t);
break;

case "BINGDING_PHONE_SUCCESS":
this.bingdPhone();
break;

case "ON_CLOSE_DIALOG":
break;

case "ON_WITHDRAW_CONFIRM":
this.withdrawEnd();
}
};
t.prototype.withdrawEnd = function() {
this.editBoxWithdraw.string = "";
this.amount.node.active = !1;
this.amountTips.node.active = !1;
this.amountGCash.node.active = !1;
this.amountTipsGCash.node.active = !1;
};
t.prototype.bingdPhone = function() {
2 == this.currShowIndex && 0 == this.bankInfo.bindBankCard && (c.default.country == c.GameCountryEnum.India ? h.default.inst.showDlg(h.DlgType.bindChargeInd) : h.default.inst.showDlg(h.DlgType.bindCharge));
};
t.prototype.getTradeHistory = function(e) {
this.hideLoading();
this.onGetTradeData(e);
};
t.prototype.withdraw = function() {
this.editBoxWithdraw.string = "";
this.amount.node.active = !1;
this.amountTips.node.active = !1;
this.amountGCash.node.active = !1;
this.amountTipsGCash.node.active = !1;
};
t.prototype.updateBankInfo = function(e) {
if (e.bank_name == r.upi || e.bank_name == r.gcash || e.bank_code == r.pix) {
this.bankInfo.bindGCash = 1;
this.initGCashInfo(e);
h.default.inst.closeDialog(h.DlgType.bindGCash);
h.default.inst.closeDialog(h.DlgType.bindUPI);
h.default.inst.closeDialog(h.DlgType.bindPix);
m.default.alert(d.default.ins.GET_NEWHALL_LANG("bindGCashSuccess"));
} else {
this.bankInfo.bindBankCard = 1;
this.initCardInfo(e);
c.default.country == c.GameCountryEnum.India ? h.default.inst.closeDialog(h.DlgType.bindChargeInd) : h.default.inst.closeDialog(h.DlgType.bindCharge);
m.default.alert(d.default.ins.GET_NEWHALL_LANG("bindCardSuccess"));
}
};
t.prototype.initCardInfo = function(e) {
this.userName.string = e.cardholder;
this.bankName.string = e.bank_code;
this.bankNumber.string = e.number;
this.bankAccountNoBindNode.active = !1;
this.bankAccountBindNode.active = !0;
this.bankInfo.bankInfo.cardholder = e.cardholder;
this.bankInfo.bankInfo.number = e.number;
this.bankInfo.bankInfo.bankCode = e.bank_code;
};
t.prototype.initGCashInfo = function(e) {
console.log("gcash data ", e);
this.accountNameGCash.string = e.cardholder;
var t = e.number;
this.accountNumberGCash.string = t;
this.accountBankNameGCash.string = e.bank_name;
this.bankAccountNoBindNodeGCash.active = !1;
this.bankAccountBindNodeGCash.active = !0;
this.bankInfo.bankInfo.cardholder = e.cardholder;
this.bankInfo.bankInfo.number = e.number;
this.bankInfo.bankInfo.bankCode = e.bank_code;
};
t.prototype.onHanderPay = function(e) {
var t = e.type, o = e.url;
"jump" == t && _.default.openBrowser(o);
};
t.prototype.onListTradeRecord = function(e, t) {
this.exView.onListTradeRecordEx(e, t);
};
t.prototype.onGetTradeData = function(e) {
this.historyData = e;
e.length <= 0 ? this.noRecordDesc.active = !0 : this.noRecordDesc.active = !1;
this.historyList.numItems = this.historyData.length;
};
t.prototype.showPage = function(e) {
switch (e) {
case 1:
this.showWithdrawGCash();
break;

case 2:
this.showWithdraw();
break;

case 3:
this.showRecordList();
}
};
t.prototype.onWithdraw = function() {
this.exView.onWithdrawEx();
};
t.prototype.onWithdrawGCash = function() {
this.exView.onWithdrawGCashEx();
};
t.prototype.showGCashTips = function() {
cc.tween(this.canWithDrawGCash.node).to(.2, {
opacity: 0
}).to(.2, {
opacity: 255
}).to(.2, {
opacity: 0
}).to(.2, {
opacity: 255
}).to(.2, {
opacity: 0
}).to(.2, {
opacity: 255
}).start();
cc.tween(this.btnHelpGCash).to(.2, {
opacity: 0
}).to(.2, {
opacity: 255
}).to(.2, {
opacity: 0
}).to(.2, {
opacity: 255
}).to(.2, {
opacity: 0
}).to(.2, {
opacity: 255
}).start();
cc.tween(this.canWithdrawMoneyGCash.node).to(.2, {
opacity: 0
}).to(.2, {
opacity: 255
}).to(.2, {
opacity: 0
}).to(.2, {
opacity: 255
}).to(.2, {
opacity: 0
}).to(.2, {
opacity: 255
}).start();
};
t.prototype.showTips = function() {
cc.tween(this.canWithdraw.node).to(.2, {
opacity: 0
}).to(.2, {
opacity: 255
}).to(.2, {
opacity: 0
}).to(.2, {
opacity: 255
}).to(.2, {
opacity: 0
}).to(.2, {
opacity: 255
}).start();
cc.tween(this.btnHelp).to(.2, {
opacity: 0
}).to(.2, {
opacity: 255
}).to(.2, {
opacity: 0
}).to(.2, {
opacity: 255
}).to(.2, {
opacity: 0
}).to(.2, {
opacity: 255
}).start();
cc.tween(this.canWithdrawMoney.node).to(.2, {
opacity: 0
}).to(.2, {
opacity: 255
}).to(.2, {
opacity: 0
}).to(.2, {
opacity: 255
}).to(.2, {
opacity: 0
}).to(.2, {
opacity: 255
}).start();
};
t.prototype.onEditBankInfo = function() {
f.default.inst.playGameEffect(f.AudioRes.click);
c.default.country == c.GameCountryEnum.India ? h.default.inst.showDlg(h.DlgType.bindChargeInd, this.bankInfo.bankInfo) : h.default.inst.showDlg(h.DlgType.bindCharge, this.bankInfo.bankInfo);
};
t.prototype.onHelp = function() {
f.default.inst.playGameEffect(f.AudioRes.click);
h.default.inst.showDlg(h.DlgType.withdrList);
};
t.prototype.showWithdrawGCash = function() {
this.exView.showWithdrawGCashEx();
};
t.prototype.onShowWithdraw = function() {
f.default.inst.playGameEffect(f.AudioRes.click);
this.showWithdraw();
};
t.prototype.showWithdraw = function() {
this.exView.showWithdrawEx();
};
t.prototype.onShowWithdrawGCash = function() {
f.default.inst.playGameEffect(f.AudioRes.click);
this.showWithdrawGCash();
};
t.prototype.onShowRecordList = function() {
f.default.inst.playGameEffect(f.AudioRes.click);
this.showRecordList();
};
t.prototype.showRecordList = function() {
this.exView.showRecordListEx();
};
t.prototype.onLine = function() {
f.default.inst.playGameEffect(f.AudioRes.click);
m.default.showFeedback();
};
t.prototype.onGCashEditingDidChanged = function() {
this.amountTipsGCash.node.active = !1;
this.amountGCash.node.active = !1;
};
t.prototype.onGCashEditingDidEnded = function() {
var e = Number(m.default.rebackCul(this.editBoxWithdrawGCash.string)) || 0;
if (0 == e) {
this.withdrawConfirmGCash.interactable = !1;
this.labelWithdrawFeeGCash.string = "";
this.amountTipsGCash.node.active = !1;
this.amountGCash.node.active = !1;
this.editBoxWithdrawGCash.string = m.default.cul(e);
} else if (this.bankInfo.payoutTimes <= 0) {
this.withdrawConfirmGCash.interactable = !0;
this.labelWithdrawFeeGCash.string = d.default.ins.GET_NEWHALL_LANG("withdrawMaxTimeDesc");
this.labelWithdrawFeeGCash.node.color = this.colorRed;
this.editBoxWithdrawGCash.string = m.default.cul(e);
} else if (e > this.bankInfo.payoutAmount) {
this.withdrawConfirmGCash.interactable = !0;
this.labelWithdrawFeeGCash.string = d.default.ins.GET_NEWHALL_LANG("withdrawMaxAmountDesc").replace("$$", m.default.cul(this.bankInfo.payoutAmount));
this.labelWithdrawFeeGCash.node.color = this.colorRed;
this.editBoxWithdrawGCash.string = m.default.cul(e);
} else if (e < this.withdrawMinGCash || e > this.withdrawMaxGCash) {
this.withdrawConfirmGCash.interactable = !0;
this.labelWithdrawFeeGCash.string = d.default.ins.GET_NEWHALL_LANG("withdrawDesc1").replace("$$", m.default.cul(this.withdrawMinGCash)).replace("$$", m.default.cul(this.withdrawMaxGCash));
this.labelWithdrawFeeGCash.node.color = this.colorRed;
this.editBoxWithdrawGCash.string = m.default.cul(e);
} else {
this.withdrawConfirmGCash.interactable = !0;
this.editBoxWithdrawGCash.string = m.default.cul(e);
var t = d.default.ins.GET_NEWHALL_LANG("withdrawDesc2"), o = e * (100 - this.bankInfo.fee_gcash) / 100;
this.labelWithdrawFeeGCash.string = t.replace("##", this.bankInfo.fee_gcash).replace("$$", c.default.originMoneyUnit + m.default.cul(o * c.default.countryCurrencyUnit));
this.labelWithdrawFeeGCash.node.color = this.colorGreen;
this.amountTipsGCash.node.active = !0;
this.amountGCash.node.active = !0;
this.amountGCash.string = c.default.originMoneyUnit + m.default.cul(e * c.default.countryCurrencyUnit);
}
};
t.prototype.onEditingDidChanged = function() {
this.amountTips.node.active = !1;
this.amount.node.active = !1;
};
t.prototype.onEditingDidEnded = function() {
var e = Number(m.default.rebackCul(this.editBoxWithdraw.string)) || 0;
if (0 == e) {
this.withdrawConfirm.interactable = !1;
this.labelWithdrawFee.string = "";
this.amountTips.node.active = !1;
this.amount.node.active = !1;
this.editBoxWithdraw.string = m.default.cul(e);
} else if (this.bankInfo.payoutTimes <= 0) {
this.withdrawConfirm.interactable = !0;
this.labelWithdrawFee.string = d.default.ins.GET_NEWHALL_LANG("withdrawMaxTimeDesc");
this.labelWithdrawFee.node.color = this.colorRed;
this.editBoxWithdraw.string = m.default.cul(e);
} else if (e > this.bankInfo.payoutAmount) {
this.withdrawConfirm.interactable = !0;
this.labelWithdrawFee.string = d.default.ins.GET_NEWHALL_LANG("withdrawMaxAmountDesc").replace("$$", m.default.cul(this.bankInfo.payoutAmount));
this.labelWithdrawFee.node.color = this.colorRed;
this.editBoxWithdraw.string = m.default.cul(e);
} else if (e < this.withdrawMin || e > this.withdrawMax) {
this.withdrawConfirm.interactable = !0;
this.labelWithdrawFee.string = d.default.ins.GET_NEWHALL_LANG("withdrawDesc1").replace("$$", m.default.cul(this.withdrawMin)).replace("$$", m.default.cul(this.withdrawMax));
this.labelWithdrawFee.node.color = this.colorRed;
this.editBoxWithdraw.string = m.default.cul(e);
} else {
this.withdrawConfirm.interactable = !0;
this.editBoxWithdraw.string = m.default.cul(e);
var t = d.default.ins.GET_NEWHALL_LANG("withdrawDesc2"), o = e * (100 - this.bankInfo.fee) / 100;
this.labelWithdrawFee.string = t.replace("##", this.bankInfo.fee).replace("$$", c.default.originMoneyUnit + m.default.cul(o * c.default.countryCurrencyUnit));
this.labelWithdrawFee.node.color = this.colorGreen;
this.amountTips.node.active = !0;
this.amount.node.active = !0;
this.amount.string = c.default.originMoneyUnit + m.default.cul(e * c.default.countryCurrencyUnit);
}
};
return a([ b ], t);
}(s.default));
o.default = v;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../data/MyData": "MyData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../manager/DlgGameMgr": "DlgGameMgr",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../manager/PlatformInterface": "PlatformInterface",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../../public/ThirdParty/GameSysDefine": "GameSysDefine",
"../../../public/ThirdParty/happyList": "happyList",
"../../executor/bank/PlayerWithdrawEx": "PlayerWithdrawEx"
} ],
Pool: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "284d8zxqTdJtYjT+CGS5XDE", "Pool");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.Pool = void 0;
var i = function() {
function e(e, t) {
this._fn = e;
this._idx = t - 1;
this._frees = new Array(t);
for (var o = 0; o < t; o++) this._frees[o] = e();
}
Object.defineProperty(e.prototype, "freeCount", {
get: function() {
return this._frees.length;
},
enumerable: !1,
configurable: !0
});
e.prototype.alloc = function() {
this._idx < 0 && this._expand(Math.round(1.2 * this._frees.length) + 1);
var e = this._frees[this._idx];
this._frees.splice(this._idx);
--this._idx;
e.use && e.use();
return e;
};
e.prototype.free = function(e) {
++this._idx;
e.free && e.free();
this._frees[this._idx] = e;
};
e.prototype.clear = function(e) {
for (var t = 0; t < this._idx; t++) e && e(this._frees[t]);
this._frees.splice(0);
this._idx = -1;
};
e.prototype._expand = function(e) {
var t = this._frees;
this._frees = new Array(e);
for (var o = e - t.length, i = 0; i < o; i++) this._frees[i] = this._fn();
i = o;
for (var n = 0; i < e; ++i, ++n) this._frees[i] = t[n];
this._idx += o;
};
return e;
}();
o.Pool = i;
cc._RF.pop();
}, {} ],
PriorityQueue: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f2318nn5GJChLoRevUhhLkg", "PriorityQueue");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.PriorityElement = void 0;
var i = function(e, t) {
this.data = e;
this.pIdx = t;
};
o.PriorityElement = i;
var n = function() {
function e() {
this.queue = new Array(32);
this.size = 0;
}
e.prototype.hasElement = function(e) {
for (var t = 0, o = this.queue; t < o.length; t++) if (o[t].data === e) return !0;
return !1;
};
e.prototype.enqueue = function(e, t) {
void 0 === t && (t = 0);
this.size > this.queue.length && this._expand();
this.queue[this.size++] = new i(e, t);
this.upAdjust();
};
e.prototype.dequeue = function() {
if (this.size <= 0) return null;
var e = this.queue[0];
this.queue[0] = this.queue[--this.size];
this.downAdjust();
return e.data;
};
e.prototype.upAdjust = function() {
for (var e = this.size - 1, t = Math.floor(e / 2), o = this.queue[e]; e > 0 && o.pIdx > this.queue[t].pIdx; ) {
this.queue[e] = this.queue[t];
e = t;
t = Math.floor(t / 2);
}
this.queue[e] = o;
};
e.prototype.downAdjust = function() {
for (var e = 0, t = this.queue[e], o = 1; o < this.size; ) {
o + 1 < this.size && this.queue[o + 1].pIdx > this.queue[o].pIdx && o++;
if (t.pIdx >= this.queue[o].pIdx) break;
this.queue[e] = this.queue[o];
e = o;
o = 2 * o + 1;
}
this.queue[e] = t;
};
e.prototype._expand = function() {
var e = Math.round(1.2 * this.queue.length) + 1, t = this.queue;
this.queue = new Array(e);
for (var o = 0; o < t.length; o++) this.queue[o] = t[o];
};
e.prototype.toString = function() {
for (var e = "", t = 0; t < this.size; t++) {
var o = this.queue[t].data;
o.toString ? e += o.toString() : e += "object" == typeof o ? JSON.stringify(o) : o;
}
return e;
};
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
PrivateMD5: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7dde5b/dVtK5pdHBK7CU9RW", "PrivateMD5");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function() {
function e() {
this.hexcase = 0;
this.b64pad = "";
}
e.prototype.hex_md5 = function(e) {
return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(e)));
};
e.prototype.b64_md5 = function(e) {
return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(e)));
};
e.prototype.any_md5 = function(e, t) {
return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(e)), t);
};
e.prototype.hex_hmac_md5 = function(e, t) {
return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(e), this.str2rstr_utf8(t)));
};
e.prototype.b64_hmac_md5 = function(e, t) {
return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(e), this.str2rstr_utf8(t)));
};
e.prototype.any_hmac_md5 = function(e, t, o) {
return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(e), this.str2rstr_utf8(t)), o);
};
e.prototype.md5_vm_test = function() {
return "900150983cd24fb0d6963f7d28e17f72" == this.hex_md5("abc").toLowerCase();
};
e.prototype.rstr_md5 = function(e) {
return this.binl2rstr(this.binl_md5(this.rstr2binl(e), 8 * e.length));
};
e.prototype.rstr_hmac_md5 = function(e, t) {
var o = this.rstr2binl(e);
o.length > 16 && (o = this.binl_md5(o, 8 * e.length));
for (var i = Array(16), n = Array(16), a = 0; a < 16; a++) {
i[a] = 909522486 ^ o[a];
n[a] = 1549556828 ^ o[a];
}
var r = this.binl_md5(i.concat(this.rstr2binl(t)), 512 + 8 * t.length);
return this.binl2rstr(this.binl_md5(n.concat(r), 640));
};
e.prototype.rstr2hex = function(e) {
try {
this.hexcase;
} catch (e) {
this.hexcase = 0;
}
for (var t, o = this.hexcase ? "0123456789ABCDEF" : "0123456789abcdef", i = "", n = 0; n < e.length; n++) {
t = e.charCodeAt(n);
i += o.charAt(t >>> 4 & 15) + o.charAt(15 & t);
}
return i;
};
e.prototype.rstr2b64 = function(e) {
try {
this.b64pad;
} catch (e) {
this.b64pad = "";
}
for (var t = "", o = e.length, i = 0; i < o; i += 3) for (var n = e.charCodeAt(i) << 16 | (i + 1 < o ? e.charCodeAt(i + 1) << 8 : 0) | (i + 2 < o ? e.charCodeAt(i + 2) : 0), a = 0; a < 4; a++) 8 * i + 6 * a > 8 * e.length ? t += this.b64pad : t += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n >>> 6 * (3 - a) & 63);
return t;
};
e.prototype.rstr2any = function(e, t) {
var o, i, n, a, r, s = t.length, c = Array(Math.ceil(e.length / 2));
for (o = 0; o < c.length; o++) c[o] = e.charCodeAt(2 * o) << 8 | e.charCodeAt(2 * o + 1);
var l = Math.ceil(8 * e.length / (Math.log(t.length) / Math.log(2))), d = Array(l);
for (i = 0; i < l; i++) {
r = Array();
a = 0;
for (o = 0; o < c.length; o++) {
a = (a << 16) + c[o];
a -= (n = Math.floor(a / s)) * s;
(r.length > 0 || n > 0) && (r[r.length] = n);
}
d[i] = a;
c = r;
}
var h = "";
for (o = d.length - 1; o >= 0; o--) h += t.charAt(d[o]);
return h;
};
e.prototype.str2rstr_utf8 = function(e) {
for (var t, o, i = "", n = -1; ++n < e.length; ) {
t = e.charCodeAt(n);
o = n + 1 < e.length ? e.charCodeAt(n + 1) : 0;
if (55296 <= t && t <= 56319 && 56320 <= o && o <= 57343) {
t = 65536 + ((1023 & t) << 10) + (1023 & o);
n++;
}
t <= 127 ? i += String.fromCharCode(t) : t <= 2047 ? i += String.fromCharCode(192 | t >>> 6 & 31, 128 | 63 & t) : t <= 65535 ? i += String.fromCharCode(224 | t >>> 12 & 15, 128 | t >>> 6 & 63, 128 | 63 & t) : t <= 2097151 && (i += String.fromCharCode(240 | t >>> 18 & 7, 128 | t >>> 12 & 63, 128 | t >>> 6 & 63, 128 | 63 & t));
}
return i;
};
e.prototype.str2rstr_utf16le = function(e) {
for (var t = "", o = 0; o < e.length; o++) t += String.fromCharCode(255 & e.charCodeAt(o), e.charCodeAt(o) >>> 8 & 255);
return t;
};
e.prototype.str2rstr_utf16be = function(e) {
for (var t = "", o = 0; o < e.length; o++) t += String.fromCharCode(e.charCodeAt(o) >>> 8 & 255, 255 & e.charCodeAt(o));
return t;
};
e.prototype.rstr2binl = function(e) {
for (var t = Array(e.length >> 2), o = 0; o < t.length; o++) t[o] = 0;
for (o = 0; o < 8 * e.length; o += 8) t[o >> 5] |= (255 & e.charCodeAt(o / 8)) << o % 32;
return t;
};
e.prototype.binl2rstr = function(e) {
for (var t = "", o = 0; o < 32 * e.length; o += 8) t += String.fromCharCode(e[o >> 5] >>> o % 32 & 255);
return t;
};
e.prototype.binl_md5 = function(e, t) {
e[t >> 5] |= 128 << t % 32;
e[14 + (t + 64 >>> 9 << 4)] = t;
for (var o = 1732584193, i = -271733879, n = -1732584194, a = 271733878, r = 0; r < e.length; r += 16) {
var s = o, c = i, l = n, d = a;
o = this.md5_ff(o, i, n, a, e[r + 0], 7, -680876936);
a = this.md5_ff(a, o, i, n, e[r + 1], 12, -389564586);
n = this.md5_ff(n, a, o, i, e[r + 2], 17, 606105819);
i = this.md5_ff(i, n, a, o, e[r + 3], 22, -1044525330);
o = this.md5_ff(o, i, n, a, e[r + 4], 7, -176418897);
a = this.md5_ff(a, o, i, n, e[r + 5], 12, 1200080426);
n = this.md5_ff(n, a, o, i, e[r + 6], 17, -1473231341);
i = this.md5_ff(i, n, a, o, e[r + 7], 22, -45705983);
o = this.md5_ff(o, i, n, a, e[r + 8], 7, 1770035416);
a = this.md5_ff(a, o, i, n, e[r + 9], 12, -1958414417);
n = this.md5_ff(n, a, o, i, e[r + 10], 17, -42063);
i = this.md5_ff(i, n, a, o, e[r + 11], 22, -1990404162);
o = this.md5_ff(o, i, n, a, e[r + 12], 7, 1804603682);
a = this.md5_ff(a, o, i, n, e[r + 13], 12, -40341101);
n = this.md5_ff(n, a, o, i, e[r + 14], 17, -1502002290);
i = this.md5_ff(i, n, a, o, e[r + 15], 22, 1236535329);
o = this.md5_gg(o, i, n, a, e[r + 1], 5, -165796510);
a = this.md5_gg(a, o, i, n, e[r + 6], 9, -1069501632);
n = this.md5_gg(n, a, o, i, e[r + 11], 14, 643717713);
i = this.md5_gg(i, n, a, o, e[r + 0], 20, -373897302);
o = this.md5_gg(o, i, n, a, e[r + 5], 5, -701558691);
a = this.md5_gg(a, o, i, n, e[r + 10], 9, 38016083);
n = this.md5_gg(n, a, o, i, e[r + 15], 14, -660478335);
i = this.md5_gg(i, n, a, o, e[r + 4], 20, -405537848);
o = this.md5_gg(o, i, n, a, e[r + 9], 5, 568446438);
a = this.md5_gg(a, o, i, n, e[r + 14], 9, -1019803690);
n = this.md5_gg(n, a, o, i, e[r + 3], 14, -187363961);
i = this.md5_gg(i, n, a, o, e[r + 8], 20, 1163531501);
o = this.md5_gg(o, i, n, a, e[r + 13], 5, -1444681467);
a = this.md5_gg(a, o, i, n, e[r + 2], 9, -51403784);
n = this.md5_gg(n, a, o, i, e[r + 7], 14, 1735328473);
i = this.md5_gg(i, n, a, o, e[r + 12], 20, -1926607734);
o = this.md5_hh(o, i, n, a, e[r + 5], 4, -378558);
a = this.md5_hh(a, o, i, n, e[r + 8], 11, -2022574463);
n = this.md5_hh(n, a, o, i, e[r + 11], 16, 1839030562);
i = this.md5_hh(i, n, a, o, e[r + 14], 23, -35309556);
o = this.md5_hh(o, i, n, a, e[r + 1], 4, -1530992060);
a = this.md5_hh(a, o, i, n, e[r + 4], 11, 1272893353);
n = this.md5_hh(n, a, o, i, e[r + 7], 16, -155497632);
i = this.md5_hh(i, n, a, o, e[r + 10], 23, -1094730640);
o = this.md5_hh(o, i, n, a, e[r + 13], 4, 681279174);
a = this.md5_hh(a, o, i, n, e[r + 0], 11, -358537222);
n = this.md5_hh(n, a, o, i, e[r + 3], 16, -722521979);
i = this.md5_hh(i, n, a, o, e[r + 6], 23, 76029189);
o = this.md5_hh(o, i, n, a, e[r + 9], 4, -640364487);
a = this.md5_hh(a, o, i, n, e[r + 12], 11, -421815835);
n = this.md5_hh(n, a, o, i, e[r + 15], 16, 530742520);
i = this.md5_hh(i, n, a, o, e[r + 2], 23, -995338651);
o = this.md5_ii(o, i, n, a, e[r + 0], 6, -198630844);
a = this.md5_ii(a, o, i, n, e[r + 7], 10, 1126891415);
n = this.md5_ii(n, a, o, i, e[r + 14], 15, -1416354905);
i = this.md5_ii(i, n, a, o, e[r + 5], 21, -57434055);
o = this.md5_ii(o, i, n, a, e[r + 12], 6, 1700485571);
a = this.md5_ii(a, o, i, n, e[r + 3], 10, -1894986606);
n = this.md5_ii(n, a, o, i, e[r + 10], 15, -1051523);
i = this.md5_ii(i, n, a, o, e[r + 1], 21, -2054922799);
o = this.md5_ii(o, i, n, a, e[r + 8], 6, 1873313359);
a = this.md5_ii(a, o, i, n, e[r + 15], 10, -30611744);
n = this.md5_ii(n, a, o, i, e[r + 6], 15, -1560198380);
i = this.md5_ii(i, n, a, o, e[r + 13], 21, 1309151649);
o = this.md5_ii(o, i, n, a, e[r + 4], 6, -145523070);
a = this.md5_ii(a, o, i, n, e[r + 11], 10, -1120210379);
n = this.md5_ii(n, a, o, i, e[r + 2], 15, 718787259);
i = this.md5_ii(i, n, a, o, e[r + 9], 21, -343485551);
o = this.safe_add(o, s);
i = this.safe_add(i, c);
n = this.safe_add(n, l);
a = this.safe_add(a, d);
}
return [ o, i, n, a ];
};
e.prototype.md5_cmn = function(e, t, o, i, n, a) {
return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(t, e), this.safe_add(i, a)), n), o);
};
e.prototype.md5_ff = function(e, t, o, i, n, a, r) {
return this.md5_cmn(t & o | ~t & i, e, t, n, a, r);
};
e.prototype.md5_gg = function(e, t, o, i, n, a, r) {
return this.md5_cmn(t & i | o & ~i, e, t, n, a, r);
};
e.prototype.md5_hh = function(e, t, o, i, n, a, r) {
return this.md5_cmn(t ^ o ^ i, e, t, n, a, r);
};
e.prototype.md5_ii = function(e, t, o, i, n, a, r) {
return this.md5_cmn(o ^ (t | ~i), e, t, n, a, r);
};
e.prototype.safe_add = function(e, t) {
var o = (65535 & e) + (65535 & t);
return (e >> 16) + (t >> 16) + (o >> 16) << 16 | 65535 & o;
};
e.prototype.bit_rol = function(e, t) {
return e << t | e >>> 32 - t;
};
return e;
}();
o.default = i;
cc._RF.pop();
}, {} ],
Profile: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "81accD3vsVCbJ5+AB2S76Un", "Profile");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../PublicTools/DialogRoot"), s = e("../FireData/CommonData"), c = e("../GameNetWork/NetWorkAll"), l = e("../EXUIFrame/EXCocosHelper"), d = e("../EXUIFrame/config/EXSysDefine"), h = e("../EXUIFrame/EXSoundMgr"), u = e("../GameCommon/NVSGameUtil"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.formType = d.FormType.FixedUI;
t.totalInfoNode = null;
return t;
}
t.prototype.onLoad = function() {
var e = this;
this._dialog = this.node.getChildByName("dialog");
this._dialog.on("click", this.onClickBigHead.bind(this), this);
this._dialog.active = !1;
this._node1 = this._dialog.getChildByName("node1");
this._head = this._node1.getChildByName("headBg");
this._head.on("click", this.onClickHead.bind(this), this);
this._nameLabel = this._node1.getChildByName("nameLabel");
this._levelLabel = this._node1.getChildByName("levelLabel");
this._expLabel = this._node1.getChildByName("expLabel");
this._expProgress = this._node1.getChildByName("expProgress");
this._autographLabel = this._node1.getChildByName("autographBg").getChildByName("label");
this._iconPen = this._node1.getChildByName("iconPen");
this._visitorBtn = this._node1.getChildByName("visitorBtn");
this._likeBtn = this._node1.getChildByName("likeBtn");
this._followBtn = this._node1.getChildByName("followBtn");
this.totalInfoNode = this._node1.getChildByName("totalInfoNode");
this._census1 = this._node1.getChildByName("census1");
this._census2 = this._node1.getChildByName("census2");
this._census3 = this._node1.getChildByName("census3");
this._census4 = this._node1.getChildByName("census4");
this._census5 = this._node1.getChildByName("census5");
this._total = this._node1.getChildByName("total");
this._win = this._node1.getChildByName("win");
this._winPro = this._node1.getChildByName("winPro");
[ this._likeBtn, this._followBtn, this._visitorBtn ].forEach(function(t) {
t.on("click", e.onBtn, e);
});
};
t.prototype.onBtn = function(e) {
switch (e.node.name) {
case "closeBtn":
this.onClose();
}
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_GET_USER_TOTAL_INFO":
this._homePageData = t;
this._createrView();
}
};
t.prototype.start = function() {
var e = this;
this._userId = this._data;
this.register("OtherPageDlg", [ "ON_GET_USER_TOTAL_INFO", "ON_GET_USER_GAME_INFO" ]);
c.default.getInstance().socketSend.getUserTotalInfo(this._userId);
var t = u.default.seekChild(this.node, "closeBtn");
t.getComponent(cc.Button).interactable = !1;
l.default.sleepSync(1).then(function() {
t.getComponent(cc.Button).interactable = !0;
t.on("click", e.onClose, e);
});
this._autographLabel.active = !1;
this._userId == s.default.UserData.userId ? this._iconPen.active = !0 : this._iconPen.active = !1;
};
t.prototype._createrView = function() {
this._personalInfoHandle();
this._interactionHandle();
this._moneyHistory();
this._behaviorAnalysisHandle(this._homePageData.allPlayed, this._homePageData.allWin);
this._node1.active = !0;
this._dialog.active = !0;
this.hideLoading();
};
t.prototype.onClickHead = function() {
h.default.inst.playEffect("btnSound");
};
t.prototype.onClickBigHead = function() {};
t.prototype._personalInfoHandle = function() {
this._nameLabel.getComponent(cc.Label).string = this._homePageData.nickname;
this._nameLabel.getComponent(cc.Label)._forceUpdateRenderData(!0);
this._iconPen.x = this._nameLabel.x + this._nameLabel.width + 20;
var e = u.default.getLevel(this._homePageData.exp);
this._levelLabel.getComponent(cc.Label).string = "Lv:" + e.nowLevel;
this._expLabel.getComponent(cc.Label).string = e.nowExp + "/" + e.nowNeedExp;
this._expProgress.getComponent(cc.ProgressBar).progress = e.progress;
if ("" == this._homePageData.sigture) {
this._autographLabel.getComponent(cc.Label).string = "Nothing";
this._autographLabel.active = !1;
} else this._autographLabel.getComponent(cc.Label).string = this._homePageData.sigture;
};
t.prototype._interactionHandle = function() {
var e = this._visitorBtn.getChildByName("label"), t = this._likeBtn.getChildByName("label"), o = this._followBtn.getChildByName("label");
e.getComponent(cc.Label).string = this._homePageData.visitor + "";
t.getComponent(cc.Label).string = this._homePageData.liker + "";
this._followBtn.active = !0;
0 == this._homePageData.isFans ? o.getComponent(cc.Label).string = "Look" : o.getComponent(cc.Label).string = "Looked";
};
t.prototype._moneyHistory = function() {
this.totalInfoNode.getChildByName("coinLabel").getComponent(cc.Label).string = u.default.cul(this._homePageData.chip, 1);
this.totalInfoNode.getChildByName("coinMaxMoneyLabel").getComponent(cc.Label).string = u.default.cul(this._homePageData.maxChip, 1);
this.totalInfoNode.getChildByName("coinMaxMoneyOnceLabel").getComponent(cc.Label).string = u.default.cul(this._homePageData.maxWinChip, 1);
this.totalInfoNode.getChildByName("coinTotalRoundsLabel").getComponent(cc.Label).string = u.default.cul(this._homePageData.chipPlayed, 1);
var e = Math.floor(Date.now() / 1e3), t = this._census1.getChildByName("label1"), o = this._census2.getChildByName("label1"), i = this._census3.getChildByName("label1"), n = this._census4.getChildByName("label1"), a = this._census5.getChildByName("label1");
t.getComponent(cc.Label).string = Math.floor((e - this._homePageData.regTime) / 3600 / 24) + "";
o.getComponent(cc.Label).string = this._homePageData.todayRank + "";
i.getComponent(cc.Label).string = this._homePageData.weekRank + "";
n.getComponent(cc.Label).string = this._homePageData.monthRank + "";
a.getComponent(cc.Label).string = this._homePageData.yearRank + "";
};
t.prototype._behaviorAnalysisHandle = function(e, t) {
var o = this._total.getChildByName("label1"), i = this._win.getChildByName("label1"), n = this._winPro.getChildByName("label1"), a = t / e;
isNaN(a) && (a = 0);
var r = this._win.getChildByName("whiteCircle"), s = this._winPro.getChildByName("whiteCircle");
o.getComponent(cc.Label).string = e + "";
i.getComponent(cc.Label).string = t + "";
n.getComponent(cc.Label).string = Math.floor(100 * a) + "%";
r.getComponent(cc.Sprite).fillRange = -a;
s.getComponent(cc.Sprite).fillRange = -a;
};
return a([ f ], t);
}(r.default));
o.default = m;
cc._RF.pop();
}, {
"../EXUIFrame/EXCocosHelper": "EXCocosHelper",
"../EXUIFrame/EXSoundMgr": "EXSoundMgr",
"../EXUIFrame/config/EXSysDefine": "EXSysDefine",
"../FireData/CommonData": "CommonData",
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../GameNetWork/NetWorkAll": "NetWorkAll",
"../PublicTools/DialogRoot": "DialogRoot"
} ],
PropBind: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2f9f8Tv5WdH8a3E1C7Bm4Ro", "PropBind");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.default = function() {};
cc._RF.pop();
}, {} ],
PublicActivityData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c30381dN+BI6JEQSRHwdy1r", "PublicActivityData");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.FreeRewardTime = o.FreeRewardType = void 0;
var i;
(function(e) {
e[e.timeReward = 1] = "timeReward";
e[e.adReward = 2] = "adReward";
e[e.inviteRegisterReward = 3] = "inviteRegisterReward";
})(o.FreeRewardType || (o.FreeRewardType = {}));
(function(e) {
e[e.timeReward = 43200] = "timeReward";
e[e.adReward = 600] = "adReward";
})(i = o.FreeRewardTime || (o.FreeRewardTime = {}));
var n = e("../GameCommon/NVSGameUtil"), a = function() {
function e() {
this._isRegesterInviteAvaliable = !1;
this._isDailyTaskAvaliable = !1;
this._dailyTaskConfig = null;
this._dialyTaskList = null;
this._regesterInviteInfo = null;
}
e.getInstance = function() {
this.instance || (this.instance = new e());
return this.instance;
};
Object.defineProperty(e.prototype, "dailyTaskConfig", {
get: function() {
return this._dailyTaskConfig;
},
set: function(e) {
this._dailyTaskConfig = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "taskList", {
get: function() {
return this._dialyTaskList;
},
set: function(e) {
this._dialyTaskList = e;
this._isDailyTaskAvaliable = this._dialyTaskList.rewardContain > 0;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "regesterInviteInfo", {
get: function() {
return this._regesterInviteInfo;
},
set: function(e) {
this._regesterInviteInfo = e;
this._regesterInviteInfo.invitedNum > this._regesterInviteInfo.rewardedNum ? this._isRegesterInviteAvaliable = !0 : this._isRegesterInviteAvaliable = !1;
},
enumerable: !1,
configurable: !0
});
e.prototype.isTimeRewardAvaliable = function() {
var e = new Date().getTime(), t = n.default.readData("TimeRewardTime") || e - 1e3 * i.timeReward, o = 1e3 * i.timeReward - (e - t);
return !(Math.floor(o / 1e3) > 0);
};
e.prototype.isADRewardAvaliable = function() {
return !1;
};
e.prototype.updateDailyTaskInfo = function() {};
e.prototype.isInviteRegesterRewardAvaliable = function() {
return this._isRegesterInviteAvaliable;
};
e.prototype.isDailyRewardAvaliable = function() {
return this._isDailyTaskAvaliable;
};
e.prototype.isFreeRewardAvaliable = function() {
return this._isRegesterInviteAvaliable || this.isTimeRewardAvaliable() || this.isADRewardAvaliable();
};
e.prototype.isTaskRewardAvaliable = function() {
return this.isFreeRewardAvaliable() || this.isDailyRewardAvaliable();
};
return e;
}();
o.default = a;
cc._RF.pop();
}, {
"../GameCommon/NVSGameUtil": "NVSGameUtil"
} ],
QueuePriority: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7cac3p0Z8BFs7AepQdtevNt", "QueuePriority");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.PriorityElement = void 0;
var i = function(e, t) {
this.data = e;
this.pIdx = t;
};
o.PriorityElement = i;
var n = function() {
function e() {
this.queue = new Array(32);
this.size = 0;
}
e.prototype.enqueue = function(e, t) {
void 0 === t && (t = 0);
this.size > this.queue.length && this._expand();
this.queue[this.size++] = new i(e, t);
this.upAdjust();
};
e.prototype.hasElement = function(e) {
for (var t = 0, o = this.queue; t < o.length; t++) if (o[t].data === e) return !0;
return !1;
};
e.prototype.toString = function() {
for (var e = "", t = 0; t < this.size; t++) {
var o = this.queue[t].data;
o.toString ? e += o.toString() : e += "object" == typeof o ? JSON.stringify(o) : o;
}
return e;
};
e.prototype.dequeue = function() {
if (this.size <= 0) return null;
var e = this.queue[0];
this.queue[0] = this.queue[--this.size];
this.downAdjust();
return e.data;
};
e.prototype.upAdjust = function() {
for (var e = this.size - 1, t = Math.floor(e / 2), o = this.queue[e]; e > 0 && o.pIdx > this.queue[t].pIdx; ) {
this.queue[e] = this.queue[t];
e = t;
t = Math.floor(t / 2);
}
this.queue[e] = o;
};
e.prototype.downAdjust = function() {
for (var e = 0, t = this.queue[e], o = 1; o < this.size; ) {
o + 1 < this.size && this.queue[o + 1].pIdx > this.queue[o].pIdx && o++;
if (t.pIdx >= this.queue[o].pIdx) break;
this.queue[e] = this.queue[o];
e = o;
o = 2 * o + 1;
}
this.queue[e] = t;
};
e.prototype._expand = function() {
var e = Math.round(1.2 * this.queue.length) + 1, t = this.queue;
this.queue = new Array(e);
for (var o = 0; o < t.length; o++) this.queue[o] = t[o];
};
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
Queue: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "146d9Q6AJVLm5Z5V9zs9sHL", "Queue");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function() {
function e() {
this.count = 0;
this.lowestCount = 0;
this.items = {};
}
e.prototype.enqueue = function(e) {
this.items[this.count] = e;
this.count++;
};
e.prototype.dequeue = function() {
if (!this.isEmpty()) {
var e = this.items[this.lowestCount];
delete this.items[this.lowestCount];
this.lowestCount++;
return e;
}
};
e.prototype.peek = function() {
if (!this.isEmpty()) return this.items[this.lowestCount];
};
e.prototype.isEmpty = function() {
return 0 === this.size();
};
e.prototype.clear = function() {
this.items = {};
this.count = 0;
this.lowestCount = 0;
};
e.prototype.size = function() {
return this.count - this.lowestCount;
};
e.prototype.toString = function() {
if (this.isEmpty()) return "";
for (var e = "" + this.items[this.lowestCount], t = this.lowestCount + 1; t < this.count; t++) e = e + "," + this.items[t];
return e;
};
return e;
}();
o.default = i;
cc._RF.pop();
}, {} ],
RandomPointsInPolygon: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "16f31XZxCtKW482jiS8i+Xe", "RandomPointsInPolygon");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function() {
function e() {}
e.prototype.rnd = function() {
return Math.random() - .5;
};
e.prototype.lon = function() {
return 360 * this.rnd();
};
e.prototype.lat = function() {
return 180 * this.rnd();
};
e.prototype.position = function(e) {
return e ? this.coordInBBBOX(e) : [ this.lon(), this.lat() ];
};
e.prototype.feature = function(e) {
return {
type: "Feature",
geometry: e,
_properties: {},
get properties() {
return this._properties;
},
set properties(e) {
this._properties = e;
}
};
};
e.prototype.collection = function(e) {
return {
type: "FeatureCollection",
features: e
};
};
e.prototype.point = function(e) {
return {
type: "Point",
coordinates: e || [ this.lon(), this.lat() ]
};
};
e.prototype.coordInBBBOX = function(e) {
return [ Math.random() * (e[2] - e[0]) + e[0], Math.random() * (e[3] - e[1]) + e[1] ];
};
e.prototype.pointCollection = function(e, t) {
for (var o = [], i = 0; i < e; i++) o.push(this.feature(t ? this.point(this.position(t)) : this.point()));
return this.collection(o);
};
e.prototype.coordEach = function(e, t, o) {
var i, n, a, r, s, c, l, d, h = 0, u = "FeatureCollection" === e.type, p = "Feature" === e.type, f = u ? e.features.length : 1;
for (i = 0; i < f; i++) {
s = (d = "GeometryCollection" === (l = u ? e.features[i].geometry : p ? e.geometry : e).type) ? l.geometries.length : 1;
for (a = 0; a < s; a++) {
c = (r = d ? l.geometries[a] : l).coordinates;
h = !o || "Polygon" !== r.type && "MultiPolygon" !== r.type ? 0 : 1;
if ("Point" === r.type) t(c); else if ("LineString" === r.type || "MultiPoint" === r.type) for (var m = 0; m < c.length; m++) t(c[m]); else if ("Polygon" === r.type || "MultiLineString" === r.type) for (var g = 0; g < c.length; g++) for (var y = 0; y < c[g].length - h; y++) t(c[g][y]); else {
if ("MultiPolygon" !== r.type) throw new Error("Unknown Geometry Type");
for (var _ = 0; _ < c.length; _++) for (n = 0; n < c[_].length; n++) for (var C = 0; C < c[_][n].length - h; C++) t(c[_][n][C]);
}
}
}
};
e.prototype.extent = function(e) {
var t = [ Infinity, Infinity, -Infinity, -Infinity ];
this.coordEach(e, function(e) {
t[0] > e[0] && (t[0] = e[0]);
t[1] > e[1] && (t[1] = e[1]);
t[2] < e[0] && (t[2] = e[0]);
t[3] < e[1] && (t[3] = e[1]);
});
return t;
};
e.prototype.inRing = function(e, t) {
for (var o = !1, i = 0, n = t.length - 1; i < t.length; n = i++) {
var a = t[i][0], r = t[i][1], s = t[n][0], c = t[n][1];
r > e[1] != c > e[1] && e[0] < (s - a) * (e[1] - r) / (c - r) + a && (o = !o);
}
return o;
};
e.prototype.inside = function(e, t) {
var o = t.geometry.coordinates, i = [ e.geometry.coordinates[0], e.geometry.coordinates[1] ];
"Polygon" === t.geometry.type && (o = [ o ]);
for (var n = !1, a = 0; a < o.length && !n; ) {
if (this.inRing(i, o[a][0])) {
for (var r = !1, s = 1; s < o[a].length && !r; ) {
this.inRing(i, o[a][s]) && (r = !0);
s++;
}
r || (n = !0);
}
a++;
}
return n;
};
e.prototype.getPoints = function(e, t, o) {
"boolean" == typeof o && (o = {});
if (e < 1) return new Error("Number must be >= 1");
if ("Feature" !== t.type) return new Error("Polygon parameter must be a Feature<(Polygon|MultiPolygon)>");
o = o || {};
for (var i = [], n = this.extent(t), a = Math.round(parseFloat(e)), r = 0; r <= a; r++) {
if (r === a) return i;
var s = this.pointCollection(1, n);
!1 === this.inside(s.features[0], t) && (r = --r);
if (!0 === this.inside(s.features[0], t)) {
s.features[0].properties = o;
i.push(s.features[0]);
}
}
};
return e;
}();
o.default = i;
cc._RF.pop();
}, {} ],
RankDialog: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "324267fDxNL8oPmPolpKZUu", "RankDialog");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.RankTimeType = o.RankType = void 0;
var r, s, c = e("../../communication/SocketGameManager"), l = e("../../data/GameLangData"), d = e("../../data/MyData"), h = e("../../data/conf/GameRes"), u = e("../../manager/GameSoundMgr"), p = e("../../public/MyComponent/GameHppayUtil"), f = e("../../public/MyComponent/WindowBase"), m = e("../../public/ThirdParty/GameSysDefine"), g = e("../../public/ThirdParty/happyList"), y = cc._decorator, _ = y.ccclass;
y.property;
(function(e) {
e[e.day = 1] = "day";
e[e.week = 2] = "week";
e[e.month = 3] = "month";
})(r = o.RankType || (o.RankType = {}));
(function(e) {
e[e.pre = 1] = "pre";
e[e.next = 2] = "next";
})(s = o.RankTimeType || (o.RankTimeType = {}));
var C = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.formType = m.FormType.FixedUI;
t.DAY_TIME = 86400;
t.WEEK_TIME = 7 * t.DAY_TIME;
t.chargeNode = null;
t.withdrawNode = null;
t.btnCharge = null;
t.btnWithdraw = null;
t.chargeLabel = null;
t.withdrawLabel = null;
t.imageSideSelectedItem = null;
t.title = null;
t.rankList = null;
t.rankListData = [];
t.rootNode = null;
t.currShowIndex = 1;
t._labelMyChip = null;
t.btnDayRank = null;
t.btnWeekRank = null;
t.btnMonthRank = null;
t.btnPre = null;
t.btnNext = null;
t.rankTitleCenter = null;
t.rankTitleLeft = null;
t.rankTitleRight = null;
t.rankID = null;
t.rankBetAmount = null;
t.rankReward = null;
t.selfimageRank = null;
t.selfimageHead = null;
t.selflabelRank = null;
t.selflabelName = null;
t.selflabelBetAmount = null;
t.rankIcons = [];
t.bonusIcons = [];
t.listBgs = [];
t.rankLabelPositions = [];
t.selfRankLabelPositions = [];
t.currRankType = r.day;
t.currSelectDayTime = 0;
t.currSelectWeekTime = 0;
t.currSelectMonthTime = "";
t.currDayTime = 0;
t.currWeekTime = 0;
t.currMonthTime = "";
t.currRankTimeStr = "";
t.noRecordDesc = null;
t.colorRank = null;
t.colorNoRank = null;
return t;
}
t.prototype.onLoad = function() {
this.rootNode = this.node.getChildByName("dlgBg");
var e = this.rootNode.getChildByName("leftChoose");
e.getChildByName("btnBack").on("click", this.onClose, this);
this.btnCharge = e.getChildByName("deposit");
this.btnCharge.on("click", this.onShowCharge, this);
this.chargeLabel = this.btnCharge.getChildByName("label");
this.btnWithdraw = e.getChildByName("withdraw");
this.btnWithdraw.on("click", this.onShowWithdraw, this);
this.withdrawLabel = this.btnWithdraw.getChildByName("label");
this.imageSideSelectedItem = e.getChildByName("sideSelectedItem");
this.title = e.getChildByName("title").getComponent(cc.Label);
this.chargeNode = this.rootNode.getChildByName("rankNode");
this.rankList = this.chargeNode.getChildByName("rankList").getComponent(g.default);
this.btnDayRank = this.chargeNode.getChildByName("btnRankDay").getComponent(cc.Button);
this.btnWeekRank = this.chargeNode.getChildByName("btnRankWeek").getComponent(cc.Button);
this.btnMonthRank = this.chargeNode.getChildByName("btnRankMonth").getComponent(cc.Button);
this.chargeNode.getChildByName("btnRankDay").on("click", this.onDayRank, this);
this.chargeNode.getChildByName("btnRankWeek").on("click", this.onWeekRank, this);
this.chargeNode.getChildByName("btnRankMonth").on("click", this.onMonthRank, this);
this.rankTitleCenter = this.chargeNode.getChildByName("rankTitleCenter").getComponent(cc.Label);
this.rankTitleLeft = this.chargeNode.getChildByName("rankTitleLeft").getComponent(cc.Label);
this.rankTitleRight = this.chargeNode.getChildByName("rankTitleRight").getComponent(cc.Label);
this.rankID = this.chargeNode.getChildByName("rankNumber").getComponent(cc.Label);
this.rankBetAmount = this.chargeNode.getChildByName("rankBetAmount").getComponent(cc.Label);
this.rankReward = this.chargeNode.getChildByName("rankReward").getComponent(cc.Label);
this.noRecordDesc = this.chargeNode.getChildByName("noRecordDesc");
this.noRecordDesc.getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("noRecord");
this.noRecordDesc.active = !1;
var t = this.chargeNode.getChildByName("selfInfo");
this.selfimageRank = t.getChildByName("imageRank");
this.selfimageHead = t.getChildByName("imageHead");
this.selflabelRank = t.getChildByName("labelRank").getComponent(cc.Label);
this.selflabelName = t.getChildByName("labelName").getComponent(cc.Label);
this.selflabelBetAmount = t.getChildByName("labelBetAmount").getComponent(cc.Label);
this.btnPre = this.chargeNode.getChildByName("btnPre");
this.btnNext = this.chargeNode.getChildByName("btnNext");
this.btnPre.on("click", this.onPre, this);
this.btnNext.on("click", this.onNext, this);
e.getChildByName("btnOnline").on("click", this.onLine, this);
e.getChildByName("btnOnline").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("customerService");
this.withdrawNode = this.rootNode.getChildByName("descNode");
this.withdrawNode.getChildByName("labelDescription").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("rankDesc");
this._labelMyChip = e.getChildByName("chip").getChildByName("labelChip");
this.rankIcons = [ [ "1_1", "1_2", "1_3", "1_4_10" ], [ "3_1", "3_2", "3_3", "3_4_10" ], [ "2_1", "2_2", "2_3", "2_4_10" ] ];
this.bonusIcons = [ [ "1_1_bonus_bg", "1_2_bonus_bg", "1_3_bonus_bg", "1_4_10_bonus_bg" ], [ "3_1_bonus_bg", "3_2_bonus_bg", "3_3_bonus_bg", "3_4_10_bonus_bg" ], [ "2_1_bonus_bg", "2_2_bonus_bg", "2_3_bonus_bg", "2_4_10_bonus_bg" ] ];
this.listBgs = [ "list_1", "list_2", "list_3", "list_4_10" ];
this.rankLabelPositions = [ new cc.Vec2(-501, 8), new cc.Vec2(-500, 5), new cc.Vec2(-500, 3) ];
this.selfRankLabelPositions = [ new cc.Vec2(-501, -7), new cc.Vec2(-500, -9), new cc.Vec2(-501, -11) ];
this.colorRank = new cc.Color(247, 183, 146);
this.colorNoRank = new cc.Color(255, 255, 255);
this.currSelectDayTime = new Date().getTime() / 1e3;
this.currSelectWeekTime = new Date().getTime() / 1e3;
this.currSelectMonthTime = this.getCurrFormatMonth(new Date().getTime() / 1e3);
this.currDayTime = this.currSelectDayTime;
this.currWeekTime = this.currSelectWeekTime;
this.currMonthTime = this.currSelectMonthTime;
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.updateLanguageUI();
this.updateDirector();
this.register("GameKickback", [ "ON_GET_RANK_LIST", "MONEY_UPDATE_EVENT" ]);
this.currShowIndex = this._data || 1;
this._initUserInfo(d.default.UserData.chip, d.default.UserData.point, d.default.UserData.coin);
this.rootNode.active = !1;
this.showLoading();
this.showPage(1);
};
t.prototype.onDayRank = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
this.btnDayRank.interactable = !1;
this.btnWeekRank.interactable = !0;
this.btnMonthRank.interactable = !0;
this.currSelectDayTime = new Date().getTime() / 1e3;
this.currDayTime = this.currSelectDayTime;
this.requestRankList(r.day, this.getCurrFormatDate(this.currDayTime));
this.updateDirector();
};
t.prototype.onWeekRank = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
this.btnDayRank.interactable = !0;
this.btnWeekRank.interactable = !1;
this.btnMonthRank.interactable = !0;
this.currSelectWeekTime = new Date().getTime() / 1e3;
this.currWeekTime = this.currSelectWeekTime;
this.requestRankList(r.week, this.getCurrFormatWeek(this.currWeekTime));
this.updateDirector();
};
t.prototype.onMonthRank = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
this.btnDayRank.interactable = !0;
this.btnWeekRank.interactable = !0;
this.btnMonthRank.interactable = !1;
this.currSelectMonthTime = this.getCurrFormatMonth(new Date().getTime() / 1e3);
this.currMonthTime = this.currSelectMonthTime;
this.requestRankList(r.month, this.currSelectMonthTime);
this.updateDirector();
};
t.prototype.requestRankList = function(e, t) {
this.currRankType = e;
this.currRankTimeStr = t;
c.default.getInstance().socketSend.getRankData(e, t);
};
t.prototype.onPre = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
var e = this.getRankTime(s.pre);
this.requestRankList(this.currRankType, e);
this.updateDirector();
};
t.prototype.onNext = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
var e = this.getRankTime(s.next);
this.requestRankList(this.currRankType, e);
this.updateDirector();
};
t.prototype.updateDirector = function() {
if (this.currRankType == r.day) if (this.currSelectDayTime == this.currDayTime) {
this.btnNext.active = !1;
this.rankTitleRight.node.active = !1;
this.rankTitleCenter.string = l.default.ins.GET_NEWHALL_LANG("awardToday");
this.rankTitleLeft.string = l.default.ins.GET_NEWHALL_LANG("awardYestoday");
this.rankReward.node.active = !1;
this.btnPre.active = !0;
this.rankTitleLeft.node.active = !0;
} else {
this.btnNext.active = !0;
this.rankTitleRight.node.active = !0;
this.rankReward.node.active = !0;
this.rankReward.string = l.default.ins.GET_NEWHALL_LANG("rankReward");
if (this.currDayTime - this.currSelectDayTime == this.DAY_TIME) {
this.rankTitleLeft.string = p.default.formatDate2(this.currSelectDayTime - this.DAY_TIME);
this.rankTitleCenter.string = l.default.ins.GET_NEWHALL_LANG("awardYestoday");
this.rankTitleRight.string = l.default.ins.GET_NEWHALL_LANG("awardToday");
this.btnPre.active = !0;
this.rankTitleLeft.node.active = !0;
} else if (this.currDayTime - this.currSelectDayTime == 2 * this.DAY_TIME) {
this.rankTitleLeft.string = p.default.formatDate2(this.currSelectDayTime - this.DAY_TIME);
this.rankTitleCenter.string = p.default.formatDate2(this.currSelectDayTime);
this.rankTitleRight.string = l.default.ins.GET_NEWHALL_LANG("awardYestoday");
this.btnPre.active = !0;
this.rankTitleLeft.node.active = !0;
} else {
this.rankTitleLeft.string = p.default.formatDate2(this.currSelectDayTime - this.DAY_TIME);
this.rankTitleCenter.string = p.default.formatDate2(this.currSelectDayTime);
this.rankTitleRight.string = p.default.formatDate2(this.currSelectDayTime + this.DAY_TIME);
this.btnPre.active = !1;
this.rankTitleLeft.node.active = !1;
}
} else if (this.currRankType == r.week) if (this.currSelectWeekTime == this.currWeekTime) {
this.btnNext.active = !1;
this.rankTitleRight.node.active = !1;
this.rankReward.node.active = !0;
this.btnPre.active = !0;
this.rankTitleLeft.node.active = !0;
this.rankReward.string = l.default.ins.GET_NEWHALL_LANG("lastLoginTime");
this.rankTitleCenter.string = l.default.ins.GET_NEWHALL_LANG("rankThisWeek");
this.rankTitleLeft.string = l.default.ins.GET_NEWHALL_LANG("rankLastWeek");
} else {
this.btnNext.active = !0;
this.rankTitleRight.node.active = !0;
this.rankReward.node.active = !0;
this.rankReward.string = l.default.ins.GET_NEWHALL_LANG("rankReward");
if (this.currWeekTime - this.currSelectWeekTime == this.WEEK_TIME) {
this.rankTitleLeft.string = this.formatRankWeek(this.currSelectWeekTime - this.WEEK_TIME);
this.rankTitleCenter.string = l.default.ins.GET_NEWHALL_LANG("rankLastWeek");
this.rankTitleRight.string = l.default.ins.GET_NEWHALL_LANG("rankThisWeek");
this.btnPre.active = !0;
this.rankTitleLeft.node.active = !0;
} else if (this.currWeekTime - this.currSelectWeekTime == 2 * this.WEEK_TIME) {
this.rankTitleLeft.string = this.formatRankWeek(this.currSelectWeekTime - this.WEEK_TIME);
this.rankTitleCenter.string = this.formatRankWeek(this.currSelectWeekTime);
this.rankTitleRight.string = l.default.ins.GET_NEWHALL_LANG("rankLastWeek");
this.btnPre.active = !0;
this.rankTitleLeft.node.active = !0;
} else {
this.rankTitleLeft.string = this.formatRankWeek(this.currSelectWeekTime - this.WEEK_TIME);
this.rankTitleCenter.string = this.formatRankWeek(this.currSelectWeekTime);
this.rankTitleRight.string = this.formatRankWeek(this.currSelectWeekTime + this.WEEK_TIME);
this.btnPre.active = !1;
this.rankTitleLeft.node.active = !1;
}
} else if (this.currRankType == r.month) if (this.currSelectMonthTime == this.currMonthTime) {
this.btnNext.active = !1;
this.rankTitleRight.node.active = !1;
this.rankReward.node.active = !0;
this.btnPre.active = !0;
this.rankTitleLeft.node.active = !0;
this.rankReward.string = l.default.ins.GET_NEWHALL_LANG("lastLoginTime");
this.rankTitleCenter.string = l.default.ins.GET_NEWHALL_LANG("rankThisMonth");
this.rankTitleLeft.string = l.default.ins.GET_NEWHALL_LANG("rankLastMonth");
} else {
this.btnNext.active = !0;
this.rankTitleRight.node.active = !0;
this.rankReward.node.active = !0;
this.rankReward.string = l.default.ins.GET_NEWHALL_LANG("rankReward");
if (this.getTotalMonths(this.currMonthTime) - this.getTotalMonths(this.currSelectMonthTime) == 1) {
this.rankTitleLeft.string = this.formatRankMonth(this.currSelectMonthTime, -1);
this.rankTitleCenter.string = l.default.ins.GET_NEWHALL_LANG("rankLastMonth");
this.rankTitleRight.string = l.default.ins.GET_NEWHALL_LANG("rankThisMonth");
this.btnPre.active = !0;
this.rankTitleLeft.node.active = !0;
} else if (this.getTotalMonths(this.currMonthTime) - this.getTotalMonths(this.currSelectMonthTime) == 2) {
this.rankTitleLeft.string = this.formatRankMonth(this.currSelectMonthTime, -1);
this.rankTitleCenter.string = this.formatRankMonth(this.currSelectMonthTime, 0);
this.rankTitleRight.string = l.default.ins.GET_NEWHALL_LANG("rankLastMonth");
this.btnPre.active = !0;
this.rankTitleLeft.node.active = !0;
} else {
this.rankTitleLeft.string = this.formatRankMonth(this.currSelectMonthTime, -1);
this.rankTitleCenter.string = this.formatRankMonth(this.currSelectMonthTime, 0);
this.rankTitleRight.string = this.formatRankMonth(this.currSelectMonthTime, 1);
this.btnPre.active = !1;
this.rankTitleLeft.node.active = !1;
}
}
};
t.prototype.formatRankWeek = function(e) {
var t = new Date();
t.setTime(1e3 * e);
var o = t.getDay();
0 == o && (o = 7);
return p.default.formatDate2(e - (o - 1) * this.DAY_TIME) + "~" + p.default.formatDate2(e + (7 - o) * this.DAY_TIME);
};
t.prototype.formatRankMonth = function(e, t) {
var o = this.getTotalMonths(e);
console.log("totalMonth", o);
var i = o + t;
console.log("newMonth", i);
var n = Math.floor(i / 12), a = i % 12;
console.log("year", n);
console.log("month", a);
return 0 == a ? n - 1 + ".12" : 13 == a ? n + 1 + ".1" : n + "." + a;
};
t.prototype.getTotalMonths = function(e) {
console.log("monthTimeStr", e);
var t = e.split("_");
return 12 * Number(t[0]) + Number(t[1]);
};
t.prototype.getRankTime = function(e) {
var t = "";
e == s.pre ? this.currRankType == r.day ? t = this.getPreDay(this.currSelectDayTime) : this.currRankType == r.week ? t = this.getPreWeek(this.currSelectWeekTime) : this.currRankType == r.month && (t = this.getPreMonth(this.currSelectMonthTime)) : this.currRankType == r.day ? t = this.getNextDay(this.currSelectDayTime) : this.currRankType == r.week ? t = this.getNextWeek(this.currSelectWeekTime) : this.currRankType == r.month && (t = this.getNextMonth(this.currSelectMonthTime));
return t;
};
t.prototype.getPreMonth = function(e) {
var t = e.split("_"), o = Number(t[0]), i = Number(t[1]);
this.currSelectMonthTime = i > 1 ? o + "_" + (i - 1) : o - 1 + "_12";
return this.currSelectMonthTime;
};
t.prototype.getNextMonth = function(e) {
var t = e.split("_"), o = Number(t[0]), i = Number(t[1]);
this.currSelectMonthTime = i < 12 ? o + "_" + (i + 1) : o + 1 + "_1";
return this.currSelectMonthTime;
};
t.prototype.getPreDay = function(e) {
this.currSelectDayTime = e - this.DAY_TIME;
return this.getCurrFormatDate(this.currSelectDayTime);
};
t.prototype.getNextDay = function(e) {
this.currSelectDayTime = e + this.DAY_TIME;
return this.getCurrFormatDate(this.currSelectDayTime);
};
t.prototype.getPreWeek = function(e) {
this.currSelectWeekTime = e - this.WEEK_TIME;
return this.getCurrFormatWeek(this.currSelectWeekTime);
};
t.prototype.getNextWeek = function(e) {
this.currSelectWeekTime = e + this.WEEK_TIME;
return this.getCurrFormatWeek(this.currSelectWeekTime);
};
t.prototype.getCurrFormatDate = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return t.getFullYear() + p.default.formatSingleTime(t.getMonth() + 1) + p.default.formatSingleTime(t.getDate());
};
t.prototype.getCurrFormatWeek = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return t.getFullYear() + "_" + p.default.getYearWeek(e);
};
t.prototype.getCurrFormatMonth = function(e) {
var t = new Date();
t.setTime(1e3 * e);
return t.getFullYear() + "_" + (t.getMonth() + 1);
};
t.prototype.updateLanguageUI = function() {
var e = this.rootNode.getChildByName("leftChoose");
e.getChildByName("deposit").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("rankBonusTitle");
e.getChildByName("withdraw").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("rankDescTitle");
this.rankID.string = l.default.ins.GET_NEWHALL_LANG("rankTop");
this.rankBetAmount.string = l.default.ins.GET_NEWHALL_LANG("rankBetAmount");
this.rankReward.string = l.default.ins.GET_NEWHALL_LANG("rankReward");
this.btnDayRank.node.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("rankDay");
this.btnWeekRank.node.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("rankWeek");
this.btnMonthRank.node.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string = l.default.ins.GET_NEWHALL_LANG("rankMonth");
p.default.loadSprAtlasFrame(this.rootNode.getChildByName("leftChoose").getChildByName("chip").getChildByName("icon"), h.GameResInfo.CURRENCY_ROOT_DIR + h.GameResInfo.CURRENCY_ICON);
};
t.prototype._initUserInfo = function(e) {
this._labelMyChip.getComponent(cc.Label).string = "" + p.default.cul(e.toFixed(2));
};
t.prototype._updateMyInfo = function() {
p.default.changeLabelNum(this._labelMyChip, d.default.UserData.chip);
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_GET_RANK_LIST":
this.onGetRankList(t);
break;

case "MONEY_UPDATE_EVENT":
this._updateMyInfo();
}
};
t.prototype.onGetRankList = function(e) {
if (e.rankType == this.currRankType) {
this.hideLoading();
this.rootNode.active = !0;
var t = e.rankData;
this.rankListData = [];
for (var o = t.length - 1; o >= 0; o--) this.rankListData.push(t[o]);
this.rankList.numItems = this.rankListData.length;
this.rankListData.length > 0 ? this.noRecordDesc.active = !1 : this.noRecordDesc.active = !0;
this.updateSelfRankInfo(e.selfRank, e.selfBetAmount, e.rankType);
}
};
t.prototype.updateSelfRankInfo = function(e, t, o) {
console.log("self rank = ", e);
if (e <= 3 && e >= 1) {
this.selflabelRank.node.active = !1;
this.selfimageRank.active = !0;
p.default.loadSprAtlasFrame(this.selfimageRank, this.rankIcons[o - 1][e - 1], "plists/rank");
this.selflabelRank.node.setPosition(this.selfRankLabelPositions[o - 1]);
} else if (0 == e) {
this.selflabelRank.node.active = !0;
this.selfimageRank.active = !1;
this.selflabelRank.string = l.default.ins.GET_HALL_LANG("noOnRank");
this.selflabelRank.node.color = this.colorNoRank;
this.selflabelRank.node.y = -16;
} else if (e <= 10) {
this.selflabelRank.node.active = !0;
this.selfimageRank.active = !0;
this.selflabelRank.node.color = this.colorRank;
p.default.loadSprAtlasFrame(this.selfimageRank, this.rankIcons[o - 1][3], "plists/rank");
this.selflabelRank.node.setPosition(this.selfRankLabelPositions[o - 1]);
} else {
this.selflabelRank.node.active = !0;
this.selfimageRank.active = !1;
this.selflabelRank.string = e;
this.selflabelRank.node.y = -16;
this.selflabelRank.node.color = this.colorNoRank;
}
p.default.setHeadPhoto(this.selfimageHead, d.default.UserData.headID);
this.selflabelName.string = d.default.UserData.nickname;
this.selflabelBetAmount.string = p.default.cul(t);
};
t.prototype.onListHistory = function(e, t) {
var o = this.rankListData[t];
if (null != o) {
var i = e.getChildByName("bg"), n = e.getChildByName("imageRank"), a = e.getChildByName("labelRank").getComponent(cc.Label), s = e.getChildByName("imageHead"), c = e.getChildByName("labelName").getComponent(cc.Label), l = e.getChildByName("labelBetAmount").getComponent(cc.Label), d = e.getChildByName("imageRewardBg"), h = e.getChildByName("labelReward").getComponent(cc.Label), u = e.getChildByName("labelTme").getComponent(cc.Label);
if (o.rank <= 3 && o.rank >= 1) {
n.active = !0;
a.node.active = !1;
p.default.loadSprAtlasFrame(i, this.listBgs[o.rank - 1], "plists/rank");
p.default.loadSprAtlasFrame(n, this.rankIcons[this.currRankType - 1][o.rank - 1], "plists/rank");
p.default.loadSprAtlasFrame(d, this.bonusIcons[this.currRankType - 1][o.rank - 1], "plists/rank");
} else {
n.active = !0;
a.node.active = !0;
a.string = o.rank + "";
a.node.setPosition(this.rankLabelPositions[this.currRankType - 1]);
p.default.loadSprAtlasFrame(i, this.listBgs[3], "plists/rank");
p.default.loadSprAtlasFrame(n, this.rankIcons[this.currRankType - 1][3], "plists/rank");
p.default.loadSprAtlasFrame(d, this.bonusIcons[this.currRankType - 1][3], "plists/rank");
}
p.default.setHeadPhoto(s, o.headID);
c.string = o.nickname;
l.string = p.default.cul(o.betAmount.toFixed(0));
h.string = p.default.cul(o.reward);
u.string = p.default.formatDate2(o.lastLoginTime);
if (this.currRankType == r.day) if (this.currSelectDayTime == this.currDayTime) {
h.node.active = !1;
d.active = !1;
u.node.active = !1;
if (t >= 10) {
n.active = !1;
a.node.color = this.colorNoRank;
a.node.y = 0;
} else {
a.node.color = this.colorRank;
a.node.y = this.rankLabelPositions[this.currRankType - 1].y;
}
} else if (t < 10) {
h.node.active = !0;
d.active = !0;
u.node.active = !1;
a.node.color = this.colorRank;
a.node.y = this.rankLabelPositions[this.currRankType - 1].y;
} else {
n.active = !1;
h.node.active = !1;
d.active = !1;
u.node.active = !1;
n.active = !1;
a.node.color = this.colorNoRank;
a.node.y = 0;
} else if (this.currRankType == r.week) if (this.currSelectWeekTime == this.currWeekTime) {
h.node.active = !1;
d.active = !1;
u.node.active = !0;
if (t >= 10) {
n.active = !1;
a.node.color = this.colorNoRank;
a.node.y = 0;
} else {
a.node.color = this.colorRank;
a.node.y = this.rankLabelPositions[this.currRankType - 1].y;
}
} else if (t < 10) {
h.node.active = !0;
d.active = !0;
u.node.active = !1;
a.node.color = this.colorRank;
a.node.y = this.rankLabelPositions[this.currRankType - 1].y;
} else {
n.active = !1;
h.node.active = !1;
d.active = !1;
u.node.active = !1;
n.active = !1;
a.node.color = this.colorNoRank;
a.node.y = 0;
} else if (this.currRankType == r.month) if (this.currSelectMonthTime == this.currMonthTime) {
h.node.active = !1;
d.active = !1;
u.node.active = !0;
if (t >= 10) {
n.active = !1;
a.node.color = this.colorNoRank;
a.node.y = 0;
} else {
a.node.color = this.colorRank;
a.node.y = this.rankLabelPositions[this.currRankType - 1].y;
}
} else if (t < 10) {
h.node.active = !0;
d.active = !0;
u.node.active = !1;
a.node.color = this.colorRank;
a.node.y = this.rankLabelPositions[this.currRankType - 1].y;
} else {
n.active = !1;
h.node.active = !1;
d.active = !1;
u.node.active = !1;
n.active = !1;
a.node.color = this.colorNoRank;
a.node.y = 0;
}
}
};
t.prototype.showPage = function(e) {
switch (e) {
case 1:
this.showCharge();
break;

case 2:
this.showWithdraw();
}
};
t.prototype.onShowCharge = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
this.showCharge();
};
t.prototype.showCharge = function() {
this.currShowIndex = 1;
this.withdrawNode.active = !1;
this.chargeNode.active = !0;
this.imageSideSelectedItem.y = this.btnCharge.y;
this.chargeLabel.color = cc.color(240, 241, 242, 255);
this.withdrawLabel.color = cc.color(150, 183, 233, 255);
this.title.string = l.default.ins.GET_NEWHALL_LANG("rankBonusTitle");
this.requestRankList(r.day, this.getCurrFormatDate(new Date().getTime() / 1e3));
};
t.prototype.onShowWithdraw = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
this.showWithdraw();
};
t.prototype.showWithdraw = function() {
this.currShowIndex = 2;
this.withdrawNode.active = !0;
this.chargeNode.active = !1;
this.imageSideSelectedItem.y = this.btnWithdraw.y;
this.chargeLabel.color = cc.color(150, 183, 233, 255);
this.withdrawLabel.color = cc.color(240, 241, 242, 255);
this.title.string = l.default.ins.GET_NEWHALL_LANG("rankDescTitle");
};
t.prototype.onLine = function() {
u.default.inst.playGameEffect(u.AudioRes.click);
p.default.showFeedback();
};
return a([ _ ], t);
}(f.default);
o.default = C;
cc._RF.pop();
}, {
"../../communication/SocketGameManager": "SocketGameManager",
"../../data/GameLangData": "GameLangData",
"../../data/MyData": "MyData",
"../../data/conf/GameRes": "GameRes",
"../../manager/GameSoundMgr": "GameSoundMgr",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/WindowBase": "WindowBase",
"../../public/ThirdParty/GameSysDefine": "GameSysDefine",
"../../public/ThirdParty/happyList": "happyList"
} ],
ReadIcon: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "106a0JMH/JD2LMV0fhtU/qr", "ReadIcon");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this._loading = this.node;
};
t.prototype.start = function() {};
t.prototype.showAction = function() {
this._loading.active = !0;
this._loading.stopAllActions();
cc.tween(this._loading).repeatForever(cc.tween().by(3, {
angle: -360
})).start();
};
t.prototype.stopAction = function() {
this._loading.stopAllActions();
this._loading.active = !1;
};
return a([ s ], t);
}(cc.Component));
o.default = c;
cc._RF.pop();
}, {} ],
Read: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f920foiFVVPnb60M+Lluw6+", "Read");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this._loading = this.node;
};
t.prototype.start = function() {};
t.prototype.showAction = function() {
this._loading.active = !0;
this._loading.stopAllActions();
cc.tween(this._loading).repeatForever(cc.tween().by(3, {
angle: -360
})).start();
};
t.prototype.stopAction = function() {
this._loading.stopAllActions();
this._loading.active = !1;
};
return a([ s ], t);
}(cc.Component));
o.default = c;
cc._RF.pop();
}, {} ],
ReceUnpackFormat: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c8c34ueI0hIZKd+Xy/Slc2U", "ReceUnpackFormat");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.procBaccaratRoomList = o.procLoginHall = o.DataTypes = void 0;
var i;
o.default = function() {};
(function(e) {
e[e.BYTE = 0] = "BYTE";
e[e.SHORT = 1] = "SHORT";
e[e.INT = 2] = "INT";
e[e.INT64 = 3] = "INT64";
e[e.STRING = 4] = "STRING";
e[e.BINARY = 5] = "BINARY";
e[e.LOOP = 6] = "LOOP";
})(i = o.DataTypes || (o.DataTypes = {}));
o.procLoginHall = function() {
this.retCode = i.SHORT;
this.nickname = i.STRING;
this.country = i.STRING;
this.exp = i.INT;
this.chip = i.INT64;
this.coin = i.INT64;
this.point = i.INT64;
this.vipExp = i.INT64;
this.gameType = i.BYTE;
this.goldType = i.BYTE;
this.roomId = i.SHORT;
};
var n = function() {
function e() {
this.retCode = i.SHORT;
this.goldType = i.BYTE;
this.allSize = i.SHORT;
this.size1 = i.SHORT;
this.roomList = i.LOOP;
this.roomArr = cc.js.createMap();
}
e.prototype.lopp1 = function() {
for (var e = 0; e < this.size1; e++) {
this.roomArr.roomId = i.SHORT;
this.roomArr.smallBlind = i.INT;
this.roomArr.userCount = i.SHORT;
this.roomArr.maxCount = i.SHORT;
this.roomArr.maxCount = i.SHORT;
}
};
return e;
}();
o.procBaccaratRoomList = n;
cc._RF.pop();
}, {} ],
RecordChat: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b0afbde+3ZLdpGr1Q+ULUVK", "RecordChat");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../UIFrame/List"), s = cc._decorator, c = s.ccclass, l = (s.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._colorInfo = {
nameColor1: "<color=#31C3FF>",
nameColor2: "<color=#FDAE2D>",
msgColor: "<color=#F0F1F2>"
};
return t;
}
t.prototype.onLoad = function() {
this._recordInfo = [];
this._recordList = this.node.getChildByName("recordNode").getComponent(r.default);
};
Object.defineProperty(t.prototype, "recordInfo", {
set: function(e) {
this._recordInfo = e;
this._recordList.numItems = this._recordInfo.length;
},
enumerable: !1,
configurable: !0
});
t.prototype.creatorRecordItem = function(e, t) {
var o = new cc.Node();
o.addComponent(cc.Label);
o.getComponent(cc.Label).fontSize = 30;
o.getComponent(cc.Label).lineHeight = 35;
o.getComponent(cc.Label).overflow = cc.Label.Overflow.RESIZE_HEIGHT;
o.width = 401;
var i = this._recordInfo[t];
o.getComponent(cc.Label).string = i.nickname + ":" + i.msg;
o.getComponent(cc.Label)._forceUpdateRenderData(!0);
var n = o.height, a = e.getChildByName("recordLabel");
e.height = n - 44 + 96.1;
a.height = a.height + n - 44;
a.getComponent(cc.RichText).string = this._colorInfo.nameColor1 + i.nickname + ":</c>" + this._colorInfo.msgColor + i.msg + "</color>";
e.on("click", function() {
console.log("", i.userId);
});
};
return a([ c ], t);
}(cc.Component));
o.default = l;
cc._RF.pop();
}, {
"../../UIFrame/List": "List"
} ],
RedBagData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "cd4309AladEVbgh6WACgU+l", "RedBagData");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.default = function() {
this.isReceived = 0;
};
cc._RF.pop();
}, {} ],
RedNotificaData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4544cEWUEpHYLmQAR9FqcjF", "RedNotificaData");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.RedTipsName = void 0;
var i = e("../Components/MyEvent"), n = e("../Util/GameUtil");
(function(e) {
e.task = "task";
e.friend = "friend";
e.mail = "mail";
e.activity = "activity_FileName";
e.customer = "customer";
e.transfer = "transfer";
e.rebate = "rebate";
e.invite = "invite";
})(o.RedTipsName || (o.RedTipsName = {}));
var a = function() {
function e() {
this._redData = {};
}
e.prototype.pushRedData = function(e, t) {
var o = this;
e.forEach(function(e) {
o._redData[e.postion] || (o._redData[e.postion] = 0);
if (0 == t) {
o._redData[e.postion] -= e.count;
o._redData[e.postion] < 0 && (o._redData[e.postion] = 0);
} else o._redData[e.postion] += e.count;
});
console.log("", this._redData);
i.MyEvent.getInstance().emit("UPDATE_GAME_RED_NOTIFICA");
};
e.prototype.toNameGetRedData = function(e) {
var t = this._redData[e];
n.default.isnull(t) || (t = 0);
return t;
};
e.prototype.clearRedData = function(e) {
this._redData[e] && (this._redData[e] = 0);
};
e.prototype.getHallActiveRedData = function() {
var e = 0;
for (var t in this._redData) t.indexOf("activity") >= 0 && (e += this._redData[t]);
return e;
};
Object.defineProperty(e, "ins", {
get: function() {
this._inst || (this._inst = new e());
return this._inst;
},
enumerable: !1,
configurable: !0
});
return e;
}();
o.default = a;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Util/GameUtil": "GameUtil"
} ],
RegestDialog: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c4fdcYeifRMMKS5uZlGAIZJ", "RegestDialog");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../PublicTools/DialogRoot"), s = e("../GameFireData/GameDataInfo"), c = e("../GameHttpTools/HttpTools"), l = e("../GameCores/DialogLogic"), d = e("../GameCommon/NVSGameUtil"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._btnClose = null;
t._btnGetVCode = null;
t._btnNext = null;
t._editBoxNickName = null;
t._editBoxPhoneNumber = null;
t._editBoxPassword = null;
t._editBoxVCode = null;
t._labelAreaCode = null;
t._labelVCode = null;
t._tickCount = 0;
t._ereaCode = "";
return t;
}
t.prototype.onLoad = function() {
this._btnClose = this.node.getChildByName("cloneBtn");
this._btnGetVCode = this.node.getChildByName("verifyCodeBtn");
this._btnNext = this.node.getChildByName("nextBtn");
this._editBoxNickName = this.node.getChildByName("inputNickname").getComponent(cc.EditBox);
this._editBoxPhoneNumber = this.node.getChildByName("inputPhontNumber").getComponent(cc.EditBox);
this._editBoxPassword = this.node.getChildByName("inputPassword").getComponent(cc.EditBox);
this._editBoxVCode = this.node.getChildByName("inputVerifyCode").getComponent(cc.EditBox);
this._labelAreaCode = this.node.getChildByName("labelEreaCode").getComponent(cc.Label);
this._labelVCode = this._btnGetVCode.getChildByName("label").getComponent(cc.Label);
this._btnList = [ this._btnClose, this._btnGetVCode, this._btnNext ];
};
t.prototype.start = function() {
e.prototype.start.call(this);
this._ereaCode = "852";
this._labelAreaCode.string = "+" + this._ereaCode;
this.register("REGISTER", [ "SELECT_DISTRICT", "REGISTER_SUCCESS", "ON_SAVE_FILE" ]);
};
t.prototype.handleAppEvent = function(e) {
e.arg;
switch (e.key) {
case "REGISTER_SUCCESS":
this._onRegisterSuccess();
break;

case "ON_SHOW_KEY_BOARD":
break;

case "ON_HIDE_KEY_BOARD":
d.default.resetScenePosition();
}
};
t.prototype.onBtnClick = function(t) {
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "nextBtn":
this._onNext();
break;

case "cloneBtn":
this._onClose();
break;

case "verifyCodeBtn":
this._onGetVCode();
}
};
t.prototype._onClose = function() {
this.unschedule(this._onVcodeTick);
this.onClose();
};
t.prototype._onNext = function() {
var e = this._editBoxNickName.string, t = this._ereaCode, o = this._editBoxPhoneNumber.string, i = this._editBoxPassword.string, n = this._editBoxVCode.string;
0 != d.default.isUserName(e) ? 0 != d.default.isPhoneNumber(o) ? 0 != d.default.isPassword(i) ? c.default.getInstance().registerByTelephone(1, t, o, i, n, e, "") : d.default.alert("Invalid Password") : d.default.alert("Invalid Phone Number") : d.default.alert("Invalid Nick");
};
t.prototype._onRegisterSuccess = function() {
if (null != this._editBoxPhoneNumber) {
var e = this._ereaCode, t = this._editBoxPhoneNumber.string, o = this._editBoxPassword.string;
s.default.currPlatType = s.PlatformType.telephoneWithPassword;
var i = {};
i.ptype = s.PlatformType.telephoneWithPassword;
i.devId = s.default.devId;
i.areaCode = e;
i.telephone = t;
i.password = o;
l.default.inst.showFullView(l.FullViewIndex.gameLoading, i);
}
};
t.prototype._onGetVCode = function() {
var e = this._ereaCode, t = this._editBoxPhoneNumber.string;
if ("" != t) {
this._btnGetVCode.getComponent(cc.Button).enabled = !1;
this._btnGetVCode.opacity = 155;
c.default.getInstance().getVcode(e, t, 1);
this._tickCount = 60;
this._labelVCode.string = "" + this._tickCount;
this.schedule(this._onVcodeTick, 1);
} else d.default.alert("Input Phone Number");
};
t.prototype._onVcodeTick = function() {
if (this._tickCount > 0) {
this._tickCount--;
this._labelVCode.string = "Left" + this._tickCount + "S";
} else {
this._btnGetVCode.getComponent(cc.Button).enabled = !0;
this._btnGetVCode.opacity = 255;
this._labelVCode.string = "Get VCode";
this.unschedule(this._onVcodeTick);
}
};
return a([ u ], t);
}(r.default));
o.default = p;
cc._RF.pop();
}, {
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../GameCores/DialogLogic": "DialogLogic",
"../GameFireData/GameDataInfo": "GameDataInfo",
"../GameHttpTools/HttpTools": "HttpTools",
"../PublicTools/DialogRoot": "DialogRoot"
} ],
RepairNetWork: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "aa59cRVkd5ODL0fT4oELGDQ", "RepairNetWork");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.NetworRepiarer = void 0;
var n = e("./NetWorkAll"), a = cc._decorator, r = a.ccclass, s = (a.property, function() {
function e() {
this.scheduler = null;
this.timeoutTimes = 0;
}
t = e;
e.prototype.init = function() {
this.scheduler = cc.director.getScheduler();
this.scheduler.enableForTarget(this);
this.scheduler.unscheduleAllForTarget(this);
};
e.prototype.onEnterBackground = function() {
console.log("onEnterBackground");
};
e.prototype.onEnterForground = function() {
console.log("onEnterForground");
};
e.prototype.onHeartBeatTimeOut = function() {
console.log("onHeartBeatTimeOut");
n.default.getInstance().readyState;
this.timeoutTimes++;
};
e.prototype.reset = function() {
this.timeoutTimes = 0;
};
e.prototype.end = function() {
this.reset();
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ r ], e);
}());
o.NetworRepiarer = s;
cc._RF.pop();
}, {
"./NetWorkAll": "NetWorkAll"
} ],
ReportGameEvent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "07dbbKzVo9C5ZubIIJdJVX9", "ReportGameEvent");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.ReportEventType = void 0;
var n = cc._decorator, a = n.ccclass, r = (n.property, function() {
function e() {}
e.record = function() {};
e.newRecord = function(e, t, o) {
console.log("Log event , eventID = ", e);
var i = {};
i.action = e;
if (null != t && null != o) {
i[t] = o;
console.log("key = ", t);
console.log("value = ", o);
}
};
e.recordWithParam = function(e, t, o, i, n) {
console.log("Log event , eventID = ", e);
var a = {};
a.action = e;
a[t] = o;
a[i] = n;
};
e.startRecordTime = function() {};
e.endRecordTime = function() {};
e.timeRecorder = {};
return i([ a ], e);
}());
o.default = r;
(function(e) {
e[e.acceptPush = 1] = "acceptPush";
e[e.acceptADFollow = 2] = "acceptADFollow";
e[e.loadingProgress = 3] = "loadingProgress";
e[e.hostIP = 4] = "hostIP";
e[e.enterHallTime = 7] = "enterHallTime";
e[e.dailyReward = 8] = "dailyReward";
e[e.firstCharge = 9] = "firstCharge";
e[e.hallGuideTime = 10] = "hallGuideTime";
e[e.reconnectBack = 11] = "reconnectBack";
e[e.networkWeak = 12] = "networkWeak";
e[e.networkClose = 13] = "networkClose";
e[e.networkCloseTips = 14] = "networkCloseTips";
e[e.networkDelay = 15] = "networkDelay";
e[e.socketLoginFailed = 16] = "socketLoginFailed";
e[e.paymentFailed = 17] = "paymentFailed";
e[e.tutorialsStep = 18] = "tutorialsStep";
e[e.tutorials = 19] = "tutorials";
e[e.enterHall = 20] = "enterHall";
e[e.enterRoom = 21] = "enterRoom";
e[e.hallBaccarat = 24] = "hallBaccarat";
e[e.hallBlackjack = 25] = "hallBlackjack";
e[e.hallTexasPoker = 26] = "hallTexasPoker";
e[e.hallLucky3 = 27] = "hallLucky3";
e[e.hallBJRoomFree = 28] = "hallBJRoomFree";
e[e.hallBJRoomClassic = 29] = "hallBJRoomClassic";
e[e.hallBJRoom7s = 30] = "hallBJRoom7s";
e[e.hallRoomHelp = 31] = "hallRoomHelp";
e[e.hallRoomQuickStart = 32] = "hallRoomQuickStart";
e[e.hallRoomBack = 33] = "hallRoomBack";
e[e.hallBaccaratHnd = 34] = "hallBaccaratHnd";
e[e.roomListClick = 35] = "roomListClick";
e[e.logOutClick = 36] = "logOutClick";
e[e.shopClick = 101] = "shopClick";
e[e.exchangeClick = 102] = "exchangeClick";
e[e.friendClick = 103] = "friendClick";
e[e.inviteClick = 104] = "inviteClick";
e[e.communityClick = 105] = "communityClick";
e[e.facebookClick = 106] = "facebookClick";
e[e.chatClick = 107] = "chatClick";
e[e.taskClick = 108] = "taskClick";
e[e.rankClick = 109] = "rankClick";
e[e.headPhotoClick = 110] = "headPhotoClick";
e[e.firstChargeClick = 111] = "firstChargeClick";
e[e.mailClick = 112] = "mailClick";
e[e.settingsClick = 113] = "settingsClick";
e[e.chargeClick = 200] = "chargeClick";
e[e.withdrawClick = 201] = "withdrawClick";
e[e.agentClick = 202] = "agentClick";
e[e.safeboxClick = 203] = "safeboxClick";
e[e.kickbackClick = 204] = "kickbackClick";
e[e.bounsClick = 205] = "bounsClick";
e[e.clickGame = 206] = "clickGame";
e[e.googleStartRequestMoney = 207] = "googleStartRequestMoney";
e[e.googleRequestMoney = 208] = "googleRequestMoney";
e[e.googleQuery = 209] = "googleQuery";
e[e.googleConusme = 210] = "googleConusme";
e[e.loginGuest = 250] = "loginGuest";
e[e.loginGoogle = 251] = "loginGoogle";
e[e.loginPhone = 252] = "loginPhone";
e[e.loginFeedback = 253] = "loginFeedback";
e[e.regRequest = 254] = "regRequest";
e[e.showGetVCode = 255] = "showGetVCode";
e[e.getVCode = 256] = "getVCode";
e[e.webGameStartLaunch = 300] = "webGameStartLaunch";
e[e.webGameStartLoad = 301] = "webGameStartLoad";
e[e.webGameStartLoadComplete = 302] = "webGameStartLoadComplete";
e[e.webGameLoadError = 303] = "webGameLoadError";
e[e.webGameClickBack = 304] = "webGameClickBack";
e[e.openWithUriScheme = 400] = "openWithUriScheme";
e[e.thirdGameStart = 401] = "thirdGameStart";
e[e.thirdGameReport = 402] = "thirdGameReport";
e[e.thirdGameEnd = 403] = "thirdGameEnd";
})(o.ReportEventType || (o.ReportEventType = {}));
cc._RF.pop();
}, {} ],
ReportNetWork: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "144b9xP14dEVL/9wCw/Vl7x", "ReportNetWork");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.NetworkReporter = void 0;
var n = e("../GameFireData/GameDataInfo"), a = e("../GameCores/GameRecorder"), r = e("./NetWorkAll"), s = e("../EXUIFrame/EXCocosHelper"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function() {
function e() {
this.NETWORK_CHECK_INTERVAL = 1;
this.NETWORK_REPORT_INTERVAL = 60;
this.secondCounter = 0;
this.delayInfoList = "";
this.delayInfo = {};
this.sendCheckTime = 0;
this.enabled = 1;
this.scheduler = null;
}
t = e;
e.prototype.setEnabled = function(e) {
this.enabled = e;
};
e.prototype.start = function() {
if (1 == this.enabled) {
this.secondCounter = 0;
this.delayInfoList = "";
this.scheduler = cc.director.getScheduler();
this.scheduler.enableForTarget(this);
this.scheduler.unscheduleAllForTarget(this);
this.scheduler.schedule(this.excuteCheck, this, 1, 0, 1, !1);
}
};
e.prototype.excuteCheck = function() {
if (this.secondCounter < this.NETWORK_REPORT_INTERVAL) {
var e = Date.now();
this.sendCheckTime = e % 1e5;
this.delayInfo = {};
this.delayInfo[this.sendCheckTime] = 0;
r.default.getInstance().socketSend.sendNetCheck(this.sendCheckTime);
this.scheduler.schedule(this.checkResponse, this, 1, 0, this.NETWORK_CHECK_INTERVAL, !1);
this.secondCounter++;
} else this.reportNetworkDelay();
};
e.prototype.checkResponse = function() {
if (0 == this.delayInfo[this.sendCheckTime]) {
this.delayInfo = {};
this.delayInfoList = this.delayInfoList + "0|";
}
this.scheduler.schedule(this.excuteCheck, this, 1, 0, .1, !1);
};
e.prototype.process = function(e) {
if (1 == this.enabled && 0 == this.delayInfo[e]) {
var t = Date.now() % 1e5 - this.sendCheckTime;
this.delayInfo[e] = t;
this.delayInfoList = this.delayInfoList + t + "|";
}
};
e.prototype.reportNetworkDelay = function() {
var e = this;
if (1 == this.enabled && "" != this.delayInfoList) {
console.log("delay info", this.delayInfoList);
s.default.sleepSync(.1).then(function() {
console.log("report network", n.default.networkEnvironment);
a.default.record(a.EventID.networkDelay, "delay", e.delayInfoList + n.default.networkEnvironment);
e.stop();
});
}
};
e.prototype.stop = function() {
if (1 == this.enabled) {
cc.director.getScheduler().unscheduleAllForTarget(this);
this.secondCounter = 0;
this.delayInfoList = "";
this.delayInfo = {};
}
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ l ], e);
}());
o.NetworkReporter = d;
cc._RF.pop();
}, {
"../EXUIFrame/EXCocosHelper": "EXCocosHelper",
"../GameCores/GameRecorder": "GameRecorder",
"../GameFireData/GameDataInfo": "GameDataInfo",
"./NetWorkAll": "NetWorkAll"
} ],
ResGameMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3b037b6rzJGRbZ2p7Nx9qZ4", "ResGameMgr");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = function() {
function e() {
this.loadBundles = {};
this.curLoadBundleName = null;
this.uiMaps = cc.js.createMap();
this.curBundle = null;
this.loadBundles.resources = cc.resources;
}
e.ins = function() {
this.instance || (this.instance = new e());
return this.instance;
};
e.prototype.preloadGameUI = function(e, t, o, a) {
return i(this, void 0, void 0, function() {
var i;
return n(this, function(n) {
switch (n.label) {
case 0:
if (this.uiMaps[e]) {
o && o(1, 1);
a && a();
return [ 2 ];
}
return [ 4, this.getGameBundle(t) ];

case 1:
i = n.sent();
return [ 4, this.load(i, e, o, a) ];

case 2:
n.sent();
return [ 2 ];
}
});
});
};
e.prototype.load = function(e, t, o, a) {
return i(this, void 0, void 0, function() {
var i = this;
return n(this, function() {
return [ 2, new Promise(function(n, r) {
e.load(t, o, function(e, o) {
if (e) r(); else {
i.uiMaps[t] = o;
a && a();
}
});
}) ];
});
});
};
e.prototype.loadGameUI = function(e, t, o) {
return i(this, void 0, void 0, function() {
var i, a = this;
return n(this, function(n) {
switch (n.label) {
case 0:
t = t || "resources";
return this.uiMaps[e] ? [ 2, cc.instantiate(this.uiMaps[e]) ] : [ 4, this.getGameBundle(t) ];

case 1:
i = n.sent();
return [ 2, new Promise(function(t) {
i.load(e, cc.Prefab, function(i, n) {
if (i) cc.error(i); else {
a.uiMaps[e] = n;
t(cc.instantiate(n));
o && o();
}
});
}) ];
}
});
});
};
e.prototype.testLoadUI = function(e, t) {
t = t || "resources";
if (this.uiMaps[e]) return cc.instantiate(this.uiMaps[e]);
cc.resources.load(e, function(e, t) {
return cc.instantiate(t);
});
};
e.prototype.getGameBundle = function(e) {
return i(this, void 0, void 0, function() {
var t, o = this;
return n(this, function() {
t = this;
return [ 2, new Promise(function(i, n) {
var a = t.loadBundles[e];
a ? i(a) : cc.assetManager.loadBundle(e, function(t, o) {
if (t) n(null); else {
i(o);
this.loadBundles[e] = o;
}
}.bind(o));
}) ];
});
});
};
e.prototype.loadGameRemote = function(e, t) {
return i(this, void 0, void 0, function() {
return n(this, function() {
return [ 2, new Promise(function(e) {
cc.assetManager.loadRemote(t, {
cacheEnabled: !0
}, function(o, i) {
if (i) e(i); else {
cc.error(t + " []  " + o);
e(null);
}
return i;
});
}) ];
});
});
};
e.prototype.releaseAsset = function(e) {
cc.assetManager.releaseAsset(e);
cc.log("texture ");
};
e.prototype.loadGameImg = function(e, t) {
return i(this, void 0, void 0, function() {
var o;
return n(this, function(i) {
switch (i.label) {
case 0:
return [ 4, this.getGameBundle("hall") ];

case 1:
o = i.sent();
return [ 2, new Promise(function(i) {
o.load(e, cc.SpriteFrame, function(e, o) {
t && t(o);
i(null);
});
}) ];
}
});
});
};
e.prototype.loadHead = function() {};
e.prototype.loadLocalHead = function() {};
e.prototype.loadRemoteHead = function() {};
e.instance = null;
e.LOAD_UI_PROGRESS = "LOAD_UI_PROGRESS";
e.modules = {
resources: "resources",
update: "update",
game: "game",
hall: "hall"
};
return e;
}();
o.default = a;
cc._RF.pop();
}, {} ],
ResLoadMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "18f43YlnsRCmbqENrruhGcQ", "ResLoadMgr");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("./CocosPublic"), r = e("./EventHpCenter"), s = function() {
function e() {
this.staticDepends = cc.js.createMap();
this.dynamicDepends = cc.js.createMap();
this.tempSticDepends = [];
this._stubRes = {};
}
Object.defineProperty(e, "inst", {
get: function() {
null === this.instance && (this.instance = new e());
return this.instance;
},
enumerable: !1,
configurable: !0
});
e.prototype.loadDynamicRes = function(e, t, o) {
return i(this, void 0, void 0, function() {
var i;
return n(this, function(n) {
switch (n.label) {
case 0:
return [ 4, a.default.loadResSync(e, t) ];

case 1:
i = n.sent();
o || (o = e);
this.dynamicDepends[o] || (this.dynamicDepends[o] = []);
this.dynamicDepends[o].push(e);
return [ 2, i ];
}
});
});
};
e.prototype.addStub = function(e, t) {
var o = this._stubRes[t.name];
o || (o = this._stubRes[t.name] = {});
o[e.name] = e;
};
e.prototype.getStubRes = function(e, t) {
var o = this._stubRes[t.name];
return o ? o[e] : null;
};
e.prototype._addTmpStaticDepends = function(e, t, o) {
this.tempSticDepends[this.tempSticDepends.length] = o.url;
this.staticDepends[o.url] ? this.staticDepends[o.url]++ : this.staticDepends[o.url] = 1;
};
e.prototype._clearTmpStaticDepends = function() {
for (var e = 0, t = this.tempSticDepends; e < t.length; e++) {
var o = t[e];
if (this.staticDepends[o] && 0 !== this.staticDepends[o]) {
this.staticDepends[o]--;
0 === this.staticDepends[o] && delete this.staticDepends[o];
}
}
this.tempSticDepends = [];
};
e.prototype.loadForm = function(e) {
return i(this, void 0, void 0, function() {
var t, o;
return n(this, function(i) {
switch (i.label) {
case 0:
return [ 4, a.default.loadResSync(e, cc.Prefab, this._addTmpStaticDepends.bind(this)) ];

case 1:
t = i.sent();
this._clearTmpStaticDepends();
o = cc.loader.getDependsRecursively(e);
this.addStaticDepends(o);
return [ 2, t ];
}
});
});
};
e.prototype.loadAbForm = function(e, t) {
return i(this, void 0, void 0, function() {
return n(this, function(o) {
switch (o.label) {
case 0:
return [ 4, a.default.loadBundleRes(e, t, cc.Prefab) ];

case 1:
return [ 2, o.sent() ];
}
});
});
};
e.prototype.destoryForm = function(e) {
if (e) {
r.EventHpCenter.targetOff(e);
var t = cc.loader.getDependsRecursively(e.uid);
this.removeStaticDepends(t);
e.node.destroy();
} else cc.log("UIBase!");
};
e.prototype.addStaticDepends = function(e) {
for (var t = 0, o = e; t < o.length; t++) {
var i = o[t];
this.staticDepends[i] ? this.staticDepends[i] += 1 : this.staticDepends[i] = 1;
}
};
e.prototype.removeStaticDepends = function(e) {
for (var t = 0, o = e; t < o.length; t++) {
var i = o[t];
if (this.staticDepends[i] && 0 !== this.staticDepends[i]) {
this.staticDepends[i]--;
if (0 === this.staticDepends[i]) {
cc.loader.release(i);
delete this.staticDepends[i];
}
}
}
};
e.prototype.destoryDynamicRes = function(e) {
if (!this.dynamicDepends[e]) return !1;
for (var t in this.dynamicDepends) cc.loader.release(this.dynamicDepends[t]);
return !0;
};
e.instance = null;
return e;
}();
o.default = s;
cc._RF.pop();
}, {
"./CocosPublic": "CocosPublic",
"./EventHpCenter": "EventHpCenter"
} ],
ResMgrs: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5e681ETksFEv4B2Su8JwE18", "ResMgrs");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("./CocosHelper"), r = e("./EventCenter"), s = function() {
function e() {
this.staticDepends = cc.js.createMap();
this.dynamicDepends = cc.js.createMap();
this.tmpStaticDepends = [];
this._stubRes = {};
}
Object.defineProperty(e, "inst", {
get: function() {
null === this.instance && (this.instance = new e());
return this.instance;
},
enumerable: !1,
configurable: !0
});
e.prototype.addStub = function(e, t) {
var o = this._stubRes[t.name];
o || (o = this._stubRes[t.name] = {});
o[e.name] = e;
};
e.prototype.getStubRes = function(e, t) {
var o = this._stubRes[t.name];
return o ? o[e] : null;
};
e.prototype._addTmpStaticDepends = function(e, t, o) {
this.tmpStaticDepends[this.tmpStaticDepends.length] = o.url;
this.staticDepends[o.url] ? this.staticDepends[o.url]++ : this.staticDepends[o.url] = 1;
};
e.prototype._clearTmpStaticDepends = function() {
for (var e = 0, t = this.tmpStaticDepends; e < t.length; e++) {
var o = t[e];
if (this.staticDepends[o] && 0 !== this.staticDepends[o]) {
this.staticDepends[o]--;
0 === this.staticDepends[o] && delete this.staticDepends[o];
}
}
this.tmpStaticDepends = [];
};
e.prototype.loadForm = function(e) {
return i(this, void 0, void 0, function() {
var t, o;
return n(this, function(i) {
switch (i.label) {
case 0:
return [ 4, a.default.loadResSync(e, cc.Prefab, this._addTmpStaticDepends.bind(this)) ];

case 1:
t = i.sent();
this._clearTmpStaticDepends();
o = cc.loader.getDependsRecursively(e);
this.addStaticDepends(o);
return [ 2, t ];
}
});
});
};
e.prototype.loadAbForm = function(e, t) {
return i(this, void 0, void 0, function() {
return n(this, function(o) {
switch (o.label) {
case 0:
return [ 4, a.default.loadBundleRes(e, t, cc.Prefab) ];

case 1:
return [ 2, o.sent() ];
}
});
});
};
e.prototype.destoryForm = function(e) {
if (e) {
r.EventCenter.targetOff(e);
var t = cc.loader.getDependsRecursively(e.uid);
this.removeStaticDepends(t);
e.node.destroy();
} else cc.log("UIBase!");
};
e.prototype.addStaticDepends = function(e) {
for (var t = 0, o = e; t < o.length; t++) {
var i = o[t];
this.staticDepends[i] ? this.staticDepends[i] += 1 : this.staticDepends[i] = 1;
}
};
e.prototype.removeStaticDepends = function(e) {
for (var t = 0, o = e; t < o.length; t++) {
var i = o[t];
if (this.staticDepends[i] && 0 !== this.staticDepends[i]) {
this.staticDepends[i]--;
if (0 === this.staticDepends[i]) {
cc.loader.release(i);
delete this.staticDepends[i];
}
}
}
};
e.prototype.loadDynamicRes = function(e, t, o) {
return i(this, void 0, void 0, function() {
var i;
return n(this, function(n) {
switch (n.label) {
case 0:
return [ 4, a.default.loadResSync(e, t) ];

case 1:
i = n.sent();
o || (o = e);
this.dynamicDepends[o] || (this.dynamicDepends[o] = []);
this.dynamicDepends[o].push(e);
return [ 2, i ];
}
});
});
};
e.prototype.destoryDynamicRes = function(e) {
if (!this.dynamicDepends[e]) return !1;
for (var t in this.dynamicDepends) cc.loader.release(this.dynamicDepends[t]);
return !0;
};
e.instance = null;
return e;
}();
o.default = s;
cc._RF.pop();
}, {
"./CocosHelper": "CocosHelper",
"./EventCenter": "EventCenter"
} ],
ResMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "17352+2j+xGdbpGMckbnYFf", "ResMgr");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = function() {
function e() {
this.loadBundles = {};
this.curLoadBundleName = null;
this.uiMaps = cc.js.createMap();
this.curBundle = null;
this.loadBundles.resources = cc.resources;
}
e.getInstance = function() {
this.instance || (this.instance = new e());
return this.instance;
};
e.prototype.preloadUI = function(e, t, o, a) {
return i(this, void 0, void 0, function() {
var i;
return n(this, function(n) {
switch (n.label) {
case 0:
if (this.uiMaps[e]) {
o && o(1, 1);
a && a();
return [ 2 ];
}
return [ 4, this.getBundle(t) ];

case 1:
i = n.sent();
return [ 4, this.load(i, e, o, a) ];

case 2:
n.sent();
return [ 2 ];
}
});
});
};
e.prototype.load = function(e, t, o, a) {
return i(this, void 0, void 0, function() {
var i = this;
return n(this, function() {
return [ 2, new Promise(function(n, r) {
e.load(t, o, function(e, o) {
if (e) r(); else {
i.uiMaps[t] = o;
a && a();
}
});
}) ];
});
});
};
e.prototype.loadUI = function(e, t, o) {
return i(this, void 0, void 0, function() {
var i, a = this;
return n(this, function(n) {
switch (n.label) {
case 0:
t = t || "resources";
return this.uiMaps[e] ? [ 2, cc.instantiate(this.uiMaps[e]) ] : [ 4, this.getBundle(t) ];

case 1:
i = n.sent();
return [ 2, new Promise(function(t) {
i.load(e, cc.Prefab, function(i, n) {
if (i) cc.error(i); else {
a.uiMaps[e] = n;
t(cc.instantiate(n));
o && o();
}
});
}) ];
}
});
});
};
e.prototype.testLoadUI = function(e, t) {
t = t || "resources";
if (this.uiMaps[e]) return cc.instantiate(this.uiMaps[e]);
cc.resources.load(e, function(e, t) {
return cc.instantiate(t);
});
};
e.prototype.getBundle = function(e) {
return i(this, void 0, void 0, function() {
var t, o = this;
return n(this, function() {
t = this;
return [ 2, new Promise(function(i, n) {
var a = t.loadBundles[e];
a ? i(a) : cc.assetManager.loadBundle(e, function(t, o) {
if (t) n(null); else {
i(o);
this.loadBundles[e] = o;
}
}.bind(o));
}) ];
});
});
};
e.prototype.loadRemote = function(e, t) {
return i(this, void 0, void 0, function() {
return n(this, function() {
return [ 2, new Promise(function(e) {
cc.assetManager.loadRemote(t, {
cacheEnabled: !0
}, function(o, i) {
if (i) e(i); else {
cc.error(t + " []  " + o);
e(null);
}
return i;
});
}) ];
});
});
};
e.prototype.releaseAsset = function(e) {
cc.assetManager.releaseAsset(e);
cc.log("texture ");
};
e.prototype.loadGameImg = function(e, t) {
return i(this, void 0, void 0, function() {
var o;
return n(this, function(i) {
switch (i.label) {
case 0:
return [ 4, this.getBundle("hall") ];

case 1:
o = i.sent();
return [ 2, new Promise(function(i) {
o.load(e, cc.SpriteFrame, function(e, o) {
t && t(o);
i(null);
});
}) ];
}
});
});
};
e.prototype.loadHead = function() {};
e.prototype.loadLocalHead = function() {};
e.prototype.loadRemoteHead = function() {};
e.instance = null;
e.LOAD_UI_PROGRESS = "LOAD_UI_PROGRESS";
e.modules = {
resources: "resources",
update: "update",
game: "game",
hall: "hall"
};
return e;
}();
o.default = a;
cc._RF.pop();
}, {} ],
ResourceLoader: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f5f68XsxMNB457MPOtgvEJo", "ResourceLoader");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("../FireData/CommonData"), a = e("../GameNetWork/NetWorkAll"), r = e("../GameCommon/NVSGameUtil"), s = cc._decorator, c = s.ccclass, l = (s.property, 
function() {
function e() {}
e.preLoadHall = function() {
a.default.getInstance().socketSend.getRedNotification();
a.default.getInstance().socketSend.getBildList();
var e = Number(r.default.readData(n.default.storageData.TimeStamp));
e || (e = 0);
this.getPhpInterface();
};
e.getPhpInterface = function() {};
e.changeLanguage = function(e) {
1 == e && a.default.getInstance().socketSend.getDailyTaskConfig(0);
};
e.preLoadHallPHP = function() {
var e = n.default.UserData.coinFeedback;
a.default.getInstance().socketSend.setSetUp(1, "us", "en", "en", e);
};
e.preLoadActivity = function(e) {
console.log("download activity image 2222");
if (null != e) {
console.log("download activity image 333");
for (var t = function(t) {
var i = e[t], n = i.bgImage.url, a = i.closeImage.url, r = i.btnImage.url;
console.log("download activity image 111");
cc.loader.load(n, function(e) {
e ? console.log("load activity image failed", n) : console.log("load activity image success", n);
}.bind(o));
cc.loader.load(a, function(e) {
e ? console.log("load activity image failed", a) : console.log("load activity image success", a);
}.bind(o));
cc.loader.load(r, function(e) {
e ? console.log("load activity image failed", r) : console.log("load activity image success", r);
}.bind(o));
}, o = this, i = 0; i < e.length; i++) t(i);
}
};
e.preLoadNewActivity = function(e) {
console.log("download activity image 2222");
if (null != e) {
console.log("download activity image 333");
for (var t = function(t) {
var i = e[t].imageUrl;
cc.loader.load(i, function(e) {
e ? console.log("load activity image failed", i) : console.log("load activity image success", i);
}.bind(o));
}, o = this, i = 0; i < e.length; i++) t(i);
}
};
return i([ c ], e);
}());
o.default = l;
cc._RF.pop();
}, {
"../FireData/CommonData": "CommonData",
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../GameNetWork/NetWorkAll": "NetWorkAll"
} ],
ResourceManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1a99fuOrBBCW6uIBKoBgBDq", "ResourceManager");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = function() {
function e() {
this.loadBundles = {};
this.curLoadBundleName = null;
this.uiMaps = cc.js.createMap();
this.curBundle = null;
this.loadBundles.resources = cc.resources;
}
e.getInstance = function() {
this.instance || (this.instance = new e());
return this.instance;
};
e.prototype.preloadUI = function(e, t, o, a) {
return i(this, void 0, void 0, function() {
var i;
return n(this, function(n) {
switch (n.label) {
case 0:
if (this.uiMaps[e]) {
o && o(1, 1);
a && a();
return [ 2 ];
}
return [ 4, this.getBundle(t) ];

case 1:
i = n.sent();
return [ 4, this.load(i, e, o, a) ];

case 2:
n.sent();
return [ 2 ];
}
});
});
};
e.prototype.load = function(e, t, o, a) {
return i(this, void 0, void 0, function() {
var i = this;
return n(this, function() {
return [ 2, new Promise(function(n, r) {
e.load(t, o, function(e, o) {
if (e) r(); else {
i.uiMaps[t] = o;
a && a();
}
});
}) ];
});
});
};
e.prototype.loadUI = function(e, t, o) {
return i(this, void 0, void 0, function() {
var i, a = this;
return n(this, function(n) {
switch (n.label) {
case 0:
t = t || "resources";
return this.uiMaps[e] ? [ 2, cc.instantiate(this.uiMaps[e]) ] : [ 4, this.getBundle(t) ];

case 1:
i = n.sent();
return [ 2, new Promise(function(t) {
i.load(e, cc.Prefab, function(i, n) {
if (i) cc.error(i); else {
a.uiMaps[e] = n;
t(cc.instantiate(n));
o && o();
}
});
}) ];
}
});
});
};
e.prototype.testLoadUI = function(e, t) {
t = t || "resources";
if (this.uiMaps[e]) return cc.instantiate(this.uiMaps[e]);
cc.resources.load(e, function(e, t) {
return cc.instantiate(t);
});
};
e.prototype.getBundle = function(e) {
return i(this, void 0, void 0, function() {
var t, o = this;
return n(this, function() {
t = this;
return [ 2, new Promise(function(i, n) {
var a = t.loadBundles[e];
a ? i(a) : cc.assetManager.loadBundle(e, function(t, o) {
if (t) n(null); else {
i(o);
this.loadBundles[e] = o;
}
}.bind(o));
}) ];
});
});
};
e.prototype.loadRemote = function(e, t) {
return i(this, void 0, void 0, function() {
return n(this, function() {
return [ 2, new Promise(function(e) {
cc.assetManager.loadRemote(t, {
cacheEnabled: !0
}, function(o, i) {
if (i) e(i); else {
cc.error(t + " []  " + o);
e(null);
}
return i;
});
}) ];
});
});
};
e.prototype.releaseAsset = function(e) {
cc.assetManager.releaseAsset(e);
cc.log("texture ");
};
e.prototype.loadGameImg = function(e, t) {
return i(this, void 0, void 0, function() {
var o;
return n(this, function(i) {
switch (i.label) {
case 0:
return [ 4, this.getBundle("hall") ];

case 1:
o = i.sent();
return [ 2, new Promise(function(i) {
o.load(e, cc.SpriteFrame, function(e, o) {
t && t(o);
i(null);
});
}) ];
}
});
});
};
e.prototype.loadHead = function() {};
e.prototype.loadLocalHead = function() {};
e.prototype.loadRemoteHead = function() {};
e.instance = null;
e.LOAD_UI_PROGRESS = "LOAD_UI_PROGRESS";
e.modules = {
resources: "resources",
update: "update",
game: "game",
hall: "hall"
};
return e;
}();
o.default = a;
cc._RF.pop();
}, {} ],
Resources: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c6708RZsQ5NGYfw5xbGjR/C", "Resources");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.RES = void 0;
var n = e("./Game"), a = function() {
function e() {}
e.IMG_START_BET = "baccaratHnd/placeBet";
e.IMG_STOP_BET = "baccaratHnd/noBet";
return e;
}();
o.RES = a;
var r = cc._decorator, s = r.ccclass, c = (r.property, function() {
function e() {}
e.init = function() {
if (n.default.localLanguage == n.LocalLanguage.th) {
a.IMG_START_BET = "baccaratHnd/placeBet";
a.IMG_STOP_BET = "baccaratHnd/noBet";
} else {
a.IMG_START_BET = "baccaratHnd/placeBet_en";
a.IMG_STOP_BET = "baccaratHnd/noBet_en";
}
};
return i([ s ], e);
}());
o.default = c;
cc._RF.pop();
}, {
"./Game": "Game"
} ],
RichCommonTip: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a0dechhV1dB67MHIR2/rIvg", "RichCommonTip");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {};
t.prototype.initTips = function(e, t) {
var o = this, i = this.node.getChildByName("labelRichContent");
i.getComponent(cc.RichText).string = e;
i.getComponent(cc.RichText)._updateRichText();
var n = this.node.getChildByName("dialog"), a = new cc.Color(149, 186, 244);
i.color = t || a;
this.scheduleOnce(function() {
var e = i.width + 40, t = i.height + 15;
e < 764 && (e = 764);
t < 114 && (t = 114);
n.width = e;
n.height = t;
});
this.scheduleOnce(function() {
o.node.destroy();
}, 2);
};
return a([ s ], t);
}(cc.Component));
o.default = c;
cc._RF.pop();
}, {} ],
RichConfirmDialog: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "124b4hMT4hOlYEh+gdGvSMc", "RichConfirmDialog");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Data/LanguageData"), s = e("../Components/DialogBase"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this.node.getChildByName("btnClose").on("click", this.onClose, this);
this.node.getChildByName("btnOK").on("click", this._onOK, this);
this.node.getChildByName("btnCancel").on("click", this._onCancel, this);
this.node.getChildByName("btnOK").getChildByName("Label").getComponent(cc.Label).string = r.default.ins.STRING_DIALOG("enter");
this.node.getChildByName("btnCancel").getChildByName("Label").getComponent(cc.Label).string = r.default.ins.STRING_DIALOG("cancel");
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = r.default.ins.STRING_COMMON("tips");
};
t.prototype.start = function() {
e.prototype.start.call(this);
var t = this._data, o = t.content || "", i = t.btnAmount || 2, n = t.title || r.default.ins.STRING_COMMON("tips");
this.node.getChildByName("labelRichContent").getComponent(cc.RichText).string = o;
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = n;
t.okDesc && (this.node.getChildByName("btnOK").getChildByName("Label").getComponent(cc.Label).string = t.okDesc);
t.cancelDesc && (this.node.getChildByName("btnCancel").getChildByName("Label").getComponent(cc.Label).string = t.cancelDesc);
if (1 == i) {
this.node.getChildByName("btnCancel").active = !1;
this.node.getChildByName("btnOK").x = 0;
}
};
t.prototype._onCancel = function() {
this._data.cancelCallback && this._data.cancelCallback();
this.onClose();
};
t.prototype._onOK = function() {
this._data.okCallback && this._data.okCallback();
this.onClose();
};
return a([ l ], t);
}(s.default));
o.default = d;
cc._RF.pop();
}, {
"../Components/DialogBase": "DialogBase",
"../Data/LanguageData": "LanguageData"
} ],
RoomData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "dcdcaMSoShGvJkRBw9RqC57", "RoomData");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../Util/GameUtil"), n = e("./GameData"), a = function() {
function e() {
this.repeatBetRegion = [ 0, 0, 0, 0, 0, 0, 0, 0 ];
this.reset();
}
e.prototype.reset = function() {
this.resetTable();
};
e.prototype.resetTable = function() {
this.allBetRegion = [ [ 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0 ], 0, 0, 0, 0, 0, 0 ];
this.myBetRegion = [ 0, 0, 0, 0, 0, 0, 0, 0 ];
n.default.roomData.betBankerOrPlayerEd = 99;
};
e.prototype.gameOverRecord = function() {
this.repeatBetRegion = i.default.copyData(this.myBetRegion);
};
e.prototype.resetBetRegion = function() {
this.repeatBetRegion = [ 0, 0, 0, 0, 0, 0, 0, 0 ];
};
e.prototype.getIsRecord = function() {
for (var e = !1, t = 0, o = 0; o < this.repeatBetRegion.length; o++) if (this.repeatBetRegion[o] > 0) {
e = !0;
t += this.repeatBetRegion[o];
}
return [ e, t ];
};
e.prototype.getIsNowBet = function() {
for (var e = !1, t = 0, o = 0; o < this.myBetRegion.length; o++) if (this.myBetRegion[o] > 0) {
e = !0;
t += this.myBetRegion[o];
}
return [ e, t ];
};
e.prototype.getTableIsBet = function() {
var e = 0;
this.allBetRegion.forEach(function(t, o) {
o < 2 ? t.forEach(function(t) {
e += t;
}) : e += t;
});
return e;
};
e.getInstance = function() {
this.instance || (this.instance = new e());
return this.instance;
};
e.prototype.isSelfBet = function() {
for (var e = !1, t = this.myBetRegion, o = 0; o < t.length; o++) t[o] > 0 && (e = !0);
return e;
};
return e;
}();
o.default = a;
cc._RF.pop();
}, {
"../Util/GameUtil": "GameUtil",
"./GameData": "GameData"
} ],
RoomGuide: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c8badn7IrFMtaYJVvsez7k3", "RoomGuide");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Base/BaseView"), s = e("../Data/GameData"), c = e("../Data/LanguageData"), l = e("../Util/GameUtil"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._stepNode1 = null;
t._stepNode2 = null;
t._stepNode3 = null;
return t;
}
t.prototype.onLoad = function() {
this.node.getChildByName("step1").on("click", this._hide, this);
this.node.getChildByName("step2").on("click", this._hide, this);
this._stepNode1 = this.node.getChildByName("step1");
this._stepNode2 = this.node.getChildByName("step2");
this._stepNode3 = this.node.getChildByName("step3");
this._stepNode2.getChildByName("btn_tips").getChildByName("label").getComponent(cc.Label).string = c.default.ins.STRING_ROOM("guideChipPosition");
this._stepNode1.getChildByName("shop").getChildByName("label").getComponent(cc.Label).string = c.default.ins.STRING_ROOM("guideShop");
this._stepNode1.getChildByName("screenshot").getChildByName("label").getComponent(cc.Label).string = c.default.ins.STRING_ROOM("guideScreenShot");
this._stepNode1.getChildByName("road").getChildByName("label").getComponent(cc.Label).string = c.default.ins.STRING_ROOM("guideRoad");
this._stepNode1.getChildByName("more").getChildByName("label").getComponent(cc.Label).string = c.default.ins.STRING_ROOM("guideMore");
this._stepNode1.getChildByName("chat").getChildByName("label").getComponent(cc.Label).string = c.default.ins.STRING_ROOM("guideChat");
this._stepNode1.getChildByName("bet").getChildByName("label").getComponent(cc.Label).string = c.default.ins.STRING_ROOM("guideBetPosition");
this._stepNode1.getChildByName("back").getChildByName("label").getComponent(cc.Label).string = c.default.ins.STRING_ROOM("guideToHall");
this._stepNode1.getChildByName("close").getChildByName("label").getComponent(cc.Label).string = c.default.ins.STRING_HALL("guideClose");
};
t.prototype.start = function() {};
t.prototype._hide = function() {
this.node.active = !1;
};
t.prototype.show = function(e) {
var t = Number(l.default.readData("RoomGuideTimes" + e + s.default.UserData.userId));
if (!(e >= 1 && e <= 3 && t >= 2)) {
t++;
this.node.active = !0;
if (0 == e) this.node.active = !1; else if (1 == e) {
this._stepNode1.active = !0;
this._stepNode2.active = !1;
this._stepNode3.active = !1;
l.default.saveData("RoomGuideTimes1" + s.default.UserData.userId, t);
} else if (2 == e) {
this._stepNode1.active = !1;
this._stepNode2.active = !0;
this._stepNode3.active = !1;
l.default.saveData("RoomGuideTimes2" + s.default.UserData.userId, t);
} else if (3 == e) {
this._stepNode1.active = !1;
this._stepNode2.active = !1;
this._stepNode3.active = !0;
l.default.saveData("RoomGuideTimes3" + s.default.UserData.userId, t);
} else this.onClose();
}
};
return a([ h ], t);
}(r.default));
o.default = u;
cc._RF.pop();
}, {
"../Base/BaseView": "BaseView",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../Util/GameUtil": "GameUtil"
} ],
RoomWaybillHndPad: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2efa5cKC/pFQKlxK4E1K4EL", "RoomWaybillHndPad");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../Components/MyEvent"), l = e("../Conf/Const"), d = e("../Data/GameData"), h = e("../Data/LanguageData"), u = e("../UIFrame/List"), p = e("../UIFrame/SoundMgr"), f = e("../Util/CalculationLine"), m = e("../Util/GameUtil"), g = cc._decorator, y = g.ccclass, _ = (g.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._isShowForecast = !1;
t.roomInfo = null;
t._originalWaybillCd = !0;
return t;
}
o = t;
t.prototype.onLoad = function() {
this._waybill = this.node;
this._originalWaybillList = [];
this._moreView = this.node.getChildByName("moreInfo");
this._zplListScrollview = this._waybill.getChildByName("zplBg").getChildByName("scrollview");
this._zplList = this._zplListScrollview.getComponent(u.default);
this._dlListScrollview = this._waybill.getChildByName("dlBg").getChildByName("scrollview");
this._dlList = this._dlListScrollview.getComponent(u.default);
this._dyzlListScrollview = this._waybill.getChildByName("dylBg").getChildByName("scrollview");
this._dyzlList = this._dyzlListScrollview.getComponent(u.default);
this._xlListScrollview = this._waybill.getChildByName("xlBg").getChildByName("scrollview");
this._xlList = this._xlListScrollview.getComponent(u.default);
this._yylListScrollview = this._waybill.getChildByName("yylBg").getChildByName("scrollview");
this._yylList = this._yylListScrollview.getComponent(u.default);
this._tigerSpine = this.node.getChildByName("spine");
this._tigerSpine.active = !1;
this._tipsSumLabelList = [];
this._labelNumList = [];
for (var e = 1; e < 9; e++) {
var t = this._waybill.getChildByName("statisticsNode").getChildByName("sum" + e);
this._tipsSumLabelList.push(t);
this._labelNumList.push(0);
}
this.setMoreViewActive(!1, !0);
this.getNextNode();
this.setLabelString();
this.setAdaptation();
};
t.prototype.initRoomInfo = function(e) {
this.roomInfo = e;
this.initMoreInfoView();
};
t.prototype.setAdaptation = function() {
if (cc.winSize.width / cc.winSize.height > 2048 / 1536) {
this.node.getChildByName("ipadBg").width = cc.winSize.width;
var e = (cc.winSize.width - 2048) / 2;
o.zplAutoLength = o.zplAutoLength + Math.ceil(2 * e / 68);
this._waybill.getChildByName("statisticsNode").x += e;
this._newtNode.x += e;
var t = this._waybill.getChildByName("zplBg");
this._waybill.getChildByName("zplBg").x -= e;
this._waybill.getChildByName("dlBg").x += e;
this._waybill.getChildByName("dylBg").x += e;
this._waybill.getChildByName("xlBg").x += e;
this._waybill.getChildByName("yylBg").x += e;
this._moreView.x += e;
t.width = t.width + 2 * e;
this._zplListScrollview.width = t.width;
this._zplListScrollview.getChildByName("label").x = this._zplListScrollview.width / 2;
t.getChildByName("zplFrame").width = t.width;
this._zplListScrollview.getChildByName("view").width = t.width - 4;
}
};
t.prototype.start = function() {
var e = this;
this._waybill.getChildByName("statisticsNode").getChildByName("moreBtn").on("click", function() {
p.default.inst.playEffect("btnSound");
c.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
e._moreView.active ? e.setMoreViewActive(!1) : e.setMoreViewActive(!0);
});
};
t.prototype.getOriginalWaybillList = function() {
return this._originalWaybillList;
};
t.prototype.pushOriginalWaybillList = function(e) {
var t = this;
if (this._originalWaybillList) {
this._originalWaybillList.push(e);
var i = f.default.getInstance().getZplWayBill(this._originalWaybillList, o.zplAutoLength);
this.zplInfoList = i;
this.changeZplWaybill(i[i.length - 1], i.length, i, function() {
t._waybillAddTail(t.zplInfoList, "zpl", 1);
t._zplList.numItems = t.zplInfoList.length;
t._scrollTo(t._zplList, t.zplInfoList, o.zplAutoLength + 1);
});
this.scheduleOnce(function() {
var e = f.default.getInstance().setCustomLengthWaybillData(m.default.copyData(t._originalWaybillList), {
dlLength: 35,
dyzLength: 34,
xlLength: 34,
yylLength: 26,
yylColumn: 12
});
t.dlInfoList = e[0];
t._waybillAddTail(t.dlInfoList, "dl", 1);
t._dlList.numItems = t.dlInfoList.length;
t._scrollTo(t._dlList, t.dlInfoList, o.dlAutoLength + 1);
t.dylInfoList = e[2];
t._waybillAddTail(t.dylInfoList, "dyzl", 2);
t._dyzlList.numItems = t.dylInfoList.length;
t._scrollTo(t._dyzlList, t.dylInfoList, o.dyzlAutoLength + 2);
t.xlInfoList = e[3];
t._waybillAddTail(t.xlInfoList, "xl", 2);
t._xlList.numItems = t.xlInfoList.length;
t._scrollTo(t._xlList, t.xlInfoList, o.xlAutoLength + 2);
t.yylInfoList = e[4];
t._waybillAddTail(t.yylInfoList, "yyl", 2);
t._yylList.numItems = t.yylInfoList.length;
t._scrollTo(t._yylList, t.yylInfoList, o.yylAutoLength + 2);
t.initSumLabel();
t._forecastWaybill();
}, 295 / 60);
}
};
t.prototype.changeZplWaybill = function(e, t, i, n) {
if (i.length > o.zplAutoLength) for (var a = 0; a < e.length; a++) {
if (0 == e[a].result) {
this.calculation(t - 1, a, e[a - 1], n);
return;
}
if (5 == a) {
this.calculation(t - 1, a + 1, e[a], n);
return;
}
} else for (a = 0; a < i.length; a++) for (var r = i[a], s = 0; s < r.length; s++) {
if (0 == r[s].result) {
this.calculation(a, s, r[s - 1], function() {
n();
});
return;
}
if (5 == s && (a + 1 == o.zplAutoLength || i[a + 1] && 0 == i[a + 1][0].result)) {
this.calculation(a, s + 1, r[s], function() {
n();
});
return;
}
}
};
t.prototype.setOriginalWaybillList = function(e, t) {
var i = this;
if (this._originalWaybillList && this._originalWaybillCd) {
this._originalWaybillCd = !1;
this.scheduleOnce(function() {
i._originalWaybillCd = !0;
}, 1);
var n, a = [], r = 2;
t && (r = t);
a[0] = function() {
i._originalWaybillList = e;
i.zplInfoList = f.default.getInstance().getZplWayBill(m.default.copyData(i._originalWaybillList), o.zplAutoLength);
i._waybillAddTail(i.zplInfoList, "zpl", 1);
i._zplList.numItems = i.zplInfoList.length;
n = f.default.getInstance().setCustomLengthWaybillData(m.default.copyData(i._originalWaybillList), {
dlLength: 35,
dyzLength: 34,
xlLength: 34,
yylLength: 26,
yylColumn: 12
});
i._scrollTo(i._zplList, i.zplInfoList, o.zplAutoLength + 1);
};
a[1] = function() {
i.dlInfoList = n[0];
i._waybillAddTail(i.dlInfoList, "dl", 1);
i._dlList.numItems = i.dlInfoList.length;
i._scrollTo(i._dlList, i.dlInfoList, o.dlAutoLength + 1);
};
a[2] = function() {
i.dylInfoList = n[2];
i._waybillAddTail(i.dylInfoList, "dyzl", 2);
i._dyzlList.numItems = i.dylInfoList.length;
i._scrollTo(i._dyzlList, i.dylInfoList, o.dyzlAutoLength + 2);
};
a[3] = function() {
i.xlInfoList = n[3];
i._waybillAddTail(i.xlInfoList, "xl", 2);
i._xlList.numItems = i.xlInfoList.length;
i._scrollTo(i._xlList, i.xlInfoList, o.xlAutoLength + 2);
};
a[4] = function() {
i.yylInfoList = n[4];
i._waybillAddTail(i.yylInfoList, "yyl", 2);
i._yylList.numItems = i.yylInfoList.length;
i._scrollTo(i._yylList, i.yylInfoList, o.yylAutoLength + 2);
};
a[5] = function() {
i.initSumLabel();
};
a[6] = function() {
i._forecastWaybill();
};
a.forEach(function(e, t) {
i.scheduleOnce(e, t * r / 60);
});
}
};
t.prototype._scrollTo = function(e, t, o) {
t.length > o ? e.scrollTo(t.length) : e.scrollTo(0);
};
t.prototype._waybillAddTail = function(e, t, o) {
if ("zpl" == t) e.push([ {
result: 0
}, {
result: 0
}, {
result: 0
}, {
result: 0
}, {
result: 0
}, {
result: 0
} ]); else if ("dl" == t) {
for (var i = [], n = 0; n < 6; n++) i[n] = {
id: 0,
pice: 0,
player: 0,
banker: 0,
lucky: 0
};
e.push(i);
} else if ("dyzl" == t) for (var a = 0; a < o; a++) e.push([ 0, 0, 0, 0, 0, 0 ]); else if ("xl" == t) for (a = 0; a < o; a++) e.push([ 0, 0, 0, 0, 0, 0 ]); else if ("yyl" == t) for (a = 0; a < o; a++) e.push([ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]);
};
t.prototype.updateZplItem = function(e, t) {
for (var o = this, i = function(e, i, n) {
var a = e.getChildByName("icon1"), r = e.getChildByName("icon2"), s = e.getChildByName("icon3");
a.active = !1;
r.active = !1;
s.active = !1;
if (1 == i.result) {
a.active = !0;
"cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage() ? m.default.loadSpriteFrame(a, "ipadZplP", "room/waybill/next/next") : m.default.loadSpriteFrame(a, "ipadZplPEn", "room/waybill/next/next");
} else if (2 == i.result) {
a.active = !0;
"cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage() ? m.default.loadSpriteFrame(a, "ipadZplB", "room/waybill/next/next") : m.default.loadSpriteFrame(a, "ipadZplBEn", "room/waybill/next/next");
} else if (3 == i.result) {
a.active = !0;
"cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage() ? m.default.loadSpriteFrame(a, "ipadZplPeace", "room/waybill/next/next") : m.default.loadSpriteFrame(a, "ipadZplPeaceEn", "room/waybill/next/next");
}
i.playerPair && (r.active = !0);
i.bankerPair && (s.active = !0);
i.lucky && m.default.loadSpriteFrame(a, "ipadTigerLuck", "room/waybill/next/next");
i.tigerDraw && d.default.roomData.playType == l.baccaratRoomType.singapore && m.default.loadSpriteFrame(a, "ipadTigerDraw", "room/waybill/next/next");
if (0 != i.result && o._isShowForecast && o._zplMax.x == t && o._zplMax.y == n - 1) for (var c = 1; c < 4; c++) {
var u = e.getChildByName("icon" + c);
u.active && o._twinkleAnim(u);
}
}, n = this.zplInfoList[t], a = 1; a < 7; a++) i(e.getChildByName("zpl" + a), n[a - 1], a);
};
t.prototype.updateDlItem = function(e, t) {
for (var o = this, i = function(e, i, n) {
var a = e.getChildByName("icon1"), r = e.getChildByName("icon2"), s = e.getChildByName("icon3"), c = e.getChildByName("icon4"), l = e.getChildByName("icon5"), d = e.getChildByName("icon6");
a.active = !1;
r.active = !1;
s.active = !1;
c.active = !1;
l.active = !1;
d.active = !1;
if (1 == i.id) {
a.active = !0;
m.default.loadSpriteFrame(a, "dlBlue", "room/waybill/next/next");
} else if (2 == i.id) {
a.active = !0;
m.default.loadSpriteFrame(a, "dlRed", "room/waybill/next/next");
}
if (1 == i.pice) l.active = !0; else if (i.pice >= 2) {
l.active = !0;
d.active = !0;
}
i.player && (s.active = !0);
i.banker && (c.active = !0);
i.lucky && (r.active = !0);
if (0 != i.id && o._isShowForecast && o._dlMax.x == t && o._dlMax.y == n - 1) for (var h = 1; h < 7; h++) {
var u = e.getChildByName("icon" + h);
u.active && o._twinkleAnim(u);
}
}, n = this.dlInfoList[t], a = 1; a < 7; a++) i(e.getChildByName("dl" + a), n[a - 1], a);
};
t.prototype.updateDyzlItem = function(e, t) {
for (var o = this, i = function(e, i, n, a) {
var r = e.getChildByName("icon1"), s = e.getChildByName("icon2"), c = e.getChildByName("icon3");
s.active = !1;
c.active = !1;
t % 2 == 0 ? m.default.loadSpriteFrame(r, "halfLeft", "room/waybill/next/next") : m.default.loadSpriteFrame(r, "halfRight", "room/waybill/next/next");
if (1 == i) {
s.active = !0;
m.default.loadSpriteFrame(s, "dyzRed", "room/waybill/next/next");
} else if (2 == i) {
s.active = !0;
m.default.loadSpriteFrame(s, "dyzBlue", "room/waybill/next/next");
}
if (1 == n) {
c.active = !0;
m.default.loadSpriteFrame(c, "dyzRed", "room/waybill/next/next");
} else if (2 == n) {
c.active = !0;
m.default.loadSpriteFrame(c, "dyzBlue", "room/waybill/next/next");
}
o._isShowForecast && (0 != i && 0 == n ? o._dyzMax.x == t && Math.ceil((o._dyzMax.y + 1) / 2) == a && o._twinkleAnim(s) : 0 != n && o._dyzMax.x == t && Math.ceil((o._dyzMax.y + 1) / 2) == a && o._twinkleAnim(c));
}, n = this.dylInfoList[t], a = 1; a < 4; a++) {
var r = e.getChildByName("dyz" + a);
1 == a ? i(r, n[0], n[1], a) : 2 == a ? i(r, n[2], n[3], a) : 3 == a && i(r, n[4], n[5], a);
}
};
t.prototype.updateXlItem = function(e, t) {
for (var o = this, i = function(e, i, n, a) {
var r = e.getChildByName("icon1"), s = e.getChildByName("icon2"), c = e.getChildByName("icon3");
s.active = !1;
c.active = !1;
t % 2 == 0 ? m.default.loadSpriteFrame(r, "halfLeft", "room/waybill/next/next") : m.default.loadSpriteFrame(r, "halfRight", "room/waybill/next/next");
if (1 == i) {
s.active = !0;
m.default.loadSpriteFrame(s, "xlRed", "room/waybill/next/next");
} else if (2 == i) {
s.active = !0;
m.default.loadSpriteFrame(s, "xlBlue", "room/waybill/next/next");
}
if (1 == n) {
c.active = !0;
m.default.loadSpriteFrame(c, "xlRed", "room/waybill/next/next");
} else if (2 == n) {
c.active = !0;
m.default.loadSpriteFrame(c, "xlBlue", "room/waybill/next/next");
}
o._isShowForecast && (0 != i && 0 == n ? o._xlMax.x == t && Math.ceil((o._xlMax.y + 1) / 2) == a && o._twinkleAnim(s) : 0 != n && o._xlMax.x == t && Math.ceil((o._xlMax.y + 1) / 2) == a && o._twinkleAnim(c));
}, n = this.xlInfoList[t], a = 1; a < 4; a++) {
var r = e.getChildByName("xl" + a);
1 == a ? i(r, n[0], n[1], a) : 2 == a ? i(r, n[2], n[3], a) : 3 == a && i(r, n[4], n[5], a);
}
};
t.prototype.updateYylItem = function(e, t) {
for (var o = this, i = function(e, i, n, a) {
var r = e.getChildByName("icon1"), s = e.getChildByName("icon2"), c = e.getChildByName("icon3");
s.active = !1;
c.active = !1;
t % 2 == 0 ? m.default.loadSpriteFrame(r, "halfLeft", "room/waybill/next/next") : m.default.loadSpriteFrame(r, "halfRight", "room/waybill/next/next");
if (1 == i) {
s.active = !0;
m.default.loadSpriteFrame(s, "yylRedLine", "room/waybill/next/next");
} else if (2 == i) {
s.active = !0;
m.default.loadSpriteFrame(s, "yylBlueLine", "room/waybill/next/next");
}
if (1 == n) {
c.active = !0;
m.default.loadSpriteFrame(c, "yylRedLine", "room/waybill/next/next");
} else if (2 == n) {
c.active = !0;
m.default.loadSpriteFrame(c, "yylBlueLine", "room/waybill/next/next");
}
o._isShowForecast && (0 != i && 0 == n ? o._yylMax.x == t && Math.ceil((o._yylMax.y + 1) / 2) == a && o._twinkleAnim(s) : 0 != n && o._yylMax.x == t && Math.ceil((o._yylMax.y + 1) / 2) == a && o._twinkleAnim(c));
}, n = this.yylInfoList[t], a = 1; a < 7; a++) {
var r = e.getChildByName("yyl" + a);
1 == a ? i(r, n[0], n[1], a) : 2 == a ? i(r, n[2], n[3], a) : 3 == a ? i(r, n[4], n[5], a) : 4 == a ? i(r, n[6], n[7], a) : 5 == a ? i(r, n[8], n[9], a) : 6 == a && i(r, n[10], n[11], a);
}
};
t.prototype.initSumLabel = function() {
if (this._labelNumList) {
for (var e = 0; e < this._labelNumList.length; e++) this._labelNumList[e] = 0;
this._labelNumList[0] = this._originalWaybillList.length;
for (e = 0; e < this._originalWaybillList.length; e++) {
var t = this._originalWaybillList[e];
1 == t.result ? this._labelNumList[2] += 1 : 2 == t.result ? this._labelNumList[1] += 1 : 3 == t.result && (this._labelNumList[3] += 1);
t.god && (this._labelNumList[4] += 1);
t.lucky && (this._labelNumList[5] += 1);
t.playerPair && (this._labelNumList[7] += 1);
t.bankerPair && (this._labelNumList[6] += 1);
}
this.changeSumLbel();
}
};
t.prototype.changeSumLbel = function() {
for (var e = 0; e < this._labelNumList.length; e++) {
this._tipsSumLabelList[e].getComponent(cc.Label).string = this._labelNumList[e] + "";
0 == e && (this._numberGames.string = m.default.formatMoneyShorter(this._labelNumList[e]));
}
};
t.prototype.getNextNode = function() {
this._newtNode = this._waybill.getChildByName("nextNode");
this._banker_icon1 = this._newtNode.getChildByName("banker_icon1");
this._banker_icon2 = this._newtNode.getChildByName("banker_icon2");
this._banker_icon3 = this._newtNode.getChildByName("banker_icon3");
this._player_icon1 = this._newtNode.getChildByName("player_icon1");
this._player_icon2 = this._newtNode.getChildByName("player_icon2");
this._player_icon3 = this._newtNode.getChildByName("player_icon3");
var e = this._newtNode.getChildByName("bankerBtn"), t = this._newtNode.getChildByName("playerBtn");
e.on("click", this._showForecast, this);
t.on("click", this._showForecast, this);
};
t.prototype.setMoreViewActive = function(e, t) {
var o = this;
this._moreView.active = e;
var i = this._waybill.getChildByName("statisticsNode").getChildByName("moreBtn");
if (e) {
this._moreView.on("click", function() {
c.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
o.setMoreViewActive(!1);
});
i.getChildByName("Background").angle = -180;
} else {
this._moreView.off("click");
i.getChildByName("Background").angle = 0;
t || p.default.inst.playEffect("closeSound");
}
};
t.prototype._forecastWaybill = function() {
m.default.copyData(this._originalWaybillList);
var e = function(e) {
for (var t, o = f.default.getInstance().setRoomListWaybillData(e), i = f.default.getInstance().dyzNumList, n = {
x: 0,
y: 0
}, a = 0, r = 0; r < i.length; r++) for (var s = i[r], c = 0; c < s.length; c++) if (a < s[c]) {
a = s[c];
n.x = r;
n.y = c;
}
t = o[2][n.x] && o[2][n.x][n.y] ? o[2][n.x][n.y] : 0;
var l, d = f.default.getInstance().xlNumList, h = {
x: 0,
y: 0
}, u = 0;
for (r = 0; r < d.length; r++) {
var p = d[r];
for (c = 0; c < p.length; c++) if (u < p[c]) {
u = p[c];
h.x = r;
h.y = c;
}
}
console.log(o[3], f.default.getInstance().xlNumList);
l = o[3][h.x] && o[3][h.x][h.y] ? o[3][h.x][h.y] : 0;
var m = f.default.getInstance().yylNumList, g = {
x: 0,
y: 0
}, y = 0;
for (r = 0; r < m.length; r++) {
var _ = m[r];
for (c = 0; c < _.length; c++) if (y < _[c]) {
y = _[c];
g.x = r;
g.y = c;
}
}
return {
dyzResult: t,
xlResult: l,
yylResult: o[4][g.x] && o[4][g.x][g.y] ? o[4][g.x][g.y] : 0
};
}, t = m.default.copyData(this._originalWaybillList);
t.push({
result: 2
});
var o = m.default.copyData(this._originalWaybillList);
o.push({
result: 1
});
var i = e(t), n = e(o);
this._banker_icon1.active = !1;
this._banker_icon2.active = !1;
this._banker_icon3.active = !1;
this._player_icon1.active = !1;
this._player_icon2.active = !1;
this._player_icon3.active = !1;
var a = function(e, t, o, i) {
if (1 == i) {
m.default.loadSpriteFrame(e, t, "room/waybill/next/next");
e.active = !0;
} else if (2 == i) {
m.default.loadSpriteFrame(e, o, "room/waybill/next/next");
e.active = !0;
}
};
a(this._banker_icon1, "dyz_red", "dyz_blue", i.dyzResult);
a(this._banker_icon2, "xl_red", "xl_blue", i.xlResult);
a(this._banker_icon3, "yyl_red", "yyl_blue", i.yylResult);
a(this._player_icon1, "dyz_red", "dyz_blue", n.dyzResult);
a(this._player_icon2, "xl_red", "xl_blue", n.xlResult);
a(this._player_icon3, "yyl_red", "yyl_blue", n.yylResult);
};
t.prototype.calculation = function(e, t, o, i) {
return r(this, void 0, void 0, function() {
var n, a, r, c, l, d, u, p, f, g, y;
return s(this, function() {
n = this._zplListScrollview.parent.x;
a = this._zplListScrollview.parent.y;
r = 68 * (e + 1) - 34;
c = 408 - 68 * t - 170;
l = this._zplListScrollview.getComponent(cc.ScrollView).getScrollOffset();
d = o;
u = n + r + l.x;
p = a + c + l.y;
(f = new cc.Node()).addComponent(cc.Sprite);
f.parent = this.node;
f.scale = 60 / 260;
g = "room/dynamicLoading/settlePlayer";
1 == o.result ? g = "cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage() ? "room/dynamicLoading/settlePlayer" : "room/dynamicLoading/settlePlayerEn" : 2 == o.result ? g = "cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage() ? "room/dynamicLoading/settleBanker" : "room/dynamicLoading/settleBankerEn" : 3 == o.result && (g = "cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage() ? "room/dynamicLoading/settleDraw" : "room/dynamicLoading/settleDrawEn");
if (o.lucky) {
y = i;
this.tigerAnim(u, p, y, d.tager);
f.destroy();
return [ 2 ];
}
m.default.loadSpriteFrame(f, g);
f.setPosition(0, -210);
cc.tween(f).to(16 / 60, {
scale: 60 / 260
}).to(.2, {
scale: 450 / 260 * .8
}).to(.2, {
scale: 1.4112426035502958
}).delay(130 / 60).to(1.2, {
scale: 1.4911242603550297
}, {
easing: "quadOut"
}).to(13 / 60, {
scale: 60 / 260,
position: cc.v3(u, p)
}).call(function() {
f.destroy();
i();
}, this).start();
return [ 2 ];
});
});
};
t.prototype.tigerAnim = function(e, t, o, i) {
var n = this, a = o;
p.default.inst.playEffect(i);
this._tigerSpine.stopAllActions();
this._tigerSpine.active = !0;
this._tigerSpine.opacity = 255;
this._tigerSpine.setPosition(0, -410);
this._tigerSpine.scale = .8;
this._tigerSpine.getComponent(sp.Skeleton).clearTrack(0);
this._tigerSpine.getComponent(sp.Skeleton).setCompleteListener(function() {
cc.tween(n._tigerSpine).call(function() {
n._tigerSpine.getComponent(sp.Skeleton).setAnimation(0, "Idle", !0);
}, n).delay(3).to(13 / 60, {
scale: 60 / 2856,
position: cc.v3(e, t),
opacity: 0
}).call(function() {
n._tigerSpine.active = !1;
a();
}, n).start();
});
var r;
r = "tiger1" == i ? "Go" : "Go2";
this._tigerSpine.getComponent(sp.Skeleton).setAnimation(0, r, !1);
};
t.prototype.clearAllItem = function() {
this.setOriginalWaybillList([]);
};
t.prototype.initMoreInfoView = function() {
for (var e = [], t = 1; t <= 10; t++) e[t] = this._moreView.getChildByName("title" + t);
var o = [];
for (t = 1; t <= 7; t++) o[t] = this._moreView.getChildByName("info" + t);
o[1].getComponent(cc.Label).string = m.default.formatMoneyShorter(this.roomInfo.minChip);
o[2].getComponent(cc.Label).string = m.default.formatMoneyShorter(this.roomInfo.maxChip);
o[3].getComponent(cc.Label).string = m.default.formatMoneyShorter(this.roomInfo.minChip);
o[5].getComponent(cc.Label).string = m.default.formatMoneyShorter(this.roomInfo.maxChipOther);
this._numberGames = o[6].getComponent(cc.Label);
o[6].getComponent(cc.Label).string = m.default.formatMoneyShorter(this.roomInfo.roundCountAfterShuffle);
o[7].getComponent(cc.Label).string = m.default.formatMoneyShorter(this.roomInfo.roomID);
};
t.prototype.setLabelString = function() {
return r(this, void 0, void 0, function() {
var e, t;
return s(this, function() {
(e = this._waybill.getChildByName("moreInfo")).getChildByName("title1").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo1");
e.getChildByName("title2").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo2");
e.getChildByName("title3").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo17");
e.getChildByName("title4").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo16");
e.getChildByName("title5").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo5");
e.getChildByName("title6").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo6");
e.getChildByName("title7").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo7");
e.getChildByName("title8").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo8");
e.getChildByName("title9").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo9");
e.getChildByName("title10").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo10");
this._zplListScrollview.getChildByName("label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("zpRoad");
this._dlListScrollview.getChildByName("label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("dlRoad");
this._dyzlListScrollview.getChildByName("label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("dyRoad");
this._xlListScrollview.getChildByName("label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("xlRoad");
this._yylListScrollview.getChildByName("label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("yyRoad");
this._waybill.getChildByName("statisticsNode").getChildByName("moreLabel").getComponent(cc.Label).string = h.default.ins.STRING_COMMON("more");
this._originalWaybillList.length > 0 && this.setOriginalWaybillList(this._originalWaybillList);
t = this._waybill.getChildByName("statisticsNode");
if ("cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage()) {
m.default.loadSpriteFrame(t.getChildByName("icon1"), "icon1", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon2"), "icon2", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon3"), "icon3", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon4"), "icon4", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon5"), "icon5", "room/waybill/next/next");
m.default.loadSpriteFrame(this._waybill.getChildByName("nextNode").getChildByName("banker"), "banker", "room/waybill/next/next");
m.default.loadSpriteFrame(this._waybill.getChildByName("nextNode").getChildByName("player"), "player", "room/waybill/next/next");
e.getChildByName("title3").active = !0;
e.getChildByName("title7").active = !0;
} else {
m.default.loadSpriteFrame(t.getChildByName("icon1"), "icon1En", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon2"), "icon2En", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon3"), "icon3En", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon4"), "icon4En", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon5"), "icon5En", "room/waybill/next/next");
m.default.loadSpriteFrame(this._waybill.getChildByName("nextNode").getChildByName("banker"), "bankerEn", "room/waybill/next/next");
m.default.loadSpriteFrame(this._waybill.getChildByName("nextNode").getChildByName("player"), "playerEn", "room/waybill/next/next");
e.getChildByName("title3").active = !1;
e.getChildByName("title5").active = !1;
e.getChildByName("title7").active = !1;
}
return [ 2 ];
});
});
};
t.prototype._showForecast = function(e) {
var t = this;
if ("settlement" != d.default.roomData.gameState && !this._isShowForecast) {
p.default.inst.playEffect("btnSound");
var i = e.node, n = function(e) {
var i = f.default.getInstance().getZplWayBill(e, o.zplAutoLength), n = f.default.getInstance().setCustomLengthWaybillData(m.default.copyData(e), {
dlLength: 35,
dyzLength: 34,
xlLength: 34,
yylLength: 26,
yylColumn: 12
}), a = f.default.getInstance().zplNumList, r = f.default.getInstance().dlNumList, s = f.default.getInstance().dyzNumList, c = f.default.getInstance().xlNumList, l = f.default.getInstance().yylNumList;
function d(e) {
for (var t = {
x: 0,
y: 0
}, o = 0, i = 0; i < e.length; i++) for (var n = e[i], a = 0; a < n.length; a++) if (o < n[a]) {
o = n[a];
t.x = i;
t.y = a;
}
return t;
}
t._zplMax = d(a);
t._dlMax = d(r);
t._dyzMax = d(s);
t._xlMax = d(c);
t._yylMax = d(l);
var h = function(e, i) {
t.zplInfoList = e;
t._waybillAddTail(t.zplInfoList, "zpl", 1);
t._zplList.numItems = t.zplInfoList.length;
t.dlInfoList = i[0];
t._waybillAddTail(t.dlInfoList, "dl", 1);
t._dlList.numItems = t.dlInfoList.length;
t._scrollTo(t._dlList, t.dlInfoList, o.dlAutoLength + 1);
t.dylInfoList = i[2];
t._waybillAddTail(t.dylInfoList, "dyzl", 2);
t._dyzlList.numItems = t.dylInfoList.length;
t._scrollTo(t._dyzlList, t.dylInfoList, o.dyzlAutoLength + 2);
t.xlInfoList = i[3];
t._waybillAddTail(t.xlInfoList, "xl", 2);
t._xlList.numItems = t.xlInfoList.length;
t._scrollTo(t._xlList, t.xlInfoList, o.xlAutoLength + 2);
t.yylInfoList = i[4];
t._waybillAddTail(t.yylInfoList, "yyl", 2);
t._yylList.numItems = t.yylInfoList.length;
t._scrollTo(t._yylList, t.yylInfoList, o.yylAutoLength + 2);
};
t._isShowForecast = !0;
t.scheduleOnce(function() {
t._isShowForecast = !1;
var e = f.default.getInstance().getZplWayBill(m.default.copyData(t._originalWaybillList), o.zplAutoLength), i = f.default.getInstance().setCustomLengthWaybillData(m.default.copyData(t._originalWaybillList), {
dlLength: 35,
dyzLength: 34,
xlLength: 34,
yylLength: 26,
yylColumn: 12
});
h(e, i);
}, 4);
h(i, n);
};
if ("bankerBtn" == i.name) {
var a = m.default.copyData(this._originalWaybillList);
a.push({
result: 2
});
n(a);
} else if ("playerBtn" == i.name) {
var r = m.default.copyData(this._originalWaybillList);
r.push({
result: 1
});
n(r);
}
}
};
t.prototype._twinkleAnim = function(e) {
e.opacity = 0;
cc.tween(e).delay(.5).to(0, {
opacity: 255
}).delay(.5).to(0, {
opacity: 0
}).delay(.5).to(0, {
opacity: 255
}).delay(.5).to(0, {
opacity: 0
}).delay(.5).to(0, {
opacity: 255
}).start();
};
var o;
t.zplAutoLength = 10;
t.dlAutoLength = 35;
t.dyzlAutoLength = 34;
t.xlAutoLength = 34;
t.yylAutoLength = 26;
return o = a([ y ], t);
}(cc.Component));
o.default = _;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Conf/Const": "Const",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../UIFrame/List": "List",
"../UIFrame/SoundMgr": "SoundMgr",
"../Util/CalculationLine": "CalculationLine",
"../Util/GameUtil": "GameUtil"
} ],
RoomWaybillHnd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "756d1gKKS9EB5QcVacnsdhd", "RoomWaybillHnd");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../Components/MyEvent"), l = e("../Data/GameData"), d = e("../Data/LanguageData"), h = e("../UIFrame/List"), u = e("../UIFrame/SoundMgr"), p = e("../Util/CalculationLine"), f = e("../Util/GameUtil"), m = cc._decorator, g = m.ccclass, y = (m.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._isShowForecast = !1;
t.roomInfo = null;
t._originalWaybillCd = !0;
return t;
}
o = t;
t.prototype.onLoad = function() {
this._waybill = this.node;
this._originalWaybillList = [];
this._moreView = this.node.getChildByName("moreInfo");
this._zplListScrollview = this._waybill.getChildByName("zplBg").getChildByName("scrollview");
this._zplList = this._zplListScrollview.getComponent(h.default);
this._dlListScrollview = this._waybill.getChildByName("dlBg").getChildByName("scrollview");
this._dlList = this._dlListScrollview.getComponent(h.default);
this._dyzlListScrollview = this._waybill.getChildByName("dylBg").getChildByName("scrollview");
this._dyzlList = this._dyzlListScrollview.getComponent(h.default);
this._xlListScrollview = this._waybill.getChildByName("xlBg").getChildByName("scrollview");
this._xlList = this._xlListScrollview.getComponent(h.default);
this._yylListScrollview = this._waybill.getChildByName("yylBg").getChildByName("scrollview");
this._yylList = this._yylListScrollview.getComponent(h.default);
this._tigerSpine = this.node.getChildByName("spine");
this._tigerSpine.active = !1;
this._tipsSumLabelList = [];
this._labelNumList = [];
for (var e = 1; e < 9; e++) {
var t = this._waybill.getChildByName("statisticsNode").getChildByName("sum" + e);
this._tipsSumLabelList.push(t);
this._labelNumList.push(0);
}
this.setMoreViewActive(!1, !0);
this.getNextNode();
this.setLabelString();
};
t.prototype.initRoomInfo = function(e) {
this.roomInfo = e;
this.initMoreInfoView();
};
t.prototype.start = function() {
var e = this;
this._waybill.getChildByName("statisticsNode").getChildByName("moreBtn").on("click", function() {
u.default.inst.playEffect("btnSound");
c.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
e._moreView.active ? e.setMoreViewActive(!1) : e.setMoreViewActive(!0);
});
};
t.prototype.getOriginalWaybillList = function() {
return this._originalWaybillList;
};
t.prototype.pushOriginalWaybillList = function(e) {
var t = this;
if (this._originalWaybillList) {
this._originalWaybillList.push(e);
var i = p.default.getInstance().getZplWayBill(this._originalWaybillList, 10);
this.zplInfoList = i;
this.changeZplWaybill(i[i.length - 1], i.length, i, function() {
t._waybillAddTail(t.zplInfoList, "zpl", 1);
t._zplList.numItems = t.zplInfoList.length;
t._scrollTo(t._zplList, t.zplInfoList, o.zplAutoLength + 1);
});
this.scheduleOnce(function() {
var e = p.default.getInstance().setCustomLengthWaybillData(f.default.copyData(t._originalWaybillList), {
dlLength: 15,
dyzLength: 30,
xlLength: 30,
yylLength: 30,
yylColumn: 6
});
t.dlInfoList = e[0];
t._waybillAddTail(t.dlInfoList, "dl", 1);
t._dlList.numItems = t.dlInfoList.length;
t._scrollTo(t._dlList, t.dlInfoList, o.dlAutoLength + 1);
t.dylInfoList = e[2];
t._waybillAddTail(t.dylInfoList, "dyzl", 2);
t._dyzlList.numItems = t.dylInfoList.length;
t._scrollTo(t._dyzlList, t.dylInfoList, o.dyzlAutoLength + 2);
t.xlInfoList = e[3];
t._waybillAddTail(t.xlInfoList, "xl", 2);
t._xlList.numItems = t.xlInfoList.length;
t._scrollTo(t._xlList, t.xlInfoList, o.xlAutoLength + 2);
t.yylInfoList = e[4];
t._waybillAddTail(t.yylInfoList, "yyl", 2);
t._yylList.numItems = t.yylInfoList.length;
t._scrollTo(t._yylList, t.yylInfoList, o.yylAutoLength + 2);
t.initSumLabel();
t._forecastWaybill();
}, 295 / 60);
}
};
t.prototype.changeZplWaybill = function(e, t, i, n) {
if (i.length > o.zplAutoLength) for (var a = 0; a < e.length; a++) {
if (0 == e[a].result) {
this.calculation(t - 1, a, e[a - 1], n);
return;
}
if (5 == a) {
this.calculation(t - 1, a + 1, e[a], n);
return;
}
} else for (a = 0; a < i.length; a++) for (var r = i[a], s = 0; s < r.length; s++) {
if (0 == r[s].result) {
this.calculation(a, s, r[s - 1], function() {
n();
});
return;
}
if (5 == s && (a + 1 == o.zplAutoLength || i[a + 1] && 0 == i[a + 1][0].result)) {
this.calculation(a, s + 1, r[s], function() {
n();
});
return;
}
}
};
t.prototype.setOriginalWaybillList = function(e, t) {
var i = this;
if (this._originalWaybillList && this._originalWaybillCd) {
this._originalWaybillCd = !1;
this.scheduleOnce(function() {
i._originalWaybillCd = !0;
}, 1);
var n, a = [], r = 2;
t && (r = t);
a[0] = function() {
i._originalWaybillList = e;
i.zplInfoList = p.default.getInstance().getZplWayBill(f.default.copyData(i._originalWaybillList), 10);
i._waybillAddTail(i.zplInfoList, "zpl", 1);
i._zplList.numItems = i.zplInfoList.length;
n = p.default.getInstance().setCustomLengthWaybillData(f.default.copyData(i._originalWaybillList), {
dlLength: 15,
dyzLength: 30,
xlLength: 30,
yylLength: 30,
yylColumn: 6
});
i._scrollTo(i._zplList, i.zplInfoList, o.zplAutoLength + 1);
};
a[1] = function() {
i.dlInfoList = n[0];
i._waybillAddTail(i.dlInfoList, "dl", 1);
i._dlList.numItems = i.dlInfoList.length;
i._scrollTo(i._dlList, i.dlInfoList, o.dlAutoLength + 1);
};
a[2] = function() {
i.dylInfoList = n[2];
i._waybillAddTail(i.dylInfoList, "dyzl", 2);
i._dyzlList.numItems = i.dylInfoList.length;
i._scrollTo(i._dyzlList, i.dylInfoList, o.dyzlAutoLength + 2);
};
a[3] = function() {
i.xlInfoList = n[3];
i._waybillAddTail(i.xlInfoList, "xl", 2);
i._xlList.numItems = i.xlInfoList.length;
i._scrollTo(i._xlList, i.xlInfoList, o.xlAutoLength + 2);
};
a[4] = function() {
i.yylInfoList = n[4];
i._waybillAddTail(i.yylInfoList, "yyl", 2);
i._yylList.numItems = i.yylInfoList.length;
i._scrollTo(i._yylList, i.yylInfoList, o.yylAutoLength + 2);
};
a[5] = function() {
i.initSumLabel();
};
a[6] = function() {
i._forecastWaybill();
};
a.forEach(function(e, t) {
i.scheduleOnce(e, t * r / 60);
});
}
};
t.prototype._scrollTo = function(e, t, o) {
t.length > o ? e.scrollTo(t.length) : e.scrollTo(0);
};
t.prototype._waybillAddTail = function(e, t, o) {
if ("zpl" == t) e.push([ {
result: 0
}, {
result: 0
}, {
result: 0
}, {
result: 0
}, {
result: 0
}, {
result: 0
} ]); else if ("dl" == t) {
for (var i = [], n = 0; n < 6; n++) i[n] = {
id: 0,
pice: 0,
player: 0,
banker: 0,
lucky: 0
};
e.push(i);
} else if ("dyzl" == t) for (var a = 0; a < o; a++) e.push([ 0, 0, 0, 0, 0, 0 ]); else if ("xl" == t) for (a = 0; a < o; a++) e.push([ 0, 0, 0, 0, 0, 0 ]); else if ("yyl" == t) for (a = 0; a < o; a++) e.push([ 0, 0, 0, 0, 0, 0 ]);
};
t.prototype.updateZplItem = function(e, t) {
for (var o = this, i = function(e, i, n) {
var a = e.getChildByName("icon1"), r = e.getChildByName("icon2"), s = e.getChildByName("icon3");
a.active = !1;
r.active = !1;
s.active = !1;
if (1 == i.result) {
a.active = !0;
"cn" == d.default.ins.getCountryLanguage() || "tw" == d.default.ins.getCountryLanguage() ? f.default.loadSpriteFrame(a, "zplPlayer", "room/waybill/next/next") : f.default.loadSpriteFrame(a, "zplPlayerEn", "room/waybill/next/next");
} else if (2 == i.result) {
a.active = !0;
"cn" == d.default.ins.getCountryLanguage() || "tw" == d.default.ins.getCountryLanguage() ? f.default.loadSpriteFrame(a, "zplBanker", "room/waybill/next/next") : f.default.loadSpriteFrame(a, "zplBankerEn", "room/waybill/next/next");
} else if (3 == i.result) {
a.active = !0;
"cn" == d.default.ins.getCountryLanguage() || "tw" == d.default.ins.getCountryLanguage() ? f.default.loadSpriteFrame(a, "zplPeace", "room/waybill/next/next") : f.default.loadSpriteFrame(a, "zplPeaceEn", "room/waybill/next/next");
}
i.playerPair && (r.active = !0);
i.bankerPair && (s.active = !0);
if (0 != i.result && o._isShowForecast && o._zplMax.x == t && o._zplMax.y == n - 1) for (var c = 1; c < 4; c++) {
var l = e.getChildByName("icon" + c);
l.active && o._twinkleAnim(l);
}
}, n = this.zplInfoList[t], a = 1; a < 7; a++) i(e.getChildByName("zpl" + a), n[a - 1], a);
};
t.prototype.updateDlItem = function(e, t) {
for (var o = this, i = function(e, i, n) {
var a = e.getChildByName("icon1"), r = e.getChildByName("icon2"), s = e.getChildByName("icon3"), c = e.getChildByName("icon4"), l = e.getChildByName("icon5"), d = e.getChildByName("icon6");
a.active = !1;
r.active = !1;
s.active = !1;
c.active = !1;
l.active = !1;
d.active = !1;
if (1 == i.id) {
a.active = !0;
f.default.loadSpriteFrame(a, "dlBlue", "room/waybill/next/next");
} else if (2 == i.id) {
a.active = !0;
f.default.loadSpriteFrame(a, "dlRed", "room/waybill/next/next");
}
if (1 == i.pice) l.active = !0; else if (i.pice >= 2) {
l.active = !0;
d.active = !0;
}
i.player && (s.active = !0);
i.banker && (c.active = !0);
if (0 != i.id && o._isShowForecast && o._dlMax.x == t && o._dlMax.y == n - 1) for (var h = 1; h < 7; h++) {
var u = e.getChildByName("icon" + h);
u.active && o._twinkleAnim(u);
}
}, n = this.dlInfoList[t], a = 1; a < 7; a++) i(e.getChildByName("dl" + a), n[a - 1], a);
};
t.prototype.updateDyzlItem = function(e, t) {
for (var o = this, i = function(e, i, n, a) {
var r = e.getChildByName("icon1"), s = e.getChildByName("icon2"), c = e.getChildByName("icon3");
s.active = !1;
c.active = !1;
t % 2 == 0 ? f.default.loadSpriteFrame(r, "phoneLeftBg", "room/waybill/next/next") : f.default.loadSpriteFrame(r, "phoneRightBg", "room/waybill/next/next");
if (1 == i) {
s.active = !0;
f.default.loadSpriteFrame(s, "dyzRed", "room/waybill/next/next");
} else if (2 == i) {
s.active = !0;
f.default.loadSpriteFrame(s, "dyzBlue", "room/waybill/next/next");
}
if (1 == n) {
c.active = !0;
f.default.loadSpriteFrame(c, "dyzRed", "room/waybill/next/next");
} else if (2 == n) {
c.active = !0;
f.default.loadSpriteFrame(c, "dyzBlue", "room/waybill/next/next");
}
o._isShowForecast && (0 != i && 0 == n ? o._dyzMax.x == t && Math.ceil((o._dyzMax.y + 1) / 2) == a && o._twinkleAnim(s) : 0 != n && o._dyzMax.x == t && Math.ceil((o._dyzMax.y + 1) / 2) == a && o._twinkleAnim(c));
}, n = this.dylInfoList[t], a = 1; a < 4; a++) {
var r = e.getChildByName("dyz" + a);
1 == a ? i(r, n[0], n[1], a) : 2 == a ? i(r, n[2], n[3], a) : 3 == a && i(r, n[4], n[5], a);
}
};
t.prototype.updateXlItem = function(e, t) {
for (var o = this, i = function(e, i, n, a) {
var r = e.getChildByName("icon1"), s = e.getChildByName("icon2"), c = e.getChildByName("icon3");
s.active = !1;
c.active = !1;
t % 2 == 0 ? f.default.loadSpriteFrame(r, "phoneLeftBg", "room/waybill/next/next") : f.default.loadSpriteFrame(r, "phoneRightBg", "room/waybill/next/next");
if (1 == i) {
s.active = !0;
f.default.loadSpriteFrame(s, "xlRed", "room/waybill/next/next");
} else if (2 == i) {
s.active = !0;
f.default.loadSpriteFrame(s, "xlBlue", "room/waybill/next/next");
}
if (1 == n) {
c.active = !0;
f.default.loadSpriteFrame(c, "xlRed", "room/waybill/next/next");
} else if (2 == n) {
c.active = !0;
f.default.loadSpriteFrame(c, "xlBlue", "room/waybill/next/next");
}
o._isShowForecast && (0 != i && 0 == n ? o._xlMax.x == t && Math.ceil((o._xlMax.y + 1) / 2) == a && o._twinkleAnim(s) : 0 != n && o._xlMax.x == t && Math.ceil((o._xlMax.y + 1) / 2) == a && o._twinkleAnim(c));
}, n = this.xlInfoList[t], a = 1; a < 4; a++) {
var r = e.getChildByName("xl" + a);
1 == a ? i(r, n[0], n[1], a) : 2 == a ? i(r, n[2], n[3], a) : 3 == a && i(r, n[4], n[5], a);
}
};
t.prototype.updateYylItem = function(e, t) {
for (var o = this, i = function(e, i, n, a) {
var r = e.getChildByName("icon1"), s = e.getChildByName("icon2"), c = e.getChildByName("icon3");
s.active = !1;
c.active = !1;
t % 2 == 0 ? f.default.loadSpriteFrame(r, "phoneLeftBg", "room/waybill/next/next") : f.default.loadSpriteFrame(r, "phoneRightBg", "room/waybill/next/next");
if (1 == i) {
s.active = !0;
f.default.loadSpriteFrame(s, "yylRedLine", "room/waybill/next/next");
} else if (2 == i) {
s.active = !0;
f.default.loadSpriteFrame(s, "yylBlueLine", "room/waybill/next/next");
}
if (1 == n) {
c.active = !0;
f.default.loadSpriteFrame(c, "yylRedLine", "room/waybill/next/next");
} else if (2 == n) {
c.active = !0;
f.default.loadSpriteFrame(c, "yylBlueLine", "room/waybill/next/next");
}
o._isShowForecast && (0 != i && 0 == n ? o._yylMax.x == t && Math.ceil((o._yylMax.y + 1) / 2) == a && o._twinkleAnim(s) : 0 != n && o._yylMax.x == t && Math.ceil((o._yylMax.y + 1) / 2) == a && o._twinkleAnim(c));
}, n = this.yylInfoList[t], a = 1; a < 4; a++) {
var r = e.getChildByName("yyl" + a);
1 == a ? i(r, n[0], n[1], a) : 2 == a ? i(r, n[2], n[3], a) : 3 == a && i(r, n[4], n[5], a);
}
};
t.prototype.initSumLabel = function() {
if (this._labelNumList) {
for (var e = 0; e < this._labelNumList.length; e++) this._labelNumList[e] = 0;
this._labelNumList[0] = this._originalWaybillList.length;
for (e = 0; e < this._originalWaybillList.length; e++) {
var t = this._originalWaybillList[e];
1 == t.result ? this._labelNumList[2] += 1 : 2 == t.result ? this._labelNumList[1] += 1 : 3 == t.result && (this._labelNumList[3] += 1);
t.god && (this._labelNumList[4] += 1);
t.lucky && (this._labelNumList[5] += 1);
t.playerPair && (this._labelNumList[7] += 1);
t.bankerPair && (this._labelNumList[6] += 1);
}
this.changeSumLbel();
}
};
t.prototype.changeSumLbel = function() {
for (var e = 0; e < this._labelNumList.length; e++) {
this._tipsSumLabelList[e].getComponent(cc.Label).string = this._labelNumList[e] + "";
0 == e && (this._numberGames.string = f.default.formatMoneyShorter(this._labelNumList[e]));
}
};
t.prototype.getNextNode = function() {
this._newtNode = this._waybill.getChildByName("nextNode");
this._banker_icon1 = this._newtNode.getChildByName("banker_icon1");
this._banker_icon2 = this._newtNode.getChildByName("banker_icon2");
this._banker_icon3 = this._newtNode.getChildByName("banker_icon3");
this._player_icon1 = this._newtNode.getChildByName("player_icon1");
this._player_icon2 = this._newtNode.getChildByName("player_icon2");
this._player_icon3 = this._newtNode.getChildByName("player_icon3");
var e = this._newtNode.getChildByName("bankerBtn"), t = this._newtNode.getChildByName("playerBtn");
e.on("click", this._showForecast, this);
t.on("click", this._showForecast, this);
};
t.prototype.setMoreViewActive = function(e, t) {
var o = this;
this._moreView.active = e;
var i = this._waybill.getChildByName("statisticsNode").getChildByName("moreBtn");
if (e) {
this._moreView.on("click", function() {
c.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
o.setMoreViewActive(!1);
});
i.getChildByName("Background").angle = -180;
} else {
this._moreView.off("click");
i.getChildByName("Background").angle = 0;
t || u.default.inst.playEffect("closeSound");
}
};
t.prototype._forecastWaybill = function() {
f.default.copyData(this._originalWaybillList);
var e = function(e) {
for (var t, o = p.default.getInstance().setRoomListWaybillData(e, 6), i = p.default.getInstance().dyzNumList, n = {
x: 0,
y: 0
}, a = 0, r = 0; r < i.length; r++) for (var s = i[r], c = 0; c < s.length; c++) if (a < s[c]) {
a = s[c];
n.x = r;
n.y = c;
}
t = o[2][n.x] && o[2][n.x][n.y] ? o[2][n.x][n.y] : 0;
var l, d = p.default.getInstance().xlNumList, h = {
x: 0,
y: 0
}, u = 0;
for (r = 0; r < d.length; r++) {
var f = d[r];
for (c = 0; c < f.length; c++) if (u < f[c]) {
u = f[c];
h.x = r;
h.y = c;
}
}
console.log(o[3], p.default.getInstance().xlNumList);
l = o[3][h.x] && o[3][h.x][h.y] ? o[3][h.x][h.y] : 0;
var m = p.default.getInstance().yylNumList, g = {
x: 0,
y: 0
}, y = 0;
for (r = 0; r < m.length; r++) {
var _ = m[r];
for (c = 0; c < _.length; c++) if (y < _[c]) {
y = _[c];
g.x = r;
g.y = c;
}
}
return {
dyzResult: t,
xlResult: l,
yylResult: o[4][g.x] && o[4][g.x][g.y] ? o[4][g.x][g.y] : 0
};
}, t = f.default.copyData(this._originalWaybillList);
t.push({
result: 2
});
var o = f.default.copyData(this._originalWaybillList);
o.push({
result: 1
});
var i = e(t), n = e(o);
this._banker_icon1.active = !1;
this._banker_icon2.active = !1;
this._banker_icon3.active = !1;
this._player_icon1.active = !1;
this._player_icon2.active = !1;
this._player_icon3.active = !1;
var a = function(e, t, o, i) {
if (1 == i) {
f.default.loadSpriteFrame(e, t, "room/waybill/next/next");
e.active = !0;
} else if (2 == i) {
f.default.loadSpriteFrame(e, o, "room/waybill/next/next");
e.active = !0;
}
};
a(this._banker_icon1, "dyz_red", "dyz_blue", i.dyzResult);
a(this._banker_icon2, "xl_red", "xl_blue", i.xlResult);
a(this._banker_icon3, "yyl_red", "yyl_blue", i.yylResult);
a(this._player_icon1, "dyz_red", "dyz_blue", n.dyzResult);
a(this._player_icon2, "xl_red", "xl_blue", n.xlResult);
a(this._player_icon3, "yyl_red", "yyl_blue", n.yylResult);
};
t.prototype.calculation = function(e, t, o, i) {
return r(this, void 0, void 0, function() {
var n, a, r, c, l, h, u, p, m;
return s(this, function() {
n = this._zplListScrollview.parent.x;
a = this._zplListScrollview.parent.y;
r = 55 * (e + 1) - 27.5;
c = 329 - 55 * t - 137;
l = this._zplListScrollview.getComponent(cc.ScrollView).getScrollOffset();
h = n + r + l.x;
u = a + c + l.y;
(p = new cc.Node()).addComponent(cc.Sprite);
p.parent = this.node;
p.scale = 60 / 260;
m = "room/dynamicLoading/settlePlayer";
1 == o.result ? m = "cn" == d.default.ins.getCountryLanguage() || "tw" == d.default.ins.getCountryLanguage() ? "room/dynamicLoading/settlePlayer" : "room/dynamicLoading/settlePlayerEn" : 2 == o.result ? m = "cn" == d.default.ins.getCountryLanguage() || "tw" == d.default.ins.getCountryLanguage() ? "room/dynamicLoading/settleBanker" : "room/dynamicLoading/settleBankerEn" : 3 == o.result && (m = "cn" == d.default.ins.getCountryLanguage() || "tw" == d.default.ins.getCountryLanguage() ? "room/dynamicLoading/settleDraw" : "room/dynamicLoading/settleDrawEn");
f.default.loadSpriteFrame(p, m);
p.setPosition(0, 40);
cc.tween(p).to(16 / 60, {
scale: 60 / 260
}).to(.2, {
scale: 450 / 260
}).to(.2, {
scale: 265 / 260 * 450 / 260
}).delay(130 / 60).to(1.2, {
scale: 280 / 260 * 450 / 260
}, {
easing: "quadOut"
}).to(13 / 60, {
scale: 55 / 260,
position: cc.v3(h, u)
}).call(function() {
p.destroy();
i();
}, this).start();
return [ 2 ];
});
});
};
t.prototype.tigerAnim = function(e, t, o, i) {
var n = this, a = o;
u.default.inst.playEffect(i);
this._tigerSpine.stopAllActions();
this._tigerSpine.active = !0;
this._tigerSpine.opacity = 255;
this._tigerSpine.setPosition(0, -150);
this._tigerSpine.scale = 1;
this._tigerSpine.getComponent(sp.Skeleton).clearTrack(0);
this._tigerSpine.getComponent(sp.Skeleton).setCompleteListener(function() {
cc.tween(n._tigerSpine).call(function() {
n._tigerSpine.getComponent(sp.Skeleton).setAnimation(0, "Idle", !0);
}, n).delay(3).to(13 / 60, {
scale: 55 / 2856,
position: cc.v3(e, t),
opacity: 0
}).call(function() {
n._tigerSpine.active = !1;
a();
}, n).start();
});
var r;
r = "tiger1" == i ? "Go" : "Go2";
this._tigerSpine.getComponent(sp.Skeleton).setAnimation(0, r, !1);
};
t.prototype.clearAllItem = function() {
this.setOriginalWaybillList([]);
};
t.prototype.initMoreInfoView = function() {
for (var e = [], t = 1; t <= 10; t++) e[t] = this._moreView.getChildByName("title" + t);
var o = [];
for (t = 1; t <= 7; t++) o[t] = this._moreView.getChildByName("info" + t);
o[1].getComponent(cc.Label).string = f.default.formatMoneyShorter(this.roomInfo.minChip);
o[2].getComponent(cc.Label).string = f.default.formatMoneyShorter(this.roomInfo.maxChip);
o[3].getComponent(cc.Label).string = f.default.formatMoneyShorter(this.roomInfo.minChip);
o[5].getComponent(cc.Label).string = f.default.formatMoneyShorter(this.roomInfo.maxChipDraw);
o[4].getComponent(cc.Label).string = f.default.formatMoneyShorter(this.roomInfo.maxChipOther);
this._numberGames = o[6].getComponent(cc.Label);
o[6].getComponent(cc.Label).string = f.default.formatMoneyShorter(this.roomInfo.roundCountAfterShuffle);
o[7].getComponent(cc.Label).string = f.default.formatMoneyShorter(this.roomInfo.roomID);
};
t.prototype.setLabelString = function() {
return r(this, void 0, void 0, function() {
var e, t;
return s(this, function() {
(e = this._waybill.getChildByName("moreInfo")).getChildByName("title1").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("roadMoreInfo1");
e.getChildByName("title2").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("roadMoreInfo2");
e.getChildByName("title3").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("roadMoreInfo17");
e.getChildByName("title4").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("roadMoreInfo16");
e.getChildByName("title5").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("roadMoreInfo21");
e.getChildByName("title6").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("roadMoreInfo22");
e.getChildByName("title7").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("roadMoreInfo7");
e.getChildByName("title8").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("roadMoreInfo8");
e.getChildByName("title9").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("roadMoreInfo9");
e.getChildByName("title10").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("roadMoreInfo10");
this._zplListScrollview.getChildByName("label").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("zpRoad");
this._dlListScrollview.getChildByName("label").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("dlRoad");
this._dyzlListScrollview.getChildByName("label").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("dyRoad");
this._xlListScrollview.getChildByName("label").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("xlRoad");
this._yylListScrollview.getChildByName("label").getComponent(cc.Label).string = d.default.ins.STRING_ROOM("yyRoad");
this._waybill.getChildByName("statisticsNode").getChildByName("moreLabel").getComponent(cc.Label).string = d.default.ins.STRING_COMMON("more");
this._originalWaybillList.length > 0 && this.setOriginalWaybillList(this._originalWaybillList);
t = this._waybill.getChildByName("statisticsNode");
if ("cn" == d.default.ins.getCountryLanguage() || "tw" == d.default.ins.getCountryLanguage()) {
f.default.loadSpriteFrame(t.getChildByName("icon1"), "icon1", "room/waybill/next/next");
f.default.loadSpriteFrame(t.getChildByName("icon2"), "icon2", "room/waybill/next/next");
f.default.loadSpriteFrame(t.getChildByName("icon3"), "icon3", "room/waybill/next/next");
f.default.loadSpriteFrame(t.getChildByName("icon4"), "icon4", "room/waybill/next/next");
f.default.loadSpriteFrame(t.getChildByName("icon5"), "icon5", "room/waybill/next/next");
f.default.loadSpriteFrame(this._waybill.getChildByName("nextNode").getChildByName("banker"), "banker", "room/waybill/next/next");
f.default.loadSpriteFrame(this._waybill.getChildByName("nextNode").getChildByName("player"), "player", "room/waybill/next/next");
e.getChildByName("title3").active = !0;
e.getChildByName("title7").active = !0;
} else {
f.default.loadSpriteFrame(t.getChildByName("icon1"), "icon1En", "room/waybill/next/next");
f.default.loadSpriteFrame(t.getChildByName("icon2"), "icon2En", "room/waybill/next/next");
f.default.loadSpriteFrame(t.getChildByName("icon3"), "icon3En", "room/waybill/next/next");
f.default.loadSpriteFrame(t.getChildByName("icon4"), "icon4En", "room/waybill/next/next");
f.default.loadSpriteFrame(t.getChildByName("icon5"), "icon5En", "room/waybill/next/next");
f.default.loadSpriteFrame(this._waybill.getChildByName("nextNode").getChildByName("banker"), "bankerEn", "room/waybill/next/next");
f.default.loadSpriteFrame(this._waybill.getChildByName("nextNode").getChildByName("player"), "playerEn", "room/waybill/next/next");
e.getChildByName("title3").active = !1;
e.getChildByName("title5").active = !1;
e.getChildByName("title7").active = !1;
}
return [ 2 ];
});
});
};
t.prototype._showForecast = function(e) {
var t = this;
if ("settlement" != l.default.roomData.gameState && !this._isShowForecast) {
u.default.inst.playEffect("btnSound");
var i = e.node, n = function(e) {
var i = p.default.getInstance().getZplWayBill(e, 10), n = p.default.getInstance().setCustomLengthWaybillData(f.default.copyData(e), {
dlLength: 15,
dyzLength: 30,
xlLength: 30,
yylLength: 30,
yylColumn: 6
}), a = p.default.getInstance().zplNumList, r = p.default.getInstance().dlNumList, s = p.default.getInstance().dyzNumList, c = p.default.getInstance().xlNumList, l = p.default.getInstance().yylNumList;
function d(e) {
for (var t = {
x: 0,
y: 0
}, o = 0, i = 0; i < e.length; i++) for (var n = e[i], a = 0; a < n.length; a++) if (o < n[a]) {
o = n[a];
t.x = i;
t.y = a;
}
return t;
}
t._zplMax = d(a);
t._dlMax = d(r);
t._dyzMax = d(s);
t._xlMax = d(c);
t._yylMax = d(l);
var h = function(e, i) {
t.zplInfoList = e;
t._waybillAddTail(t.zplInfoList, "zpl", 1);
t._zplList.numItems = t.zplInfoList.length;
t.dlInfoList = i[0];
t._waybillAddTail(t.dlInfoList, "dl", 1);
t._dlList.numItems = t.dlInfoList.length;
t._scrollTo(t._dlList, t.dlInfoList, o.dlAutoLength + 1);
t.dylInfoList = i[2];
t._waybillAddTail(t.dylInfoList, "dyzl", 2);
t._dyzlList.numItems = t.dylInfoList.length;
t._scrollTo(t._dyzlList, t.dylInfoList, o.dyzlAutoLength + 2);
t.xlInfoList = i[3];
t._waybillAddTail(t.xlInfoList, "xl", 2);
t._xlList.numItems = t.xlInfoList.length;
t._scrollTo(t._xlList, t.xlInfoList, o.xlAutoLength + 2);
t.yylInfoList = i[4];
t._waybillAddTail(t.yylInfoList, "yyl", 2);
t._yylList.numItems = t.yylInfoList.length;
t._scrollTo(t._yylList, t.yylInfoList, o.yylAutoLength + 2);
};
t._isShowForecast = !0;
t.scheduleOnce(function() {
t._isShowForecast = !1;
var e = p.default.getInstance().getZplWayBill(f.default.copyData(t._originalWaybillList), 10), o = p.default.getInstance().setCustomLengthWaybillData(f.default.copyData(t._originalWaybillList), {
dlLength: 15,
dyzLength: 30,
xlLength: 30,
yylLength: 30,
yylColumn: 6
});
h(e, o);
}, 4);
h(i, n);
};
if ("bankerBtn" == i.name) {
var a = f.default.copyData(this._originalWaybillList);
a.push({
result: 2
});
n(a);
} else if ("playerBtn" == i.name) {
var r = f.default.copyData(this._originalWaybillList);
r.push({
result: 1
});
n(r);
}
}
};
t.prototype._twinkleAnim = function(e) {
e.opacity = 0;
cc.tween(e).delay(.5).to(0, {
opacity: 255
}).delay(.5).to(0, {
opacity: 0
}).delay(.5).to(0, {
opacity: 255
}).delay(.5).to(0, {
opacity: 0
}).delay(.5).to(0, {
opacity: 255
}).start();
};
var o;
t.zplAutoLength = 10;
t.dlAutoLength = 15;
t.dyzlAutoLength = 30;
t.xlAutoLength = 30;
t.yylAutoLength = 30;
return o = a([ g ], t);
}(cc.Component));
o.default = y;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../UIFrame/List": "List",
"../UIFrame/SoundMgr": "SoundMgr",
"../Util/CalculationLine": "CalculationLine",
"../Util/GameUtil": "GameUtil"
} ],
RoomWaybillScroll: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3355d3AvU1NTZuxzgRJT/Zk", "RoomWaybillScroll");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../../Util/CalculationLine"), l = e("../../Util/GameUtil"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.frameNum = 0;
t.tempItem = null;
t.tempItem2 = null;
return t;
}
t.prototype.onLoad = function() {
this._listScrollview = this.node.getChildByName("scrollview");
this._scrollview = this._listScrollview.getComponent(cc.ScrollView);
this._content = l.default.seekChild(this._listScrollview, "content");
this._originalWaybillList = [];
this._itemList = [];
this._itemRoute = "";
this._itemScript = "";
this._itemWidth = 0;
this._half = !1;
this._myLength = 0;
};
t.prototype.static = function() {};
t.prototype.setData = function(e, t, o, i) {
this._itemRoute = e;
this._itemScript = t;
this._itemWidth = o;
this._prefab = i;
};
t.prototype.setHalf = function() {
this._half = !0;
};
t.prototype.initWaybill = function() {
return r(this, void 0, void 0, function() {
var e, t, o, i, n = this;
return s(this, function() {
if (!this._itemList) return [ 2 ];
e = 0;
t = function(t) {
if (o.frameNum <= 0) {
var i = cc.instantiate(o._prefab);
l.default.isnull(o._content) && o._content.addChild(i);
o._half ? i.getComponent(o._itemScript).setData(t, o._originalWaybillList[t]) : i.getComponent(o._itemScript).setData(o._originalWaybillList[t]);
o._itemList[t] = i;
} else {
0 == t && (e = Math.floor(o._originalWaybillList.length / 5) * o.frameNum / 60);
var a = Math.floor(t / 5) * o.frameNum / 60;
o.scheduleOnce(function() {
var e = cc.instantiate(n._prefab);
l.default.isnull(n._content) && n._content.addChild(e);
n._half ? e.getComponent(n._itemScript).setData(t, n._originalWaybillList[t]) : e.getComponent(n._itemScript).setData(n._originalWaybillList[t]);
n._itemList[t] = e;
}, a);
}
};
o = this;
for (i = 0; i < this._originalWaybillList.length; i++) t(i);
this.scheduleOnce(function() {
switch (n._itemRoute) {
case "prefab/waybill/zplItem":
n._myLength = c.default.zplAutoLength;
break;

case "prefab/waybill/dlItem":
n._myLength = c.default.dlAutoLength;
break;

case "prefab/waybill/dyzItem":
n._myLength = c.default.dyzlAutoLength;
break;

case "prefab/waybill/xlItem":
n._myLength = c.default.xlAutoLength;
break;

case "prefab/waybill/yylItem":
n._myLength = c.default.yylAutoLength;
}
n._isLastAddItem();
n._isToRight();
}, e);
return [ 2 ];
});
});
};
t.prototype.setFrameLoading = function(e) {
this.frameNum = e;
};
t.prototype.addWaybill = function() {
return r(this, void 0, void 0, function() {
var e;
return s(this, function() {
this.tempItem && this.tempItem.removeFromParent();
this.tempItem2 && this.tempItem2.removeFromParent();
if (this._originalWaybillList.length == this._itemList.length) {
e = this._itemList[this._itemList.length - 1];
this._half ? l.default.isnull(e) && e.getComponent(this._itemScript).setData(this._originalWaybillList.length - 1, this._originalWaybillList[this._originalWaybillList.length - 1]) : l.default.isnull(e) && e.getComponent(this._itemScript).setData(this._originalWaybillList[this._originalWaybillList.length - 1]);
} else if (this._originalWaybillList.length > this._itemList.length) {
e = cc.instantiate(this._prefab);
this._content.addChild(e);
this._half ? l.default.isnull(e) && e.getComponent(this._itemScript).setData(this._originalWaybillList.length, this._originalWaybillList[this._originalWaybillList.length - 1]) : l.default.isnull(e) && e.getComponent(this._itemScript).setData(this._originalWaybillList[this._originalWaybillList.length - 1]);
this._itemList.push(e);
}
this._isLastAddItem();
this._isToRight();
return [ 2 ];
});
});
};
t.prototype._isLastAddItem = function() {
return r(this, void 0, void 0, function() {
return s(this, function() {
if (this._half) {
this._myLength = this._originalWaybillList.length + 2;
this.tempItem = cc.instantiate(this._prefab);
this._content.addChild(this.tempItem);
l.default.isnull(this.tempItem) && this.tempItem.getComponent(this._itemScript).setData(2, {});
this.tempItem2 = cc.instantiate(this._prefab);
this._content.addChild(this.tempItem2);
l.default.isnull(this.tempItem2) && this.tempItem2.getComponent(this._itemScript).setData(1, {});
} else {
this._myLength = this._originalWaybillList.length + 1;
this.tempItem = cc.instantiate(this._prefab);
this._content.addChild(this.tempItem);
}
return [ 2 ];
});
});
};
t.prototype._isToRight = function() {
this._content.width = this._itemWidth * (this._originalWaybillList.length + 1);
"prefab/waybill/zplItem" == this._itemRoute && this._originalWaybillList.length <= c.default.zplAutoLength || "prefab/waybill/dlItem" == this._itemRoute && this._originalWaybillList.length <= c.default.dlAutoLength || "prefab/waybill/dyzItem" == this._itemRoute && this._originalWaybillList.length <= c.default.dyzlAutoLength || "prefab/waybill/xlItem" == this._itemRoute && this._originalWaybillList.length <= c.default.xlAutoLength || "prefab/waybill/yylItem" == this._itemRoute && this._originalWaybillList.length <= c.default.yylAutoLength || this._scrollview.scrollToRight();
};
t.prototype.setOriginalWaybillList = function(e) {
return r(this, void 0, void 0, function() {
return s(this, function() {
this._originalWaybillList = e;
this.initWaybill();
return [ 2 ];
});
});
};
t.prototype.pushOriginalWaybillList = function(e, t) {
this._originalWaybillList.length < t ? this._originalWaybillList.push(e) : this._originalWaybillList.length == t && (this._originalWaybillList[this._originalWaybillList.length - 1] = e);
this.addWaybill();
};
t.prototype.longWayHandle = function(e, t) {
this._originalWaybillList[e] = t;
var o = this._itemList[e];
this._half ? l.default.isnull(o) && o.getComponent(this._itemScript).setData(e, this._originalWaybillList[e]) : l.default.isnull(o) && o.getComponent(this._itemScript).setData(this._originalWaybillList[e]);
this._isToRight();
this.onSlide(this._listScrollview, this._itemList);
};
t.prototype.onSlide = function() {};
t.prototype.clearItem = function() {
this._content.destroyAllChildren();
this._itemList = [];
this._originalWaybillList = [];
this.initWaybill();
};
return a([ h ], t);
}(cc.Component));
o.default = u;
cc._RF.pop();
}, {
"../../Util/CalculationLine": "CalculationLine",
"../../Util/GameUtil": "GameUtil"
} ],
RoomWaybill: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8343099ialGSbprWK4boEf6", "RoomWaybill");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../Components/MyEvent"), l = e("../Conf/Const"), d = e("../Data/GameData"), h = e("../Data/LanguageData"), u = e("../UIFrame/List"), p = e("../UIFrame/SoundMgr"), f = e("../Util/CalculationLine"), m = e("../Util/GameUtil"), g = cc._decorator, y = g.ccclass, _ = (g.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._isShowForecast = !1;
t.gameType = l.gameType.baccarat;
t._originalWaybillCd = !0;
return t;
}
o = t;
t.prototype.onLoad = function() {
this._waybill = this.node;
this._originalWaybillList = [];
this._moreView = this.node.getChildByName("moreInfo");
this._zplListScrollview = this._waybill.getChildByName("zplBg").getChildByName("scrollview");
this._zplList = this._zplListScrollview.getComponent(u.default);
this._dlListScrollview = this._waybill.getChildByName("dlBg").getChildByName("scrollview");
this._dlList = this._dlListScrollview.getComponent(u.default);
this._dyzlListScrollview = this._waybill.getChildByName("dylBg").getChildByName("scrollview");
this._dyzlList = this._dyzlListScrollview.getComponent(u.default);
this._xlListScrollview = this._waybill.getChildByName("xlBg").getChildByName("scrollview");
this._xlList = this._xlListScrollview.getComponent(u.default);
this._yylListScrollview = this._waybill.getChildByName("yylBg").getChildByName("scrollview");
this._yylList = this._yylListScrollview.getComponent(u.default);
this._tigerSpine = this.node.getChildByName("spine");
this._tigerSpine.active = !1;
this._tipsSumLabelList = [];
this._labelNumList = [];
for (var e = 1; e < 9; e++) {
var t = this._waybill.getChildByName("statisticsNode").getChildByName("sum" + e);
this._tipsSumLabelList.push(t);
this._labelNumList.push(0);
}
this.initMoreInfoView();
this.setMoreViewActive(!1, !0);
this.getNextNode();
this.setLabelString();
};
t.prototype.setGameType = function(e) {
this.gameType = e;
};
t.prototype.start = function() {
var e = this;
this._waybill.getChildByName("statisticsNode").getChildByName("moreBtn").on("click", function() {
p.default.inst.playEffect("btnSound");
c.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
e._moreView.active ? e.setMoreViewActive(!1) : e.setMoreViewActive(!0);
});
};
t.prototype.getOriginalWaybillList = function() {
return this._originalWaybillList;
};
t.prototype.pushOriginalWaybillList = function(e) {
var t = this;
if (this._originalWaybillList) {
this._originalWaybillList.push(e);
var i = f.default.getInstance().getZplWayBill(this._originalWaybillList, 10);
this.zplInfoList = i;
this.changeZplWaybill(i[i.length - 1], i.length, i, function() {
t._waybillAddTail(t.zplInfoList, "zpl", 1);
t._zplList.numItems = t.zplInfoList.length;
t._scrollTo(t._zplList, t.zplInfoList, o.zplAutoLength + 1);
});
this.scheduleOnce(function() {
var e = f.default.getInstance().setCustomLengthWaybillData(m.default.copyData(t._originalWaybillList), {
dlLength: 15,
dyzLength: 30,
xlLength: 30,
yylLength: 30,
yylColumn: 6
});
t.dlInfoList = e[0];
t._waybillAddTail(t.dlInfoList, "dl", 1);
t._dlList.numItems = t.dlInfoList.length;
t._scrollTo(t._dlList, t.dlInfoList, o.dlAutoLength + 1);
t.dylInfoList = e[2];
t._waybillAddTail(t.dylInfoList, "dyzl", 2);
t._dyzlList.numItems = t.dylInfoList.length;
t._scrollTo(t._dyzlList, t.dylInfoList, o.dyzlAutoLength + 2);
t.xlInfoList = e[3];
t._waybillAddTail(t.xlInfoList, "xl", 2);
t._xlList.numItems = t.xlInfoList.length;
t._scrollTo(t._xlList, t.xlInfoList, o.xlAutoLength + 2);
t.yylInfoList = e[4];
t._waybillAddTail(t.yylInfoList, "yyl", 2);
t._yylList.numItems = t.yylInfoList.length;
t._scrollTo(t._yylList, t.yylInfoList, o.yylAutoLength + 2);
t.initSumLabel();
t._forecastWaybill();
}, 295 / 60);
}
};
t.prototype.changeZplWaybill = function(e, t, i, n) {
if (i.length > o.zplAutoLength) for (var a = 0; a < e.length; a++) {
if (0 == e[a].result) {
this.calculation(t - 1, a, e[a - 1], n);
return;
}
if (5 == a) {
this.calculation(t - 1, a + 1, e[a], n);
return;
}
} else for (a = 0; a < i.length; a++) for (var r = i[a], s = 0; s < r.length; s++) {
if (0 == r[s].result) {
this.calculation(a, s, r[s - 1], function() {
n();
});
return;
}
if (5 == s && (a + 1 == o.zplAutoLength || i[a + 1] && 0 == i[a + 1][0].result)) {
this.calculation(a, s + 1, r[s], function() {
n();
});
return;
}
}
};
t.prototype.setOriginalWaybillList = function(e, t) {
var i = this;
if (this._originalWaybillList && this._originalWaybillCd) {
this._originalWaybillCd = !1;
this.scheduleOnce(function() {
i._originalWaybillCd = !0;
}, 1);
var n, a = [], r = 2;
t && (r = t);
a[0] = function() {
i._originalWaybillList = e;
i.zplInfoList = f.default.getInstance().getZplWayBill(m.default.copyData(i._originalWaybillList), 10);
i._waybillAddTail(i.zplInfoList, "zpl", 1);
i._zplList.numItems = i.zplInfoList.length;
n = f.default.getInstance().setCustomLengthWaybillData(m.default.copyData(i._originalWaybillList), {
dlLength: 15,
dyzLength: 30,
xlLength: 30,
yylLength: 30,
yylColumn: 6
});
i._scrollTo(i._zplList, i.zplInfoList, o.zplAutoLength + 1);
};
a[1] = function() {
i.dlInfoList = n[0];
i._waybillAddTail(i.dlInfoList, "dl", 1);
i._dlList.numItems = i.dlInfoList.length;
i._scrollTo(i._dlList, i.dlInfoList, o.dlAutoLength + 1);
};
a[2] = function() {
i.dylInfoList = n[2];
i._waybillAddTail(i.dylInfoList, "dyzl", 2);
i._dyzlList.numItems = i.dylInfoList.length;
i._scrollTo(i._dyzlList, i.dylInfoList, o.dyzlAutoLength + 2);
};
a[3] = function() {
i.xlInfoList = n[3];
i._waybillAddTail(i.xlInfoList, "xl", 2);
i._xlList.numItems = i.xlInfoList.length;
i._scrollTo(i._xlList, i.xlInfoList, o.xlAutoLength + 2);
};
a[4] = function() {
i.yylInfoList = n[4];
i._waybillAddTail(i.yylInfoList, "yyl", 2);
i._yylList.numItems = i.yylInfoList.length;
i._scrollTo(i._yylList, i.yylInfoList, o.yylAutoLength + 2);
};
a[5] = function() {
i.initSumLabel();
};
a[6] = function() {
i._forecastWaybill();
};
a.forEach(function(e, t) {
i.scheduleOnce(e, t * r / 60);
});
}
};
t.prototype._scrollTo = function(e, t, o) {
t.length > o ? e.scrollTo(t.length) : e.scrollTo(0);
};
t.prototype._waybillAddTail = function(e, t, o) {
if ("zpl" == t) e.push([ {
result: 0
}, {
result: 0
}, {
result: 0
}, {
result: 0
}, {
result: 0
}, {
result: 0
} ]); else if ("dl" == t) {
for (var i = [], n = 0; n < 6; n++) i[n] = {
id: 0,
pice: 0,
player: 0,
banker: 0,
lucky: 0
};
e.push(i);
} else if ("dyzl" == t) for (var a = 0; a < o; a++) e.push([ 0, 0, 0, 0, 0, 0 ]); else if ("xl" == t) for (a = 0; a < o; a++) e.push([ 0, 0, 0, 0, 0, 0 ]); else if ("yyl" == t) for (a = 0; a < o; a++) e.push([ 0, 0, 0, 0, 0, 0 ]);
};
t.prototype.updateZplItem = function(e, t) {
for (var o = this, i = function(e, i, n) {
var a = e.getChildByName("icon1"), r = e.getChildByName("icon2"), s = e.getChildByName("icon3");
a.active = !1;
r.active = !1;
s.active = !1;
if (1 == i.result) {
a.active = !0;
"cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage() ? m.default.loadSpriteFrame(a, "zplPlayer", "room/waybill/next/next") : m.default.loadSpriteFrame(a, "zplPlayerEn", "room/waybill/next/next");
} else if (2 == i.result) {
a.active = !0;
"cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage() ? m.default.loadSpriteFrame(a, "zplBanker", "room/waybill/next/next") : m.default.loadSpriteFrame(a, "zplBankerEn", "room/waybill/next/next");
} else if (3 == i.result) {
a.active = !0;
"cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage() ? m.default.loadSpriteFrame(a, "zplPeace", "room/waybill/next/next") : m.default.loadSpriteFrame(a, "zplPeaceEn", "room/waybill/next/next");
}
i.playerPair && (r.active = !0);
i.bankerPair && (s.active = !0);
i.lucky && m.default.loadSpriteFrame(a, "tigerLuck", "room/waybill/next/next");
i.tigerDraw && d.default.roomData.playType == l.baccaratRoomType.singapore && m.default.loadSpriteFrame(a, "tigerDraw", "room/waybill/next/next");
if (0 != i.result && o._isShowForecast && o._zplMax.x == t && o._zplMax.y == n - 1) for (var c = 1; c < 4; c++) {
var u = e.getChildByName("icon" + c);
u.active && o._twinkleAnim(u);
}
}, n = this.zplInfoList[t], a = 1; a < 7; a++) i(e.getChildByName("zpl" + a), n[a - 1], a);
};
t.prototype.updateDlItem = function(e, t) {
for (var o = this, i = function(e, i, n) {
var a = e.getChildByName("icon1"), r = e.getChildByName("icon2"), s = e.getChildByName("icon3"), c = e.getChildByName("icon4"), l = e.getChildByName("icon5"), d = e.getChildByName("icon6");
a.active = !1;
r.active = !1;
s.active = !1;
c.active = !1;
l.active = !1;
d.active = !1;
if (1 == i.id) {
a.active = !0;
m.default.loadSpriteFrame(a, "dlBlue", "room/waybill/next/next");
} else if (2 == i.id) {
a.active = !0;
m.default.loadSpriteFrame(a, "dlRed", "room/waybill/next/next");
}
if (1 == i.pice) l.active = !0; else if (i.pice >= 2) {
l.active = !0;
d.active = !0;
}
i.player && (s.active = !0);
i.banker && (c.active = !0);
i.lucky && (r.active = !0);
if (0 != i.id && o._isShowForecast && o._dlMax.x == t && o._dlMax.y == n - 1) for (var h = 1; h < 7; h++) {
var u = e.getChildByName("icon" + h);
u.active && o._twinkleAnim(u);
}
}, n = this.dlInfoList[t], a = 1; a < 7; a++) i(e.getChildByName("dl" + a), n[a - 1], a);
};
t.prototype.updateDyzlItem = function(e, t) {
for (var o = this, i = function(e, i, n, a) {
var r = e.getChildByName("icon1"), s = e.getChildByName("icon2"), c = e.getChildByName("icon3");
s.active = !1;
c.active = !1;
t % 2 == 0 ? m.default.loadSpriteFrame(r, "phoneLeftBg", "room/waybill/next/next") : m.default.loadSpriteFrame(r, "phoneRightBg", "room/waybill/next/next");
if (1 == i) {
s.active = !0;
m.default.loadSpriteFrame(s, "dyzRed", "room/waybill/next/next");
} else if (2 == i) {
s.active = !0;
m.default.loadSpriteFrame(s, "dyzBlue", "room/waybill/next/next");
}
if (1 == n) {
c.active = !0;
m.default.loadSpriteFrame(c, "dyzRed", "room/waybill/next/next");
} else if (2 == n) {
c.active = !0;
m.default.loadSpriteFrame(c, "dyzBlue", "room/waybill/next/next");
}
o._isShowForecast && (0 != i && 0 == n ? o._dyzMax.x == t && Math.ceil((o._dyzMax.y + 1) / 2) == a && o._twinkleAnim(s) : 0 != n && o._dyzMax.x == t && Math.ceil((o._dyzMax.y + 1) / 2) == a && o._twinkleAnim(c));
}, n = this.dylInfoList[t], a = 1; a < 4; a++) {
var r = e.getChildByName("dyz" + a);
1 == a ? i(r, n[0], n[1], a) : 2 == a ? i(r, n[2], n[3], a) : 3 == a && i(r, n[4], n[5], a);
}
};
t.prototype.updateXlItem = function(e, t) {
for (var o = this, i = function(e, i, n, a) {
var r = e.getChildByName("icon1"), s = e.getChildByName("icon2"), c = e.getChildByName("icon3");
s.active = !1;
c.active = !1;
t % 2 == 0 ? m.default.loadSpriteFrame(r, "phoneLeftBg", "room/waybill/next/next") : m.default.loadSpriteFrame(r, "phoneRightBg", "room/waybill/next/next");
if (1 == i) {
s.active = !0;
m.default.loadSpriteFrame(s, "xlRed", "room/waybill/next/next");
} else if (2 == i) {
s.active = !0;
m.default.loadSpriteFrame(s, "xlBlue", "room/waybill/next/next");
}
if (1 == n) {
c.active = !0;
m.default.loadSpriteFrame(c, "xlRed", "room/waybill/next/next");
} else if (2 == n) {
c.active = !0;
m.default.loadSpriteFrame(c, "xlBlue", "room/waybill/next/next");
}
o._isShowForecast && (0 != i && 0 == n ? o._xlMax.x == t && Math.ceil((o._xlMax.y + 1) / 2) == a && o._twinkleAnim(s) : 0 != n && o._xlMax.x == t && Math.ceil((o._xlMax.y + 1) / 2) == a && o._twinkleAnim(c));
}, n = this.xlInfoList[t], a = 1; a < 4; a++) {
var r = e.getChildByName("xl" + a);
1 == a ? i(r, n[0], n[1], a) : 2 == a ? i(r, n[2], n[3], a) : 3 == a && i(r, n[4], n[5], a);
}
};
t.prototype.updateYylItem = function(e, t) {
for (var o = this, i = function(e, i, n, a) {
var r = e.getChildByName("icon1"), s = e.getChildByName("icon2"), c = e.getChildByName("icon3");
s.active = !1;
c.active = !1;
t % 2 == 0 ? m.default.loadSpriteFrame(r, "phoneLeftBg", "room/waybill/next/next") : m.default.loadSpriteFrame(r, "phoneRightBg", "room/waybill/next/next");
if (1 == i) {
s.active = !0;
m.default.loadSpriteFrame(s, "yylRedLine", "room/waybill/next/next");
} else if (2 == i) {
s.active = !0;
m.default.loadSpriteFrame(s, "yylBlueLine", "room/waybill/next/next");
}
if (1 == n) {
c.active = !0;
m.default.loadSpriteFrame(c, "yylRedLine", "room/waybill/next/next");
} else if (2 == n) {
c.active = !0;
m.default.loadSpriteFrame(c, "yylBlueLine", "room/waybill/next/next");
}
o._isShowForecast && (0 != i && 0 == n ? o._yylMax.x == t && Math.ceil((o._yylMax.y + 1) / 2) == a && o._twinkleAnim(s) : 0 != n && o._yylMax.x == t && Math.ceil((o._yylMax.y + 1) / 2) == a && o._twinkleAnim(c));
}, n = this.yylInfoList[t], a = 1; a < 4; a++) {
var r = e.getChildByName("yyl" + a);
1 == a ? i(r, n[0], n[1], a) : 2 == a ? i(r, n[2], n[3], a) : 3 == a && i(r, n[4], n[5], a);
}
};
t.prototype.initSumLabel = function() {
if (this._labelNumList) {
for (var e = 0; e < this._labelNumList.length; e++) this._labelNumList[e] = 0;
this._labelNumList[0] = this._originalWaybillList.length;
for (e = 0; e < this._originalWaybillList.length; e++) {
var t = this._originalWaybillList[e];
1 == t.result ? this._labelNumList[2] += 1 : 2 == t.result ? this._labelNumList[1] += 1 : 3 == t.result && (this._labelNumList[3] += 1);
t.god && (this._labelNumList[4] += 1);
t.lucky && (this._labelNumList[5] += 1);
t.playerPair && (this._labelNumList[7] += 1);
t.bankerPair && (this._labelNumList[6] += 1);
}
this.changeSumLbel();
}
};
t.prototype.changeSumLbel = function() {
for (var e = 0; e < this._labelNumList.length; e++) {
this._tipsSumLabelList[e].getComponent(cc.Label).string = this._labelNumList[e] + "";
0 == e && (this._numberGames.string = m.default.formatMoneyShorter(this._labelNumList[e]));
}
};
t.prototype.getNextNode = function() {
this._newtNode = this._waybill.getChildByName("nextNode");
this._banker_icon1 = this._newtNode.getChildByName("banker_icon1");
this._banker_icon2 = this._newtNode.getChildByName("banker_icon2");
this._banker_icon3 = this._newtNode.getChildByName("banker_icon3");
this._player_icon1 = this._newtNode.getChildByName("player_icon1");
this._player_icon2 = this._newtNode.getChildByName("player_icon2");
this._player_icon3 = this._newtNode.getChildByName("player_icon3");
var e = this._newtNode.getChildByName("bankerBtn"), t = this._newtNode.getChildByName("playerBtn");
e.on("click", this._showForecast, this);
t.on("click", this._showForecast, this);
};
t.prototype.setMoreViewActive = function(e, t) {
var o = this;
this._moreView.active = e;
var i = this._waybill.getChildByName("statisticsNode").getChildByName("moreBtn");
if (e) {
this._moreView.on("click", function() {
c.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
o.setMoreViewActive(!1);
});
i.getChildByName("Background").angle = -180;
} else {
this._moreView.off("click");
i.getChildByName("Background").angle = 0;
t || p.default.inst.playEffect("closeSound");
}
};
t.prototype._forecastWaybill = function() {
m.default.copyData(this._originalWaybillList);
var e = function(e) {
for (var t, o = f.default.getInstance().setRoomListWaybillData(e, 6), i = f.default.getInstance().dyzNumList, n = {
x: 0,
y: 0
}, a = 0, r = 0; r < i.length; r++) for (var s = i[r], c = 0; c < s.length; c++) if (a < s[c]) {
a = s[c];
n.x = r;
n.y = c;
}
t = o[2][n.x] && o[2][n.x][n.y] ? o[2][n.x][n.y] : 0;
var l, d = f.default.getInstance().xlNumList, h = {
x: 0,
y: 0
}, u = 0;
for (r = 0; r < d.length; r++) {
var p = d[r];
for (c = 0; c < p.length; c++) if (u < p[c]) {
u = p[c];
h.x = r;
h.y = c;
}
}
console.log(o[3], f.default.getInstance().xlNumList);
l = o[3][h.x] && o[3][h.x][h.y] ? o[3][h.x][h.y] : 0;
var m = f.default.getInstance().yylNumList, g = {
x: 0,
y: 0
}, y = 0;
for (r = 0; r < m.length; r++) {
var _ = m[r];
for (c = 0; c < _.length; c++) if (y < _[c]) {
y = _[c];
g.x = r;
g.y = c;
}
}
return {
dyzResult: t,
xlResult: l,
yylResult: o[4][g.x] && o[4][g.x][g.y] ? o[4][g.x][g.y] : 0
};
}, t = m.default.copyData(this._originalWaybillList);
t.push({
result: 2
});
var o = m.default.copyData(this._originalWaybillList);
o.push({
result: 1
});
var i = e(t), n = e(o);
this._banker_icon1.active = !1;
this._banker_icon2.active = !1;
this._banker_icon3.active = !1;
this._player_icon1.active = !1;
this._player_icon2.active = !1;
this._player_icon3.active = !1;
var a = function(e, t, o, i) {
if (1 == i) {
m.default.loadSpriteFrame(e, t, "room/waybill/next/next");
e.active = !0;
} else if (2 == i) {
m.default.loadSpriteFrame(e, o, "room/waybill/next/next");
e.active = !0;
}
};
a(this._banker_icon1, "dyz_red", "dyz_blue", i.dyzResult);
a(this._banker_icon2, "xl_red", "xl_blue", i.xlResult);
a(this._banker_icon3, "yyl_red", "yyl_blue", i.yylResult);
a(this._player_icon1, "dyz_red", "dyz_blue", n.dyzResult);
a(this._player_icon2, "xl_red", "xl_blue", n.xlResult);
a(this._player_icon3, "yyl_red", "yyl_blue", n.yylResult);
};
t.prototype.calculation = function(e, t, o, i) {
return r(this, void 0, void 0, function() {
var n, a, r, c, l, d, u, p, f, g, y;
return s(this, function() {
n = this._zplListScrollview.parent.x;
a = this._zplListScrollview.parent.y;
r = 55 * (e + 1) - 27.5;
c = 329 - 55 * t - 137;
l = this._zplListScrollview.getComponent(cc.ScrollView).getScrollOffset();
d = o;
u = n + r + l.x;
p = a + c + l.y;
(f = new cc.Node()).addComponent(cc.Sprite);
f.parent = this.node;
f.scale = 60 / 260;
g = "room/dynamicLoading/settlePlayer";
1 == o.result ? g = "cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage() ? "room/dynamicLoading/settlePlayer" : "room/dynamicLoading/settlePlayerEn" : 2 == o.result ? g = "cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage() ? "room/dynamicLoading/settleBanker" : "room/dynamicLoading/settleBankerEn" : 3 == o.result && (g = "cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage() ? "room/dynamicLoading/settleDraw" : "room/dynamicLoading/settleDrawEn");
if (o.lucky) {
y = i;
this.tigerAnim(u, p, y, d.tager);
f.destroy();
return [ 2 ];
}
m.default.loadSpriteFrame(f, g);
f.setPosition(0, 40);
cc.tween(f).to(16 / 60, {
scale: 60 / 260
}).to(.2, {
scale: 450 / 260
}).to(.2, {
scale: 265 / 260 * 450 / 260
}).delay(130 / 60).to(1.2, {
scale: 280 / 260 * 450 / 260
}, {
easing: "quadOut"
}).to(13 / 60, {
scale: 55 / 260,
position: cc.v3(u, p)
}).call(function() {
f.destroy();
i();
}, this).start();
return [ 2 ];
});
});
};
t.prototype.tigerAnim = function(e, t, o, i) {
var n = this, a = o;
this._tigerSpine.stopAllActions();
this._tigerSpine.active = !0;
this._tigerSpine.opacity = 255;
this._tigerSpine.setPosition(0, -150);
this._tigerSpine.scale = 1;
this._tigerSpine.getComponent(sp.Skeleton).clearTrack(0);
this._tigerSpine.getComponent(sp.Skeleton).setCompleteListener(function() {
cc.tween(n._tigerSpine).call(function() {
n._tigerSpine.getComponent(sp.Skeleton).setAnimation(0, "Idle", !0);
}, n).delay(3).to(13 / 60, {
scale: 55 / 2856,
position: cc.v3(e, t),
opacity: 0
}).call(function() {
n._tigerSpine.active = !1;
a();
}, n).start();
});
var r;
r = "tiger1" == i ? "Go" : "Go2";
this._tigerSpine.getComponent(sp.Skeleton).setAnimation(0, r, !1);
};
t.prototype.clearAllItem = function() {
this.setOriginalWaybillList([]);
};
t.prototype.initMoreInfoView = function() {
for (var e = [], t = 1; t <= 11; t++) e[t] = this._moreView.getChildByName("title" + t);
var o = [];
for (t = 1; t <= 10; t++) o[t] = this._moreView.getChildByName("info" + t);
this._numberGames = o[6].getComponent(cc.Label);
o[7].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.roomId);
if (d.default.roomData.playType == l.baccaratRoomType.singapore) {
this._moreView.getChildByName("bg").height = 671;
e[1].y += 120;
e[2].y += 120;
e[3].y += 120;
e[4].y += 90;
o[1].y += 120;
o[2].y += 120;
o[3].y += 100;
o[1].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.minChip);
o[2].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.maxBlind);
o[3].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.minChip);
o[8].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.maxOther);
o[4].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.maxLucky6);
o[9].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.maxSmallTiger);
o[5].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.maxBigTiger);
o[10].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.maxDrawTiger);
o[8].y = 80;
o[4].y = o[8].y - 45;
o[9].y = o[4].y - 45;
o[5].y = o[9].y - 45;
o[10].y = o[5].y - 45;
e[5].y = 80;
e[6].y = e[5].y - 45;
e[11].y = e[6].y - 45;
e[7].y = e[11].y - 45;
e[8].y = e[7].y - 45;
} else {
o[8].active = !1;
o[9].active = !1;
o[9].active = !1;
o[10].active = !1;
e[11].active = !1;
o[1].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.minChip);
o[2].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.maxBlind);
o[3].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.minChip);
o[4].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.maxLucky6);
o[5].getComponent(cc.Label).string = m.default.formatMoneyShorter(d.default.roomData.maxOther);
}
};
t.prototype.setLabelString = function() {
return r(this, void 0, void 0, function() {
var e, t;
return s(this, function() {
(e = this._waybill.getChildByName("moreInfo")).getChildByName("title1").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo1");
e.getChildByName("title2").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo2");
e.getChildByName("title9").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo9");
e.getChildByName("title10").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo10");
this._zplListScrollview.getChildByName("label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("zpRoad");
this._dlListScrollview.getChildByName("label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("dlRoad");
this._dyzlListScrollview.getChildByName("label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("dyRoad");
this._xlListScrollview.getChildByName("label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("xlRoad");
this._yylListScrollview.getChildByName("label").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("yyRoad");
this._waybill.getChildByName("statisticsNode").getChildByName("moreLabel").getComponent(cc.Label).string = h.default.ins.STRING_COMMON("more");
this._originalWaybillList.length > 0 && this.setOriginalWaybillList(this._originalWaybillList);
t = this._waybill.getChildByName("statisticsNode");
m.default.loadSpriteFrame(t.getChildByName("icon1"), "icon1En", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon2"), "icon2En", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon3"), "icon3En", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon4"), "icon4En", "room/waybill/next/next");
m.default.loadSpriteFrame(t.getChildByName("icon5"), "icon5En", "room/waybill/next/next");
m.default.loadSpriteFrame(this._waybill.getChildByName("nextNode").getChildByName("banker"), "bankerEn", "room/waybill/next/next");
m.default.loadSpriteFrame(this._waybill.getChildByName("nextNode").getChildByName("player"), "playerEn", "room/waybill/next/next");
e.getChildByName("title3").active = !0;
e.getChildByName("title5").active = !0;
e.getChildByName("title7").active = !0;
if (d.default.roomData.playType == l.baccaratRoomType.singapore) {
e.getChildByName("title1").y = 334;
e.getChildByName("title2").y = 273;
e.getChildByName("title3").y = 216;
e.getChildByName("title4").y = 153;
e.getChildByName("title3").getComponent(cc.Label).string = "Tie/Tiger Pair/Tiger/Small Tiger/Big Tiger/Tiger Tie Min:";
e.getChildByName("title4").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo11");
e.getChildByName("title5").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo8");
e.getChildByName("title6").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo6");
e.getChildByName("title11").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo25");
e.getChildByName("title7").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo26");
e.getChildByName("title8").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo27");
} else {
e.getChildByName("title3").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo3");
e.getChildByName("title4").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo4");
e.getChildByName("title5").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo5");
e.getChildByName("title6").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo6");
e.getChildByName("title7").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo28");
e.getChildByName("title8").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo29");
e.getChildByName("title11").getComponent(cc.Label).string = h.default.ins.STRING_ROOM("roadMoreInfo10");
}
return [ 2 ];
});
});
};
t.prototype._showForecast = function(e) {
var t = this;
if ("settlement" != d.default.roomData.gameState && !this._isShowForecast) {
p.default.inst.playEffect("btnSound");
var i = e.node, n = function(e) {
var i = f.default.getInstance().getZplWayBill(e, 10), n = f.default.getInstance().setCustomLengthWaybillData(m.default.copyData(e), {
dlLength: 15,
dyzLength: 30,
xlLength: 30,
yylLength: 30,
yylColumn: 6
}), a = f.default.getInstance().zplNumList, r = f.default.getInstance().dlNumList, s = f.default.getInstance().dyzNumList, c = f.default.getInstance().xlNumList, l = f.default.getInstance().yylNumList;
function d(e) {
for (var t = {
x: 0,
y: 0
}, o = 0, i = 0; i < e.length; i++) for (var n = e[i], a = 0; a < n.length; a++) if (o < n[a]) {
o = n[a];
t.x = i;
t.y = a;
}
return t;
}
t._zplMax = d(a);
t._dlMax = d(r);
t._dyzMax = d(s);
t._xlMax = d(c);
t._yylMax = d(l);
var h = function(e, i) {
t.zplInfoList = e;
t._waybillAddTail(t.zplInfoList, "zpl", 1);
t._zplList.numItems = t.zplInfoList.length;
t.dlInfoList = i[0];
t._waybillAddTail(t.dlInfoList, "dl", 1);
t._dlList.numItems = t.dlInfoList.length;
t._scrollTo(t._dlList, t.dlInfoList, o.dlAutoLength + 1);
t.dylInfoList = i[2];
t._waybillAddTail(t.dylInfoList, "dyzl", 2);
t._dyzlList.numItems = t.dylInfoList.length;
t._scrollTo(t._dyzlList, t.dylInfoList, o.dyzlAutoLength + 2);
t.xlInfoList = i[3];
t._waybillAddTail(t.xlInfoList, "xl", 2);
t._xlList.numItems = t.xlInfoList.length;
t._scrollTo(t._xlList, t.xlInfoList, o.xlAutoLength + 2);
t.yylInfoList = i[4];
t._waybillAddTail(t.yylInfoList, "yyl", 2);
t._yylList.numItems = t.yylInfoList.length;
t._scrollTo(t._yylList, t.yylInfoList, o.yylAutoLength + 2);
};
t._isShowForecast = !0;
t.scheduleOnce(function() {
t._isShowForecast = !1;
var e = f.default.getInstance().getZplWayBill(m.default.copyData(t._originalWaybillList), 10), o = f.default.getInstance().setCustomLengthWaybillData(m.default.copyData(t._originalWaybillList), {
dlLength: 15,
dyzLength: 30,
xlLength: 30,
yylLength: 30,
yylColumn: 6
});
h(e, o);
}, 4);
h(i, n);
};
if ("bankerBtn" == i.name) {
var a = m.default.copyData(this._originalWaybillList);
a.push({
result: 2
});
n(a);
} else if ("playerBtn" == i.name) {
var r = m.default.copyData(this._originalWaybillList);
r.push({
result: 1
});
n(r);
}
}
};
t.prototype._twinkleAnim = function(e) {
e.opacity = 0;
cc.tween(e).delay(.5).to(0, {
opacity: 255
}).delay(.5).to(0, {
opacity: 0
}).delay(.5).to(0, {
opacity: 255
}).delay(.5).to(0, {
opacity: 0
}).delay(.5).to(0, {
opacity: 255
}).start();
};
var o;
t.zplAutoLength = 10;
t.dlAutoLength = 15;
t.dyzlAutoLength = 30;
t.xlAutoLength = 30;
t.yylAutoLength = 30;
return o = a([ y ], t);
}(cc.Component));
o.default = _;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Conf/Const": "Const",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../UIFrame/List": "List",
"../UIFrame/SoundMgr": "SoundMgr",
"../Util/CalculationLine": "CalculationLine",
"../Util/GameUtil": "GameUtil"
} ],
RootView: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "920b3HLeLxFnYz/9U2wshCx", "RootView");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../PublicTools/GameEvents"), s = e("../EXUIFrame/EXSoundMgr"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {};
t.prototype.start = function() {
this.addBtnClick();
};
t.prototype.register = function(e, t) {
this._typeName = e;
for (var o = 0; o < t.length; o++) {
var i = t[o];
r.MyEvent.getInstance().on(i, this.handleAppEvent.bind(this), e);
}
};
t.prototype.addBtnClick = function() {
if (this._btnList && !(this._btnList.length <= 0)) for (var e = 0; e < this._btnList.length; e++) this._btnList[e].on("click", this.onBtnClick, this);
};
t.prototype.onBtnClick = function() {
s.default.inst.playEffect("new_res_btnSound");
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
};
t.prototype.handleAppEvent = function(e) {
console.log(e, "");
};
t.prototype.onDestroy = function() {
r.MyEvent.getInstance().removeByNode(this._typeName);
};
t.prototype.onClose = function() {
this.node.destroy();
};
return a([ l ], t);
}(cc.Component));
o.default = d;
cc._RF.pop();
}, {
"../EXUIFrame/EXSoundMgr": "EXSoundMgr",
"../PublicTools/GameEvents": "GameEvents"
} ],
SceneBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "79853xYvkhDzKTwn3MIgxd+", "SceneBase");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../ThirdParty/AdapterHpMgr"), l = e("../ThirdParty/EventHpCenter"), d = e("../ThirdParty/EventGameType"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.ndBlock = null;
t._block = 0;
return t;
}
o = t;
t.prototype.onLoad = function() {
this.initBlockNode();
};
t.prototype.setInputBlock = function(e) {
if (this.ndBlock) {
e ? ++this._block : --this._block;
this.ndBlock.active = this._block > 0;
} else cc.warn(" block input");
};
t.prototype.initBlockNode = function() {
this.ndBlock = new cc.Node("block");
this.ndBlock.addComponent(cc.BlockInputEvents);
this.node.addChild(this.ndBlock, cc.macro.MAX_ZINDEX);
};
t.prototype.start = function() {
return r(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
o.inst = this;
c.default.inst.adapatByType(c.AdaptaterType.FullScreen, this.node);
return [ 4, this.onGameInit() ];

case 1:
e.sent();
this.registerEvent();
return [ 2 ];
}
});
});
};
t.prototype.onGameInit = function() {
return r(this, void 0, void 0, function() {
return s(this, function() {
return [ 2 ];
});
});
};
t.prototype.onGameShow = function(e) {
l.EventHpCenter.emit(d.EventGameType.GameShow, e);
};
t.prototype.onGameHide = function() {
l.EventHpCenter.emit(d.EventGameType.GameHide);
};
t.prototype.registerEvent = function() {
cc.game.on(cc.game.EVENT_SHOW, this.onGameShow, this);
cc.game.on(cc.game.EVENT_HIDE, this.onGameHide, this);
};
t.prototype.update = function() {};
t.prototype.lateUpdate = function() {};
var o;
t.inst = null;
return o = a([ u ], t);
}(cc.Component));
o.default = p;
cc._RF.pop();
}, {
"../ThirdParty/AdapterHpMgr": "AdapterHpMgr",
"../ThirdParty/EventGameType": "EventGameType",
"../ThirdParty/EventHpCenter": "EventHpCenter"
} ],
SceneManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c0c470XXRFPlYK4gvgtOIv5", "SceneManager");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.SceneIndex = void 0;
var a = e("../Components/ChipPool"), r = e("../Conf/Config"), s = e("../Conf/Const"), c = e("../Conf/Game"), l = e("../Conf/ScreenAdapter"), d = e("../Data/GameData"), h = e("../Socket/WebSocketManager"), u = e("./LayerManager");
(function(e) {
e[e.hall = 0] = "hall";
e[e.baccarat = 1] = "baccarat";
e[e.launch = 2] = "launch";
e[e.start = 3] = "start";
e[e.loading = 4] = "loading";
e[e.login = 5] = "login";
e[e.tutorials = 6] = "tutorials";
e[e.blackjack = 7] = "blackjack";
e[e.baccaratHnd = 8] = "baccaratHnd";
e[e.dtGame = 9] = "dtGame";
e[e.diceGame = 10] = "diceGame";
e[e.intDiceGame = 11] = "intDiceGame";
e[e.birdsGame = 12] = "birdsGame";
e[e.romaSlot = 13] = "romaSlot";
e[e.aztecSlot = 14] = "aztecSlot";
e[e.nekoSlot = 15] = "nekoSlot";
})(o.SceneIndex || (o.SceneIndex = {}));
var p = function() {
function e() {}
e.preloadScene = function() {};
e.enterLogin = function() {
d.default.UserData.nowSceneType = s.sceneType.login;
if (c.default.isWebGameType) window.close(); else {
l.default.getInstance().screenType == l.screenTypeEnum.isIpad ? cc.director.loadScene("ipad/ipadloginScene") : cc.director.loadScene("loginScene");
cc.sys.garbageCollect();
}
};
e.enterTutorials = function() {
u.default.ins().showHallOrRoomExcessive(function() {
l.default.getInstance().screenType == l.screenTypeEnum.isIpad ? cc.director.loadScene("ipad/ipadtutorialsScene") : cc.director.loadScene("tutorialsScene");
});
cc.sys.garbageCollect();
};
e.enterStart = function() {
l.default.getInstance().screenType == l.screenTypeEnum.isIpad ? cc.director.loadScene("ipad/ipadstartScene") : cc.director.loadScene("startScene");
};
e.enterLoading = function() {
d.default.UserData.nowSceneType = s.sceneType.loading;
d.default.loading.isReconnect = !0;
l.default.getInstance().screenType == l.screenTypeEnum.isIpad ? cc.director.loadScene("ipad/ipadloadingScene") : cc.director.loadScene("loadingScene");
cc.sys.garbageCollect();
};
e.enterHall = function(e, t) {
t && (d.default.UserData.nowSceneType == s.sceneType.intDice ? h.default.getInstance().socketSend.IntDiceUserLeaveRoom() : d.default.UserData.nowSceneType == s.sceneType.birdAnimals ? h.default.getInstance().socketSend.BirdsUserLeaveRoom() : d.default.UserData.nowSceneType == s.sceneType.dice ? h.default.getInstance().socketSend.DiceUserLeaveRoom() : d.default.UserData.nowSceneType == s.sceneType.dragonTigerFight ? h.default.getInstance().socketSend.DTUserLeaveRoom() : d.default.UserData.nowSceneType == s.sceneType.baccaratHnd ? h.default.getInstance().socketSend.bacHndUserLeaveRoom() : d.default.UserData.nowSceneType == s.sceneType.blackjack ? h.default.getInstance().socketSend.bjUserLeaveRoom() : d.default.UserData.nowSceneType == s.sceneType.baccarat ? h.default.getInstance().socketSend.loaveRoom() : d.default.UserData.nowSceneType == s.sceneType.romaSlot && h.default.getInstance().socketSend.RomaSlotLeaveRoom());
d.default.UserData.nowSceneType = s.sceneType.hall;
a.default.inst.reset();
e ? l.default.getInstance().screenType == l.screenTypeEnum.isIpad ? cc.director.loadScene("ipad/ipadhallScene") : cc.director.loadScene("hallScene") : u.default.ins().showHallOrRoomExcessive(function() {
l.default.getInstance().screenType == l.screenTypeEnum.isIpad ? cc.director.loadScene("ipad/ipadhallScene") : cc.director.loadScene("hallScene");
});
cc.sys.garbageCollect();
this.preloadingBundle();
};
e.enterBaccarat = function() {
d.default.UserData.nowSceneType = s.sceneType.baccarat;
u.default.ins().showHallOrRoomExcessive(function() {
l.default.getInstance().screenType == l.screenTypeEnum.isIpad ? cc.director.loadScene("ipad/ipadbaccaratRoom") : cc.director.loadScene("baccaratRoom");
cc.sys.garbageCollect();
});
};
e.enterBlackJack = function() {
d.default.UserData.nowSceneType = s.sceneType.blackjack;
u.default.ins().showHallOrRoomExcessive(function() {
l.default.getInstance().screenType == l.screenTypeEnum.isIpad ? cc.director.loadScene("ipad/ipadblackjackRoom") : cc.director.loadScene("blackjackRoom");
cc.sys.garbageCollect();
});
};
e.enterBaccaratHnd = function() {
d.default.UserData.nowSceneType = s.sceneType.baccaratHnd;
u.default.ins().showHallOrRoomExcessive(function() {
l.default.getInstance().screenType == l.screenTypeEnum.isIpad ? cc.director.loadScene("ipad/ipadbaccaratHndRoom") : cc.director.loadScene("baccaratHndRoom");
cc.sys.garbageCollect();
});
};
e.enterDragonTigerFight = function() {
d.default.UserData.nowSceneType = s.sceneType.dragonTigerFight;
u.default.ins().showHallOrRoomExcessive(function() {
l.default.getInstance().screenType == l.screenTypeEnum.isIpad ? cc.director.loadScene("ipad/ipadDragonTigerScene") : cc.director.loadScene("dragonTigerScene");
cc.sys.garbageCollect();
});
};
e.enterDice = function() {
d.default.UserData.nowSceneType = s.sceneType.dice;
u.default.ins().showHallOrRoomExcessive(function() {
l.default.getInstance().screenType == l.screenTypeEnum.isIpad ? cc.director.loadScene("ipad/ipadDiceScene") : cc.director.loadScene("diceScene");
cc.sys.garbageCollect();
});
};
e.enterRomaSlot = function() {
return i(this, void 0, void 0, function() {
return n(this, function() {
d.default.UserData.nowSceneType = s.sceneType.romaSlot;
u.default.ins().showHallOrRoomExcessive(function() {
l.default.getInstance().screenType == l.screenTypeEnum.isIpad ? cc.director.loadScene("ipad/ipadRomaScene") : cc.director.loadScene("RomaScene");
cc.sys.garbageCollect();
});
return [ 2 ];
});
});
};
e.enterGoldCitySlot = function() {
return i(this, void 0, void 0, function() {
return n(this, function() {
d.default.UserData.nowSceneType = s.sceneType.goldCitySlot;
u.default.ins().showHallOrRoomExcessive(function() {
l.default.getInstance().screenType == l.screenTypeEnum.isIpad ? cc.director.loadScene("ipad/ipadFindGoldenCity") : cc.director.loadScene("FindGoldenCity");
cc.sys.garbageCollect();
});
return [ 2 ];
});
});
};
e.enterIntDice = function() {
return i(this, void 0, void 0, function() {
var t, o = this;
return n(this, function() {
d.default.UserData.nowSceneType = s.sceneType.intDice;
t = r.default.resourceUrl + "remote/IntDiceBundle";
2 == c.default.systemType ? t = "AssetsPackage/IntDiceBundle" : 0 == c.default.systemType ? t = e.isOnline ? r.default.resourceUrl + "remote/android/" + c.default.ver + "/IntDiceBundle" : "http://192.168.1.100/publish/remote/android/IntDiceBundle" : 1 == c.default.systemType && (t = e.isOnline ? r.default.resourceUrl + "remote/ios/" + c.default.ver + "/IntDiceBundle" : "http://192.168.1.100/publish/remote/ios/IntDiceBundle");
u.default.ins().showHallOrRoomExcessive(function() {
cc.assetManager.loadBundle(t, {
onFileProgress: function(e, t) {
console.log("dice::", e, t, e / t);
}
}, function(e, t) {
e ? console.log("ab") : t.loadDir("resources", function() {
l.default.getInstance().screenType == l.screenTypeEnum.isIpad ? t.loadScene("ipadIntDiceScene", function(e, t) {
cc.director.runScene(t);
}) : t.loadScene("IntDiceScene", function(e, t) {
cc.director.runScene(t);
});
});
}.bind(o));
});
return [ 2 ];
});
});
};
e.enterBirdAndAnimals = function() {
return i(this, void 0, void 0, function() {
var t, o = this;
return n(this, function() {
d.default.UserData.nowSceneType = s.sceneType.birdAnimals;
t = r.default.resourceUrl + "remote/BirdAndAnimals";
2 == c.default.systemType ? t = "AssetsPackage/BirdAndAnimals" : 0 == c.default.systemType ? t = e.isOnline ? r.default.resourceUrl + "remote/android/" + c.default.ver + "/BirdAndAnimals" : "http://192.168.1.100/publish/remote/android/BirdAndAnimals" : 1 == c.default.systemType && (t = e.isOnline ? r.default.resourceUrl + "remote/ios/BirdAndAnimals" : "http://192.168.1.100/publish/remote/ios/BirdAndAnimals");
u.default.ins().showHallOrRoomExcessive(function() {
cc.assetManager.loadBundle(t, {
onFileProgress: function(e, t) {
console.log("::", e, t, e / t);
}
}, function(e, t) {
e ? console.log("ab") : t.loadDir("resources", function() {
l.default.getInstance().screenType == l.screenTypeEnum.isIpad ? t.loadScene("ipadBirdAnimalsScene", function(e, t) {
cc.director.runScene(t);
}) : t.loadScene("BirdAnimalsScene", function(e, t) {
cc.director.runScene(t);
});
});
}.bind(o));
});
return [ 2 ];
});
});
};
e.preloadingSpine = function() {
return i(this, void 0, void 0, function() {
var t;
return n(this, function() {
if (c.default.systemType >= 2) {
console.log("", r.default.resourceUrl);
return [ 2 ];
}
t = r.default.resourceUrl + "remote/";
2 == c.default.systemType ? t = "AssetsPackage/SpineBundle" : 0 == c.default.systemType ? t = e.isOnline ? r.default.resourceUrl + "remote/android/" + r.default.spineBundleVer + "/SpineBundle" : "http://192.168.1.100/publish/remote/android/20220725/SpineBundle" : 1 == c.default.systemType && (t = e.isOnline ? r.default.resourceUrl + "remote/ios/SpineBundle" : "http://192.168.1.100/publish/remote/ios/20220725/SpineBundle");
console.log("000000", t);
cc.assetManager.loadBundle(t, function(e, t) {
console.log("111111", e);
e || t.preloadDir("resources", function(e) {
console.log("222222", e);
});
}.bind(this));
return [ 2 ];
});
});
};
e.preloadingBundle = function() {
return i(this, void 0, void 0, function() {
var t, o, i, a, s;
return n(this, function() {
if (c.default.systemType >= 2) {
console.log("", r.default.resourceUrl);
return [ 2 ];
}
t = [ {
gameName: "IntDiceBundle",
sceneName: "IntDiceScene"
}, {
gameName: "BirdAndAnimals",
sceneName: "BirdAnimalsScene"
} ];
o = r.default.resourceUrl + "remote/";
2 == c.default.systemType ? o = "AssetsPackage/IntDiceBundle" : 0 == c.default.systemType ? o = e.isOnline ? r.default.resourceUrl + "remote/android/" + c.default.ver + "/" : "http://192.168.1.100/publish/remote/android/" : 1 == c.default.systemType && (o = e.isOnline ? r.default.resourceUrl + "remote/ios/" : "http://192.168.1.100/publish/remote/ios/");
i = function(e) {
var i = t[e];
cc.assetManager.loadBundle(o + i.gameName, function(e, t) {
if (!e) {
console.log("" + i.gameName, new Date().getTime());
t.preloadDir("resources", function() {
console.log("", new Date().getTime());
t.preloadScene(i.sceneName, function() {
console.log("", new Date().getTime());
});
});
}
}.bind(a));
};
a = this;
for (s = 0; s < t.length; s++) i(s);
return [ 2 ];
});
});
};
e.isOnline = !0;
return e;
}();
o.default = p;
cc._RF.pop();
}, {
"../Components/ChipPool": "ChipPool",
"../Conf/Config": "Config",
"../Conf/Const": "Const",
"../Conf/Game": "Game",
"../Conf/ScreenAdapter": "ScreenAdapter",
"../Data/GameData": "GameData",
"../Socket/WebSocketManager": "WebSocketManager",
"./LayerManager": "LayerManager"
} ],
Scene: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "60ddalREY9JNZ8GS3eV+nhx", "Scene");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../UIFrame/AdapterMgr"), l = e("../UIFrame/EventCenter"), d = e("../UIFrame/EventType"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.ndBlock = null;
t._block = 0;
return t;
}
o = t;
t.prototype.onLoad = function() {
this.initBlockNode();
};
t.prototype.initBlockNode = function() {
this.ndBlock = new cc.Node("block");
this.ndBlock.addComponent(cc.BlockInputEvents);
this.node.addChild(this.ndBlock, cc.macro.MAX_ZINDEX);
};
t.prototype.start = function() {
return r(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
o.inst = this;
c.default.inst.adapatByType(c.AdaptaterType.FullScreen, this.node);
return [ 4, this.onGameInit() ];

case 1:
e.sent();
this.registerEvent();
return [ 2 ];
}
});
});
};
t.prototype.onGameInit = function() {
return r(this, void 0, void 0, function() {
return s(this, function() {
return [ 2 ];
});
});
};
t.prototype.registerEvent = function() {
cc.game.on(cc.game.EVENT_SHOW, this.onGameShow, this);
cc.game.on(cc.game.EVENT_HIDE, this.onGameHide, this);
};
t.prototype.onGameShow = function(e) {
l.EventCenter.emit(d.EventType.GameShow, e);
};
t.prototype.onGameHide = function() {
l.EventCenter.emit(d.EventType.GameHide);
};
t.prototype.update = function() {};
t.prototype.lateUpdate = function() {};
t.prototype.setInputBlock = function(e) {
if (this.ndBlock) {
e ? ++this._block : --this._block;
this.ndBlock.active = this._block > 0;
} else cc.warn(" block input");
};
var o;
t.inst = null;
return o = a([ u ], t);
}(cc.Component));
o.default = p;
cc._RF.pop();
}, {
"../UIFrame/AdapterMgr": "AdapterMgr",
"../UIFrame/EventCenter": "EventCenter",
"../UIFrame/EventType": "EventType"
} ],
SchedulerGame: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b418aTOewJGJYWvQ1O8u7ff", "SchedulerGame");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.SchedulerGame = void 0;
var n = cc._decorator, a = n.ccclass, r = (n.property, function() {
function e() {
this.schedulerTarget = {};
}
t = e;
e.prototype.clear = function() {
this.schedulerTarget = {};
};
e.prototype.regester = function(e, t) {
this.schedulerTarget[e] = t;
};
e.prototype.update = function() {
performance.now;
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ a ], e);
}());
o.SchedulerGame = r;
cc._RF.pop();
}, {} ],
Scheduler: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "032fb9t0z9Lkq2vxp9JEXLo", "Scheduler");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.Scheduler = void 0;
var n = cc._decorator, a = n.ccclass, r = (n.property, function() {
function e() {
this.schedulerTarget = {};
}
t = e;
e.prototype.clear = function() {
this.schedulerTarget = {};
};
e.prototype.regester = function(e, t) {
this.schedulerTarget[e] = t;
};
e.prototype.update = function() {
performance.now;
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ a ], e);
}());
o.Scheduler = r;
cc._RF.pop();
}, {} ],
ScreenAdapter: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "782d4ntjBdP4INLO39sWoh1", "ScreenAdapter");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.screenTypeEnum = void 0;
var n, a = e("./BaccatRoomConf"), r = e("./Game"), s = cc._decorator, c = s.ccclass;
s.property;
(function(e) {
e[e.isIphone6Szie = 1] = "isIphone6Szie";
e[e.isIphoneX = 2] = "isIphoneX";
e[e.isIpad = 3] = "isIpad";
})(n = o.screenTypeEnum || (o.screenTypeEnum = {}));
var l = function() {
function e() {
this._screenType = 0;
this.ixSafeArea = 0;
this.offset = 0;
}
t = e;
e.prototype.initSceneConfg = function() {
this.windowSize = cc.winSize;
var e = cc.view.getFrameSize().height, t = cc.view.getFrameSize().width;
if (t / e > 2.1) {
this._screenType = n.isIphoneX;
this.ixSafeArea = 88;
this.offset = 0;
} else if (t / e > 1.6) {
this._screenType = n.isIphone6Szie;
this.offset = (2339 - t) / 2;
} else if (t / e > 1.3) {
this._screenType = n.isIpad;
this.offset = (2339 - t) / 2;
}
a.default.getInstance().initData();
};
e.prototype.setAdaptation = function(e) {
e.height = e.height;
var t = cc.view.getFrameSize().width, o = cc.view.getFrameSize().height, i = cc.view.getCanvasSize().width, n = cc.view.getCanvasSize().height, a = Math.min(t / e.width, o / e.height), s = e.width * a, c = e.height * a, l = Math.max(t / s, c / c), d = cc.view.getCanvasSize().height, h = cc.view.getCanvasSize().width;
h / d > 2.1 ? l = 1 : h / d > 1.6 ? l *= 1.08 : l = 1;
r.default.isPad && (l = 1);
console.log("", t, o, i, n, l, cc.winSize.height);
e.scale = l;
};
e.resize = function() {
var e, t = cc.find("Canvas").getComponent(cc.Canvas);
e || (e = t.designResolution);
var o = e, i = cc.view.getFrameSize(), n = i.width, a = i.height, r = n, s = a;
n / a > o.width / o.height ? r = (s = o.height) * n / a : s = a / n * (r = o.width);
t.fitHeight = !1;
t.fitWidth = !1;
t.designResolution = cc.size(r, s);
t.node.width = r;
t.node.height = s;
t.node.emit("resize");
};
Object.defineProperty(e.prototype, "screenType", {
get: function() {
return this._screenType;
},
enumerable: !1,
configurable: !0
});
e.getInstance = function() {
null == this.mInstance && (this.mInstance = new t());
return this.mInstance;
};
var t;
e.mInstance = null;
return t = i([ c ], e);
}();
o.default = l;
cc._RF.pop();
}, {
"./BaccatRoomConf": "BaccatRoomConf",
"./Game": "Game"
} ],
ScreenGameAdapter: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ba3785szsxH0KnZUQ8BSGAa", "ScreenGameAdapter");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.screenTypeEnum = void 0;
var n, a = cc._decorator, r = a.ccclass;
a.property;
(function(e) {
e[e.isIphone6Szie = 1] = "isIphone6Szie";
e[e.isIphoneX = 2] = "isIphoneX";
e[e.isIpad = 3] = "isIpad";
})(n = o.screenTypeEnum || (o.screenTypeEnum = {}));
var s = function() {
function e() {
this._screenType = 0;
this.ixSafeArea = 0;
this.offset = 0;
}
t = e;
e.prototype.sceneConfgInit = function() {
this.windowSize = cc.winSize;
var e = cc.view.getFrameSize().height, t = cc.view.getFrameSize().width;
if (t / e > 2.1) {
this._screenType = n.isIphoneX;
this.ixSafeArea = 88;
this.offset = 0;
} else {
this._screenType = n.isIphone6Szie;
this.offset = (2339 - t) / 2;
}
};
e.prototype.setGameAdaptation = function(e) {
e.height = e.height;
var t = cc.view.getFrameSize().width, o = cc.view.getFrameSize().height, i = cc.view.getCanvasSize().width, n = cc.view.getCanvasSize().height, a = Math.min(t / e.width, o / e.height), r = e.width * a, s = e.height * a, c = Math.max(t / r, s / s), l = cc.view.getCanvasSize().height, d = cc.view.getCanvasSize().width;
c = d / l >= 2 ? 1 : d / l / 2;
console.log("", t, o, i, n, c, cc.winSize.height, cc.winSize.width);
e.scale = c;
};
e.resize = function() {
var e, t = cc.find("Canvas").getComponent(cc.Canvas);
e || (e = t.designResolution);
var o = e, i = cc.view.getFrameSize(), n = i.width, a = i.height, r = n, s = a;
n / a > o.width / o.height ? r = (s = o.height) * n / a : s = a / n * (r = o.width);
t.fitHeight = !1;
t.fitWidth = !1;
t.designResolution = cc.size(r, s);
t.node.width = r;
t.node.height = s;
t.node.emit("resize");
};
Object.defineProperty(e.prototype, "screenType", {
get: function() {
return this._screenType;
},
enumerable: !1,
configurable: !0
});
e.getInstance = function() {
null == this.mInstance && (this.mInstance = new t());
return this.mInstance;
};
var t;
e.mInstance = null;
return t = i([ r ], e);
}();
o.default = s;
cc._RF.pop();
}, {} ],
ScrollRichConfirmDialog: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0c0a1tp5EJMuIm0W3z9MGww", "ScrollRichConfirmDialog");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Data/LanguageData"), s = e("../Components/DialogBase"), c = e("../Util/GameUtil"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this.node.getChildByName("btnClose").on("click", this.onClose, this);
this.node.getChildByName("btnOK").on("click", this._onOK, this);
this.node.getChildByName("btnCancel").on("click", this._onCancel, this);
this.node.getChildByName("btnOK").getChildByName("Label").getComponent(cc.Label).string = r.default.ins.STRING_DIALOG("enter");
this.node.getChildByName("btnCancel").getChildByName("Label").getComponent(cc.Label).string = r.default.ins.STRING_DIALOG("cancel");
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = r.default.ins.STRING_COMMON("tips");
};
t.prototype.start = function() {
e.prototype.start.call(this);
var t = this._data, o = t.content || "", i = 2;
null != t.btnAmount && (i = t.btnAmount);
var n = t.title || r.default.ins.STRING_COMMON("tips"), a = this.node.getChildByName("scrollViewContent").getChildByName("view").getChildByName("content"), s = a.getChildByName("labelContent").getComponent(cc.Label);
s.string = o;
s._forceUpdateRenderData(!0);
a.height = s.node.height + 40;
this.node.getChildByName("labelTitle").getComponent(cc.Label).string = n;
c.default.labelShadow(this.node.getChildByName("labelTitle").getComponent(cc.Label), new cc.Color(223, 32, 193), cc.v2(0, -3));
t.okDesc && (this.node.getChildByName("btnOK").getChildByName("Label").getComponent(cc.Label).string = t.okDesc);
t.cancelDesc && (this.node.getChildByName("btnCancel").getChildByName("Label").getComponent(cc.Label).string = t.cancelDesc);
if (1 == i) {
this.node.getChildByName("btnCancel").active = !1;
this.node.getChildByName("btnOK").x = 0;
} else if (0 == i) {
this.node.getChildByName("btnCancel").active = !1;
this.node.getChildByName("btnOK").active = !1;
this.node.getChildByName("scrollViewContent").height = 650;
this.node.getChildByName("scrollViewContent").getChildByName("view").height = 650;
}
};
t.prototype._onCancel = function() {
this._data.cancelCallback && this._data.cancelCallback();
this.onClose();
};
t.prototype._onOK = function() {
this._data.okCallback && this._data.okCallback();
this.onClose();
};
return a([ d ], t);
}(s.default));
o.default = h;
cc._RF.pop();
}, {
"../Components/DialogBase": "DialogBase",
"../Data/LanguageData": "LanguageData",
"../Util/GameUtil": "GameUtil"
} ],
ScrollViewPlusItem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "53716/wfn5Cwo8TgqDygkWD", "ScrollViewPlusItem");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = r.property, l = r.menu, d = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.onEnterScorllViewEvents = [];
t.onExitScorllViewEvents = [];
t.onPositionChangeEvents = [];
t.isShowing = !1;
return t;
}
t.prototype.publishOnEnterScrollView = function() {
0 != this.onEnterScorllViewEvents.length && this.onEnterScorllViewEvents.forEach(function(e) {
e.emit([]);
});
};
t.prototype.publishOnExitScrollView = function() {
0 != this.onExitScorllViewEvents.length && this.onExitScorllViewEvents.forEach(function(e) {
e.emit([]);
});
};
t.prototype.publishOnPositionChange = function(e, t) {
0 != this.onPositionChangeEvents.length && this.onPositionChangeEvents.forEach(function(o) {
o.emit([ e, t ]);
});
};
a([ c({
type: [ cc.Component.EventHandler ],
tooltip: "ScrollView"
}) ], t.prototype, "onEnterScorllViewEvents", void 0);
a([ c({
type: [ cc.Component.EventHandler ],
tooltip: "ScrollView"
}) ], t.prototype, "onExitScorllViewEvents", void 0);
a([ c({
type: [ cc.Component.EventHandler ],
tooltip: "ScrollView"
}) ], t.prototype, "onPositionChangeEvents", void 0);
return a([ s, l("/ScrollViewPlusItem") ], t);
}(cc.Component);
o.default = d;
cc._RF.pop();
}, {} ],
ScrollViewPlus: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8776evjK0hF67UtExlv0jrL", "ScrollViewPlus");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("./ScrollViewPlusItem"), s = cc._decorator, c = s.ccclass, l = s.property, d = s.menu, h = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.caculatePosition = !1;
return t;
}
o = t;
t.prototype.onEnable = function() {
e.prototype.onEnable.call(this);
this.node.on("scrolling", this._onScrollingDrawCallOpt, this);
};
t.prototype.onDisable = function() {
e.prototype.onDisable.call(this);
this.node.off("scrolling", this._onScrollingDrawCallOpt, this);
};
t.prototype._onScrollingDrawCallOpt = function() {
0 != this.content.childrenCount && this.optDc();
};
t.prototype.optDc = function() {
o.optDc(this, this.caculatePosition);
};
t.optDc = function(e, t) {
var o = e.node.parent.convertToWorldSpaceAR(cc.v2(e.node.x - e.node.anchorX * e.node.width, e.node.y - e.node.anchorY * e.node.height)), i = cc.rect(o.x, o.y, e.node.width, e.node.height);
e.content.children.forEach(function(e) {
var o = e.getComponent(r.default);
if (null != o) {
var n = e.getBoundingBoxToWorld();
if (n.intersects(i)) {
if (!o.isShowing) {
o.isShowing = !0;
o.publishOnEnterScrollView();
}
t && o.isShowing && o.publishOnPositionChange((n.x - (i.x - n.width / 2)) / (n.width + i.width), (n.y - (i.y - n.height / 2)) / (n.height + i.height));
} else if (o.isShowing) {
o.isShowing = !1;
o.publishOnExitScrollView();
}
}
});
};
var o;
a([ l({
tooltip: "Item"
}) ], t.prototype, "caculatePosition", void 0);
return o = a([ c, d("/ScrollViewPlus") ], t);
}(cc.ScrollView);
o.default = h;
cc._RF.pop();
}, {
"./ScrollViewPlusItem": "ScrollViewPlusItem"
} ],
Seat: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0d64f37dpJFXqNl07qz5CdM", "Seat");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Components/MyEvent"), s = e("../Conf/BaccatRoomConf"), c = e("../Conf/Const"), l = e("../Conf/ScreenAdapter"), d = e("../Data/GameData"), h = e("../Data/LanguageData"), u = e("../Manager/DialogManager"), p = e("../Socket/WebSocketManager"), f = e("../UIFrame/SoundMgr"), m = e("../Util/GameUtil"), g = cc._decorator, y = g.ccclass, _ = g.property, C = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.seatWinPrefab = null;
t._userId = 0;
t.routh = "room/seat/";
t.freeParam = {
infoBg: t.routh + "freeInfoBg",
playerBet: t.routh + "playerFreeBet",
myBet: t.routh + "mgFreeBet",
moneyColor: new cc.Color(202, 228, 255)
};
t.chargeParam = {
infoBg: t.routh + "chargeInfoBg",
playerBet: t.routh + "playerChargeBet",
myBet: t.routh + "mgChargeBet",
moneyColor: new cc.Color(255, 228, 209)
};
t._giftId = 0;
t._seatData = null;
t.isInitiativeSitDown = !1;
t._winMoneyAnimIng = !1;
return t;
}
t.prototype.onLoad = function() {
this._waitSit = this.node.getChildByName("waitSit");
this._state = this.node.getChildByName("state");
this._stateAni = this.node.getChildByName("stateAni");
this._headFrame = this.node.getChildByName("headFrame");
this._myFreeInfoBg = m.default.seekChild(this.node, "freeInfoBg");
this._myMoneyLabel = m.default.seekChild(this.node, "moneyLabel");
this._mynameLabel = m.default.seekChild(this.node, "nameLabel");
this._countdown = m.default.seekChild(this.node, "countdown");
this._colorLine = this._countdown.getChildByName("colorLine");
this._moveLine = this._countdown.getChildByName("moveLine");
this._lineSpark = this._moveLine.getChildByName("spark");
this._betReadyBg = m.default.seekChild(this.node, "beReadyBg");
this._upLevel = this.node.getChildByName("uplevelLabel");
this._uplevelAni = this.node.getChildByName("uplevelAni");
this._giftBtn = this._headFrame.getChildByName("giftIcon");
this._myState = c.seatState.normal;
this.changeState();
this.node.on("click", this._onSeat, this);
this.sitDownAni(!0);
this._nowSeatData = {
exp: this._exp
};
this._giftBtn.on("click", this._onGift, this);
this.node.active = !1;
};
t.prototype._onSeat = function() {
var e = this;
f.default.inst.playEffect("btnSound");
if (0 != this.node.opacity) {
r.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
if (0 != this._userId) {
m.default.setHeadPhoto(this._headFrame.getChildByName("headbg").getChildByName("head"), this._seatData.headID);
u.default.inst.showHomePageDlg(this._userId);
} else if (this._myState == c.seatState.normal) {
if (!m.default.moneyInsufficient(d.default.roomData.goldType, d.default.roomData.minChip)) {
f.default.inst.playEffect("betTipsSound");
m.default.showChargeTips(d.default.roomData.minChip);
return;
}
p.default.getInstance().socketSend.sitDown(this._actualSeatId);
this.isInitiativeSitDown = !0;
this.scheduleOnce(function() {
e.isInitiativeSitDown = !1;
}, 2);
} else this._myState == c.seatState.invitation && d.default.UserData.seatId > 0 && d.default.roomData.tableState == c.tableAnimationState.normal && u.default.inst.showDialog(u.DialogIndex.gameRecommendInviteList);
}
};
t.prototype.showChatMsg = function() {};
t.prototype.showSystemMsg = function() {};
t.prototype._onGift = function() {
this.node.opacity < 255 || r.MyEvent.getInstance().emit("ON_SHOW_GIFT_DIALOG", this.userId);
};
t.prototype.reset = function() {
this._waitSit.opacity = 0;
this._state.opacity = 0;
this._headFrame.opacity = 0;
if (this._userId == d.default.UserData.userId) {
m.default.setNodeSpriteFrame(this._myFreeInfoBg, this.routh + "chargeInfoBg");
this._myMoneyLabel.color = new cc.Color(255, 228, 209);
} else {
m.default.setNodeSpriteFrame(this._myFreeInfoBg, this.routh + "freeInfoBg");
this._myMoneyLabel.color = new cc.Color(207, 208, 208);
}
this.setMyType();
};
t.prototype.clearMsgBox = function() {
var e = this.node.parent.getChildByName("chatbox");
e && e.removeFromParent(!0);
};
t.prototype.start = function() {};
t.prototype.changeState = function() {
this.reset();
if (d.default.UserData.seatId <= 0 && 0 == this._userId) {
this._giftBtn.active = !1;
m.default.loadSpriteFrame(this._state, "room/seat/waitSitDown");
this._myState = c.seatState.normal;
this._state.opacity = 255;
this.sitDownAni(!0);
this._waitSit.opacity = 67;
this.node.active = !0;
} else {
this.sitDownAni(!1);
if (this._myState == c.seatState.normal) {
this._waitSit.opacity = 67;
m.default.loadSpriteFrame(this._state, "room/seat/invitation");
this._state.opacity = 255;
this._myState = c.seatState.invitation;
this.node.active = !1;
} else if (this._myState == c.seatState.play) {
this._waitSit.opacity = 67;
this._headFrame.opacity = 255;
m.default.loadSpriteFrame(this._state, "room/seat/invitation");
this.node.active = !0;
} else {
this._waitSit.opacity = 67;
this._state.opacity = 255;
m.default.loadSpriteFrame(this._state, "room/seat/invitation");
this.node.active = !1;
}
if (this._userId > 0) {
this._headFrame.opacity = 255;
this._giftBtn.active = !0;
}
}
if (this._userId > 0) {
this.node.getChildByName("frame").active = !1;
this.node.getChildByName("headFrame").getChildByName("seatBg").active = !1;
} else {
this.node.getChildByName("frame").active = !0;
this.node.getChildByName("headFrame").getChildByName("seatBg").active = !0;
}
this._giftBtn.active = !1;
};
t.prototype.sitDown = function(e, t) {
this.node.active = !0;
this._seatData = e;
this._myState = c.seatState.play;
this._userId = e.userId;
this._userName = e.userName;
this._money = e.money;
this._exp = e.exp;
this._vipExp = e.vipExp;
this._giftId = e.giftId;
if (this._userId == d.default.UserData.userId) {
m.default.setNodeSpriteFrame(this._myFreeInfoBg, this.routh + "chargeInfoBg");
this._myMoneyLabel.color = new cc.Color(255, 228, 209);
t || (d.default.UserData.seatId = e.seatId);
var o = m.default.seekChild(this.node.parent.parent, "myInfoNode");
m.default.isnull(o) && this.setSelfNameAndMoney(!o.active);
} else {
m.default.setNodeSpriteFrame(this._myFreeInfoBg, this.routh + "freeInfoBg");
this._myMoneyLabel.color = new cc.Color(207, 208, 208);
this.setSelfNameAndMoney();
}
this.changeState();
this.setMyType();
this.setMoney();
this.setName();
this.setGiftIcon();
this._winMoneyAnimIng = !1;
m.default.setHeadPhoto(this._headFrame.getChildByName("headbg").getChildByName("head"), this._seatData.headID);
};
t.prototype.setGiftIcon = function(e) {
e && (this._giftId = e);
if (0 != this._giftId) {
this._giftBtn.width = 90;
this._giftBtn.height = 90;
var t = this._giftBtn.getComponent(cc.Sprite);
m.default.setGiftIcon(t, this._giftId);
}
};
t.prototype.standUp = function(e) {
var t = this;
this._myState = c.seatState.normal;
this._userId = 0;
this._userName = "";
this._money = 0;
this._exp = 0;
if (e.userId == d.default.UserData.userId) {
d.default.UserData.seatId = 0;
this.scheduleOnce(function() {
t.node.scale = 1;
}, .5);
3 == this.seatId && (this.node.y = s.default.getInstance().SeatPos[2].y);
}
this.node.scale = 1;
this.changeState();
this.clearMsgBox();
m.default.seekChild(this.node, "headbg").opacity = 255;
m.default.seekChild(this.node, "vip").opacity = 255;
this.hideOpenCardBtn();
};
t.prototype.setMyType = function() {};
t.prototype.setMoney = function(e) {
var t = this;
null != e && (this._money = e);
d.default.roomData.goldType, c.goldType.charge;
if (this._money >= 0) {
m.default.getLabelWidth(m.default.cul(this._money, 1), 30);
m.default.refreshNowLabelSize(this._myMoneyLabel);
m.default.labelChange(this._myMoneyLabel, this._money, function() {
m.default.refreshNowLabelSize(t._myMoneyLabel);
});
}
};
t.prototype.changeMoney = function(e) {
var t = this;
this._money = this._money + e;
this._money >= 0 && m.default.labelChange(this._myMoneyLabel, this._money, function() {
m.default.refreshNowLabelSize(t._myMoneyLabel);
});
};
t.prototype.setName = function(e) {
var t = this;
if (e) {
if (this._userId > 0 && this._userId != d.default.UserData.userId) {
this._betReadyBg.active = !0;
this._betReadyBg.getChildByName("label").getComponent(cc.Label).string = e;
this._mynameLabel.active = !1;
}
} else this.scheduleOnce(function() {
t._betReadyBg.active = !1;
t._mynameLabel.active = !0;
t._mynameLabel.getComponent(cc.Label).string = t._userName;
if (t.userId == d.default.UserData.userId) {
t._mynameLabel.color = new cc.Color(255, 228, 209);
m.default.setVipNameColor(t._mynameLabel, t._vipExp, new cc.Color(255, 228, 209));
} else {
t._mynameLabel.color = new cc.Color(170, 213, 255);
m.default.setVipNameColor(t._mynameLabel, t._vipExp, new cc.Color(170, 213, 255));
}
}, 0);
};
Object.defineProperty(t.prototype, "myState", {
get: function() {
return this._myState;
},
set: function(e) {
this._myState = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "userId", {
get: function() {
return this._userId;
},
set: function(e) {
this._userId = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "seatId", {
get: function() {
if (m.default.isnull(this.node) && this._seatId) return this._seatId;
console.log("error seatid");
return 0;
},
set: function(e) {
this._seatId = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "userName", {
get: function() {
return this._userName;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "actualSeatId", {
get: function() {
return this._actualSeatId;
},
set: function(e) {
this._actualSeatId = e;
},
enumerable: !1,
configurable: !0
});
t.prototype.flopSign = function(e) {
if ("cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage()) {
this._img1 = "room/public/player1Big";
this._img2 = "room/public/player2Big";
} else {
this._img1 = "room/english/player1BigEn";
this._img2 = "room/english/player2BigEn";
}
if (2 == e) if ("cn" == h.default.ins.getCountryLanguage() || "tw" == h.default.ins.getCountryLanguage()) {
this._img1 = "room/public/banker1Big";
this._img2 = "room/public/banker2Big";
} else {
this._img1 = "room/english/banker1BigEn";
this._img2 = "room/english/banker2BigEn";
}
if (!this._flopCard) {
this._flopCard = new cc.Node();
this._flopCard.addComponent(cc.Sprite);
m.default.loadSpriteFrame(this._flopCard, this._img1);
this._flopCard.parent = this.node;
this._shadow = new cc.Node();
this._shadow.addComponent(cc.Sprite);
m.default.loadSpriteFrame(this._shadow, this._img1);
this._shadow.parent = this.node;
this._shadow.color = new cc.Color(0, 0, 0, 255);
this._shadow.opacity = 102;
this._spark = this.node.getChildByName("spark");
}
m.default.loadSpriteFrame(this._flopCard, this._img1);
m.default.loadSpriteFrame(this._shadow, this._img1);
this._flopCard.scaleX = 1;
this._flopCard.scaleY = 1;
this._flopCard.x = 0;
this._flopCard.y = 0;
this._flopCard.zIndex = 20;
this._shadow.scaleX = 1;
this._shadow.scaleY = 1;
this._shadow.x = 0;
this._shadow.y = 0;
this._shadow.zIndex = 19;
this._flopCard.active = !0;
this._shadow.active = !0;
this._spark.active = !1;
};
t.prototype.openFlop = function() {
var e = this;
cc.tween(this._shadow).to(.15, {
scaleX: 166 / 138,
scaleY: 122 / 102,
y: -38
}, {
easing: "quadOut"
}).to(4 / 60, {
scaleX: 166 / 138,
scaleY: 10 / 102,
y: -38
}).to(5 / 60, {
scaleX: 166 / 138,
scaleY: 122 / 102,
y: -38
}).to(7 / 60, {
scaleX: 1,
scaleY: 1,
y: 0
}).start();
cc.tween(this._flopCard).to(.15, {
scaleX: 152 / 138,
scaleY: 112 / 102,
y: this._flopCard.getPosition().y + 50
}, {
easing: "quadOut"
}).to(4 / 60, {
scaleX: 152 / 138,
scaleY: 78 / 102,
y: this._flopCard.getPosition().y + 62
}).call(function() {
m.default.loadSpriteFrame(e._flopCard, e._img2);
e._flopCard.y = 65;
e._flopCard.scaleX = 52 / 138;
e._flopCard.scaleY = 61 / 102;
cc.tween(e._flopCard).to(4 / 60, {
scaleX: 152 / 138,
scaleY: 112 / 102,
y: 50
}, {
easing: "circOut"
}).to(7 / 60, {
scaleX: 131 / 138,
scaleY: 97 / 102,
y: 0
}, {
easing: "circOut"
}).to(2 / 60, {
scaleX: 142 / 138,
scaleY: 105 / 102
}).to(2 / 60, {
scaleX: 1,
scaleY: 1
}).call(function() {
e._spark.active = !0;
e._spark.zIndex = e._flopCard.zIndex + 1;
e._spark.getComponent("cc.Animation").play("spark");
}, e).start();
}, this).start();
};
t.prototype.hideFlop = function() {
if (this._flopCard) {
this._flopCard.active = !1;
this._shadow.active = !1;
this._spark.active = !1;
}
};
t.prototype.winMoneyAnim = function(e, t) {
var o = this;
if (!this._winMoneyAnimIng) {
this._winMoneyAnimIng = !0;
if (!this._winMoneyAnim || this._userId == d.default.UserData.userId) {
this._winMoneyAnim = cc.instantiate(this.seatWinPrefab);
this._winMoneyAnim.parent = this.node;
var i = this._winMoneyAnim.parent.convertToWorldSpaceAR(this._winMoneyAnim.getPosition());
if (this._userId == d.default.UserData.userId && 3 == this._seatId) {
this._winMoneyAnim.parent = this.node.parent.parent;
this._winMoneyAnim.x = i.x - cc.winSize.width / 2;
this._winMoneyAnim.y = i.y - cc.winSize.height / 2;
if (l.default.getInstance().screenType == c.screenTypeEnum.isIphone6Szie) {
this._winMoneyAnim.x -= 20;
this._winMoneyAnim.y += 20;
}
}
}
if (this._userId == d.default.UserData.userId) f.default.inst.playEffect("win_money"); else {
this._winMoneyAnim.parent = this.node;
this._winMoneyAnim.y = 0;
}
this._winMoneyAnim.stopAllActions();
this._winMoneyAnim.getChildByName("money").getComponent(cc.Label).string = m.default.formatMoneyShorter(e);
this._winMoneyAnim.active = !0;
this._winMoneyAnim.scaleX = .62;
this._winMoneyAnim.scaleY = 77 / 74;
this._winMoneyAnim.opacity = 255;
m.default.refreshNowLabelSize(this._winMoneyAnim.getChildByName("money"));
this._winMoneyAnim.width = m.default.getLabelWidth(m.default.formatMoneyShorter(e), 40) + 44;
cc.tween(this._winMoneyAnim).to(.25, {
scaleX: 1.05,
scaleY: 77 / 74
}).to(.2, {
scaleX: .9,
scaleY: 66 / 74
}).to(4 / 60, {
scaleX: .93,
scaleY: 69 / 74
}).to(2 / 60, {
scaleX: .95,
scaleY: 70 / 74
}).call(function() {
o._winMoneyAnim.scaleX = .95;
o._winMoneyAnim.scaleY = 70 / 74;
}, this).to(1.6, {
scaleX: .95,
scaleY: 70 / 74
}).call(function() {
console.log("", t);
o.integralAnim(t / 100);
}, this).to(17 / 60, {
scaleX: .625,
scaleY: 46 / 74,
y: this._winMoneyAnim.y - 63
}).to(.4, {
scaleX: 1.2,
scaleY: 89 / 74,
opacity: 0
}).call(function() {
o._winMoneyAnim.active = !1;
o.changeMoney(e);
if (o._userId == d.default.UserData.userId) {
o._money = m.default.getNowMoney(d.default.roomData.goldType);
m.default.labelChange(o._myMoneyLabel, o._money, function() {
m.default.refreshNowLabelSize(o._myMoneyLabel);
});
m.default.refreshNowLabelSize(o._myMoneyLabel);
o._winMoneyAnim.y = o._winMoneyAnim.y + 63;
r.MyEvent.getInstance().emit("SELF_WINMONEYANIM_OVER_EVENT");
}
o._winMoneyAnimIng = !1;
}, this).start();
}
};
t.prototype.integralAnim = function() {};
t.prototype.showCountDown = function(e, t, o) {
var i = this;
m.default.seekChild(this.node, "headbg").opacity = 255;
m.default.seekChild(this.node, "vip").opacity = 255;
this._countdown.active = !0;
var n = e, a = t;
this._countdown.getComponent(cc.Sprite).fillRange = 0;
this._countdown.color = new cc.Color(77, 232, 80);
this._lineSpark.active = !0;
this._colorLine.active = !0;
cc.tween(this._countdown).call(function() {
m.default.loadSpriteFrame(i._countdown, "color1", "room/seat/seat");
m.default.loadSpriteFrame(i._colorLine, "colorLine1", "room/seat/seat");
m.default.loadSpriteFrame(i._moveLine, "colorLine1", "room/seat/seat");
}, this).delay(.2 * n).to(.05 * n, {
color: new cc.Color(253, 255, 65)
}).call(function() {
m.default.loadSpriteFrame(i._countdown, "color2", "room/seat/seat");
m.default.loadSpriteFrame(i._colorLine, "colorLine2", "room/seat/seat");
m.default.loadSpriteFrame(i._moveLine, "colorLine2", "room/seat/seat");
}, this).delay(.2 * n).to(.05 * n, {
color: new cc.Color(255, 166, 25, 255)
}).call(function() {
m.default.loadSpriteFrame(i._countdown, "color3", "room/seat/seat");
m.default.loadSpriteFrame(i._colorLine, "colorLine3", "room/seat/seat");
m.default.loadSpriteFrame(i._moveLine, "colorLine3", "room/seat/seat");
}, this).delay(.2 * n).to(.05 * n, {
color: new cc.Color(229, 47, 35, 255)
}).call(function() {
m.default.loadSpriteFrame(i._countdown, "color4", "room/seat/seat");
m.default.loadSpriteFrame(i._colorLine, "colorLine4", "room/seat/seat");
m.default.loadSpriteFrame(i._moveLine, "colorLine4", "room/seat/seat");
}, this).start();
var r = !1, s = !1, c = !1, l = cc.callFunc(function() {
var e = 1 - (a += 1 / 22) / n;
if (!isNaN(e)) {
i._moveLine.angle = 360 * e;
i._countdown.getComponent(cc.Sprite).fillRange = -a / n;
var t = n - Math.floor(a);
if (2 == t && !r) {
r = !0;
o || f.default.inst.playEffect("reciprocal3or2");
}
if (1 == t && !s) {
s = !0;
o || f.default.inst.playEffect("reciprocal3or2");
}
if (0 == t && !c) {
c = !0;
o || f.default.inst.playEffect("reciprocal3or2");
}
a >= n && i.hideOpenCardBtn();
}
}), d = cc.sequence(cc.delayTime(1 / 22), l), h = cc.repeatForever(d);
this._countdown.runAction(h);
};
t.prototype.hideOpenCardBtn = function() {
this._lineSpark.active = !1;
this._countdown.stopAllActions();
this._countdown.color = new cc.Color(255, 255, 255);
this._countdown.active = !1;
};
t.prototype.setSelfNameAndMoney = function(e) {
var t = !0;
this._userId == d.default.UserData.userId && (t = !1);
e && (t = e);
this._myFreeInfoBg.active = t;
this._myMoneyLabel.active = t;
this._betReadyBg.active = !1;
this._mynameLabel.active = t;
};
t.prototype.sitDownAni = function(e) {
this._stateAni.active = e;
var t = this._stateAni.getChildByName("icon"), o = this._stateAni.getChildByName("icon2");
this._state.opacity = 0;
t.stopAllActions();
o.stopAllActions();
cc.tween(t).repeatForever(cc.tween().call(function() {
t.y = 76;
t.opacity = 0;
}).to(.5, {
y: 0,
opacity: 255
}).delay(2).to(.5, {
y: -76,
opacity: 0
}).delay(2)).start();
cc.tween(o).repeatForever(cc.tween().call(function() {
o.y = 0;
o.opacity = 255;
}).to(.5, {
y: -76,
opacity: 0
}).delay(2).call(function() {
o.y = 76;
}).to(.5, {
y: 0,
opacity: 255
}).delay(2)).start();
};
t.prototype.levelUpHandle = function() {};
t.prototype.upLevelAni = function() {};
t.prototype.updateInfo = function(e) {
this._nowSeatData = e;
};
a([ _(cc.Prefab) ], t.prototype, "seatWinPrefab", void 0);
return a([ y ], t);
}(cc.Component);
o.default = C;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Conf/BaccatRoomConf": "BaccatRoomConf",
"../Conf/Const": "Const",
"../Conf/ScreenAdapter": "ScreenAdapter",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../Manager/DialogManager": "DialogManager",
"../Socket/WebSocketManager": "WebSocketManager",
"../UIFrame/SoundMgr": "SoundMgr",
"../Util/GameUtil": "GameUtil"
} ],
SelectorFISCCodeDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b56758LIPtEe4b4WxzPfL8e", "SelectorFISCCodeDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../public/MyComponent/GameHppayUtil"), c = e("../../../manager/GameSoundMgr"), l = e("../../../manager/DlgGameMgr"), d = e("../../../public/MyComponent/GameEvent"), h = e("../../executor/bank/SelectorFISCCodeEx"), u = e("../../../communication/GameLobbyHttp"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.root = null;
t.ifscCode = null;
t.currSelectBank = "";
t.currSelectState = "";
t.currSelectDistrict = "";
t.currSelectBranch = "";
t.btnOK = null;
t.bankList = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new h.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
this.root = this.node.getChildByName("dlgBg");
this.root.getChildByName("btnClose").on("click", this.onClose, this);
this.root.getChildByName("btnConfirm").on("click", this.onConfirm, this);
this.root.getChildByName("itemSelectBank").on("click", this.onSelectBank, this);
this.root.getChildByName("itemSelectState").on("click", this.onSelectState, this);
this.root.getChildByName("itemSelectDistrict").on("click", this.onSelectDistrict, this);
this.root.getChildByName("itemSelectBranch").on("click", this.onSelectBranch, this);
this.ifscCode = this.root.getChildByName("labelIFSC").getComponent(cc.Label);
this.btnOK = this.root.getChildByName("btnConfirm").getComponent(cc.Button);
this.btnOK.interactable = !1;
};
t.prototype.updateLanguageUI = function() {
this.exView.updateLanguageUIEx();
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.updateLanguageUI();
s.default.labelShadow(this.root.getChildByName("labelTitle").getComponent(cc.Label), new cc.Color(223, 32, 193), cc.v2(0, -3));
this.bankList = this._data;
this.ifscCode.string = "";
this.register("FISCCodeSelecter", [ "ON_IFSC_DATA", "ON_SELECT_BANK_INFO" ]);
};
t.prototype.onConfirm = function() {
c.default.inst.playGameEffect(c.AudioRes.click);
this.onClose();
};
t.prototype.onSelectBank = function() {
this.exView.onSelectBankEx();
};
t.prototype.onSelectState = function() {
this.exView.onSelectStateEx();
};
t.prototype.onSelectDistrict = function() {
this.exView.onSelectDistrictEx();
};
t.prototype.onSelectBranch = function() {
this.exView.onSelectBranchEx();
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_IFSC_DATA":
this.onIfscData(t);
break;

case "ON_SELECT_BANK_INFO":
this.onSelectBankInfo(t);
}
};
t.prototype.onIfscData = function(e) {
if ("ifsc" == e.field) {
var t = e.data;
if (t.length > 0) {
this.ifscCode.string = "IFSC Code : " + t[0];
var o = {};
o.ifsc = t[0];
o.bankName = this.currSelectBank;
d.GameEvent.ins().emit("ON_GET_IFSC_CODE", o);
this.btnOK.interactable = !0;
}
} else l.default.inst.showDlg(l.DlgType.selectCharger, e);
};
t.prototype.onSelectBankInfo = function(e) {
if ("bank" == e.field) {
this.currSelectBank = e.itemData;
this.root.getChildByName("labelBank").getComponent(cc.Label).string = this.currSelectBank;
}
if ("state" == e.field) {
this.currSelectState = e.itemData;
this.root.getChildByName("labelState").getComponent(cc.Label).string = this.currSelectState;
}
if ("dist" == e.field) {
this.currSelectDistrict = e.itemData;
this.root.getChildByName("labelDistrict").getComponent(cc.Label).string = this.currSelectDistrict;
}
if ("branch" == e.field) {
this.currSelectBranch = e.itemData;
this.root.getChildByName("labelBranch").getComponent(cc.Label).string = this.currSelectBranch;
}
"" != this.currSelectBank && "" != this.currSelectBranch && "" != this.currSelectDistrict && "" != this.currSelectState && u.default.getInstance().getIFSCCode(this.currSelectBank, this.currSelectState, this.currSelectDistrict, this.currSelectBranch);
};
return a([ f ], t);
}(r.default));
o.default = m;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../manager/DlgGameMgr": "DlgGameMgr",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/GameEvent": "GameEvent",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../executor/bank/SelectorFISCCodeEx": "SelectorFISCCodeEx"
} ],
SelectorFISCCodeEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "70e70wV8hBJF5Eoib0B/vmc", "SelectorFISCCodeEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../communication/GameLobbyHttp"), s = e("../../../data/GameLangData"), c = e("../../../manager/DlgGameMgr"), l = e("../../../manager/GameSoundMgr"), d = e("../../../public/MyComponent/ViewExecutorBase"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {
this.root = this.node.root;
};
t.prototype.updateLanguageUIEx = function() {
this.root.getChildByName("labelTitle").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("findIFSCTitle");
this.root.getChildByName("labelBank").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("selectBankName");
this.root.getChildByName("labelState").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("selectState");
this.root.getChildByName("labelDistrict").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("selectDistrict");
this.root.getChildByName("labelBranch").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("selectBranch");
this.root.getChildByName("btnConfirm").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("confirm");
};
t.prototype.onSelectBankEx = function() {
l.default.inst.playGameEffect(l.AudioRes.click);
c.default.inst.showDlg(c.DlgType.selectCharger, this.node.bankList);
};
t.prototype.onSelectStateEx = function() {
l.default.inst.playGameEffect(l.AudioRes.click);
r.default.getInstance().getIFSCCode(this.node.currSelectBank);
};
t.prototype.onSelectDistrictEx = function() {
l.default.inst.playGameEffect(l.AudioRes.click);
r.default.getInstance().getIFSCCode(this.node.currSelectBank, this.node.currSelectState);
};
t.prototype.onSelectBranchEx = function() {
l.default.inst.playGameEffect(l.AudioRes.click);
r.default.getInstance().getIFSCCode(this.node.currSelectBank, this.node.currSelectState, this.node.currSelectDistrict);
};
return a([ u ], t);
}(d.default));
o.default = p;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../manager/DlgGameMgr": "DlgGameMgr",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
SetUpGameDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "743b82Em3RBQ4K1HCXIagak", "SetUpGameDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../data/conf/GameInfo"), c = e("../../../data/MyData"), l = e("../../../data/GameLangData"), d = e("../../../manager/DlgGameMgr"), h = e("../../../manager/ReportGameEvent"), u = e("../../../manager/GameSceneMgr"), p = e("../../../communication/SocketGameManager"), f = e("../../../manager/GameSoundMgr"), m = e("../../../public/MyComponent/GameHppayUtil"), g = e("../../executor/setgame/SetUpGameEx"), y = cc._decorator, _ = y.ccclass, C = (y.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.lanSelectNode = null;
t.btnLanMy = null;
t.btnLanCn = null;
t.btnLanEn = null;
t.localLan = "EN";
return t;
}
o = t;
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this.setView();
this.exView = new g.default();
this.exView.setProxy(this);
this.updateLanChooser();
this.closeBtn = this.getNodeByName("closeBtn");
this.helpBtn = this.getNodeByName("helpBtn");
this._btnList = [ this.closeBtn, this.btn0, this.btn1, this.btn2, this.btn3, this.btn4, this.btn5, this.btn6, this.helpBtn ];
"true" === m.default.readData(c.default.storageData.emailPush) ? this._emailPush = !0 : "false" === m.default.readData(c.default.storageData.emailPush) && (this._emailPush = !1);
this.register("setUpDlg", [ "BINGDING_PHONE_SUCCESS", "ON_UPDATE_PASSWORD_SUCCESS", "CHANGE_LANGUAGE_EVENT" ]);
this._musicVolumeHandle();
this._effectVolumeHandle();
this._shockHandle();
this._setLabelString();
this._emailHandle();
};
t.prototype.setView = function() {
this.label0 = this.getNodeByName("label0").getComponent(cc.Label);
this.label1 = this.getNodeByName("label1").getComponent(cc.Label);
this.label2 = this.getNodeByName("label2").getComponent(cc.Label);
this.label3 = this.getNodeByName("label3").getComponent(cc.Label);
this.label4 = this.getNodeByName("label4").getComponent(cc.Label);
this.label5 = this.getNodeByName("label5").getComponent(cc.Label);
this.label6 = this.getNodeByName("label6").getComponent(cc.Label);
this.btn0 = this.getNodeByName("btn0");
this.btn1 = this.getNodeByName("btn1");
this.btn2 = this.getNodeByName("btn2");
this.btn3 = this.getNodeByName("btn3");
this.btn4 = this.getNodeByName("btn4");
this.btn5 = this.getNodeByName("btn5");
this.btn6 = this.getNodeByName("btn6");
this.lanSelectNode = this.getNodeByName("lanSelectRoot");
this.lanSelectNode.on("click", this.onCloseLanChooser, this);
this.lanSelectNode.active = !1;
s.default.country == s.GameCountryEnum.Brazil ? this.localLan = l.AppLan.pt : s.default.country == s.GameCountryEnum.Vietnam ? this.localLan = l.AppLan.vn : s.default.country == s.GameCountryEnum.Indonesia ? this.localLan = l.AppLan.id : s.default.country == s.GameCountryEnum.Malaysia && (this.localLan = l.AppLan.my);
var e = this.lanSelectNode.getChildByName("lanPanel");
this.btnLanMy = e.getChildByName("lanMy");
this.btnLanMy.name = this.localLan;
this.btnLanMy.on("click", this.onSelectLan, this);
this.btnLanEn = e.getChildByName("lanEn");
this.btnLanEn.name = l.AppLan.en;
this.btnLanEn.on("click", this.onSelectLan, this);
this.btnLanCn = e.getChildByName("lanCn");
this.btnLanCn.name = l.AppLan.cn;
this.btnLanCn.on("click", this.onSelectLan, this);
if (s.default.country == s.GameCountryEnum.Malaysia) {
this.btnLanCn.active = !0;
e.height = 231;
} else {
this.btnLanCn.active = !1;
e.height = 154;
}
m.default.loadSprAtlasFrame(this.lanSelectNode.getChildByName("icon"), "country" + this.localLan.toUpperCase(), "plists/logins");
this.btnLanMy.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_LOGIN_LANG("originLan");
m.default.loadSprAtlasFrame(this.btnLanMy.getChildByName("icon"), "country" + this.localLan.toUpperCase(), "plists/logins");
};
t.prototype.updateLanChooser = function() {
if (s.default.localLanguage == l.AppLan.cn) {
this.btnLanCn.getChildByName("arrow").active = !0;
this.btnLanEn.getChildByName("arrow").active = !1;
this.btnLanMy.getChildByName("arrow").active = !1;
} else if (s.default.localLanguage == this.localLan) {
this.btnLanCn.getChildByName("arrow").active = !1;
this.btnLanEn.getChildByName("arrow").active = !1;
this.btnLanMy.getChildByName("arrow").active = !0;
} else {
this.btnLanCn.getChildByName("arrow").active = !1;
this.btnLanEn.getChildByName("arrow").active = !0;
this.btnLanMy.getChildByName("arrow").active = !1;
}
};
t.prototype.onSelectLan = function(e) {
f.default.inst.playGameEffect(f.AudioRes.click);
this.lanSelectNode.active = !1;
l.default.ins.switchLan(e.node.name);
this.updateLanChooser();
};
t.prototype.onShowLanChooser = function() {
f.default.inst.playGameEffect(f.AudioRes.click);
this.lanSelectNode.active = !0;
};
t.prototype.onCloseLanChooser = function() {
f.default.inst.playGameEffect(f.AudioRes.click);
this.lanSelectNode.active = !1;
};
t.prototype.handleAppEvent = function(e) {
e.arg;
switch (e.key) {
case "BINGDING_PHONE_SUCCESS":
this.bindPhone();
break;

case "ON_UPDATE_PASSWORD_SUCCESS":
this.updatePw();
break;

case "CHANGE_LANGUAGE_EVENT":
this._setLabelString();
}
};
t.prototype.updatePw = function() {
c.default.UserData.bindPhoneStatus = 2;
var e = s.default.phoneNumber.substring(2);
9 == e.length && (e = "0" + e);
this.label0.string = e;
this.btn0.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_LOGIN_LANG("updatePassword");
};
t.prototype.bindPhone = function() {
c.default.UserData.bindPhoneStatus = 1;
var e = s.default.phoneNumber.substring(2);
9 == e.length && (e = "0" + e);
this.label0.string = e;
this.btn0.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_LOGIN_LANG("addPassword");
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.setBtnString();
};
t.prototype.setBtnString = function() {
if (0 == c.default.UserData.bindPhoneStatus) {
this.label0.string = c.default.UserData.userId + "";
this.btn0.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_LOGIN_LANG("addMobile");
} else if (1 == c.default.UserData.bindPhoneStatus) {
9 == (e = s.default.phoneNumber.substring(2)).length && (e = "0" + e);
this.label0.string = e;
this.btn0.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_LOGIN_LANG("addPassword");
} else if (2 == c.default.UserData.bindPhoneStatus) {
var e;
9 == (e = s.default.phoneNumber.substring(2)).length && (e = "0" + e);
this.label0.string = e;
this.btn0.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_LOGIN_LANG("updatePassword");
}
};
t.prototype.onBtnClick = function(t) {
var o = this;
e.prototype.onBtnClick.call(this, t);
switch (t.node.name) {
case "closeBtn":
this.onClose();
break;

case "btn0":
0 == c.default.UserData.bindPhoneStatus ? d.default.inst.showDlg(d.DlgType.bindPhone) : 1 == c.default.UserData.bindPhoneStatus ? d.default.inst.showDlg(d.DlgType.setPassword) : 2 == c.default.UserData.bindPhoneStatus && d.default.inst.showDlg(d.DlgType.updatePassword);
break;

case "btn1":
c.default.UserData.musicSetUp = -1 * c.default.UserData.musicSetUp;
this._musicVolumeHandle();
break;

case "btn2":
c.default.UserData.soundSetUp = -1 * c.default.UserData.soundSetUp;
this._effectVolumeHandle();
break;

case "btn3":
c.default.UserData.shockSetUp = !c.default.UserData.shockSetUp;
this._shockHandle();
break;

case "btn4":
this._emailPush = !this._emailPush;
m.default.saveData(c.default.storageData.emailPush, this._emailPush);
this._emailHandle();
break;

case "btn5":
d.default.inst.showConfirmDlg(l.default.ins.GET_NEWHALL_LANG("logoutTips"), 2, null, null, function() {
o._signOut();
});
break;

case "btn6":
this.onShowLanChooser();
break;

case "helpBtn":
this.onClose();
}
};
t.prototype._shockHandle = function() {
this.exView.shockHandleEx();
};
t.prototype._musicVolumeHandle = function() {
this.exView.musicVolumeHandleEx();
};
t.prototype._effectVolumeHandle = function() {
this.exView.effectVolumeHandleEx();
};
t.prototype._emailHandle = function() {
this.exView.emailHandleEx();
};
t.prototype._setBuildState = function() {
this.btn5.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("signOut");
};
t.prototype._setLabelString = function() {
if (s.default.localLanguage == l.AppLan.cn) {
m.default.loadSprAtlasFrame(this.btn6.getChildByName("icon"), "countryCN", "plists/logins");
this.btn6.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_LOGIN_LANG("localLan");
} else if (s.default.localLanguage == this.localLan) {
m.default.loadSprAtlasFrame(this.btn6.getChildByName("icon"), "country" + this.localLan.toUpperCase(), "plists/logins");
this.btn6.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_LOGIN_LANG("localLan");
} else {
m.default.loadSprAtlasFrame(this.btn6.getChildByName("icon"), "countryEN", "plists/logins");
this.btn6.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_LOGIN_LANG("localLan");
}
0 == c.default.UserData.bindPhoneStatus ? this.btn0.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_LOGIN_LANG("addMobile") : 1 == c.default.UserData.bindPhoneStatus ? this.btn0.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_LOGIN_LANG("addPassword") : 2 == c.default.UserData.bindPhoneStatus && (this.btn0.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_LOGIN_LANG("updatePassword"));
this.label1.string = l.default.ins.GET_DIALOG_LANG("gameMusic");
this.label2.string = l.default.ins.GET_DIALOG_LANG("gameSound");
this.label3.string = l.default.ins.GET_DIALOG_LANG("vibration");
this.label4.string = l.default.ins.GET_DIALOG_LANG("pushSet");
this.label5.string = l.default.ins.GET_NEWHALL_LANG("account");
this.label6.string = l.default.ins.GET_LOGIN_LANG("selectLan");
if (c.default.UserData.phoneBinding) {
var e = s.default.phoneNumber.substring(2);
9 == e.length && (e = "0" + e);
this.label5.string = e;
}
this.helpBtn.getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("help");
this._setBuildState();
this.btn1.getChildByName("img1").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("turnOff");
this.btn2.getChildByName("img1").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("turnOff");
this.btn3.getChildByName("img1").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("turnOff");
this.btn4.getChildByName("img1").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("turnOff");
this.btn1.getChildByName("img2").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("turnOn");
this.btn2.getChildByName("img2").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("turnOn");
this.btn3.getChildByName("img2").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("turnOn");
this.btn4.getChildByName("img2").getChildByName("label").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("turnOn");
this.getNodeByName("labelTitle").getComponent(cc.Label).string = l.default.ins.GET_DIALOG_LANG("basicSet");
this.shadowLabel && this.shadowLabel.removeFromParent();
this.shadowLabel = m.default.labelShadow(this.getNodeByName("labelTitle").getComponent(cc.Label));
};
t.prototype._signOut = function() {
h.default.record(h.ReportEventType.logOutClick);
c.default.clearHallData();
p.default.getInstance().socketSend.loginGameOut();
p.default.getInstance().close();
this.onHide();
u.default.enterLogin();
};
t.prototype.onClose = function() {
o.prefabPath = this.uid;
this._reportSetUp();
o.closeView();
};
t.prototype._reportSetUp = function() {
this.exView.reportSetUpEx();
};
var o;
return o = a([ _ ], t);
}(r.default));
o.default = C;
cc._RF.pop();
}, {
"../../../communication/SocketGameManager": "SocketGameManager",
"../../../data/GameLangData": "GameLangData",
"../../../data/MyData": "MyData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../manager/DlgGameMgr": "DlgGameMgr",
"../../../manager/GameSceneMgr": "GameSceneMgr",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../manager/ReportGameEvent": "ReportGameEvent",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../executor/setgame/SetUpGameEx": "SetUpGameEx"
} ],
SetUpGameEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3b922jk17xPv6FEjm/6398l", "SetUpGameEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../communication/GameLobbyHttp"), s = e("../../../communication/SocketGameManager"), c = e("../../../data/MyData"), l = e("../../../data/conf/GameInfo"), d = e("../../../manager/GameSoundMgr"), h = e("../../../public/MyComponent/GameHppayUtil"), u = e("../../../public/MyComponent/ViewExecutorBase"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.shockHandleEx = function() {
var e = this.node.btn3;
e.getChildByName("img1").active = !1;
e.getChildByName("img2").active = !1;
c.default.UserData.shockSetUp ? e.getChildByName("img2").active = !0 : e.getChildByName("img1").active = !0;
h.default.saveData(c.default.storageData.shockSetUp, c.default.UserData.shockSetUp);
};
t.prototype.musicVolumeHandleEx = function() {
var e = this.node.btn1;
e.getChildByName("img1").active = !1;
e.getChildByName("img2").active = !1;
c.default.UserData.musicSetUp > 0 ? e.getChildByName("img1").active = !0 : e.getChildByName("img2").active = !0;
h.default.saveData(c.default.storageData.musicSetUp, c.default.UserData.musicSetUp);
d.default.inst.setMusicVolume(c.default.UserData.musicSetUp);
};
t.prototype.effectVolumeHandleEx = function() {
var e = this.node.btn2;
e.getChildByName("img1").active = !1;
e.getChildByName("img2").active = !1;
c.default.UserData.soundSetUp > 0 ? e.getChildByName("img1").active = !0 : e.getChildByName("img2").active = !0;
h.default.saveData(c.default.storageData.soundSetUp, c.default.UserData.soundSetUp);
d.default.inst.setEffectVolume(c.default.UserData.soundSetUp);
};
t.prototype.emailHandleEx = function() {
var e = this.node.btn4;
e.getChildByName("img1").active = !1;
e.getChildByName("img2").active = !1;
this.node._emailPush ? e.getChildByName("img1").active = !0 : e.getChildByName("img2").active = !0;
};
t.prototype.reportSetUpEx = function() {
var e = c.default.UserData.country, t = l.default.localLanguage, o = [ "", "zh-hk", "zh-cn", "en" ][c.default.UserData.sandLanguage], i = c.default.UserData.coinFeedback;
s.default.getInstance().socketSend.setSetGameUp(1, e, t, o, i);
var n = Number(this.node._emailPush), a = Number(this.node._emailPush), d = Number(this.node._emailPush), h = l.default.pushToken, u = {
topics: "1:" + n + ",2:" + a + ",3:" + d,
platform: l.default.systemType,
pushToken: h
};
r.default.getInstance().httpPost("push-tj", u, function(e) {
console.log(e, "");
}, function(e) {
console.log(e, "");
});
};
return a([ f ], t);
}(u.default));
o.default = m;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../communication/SocketGameManager": "SocketGameManager",
"../../../data/MyData": "MyData",
"../../../data/conf/GameInfo": "GameInfo",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
SetupDialog: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5a6bchQyhFLHbMRnPwF8Cve", "SetupDialog");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../PublicTools/DialogRoot"), s = e("../FireData/CommonData"), c = e("../EXUIFrame/config/EXSysDefine"), l = e("../EXUIFrame/EXSoundMgr"), d = e("../GameCommon/NVSGameUtil"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.formType = c.FormType.PopUp;
return t;
}
t.prototype.onLoad = function() {
var e = this;
d.default.seekChild(this.node, "closeBtn").on("click", this.onClose, this);
this._setupNode2 = this.node.getChildByName("dialog").getChildByName("setupNode");
this._choiceShock = this._setupNode2.getChildByName("choiceShock");
this._choiceMusic = this._setupNode2.getChildByName("choiceMusic");
this._choiceSound = this._setupNode2.getChildByName("choiceSound");
this._musicSlider = this._setupNode2.getChildByName("slider1");
this._effectSlider = this._setupNode2.getChildByName("slider2");
[ this._choiceShock, this._choiceMusic, this._choiceSound ].forEach(function(t) {
t.on("click", e.onBtn, e);
});
this._shockHandle();
this._musicVolumeHandle();
this._effectVolumeHandle();
};
t.prototype.onBtn = function(e) {
switch (e.node.name) {
case "choiceShock":
s.default.UserData.shockSetUp = !s.default.UserData.shockSetUp;
this._shockHandle();
break;

case "choiceMusic":
s.default.UserData.musicSetUp = -1 * s.default.UserData.musicSetUp;
this._musicVolumeHandle();
break;

case "choiceSound":
s.default.UserData.soundSetUp = -1 * s.default.UserData.soundSetUp;
this._effectVolumeHandle();
}
};
t.prototype._shockHandle = function() {
var e = this._choiceShock.getChildByName("icon");
if (s.default.UserData.shockSetUp) {
e.active = !0;
this._choiceShock.getChildByName("label").getComponent(cc.Label).string = "ON";
this._choiceShock.getChildByName("label").x = 54;
} else {
e.active = !1;
this._choiceShock.getChildByName("label").getComponent(cc.Label).string = "OFF";
this._choiceShock.getChildByName("label").x = -54;
}
d.default.saveData(s.default.storageData.shockSetUp, s.default.UserData.shockSetUp);
};
t.prototype._musicVolumeHandle = function() {
var e = this._choiceMusic.getChildByName("icon");
if (s.default.UserData.musicSetUp > 0) {
e.active = !0;
this._musicSlider.getComponent(cc.Slider).progress = s.default.UserData.musicSetUp;
this._choiceMusic.getChildByName("label").getComponent(cc.Label).string = "ON";
this._choiceMusic.getChildByName("label").x = 54;
} else {
e.active = !1;
this._musicSlider.getComponent(cc.Slider).progress = 0;
this._choiceMusic.getChildByName("label").getComponent(cc.Label).string = "OFF";
this._choiceMusic.getChildByName("label").x = -54;
}
d.default.saveData(s.default.storageData.musicSetUp, s.default.UserData.musicSetUp);
l.default.inst.setMusicVolume(s.default.UserData.musicSetUp);
};
t.prototype.musiceSliderHandle = function(e) {
s.default.UserData.musicSetUp = e.progress;
d.default.saveData(s.default.storageData.musicSetUp, s.default.UserData.musicSetUp);
l.default.inst.setMusicVolume(s.default.UserData.musicSetUp);
if (e.progress > 0) {
this._choiceMusic.getChildByName("icon").active = !0;
this._choiceMusic.getChildByName("label").getComponent(cc.Label).string = "ON";
this._choiceMusic.getChildByName("label").x = 54;
} else {
this._choiceMusic.getChildByName("icon").active = !1;
this._choiceMusic.getChildByName("label").getComponent(cc.Label).string = "OFF";
this._choiceMusic.getChildByName("label").x = -54;
}
};
t.prototype._effectVolumeHandle = function() {
this._effectSlider = this._setupNode2.getChildByName("slider2");
var e = this._choiceSound.getChildByName("icon");
if (s.default.UserData.soundSetUp > 0) {
e.active = !0;
this._effectSlider.getComponent(cc.Slider).progress = s.default.UserData.soundSetUp;
this._choiceSound.getChildByName("label").getComponent(cc.Label).string = "ON";
this._choiceSound.getChildByName("label").x = 54;
} else {
e.active = !1;
this._effectSlider.getComponent(cc.Slider).progress = 0;
this._choiceSound.getChildByName("label").getComponent(cc.Label).string = "OFF";
this._choiceSound.getChildByName("label").x = -54;
}
d.default.saveData(s.default.storageData.soundSetUp, s.default.UserData.soundSetUp);
l.default.inst.setEffectVolume(s.default.UserData.soundSetUp);
};
t.prototype.effectSliderHandle = function(e) {
s.default.UserData.soundSetUp = e.progress;
d.default.saveData(s.default.storageData.soundSetUp, s.default.UserData.soundSetUp);
l.default.inst.setEffectVolume(s.default.UserData.soundSetUp);
if (e.progress > 0) {
this._choiceSound.getChildByName("icon").active = !0;
this._choiceSound.getChildByName("label").getComponent(cc.Label).string = "ON";
this._choiceSound.getChildByName("label").x = 54;
} else {
this._choiceSound.getChildByName("icon").active = !1;
this._choiceSound.getChildByName("label").getComponent(cc.Label).string = "OFF";
this._choiceSound.getChildByName("label").x = -54;
}
};
return a([ u ], t);
}(r.default));
o.default = p;
cc._RF.pop();
}, {
"../EXUIFrame/EXSoundMgr": "EXSoundMgr",
"../EXUIFrame/config/EXSysDefine": "EXSysDefine",
"../FireData/CommonData": "CommonData",
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../PublicTools/DialogRoot": "DialogRoot"
} ],
ShaderOffset: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9e66cYm5EJIerr8vsccVpa+", "ShaderOffset");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, r.executeInEditMode), l = r.requireComponent, d = r.disallowMultiple, h = r.menu, u = function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {};
t.prototype.changeFrame = function() {
this._updateframe();
};
t.prototype.onEnable = function() {
this._updateframe();
};
t.prototype._updateframe = function() {
var e = this.node.getComponent(cc.Sprite), t = e.spriteFrame, o = t.uv[0], i = t.uv[6], n = t.uv[3], a = t.uv[5], r = new cc.Vec4(o, a, i, n), s = t.isRotated() ? 1 : 0, c = e.getMaterials()[0];
c.effect.setProperty("u_uvOffset", r);
c.effect.setProperty("u_uvRotated", s);
};
return a([ s, d(), h("/SharderOffset"), c, l(cc.RenderComponent) ], t);
}(cc.Component);
o.default = u;
cc._RF.pop();
}, {} ],
Shop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0e4c2afdt9Bq4iLjldwzS60", "Shop");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../PublicTools/DialogRoot"), s = e("../FireData/CommonData"), c = e("../GameHttpTools/HttpTools"), l = e("../GameCores/ApplePay"), d = e("../EXUIFrame/config/EXSysDefine"), h = e("../EXUIFrame/EXSoundMgr"), u = e("../GameCommon/NVSGameUtil"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.formType = d.FormType.FixedUI;
return t;
}
t.prototype.onLoad = function() {
this._dialog = this.node.getChildByName("dialog");
this._labelMyCoins = this._dialog.getChildByName("labelCoin");
this._labelMyCoins.getComponent(cc.Label).string = u.default.cul(s.default.UserData.chip, 1);
var e = this._dialog.getChildByName("goodsNode");
e.getChildByName("item1").getChildByName("btnBuy").on("click", this.onPurchaseProduct1, this);
e.getChildByName("item2").getChildByName("btnBuy").on("click", this.onPurchaseProduct2, this);
e.getChildByName("item3").getChildByName("btnBuy").on("click", this.onPurchaseProduct3, this);
e.getChildByName("item4").getChildByName("btnBuy").on("click", this.onPurchaseProduct4, this);
e.getChildByName("item5").getChildByName("btnBuy").on("click", this.onPurchaseProduct5, this);
e.getChildByName("item6").getChildByName("btnBuy").on("click", this.onPurchaseProduct6, this);
};
t.prototype.onBtn = function(e) {
h.default.inst.playEffect("new_res_btnSound");
switch (e.node.name) {
case "closeBtn":
this.onClose();
}
};
t.prototype.onPurchaseProduct1 = function() {
if (null != this._mallData[0]) {
var e = this._mallData[0];
this._placeAnOrder(e);
}
};
t.prototype.onPurchaseProduct2 = function() {
if (null != this._mallData[1]) {
var e = this._mallData[1];
this._placeAnOrder(e);
}
};
t.prototype.onPurchaseProduct3 = function() {
if (null != this._mallData[2]) {
var e = this._mallData[2];
this._placeAnOrder(e);
}
};
t.prototype.onPurchaseProduct4 = function() {
if (null != this._mallData[3]) {
var e = this._mallData[3];
this._placeAnOrder(e);
}
};
t.prototype.onPurchaseProduct5 = function() {
if (null != this._mallData[4]) {
var e = this._mallData[4];
this._placeAnOrder(e);
}
};
t.prototype.onPurchaseProduct6 = function() {
if (null != this._mallData[5]) {
var e = this._mallData[5];
this._placeAnOrder(e);
}
};
t.prototype.initProduct = function(e) {
for (var t = e, o = "", i = 0; i < t.length; i++) {
var n = t[i];
0 == i ? o += n.product_id : o = o + "|" + n.product_id;
}
console.log("products = ", o);
l.default.inst.initProducts(o);
};
t.prototype.start = function() {
u.default.seekChild(this.node, "closeBtn").on("click", this.onClose, this);
this._initUserInfo(s.default.UserData.chip);
this.register("MallDlg", [ "MONEY_UPDATE_EVENT", "APPPAY_CALLBACK_EVENT" ]);
this.needAnimation = !1;
this.canDestory = !0;
var e = [ "com.Gorudentaiga.Kurabu.8", "com.Gorudentaiga.Kurabu.38", "com.Gorudentaiga.Kurabu.78", "com.Gorudentaiga.Kurabu.198", "com.Gorudentaiga.Kurabu.398", "com.Gorudentaiga.Kurabu.788" ];
this._mallData = s.default.mallData;
for (var t = 0; t < this._mallData.length; t++) this._mallData[t].product_id = e[t];
s.default.mallData = this._mallData;
this.initProduct(this._mallData);
this._dialog.active = !0;
this.hideLoading();
};
t.prototype.handleAppEvent = function(e) {
e.arg;
switch (e.key) {
case "MONEY_UPDATE_EVENT":
this._updateMyInfo();
break;

case "APPPAY_CALLBACK_EVENT":
this.hideLoading();
}
};
t.prototype._placeAnOrder = function(e) {
var t = this, o = {};
o.goodsId = e.id;
o.extra = "1";
o.payType = l.default.inst.payType;
c.default.getInstance().httpPost("order", o, function(o) {
console.log("", o);
if (0 == o.error_code) {
t.showLoading(null, null, !0);
l.default.inst.buyCommodity(e.product_id);
} else u.default.alert("");
});
};
t.prototype._initUserInfo = function(e) {
this._labelMyCoins.getComponent(cc.Label).string = "" + u.default.cul(e, 1);
};
t.prototype._updateMyInfo = function() {
u.default.labelChange(this._labelMyCoins, s.default.UserData.chip);
};
return a([ f ], t);
}(r.default));
o.default = m;
cc._RF.pop();
}, {
"../EXUIFrame/EXSoundMgr": "EXSoundMgr",
"../EXUIFrame/config/EXSysDefine": "EXSysDefine",
"../FireData/CommonData": "CommonData",
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../GameCores/ApplePay": "ApplePay",
"../GameHttpTools/HttpTools": "HttpTools",
"../PublicTools/DialogRoot": "DialogRoot"
} ],
SignalView: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0c191HDziFBHJ0o8sG4CJGH", "SignalView");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Conf/Game"), s = e("../Data/GameData"), c = e("../Manager/EventRecorder"), l = e("../UIFrame/SoundMgr"), d = e("../Util/GameUtil"), h = e("./MyEvent"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.colorConf = {
green: new cc.Color(59, 188, 91),
yellow: new cc.Color(199, 177, 74),
red: new cc.Color(197, 42, 41)
};
t._playerActiveOpening = !1;
return t;
}
t.prototype.onLoad = function() {
this._signal = this.node.getChildByName("signal");
this._electric = this.node.getChildByName("electric").getChildByName("electric");
this._electricIcon = this.node.getChildByName("electric").getChildByName("electricIcon");
this._signalNode = this.node.getChildByName("signalNode");
this._tipsBg = this.node.getChildByName("tipsBg");
this._prompt = this._tipsBg.getChildByName("prompt");
this._label = this._tipsBg.getChildByName("label");
this._tipsBg.active = !1;
this._signalNode.on("click", this.onBtn, this);
};
t.prototype.onBtn = function() {
l.default.inst.playEffect("btnSound");
h.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this._tipsBg.active = !this._tipsBg.active;
this._playerActiveOpening = !0;
this._tipsBg.active || (this._playerActiveOpening = !1);
this.updateSignal();
};
t.prototype.updateSignal = function() {
if (d.default.isnull(this._electricIcon)) {
this._electricIcon.active = !1;
if (s.default.phoneData.delayedTime < 100) this._label.color = this.colorConf.green; else if (s.default.phoneData.delayedTime >= 100 && s.default.phoneData.delayedTime <= 500) this._label.color = this.colorConf.yellow; else {
this._label.color = this.colorConf.red;
s.default.phoneData.delayedTime > 999 && (s.default.phoneData.delayedTime = 999);
}
if (s.default.phoneData.delayedTime >= 500) {
c.default.record(c.EventID.networkWeak, "scene", r.default.currScene);
this._playerActiveOpening || (this._tipsBg.active = !0);
} else this._playerActiveOpening || (this._tipsBg.active = !1);
this._label.getComponent(cc.Label).string = s.default.phoneData.delayedTime + "ms";
var e = d.default.copyData(s.default.phoneData.electricity);
if (e > 1) {
this._electricIcon.active = !0;
e -= 1;
}
if (e >= .5 && e <= 1) {
this._electric.color = this.colorConf.green;
this._electric.width = 22 * e;
} else if (e > .2 && e < .5) {
this._electric.color = this.colorConf.yellow;
this._electric.width = 22 * e;
} else {
this._electric.color = this.colorConf.red;
this._electric.width = 22 * e;
}
if (9 == s.default.phoneData.networkType) if (s.default.phoneData.delayedTime < 100) {
d.default.loadSpriteFrame(this._signal, "wifi3", "room/other/phoneInfo");
d.default.loadSpriteFrame(this._prompt, "wifi3", "room/other/phoneInfo");
} else if (s.default.phoneData.delayedTime >= 100 && s.default.phoneData.delayedTime <= 500) {
d.default.loadSpriteFrame(this._signal, "wifi2", "room/other/phoneInfo");
d.default.loadSpriteFrame(this._prompt, "wifi2", "room/other/phoneInfo");
} else {
d.default.loadSpriteFrame(this._signal, "wifi1", "room/other/phoneInfo");
d.default.loadSpriteFrame(this._prompt, "wifi1", "room/other/phoneInfo");
} else if (s.default.phoneData.delayedTime < 100) {
d.default.loadSpriteFrame(this._signal, "signal3", "room/other/phoneInfo");
d.default.loadSpriteFrame(this._prompt, "signal3", "room/other/phoneInfo");
} else if (s.default.phoneData.delayedTime >= 100 && s.default.phoneData.delayedTime <= 500) {
d.default.loadSpriteFrame(this._signal, "signal2", "room/other/phoneInfo");
d.default.loadSpriteFrame(this._prompt, "signal2", "room/other/phoneInfo");
} else {
d.default.loadSpriteFrame(this._signal, "signal1", "room/other/phoneInfo");
d.default.loadSpriteFrame(this._prompt, "signal1", "room/other/phoneInfo");
}
}
};
t.prototype.start = function() {};
return a([ p ], t);
}(cc.Component));
o.default = f;
cc._RF.pop();
}, {
"../Conf/Game": "Game",
"../Data/GameData": "GameData",
"../Manager/EventRecorder": "EventRecorder",
"../UIFrame/SoundMgr": "SoundMgr",
"../Util/GameUtil": "GameUtil",
"./MyEvent": "MyEvent"
} ],
SocketGameManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c8f08yU89JE7Yh5bPqWV0ub", "SocketGameManager");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = cc._decorator, a = n.ccclass, r = (n.property, e("./GameSendSocket")), s = e("./GameRecvSocket"), c = e("../data/conf/GameInfo"), l = e("./NetworkCheck"), d = e("../public/MyComponent/GameEvent"), h = e("../data/conf/GameConfig"), u = e("./GameNetReprter"), p = e("../natives/AndroidFirebase"), f = e("./GameSocket"), m = e("../manager/DlgGameMgr"), g = e("../public/MyComponent/GameHppayUtil"), y = function() {
function e() {
this.scheduler = null;
this.TIME_OUT = 2;
this.connectTimeOutTimes = 0;
this.socketList = [];
this.socketAddrs = [];
this.hasConnectedOne = !1;
}
t = e;
e.prototype.initSocketData = function() {
console.log("Websocket Init Data");
this._socketSend = new r.default();
this._socketRecv = new s.default();
this._socketRecv.init_proc_func();
this.scheduler = cc.director.getScheduler();
this.scheduler.enableForTarget(this);
this.scheduler.unscheduleAllForTarget(this);
};
e.prototype.connect = function(e) {
this.clearAllSocket();
this.hasConnectedOne = !1;
this.socketAddrs = e;
var t = e.length;
console.log("start connect , total socket connections = ", t);
this.scheduler.schedule(this.onConnectTimeOut, this, 2, 1, 0, !1);
for (var o = 0; o < t; o++) {
var i = e[o], n = new f.default();
n.connect(i);
this.socketList.push(n);
}
};
e.prototype.clearAllSocket = function() {
for (var e = this.socketList, t = 0; t < this.socketList.length; t++) {
var o = e[t];
if (null != o && o.status != WebSocket.CLOSED) {
o.close();
o = null;
}
}
this.socketList = [];
};
e.prototype.onConnectTimeOut = function() {
this.scheduler.unschedule(this.onConnectTimeOut, this);
if (0 == this.hasConnectedOne) {
this.connectTimeOutTimes++;
if (1 == this.connectTimeOutTimes) for (var e = 0; e < this.socketAddrs.length; e++) ;
console.log("socket timeout times", this.connectTimeOutTimes);
if (this.connectTimeOutTimes < 5) this.connect(this.socketAddrs); else {
console.log("socket timeout times", this.connectTimeOutTimes);
console.log("show bad network dialog");
this.connectTimeOutTimes = 0;
this.hasConnectedOne = !1;
this.clearAllSocket();
m.default.inst.showBadNetworkDialog();
}
} else {
console.log("socket has connected,not timeout");
this.connectTimeOutTimes = 0;
}
};
e.prototype.onOpen = function(e) {
if (0 == this.hasConnectedOne) {
this.scheduler.unschedule(this.onConnectTimeOut, this);
this.hasConnectedOne = !0;
this._ws = e;
this.loginHall();
g.default.hideLoading();
l.default.inst.startNetworkCheck();
u.GameNetReprter.inst.setEnabled(h.default.delayCheck);
u.GameNetReprter.inst.start();
m.default.inst.closeBadNetwordDialog();
d.GameEvent.ins().emit("ON_SOCKET_CONNECTED");
console.log("Websocket connect success,the fastest one ", e.host);
} else {
console.log("Websocket connect success,the snower one ", e.host);
e.close();
e = null;
}
};
e.prototype.loginHall = function() {
d.GameEvent.ins().emit("EVENT_SERVER_LOGIN");
var e = c.default.devId, t = "";
if (c.default.currPlatType == c.PlatformGameEnum.google) {
e = p.GoogleAccount.pid;
t = p.GoogleAccount.token;
}
if (c.default.currPlatType == c.PlatformGameEnum.telephoneWithPassword || c.default.currPlatType == c.PlatformGameEnum.telephoneWithVCode) {
e = c.default.phoneNumber;
t = c.default.phonePassword;
}
if (c.default.currPlatType == c.PlatformGameEnum.webapp) {
e = c.default.webPid;
t = c.default.webToken;
}
console.log("login game logintype", c.default.currPlatType);
console.log("login game pid = ", e);
console.log("login game password = ", t);
this._socketSend.loginHpgGame(c.default.currPlatType, e, t);
};
e.prototype.onMessage = function(e, t, o) {
this._socketRecv.process(e, t, o);
};
e.prototype.onClose = function(e, t) {
console.log("Socket On Close, reason", t);
d.GameEvent.ins().emit("MYSOKET_CLOSE_SLOT_EVENT");
if (null != this._ws && e.host == this._ws.host) {
if (null != this._ws) {
this._ws.close();
this._ws = null;
}
t != f.CloseReason.initiative && this.reconnect();
d.GameEvent.ins().emit("MYSOKET_CLOSE_EVENT");
l.default.inst.stopNetworkCheck();
u.GameNetReprter.inst.reportNetworkDelay();
} else console.log("Socket is Closed");
};
e.prototype.sendData = function(e) {
this._ws.isReady() ? this._ws.sendData(e) : console.log("sendData failed , Websocket is not ready,Websocket state is ", this._ws.status);
};
e.prototype.reconnect = function() {
console.log("Reconnect Socket");
this.connect(this.socketAddrs);
g.default.showLoading();
};
e.prototype.isReady = function() {
if (null != this._ws) {
if (this._ws.isReady()) return !0;
console.log("websocket state is " + this._ws.status);
return !1;
}
console.log("websocket state is null");
return !1;
};
e.prototype.close = function() {
console.log("Action Close Websocket");
null != this._ws && this._ws.onClose(f.CloseReason.initiative);
};
e.getInstance = function() {
this.instance || (this.instance = new t());
return this.instance;
};
Object.defineProperty(e.prototype, "socketSend", {
get: function() {
return this._socketSend;
},
enumerable: !1,
configurable: !0
});
var t;
return t = i([ a ], e);
}();
o.default = y;
cc._RF.pop();
}, {
"../data/conf/GameConfig": "GameConfig",
"../data/conf/GameInfo": "GameInfo",
"../manager/DlgGameMgr": "DlgGameMgr",
"../natives/AndroidFirebase": "AndroidFirebase",
"../public/MyComponent/GameEvent": "GameEvent",
"../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"./GameNetReprter": "GameNetReprter",
"./GameRecvSocket": "GameRecvSocket",
"./GameSendSocket": "GameSendSocket",
"./GameSocket": "GameSocket",
"./NetworkCheck": "NetworkCheck"
} ],
SoundMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8a6d7wsQHRAAbxh/OtvqIvX", "SoundMgr");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../Conf/Const"), l = e("../Conf/Game"), d = e("../Data/GameData"), h = e("../Util/GameUtil"), u = e("./CocosHelper"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.audioCache = cc.js.createMap();
t.currEffectId = -1;
t.currMusicId = -1;
t._language = "tw";
t._gender = "femaleVoice1/";
t.volume = new g();
return t;
}
o = t;
Object.defineProperty(t, "inst", {
get: function() {
null == this._inst && (this._inst = new o());
return this._inst;
},
enumerable: !1,
configurable: !0
});
t.prototype.setVoice = function(e) {
0 == e ? this._gender = "femaleVoice1/" : 1 == e ? this._gender = "maleVoice1/" : 2 == e && (this._gender = "maleVoice2/");
};
t.prototype.onLoad = function() {
var e = this.getVolumeToLocal();
if (e) this.volume = e; else {
this.volume.musicVolume = 1;
this.volume.effectVolume = 1;
}
this.setVolumeToLocal();
};
t.prototype.getVolume = function() {
return this.volume;
};
t.prototype.start = function() {};
t.prototype.setMusicVolume = function(e) {
e < 0 && (e = 0);
this.volume.musicVolume = e;
this.setVolumeToLocal();
};
t.prototype.setEffectVolume = function(e) {
e < 0 && (e = 0);
this.volume.effectVolume = e;
this.setVolumeToLocal();
};
t.prototype.playMusic = function(e, t, o) {
void 0 === t && (t = !0);
return r(this, void 0, void 0, function() {
var i;
return s(this, function(n) {
switch (n.label) {
case 0:
if (h.default.isWebMobile()) return [ 2 ];
if (!e || "" === e) return [ 2 ];
e = (o = o || "sound/") + e;
if (this.audioCache[e]) {
cc.audioEngine.playMusic(this.audioCache[e], t);
return [ 2 ];
}
return [ 4, u.default.loadResSync(e, cc.AudioClip) ];

case 1:
i = n.sent();
this.audioCache[e] = i;
this.currMusicId = cc.audioEngine.playMusic(i, t);
return [ 2 ];
}
});
});
};
t.prototype.playABMusic = function(e, t, o) {
void 0 === o && (o = !0);
return r(this, void 0, void 0, function() {
var i, n = this;
return s(this, function() {
if (h.default.isWebMobile()) return [ 2 ];
if (!e || "" === e) return [ 2 ];
if (this.audioCache[e]) {
cc.audioEngine.playMusic(this.audioCache[e], o);
return [ 2 ];
}
(i = cc.assetManager.getBundle(t)) && i.load(e, cc.AudioClip, function(t, i) {
n.audioCache[e] = i;
n.currMusicId = cc.audioEngine.playMusic(i, o);
});
return [ 2 ];
});
});
};
t.prototype.playEffect = function(e, t, o) {
void 0 === t && (t = !1);
void 0 === o && (o = !1);
return r(this, void 0, void 0, function() {
return s(this, function() {
return [ 2 ];
});
});
};
t.prototype.playABEffect = function(e, t, o) {
void 0 === o && (o = !1);
return r(this, void 0, void 0, function() {
var i, n = this;
return s(this, function(a) {
switch (a.label) {
case 0:
if (h.default.isWebMobile()) return [ 2 ];
if (!e || "" === e) return [ 2 ];
if (this._nowPlayEffect == e) return [ 2, this.currEffectId ];
this.scheduleOnce(function() {
n._nowPlayEffect = "";
}, 1 / 30);
this._nowPlayEffect = e;
if (this.audioCache[e]) {
this.currEffectId = cc.audioEngine.playEffect(this.audioCache[e], o);
return [ 2, this.currEffectId ];
}
return [ 4, u.default.loadBundleRes(e, t, cc.AudioClip) ];

case 1:
i = a.sent();
this.audioCache[e] = i;
this.currEffectId = cc.audioEngine.playEffect(i, o);
return [ 2, this.currEffectId ];
}
});
});
};
t.prototype.playAudioClip = function(e, t) {
return cc.audioEngine.playEffect(e, t || !1);
};
t.prototype.setFinishCallback = function(e, t) {
cc.audioEngine.setFinishCallback(e, function() {
t && setTimeout(function() {
console.log("");
t();
}, 10);
});
};
t.prototype.playDTEffect = function(e) {
return r(this, void 0, void 0, function() {
var t, o;
return s(this, function(i) {
switch (i.label) {
case 0:
if (h.default.isWebMobile()) return [ 2 ];
if (!e || "" === e) return [ 2 ];
t = "dragonTigerFight/sound/en/";
l.default.localLanguage == l.LocalLanguage.th && (t = "dragonTigerFight/sound/th/");
e = t + e;
if (this.audioCache[e]) {
this.currEffectId = cc.audioEngine.playEffect(this.audioCache[e], !1);
return [ 2 ];
}
return [ 4, u.default.loadResSync(e, cc.AudioClip) ];

case 1:
o = i.sent();
this.audioCache[e] = o;
this.currEffectId = cc.audioEngine.playEffect(o, !1);
return [ 2 ];
}
});
});
};
t.prototype.playDiceEffect = function(e) {
return r(this, void 0, void 0, function() {
var t, o;
return s(this, function(i) {
switch (i.label) {
case 0:
if (h.default.isWebMobile()) return [ 2 ];
if (!e || "" === e) return [ 2 ];
t = "dice/sound/en/";
l.default.localLanguage == l.LocalLanguage.th && (t = "dice/sound/th/");
e = t + e;
if (this.audioCache[e]) {
this.currEffectId = cc.audioEngine.playEffect(this.audioCache[e], !1);
return [ 2 ];
}
return [ 4, u.default.loadResSync(e, cc.AudioClip) ];

case 1:
o = i.sent();
this.audioCache[e] = o;
this.currEffectId = cc.audioEngine.playEffect(o, !1);
return [ 2 ];
}
});
});
};
t.prototype.playVoice = function(e, t) {
return r(this, void 0, void 0, function() {
var o, i, n;
return s(this, function(a) {
switch (a.label) {
case 0:
if (h.default.isWebMobile()) return [ 2 ];
o = "femaleVoice1/";
0 == t ? o = "femaleVoice1/" : 1 == t ? o = "maleVoice1/" : 2 == t && (o = "maleVoice1/");
if (!e || "" === e) return [ 2 ];
i = "sound/" + this._language + "/" + o;
e = i + e;
if (this.audioCache[e]) {
cc.audioEngine.playEffect(this.audioCache[e], !1);
return [ 2 ];
}
return [ 4, u.default.loadResSync(e, cc.AudioClip) ];

case 1:
n = a.sent();
this.audioCache[e] = n;
this.currEffectId = cc.audioEngine.playEffect(n, !1);
return [ 2 ];
}
});
});
};
t.prototype.getVolumeToLocal = function() {
var e = cc.sys.localStorage.getItem("Volume_For_Creator");
return e ? JSON.parse(e) : null;
};
t.prototype.setVolumeToLocal = function() {
cc.audioEngine.setMusicVolume(this.volume.musicVolume);
cc.audioEngine.setEffectsVolume(this.volume.effectVolume);
cc.sys.localStorage.setItem("Volume_For_Creator", JSON.stringify(this.volume));
};
t.prototype.setEffectActive = function(e, t) {
void 0 === t && (t = -1);
e ? cc.audioEngine.stop(t < 0 ? this.currEffectId : t) : cc.audioEngine.resume(t < 0 ? this.currEffectId : t);
};
t.prototype.playBet = function(e) {
if (0 != e) {
var t = "bet";
e > 1 && (t = "bets");
o.inst.playEffect(t);
}
};
t.prototype.playerPoint = function(e, t, i) {
var n = this;
if (t) {
o.inst.playEffect("player_god" + e, !1, !0);
i > 0 && this.scheduleOnce(function() {
o.inst.playEffect("pair_player", !1, !0);
}, 2);
} else {
o.inst.playEffect("hnd_player", !1, !0);
this.scheduleOnce(function() {
o.inst.playEffect("point_" + e, !1, !0);
i > 0 && n.scheduleOnce(function() {
o.inst.playEffect("pair_player", !1, !0);
}, 1);
}, 1);
}
};
t.prototype.bankerPoint = function(e, t, i, n) {
var a = this;
if (i) {
o.inst.playEffect("banker_god" + e, !1, !0);
n > 0 && this.scheduleOnce(function() {
o.inst.playEffect("pair_banker", !1, !0);
}, 2);
} else {
o.inst.playEffect("hnd_banker", !1, !0);
this.scheduleOnce(function() {
o.inst.playEffect("point_" + e, !1, !0);
n > 0 && a.scheduleOnce(function() {
o.inst.playEffect("pair_banker", !1, !0);
}, 1);
}, 1);
}
t();
};
t.prototype.clickBetBtn = function(e) {
o.inst.playEffect("chip_" + e, !1, !0);
};
t.prototype.hallPlayMusic = function() {
this.playMusic("bgm/1hone_bgm");
};
t.prototype.enterRoom = function() {
d.default.roomData.roomType == c.goldType.free ? this.playEffect("welcome_free", !1, !0) : d.default.roomData.roomType == c.goldType.charge ? this.playEffect("welcome_classic", !1, !0) : d.default.roomData.roomType == c.goldType.tiger && this.playEffect("welcome_tiger", !1, !0);
};
t.prototype.stopPlayMusic = function() {
cc.audioEngine.stopMusic();
};
t.prototype.stopPlayEffect = function() {
cc.audioEngine.stopEffect(this.currEffectId);
};
Object.defineProperty(t.prototype, "language", {
set: function(e) {
e == c.sandVoice.cn ? this._language = "cn" : e == c.sandVoice.hk ? this._language = "tw" : e == c.sandVoice.th ? this._language = "th" : e == c.sandVoice.jp ? this._language = "jp" : this._language = "en";
},
enumerable: !1,
configurable: !0
});
var o;
t._inst = null;
return o = a([ f ], t);
}(cc.Component));
o.default = m;
var g = function() {};
cc._RF.pop();
}, {
"../Conf/Const": "Const",
"../Conf/Game": "Game",
"../Data/GameData": "GameData",
"../Util/GameUtil": "GameUtil",
"./CocosHelper": "CocosHelper"
} ],
SpriteFramePreLoader: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "bc8592gn4RPv5Qjw4oO5WYe", "SpriteFramePreLoader");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.FileType = o.SPCache = void 0;
var n, a = e("../data/conf/GameRes"), r = function() {
function e() {}
e.frameCahces = cc.js.createMap();
e.spineAniCahces = cc.js.createMap();
return e;
}();
o.SPCache = r;
(function(e) {
e[e.sprite = 1] = "sprite";
e[e.atlas = 2] = "atlas";
e[e.material = 3] = "material";
e[e.font = 4] = "font";
e[e.anim = 5] = "anim";
e[e.effect = 6] = "effect";
})(n = o.FileType || (o.FileType = {}));
var s = cc._decorator, c = s.ccclass, l = (s.property, function() {
function e() {
this.isCompleted = !1;
this.cursor = 0;
this.totalFiles = 0;
this.spriteFramesFiles = [];
}
t = e;
e.prototype.start = function() {
this.cursor = 0;
this.isCompleted = !1;
this.initFileList();
this.totalFiles = this.spriteFramesFiles.length;
console.log("set cache totalFiles = ", this.totalFiles);
this.loadRes();
};
e.prototype.initFileList = function() {
this.spriteFramesFiles = [ {
fileName: a.GameResInfo.CURRENCY_ROOT_DIR + a.GameResInfo.HALL_MENU_AMT,
type: n.anim
}, {
fileName: a.GameResInfo.CURRENCY_ROOT_DIR + a.GameResInfo.HALL_MENU_DEPOSIT,
type: n.anim
}, {
fileName: a.GameResInfo.CURRENCY_ROOT_DIR + a.GameResInfo.HALL_BIND_PHONE_REWARD_BG,
type: n.sprite
}, {
fileName: a.GameResInfo.CURRENCY_ROOT_DIR + a.GameResInfo.LOGIN_BIND_PHONE_REWARD_BG,
type: n.sprite
}, {
fileName: a.GameResInfo.CURRENCY_ROOT_DIR + a.GameResInfo.REG_BIND_PHONE_REWARD_BG,
type: n.sprite
}, {
fileName: a.GameResInfo.CURRENCY_ROOT_DIR + a.GameResInfo.HALL_MENU_AGENT,
type: n.sprite
}, {
fileName: a.GameResInfo.CURRENCY_ROOT_DIR + a.GameResInfo.HALL_MENU_REBATE,
type: n.sprite
}, {
fileName: a.GameResInfo.CURRENCY_ROOT_DIR + a.GameResInfo.CURRENCY_ICON,
type: n.sprite
}, {
fileName: a.GameResInfo.LAN_ROOT_DIR + a.GameResInfo.FIRST_CHARGE_ITEM1,
type: n.sprite
}, {
fileName: a.GameResInfo.LAN_ROOT_DIR + a.GameResInfo.FIRST_CHARGE_ITEM2,
type: n.sprite
}, {
fileName: a.GameResInfo.LAN_ROOT_DIR + a.GameResInfo.FIRST_CHARGE_ITEM3,
type: n.sprite
}, {
fileName: a.GameResInfo.LAN_ROOT_DIR + a.GameResInfo.FIRST_CHARGE_ITEM4,
type: n.sprite
}, {
fileName: a.GameResInfo.LAN_ROOT_DIR + a.GameResInfo.FIRST_CHARGE_BG,
type: n.sprite
}, {
fileName: a.GameResInfo.LAN_ROOT_DIR + a.GameResInfo.SIGN_UP,
type: n.sprite
}, {
fileName: a.GameResInfo.LAN_ROOT_DIR + a.GameResInfo.SIGN_UP_BG,
type: n.sprite
}, {
fileName: a.GameResInfo.LAN_ROOT_DIR + a.GameResInfo.TIME_REWARD_BG,
type: n.sprite
}, {
fileName: a.GameResInfo.LAN_ROOT_DIR + a.GameResInfo.AGENT_BANNEL,
type: n.sprite
}, {
fileName: a.GameResInfo.LAN_ROOT_DIR + a.GameResInfo.KICKBACK_DESC,
type: n.sprite
}, {
fileName: a.GameResInfo.LAN_ROOT_DIR + a.GameResInfo.BTN_DOWNLOAD,
type: n.sprite
}, {
fileName: a.GameResInfo.LAN_ROOT_DIR + a.GameResInfo.TITLE_ANDROID,
type: n.sprite
}, {
fileName: a.GameResInfo.LAN_ROOT_DIR + a.GameResInfo.TITLE_IOS,
type: n.sprite
}, {
fileName: a.GameResInfo.LAN_ROOT_DIR + a.GameResInfo.SPIN_TITLE,
type: n.sprite
}, {
fileName: a.GameResInfo.LAN_ROOT_DIR + a.GameResInfo.SPIN_BTN,
type: n.sprite
}, {
fileName: a.GameResInfo.LAN_ROOT_DIR + a.GameResInfo.SPIN_TIPS,
type: n.sprite
}, {
fileName: a.GameResInfo.CURRENCY_ROOT_DIR + a.GameResInfo.ANIM_COIN,
type: n.anim
}, {
fileName: a.GameResInfo.CURRENCY_ROOT_DIR + a.GameResInfo.GOOGLE_COIN,
type: n.sprite
}, {
fileName: a.GameResInfo.CURRENCY_ROOT_DIR + a.GameResInfo.AGENT_STEP4,
type: n.sprite
}, {
fileName: a.GameResInfo.CURRENCY_ROOT_DIR + a.GameResInfo.SHARE_CURREENCY_ICON,
type: n.sprite
} ];
};
e.prototype.loadRes = function() {
var e = this.spriteFramesFiles[this.cursor], t = e.type, o = e.fileName;
t == n.atlas ? cc.loader.loadRes(o, cc.SpriteAtlas, function(e, i) {
this.onLoadComplete(o, i, t);
}.bind(this)) : t == n.sprite ? cc.loader.loadRes(e.fileName, cc.SpriteFrame, function(e, i) {
this.onLoadComplete(o, i, t);
}.bind(this)) : t == n.material ? cc.loader.loadRes(e.fileName, cc.Material, function(e, i) {
this.onLoadComplete(o, i, t);
}.bind(this)) : t == n.font ? cc.loader.loadRes(e.fileName, cc.Font, function(e, i) {
this.onLoadComplete(o, i, t);
}.bind(this)) : t == n.anim ? cc.loader.loadRes(e.fileName, sp.SkeletonData, function(e, i) {
this.onLoadComplete(o, i, t);
}.bind(this)) : t == n.effect && cc.loader.loadRes(e.fileName, cc.EffectAsset, function(e, i) {
this.onLoadComplete(o, i, t);
}.bind(this));
};
e.prototype.onLoadComplete = function(e, t, o) {
console.log("set cache cursor = ", this.cursor);
this.onInitRes(e, t, o);
if (this.cursor < this.totalFiles - 1) {
this.cursor++;
this.loadRes();
} else this.isCompleted = !0;
};
e.prototype.onInitRes = function(e, t, o) {
if (o == n.sprite) {
console.log("set cache frame = ", e);
r.frameCahces[e] = t;
} else if (o = n.anim) {
console.log("set cache anim = ", e);
r.spineAniCahces[e] = t;
}
};
e.prototype.isLoadCompleted = function() {
return this.isCompleted;
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ c ], e);
}());
o.default = l;
cc._RF.pop();
}, {
"../data/conf/GameRes": "GameRes"
} ],
SpriteLoad: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "78e30r8P/hM76FhFiQohv3E", "SpriteLoad");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.SPFile = o.FileType = o.SPCache = void 0;
var n, a, r = e("../GameCores/MyCardCreator"), s = e("../GameCores/MyChipCreator"), c = function() {
function e() {}
e.dialogModal = null;
e.chipValueBg = null;
e.pokerBgYellow = null;
e.pokerBgYellowSmall = null;
e.pokerBgBlue = null;
e.pokerBgBlueSmall = null;
e.pokerBgRed = null;
e.pokerBgRedSmall = null;
e.pokerFront = null;
e.pokerShoesCard = null;
e.pokerCardCut = null;
e.pokerCardRandom = null;
e.chatBoxBlue = null;
e.chatBoxYellow = null;
e.chatBoxBlueArrow = null;
e.chatBoxYellowArrow = null;
e.chatBoxPurple = null;
e.chatBoxPurpleArrow = null;
e.tinyPokerFront = null;
e.tinyPokerBack = null;
e.tinyPokerSpadeA = null;
e.tinyPokerIconRedJ = null;
e.tinyPokerIconRedQ = null;
e.tinyPokerIconRedK = null;
e.tinyPokerIconBlackJ = null;
e.tinyPokerIconBlackQ = null;
e.tinyPokerIconBlackK = null;
e.tinyPokerBigIcon = {};
e.tinyPokerRedNumberIcon = {};
e.tinyHalfCardBg = null;
e.iconCoin = null;
e.iconChip = null;
e.chipsCharge = {};
e.chipsFree = {};
e.chipShadowSquare = null;
e.chipShadowCircle = null;
e.fontCuprumBold = null;
return e;
}();
o.SPCache = c;
(function(e) {
e[e.sprite = 1] = "sprite";
e[e.atlas = 2] = "atlas";
e[e.material = 3] = "material";
e[e.font = 4] = "font";
})(n = o.FileType || (o.FileType = {}));
(function(e) {
e.dialogMoal = "AutumnPublic/dialogBg.png";
e.chipValueBg = "AutumnPublic/white.png";
e.smallCard = "WaterCards/smallcard";
e.chips = "FireChips/chips.png";
})(a = o.SPFile || (o.SPFile = {}));
var l = cc._decorator, d = l.ccclass, h = (l.property, function() {
function e() {
this.isCompleted = !1;
this.cursor = 0;
this.totalFiles = 0;
this.spriteFramesFiles = [ {
fileName: a.dialogMoal,
type: n.sprite
}, {
fileName: a.chipValueBg,
type: n.sprite
}, {
fileName: a.smallCard,
type: n.atlas
}, {
fileName: a.chips,
type: n.atlas
} ];
}
t = e;
e.prototype.start = function() {
this.cursor = 0;
this.totalFiles = this.spriteFramesFiles.length;
this.loadRes();
};
e.prototype.loadRes = function() {
var e = this.spriteFramesFiles[this.cursor], t = e.type, o = e.fileName;
t == n.atlas ? cc.loader.loadRes(o, cc.SpriteAtlas, function(e, t) {
this.onLoadComplete(o, t);
}.bind(this)) : t == n.sprite ? cc.loader.loadRes(e.fileName, cc.SpriteFrame, function(e, t) {
this.onLoadComplete(o, t);
}.bind(this)) : t == n.material ? cc.loader.loadRes(e.fileName, cc.Material, function(e, t) {
this.onLoadComplete(o, t);
}.bind(this)) : t == n.font && cc.loader.loadRes(e.fileName, cc.Font, function(e, t) {
this.onLoadComplete(o, t);
}.bind(this));
};
e.prototype.onLoadComplete = function(e, t) {
this.onInitRes(e, t);
if (this.cursor < this.totalFiles - 1) {
this.cursor++;
this.loadRes();
} else {
r.default.inst.init();
this.isCompleted = !0;
}
};
e.prototype.onInitRes = function(e, t) {
e == a.dialogMoal ? c.dialogModal = t : e == a.smallCard ? this.initSmallCard(t) : e == a.chips ? this.initChips(t) : e == a.chipValueBg && (c.chipValueBg = t);
};
e.prototype.initSmallCard = function(e) {
c.tinyPokerBack = e.getSpriteFrame("card_back");
c.tinyPokerFront = e.getSpriteFrame("card_front");
c.tinyPokerSpadeA = e.getSpriteFrame("icon_A");
c.tinyPokerBigIcon[r.CardColor.spade] = e.getSpriteFrame("icon_spade");
c.tinyPokerBigIcon[r.CardColor.heart] = e.getSpriteFrame("icon_heart");
c.tinyPokerBigIcon[r.CardColor.club] = e.getSpriteFrame("icon_club");
c.tinyPokerBigIcon[r.CardColor.diamond] = e.getSpriteFrame("icon_diamond");
c.tinyPokerIconRedJ = e.getSpriteFrame("icon_red_j");
c.tinyPokerIconRedQ = e.getSpriteFrame("icon_red_q");
c.tinyPokerIconRedK = e.getSpriteFrame("icon_red_k");
c.tinyPokerIconBlackJ = e.getSpriteFrame("icon_blue_j");
c.tinyPokerIconBlackQ = e.getSpriteFrame("icon_blue_q");
c.tinyPokerIconBlackK = e.getSpriteFrame("icon_blue_k");
c.tinyPokerRedNumberIcon[2] = e.getSpriteFrame("number_2");
c.tinyPokerRedNumberIcon[3] = e.getSpriteFrame("number_3");
c.tinyPokerRedNumberIcon[4] = e.getSpriteFrame("number_4");
c.tinyPokerRedNumberIcon[5] = e.getSpriteFrame("number_5");
c.tinyPokerRedNumberIcon[6] = e.getSpriteFrame("number_6");
c.tinyPokerRedNumberIcon[7] = e.getSpriteFrame("number_7");
c.tinyPokerRedNumberIcon[8] = e.getSpriteFrame("number_8");
c.tinyPokerRedNumberIcon[9] = e.getSpriteFrame("number_9");
c.tinyPokerRedNumberIcon[10] = e.getSpriteFrame("number_10");
c.tinyPokerRedNumberIcon[11] = e.getSpriteFrame("number_11");
c.tinyPokerRedNumberIcon[12] = e.getSpriteFrame("number_12");
c.tinyPokerRedNumberIcon[13] = e.getSpriteFrame("number_13");
c.tinyPokerRedNumberIcon[14] = e.getSpriteFrame("number_1");
c.tinyHalfCardBg = e.getSpriteFrame("pokerbg");
};
e.prototype.initChips = function(e) {
c.chipsFree[s.ChipValue.value100] = e.getSpriteFrame("100");
c.chipsFree[s.ChipValue.value100k] = e.getSpriteFrame("100k");
c.chipsFree[s.ChipValue.value10m] = e.getSpriteFrame("10m");
c.chipsFree[s.ChipValue.value10k] = e.getSpriteFrame("10k");
c.chipsFree[s.ChipValue.value1k] = e.getSpriteFrame("1k");
c.chipsFree[s.ChipValue.value1m] = e.getSpriteFrame("1m");
c.chipsFree[s.ChipValue.value20] = e.getSpriteFrame("20");
c.chipsFree[s.ChipValue.value5] = e.getSpriteFrame("5");
c.chipsFree[s.ChipValue.value50] = e.getSpriteFrame("50");
c.chipsFree[s.ChipValue.value500] = e.getSpriteFrame("500");
c.chipsFree[s.ChipValue.value500k] = e.getSpriteFrame("500k");
c.chipsFree[s.ChipValue.value50k] = e.getSpriteFrame("50k");
c.chipsFree[s.ChipValue.value5k] = e.getSpriteFrame("5k");
c.chipsFree[s.ChipValue.value5m] = e.getSpriteFrame("5m");
c.chipsCharge[s.ChipValue.value100] = e.getSpriteFrame("c100");
c.chipsCharge[s.ChipValue.value100k] = e.getSpriteFrame("c100k");
c.chipsCharge[s.ChipValue.value10m] = e.getSpriteFrame("c10m");
c.chipsCharge[s.ChipValue.value10k] = e.getSpriteFrame("c10k");
c.chipsCharge[s.ChipValue.value1k] = e.getSpriteFrame("c1k");
c.chipsCharge[s.ChipValue.value1m] = e.getSpriteFrame("c1m");
c.chipsCharge[s.ChipValue.value20] = e.getSpriteFrame("c20");
c.chipsCharge[s.ChipValue.value5] = e.getSpriteFrame("c5");
c.chipsCharge[s.ChipValue.value1] = e.getSpriteFrame("c1");
c.chipsCharge[s.ChipValue.value10] = e.getSpriteFrame("c10");
c.chipsCharge[s.ChipValue.value50] = e.getSpriteFrame("c50");
c.chipsCharge[s.ChipValue.value500] = e.getSpriteFrame("c500");
c.chipsCharge[s.ChipValue.value500k] = e.getSpriteFrame("c500k");
c.chipsCharge[s.ChipValue.value50k] = e.getSpriteFrame("c50k");
c.chipsCharge[s.ChipValue.value5k] = e.getSpriteFrame("c5k");
c.chipsCharge[s.ChipValue.value5m] = e.getSpriteFrame("c5m");
c.chipShadowCircle = e.getSpriteFrame("shadow_circle");
c.chipShadowSquare = e.getSpriteFrame("shadow_square");
};
e.prototype.isLoadCompleted = function() {
return this.isCompleted;
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ d ], e);
}());
o.default = h;
cc._RF.pop();
}, {
"../GameCores/MyCardCreator": "MyCardCreator",
"../GameCores/MyChipCreator": "MyChipCreator"
} ],
SpritePreLoader: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2a945LWUxFDkpk491L4EJz2", "SpritePreLoader");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.SPFile = o.FileType = o.SPCache = void 0;
var n, a, r = e("../Components/ChipPool"), s = e("../Conf/Const"), c = e("../Conf/ScreenAdapter"), l = e("../Manager/CardCreator"), d = e("../Manager/CardManager"), h = e("../Manager/ChipCreator"), u = e("./GameUtil"), p = function() {
function e() {}
e.dialogModal = null;
e.clickEffect = null;
e.chipValueBg = null;
e.roadRes = {};
e.pokerRedNumbers = {};
e.pokerBlackNumbers = {};
e.pokerColorCardsJ = {};
e.pokerColorCardsQ = {};
e.pokerColorCardsK = {};
e.pokerColors = {};
e.pokerColorsSmall = {};
e.pokerColorSpadeA = null;
e.pokerBgYellow = null;
e.pokerBgYellowSmall = null;
e.pokerBgBlue = null;
e.pokerBgBlueSmall = null;
e.pokerBgRed = null;
e.pokerBgRedSmall = null;
e.pokerFront = null;
e.pokerShoesCard = null;
e.pokerShoesCardYellow = null;
e.pokerShoesCardBlue = null;
e.pokerCardCut = null;
e.pokerCardRandom = null;
e.chatBoxBlue = null;
e.chatBoxYellow = null;
e.chatBoxBlueArrow = null;
e.chatBoxYellowArrow = null;
e.chatBoxPurple = null;
e.chatBoxPurpleArrow = null;
e.tinyPokerFront = null;
e.tinyPokerBack = null;
e.tinyPokerSpadeA = null;
e.tinyPokerIconRedJ = null;
e.tinyPokerIconRedQ = null;
e.tinyPokerIconRedK = null;
e.tinyPokerIconBlackJ = null;
e.tinyPokerIconBlackQ = null;
e.tinyPokerIconBlackK = null;
e.tinyPokerBigIcon = {};
e.tinyPokerFlag = null;
e.pokerFlagBig = null;
e.tinyPokerRedNumberIcon = {};
e.tinyHalfCardBg = null;
e.iconCoin = null;
e.iconChip = null;
e.chipsCharge = {};
e.chipsFree = {};
e.chipShadowSquare = null;
e.chipShadowCircle = null;
e.headDefault = {};
e.pokerMaterial = null;
e.pokerMaterialNum = null;
e.fontCuprumBold = null;
e.jackPotNumber = [];
e.jackPotRedNumber = [];
e.jackPotPoint = null;
e.jackPotRedPoint = null;
e.baccaratAnimData = null;
e.baccaratHndAnimData = null;
e.blackjackAnimData = null;
e.sicboAnimData = null;
e.sicbo2AnimData = null;
e.lhdAnimData = null;
e.fqzsAnimData = null;
e.romaAnimData = null;
e.spriteRadiu = null;
return e;
}();
o.SPCache = p;
(function(e) {
e[e.sprite = 1] = "sprite";
e[e.atlas = 2] = "atlas";
e[e.material = 3] = "material";
e[e.font = 4] = "font";
e[e.anim = 5] = "anim";
e[e.effect = 6] = "effect";
})(n = o.FileType || (o.FileType = {}));
(function(e) {
e.dialogMoal = "public/dialogBg.png";
e.clickEffect = "UI/click_effect.png";
e.chipValueBg = "room/bet/tatistics.png";
e.roadElements = "hall/roomList";
e.card1 = "card/card-0";
e.card2 = "card/card-1";
e.card3 = "card/card-2";
e.smallCard = "card/smallcard";
e.miCard = "shader/card/miCardMaterialClone";
e.miCardNumber = "shader/card/miCardNumberMaterialClone";
e.chatBoxBlue = "public/chat_box_blue.png";
e.chatBoxYellow = "public/chat_box_yellow.png";
e.chatBoxPurple = "public/chat_box_purple.png";
e.chatBoxPurpleArrow = "public/chat_box_purple_arrow.png";
e.chatBoxBlueArrow = "public/chat_box_blue_arrow.png";
e.chatBoxYellowArrow = "public/chat_box_yellow_arrow.png";
e.chips = "chips/chips.png";
e.public = "public/common";
e.jackpot = "jackpot/jackpot";
e.fontCuprumBold = "font/Cuprum-Bold";
e.cutCardBlue = "card/cutCard_blue";
e.cutCardYellow = "card/cutCard_yellow";
e.spriteRadiu = "shader/sprite-radius";
})(a = o.SPFile || (o.SPFile = {}));
var f = cc._decorator, m = f.ccclass, g = (f.property, function() {
function e() {
this.isCompleted = !1;
this.cursor = 0;
this.totalFiles = 0;
this.spriteFramesFiles = [ {
fileName: a.dialogMoal,
type: n.sprite
}, {
fileName: a.clickEffect,
type: n.sprite
}, {
fileName: a.chipValueBg,
type: n.sprite
}, {
fileName: a.chatBoxBlue,
type: n.sprite
}, {
fileName: a.chatBoxYellow,
type: n.sprite
}, {
fileName: a.chatBoxBlueArrow,
type: n.sprite
}, {
fileName: a.chatBoxYellowArrow,
type: n.sprite
}, {
fileName: a.chatBoxPurple,
type: n.sprite
}, {
fileName: a.chatBoxPurpleArrow,
type: n.sprite
}, {
fileName: a.roadElements,
type: n.atlas
}, {
fileName: a.card1,
type: n.atlas
}, {
fileName: a.card2,
type: n.atlas
}, {
fileName: a.card3,
type: n.atlas
}, {
fileName: a.smallCard,
type: n.atlas
}, {
fileName: a.chips,
type: n.atlas
}, {
fileName: a.public,
type: n.atlas
}, {
fileName: a.miCard,
type: n.material
}, {
fileName: a.miCardNumber,
type: n.material
}, {
fileName: a.jackpot,
type: n.atlas
}, {
fileName: a.fontCuprumBold,
type: n.font
}, {
fileName: a.cutCardBlue,
type: n.sprite
}, {
fileName: a.cutCardYellow,
type: n.sprite
}, {
fileName: a.spriteRadiu,
type: n.effect
} ];
}
t = e;
e.prototype.start = function() {
this.cursor = 0;
this.totalFiles = this.spriteFramesFiles.length;
console.log("totalFiles = ", this.totalFiles);
this.loadRes();
};
e.prototype.loadRes = function() {
var e = this.spriteFramesFiles[this.cursor], t = e.type, o = e.fileName;
t == n.atlas ? cc.loader.loadRes(o, cc.SpriteAtlas, function(e, t) {
this.onLoadComplete(o, t);
}.bind(this)) : t == n.sprite ? cc.loader.loadRes(e.fileName, cc.SpriteFrame, function(e, t) {
this.onLoadComplete(o, t);
}.bind(this)) : t == n.material ? cc.loader.loadRes(e.fileName, cc.Material, function(e, t) {
this.onLoadComplete(o, t);
}.bind(this)) : t == n.font ? cc.loader.loadRes(e.fileName, cc.Font, function(e, t) {
this.onLoadComplete(o, t);
}.bind(this)) : t == n.anim ? cc.loader.loadRes(e.fileName, sp.SkeletonData, function(e, t) {
this.onLoadComplete(o, t);
}.bind(this)) : t == n.effect && cc.loader.loadRes(e.fileName, cc.EffectAsset, function(e, t) {
this.onLoadComplete(o, t);
}.bind(this));
this.PreloadFrame();
};
e.prototype.onLoadComplete = function(e, t) {
console.log("cursor = ", this.cursor);
this.onInitRes(e, t);
if (this.cursor < this.totalFiles - 1) {
this.cursor++;
this.loadRes();
} else {
r.default.inst.prepare();
l.default.inst.init();
d.default.inst.initCards();
this.isCompleted = !0;
}
};
e.prototype.preLoadScene = function() {
c.default.getInstance().screenType == s.screenTypeEnum.isIpad ? cc.director.preloadScene("ipad/ipadhallScene") : cc.director.preloadScene("hallScene");
};
e.prototype.onInitRes = function(e, t) {
e == a.dialogMoal ? p.dialogModal = t : e == a.clickEffect ? p.clickEffect = t : e == a.chipValueBg ? p.chipValueBg = t : e == a.chatBoxYellow ? p.chatBoxYellow = t : e == a.chatBoxBlue ? p.chatBoxBlue = t : e == a.chatBoxYellowArrow ? p.chatBoxYellowArrow = t : e == a.chatBoxBlueArrow ? p.chatBoxBlueArrow = t : e == a.chatBoxPurple ? p.chatBoxPurple = t : e == a.chatBoxPurpleArrow ? p.chatBoxPurpleArrow = t : e == a.roadElements ? this.initRoad(t) : e == a.card1 ? this.initCard(1, t) : e == a.card2 ? this.initCard(2, t) : e == a.card3 ? this.initCard(3, t) : e == a.smallCard ? this.initSmallCard(t) : e == a.chips ? this.initChips(t) : e == a.miCard ? p.pokerMaterial = t : e == a.miCardNumber ? p.pokerMaterialNum = t : e == a.public ? this.initPublic(t) : e == a.jackpot ? this.initJackpot(t) : e == a.fontCuprumBold ? p.fontCuprumBold = t : e == a.cutCardBlue ? p.pokerShoesCardBlue = t : e == a.cutCardYellow ? p.pokerShoesCardYellow = t : e == a.spriteRadiu && (p.spriteRadiu = t);
};
e.prototype.initJackpot = function(e) {
for (var t = 0; t <= 9; t++) {
p.jackPotNumber.push(e.getSpriteFrame("potNumber" + t));
p.jackPotRedNumber.push(e.getSpriteFrame("redNumber" + t));
}
p.jackPotPoint = e.getSpriteFrame("point");
p.jackPotRedPoint = e.getSpriteFrame("redPoint");
};
e.prototype.initPublic = function(e) {
p.iconChip = e.getSpriteFrame("chipIcon");
p.iconCoin = e.getSpriteFrame("coinIcon");
};
e.prototype.initDefaultHead = function(e) {
p.headDefault.default = e.getSpriteFrame("defaultHead");
p.headDefault[1] = e.getSpriteFrame("head1");
p.headDefault[2] = e.getSpriteFrame("head2");
p.headDefault[3] = e.getSpriteFrame("head3");
p.headDefault[4] = e.getSpriteFrame("head4");
p.headDefault[5] = e.getSpriteFrame("head5");
p.headDefault[6] = e.getSpriteFrame("head6");
p.headDefault[7] = e.getSpriteFrame("head7");
p.headDefault[8] = e.getSpriteFrame("head8");
p.headDefault[9] = e.getSpriteFrame("head9");
p.headDefault[10] = e.getSpriteFrame("head10");
p.headDefault[11] = e.getSpriteFrame("head11");
p.headDefault[12] = e.getSpriteFrame("head12");
p.headDefault[13] = e.getSpriteFrame("head13");
p.headDefault[14] = e.getSpriteFrame("head14");
};
e.prototype.initRoad = function(e) {
p.roadRes.chip = e.getSpriteFrame("chip");
p.roadRes.coin = e.getSpriteFrame("coin");
p.roadRes.tigerDraw = e.getSpriteFrame("tigerDraw");
p.roadRes.tigerLuck = e.getSpriteFrame("tigerLuck");
p.roadRes.zplPlayer = e.getSpriteFrame("zplPlayer");
p.roadRes.zplbanker = e.getSpriteFrame("zplbanker");
p.roadRes.zplPeace = e.getSpriteFrame("zplPeace");
p.roadRes.zplBluePoint = e.getSpriteFrame("zplBluePoint");
p.roadRes.zplRedPoint = e.getSpriteFrame("zplRedPoint");
p.roadRes.dlPlayer = e.getSpriteFrame("dlPlayer");
p.roadRes.dlBanker = e.getSpriteFrame("dlBanker");
p.roadRes.dlDrawn2 = e.getSpriteFrame("dlDrawn2");
p.roadRes.dlDrawn1 = e.getSpriteFrame("dlDrawn1");
p.roadRes.dlBluePoint = e.getSpriteFrame("dlBluePoint");
p.roadRes.dlRedPoiint = e.getSpriteFrame("dlRedPoiint");
p.roadRes.dlLucky = e.getSpriteFrame("dlLucky");
p.roadRes.dyzRed = e.getSpriteFrame("dyzRed");
p.roadRes.dyzBlue = e.getSpriteFrame("dyzBlue");
p.roadRes.xlRed = e.getSpriteFrame("xlRed");
p.roadRes.xlBlue = e.getSpriteFrame("xlBlue");
p.roadRes.yylRed = e.getSpriteFrame("yylRed");
p.roadRes.yylBlue = e.getSpriteFrame("yylBlue");
p.roadRes.zplBankerEn = e.getSpriteFrame("zplBankerEn");
p.roadRes.zplPlayerEn = e.getSpriteFrame("zplPlayerEn");
p.roadRes.zplPeaceEn = e.getSpriteFrame("zplPeaceEn");
};
e.prototype.initCard = function(e, t) {
if (1 == e) {
p.pokerCardRandom = t.getSpriteFrame("black");
p.pokerBgBlue = t.getSpriteFrame("blue");
p.pokerBgBlueSmall = t.getSpriteFrame("blue112x150");
p.pokerBgRed = t.getSpriteFrame("red");
p.pokerBgYellow = t.getSpriteFrame("yellow");
p.pokerColors.club = t.getSpriteFrame("color_color3");
p.pokerColorsSmall.club = t.getSpriteFrame("color_small3");
p.pokerBlackNumbers[13] = t.getSpriteFrame("black_13");
} else if (2 == e) {
p.pokerBlackNumbers[2] = t.getSpriteFrame("black_2");
p.pokerBlackNumbers[3] = t.getSpriteFrame("black_3");
p.pokerBlackNumbers[4] = t.getSpriteFrame("black_4");
p.pokerBlackNumbers[5] = t.getSpriteFrame("black_5");
p.pokerBlackNumbers[6] = t.getSpriteFrame("black_6");
p.pokerBlackNumbers[7] = t.getSpriteFrame("black_7");
p.pokerBlackNumbers[8] = t.getSpriteFrame("black_8");
p.pokerBlackNumbers[9] = t.getSpriteFrame("black_9");
p.pokerBlackNumbers[10] = t.getSpriteFrame("black_10");
p.pokerBlackNumbers[11] = t.getSpriteFrame("black_11");
p.pokerBlackNumbers[12] = t.getSpriteFrame("black_12");
p.pokerBlackNumbers[14] = t.getSpriteFrame("black_14");
p.pokerRedNumbers[2] = t.getSpriteFrame("red_2");
p.pokerRedNumbers[3] = t.getSpriteFrame("red_3");
p.pokerRedNumbers[4] = t.getSpriteFrame("red_4");
p.pokerRedNumbers[5] = t.getSpriteFrame("red_5");
p.pokerRedNumbers[6] = t.getSpriteFrame("red_6");
p.pokerRedNumbers[7] = t.getSpriteFrame("red_7");
p.pokerRedNumbers[8] = t.getSpriteFrame("red_8");
p.pokerRedNumbers[9] = t.getSpriteFrame("red_9");
p.pokerRedNumbers[10] = t.getSpriteFrame("red_10");
p.pokerRedNumbers[11] = t.getSpriteFrame("red_11");
p.pokerRedNumbers[12] = t.getSpriteFrame("red_12");
p.pokerRedNumbers[13] = t.getSpriteFrame("red_13");
p.pokerRedNumbers[14] = t.getSpriteFrame("red_14");
p.pokerBgYellowSmall = t.getSpriteFrame("yellow112x150");
p.pokerBgRedSmall = t.getSpriteFrame("red112x150");
p.pokerFront = t.getSpriteFrame("cardBg");
p.pokerCardCut = t.getSpriteFrame("blackCard");
p.pokerShoesCard = t.getSpriteFrame("cutCard");
p.pokerColors.spade = t.getSpriteFrame("color_color1");
p.pokerColors.heart = t.getSpriteFrame("color_color2");
p.pokerColors.diamond = t.getSpriteFrame("color_color4");
p.pokerColorsSmall.spade = t.getSpriteFrame("color_small1");
p.pokerColorsSmall.heart = t.getSpriteFrame("color_small2");
p.pokerColorsSmall.diamond = t.getSpriteFrame("color_small4");
p.pokerColorSpadeA = t.getSpriteFrame("color_color1A");
p.pokerColorCardsJ.spade = t.getSpriteFrame("color_color1_11");
p.pokerColorCardsQ.spade = t.getSpriteFrame("color_color1_12");
p.pokerColorCardsK.spade = t.getSpriteFrame("color_color1_13");
p.pokerColorCardsJ.heart = t.getSpriteFrame("color_color2_11");
p.pokerColorCardsQ.heart = t.getSpriteFrame("color_color2_12");
p.pokerColorCardsK.heart = t.getSpriteFrame("color_color2_13");
p.pokerColorCardsJ.club = t.getSpriteFrame("color_color3_11");
p.pokerColorCardsQ.club = t.getSpriteFrame("color_color3_12");
} else if (3 == e) {
p.pokerColorCardsK.club = t.getSpriteFrame("color_color3_13");
p.pokerColorCardsJ.diamond = t.getSpriteFrame("color_color4_11");
p.pokerColorCardsQ.diamond = t.getSpriteFrame("color_color4_12");
p.pokerColorCardsK.diamond = t.getSpriteFrame("color_color4_13");
}
};
e.prototype.initSmallCard = function(e) {
p.tinyPokerBack = e.getSpriteFrame("card_back");
p.tinyPokerFront = e.getSpriteFrame("card_front");
p.tinyPokerSpadeA = e.getSpriteFrame("icon_A");
p.tinyPokerBigIcon[l.CardColor.spade] = e.getSpriteFrame("icon_spade");
p.tinyPokerBigIcon[l.CardColor.heart] = e.getSpriteFrame("icon_heart");
p.tinyPokerBigIcon[l.CardColor.club] = e.getSpriteFrame("icon_club");
p.tinyPokerBigIcon[l.CardColor.diamond] = e.getSpriteFrame("icon_diamond");
p.tinyPokerFlag = e.getSpriteFrame("cardFlag");
p.pokerFlagBig = e.getSpriteFrame("cardFlagBig");
p.tinyPokerIconRedJ = e.getSpriteFrame("icon_red_j");
p.tinyPokerIconRedQ = e.getSpriteFrame("icon_red_q");
p.tinyPokerIconRedK = e.getSpriteFrame("icon_red_k");
p.tinyPokerIconBlackJ = e.getSpriteFrame("icon_blue_j");
p.tinyPokerIconBlackQ = e.getSpriteFrame("icon_blue_q");
p.tinyPokerIconBlackK = e.getSpriteFrame("icon_blue_k");
p.tinyPokerRedNumberIcon[2] = e.getSpriteFrame("number_2");
p.tinyPokerRedNumberIcon[3] = e.getSpriteFrame("number_3");
p.tinyPokerRedNumberIcon[4] = e.getSpriteFrame("number_4");
p.tinyPokerRedNumberIcon[5] = e.getSpriteFrame("number_5");
p.tinyPokerRedNumberIcon[6] = e.getSpriteFrame("number_6");
p.tinyPokerRedNumberIcon[7] = e.getSpriteFrame("number_7");
p.tinyPokerRedNumberIcon[8] = e.getSpriteFrame("number_8");
p.tinyPokerRedNumberIcon[9] = e.getSpriteFrame("number_9");
p.tinyPokerRedNumberIcon[10] = e.getSpriteFrame("number_10");
p.tinyPokerRedNumberIcon[11] = e.getSpriteFrame("number_11");
p.tinyPokerRedNumberIcon[12] = e.getSpriteFrame("number_12");
p.tinyPokerRedNumberIcon[13] = e.getSpriteFrame("number_13");
p.tinyPokerRedNumberIcon[14] = e.getSpriteFrame("number_1");
p.tinyHalfCardBg = e.getSpriteFrame("pokerbg");
};
e.prototype.initChips = function(e) {
p.chipsCharge[h.ChipValue.value0] = e.getSpriteFrame("c0.5");
p.chipsCharge[h.ChipValue.value1] = e.getSpriteFrame("c1");
p.chipsCharge[h.ChipValue.value10] = e.getSpriteFrame("c10");
p.chipsCharge[h.ChipValue.value100] = e.getSpriteFrame("c100");
p.chipsCharge[h.ChipValue.value100k] = e.getSpriteFrame("c100k");
p.chipsCharge[h.ChipValue.value10m] = e.getSpriteFrame("c10m");
p.chipsCharge[h.ChipValue.value10k] = e.getSpriteFrame("c10k");
p.chipsCharge[h.ChipValue.value1k] = e.getSpriteFrame("c1k");
p.chipsCharge[h.ChipValue.value1m] = e.getSpriteFrame("c1m");
p.chipsCharge[h.ChipValue.value20] = e.getSpriteFrame("c20");
p.chipsCharge[h.ChipValue.value5] = e.getSpriteFrame("c5");
p.chipsCharge[h.ChipValue.value50] = e.getSpriteFrame("c50");
p.chipsCharge[h.ChipValue.value500] = e.getSpriteFrame("c500");
p.chipsCharge[h.ChipValue.value500k] = e.getSpriteFrame("c500k");
p.chipsCharge[h.ChipValue.value50k] = e.getSpriteFrame("c50k");
p.chipsCharge[h.ChipValue.value5k] = e.getSpriteFrame("c5k");
p.chipsCharge[h.ChipValue.value5m] = e.getSpriteFrame("c5m");
p.chipShadowCircle = e.getSpriteFrame("shadow_circle");
p.chipShadowSquare = e.getSpriteFrame("shadow_square");
};
e.prototype.isLoadCompleted = function() {
return this.isCompleted;
};
e.prototype.PreloadFrame = function() {
u.default.addSpriteFrame("defaultHead", "public/common");
};
Object.defineProperty(e, "inst", {
get: function() {
null == this._inst && (this._inst = new t());
return this._inst;
},
enumerable: !1,
configurable: !0
});
var t;
e._inst = null;
return t = i([ m ], e);
}());
o.default = g;
cc._RF.pop();
}, {
"../Components/ChipPool": "ChipPool",
"../Conf/Const": "Const",
"../Conf/ScreenAdapter": "ScreenAdapter",
"../Manager/CardCreator": "CardCreator",
"../Manager/CardManager": "CardManager",
"../Manager/ChipCreator": "ChipCreator",
"./GameUtil": "GameUtil"
} ],
SpriteRadius: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1a612cSN4xKOYL9KoPb6v4F", "SpriteRadius");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.InputMode = void 0;
var r, s = cc._decorator, c = s.ccclass, l = s.property, d = s.requireComponent, h = s.executeInEditMode, u = s.disallowMultiple, p = s.executionOrder;
(function(e) {
e[e.CocosEditor = 1] = "CocosEditor";
e[e.Web = 2] = "Web";
})(r = o.InputMode || (o.InputMode = {}));
var f = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._effect = null;
t._inputMode = r.CocosEditor;
t._leftTop = cc.v2();
t._rightTop = cc.v2();
t._rightBottom = cc.v2();
t._leftBottom = cc.v2();
t._configString = "0px";
t.sprite = null;
t.material = null;
return t;
}
Object.defineProperty(t.prototype, "effect", {
get: function() {
return this._effect;
},
set: function(e) {
this._effect = e;
this.init();
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "inputMode", {
get: function() {
return this._inputMode;
},
set: function(e) {
this._inputMode = e;
this.updateProperties();
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "leftTop", {
get: function() {
return this._leftTop;
},
set: function(e) {
this._leftTop = e;
this.updateProperties();
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "rightTop", {
get: function() {
return this._rightTop;
},
set: function(e) {
this._rightTop = e;
this.updateProperties();
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "rightBottom", {
get: function() {
return this._rightBottom;
},
set: function(e) {
this._rightBottom = e;
this.updateProperties();
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "leftBottom", {
get: function() {
return this._leftBottom;
},
set: function(e) {
this._leftBottom = e;
this.updateProperties();
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "configString", {
get: function() {
return this._configString;
},
set: function(e) {
this._configString = e;
this.updateProperties();
},
enumerable: !1,
configurable: !0
});
t.prototype.onLoad = function() {
this.init();
};
t.prototype.resetInEditor = function() {
this.init();
};
t.prototype.init = function() {
this.sprite = this.node.getComponent(cc.Sprite);
this.sprite.spriteFrame && (this.sprite.spriteFrame.getTexture().packable = !1);
if (this._effect) {
this.material = cc.Material.create(this._effect);
this.sprite.setMaterial(0, this.material);
this.updateProperties();
} else cc.warn("[SpriteRadius]: Effect");
};
t.prototype.updateProperties = function() {
switch (this._inputMode) {
case r.CocosEditor:
this.cocosEditor(this._leftTop, this._rightTop, this._rightBottom, this._leftBottom);
break;

case r.Web:
this.web(this._configString);
}
};
t.prototype.cocosEditor = function(e, t, o, i) {
this.material.setProperty("size", cc.v2(this.node.width, this.node.height));
this.material.setProperty("leftTop", this.percentageToPixel(e));
this.material.setProperty("rightTop", this.percentageToPixel(t));
this.material.setProperty("rightBottom", this.percentageToPixel(o));
this.material.setProperty("leftBottom", this.percentageToPixel(i));
};
t.prototype.web = function(e) {
if (0 !== e.length) {
do {
e = e.replace("  ", " ");
} while (-1 !== e.indexOf("  "));
e.endsWith(";") && (e = e.slice(0, -1));
this.material.setProperty("size", cc.v2(this.node.width, this.node.height));
for (var t = e.split(" "), o = 0; o < t.length; o++) if (-1 !== t[o].indexOf("px")) t[o] = parseFloat(t[o].slice(0, -2)); else {
if (-1 === t[o].indexOf("%")) {
if ("/" === t[o]) continue;
return;
}
t[o] = parseFloat(t[o].slice(0, -1)) / 100;
}
var i = [];
if (-1 !== t.indexOf("/")) {
if (t.indexOf("/") !== t.lastIndexOf("/")) return;
var n = t.indexOf("/");
if (3 === t.length) {
if (1 !== n) return;
i.push(cc.v2(t[0], t[2]));
i.push.apply(i, i);
i.push.apply(i, i);
} else if (4 === t.length) {
if (1 !== n && 2 !== n) return;
if (1 === n) {
i.push(cc.v2(t[0], t[2]));
i.push(cc.v2(t[0], t[3]));
i.push.apply(i, i);
} else if (2 === n) {
i.push(cc.v2(t[0], t[3]));
i.push(cc.v2(t[1], t[3]));
i.push.apply(i, i);
}
} else if (5 === t.length) {
if (1 !== n && 2 !== n && 3 !== n) return;
if (1 === n) {
i.push(cc.v2(t[0], t[2]));
i.push(cc.v2(t[0], t[3]));
i.push(cc.v2(t[0], t[4]));
i.push(cc.v2(t[0], t[3]));
} else if (2 === n) {
i.push(cc.v2(t[0], t[3]));
i.push(cc.v2(t[1], t[4]));
i.push.apply(i, i);
} else if (3 === n) {
i.push(cc.v2(t[0], t[4]));
i.push(cc.v2(t[1], t[4]));
i.push(cc.v2(t[2], t[4]));
i.push(cc.v2(t[1], t[4]));
}
}
} else {
for (o = 0; o < t.length; o++) i.push(cc.v2(t[o], t[o]));
if (1 === t.length) {
i.push.apply(i, i);
i.push.apply(i, i);
} else 2 === t.length ? i.push.apply(i, i) : 3 === t.length && i.push(i[1]);
}
this.material.setProperty("leftTop", this.percentageToPixel(i[0]));
this.material.setProperty("rightTop", this.percentageToPixel(i[1]));
this.material.setProperty("rightBottom", this.percentageToPixel(i[2]));
this.material.setProperty("leftBottom", this.percentageToPixel(i[3]));
}
};
t.prototype.percentageToPixel = function(e) {
var t = cc.v2();
e.x < 1 ? t.x = e.x * this.node.width : t.x = e.x;
e.y < 1 ? t.y = e.y * this.node.height : t.y = e.y;
return t;
};
a([ l ], t.prototype, "_effect", void 0);
a([ l({
type: cc.EffectAsset,
tooltip: !1
}) ], t.prototype, "effect", null);
a([ l ], t.prototype, "_inputMode", void 0);
a([ l({
type: cc.Enum(r),
tooltip: !1
}) ], t.prototype, "inputMode", null);
a([ l ], t.prototype, "_leftTop", void 0);
a([ l({
tooltip: !1,
visible: function() {
return this.inputMode === r.CocosEditor;
}
}) ], t.prototype, "leftTop", null);
a([ l ], t.prototype, "_rightTop", void 0);
a([ l({
tooltip: !1,
visible: function() {
return this.inputMode === r.CocosEditor;
}
}) ], t.prototype, "rightTop", null);
a([ l ], t.prototype, "_rightBottom", void 0);
a([ l({
tooltip: !1,
visible: function() {
return this.inputMode === r.CocosEditor;
}
}) ], t.prototype, "rightBottom", null);
a([ l ], t.prototype, "_leftBottom", void 0);
a([ l({
tooltip: !1,
visible: function() {
return this.inputMode === r.CocosEditor;
}
}) ], t.prototype, "leftBottom", null);
a([ l ], t.prototype, "_configString", void 0);
a([ l({
tooltip: !1,
visible: function() {
return this.inputMode === r.Web;
}
}) ], t.prototype, "configString", null);
return a([ c, d(cc.Sprite), h, u, p(-100) ], t);
}(cc.Component);
o.default = f;
cc._RF.pop();
}, {} ],
StoreSelecter: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "54956LIKR9P/7dVenSG8/Xc", "StoreSelecter");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/GameEvent"), s = e("../../../manager/GameSoundMgr"), c = e("../../../public/MyComponent/GameHppayUtil"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.titleBg = null;
t.listBg = null;
t.listIcon = null;
t.title = null;
t.payListData = null;
t.selectFlag = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
this.title = this.node.getChildByName("title").getComponent(cc.Label);
this.titleBg = this.node.getChildByName("title_bg");
this.listIcon = this.node.getChildByName("title_list_icon");
this.listBg = this.node.getChildByName("selecter_bg");
this.selectFlag = this.node.getChildByName("selectFlag");
this.node.active = !1;
this.node.on("click", this.hidePayList, this);
this.titleBg.on("click", this.onListPayList, this);
};
t.prototype.start = function() {};
t.prototype.onListPayList = function() {
s.default.inst.playGameEffect(s.AudioRes.click);
0 == this.listBg.active ? this.showPayList() : this.hidePayList();
};
t.prototype.initPayList = function(e) {
if (null != e && 0 != e.length) {
this.node.active = !0;
this.listBg.removeAllChildren(!0);
this.listBg.active = !1;
if (1 == e.length) {
this.listIcon.active = !1;
this.titleBg.active = !1;
} else if (e.length > 1) {
this.listIcon.active = !0;
this.titleBg.active = !0;
}
this.payListData = e;
this.title.string = this.payListData[0].name;
this.selectFlag.active = !1;
this.selectFlag.y = 352;
r.GameEvent.ins().emit("ON_UPDATE_PAYTYPE_DATA", this.payListData[0]);
this.listBg.height = 137 * this.payListData.length;
for (var t = 0; t < this.payListData.length; t++) {
var o = this.payListData[t];
this.creatPayItem(t, o, this.listBg);
}
}
};
t.prototype.creatPayItem = function(e, t, o) {
var i = this;
if (e % 2 == 1) {
var n = new cc.Node();
n.addComponent(cc.Sprite);
c.default.loadSprAtlasFrame(n, "chargetypelistbg", "plists/charge");
n.parent = o;
n.anchorX = .5;
n.anchorY = 1;
n.scaleX = 9;
n.x = 315;
n.y = -137 * e;
}
var a = new cc.Node();
a.addComponent(cc.Label);
a.parent = o;
a.getComponent(cc.Label).string = t.name;
a.color = new cc.Color(248, 248, 248);
a.anchorX = 0;
a.x = 24;
a.y = -68 - 137 * e;
var r = new cc.Node();
r.addComponent(cc.Button);
r.parent = o;
r.x = 315;
r.y = -68 - 137 * e;
r.width = 630;
r.height = 137;
r.off("click");
r.on("click", function() {
i.onSelectPayType(e, t);
}, this);
};
t.prototype.onSelectPayType = function(e, t) {
this.title.string = t.name;
this.selectFlag.y = 352 - 137 * e;
this.sendPayType(t);
};
t.prototype.sendPayType = function(e) {
r.GameEvent.ins().emit("ON_UPDATE_PAYTYPE_DATA", e);
this.hidePayList();
};
t.prototype.hidePayList = function() {
this.listBg.active = !1;
this.selectFlag.active = !1;
};
t.prototype.showPayList = function() {
this.listBg.active = !0;
this.selectFlag.active = !0;
};
return a([ d ], t);
}(cc.Component));
o.default = h;
cc._RF.pop();
}, {
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/GameEvent": "GameEvent",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil"
} ],
SysDefine: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "15865PuVldAe5vCGcRF0FaN", "SysDefine");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.SysDefine = o.UIState = o.ModalOpacity = o.FormType = void 0;
(function(e) {
e[e.Screen = 0] = "Screen";
e[e.FixedUI = 1] = "FixedUI";
e[e.PopUp = 2] = "PopUp";
e[e.TopTips = 3] = "TopTips";
})(o.FormType || (o.FormType = {}));
(function(e) {
e[e.None = 0] = "None";
e[e.OpacityZero = 1] = "OpacityZero";
e[e.OpacityLow = 2] = "OpacityLow";
e[e.OpacityHalf = 3] = "OpacityHalf";
e[e.OpacityHigh = 4] = "OpacityHigh";
e[e.OpacityFull = 5] = "OpacityFull";
})(o.ModalOpacity || (o.ModalOpacity = {}));
(function(e) {
e[e.None = 0] = "None";
e[e.Loading = 1] = "Loading";
e[e.Showing = 2] = "Showing";
e[e.Hiding = 3] = "Hiding";
})(o.UIState || (o.UIState = {}));
var i = function() {
function e() {}
e.SYS_PATH_CANVAS = "Canvas";
e.SYS_PATH_UIFORMS_CONFIG_INFO = "UIFormsConfigInfo";
e.SYS_PATH_CONFIG_INFO = "SysConfigInfo";
e.SYS_UIROOT_NAME = "Canvas/Scene/UIROOT";
e.SYS_UIMODAL_NAME = "Canvas/Scene/UIROOT/UIModalManager";
e.SYS_UIAdapter_NAME = "Canvas/Scene/UIROOT/UIAdapterManager";
e.SYS_SCENE_NODE = "Scene";
e.SYS_UIROOT_NODE = "UIROOT";
e.SYS_SCREEN_NODE = "Screen";
e.SYS_FIXEDUI_NODE = "FixedUI";
e.SYS_POPUP_NODE = "PopUp";
e.SYS_TOPTIPS_NODE = "TopTips";
e.SYS_STANDARD_Prefix = "_";
e.SYS_STANDARD_Separator = "$";
e.SYS_STANDARD_End = "#";
e.UI_PATH_ROOT = "UIForms/";
e.SeparatorMap = {
_Node: "cc.Node",
_Label: "cc.Label",
_Button: "cc.Button",
_Sprite: "cc.Sprite",
_RichText: "cc.RichText",
_Mask: "cc.Mask",
_MotionStreak: "cc.MotionStreak",
_TiledMap: "cc.TiledMap",
_TiledTile: "cc.TiledTile",
_Spine: "sp.Skeleton",
_Graphics: "cc.Graphics",
_Animation: "cc.Animation",
_WebView: "cc.WebView",
_EditBox: "cc.EditBox",
_ScrollView: "cc.ScrollView",
_VideoPlayer: "cc.VideoPlayer",
_ProgressBar: "cc.ProgressBar",
_PageView: "cc.PageView",
_Slider: "cc.Slider",
_Toggle: "cc.Toggle",
_ButtonPlus: "ButtonPlus"
};
return e;
}();
o.SysDefine = i;
cc._RF.pop();
}, {} ],
SystemInterface: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "066b0BTY5ZAYJIHFBSoKnRq", "SystemInterface");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../FireData/CommonData"), s = e("../GameFireData/GameDataInfo"), c = e("../GameCommon/NVSGameUtil"), l = e("../PublicTools/GameEvents"), d = e("../GameCores/GameRecorder"), h = e("../GameFireData/GameAllData"), u = e("../GameCores/ApplePay"), p = e("../Scene/LaunchPage"), f = e("../Conf/GuardConfig"), m = cc._decorator, g = m.ccclass, y = (m.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
o = t;
Object.defineProperty(t, "inst", {
get: function() {
null == this._inst && (this._inst = new o());
return this._inst;
},
enumerable: !1,
configurable: !0
});
t.prototype.getPhpUrl = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(f.AndroidInterfacePath.UrlManager, "getPHPUrl", "()V");
};
t.prototype.setPhpURL = function(e) {
console.log("phpUrl = ", e);
h.default.phpUrl = e;
};
t.prototype.getAwaterUrl = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(f.AndroidInterfacePath.UrlManager, "getAwatarUrl", "()V");
};
t.prototype.setAwatarURL = function(e) {
console.log("awatarUrl = ", e);
h.default.awatarUrl = e;
};
t.prototype.getInitUrl = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(f.AndroidInterfacePath.UrlManager, "getInitUrl", "()V") : h.default.initUrl = p.default.checkUrl);
};
t.prototype.setInitUrl = function(e) {
console.log("initUrl = ", e);
h.default.initUrl = e;
};
t.prototype.getPingUrl = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(f.AndroidInterfacePath.UrlManager, "getPingUrl", "()V") : h.default.pingUrl = p.default.pingUrl);
};
t.prototype.setPingUrl = function(e) {
console.log("pingUrl = ", e);
h.default.pingUrl = e;
};
t.prototype.getGPPayUrl = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(f.AndroidInterfacePath.UrlManager, "getGPPayURL", "()V");
};
t.prototype.setGPPayURL = function(e) {
console.log("gpUrl = ", e);
h.default.GPPayURL = e;
};
t.prototype.getWebviewUrl = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(f.AndroidInterfacePath.UrlManager, "getWebviewUrl", "()V");
};
t.prototype.setWebviewURL = function(e) {
console.log("webviewUrl = ", e);
h.default.webviewUrl = e;
};
t.prototype.getResourceUrl = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(f.AndroidInterfacePath.UrlManager, "getResourceUrl", "()V");
};
t.prototype.setResourceURL = function(e) {
console.log("resourceUrl = ", e);
h.default.resourceUrl = e;
};
t.prototype.getTestProduct = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(f.AndroidInterfacePath.UrlManager, "getTestProduct", "()V");
};
t.prototype.setTestProduct = function(e) {
console.log("setTestProduct", e);
u.default.inst.productID = e;
};
t.prototype.initDevId = function() {
if (!cc.sys.isBrowser) if (cc.sys.os == cc.sys.OS_ANDROID) jsb.reflection.callStaticMethod(f.AndroidInterfacePath.SystemInterface, "getUDID", "()V"); else {
var e = c.default.readData("account") + "";
"" == e && (e = "panda2022");
s.default.devId = e;
}
};
t.prototype.requestAppTracking = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod("AAAA_CommonInterface_BBBB", "AAAA_requestSKAdNetwork_BBBB:", "none");
};
t.prototype.setDevId = function(e) {
console.log("init device Id", e);
s.default.devId = e;
};
t.prototype.getIsMute = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS || (s.default.isMute = 0);
};
t.prototype.setIsMute = function(e) {
console.log("set is mute", e);
s.default.isMute = e;
};
t.prototype.initDeviceInfo = function() {
cc.sys.isBrowser || (cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(f.AndroidInterfacePath.SystemInterface, "getDeviceInfo", "()V") : s.default.devInfo = "webapp");
};
t.prototype.setDeviceInfo = function(e) {
console.log("init device info", e);
s.default.devInfo = e;
};
t.prototype.initAppID = function() {
cc.sys.isBrowser ? s.default.appid = p.default.appid : cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(f.AndroidInterfacePath.SystemInterface, "getAppID", "()V") : s.default.appid = 600;
};
t.prototype.setAppID = function(e) {
console.log("init appID", e);
s.default.appid = e;
};
t.prototype.initAppVersion = function() {
cc.sys.isBrowser ? s.default.ver = p.default.appVer : cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod(f.AndroidInterfacePath.SystemInterface, "getAppVersion", "()V") : s.default.ver = 147;
};
t.prototype.setAppVersion = function(e) {
s.default.appVersion = e;
s.default.ver = parseInt(e.replace(".", "").replace(".", ""));
console.log("init appVersion", s.default.ver, s.default.appVersion);
};
t.prototype.uploadAvatar = function(e) {
console.log("", e);
if (1 == e) {
c.default.clearHeadCache(r.default.UserData.userId);
l.MyEvent.getInstance().emit("UPLOAD_AVATAR_EVENT");
} else if (2 == e) {
console.log("");
l.MyEvent.getInstance().emit("AVATAR_SELECT_FINISH_EVENT");
} else console.log("");
};
t.prototype.takePhoto = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod("HopeApiImagePicker", "HopeApitakePhoto:", "");
};
t.prototype.openAlbum = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod("HopeApiImagePicker", "HopeApiopenAlbum:", "");
};
t.prototype.uploadHeadPhoto = function(e, t, o, i) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod("HopeApiImagePicker", "HopeApiuploadHeadImage:uid:ukey:type:", e, t, o, i);
};
t.prototype.onNativeSaveFile = function(e) {
console.log("onNativeSaveFile", e);
l.MyEvent.getInstance().emit("ON_SAVE_FILE", e);
};
t.prototype.onApplicationDidEnterBackground = function() {};
t.prototype.onApplicationWillEnterForeground = function() {};
t.prototype.getAppleLoginState = function() {
if (!cc.sys.isBrowser && cc.sys.os == cc.sys.OS_IOS) {
var e = c.default.readData(r.default.storageData.appleLoginUser);
console.log("", e, c.default.isnull(e));
c.default.isnull(e) ? jsb.reflection.callStaticMethod("AAAA_AppController_BBBB", "AAAA_checkAuthorizationStateWithUser_BBBB:", e) : s.default.appleLoginState = !1;
}
};
t.prototype.appleLoginStateCallBack = function(e) {
var t = e;
console.log("", e, t, 0 == t, 1 == t);
if (0 == t) s.default.appleLoginState = !1; else {
s.default.appleLoginState = !0;
s.default.appleToken = c.default.readData(r.default.storageData.appleLoginToken);
s.default.applePid = c.default.readData(r.default.storageData.appleLoginUser);
console.log("IOS");
if (null == s.default.appleToken || "" == s.default.appleToken) {
s.default.appleLoginState = !1;
console.log("appleTokennull");
}
if (null == s.default.applePid || "" == s.default.applePid) {
s.default.appleLoginState = !1;
console.log("applePidnulll");
}
}
};
t.prototype.iosLogin = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod("AAAA_AppController_BBBB", "AAAA_iosLogin_BBBB:", "");
};
t.prototype.callBackIosLogin = function(e, t, o) {
s.default.appleToken = t;
s.default.applePid = e;
c.default.saveData(r.default.storageData.appleLoginUser, e);
c.default.saveData(r.default.storageData.appleLoginToken, t);
var i = {};
i.pid = s.default.applePid;
i.token = s.default.appleToken;
i.devId = s.default.devId;
i.ptype = s.PlatformType.apple;
"baiyu" != o && (i.nickName = o);
l.MyEvent.getInstance().emit("ON_APPLE_LOGIN_CALLBACK", i);
};
t.prototype.gotoComment = function() {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod("HopeApiSystemInterface", "HopeApigotoComment:", "");
};
t.prototype.openStore = function(e) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod("HopeApiSystemInterface", "HopeApiopenStore:", e);
};
t.prototype.recordEvent = function(e, t, o) {
d.default.record(e, t, o);
};
t.prototype.onStartInput = function() {};
t.prototype.onEndInput = function() {};
t.prototype.copyStr = function(e) {
cc.sys.isBrowser || cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod("HopeApiSystemInterface", "HopeApicopyStr:", "" + e);
};
t.prototype.copyStrCallBack = function() {
c.default.alert("", cc.color(253, 174, 45));
};
var o;
t._inst = null;
return o = a([ g ], t);
}(cc.Component));
o.default = y;
cc.ZTInterface = y.inst;
cc._RF.pop();
}, {
"../Conf/GuardConfig": "GuardConfig",
"../FireData/CommonData": "CommonData",
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../GameCores/ApplePay": "ApplePay",
"../GameCores/GameRecorder": "GameRecorder",
"../GameFireData/GameAllData": "GameAllData",
"../GameFireData/GameDataInfo": "GameDataInfo",
"../PublicTools/GameEvents": "GameEvents",
"../Scene/LaunchPage": "LaunchPage"
} ],
TableBet: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ca0c9EGKuJPhZ8WfGisCf6L", "TableBet");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Base/BaseView"), s = e("../Components/MyEvent"), c = e("../Conf/BaccatRoomConf"), l = e("../Conf/Const"), d = e("../Conf/ScreenAdapter"), h = e("../Data/GameData"), u = e("../Data/RoomData"), p = e("../UIFrame/SoundMgr"), f = e("../Util/GameUtil"), m = e("../Util/SpritePreLoader"), g = cc._decorator, y = g.ccclass, _ = g.property, C = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.betTipsPrefab = null;
t._allRichTextArr = [ [], [], [], [], [], [], [], [] ];
t._allChipsManagerList = [];
t._chipBetUserList = [ !0, !0, !0, !0, !0, !0 ];
return t;
}
o = t;
t.prototype.onLoad = function() {
this._betShowNode = this.node.getChildByName("betShowNode");
this._chips = this.node.getChildByName("chips");
this._richText = this.node.getChildByName("chipsLabel");
this._enemyPool = new cc.NodePool();
this._rechTextPool = new cc.NodePool();
this._nowGameGoldType = o.chargeChipsConf;
this._moneySortList = [];
for (var e in this._nowGameGoldType) this._moneySortList.push(Number(e));
this._moneySortList = this._moneySortList.sort(function(e, t) {
return t - e;
});
this._allBetRegionArr = [ [ [], [], [], [], [], [], [] ], [ [], [], [], [], [], [], [] ], [], [], [], [], [], [] ];
this._allRichTextArr = [ [], [], [], [], [], [], [], [] ];
this.changeTexture();
};
t.prototype.testpoint = function() {
this.chipBet(0, 1, 1e6, 1e3, 0, 123456);
this.chipBet(1, 1, 1e6, 1e3, 0, 123456);
this.chipBet(2, 1, 1e6, 1e3, 0, 123456);
this.chipBet(3, 1, 1e6, 1e3, 0, 123456);
this.chipBet(4, 1, 1e6, 1e3, 0, 123456);
this.chipBet(5, 1, 1e6, 1e3, 0, 123456);
this.chipBet(0, 2, 1e6, 1e3, 0, 123456);
this.chipBet(1, 2, 1e6, 1e3, 0, 123456);
this.chipBet(0, 3, 1e6, 1e3, 0, 123456);
this.chipBet(1, 3, 1e6, 1e3, 0, 123456);
this.chipBet(0, 4, 1e6, 1e3, 0, 123456);
this.chipBet(1, 4, 1e6, 1e3, 0, 123456);
this.chipBet(0, 5, 1e6, 1e3, 0, 123456);
this.chipBet(1, 5, 1e6, 1e3, 0, 123456);
this.chipBet(0, 6, 1e6, 1e3, 0, 123456);
this.chipBet(1, 6, 1e6, 1e3, 0, 123456);
this.chipBet(0, 7, 1e6, 1e3, 0, 123456);
this.chipBet(1, 7, 1e6, 1e3, 0, 123456);
};
t.prototype.changeTexture = function() {
f.default.setNodeSpriteFrame(this._richText, c.default.getInstance().getBetRichTextUrl());
};
t.prototype.dealCard = function() {
this._allRichTextArr.forEach(function(e) {
e.forEach(function(e) {
f.default.isnull(e) && cc.tween(e).to(.5, {
scale: 1
}).delay(1).to(.5, {
opacity: 0
}).start();
});
});
};
t.prototype.chipBet = function(e, t, o, i, n, a) {
var r, s, d, p, m, g = this;
if (h.default.roomData.playType == l.baccaratRoomType.singapore) {
r = c.default.getInstance().tigerTableChipsPos[e];
s = c.default.getInstance().tigerTableChipLabelPos[e];
} else {
r = c.default.getInstance().tableChipsPos[e];
s = c.default.getInstance().tableChipLabelPos[e];
}
var y, _ = a;
if (e > l.betRegion.banker) {
a != h.default.UserData.userId && (this._chipBetUserList[e - 2] = !1);
d = r[0];
} else d = r[t - 1];
var C = function() {
var i = [], n = g.numberGetChips(o), r = g.getChipsNumCollection(o);
if (!(a == h.default.UserData.userId && u.default.getInstance().myBetRegion[e] <= 0)) {
for (var c = 0; c < n.length; c++) {
var C = n[c];
C.scale = .45;
C.setPosition(d.x + C.width / 2 * .45, d.y + 10 * c + C.height / 2 * .45);
C.parent = g._betShowNode;
i[c] = C;
0 == c && g._addShadow(C, g._nowGameGoldType[r[0]]);
}
if (e <= l.betRegion.banker) {
y = g._allBetRegionArr[e][t - 1];
g.clearBet(y, e, t - 1);
e == l.betRegion.banker ? g.clearBet(g._allBetRegionArr[l.betRegion.player][t - 1], l.betRegion.player, t - 1) : e == l.betRegion.player && g.clearBet(g._allBetRegionArr[l.betRegion.banker][t - 1], l.betRegion.banker, t - 1);
g._allBetRegionArr[e][t - 1] = i;
p = s[t - 1];
if (g._allRichTextArr[e][t - 1]) m = g._allRichTextArr[e][t - 1]; else {
m = g.getChipsLabel(p);
g._allRichTextArr[e][t - 1] = m;
}
_ == h.default.UserData.userId ? g.setChipsLabel(m, p, null, f.default.formatMoneyShorter(u.default.getInstance().myBetRegion[e]), null, i.length) : g.setChipsLabel(m, p, f.default.formatMoneyShorter(o), null, null, i.length);
} else {
p = s[0];
y = g._allBetRegionArr[e];
g.clearBet(y, e);
g._allBetRegionArr[e] = i;
if (g._allRichTextArr[e].length > 0) m = g._allRichTextArr[e][0]; else {
m = g.getChipsLabel(p);
g._allRichTextArr[e][0] = m;
}
g.setChipsLabel(m, p, f.default.formatMoneyShorter(o), f.default.formatMoneyShorter(u.default.getInstance().myBetRegion[e]), null, i.length, e);
}
m && (m.opacity = 255);
}
};
h.default.roomData.roomReconnectIng ? C() : this._flightChips(n, d, i, .4, 1.2, C);
};
t.prototype.resetChips = function(e, t, o, i) {
var n, a, r, s, d, p;
if (h.default.roomData.playType == l.baccaratRoomType.singapore) {
n = c.default.getInstance().tigerTableChipsPos[e];
a = c.default.getInstance().tigerTableChipLabelPos[e];
} else {
n = c.default.getInstance().tableChipsPos[e];
a = c.default.getInstance().tableChipLabelPos[e];
}
r = e <= l.betRegion.banker ? n[t - 1] : n[0];
for (var m = [], g = this.numberGetChips(o), y = this.getChipsNumCollection(o), _ = 0; _ < g.length; _++) {
var C = g[_];
C.scale = .45;
C.setPosition(r.x + C.width / 2 * .45, r.y + 10 * _ + C.height / 2 * .45);
C.parent = this._betShowNode;
m[_] = C;
0 == _ && this._addShadow(C, this._nowGameGoldType[y[0]]);
}
if (e > l.betRegion.banker) {
s = a[0];
p = this._allBetRegionArr[e];
this.clearBet(p, e);
this._allBetRegionArr[e] = m;
if (this._allRichTextArr[e].length > 0) d = this._allRichTextArr[e][0]; else {
d = this.getChipsLabel(s);
this._allRichTextArr[e][0] = d;
}
this.setChipsLabel(d, s, f.default.formatMoneyShorter(o), f.default.formatMoneyShorter(u.default.getInstance().myBetRegion[e]));
0 == o && d && (d.opacity = 0);
} else {
p = this._allBetRegionArr[e][t - 1];
this.clearBet(p, e, t - 1);
this._allBetRegionArr[e][t - 1] = m;
s = a[t - 1];
if (this._allRichTextArr[e][t - 1]) d = this._allRichTextArr[e][t - 1]; else {
d = this.getChipsLabel(s);
this._allRichTextArr[e][t - 1] = d;
}
i == h.default.UserData.userId ? this.setChipsLabel(d, s, null, f.default.formatMoneyShorter(u.default.getInstance().myBetRegion[e])) : this.setChipsLabel(d, s, f.default.formatMoneyShorter(o));
0 == o && d && (d.opacity = 0);
0 == o && d && (d.opacity = 0);
}
};
t.prototype._flightChips = function(e, t, o, i, n, a, r) {
var s = cc.winSize.width / 2, c = cc.winSize.height / 2;
if (r) {
s = 0;
c = 0;
}
var l = this.numberGetChips(o), d = this.getChipsNumCollection(o);
p.default.inst.playBet(l.length);
for (var h = function(o) {
var r = l[o];
r.scale = .45 * n;
r.setPosition(e.x - s, e.y + 10 * o - c);
u.node.addChild(r, 100);
if (f.default.isnull(r)) {
cc.tween(r).delay(.05 * o).to(i, {
x: t.x + r.width / 2 * .45,
y: t.y + r.height / 2 * .45,
scale: .45
}, {
easing: "quadOut"
}).call(function() {
r.removeFromParent();
o == l.length - 1 && a();
}, u).start();
var h = u._addShadow(r, u._nowGameGoldType[d[o]]);
h.y = -80;
cc.tween(h).to(i + .05 * o, {
y: 0
}).start();
}
}, u = this, m = 0; m < l.length; m++) h(m);
};
t.prototype._addShadow = function(e, t) {
var o = new cc.Node();
o.addComponent(cc.Sprite);
o.name = "shadow";
f.default.loadSpriteFrame(o, t);
o.parent = e;
o.zIndex = -1;
o.color = new cc.Color(0, 0, 0, 255);
o.opacity = 40;
o.y = -10;
return o;
};
t.prototype.clearTable = function() {
for (var e = 0; e < this._allBetRegionArr.length; e++) {
var t = this._allBetRegionArr[e];
if (0 == e || 1 == e) for (var o = 0; o < t.length; o++) this.clearBet(t[o]); else this.clearBet(t);
}
for (e = 0; e < this._allRichTextArr.length; e++) {
var i = this._allRichTextArr[e];
for (o = 0; o < i.length; o++) this.recoveryChipsLabel(i[o]);
}
this._allBetRegionArr = [ [ [], [], [], [], [], [], [] ], [ [], [], [], [], [], [], [] ], [], [], [], [], [], [] ];
this._allRichTextArr = [ [], [], [], [], [], [], [], [] ];
this._chipBetUserList = [ !0, !0, !0, !0, !0, !0 ];
this._betShowNode.children.forEach(function(e) {
e.destroy();
});
this._allChipsManagerList.forEach(function(e) {
e.forEach(function(e) {
f.default.isnull(e) && e.destroy();
});
});
this._allChipsManagerList = [];
};
t.prototype.clearBet = function(e) {
for (var t = 0; t < e.length; t++) this.recovery(e[t]);
};
t.prototype.numberGetChips = function(e) {
for (var t = e, o = this.getChipsNumCollection(t), i = [], n = 0; n < o.length; n++) {
var a = o[n], r = this._nowGameGoldType[a];
i.push(this.getChips(r));
}
this._allChipsManagerList[this._allChipsManagerList.length] = i;
return i;
};
t.prototype.getChipsNumCollection = function(e) {
for (var t = [], o = e, i = 0; o > 0; ) {
var n = this._moneySortList[i];
if (n <= o) {
o -= n;
t.push(n);
i = 0;
} else i += 1;
}
return t;
};
t.prototype.getChips = function(e) {
var t;
t = cc.instantiate(this._chips);
f.default.loadSpriteFrame(t.getChildByName("spr"), e);
return t;
};
t.prototype.recovery = function(e) {
e.getChildByName("shadow") && e.removeChild(e.getChildByName("shadow"));
e.removeFromParent();
};
t.prototype.getChipsLabel = function(e) {
var t;
console.log("", this._rechTextPool.size());
(t = cc.instantiate(this.betTipsPrefab)).size = cc.size(86, 102);
t.opacity = 255;
if (f.default.isnull(t)) {
t.scale = 1;
t.opacity = 255;
if (e.x < 300 && e.x > -400) {
t.getChildByName("bg").scaleX = 1;
t.getChildByName("tatisticsShadow").scaleX = 1;
} else {
t.getChildByName("bg").scaleX = -1;
t.getChildByName("tatisticsShadow").scaleX = -1;
}
return t;
}
};
t.prototype.setChipsLabel = function(e, t, o, i, n, a, r) {
var s;
if (f.default.isnull(e)) {
e.opacity = 255;
var c = e.getChildByName("bg"), d = e.getChildByName("label1"), u = e.getChildByName("label2"), p = e.getChildByName("label3");
d.color = new cc.Color(255, 255, 255);
u.color = new cc.Color(255, 255, 255);
p.color = new cc.Color(255, 253, 118);
var g = e.getChildByName("icon");
g.color = new cc.Color(255, 255, 255);
var y = e.getChildByName("tatisticsShadow");
d.active = !1;
u.active = !1;
p.active = !1;
c.color = new cc.Color(90, 179, 223);
c.opacity = 204;
if (i && o) if (r) if (this._chipBetUserList[r - 2]) {
s = f.default.getLabelWidth(i, 48);
d.active = !0;
d.getComponent(cc.Label).string = i;
} else {
s = f.default.getLabelWidth(i, 34);
u.active = !0;
p.active = !0;
u.getComponent(cc.Label).string = i;
p.getComponent(cc.Label).string = o;
} else if (i == o) {
s = f.default.getLabelWidth(i, 48);
d.active = !0;
d.getComponent(cc.Label).string = i;
} else {
s = f.default.getLabelWidth(i, 34);
u.active = !0;
p.active = !0;
u.getComponent(cc.Label).string = i;
p.getComponent(cc.Label).string = o;
} else if (r > l.betRegion.banker && n && o && 0 == i) {
s = f.default.getLabelWidth(o, 24);
u.active = !0;
p.active = !0;
u.getComponent(cc.Label).string = i;
p.getComponent(cc.Label).string = o;
} else if (i) {
s = f.default.getLabelWidth(i, 48);
d.active = !0;
d.getComponent(cc.Label).string = i;
} else if (o) {
s = f.default.getLabelWidth(o, 48);
d.active = !0;
d.getComponent(cc.Label).string = o;
}
s += 70;
y.setContentSize(cc.size(s, 39));
c.setContentSize(cc.size(s, 102));
e.parent = this._betShowNode;
e.zIndex = 99;
var _ = 0;
a && (_ = 5 * a);
e.setPosition(t.x, t.y + _);
g.getComponent(cc.Sprite).spriteFrame = m.SPCache.iconChip;
if (t.x < 300 && t.x > -400) {
g.x = 40 - s;
if (o && i) {
c.color = new cc.Color(0, 81, 140);
c.opacity = 242.25;
u.x = g.x + 25;
p.x = g.x + 25;
d.x = g.x + 25;
} else if (r > l.betRegion.banker && n && o && 0 == i) {
u.x = g.x + 25;
p.x = g.x + 25;
} else if (i) {
c.color = new cc.Color(0, 81, 140);
c.opacity = 242.25;
d.x = g.x + 25;
} else o && (d.x = g.x + 25);
} else {
g.x = 38;
if (o && i) {
c.color = new cc.Color(0, 81, 140);
c.opacity = 242.25;
u.x = g.x + 25;
p.x = g.x + 25;
d.x = g.x + 25;
} else if (r > l.betRegion.banker && n && o && 0 == i) {
u.x = g.x + 25;
p.x = g.x + 25;
} else if (i) {
c.color = new cc.Color(0, 81, 140);
c.opacity = 242.25;
d.x = g.x + 25;
} else o && (d.x = g.x + 25);
}
if (n) {
c.color = new cc.Color(247, 181, 62);
c.opacity = 242.25;
d.color = new cc.Color(105, 70, 0);
u.color = new cc.Color(105, 70, 0);
p.color = new cc.Color(105, 70, 0);
g.color = new cc.Color(105, 70, 0);
}
this.scheduleOnce(function() {
"chipin" != h.default.roomData.gameState && cc.tween(e).to(.5, {
scale: 1
}).delay(1).to(.5, {
opacity: 0
}).start();
}, 0);
}
};
t.prototype.recoveryChipsLabel = function(e) {
if (f.default.isnull(e)) {
e.size = cc.size(101, 45);
e.opacity = 255;
e.scale = 1;
e.removeFromParent();
}
};
t.prototype.start = function() {};
t.prototype.gameOverLose = function(e) {
for (var t = [ !1, !1, !1, !1, !1, !1, !1, !1 ], o = 0; o < e.length; o++) for (var i = f.default.copyData(e[o].playerWinInfo), n = 0; n < i.length; n++) {
var a = i[n];
if (h.default.roomData.playType == l.baccaratRoomType.singapore) {
a.position = c.default.getInstance().tigerProcMapping(a.position - 1);
t[a.position] = !0;
} else t[a.position - 1] = !0;
}
for (o = 0; o < this._allRichTextArr.length; o++) if (!t[o]) {
var r = this._allRichTextArr[o];
for (n = 0; n < r.length; n++) f.default.isnull(r[n]) && this.recoveryChipsLabel(r[n]);
}
for (o = 0; o < this._allBetRegionArr.length; o++) if (!t[o]) if (o < 2) for (var s = this._allBetRegionArr[o], d = 0; d < s.length; d++) for (var u = s[d], p = 0; p < u.length; p++) {
var m = u[p];
f.default.isnull(m) && cc.tween(m).delay(.05 * p).to(.4, {
x: c.default.getInstance().settltMoneyPoint[0].x,
y: c.default.getInstance().settltMoneyPoint[0].y,
opacity: 0
}).start();
} else for (s = this._allBetRegionArr[o], d = 0; d < s.length; d++) {
m = s[d];
if (!f.default.isnull(m)) return;
cc.tween(m).delay(.05 * d).to(.4, {
x: c.default.getInstance().settltMoneyPoint[0].x,
y: c.default.getInstance().settltMoneyPoint[0].y,
opacity: 0
}).start();
}
};
t.prototype.gameOver = function(e, t, o, i, n) {
var a = this, r = t.playerWinInfo, m = t.playerChipInfo, g = t.point;
if (r.length <= 0) this.scheduleOnce(function() {
s.MyEvent.getInstance().emit("HIDE_SEATORSELF_FLOP_EVENT");
}, 2.6); else {
var y = f.default.copyData(c.default.getInstance().SeatPos[e - 1]);
if (d.default.getInstance().screenType == l.screenTypeEnum.isIpad) {
var _ = n.node.parent.convertToWorldSpaceAR(cc.v2(n.node.getPosition().x + 88, n.node.getPosition().y + 88)), C = n.node.parent.parent.convertToWorldSpaceAR(_), b = this.node.parent.getChildByName("tableBetLayer").convertToNodeSpaceAR(C);
(y = b).x = y.x - cc.winSize.width / 2;
y.y = y.y - cc.winSize.height / 2;
} else {
y.x = y.x - cc.winSize.width / 2;
y.y = y.y - cc.winSize.height / 2;
}
var v = new cc.Vec2(c.default.getInstance().settltMoneyPoint[1].x, c.default.getInstance().settltMoneyPoint[1].y), S = 0;
r.forEach(function(e) {
S += e.value;
});
this.scheduleOnce(function() {
for (var t = function(t) {
var o, i = r[t], d = m[t];
if (null == d) return {
value: void 0
};
o = i.position <= l.betRegion.banker ? h.default.roomData.playType == l.baccaratRoomType.singapore ? f.default.copyData(c.default.getInstance().winTigerTableChipsPos[i.position][e - 1]) : f.default.copyData(c.default.getInstance().winTableChipsPos[i.position][e - 1]) : h.default.roomData.playType == l.baccaratRoomType.singapore ? f.default.copyData(c.default.getInstance().winTigerTableChipsPos[i.position][0]) : f.default.copyData(c.default.getInstance().winTableChipsPos[i.position][0]);
i.value != d.value && a._flightChips(v, o, i.value - d.value, .4, 1.2, function() {
var t, n, r, s = [], c = i.position, h = u.default.getInstance().myBetRegion[c];
if (c <= l.betRegion.banker) {
t = a._allBetRegionArr[c][e - 1];
n = u.default.getInstance().allBetRegion[c][e - 1];
} else {
t = a._allBetRegionArr[c];
n = u.default.getInstance().allBetRegion[c];
}
for (var p = a.numberGetChips(i.value - d.value), m = a.getChipsNumCollection(i.value - d.value), g = 0; g < p.length; g++) {
var y = p[g];
if (f.default.isnull(y)) {
y.scale = .45;
y.setPosition(o.x + y.width / 2 * .45, o.y + 10 * g + y.height / 2 * .45);
y.parent = a._betShowNode;
s[g] = y;
0 == g && a._addShadow(y, a._nowGameGoldType[m[0]]);
}
}
t.forEach(function(e) {
s[s.length] = e;
});
if (c <= l.betRegion.banker) {
a._allBetRegionArr[c][e - 1] = s;
n = u.default.getInstance().allBetRegion[i.position][e - 1];
r = a._allRichTextArr[c][e - 1];
f.default.isnull(r) && a.setChipsLabel(r, r.getPosition(), f.default.formatMoneyShorter(i.value), null, !0);
} else {
a._allBetRegionArr[c] = s;
n = u.default.getInstance().allBetRegion[i.position];
r = a._allRichTextArr[c][0];
f.default.isnull(r) && a.setChipsLabel(r, r.getPosition(), f.default.formatMoneyShorter(n), f.default.formatMoneyShorter(h), !0, null, c);
}
});
a.scheduleOnce(function() {
0 == t && s.MyEvent.getInstance().emit("ON_WIN_PAY_START");
for (var r = function(e) {
for (var t = a._allRichTextArr[e], o = function(e) {
f.default.isnull(t[e]) && cc.tween(t[e]).delay(.7).to(.2, {
opacity: 0
}).call(function() {
a.recoveryChipsLabel(t[e]);
}, a).start();
}, i = 0; i < t.length; i++) o(i);
}, c = 0; c < a._allRichTextArr.length; c++) r(c);
var d, h = y, u = i.position, m = i.value, _ = a.numberGetChips(m), C = a.getChipsNumCollection(m);
d = u <= l.betRegion.banker ? a._allBetRegionArr[u][e - 1] : a._allBetRegionArr[u];
var b = !1;
if (d[0] && d[0].ed) {
d = _;
b = !0;
} else d && d.length > 0 && f.default.isnull(d[0]) && d[0].attr({
ed: 1
});
p.default.inst.playBet(d.length);
for (var v = function(e) {
var i = d[e];
if (!f.default.isnull(i)) return {
value: void 0
};
i.scale = .45;
b && i.setPosition(o.x + i.width / 2 * .45, o.y + 10 * e + i.height / 2 * .45);
i.parent = a._betShowNode;
0 == t && a._addShadow(i, a._nowGameGoldType[C[0]]);
f.default.isnull(i) && cc.tween(i).to(.2, {
y: i.getPosition().y + 20,
scale: .45
}).delay(.05 * (d.length - e)).call(function() {
if (f.default.isnull(i)) {
cc.tween(i).to(.4, {
x: h.x,
y: h.y,
scale: .45,
opacity: 0
}, {
easing: "quartOut"
}).call(function() {
if (f.default.isnull(i)) {
i.removeFromParent();
n && e == _.length - 1 && n.winMoneyAnim(S, g);
}
}, a).start();
var t = a._addShadow(i, "room/bet/free/5");
t.y = -80;
cc.tween(t).to(.4, {
y: 0
}).start();
}
}, a).start();
}, I = 0; I < d.length; I++) {
var B = v(I);
if ("object" == typeof B) return B.value;
}
a.scheduleOnce(function() {
s.MyEvent.getInstance().emit("HIDE_SEATORSELF_FLOP_EVENT");
}, .6);
}, 2);
}, o = 0; o < r.length; o++) {
var i = t(o);
if ("object" == typeof i) return i.value;
}
}, 1.5);
}
};
t.prototype.recallPrebet = function(e, t) {
var o = e, i = t.chipType, n = 7;
e && (n = e.seatId);
var a, r, s = f.default.copyData(c.default.getInstance().SeatPos[n - 1]);
a = h.default.roomData.playType == l.baccaratRoomType.singapore ? c.default.getInstance().tigerTableChipsPos[i] : c.default.getInstance().tableChipsPos[i];
r = i <= l.betRegion.banker ? a[n - 1] : a[0];
if (d.default.getInstance().screenType == l.screenTypeEnum.isIpad) if (e.userId == h.default.UserData.userId) {
s.x = 0;
s.y = -312;
} else {
var u = e.node.parent.convertToWorldSpaceAR(cc.v2(e.node.getPosition().x + 44, e.node.getPosition().y + 44)), p = e.node.parent.parent.convertToWorldSpaceAR(u);
(s = this.node.parent.getChildByName("tableBetLayer").convertToNodeSpaceAR(p)).x = s.x - cc.winSize.width / 2;
s.y = s.y - cc.winSize.height / 2;
} else {
s.x = s.x - cc.winSize.width / 2;
s.y = s.y - cc.winSize.height / 2;
}
this._flightChips(r, s, t.chipValue, .4, 1.2, function() {
o.changeMoney(t.chipValue);
}, !0);
};
t.prototype.onDestroy = function() {
e.prototype.onDestroy.call(this);
this._enemyPool.clear();
};
t.prototype.setChipsLabelWidth = function(e, t) {
var o = 101;
if (f.default.isnull(e)) {
e.getChildByName("richText").anchorX = .5;
if (t > 101) {
o = t;
e.getChildByName("richText").anchorX = 0;
e.getChildByName("richText").x = 11;
}
e.width = o;
}
};
t.prototype.stopAllNodeActions = function() {
cc.audioEngine.stopAllEffects();
f.default.stopAll(this.node, o);
this.node.children.forEach(function(e) {
e.stopAllActions();
});
this._betShowNode.children.forEach(function(e) {
e.stopAllActions();
e.destroy();
});
this._allChipsManagerList.forEach(function(e) {
e.forEach(function(e) {
f.default.isnull(e) && e.destroy();
});
});
this._allChipsManagerList = [];
this._enemyPool.clear();
console.log("22222", this._rechTextPool.size());
};
var o;
t.freeRouth = "room/bet/free/";
t.chargeRouch = "room/bet/charge/";
t.freeChipsConf = {
1e7: o.freeRouth + "10m",
5e6: o.freeRouth + "5m",
1e6: o.freeRouth + "1m",
5e5: o.freeRouth + "500k",
1e5: o.freeRouth + "100k",
5e4: o.freeRouth + "50k",
1e4: o.freeRouth + "10k",
5e3: o.freeRouth + "5k",
1e3: o.freeRouth + "1k",
500: o.freeRouth + "500",
100: o.freeRouth + "100",
50: o.freeRouth + "50",
20: o.freeRouth + "20",
5: o.freeRouth + "5"
};
t.chargeChipsConf = {
1e7: o.chargeRouch + "10m",
5e6: o.chargeRouch + "5m",
1e6: o.chargeRouch + "1m",
5e5: o.chargeRouch + "500k",
1e5: o.chargeRouch + "100k",
5e4: o.chargeRouch + "50k",
1e4: o.chargeRouch + "10k",
5e3: o.chargeRouch + "5k",
1e3: o.chargeRouch + "1k",
500: o.chargeRouch + "500",
100: o.chargeRouch + "100",
50: o.chargeRouch + "50",
20: o.chargeRouch + "20",
10: o.chargeRouch + "10",
5: o.chargeRouch + "5",
1: o.chargeRouch + "1",
.5: o.chargeRouch + "0.5"
};
a([ _(cc.Prefab) ], t.prototype, "betTipsPrefab", void 0);
return o = a([ y ], t);
}(r.default);
o.default = C;
cc._RF.pop();
}, {
"../Base/BaseView": "BaseView",
"../Components/MyEvent": "MyEvent",
"../Conf/BaccatRoomConf": "BaccatRoomConf",
"../Conf/Const": "Const",
"../Conf/ScreenAdapter": "ScreenAdapter",
"../Data/GameData": "GameData",
"../Data/RoomData": "RoomData",
"../UIFrame/SoundMgr": "SoundMgr",
"../Util/GameUtil": "GameUtil",
"../Util/SpritePreLoader": "SpritePreLoader"
} ],
TableBtnScript: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1974a1nLRxO6Zn806xBcBIc", "TableBtnScript");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../Base/BaseView"), l = e("../Components/MyEvent"), d = e("../Components/SignalView"), h = e("../Conf/Const"), u = e("../Conf/ScreenAdapter"), p = e("../Data/GameData"), f = e("../Data/LanguageData"), m = e("../Data/RedNotificaData"), g = e("../Manager/DialogManager"), y = e("../Manager/EventRecorder"), _ = e("../Socket/WebSocketManager"), C = e("../UIFrame/SoundMgr"), b = e("../Util/GameUtil"), v = e("../Util/ResMgr"), S = e("./BJLCardSHA512"), I = e("./chat/EjimoList"), B = e("./chat/RecordChat"), w = e("./MenuView"), N = cc._decorator, L = N.ccclass, T = N.property, D = function(e) {
n(t, e);
function t() {
var t = e.call(this) || this;
t._quickItemPrefab = null;
t._colorInfo = {
nameColor1: "<color=#31C3FF>",
nameColor2: "<color=#FDAE2D>",
msgColor: "<color=#F0F1F2>"
};
t._numberLayers = {
mune: 30,
chatLayer: 25,
cardLayer: 20
};
t.sha512Btn = null;
t.cardRecorder = null;
return t;
}
t.prototype.onLoad = function() {
this._signalPrompt = this.node.getChildByName("tipsBg");
this._ejimoBtn = this.node.getChildByName("ejimoBtn");
this._recordMsgList = [];
this._recordMsgList = b.default.copyData(p.default.roomData.chatList);
this._phoneNode = this.node.getChildByName("phoneNode");
u.default.getInstance().screenType == u.screenTypeEnum.isIpad && (this._numberLayers.mune = 101);
};
t.prototype.start = function() {
this.node.getChildByName("muneBtn").on("click", this.showMeun, this);
this._activityBtn = this.node.getChildByName("activityBtn");
this._activityBtn.on("click", this.showActivity, this);
this._rechargeBtn = this.node.getChildByName("rechargeBtn");
this._rechargeBtn.on("click", this.onRecharge, this);
this.sha512Btn = this.node.getChildByName("btnSha512");
this.sha512Btn.on("click", this.onSha512, this);
this.cardRecorder = this.node.getChildByName("btnCardRecorder");
this.cardRecorder.on("click", this.onCardRecorder, this);
this.sha512Btn.active = !1;
this.cardRecorder.x = this.sha512Btn.x;
this._ejimoBtn.on("click", this._onejimo, this);
this.updateInviteListBtn();
this.updateActivityStatus();
};
t.prototype._quickMsgList = function() {
return [ f.default.ins.STRING_ROOM("quickChat1"), f.default.ins.STRING_ROOM("quickChat2"), f.default.ins.STRING_ROOM("quickChat3"), f.default.ins.STRING_ROOM("quickChat4"), f.default.ins.STRING_ROOM("quickChat5"), f.default.ins.STRING_ROOM("quickChat6"), f.default.ins.STRING_ROOM("quickChat7"), f.default.ins.STRING_ROOM("quickChat8"), f.default.ins.STRING_ROOM("quickChat9"), f.default.ins.STRING_ROOM("quickChat10"), f.default.ins.STRING_ROOM("quickChat11"), f.default.ins.STRING_ROOM("quickChat12"), f.default.ins.STRING_ROOM("quickChat13"), f.default.ins.STRING_ROOM("quickChat14"), f.default.ins.STRING_ROOM("quickChat15") ];
};
t.prototype.onSha512 = function() {
C.default.inst.playEffect("btnSound");
y.default.record(y.EventID.roomBJSha512, h.gameType.baccarat);
l.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
var e = {};
e.tab = S.BJLCardSHA512_TAB.cardSha512List;
l.MyEvent.getInstance().emit("EVENT_SHOW_CARD_SHA512", e);
};
t.prototype.onCardRecorder = function() {
C.default.inst.playEffect("btnSound");
y.default.record(y.EventID.roomBJCardRecorder, h.gameType.baccarat);
l.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
l.MyEvent.getInstance().emit("EVENT_SHOW_CARD_RECORDER");
};
t.prototype.showMeun = function(e) {
return r(this, void 0, void 0, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
C.default.inst.playEffect("btnSound");
l.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
y.default.record(y.EventID.roomMenuClick, h.gameType.baccarat);
if (this.rightMeun) return [ 3, 2 ];
t = this;
return [ 4, v.default.getInstance().loadUI("prefab/munePrefab") ];

case 1:
t.rightMeun = o.sent();
this.node.parent.addChild(this.rightMeun, this._numberLayers.mune);
this.rightMeun.getComponent(w.default).addCall(function() {
e.node.active = !0;
});
this.rightMeun.x = cc.winSize.width / 2;
this.rightMeun.active = !1;
o.label = 2;

case 2:
if (0 == this.rightMeun.active) {
e.node.active = !1;
this.rightMeun.getComponent(w.default).showView();
} else {
e.node.active = !0;
this.rightMeun.getComponent(w.default).hideView();
}
return [ 2 ];
}
});
});
};
t.prototype.showActivity = function() {
y.default.record(y.EventID.roomTaskClick);
y.default.record(y.EventID.roomTaskClick, h.gameType.baccarat);
g.default.inst.showFullView(g.FullViewIndex.gameActivity);
};
t.prototype.onScreenshot = function() {
l.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
C.default.inst.playEffect("btnSound");
y.default.record(y.EventID.roomScreenShotClick, h.gameType.baccarat);
0 == p.default.UserData.screenshotShar ? g.default.inst.showTips(f.default.ins.STRING_ROOM("screenshotTips")) : l.MyEvent.getInstance().emit("SHOW_SCREENSHOT_SHARE");
};
t.prototype.onRecharge = function() {
C.default.inst.playEffect("btnSound");
l.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
y.default.record(y.EventID.roomShopClick, h.gameType.baccarat);
g.default.inst.showFullView(g.FullViewIndex.gameCharge);
};
t.prototype.onShowInviteList = function() {
l.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
g.default.inst.showDialog(g.DialogIndex.gameInviteList);
};
t.prototype.updateInviteListBtn = function() {};
t.prototype.tableIsEnlarge = function() {};
t.prototype.addChatMsg = function() {
return r(this, void 0, void 0, function() {
return s(this, function() {
return [ 2 ];
});
});
};
t.prototype._onejimo = function() {
return r(this, void 0, void 0, function() {
var e, t = this;
return s(this, function(o) {
switch (o.label) {
case 0:
C.default.inst.playEffect("btnSound");
l.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
if (this._ejimoDialog) return [ 3, 2 ];
e = this;
return [ 4, v.default.getInstance().loadUI("prefab/room/ejimoDialog") ];

case 1:
e._ejimoDialog = o.sent();
this._ejimoDialog.getComponent(I.default).setCloseHandle(function() {
b.default.loadSpriteFrame(t._ejimoBtn.getChildByName("icon"), "ejimoIcon", "room/table/table");
t._ejimoDialog.active = !1;
C.default.inst.playEffect("btnSound");
});
this._ejimoDialog.setPosition(0, 0);
this.node.parent.addChild(this._ejimoDialog, this._numberLayers.chatLayer);
if (u.default.getInstance().screenType == u.screenTypeEnum.isIpad) {
this._ejimoDialog.width = 4096;
this._ejimoDialog.setPosition(-145.5, -228);
}
this._ejimoDialog.on(cc.Node.EventType.TOUCH_END, function() {
b.default.loadSpriteFrame(t._ejimoBtn.getChildByName("icon"), "ejimoIcon", "room/table/table");
t._ejimoDialog.active = !1;
C.default.inst.playEffect("closeSound");
});
return [ 3, 3 ];

case 2:
this._ejimoDialog.active = !0;
o.label = 3;

case 3:
b.default.loadSpriteFrame(this._ejimoBtn.getChildByName("icon"), "closeIcon", "room/table/table");
return [ 2 ];
}
});
});
};
t.prototype.updateRecord = function() {
return r(this, void 0, void 0, function() {
return s(this, function() {
b.default.isnull(this._chatDialog) && (this._chatDialog.getComponent(B.default).recordInfo = this._recordMsgList);
return [ 2 ];
});
});
};
t.prototype.onQuick = function() {
l.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
console.log("");
this._chatChoice = 1;
};
t.prototype.onRecord = function() {
l.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
console.log("");
this._chatChoice = 2;
};
t.prototype.onInput = function() {
l.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
console.log("");
this._editBox.getComponent(cc.EditBox).focus();
};
t.prototype._sendMsg = function(e) {
console.log(e, "");
_.default.getInstance().socketSend.sendBroadcast(h.broadcastType.chat, e);
};
t.prototype.setPhoneInfo = function() {
this._phoneNode.getComponent(d.default).updateSignal();
};
t.prototype.setLabelString = function() {
return r(this, void 0, void 0, function() {
return s(this, function() {
b.default.isnull(this._ejimoDialog) && this._ejimoDialog.getComponent(I.default).setLabelString();
if (b.default.isnull(this._quickBtn)) {
this._quickBtn.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string = f.default.ins.STRING_ROOM("quick");
this._recordBtn.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string = f.default.ins.STRING_ROOM("record");
this._inputBtn.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string = f.default.ins.STRING_ROOM("type");
}
return [ 2 ];
});
});
};
t.prototype.updateActivityStatus = function() {
var e = m.default.ins.getHallActiveRedData();
this._activityBtn.getChildByName("redTips").active = e > 0;
};
a([ T(cc.Prefab) ], t.prototype, "_quickItemPrefab", void 0);
return a([ L ], t);
}(c.default);
o.default = D;
cc._RF.pop();
}, {
"../Base/BaseView": "BaseView",
"../Components/MyEvent": "MyEvent",
"../Components/SignalView": "SignalView",
"../Conf/Const": "Const",
"../Conf/ScreenAdapter": "ScreenAdapter",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../Data/RedNotificaData": "RedNotificaData",
"../Manager/DialogManager": "DialogManager",
"../Manager/EventRecorder": "EventRecorder",
"../Socket/WebSocketManager": "WebSocketManager",
"../UIFrame/SoundMgr": "SoundMgr",
"../Util/GameUtil": "GameUtil",
"../Util/ResMgr": "ResMgr",
"./BJLCardSHA512": "BJLCardSHA512",
"./MenuView": "MenuView",
"./chat/EjimoList": "EjimoList",
"./chat/RecordChat": "RecordChat"
} ],
TableLayer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "295b4zIOO1M9ZWaYIUMvM3e", "TableLayer");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Components/MyEvent"), s = e("../Conf/BaccatRoomConf"), c = e("../Conf/Const"), l = e("../Data/GameData"), d = e("../Data/LanguageData"), h = e("../Data/RoomData"), u = e("../UIFrame/SoundMgr"), p = e("../Util/GameUtil"), f = cc._decorator, m = f.ccclass, g = (f.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.tableStatusStartBet = [];
t.tableStatusBet = [];
t.tableStatusWin = [];
t.tableStatusColors = {};
return t;
}
t.prototype.onLoad = function() {
this._tabelLabel = this.node.getChildByName("tabelLabel").getComponent(cc.Label);
this.changeTexture();
};
t.prototype.changeTexture = function() {
p.default.loadSpriteFrame(this.node.getChildByName("freeChipBoxLevel"), s.default.getInstance().getChipBox());
p.default.loadSpriteFrame(this.node.getChildByName("tablecloth"), s.default.getInstance().getTabelTextureUrl());
p.default.loadSpriteFrame(this.node.getChildByName("tablecloth").getChildByName("tableclone"), s.default.getInstance().getTabelTextureUrl());
s.default.getInstance().getTableDeskUrl(this.node.getChildByName("normalTabel").getChildByName("desktopWord"));
s.default.getInstance().getTableBetLineUrl(this.node.getChildByName("normalTabel").getChildByName("tableBetLine"));
p.default.loadSpriteFrame(this.node.getChildByName("tableDealer"), s.default.getInstance().getDealerUrl());
p.default.loadSpriteFrame(this.node.getChildByName("tableDealer").getChildByName("card"), s.default.getInstance().getCardColor());
p.default.loadSpriteFrame(this.node.getChildByName("retrieveCard").getChildByName("card"), s.default.getInstance().getCardColor());
};
t.prototype.start = function() {
if (l.default.roomData.playType == c.baccaratRoomType.singapore) {
this.tableStatusColors.start_bet = new cc.Color(68, 214, 99);
this.tableStatusColors.bet = new cc.Color(45, 216, 81);
this.tableStatusColors.win = new cc.Color(255, 224, 50);
} else {
this.tableStatusColors.start_bet = new cc.Color(65, 199, 255);
this.tableStatusColors.bet = new cc.Color(41, 227, 255);
this.tableStatusColors.win = new cc.Color(254, 216, 0);
}
if (l.default.roomData.playType == c.baccaratRoomType.singapore) {
(t = p.default.seekChild(this.node, "tigerClickNode")).on(cc.Node.EventType.TOUCH_START, this.onTigerRegion, this);
t.on(cc.Node.EventType.TOUCH_END, this.onTigerRegion, this);
t.on(cc.Node.EventType.TOUCH_CANCEL, this.onTigerRegion, this);
var e = this.node.getChildByName("tigerTabel");
this._tipsRegionList = [ e.getChildByName("tigerPlayer"), e.getChildByName("tigerBanker"), e.getChildByName("tigerPice"), e.getChildByName("draw"), e.getChildByName("tigerPair"), e.getChildByName("tigerSmall"), e.getChildByName("tiger"), e.getChildByName("tigerBig") ];
this.node.getChildByName("player").active = !1;
this.node.getChildByName("banker").active = !1;
this.node.getChildByName("playerPair").active = !1;
this.node.getChildByName("pice").active = !1;
this.node.getChildByName("luckySix").active = !1;
this.node.getChildByName("bankerPair").active = !1;
this.tableStatusStartBet = [ "room/table_status/tiger/tiger_player_start_bet", "room/table_status/tiger/tiger_banker_start_bet", "room/table_status/tiger/tiger_tiger_draw_start_bet", "room/table_status/tiger/tiger_draw_start_bet", "room/table_status/tiger/tiger_tiger_pair_start_bet", "room/table_status/tiger/tiger_small_tiger_start_bet", "room/table_status/tiger/tiger_tiger_six_start_bet", "room/table_status/tiger/tiger_big_tiger_start_bet" ];
this.tableStatusBet = [ "room/table_status/tiger/tiger_player_bet", "room/table_status/tiger/tiger_banker_bet", "room/table_status/tiger/tiger_tiger_draw_bet", "room/table_status/tiger/tiger_draw_bet", "room/table_status/tiger/tiger_tiger_pair_bet", "room/table_status/tiger/tiger_small_tiger_bet", "room/table_status/tiger/tiger_tiger_six_start_bet", "room/table_status/tiger/tiger_big_tiger_bet" ];
this.tableStatusWin = [ "room/table_status/tiger/tiger_player_win", "room/table_status/tiger/tiger_banker_win", "room/table_status/tiger/tiger_tiger_draw_win", "room/table_status/tiger/tiger_draw_win", "room/table_status/tiger/tiger_tiger_pair_win", "room/table_status/tiger/tiger_small_tiger_win", "room/table_status/tiger/tiger_tiger_six_start_win", "room/table_status/tiger/tiger_big_tiger_win" ];
} else {
var t;
(t = p.default.seekChild(this.node, "clickNode")).on(cc.Node.EventType.TOUCH_START, this.onRegion, this);
t.on(cc.Node.EventType.TOUCH_END, this.onRegion, this);
t.on(cc.Node.EventType.TOUCH_CANCEL, this.onRegion, this);
this._tipsRegionList = [ this.node.getChildByName("player"), this.node.getChildByName("banker"), this.node.getChildByName("playerPair"), this.node.getChildByName("pice"), this.node.getChildByName("luckySix"), this.node.getChildByName("bankerPair") ];
(e = this.node.getChildByName("tigerTabel")).getChildByName("tigerPlayer").active = !1;
e.getChildByName("tigerBanker").active = !1;
e.getChildByName("tigerPice").active = !1;
e.getChildByName("draw").active = !1;
e.getChildByName("tigerPair").active = !1;
e.getChildByName("tigerSmall").active = !1;
e.getChildByName("tiger").active = !1;
e.getChildByName("tigerBig").active = !1;
this.tableStatusStartBet = [ "room/table_status/classic/classic_player_start_bet", "room/table_status/classic/classic_banker_start_bet", "room/table_status/classic/classic_player_pair_start_bet", "room/table_status/classic/classic_draw_start_bet", "room/table_status/classic/classic_tiger_start_bet", "room/table_status/classic/classic_banker_pair_start_bet" ];
this.tableStatusBet = [ "room/table_status/classic/classic_player_bet", "room/table_status/classic/classic_banker_bet", "room/table_status/classic/classic_player_pair_bet", "room/table_status/classic/classic_draw_bet", "room/table_status/classic/classic_tiger_bet", "room/table_status/classic/classic_banker_pair_bet" ];
this.tableStatusWin = [ "room/table_status/classic/classic_player_win", "room/table_status/classic/classic_banker_win", "room/table_status/classic/classic_player_pair_win", "room/table_status/classic/classic_draw_win", "room/table_status/classic/classic_tiger_win", "room/table_status/classic/classic_banker_pair_win" ];
}
this.hideTableStatus();
this.setLabelString();
};
t.prototype.hideTableStatus = function() {
for (var e = 0; e < this._tipsRegionList.length; e++) {
var t = this._tipsRegionList[e];
t.stopAllActions();
t.opacity = 0;
}
};
t.prototype.showTableStatusStartBet = function() {
if (0 != this._tipsRegionList.length) {
this.hideTableStatus();
if (l.default.roomData.playType == c.baccaratRoomType.singapore) {
p.default.loadSpriteFrame(this._tipsRegionList[0], "room/table_status/tiger/tiger_player_start_bet");
p.default.loadSpriteFrame(this._tipsRegionList[1], "room/table_status/tiger/tiger_banker_start_bet");
p.default.loadSpriteFrame(this._tipsRegionList[2], "room/table_status/tiger/tiger_tiger_draw_start_bet");
p.default.loadSpriteFrame(this._tipsRegionList[3], "room/table_status/tiger/tiger_draw_start_bet");
p.default.loadSpriteFrame(this._tipsRegionList[4], "room/table_status/tiger/tiger_tiger_pair_start_bet");
p.default.loadSpriteFrame(this._tipsRegionList[5], "room/table_status/tiger/tiger_small_tiger_start_bet");
p.default.loadSpriteFrame(this._tipsRegionList[6], "room/table_status/tiger/tiger_tiger_six_start_bet");
p.default.loadSpriteFrame(this._tipsRegionList[7], "room/table_status/tiger/tiger_big_tiger_start_bet");
} else {
p.default.loadSpriteFrame(this._tipsRegionList[0], "room/table_status/classic/classic_player_start_bet");
p.default.loadSpriteFrame(this._tipsRegionList[1], "room/table_status/classic/classic_banker_start_bet");
p.default.loadSpriteFrame(this._tipsRegionList[2], "room/table_status/classic/classic_player_pair_start_bet");
p.default.loadSpriteFrame(this._tipsRegionList[3], "room/table_status/classic/classic_draw_start_bet");
p.default.loadSpriteFrame(this._tipsRegionList[4], "room/table_status/classic/classic_tiger_start_bet");
p.default.loadSpriteFrame(this._tipsRegionList[5], "room/table_status/classic/classic_banker_pair_start_bet");
}
for (var e = 0; e < this._tipsRegionList.length; e++) {
var t = this._tipsRegionList[e];
t.opacity = 255;
t.color = this.tableStatusColors.start_bet;
var o = cc.fadeTo(.5, 255), i = cc.fadeTo(.5, 0), n = cc.sequence(o, i), a = cc.repeatForever(n);
t.runAction(a);
}
}
};
t.prototype.confirmTableStatusBet = function() {
if (0 != this._tipsRegionList.length) {
this.hideTableStatus();
var e = h.default.getInstance().myBetRegion;
if (l.default.roomData.playType == c.baccaratRoomType.singapore) {
if (e[0] > 0) {
this._tipsRegionList[0].stopAllActions();
this._tipsRegionList[0].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[0], this.tableStatusBet[0]);
this._tipsRegionList[0].color = this.tableStatusColors.bet;
this._tipsRegionList[1].stopAllActions();
this._tipsRegionList[1].opacity = 0;
} else if (e[1] > 0) {
this._tipsRegionList[1].stopAllActions();
this._tipsRegionList[1].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[1], this.tableStatusBet[1]);
this._tipsRegionList[1].color = this.tableStatusColors.bet;
this._tipsRegionList[0].stopAllActions();
this._tipsRegionList[0].opacity = 0;
}
if (e[3] > 0) {
this._tipsRegionList[3].stopAllActions();
this._tipsRegionList[3].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[3], this.tableStatusBet[3]);
this._tipsRegionList[3].color = this.tableStatusColors.bet;
}
if (e[2] > 0) {
this._tipsRegionList[2].stopAllActions();
this._tipsRegionList[2].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[2], this.tableStatusBet[2]);
this._tipsRegionList[2].color = this.tableStatusColors.bet;
}
if (e[5] > 0) {
this._tipsRegionList[5].stopAllActions();
this._tipsRegionList[5].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[5], this.tableStatusBet[5]);
this._tipsRegionList[5].color = this.tableStatusColors.bet;
}
if (e[4] > 0) {
this._tipsRegionList[4].stopAllActions();
this._tipsRegionList[4].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[4], this.tableStatusBet[4]);
this._tipsRegionList[4].color = this.tableStatusColors.bet;
}
if (e[6] > 0) {
this._tipsRegionList[6].stopAllActions();
this._tipsRegionList[6].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[6], this.tableStatusBet[6]);
this._tipsRegionList[6].color = this.tableStatusColors.bet;
}
if (e[7] > 0) {
this._tipsRegionList[7].stopAllActions();
this._tipsRegionList[7].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[7], this.tableStatusBet[7]);
this._tipsRegionList[7].color = this.tableStatusColors.bet;
}
} else {
if (e[0] > 0) {
this._tipsRegionList[0].stopAllActions();
this._tipsRegionList[0].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[0], this.tableStatusBet[0]);
this._tipsRegionList[0].color = this.tableStatusColors.bet;
this._tipsRegionList[1].stopAllActions();
this._tipsRegionList[1].opacity = 0;
} else if (e[1] > 0) {
this._tipsRegionList[1].stopAllActions();
this._tipsRegionList[1].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[1], this.tableStatusBet[1]);
this._tipsRegionList[1].color = this.tableStatusColors.bet;
this._tipsRegionList[0].stopAllActions();
this._tipsRegionList[0].opacity = 0;
}
if (e[3] > 0) {
this._tipsRegionList[3].stopAllActions();
this._tipsRegionList[3].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[3], this.tableStatusBet[3]);
this._tipsRegionList[3].color = this.tableStatusColors.bet;
}
if (e[2] > 0) {
this._tipsRegionList[2].stopAllActions();
this._tipsRegionList[2].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[2], this.tableStatusBet[2]);
this._tipsRegionList[2].color = this.tableStatusColors.bet;
}
if (e[5] > 0) {
this._tipsRegionList[5].stopAllActions();
this._tipsRegionList[5].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[5], this.tableStatusBet[5]);
this._tipsRegionList[5].color = this.tableStatusColors.bet;
}
if (e[4] > 0) {
this._tipsRegionList[4].stopAllActions();
this._tipsRegionList[4].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[4], this.tableStatusBet[4]);
this._tipsRegionList[4].color = this.tableStatusColors.bet;
}
}
}
};
t.prototype.updateTableStatusBet = function() {
if (0 != this._tipsRegionList.length) {
var e = h.default.getInstance().myBetRegion;
if (l.default.roomData.playType == c.baccaratRoomType.singapore) {
if (e[0] > 0) {
this._tipsRegionList[0].stopAllActions();
this._tipsRegionList[0].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[0], this.tableStatusBet[0]);
this._tipsRegionList[0].color = this.tableStatusColors.bet;
this._tipsRegionList[1].stopAllActions();
this._tipsRegionList[1].opacity = 0;
} else if (e[1] > 0) {
this._tipsRegionList[1].stopAllActions();
this._tipsRegionList[1].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[1], this.tableStatusBet[1]);
this._tipsRegionList[1].color = this.tableStatusColors.bet;
this._tipsRegionList[0].stopAllActions();
this._tipsRegionList[0].opacity = 0;
}
if (this.getOtherTotalBet() > 0) {
this.hideOtherAction();
if (e[3] > 0) {
this._tipsRegionList[3].stopAllActions();
this._tipsRegionList[3].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[3], this.tableStatusBet[3]);
this._tipsRegionList[3].color = this.tableStatusColors.bet;
}
if (e[2] > 0) {
this._tipsRegionList[2].stopAllActions();
this._tipsRegionList[2].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[2], this.tableStatusBet[2]);
this._tipsRegionList[2].color = this.tableStatusColors.bet;
}
if (e[5] > 0) {
this._tipsRegionList[5].stopAllActions();
this._tipsRegionList[5].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[5], this.tableStatusBet[5]);
this._tipsRegionList[5].color = this.tableStatusColors.bet;
}
if (e[4] > 0) {
this._tipsRegionList[4].stopAllActions();
this._tipsRegionList[4].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[4], this.tableStatusBet[4]);
this._tipsRegionList[4].color = this.tableStatusColors.bet;
}
if (e[6] > 0) {
this._tipsRegionList[6].stopAllActions();
this._tipsRegionList[6].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[6], this.tableStatusBet[6]);
this._tipsRegionList[6].color = this.tableStatusColors.bet;
}
if (e[7] > 0) {
this._tipsRegionList[7].stopAllActions();
this._tipsRegionList[7].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[7], this.tableStatusBet[7]);
this._tipsRegionList[7].color = this.tableStatusColors.bet;
}
}
} else {
if (e[0] > 0) {
this._tipsRegionList[0].stopAllActions();
this._tipsRegionList[0].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[0], this.tableStatusBet[0]);
this._tipsRegionList[0].color = this.tableStatusColors.bet;
this._tipsRegionList[1].stopAllActions();
this._tipsRegionList[1].opacity = 0;
} else if (e[1] > 0) {
this._tipsRegionList[1].stopAllActions();
this._tipsRegionList[1].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[1], this.tableStatusBet[1]);
this._tipsRegionList[1].color = this.tableStatusColors.bet;
this._tipsRegionList[0].stopAllActions();
this._tipsRegionList[0].opacity = 0;
}
if (this.getOtherTotalBet() > 0) {
this.hideOtherAction();
if (e[3] > 0) {
this._tipsRegionList[3].stopAllActions();
this._tipsRegionList[3].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[3], this.tableStatusBet[3]);
this._tipsRegionList[3].color = this.tableStatusColors.bet;
}
if (e[2] > 0) {
this._tipsRegionList[2].stopAllActions();
this._tipsRegionList[2].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[2], this.tableStatusBet[2]);
this._tipsRegionList[2].color = this.tableStatusColors.bet;
}
if (e[5] > 0) {
this._tipsRegionList[5].stopAllActions();
this._tipsRegionList[5].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[5], this.tableStatusBet[5]);
this._tipsRegionList[5].color = this.tableStatusColors.bet;
}
if (e[4] > 0) {
this._tipsRegionList[4].stopAllActions();
this._tipsRegionList[4].opacity = 255;
p.default.loadSpriteFrame(this._tipsRegionList[4], this.tableStatusBet[4]);
this._tipsRegionList[4].color = this.tableStatusColors.bet;
}
}
}
}
};
t.prototype.hideOtherAction = function() {
for (var e = 2; e < this._tipsRegionList.length; e++) {
this._tipsRegionList[e].stopAllActions();
this._tipsRegionList[e].opacity = 0;
}
};
t.prototype.getOtherTotalBet = function() {
var e = h.default.getInstance().myBetRegion, t = 0;
if (l.default.roomData.playType == c.baccaratRoomType.singapore) for (var o = 2; o < e.length; o++) t += e[o]; else for (o = 2; o < 5; o++) t += e[o];
return t;
};
t.prototype.gameStartAni = function() {
this.showTableStatusStartBet();
};
t.prototype.onRegion = function(e) {
if (l.default.roomData.ifBetQualification) {
for (var t = e.target, o = t.convertToNodeSpaceAR(e.getLocation()), i = t.getComponents(cc.PolygonCollider), n = -1, a = 0; a < i.length; a++) {
var s = i[a];
cc.Intersection.pointInPolygon(o, s.points) && (n = s.tag);
}
var c = e.type;
"touchstart" == c && n >= 0 && r.MyEvent.getInstance().emit("ROOM_CLICK_BET_REGION_EVENT", n);
this.betTipsAnimation(this._tipsRegionList[n], c, n);
} else l.default.UserData.seatId <= 0 && p.default.alert(d.default.ins.STRING_ROOM("betTips"));
};
t.prototype.regionReset = function() {};
t.prototype.onTigerRegion = function(e) {
if (l.default.roomData.ifBetQualification) {
for (var t = e.target, o = t.convertToNodeSpaceAR(e.getLocation()), i = t.getComponents(cc.PolygonCollider), n = -1, a = 0; a < i.length; a++) {
var c = i[a];
cc.Intersection.pointInPolygon(o, c.points) && (n = c.tag);
}
var d = e.type, h = s.default.getInstance().tigerSendMapping(n);
console.log("", e.type, n);
"touchstart" == d && n >= 0 && r.MyEvent.getInstance().emit("ROOM_CLICK_BET_REGION_EVENT", h);
this.betTipsAnimation(this._tipsRegionList[n], d, n);
}
};
t.prototype.betTipsAnimation = function(e, t, o) {
this.regionReset();
if (p.default.isnull(e) && "chipin" == l.default.roomData.gameState) if ("touchstart" == t) {
if (0 == l.default.roomData.betBankerOrPlayerEd) {
if (1 == o) {
p.default.alert(d.default.ins.STRING_ROOM("betTIps2"));
u.default.inst.playEffect("betTipsSound");
e.opacity = 51;
e.color = new cc.Color(255, 0, 0);
return;
}
} else if (1 == l.default.roomData.betBankerOrPlayerEd && 0 == o) {
p.default.alert(d.default.ins.STRING_ROOM("betTIps3"));
u.default.inst.playEffect("betTipsSound");
e.opacity = 51;
e.color = new cc.Color(255, 0, 0);
return;
}
e.opacity = 51;
} else {
e.opacity = 0;
e.color = new cc.Color(255, 255, 255);
this.node.getChildByName("player").stopAllActions();
}
};
t.prototype.thatsTheLimit = function(e) {
var t, o = this, i = 0, n = 0, a = h.default.getInstance().allBetRegion;
if (l.default.roomData.playType == c.baccaratRoomType.singapore) {
var r = s.default.getInstance().tigerProcMapping(e.chipType - 1);
if (0 == r) {
for (var d = 0; d < a[0].length; d++) n += a[0][d];
i = l.default.roomData.maxBlind;
for (d = 0; d < a[1].length; d++) i += a[1][d];
t = this._tipsRegionList[0];
} else if (1 == r) {
for (d = 0; d < a[1].length; d++) n += a[1][d];
i = l.default.roomData.maxBlind;
for (d = 0; d < a[0].length; d++) i += a[0][d];
t = this._tipsRegionList[1];
} else if (2 == r) {
n = a[2] + a[5] + a[6] + a[7];
i = l.default.roomData.maxLucky6;
t = this._tipsRegionList[2];
} else if (3 == r) {
n = a[3] + a[4];
i = l.default.roomData.maxOther;
t = this._tipsRegionList[3];
} else if (4 == r) {
n = a[3] + a[4];
i = l.default.roomData.maxOther;
t = this._tipsRegionList[4];
} else if (5 == r) {
n = a[2] + a[5] + a[6] + a[7];
i = l.default.roomData.maxLucky6;
t = this._tipsRegionList[5];
} else if (6 == r) {
n = a[2] + a[5] + a[6] + a[7];
i = l.default.roomData.maxLucky6;
t = this._tipsRegionList[6];
} else if (7 == r) {
n = a[2] + a[5] + a[6] + a[7];
i = l.default.roomData.maxLucky6;
t = this._tipsRegionList[7];
}
} else if (1 == e.chipType) {
for (d = 0; d < a[0].length; d++) n += a[0][d];
i = l.default.roomData.maxBlind;
for (d = 0; d < a[1].length; d++) i += a[1][d];
t = this.node.getChildByName("player");
} else if (2 == e.chipType) {
for (d = 0; d < a[1].length; d++) n += a[1][d];
i = l.default.roomData.maxBlind;
for (d = 0; d < a[0].length; d++) i += a[0][d];
t = this.node.getChildByName("banker");
} else if (3 == e.chipType) {
n = a[2] + a[3] + a[5];
i = l.default.roomData.maxOther;
t = this.node.getChildByName("playerPair");
} else if (4 == e.chipType) {
n = a[2] + a[3] + a[5];
i = l.default.roomData.maxOther;
t = this.node.getChildByName("pice");
} else if (5 == e.chipType) {
n = a[e.chipType - 1];
i = l.default.roomData.maxLucky6;
t = this.node.getChildByName("luckySix");
} else if (6 == e.chipType) {
n = a[2] + a[3] + a[5];
i = l.default.roomData.maxOther;
t = this.node.getChildByName("bankerPair");
}
if (!p.default.isnull(t)) {
if (e.chipValue + n > i) {
u.default.inst.playEffect("betTipsSound");
t.opacity = 51;
t.color = new cc.Color(255, 0, 0);
}
this.node.getChildByName("player").stopAllActions();
cc.tween(this.node.getChildByName("player")).delay(2).call(function() {
o.regionReset();
}, this).start();
}
};
t.prototype.gameSettlement = function(e) {
this.hideTableStatus();
if (l.default.roomData.playType == c.baccaratRoomType.singapore) {
1 == e.result ? this.regionWinAnimation(0) : 2 == e.result ? this.regionWinAnimation(1) : 3 == e.result && this.regionWinAnimation(3);
e.tigerDraw && this.regionWinAnimation(2);
e.tigerPair && this.regionWinAnimation(4);
e.lucky && ("tiger1" == e.tager ? this.regionWinAnimation(5) : this.regionWinAnimation(7));
e.tiger && this.regionWinAnimation(6);
} else {
1 == e.result ? this.regionWinAnimation(0) : 2 == e.result ? this.regionWinAnimation(1) : 3 == e.result && this.regionWinAnimation(3);
e.playerPair && this.regionWinAnimation(2);
e.bankerPair && this.regionWinAnimation(5);
e.lucky && this.regionWinAnimation(4);
}
};
t.prototype.regionWinAnimation = function(e) {
var t = this._tipsRegionList[e];
if (null != t) {
t.stopAllActions();
t.opacity = 255;
t.color = this.tableStatusColors.win;
p.default.loadSpriteFrame(t, this.tableStatusWin[e]);
}
};
t.prototype.startBet = function(e) {
if (p.default.isnull(e)) {
var t = new cc.Color(255, 255, 255);
e.opacity = 0;
cc.tween(e).to(0, {
color: t,
opacity: 51
}).delay(.5).to(0, {
opacity: 0
}).delay(.5).to(0, {
opacity: 51
}).delay(.5).to(0, {
opacity: 0
}).start();
}
};
t.prototype.setLabelString = function() {
var e = "";
l.default.roomData.roomType == c.goldType.free ? e = "F" + l.default.roomData.roomId : l.default.roomData.roomType == c.goldType.charge ? e = "C" + l.default.roomData.roomId : l.default.roomData.roomType == c.goldType.tiger ? e = "T" + l.default.roomData.roomId : l.default.roomData.roomType == c.goldType.vip && (e = "V" + l.default.roomData.roomId);
this._tabelLabel.string = "" + d.default.ins.STRING_ROOM("roomId") + e;
};
return a([ m ], t);
}(cc.Component));
o.default = g;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Conf/BaccatRoomConf": "BaccatRoomConf",
"../Conf/Const": "Const",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../Data/RoomData": "RoomData",
"../UIFrame/SoundMgr": "SoundMgr",
"../Util/GameUtil": "GameUtil"
} ],
TaskData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e4cc9ZAx9dAGpzuwUQ9mdrS", "TaskData");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.FreeRewardTime = o.FreeRewardType = void 0;
var i;
(function(e) {
e[e.timeReward = 1] = "timeReward";
e[e.adReward = 2] = "adReward";
e[e.inviteRegisterReward = 3] = "inviteRegisterReward";
})(o.FreeRewardType || (o.FreeRewardType = {}));
(function(e) {
e[e.timeReward = 43200] = "timeReward";
e[e.adReward = 600] = "adReward";
})(i = o.FreeRewardTime || (o.FreeRewardTime = {}));
var n = e("../Manager/ADManager"), a = e("../Util/GameUtil"), r = e("./GameData"), s = function() {
function e() {
this._isRegesterInviteAvaliable = !1;
this._isDailyTaskAvaliable = !1;
this._dailyTaskConfig = null;
this._dialyTaskList = null;
this._regesterInviteInfo = null;
}
e.getInstance = function() {
this.instance || (this.instance = new e());
return this.instance;
};
Object.defineProperty(e.prototype, "dailyTaskConfig", {
get: function() {
return this._dailyTaskConfig;
},
set: function(e) {
this._dailyTaskConfig = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "taskList", {
get: function() {
return this._dialyTaskList;
},
set: function(e) {
this._dialyTaskList = e;
this._isDailyTaskAvaliable = this._dialyTaskList.rewardContain > 0;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "regesterInviteInfo", {
get: function() {
return this._regesterInviteInfo;
},
set: function(e) {
this._regesterInviteInfo = e;
this._regesterInviteInfo.invitedNum > this._regesterInviteInfo.rewardedNum ? this._isRegesterInviteAvaliable = !0 : this._isRegesterInviteAvaliable = !1;
},
enumerable: !1,
configurable: !0
});
e.prototype.isTimeRewardAvaliable = function() {
var e = new Date().getTime(), t = a.default.readData("TimeRewardTime" + r.default.UserData.userId) || e - 1e3 * i.timeReward, o = 1e3 * i.timeReward - (e - t);
return !(Math.floor(o / 1e3) > 0);
};
e.prototype.isADRewardAvaliable = function() {
var e = new Date().getTime(), t = a.default.readData("ADRewardTime") || e - 1e3 * n.default.inst.adNextRewardIntervalTime, o = 1e3 * n.default.inst.adNextRewardIntervalTime - (e - t);
return !(Math.floor(o / 1e3) > 0);
};
e.prototype.updateDailyTaskInfo = function() {
this._dialyTaskList.rewardContain--;
this._isDailyTaskAvaliable = this._dialyTaskList.rewardContain > 0;
};
e.prototype.isInviteRegesterRewardAvaliable = function() {
return this._isRegesterInviteAvaliable;
};
e.prototype.isDailyRewardAvaliable = function() {
return this._isDailyTaskAvaliable;
};
e.prototype.isFreeRewardAvaliable = function() {
return this._isRegesterInviteAvaliable || this.isTimeRewardAvaliable() || this.isADRewardAvaliable();
};
e.prototype.isTaskRewardAvaliable = function() {
return this.isFreeRewardAvaliable() || this.isDailyRewardAvaliable();
};
return e;
}();
o.default = s;
cc._RF.pop();
}, {
"../Manager/ADManager": "ADManager",
"../Util/GameUtil": "GameUtil",
"./GameData": "GameData"
} ],
TaskItem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e2ed8XI0ThLh5WMhJSy1FZz", "TaskItem");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../PublicTools/GameEvents"), s = e("../GameFireData/GameAllConst"), c = e("../GameFireData/GameDataInfo"), l = e("../GameNetWork/NetWorkAll"), d = e("../GameCommon/NVSGameUtil"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._taskTitle = null;
t._taskProgress = null;
t._taskTotal = null;
t._labelChip = null;
t._labelCoin = null;
t._labelTicket = null;
t._iconChip = null;
t._iconCoin = null;
t._iconTicket = null;
t._data = null;
t._index = 0;
t._btnAction = null;
t._labelStatus = null;
return t;
}
t.prototype.initView = function() {
this._taskTitle = this.node.getChildByName("labelTitle");
this._taskProgress = this.node.getChildByName("labelProgress");
this._taskTotal = this.node.getChildByName("labelTotal");
this._labelChip = this.node.getChildByName("labelChipNum");
this._labelCoin = this.node.getChildByName("labelCoinNum");
this._labelTicket = this.node.getChildByName("labelTicketNum");
this._iconChip = this.node.getChildByName("iconChip");
this._iconCoin = this.node.getChildByName("iconCoin");
this._iconTicket = this.node.getChildByName("iconTicket");
this._btnAction = this.node.getChildByName("btnAction");
this._btnAction.on("click", this._onAction, this);
this.node.getChildByName("btnAction").on("click", this._onAction, this);
this.node.getChildByName("labelStatus").getComponent(cc.Label).string = "UnCompleted";
this._labelStatus = this.node.getChildByName("labelStatus");
};
t.prototype.refresh = function(e, t) {
this.initView();
this._data = e;
this._index = t;
this._taskTitle.getComponent(cc.Label).string = e.name;
this._taskProgress.getComponent(cc.Label).string = e.compelteNum;
this._taskTotal.getComponent(cc.Label).string = "/" + e.need;
var o = this._btnAction.getComponent(cc.Button), i = this._btnAction.getChildByName("btnLabel").getComponent(cc.Label);
if (1 == e.status) if (e.actionType < 10) {
this._labelStatus.active = !0;
this._btnAction.active = !1;
this._taskTotal.color = this._taskTitle.color;
this._btnAction.opacity = 155;
} else {
this._btnAction.active = !0;
this._labelStatus.active = !1;
i.string = "Go";
d.default.loadSpriteFrame(this._btnAction, "BeautyDIalog/button_blue");
o.enabled = !0;
this._taskTotal.color = this._taskTitle.color;
this._btnAction.opacity = 255;
} else if (0 == e.status) {
this._btnAction.active = !0;
this._labelStatus.active = !1;
i.string = "Get";
d.default.loadSpriteFrame(this._btnAction, "BeautyDIalog/button_yellow");
o.enabled = !0;
this._taskTotal.color = this._taskTitle.color;
this._btnAction.opacity = 255;
} else if (2 == e.status) {
this._btnAction.active = !0;
this._labelStatus.active = !1;
i.string = "Rewarded";
d.default.loadSpriteFrame(this._btnAction, "BeautyDIalog/task/button_gray");
o.enabled = !1;
this._taskTotal.color = this._taskProgress.color;
this._btnAction.opacity = 155;
}
for (var n = e.reward.split(",", 50), a = n.length, r = [], l = 0; l < a; l++) {
var h = {}, u = n[l].split("|");
h.type = +u[0];
h.type == s.MoneyType.ticket ? h.value = +u[1] / c.default.pointMulti : h.value = +u[1];
r.push(h);
}
this._labelChip.active = !1;
this._labelCoin.active = !1;
this._labelTicket.active = !1;
this._iconChip.active = !1;
this._iconCoin.active = !1;
this._iconTicket.active = !1;
this._createRewardItems(r);
};
t.prototype._createRewardItems = function(e) {
for (var t = [ this._labelCoin, this._labelChip, this._labelTicket ], o = [ this._iconCoin, this._iconChip, this._iconTicket ], i = e.length, n = 0; n < i; n++) {
t[e[n].type - 1].getComponent(cc.Label).string = d.default.cul(e[n].value);
t[e[n].type - 1].active = !0;
o[e[n].type - 1].active = !0;
o[e[n].type - 1].x = 217 * n - 50;
t[e[n].type - 1].x = 217 * n - 50 + 42;
}
};
t.prototype._onAction = function() {
if (0 == this._data.status) {
l.default.getInstance().socketSend.getTaskReward(this._data.taskId);
this._btnAction.getComponent(cc.Button).enabled = !1;
this._btnAction.opacity = 155;
r.MyEvent.getInstance().emit("NOTIFY_GET_REWARD", this._data);
} else if (this._data.status = 1) {
var e = this._data.actionType, t = this._data.gameType, o = {};
o.actionType = e;
o.gameType = t;
r.MyEvent.getInstance().emit("DO_ACTION", o);
r.MyEvent.getInstance().emit("CLOSE_ACTIVITY_DIALOG");
} else d.default.alert(this._data.status);
};
return a([ u ], t);
}(cc.Component));
o.default = p;
cc._RF.pop();
}, {
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../GameFireData/GameAllConst": "GameAllConst",
"../GameFireData/GameDataInfo": "GameDataInfo",
"../GameNetWork/NetWorkAll": "NetWorkAll",
"../PublicTools/GameEvents": "GameEvents"
} ],
TaskMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "31a596bxKRPRLn5dQ68o2nr", "TaskMgr");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.Command = o.CommandType = void 0;
var i = e("../Common/Utils/PriorityQueue");
o.CommandType || (o.CommandType = {});
o.Command = function() {};
var n = function() {
function e() {
this._cmdMap = cc.js.createMap();
this._debugHistory = [];
this._debug = !1;
}
Object.defineProperty(e, "inst", {
get: function() {
this._instance || (this._instance = new e());
return this._instance;
},
enumerable: !1,
configurable: !0
});
e.prototype.setDebug = function(e) {
void 0 === e && (e = !0);
this._debug = e;
};
e.prototype.pushCommand = function(e, t, o) {
void 0 === o && (o = 0);
this._debug && this._debugHistory.push(t);
var n = this._cmdMap[e];
n || (n = this._cmdMap[e] = new i.default());
n.enqueue(t, o);
};
e.prototype.popCommand = function(e) {
var t = this._cmdMap[e];
return t ? t.dequeue() : null;
};
e.prototype.hasCommand = function(e, t) {
if (t) return this._cmdMap[t].hasElement(e);
for (var o in this._cmdMap) if (this._cmdMap[o].hasElement(e)) return !0;
return !1;
};
e._instance = null;
return e;
}();
o.default = n;
cc._RF.pop();
}, {
"../Common/Utils/PriorityQueue": "PriorityQueue"
} ],
Task: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "52fc3WYP5tOYqironYTb7Ge", "Task");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.ActivityID = void 0;
var r = e("../PublicTools/DialogRoot"), s = e("../GameFireData/GameAllConst"), c = e("../FireData/CommonData"), l = e("../FireData/PublicActivityData"), d = e("../GameCores/DialogLogic"), h = e("../GameNetWork/NetWorkAll"), u = e("../EXUIFrame/EXList"), p = e("../GameCommon/NVSGameUtil"), f = e("./TaskItem");
(o.ActivityID || (o.ActivityID = {})).daily = "task";
var m = cc._decorator, g = m.ccclass, y = (m.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._topBar = null;
t._labelMyCoins = null;
t._friendListNode = null;
t._friendList = null;
t._friendScrollView = null;
t._friendListAssistant = null;
t._friendListData = null;
t.dailyShowTask = null;
t._taskProgressData = null;
t._rootNode = null;
return t;
}
t.prototype.onLoad = function() {
this._rootNode = this.node.getChildByName("bg");
this._rootNode.getChildByName("btnBack").on("click", this.onClose, this);
this._topBar = this._rootNode.getChildByName("topBar");
this._labelMyCoins = this._topBar.getChildByName("labelCoin");
this._friendListNode = this._rootNode.getChildByName("gameFriendNode");
this._friendList = this._friendListNode.getChildByName("scrollViewFriendList");
this._friendScrollView = this._friendList.getComponent(cc.ScrollView);
this._friendListAssistant = this._friendList.getComponent(u.default);
};
t.prototype.onShow = function(t) {
e.prototype.onShow.call(this, t);
this.needAnimation = !1;
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.register("GameActivity", [ "ON_GET_ACTIVITY_LIST_SUCCESS", "NOTIFY_COMPLETE_AD", "CLOSE_ACTIVITY_DIALOG", "MONEY_UPDATE_EVENT", "UPDATA_ACTIVITY_STATUS", "GET_REWARD_SUCCESS", "NOTIFY_GET_REWARD", "NOTIFY_TASK_PROGRESS", "SHOW_GAME_FRIEND_PAGE", "DAILY_TASK_LIST_EVENT", "AD_REWARD_EVENT", "TIME_REWARD_EVENT", "INVITE_REGISTER_INFO", "UPDATE_GAME_RED_NOTIFICA" ]);
this._initUserInfo(c.default.UserData.chip);
this._rootNode.active = !1;
this._onGameFriend();
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "DAILY_TASK_LIST_EVENT":
this._updateFriendList(t);
break;

case "NOTIFY_TASK_PROGRESS":
this._updateTask(t);
break;

case "NOTIFY_GET_REWARD":
this._onGetReward(t);
break;

case "SHOW_GAME_FRIEND_PAGE":
this._showPage(t);
break;

case "GET_REWARD_SUCCESS":
this._showDailyTaskReward(t);
break;

case "MONEY_UPDATE_EVENT":
this._updateMyInfo();
break;

case "CLOSE_ACTIVITY_DIALOG":
this.onClose();
break;

case "UPDATE_GAME_RED_NOTIFICA":
this.updateRedTips();
}
};
t.prototype._updateTask = function(e) {
this._taskProgressData[e.taskId] && (this._taskProgressData[e.taskId] = e);
this._updateFriendList(this._taskProgressData);
};
t.prototype._updateFriendList = function(e) {
this.hideLoading();
this._rootNode.active = !0;
this._taskProgressData = e;
this._friendListData = l.default.getInstance().dailyTaskConfig;
for (var t = this._friendListData.length, o = 0; o < t; o++) {
if (this._taskProgressData[this._friendListData[o].taskId]) {
this._friendListData[o].compelteNum = this._taskProgressData[this._friendListData[o].taskId].compelteNum;
this._friendListData[o].status = this._taskProgressData[this._friendListData[o].taskId].status;
}
2 == this._friendListData[o].rewardType && (this._friendListData[o].rewardType = 0);
}
this._sortTaskList();
this.dailyShowTask = this.getCurrShowList(2);
this._friendListAssistant.numItems = this.dailyShowTask.length;
};
t.prototype.getCurrShowList = function(e) {
var t = [];
0 == e && (t = this._friendListData);
for (var o = 0; o < this._friendListData.length; o++) {
var i = this._friendListData[o];
i.gameType == s.gameType.blackjack && t.push(i);
}
return t;
};
t.prototype._sortTaskList = function() {
this._friendListData.sort(function(e, t) {
return e.sort - t.sort;
});
c.default.UserData.chip > 0 && this._friendListData.sort(function(e, t) {
return e.rewardType - t.rewardType;
});
this._friendListData.sort(function(e, t) {
return e.status - t.status;
});
};
t.prototype._onGetReward = function(e) {
for (var t = e.taskId, o = 0; o < this._friendListData.length; o++) if (this._friendListData[o].taskId == t) {
this._friendListData[o].status = 2;
break;
}
this._sortTaskList();
this.dailyShowTask = this.getCurrShowList(2);
var i = this.dailyShowTask.length;
this._friendListAssistant.numItems = i;
};
t.prototype.onFriendListVRender = function(e, t) {
e.getComponent(f.default).refresh(this.dailyShowTask[t], t);
};
t.prototype._showDailyTaskReward = function(e) {
if (null != e && "" != e) {
for (var t = e.split(",", 50), o = t.length, i = [], n = 0; n < o; n++) {
var a = {}, r = t[n].split("|");
a.type = +r[0];
a.value = +r[1];
i.push(a);
}
this._showReward(i);
}
};
t.prototype._showReward = function(e) {
d.default.inst.showDialog(d.DialogIndex.gameReward, e, !0);
};
t.prototype._initUserInfo = function(e) {
this._labelMyCoins.getComponent(cc.Label).string = "" + p.default.cul(e);
};
t.prototype._updateMyInfo = function() {
p.default.labelChange(this._labelMyCoins, c.default.UserData.chip);
};
t.prototype._showPage = function(e) {
switch (e) {
case 1:
this._onGameFriend();
}
};
t.prototype._onGameFriend = function() {
if (null != l.default.getInstance().dailyTaskConfig) h.default.getInstance().socketSend.getDailyTaskList(c.default.UserData.userId); else {
p.default.alert("Wait a moment please");
h.default.getInstance().socketSend.getDailyTaskConfig(0);
}
};
t.prototype.updateRedTips = function() {};
return a([ g ], t);
}(r.default));
o.default = y;
cc._RF.pop();
}, {
"../EXUIFrame/EXList": "EXList",
"../FireData/CommonData": "CommonData",
"../FireData/PublicActivityData": "PublicActivityData",
"../GameCommon/NVSGameUtil": "NVSGameUtil",
"../GameCores/DialogLogic": "DialogLogic",
"../GameFireData/GameAllConst": "GameAllConst",
"../GameNetWork/NetWorkAll": "NetWorkAll",
"../PublicTools/DialogRoot": "DialogRoot",
"./TaskItem": "TaskItem"
} ],
ThirdPartyRepairData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8d531JbGwNMbp0Um0O41jeO", "ThirdPartyRepairData");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../Socket/WebSocketManager"), n = function() {
function e() {
this.repairData = {};
}
e.getInstance = function() {
this.instance || (this.instance = new e());
return this.instance;
};
e.prototype.init = function() {
this.repairData = {};
i.default.getInstance().socketSend.getThirdPartyRepairInfo();
};
e.prototype.update = function(e, t) {
for (var o = 0; o < e.length; o++) {
var i = e[o];
this.repairData[i] = t;
}
};
e.prototype.isInRepair = function(e) {
return !(!this.repairData[e] || 1 != this.repairData[e]);
};
return e;
}();
o.default = n;
cc._RF.pop();
}, {
"../Socket/WebSocketManager": "WebSocketManager"
} ],
TigerNode: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7a5b5Hba3ZElI1/SLriCZYD", "TigerNode");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Conf/Const"), s = e("../Data/GameData"), c = e("../UIFrame/SoundMgr"), l = cc._decorator, d = l.ccclass, h = l.property, u = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.tigerSpine = null;
t.skeletonDataList = [];
return t;
}
t.prototype.onLoad = function() {
this._colorLayer = this.node.getChildByName("colorLayer");
this._colorLayer.active = !1;
this.tigerSpine.node.active = !1;
};
t.prototype.colorLayerAni = function() {
this._colorLayer.active = !0;
this._colorLayer.opacity = 0;
cc.tween(this._colorLayer).to(.5, {
opacity: 0
}).to(.1, {
opacity: 178.5
}).to(3.9, {
opacity: 178.5
}).to(.3, {
opacity: 0
}).start();
};
t.prototype.startBigTiger = function() {
var e = this;
this.tigerSpine.setCompleteListener(function() {
e.tigerSpine.node.active = !1;
e._colorLayer.active = !1;
e.tigerSpine.setCompleteListener(function() {});
});
this.tigerSpine.node.active = !0;
this.tigerSpine.node.scale = 1;
this.tigerSpine.node.y = 0;
this.tigerSpine.skeletonData = this.skeletonDataList[0];
this.tigerSpine.animation = "BigTiger";
this.colorLayerAni();
};
t.prototype.startSmallTiger = function() {
var e = this;
this.tigerSpine.setCompleteListener(function() {
e.tigerSpine.node.active = !1;
e._colorLayer.active = !1;
e.tigerSpine.setCompleteListener(function() {});
});
this.tigerSpine.node.active = !0;
this.tigerSpine.node.scale = 1;
this.tigerSpine.node.y = 0;
this.tigerSpine.skeletonData = this.skeletonDataList[1];
this.tigerSpine.animation = "SmallTiger";
this.colorLayerAni();
};
t.prototype.startTieTiger = function() {
var e = this;
this.tigerSpine.setCompleteListener(function() {
e.tigerSpine.node.active = !1;
e._colorLayer.active = !1;
e.tigerSpine.setCompleteListener(function() {});
});
this.tigerSpine.node.active = !0;
this.tigerSpine.node.scale = 1.3;
this.tigerSpine.node.y = -150;
this.tigerSpine.skeletonData = this.skeletonDataList[2];
this.tigerSpine.animation = "TigerTie";
this.colorLayerAni();
};
t.prototype.tigerHandle = function(e) {
if (e.tigerDraw) {
if (s.default.roomData.playType == r.baccaratRoomType.singapore) {
this.startTieTiger();
c.default.inst.playEffect("tiger2");
}
} else if (e.tiger) if ("tiger2" == e.tager) {
this.startBigTiger();
c.default.inst.playEffect("tiger2");
} else if ("tiger1" == e.tager) {
this.startSmallTiger();
c.default.inst.playEffect("tiger_small2");
}
};
t.prototype.start = function() {};
a([ h(sp.Skeleton) ], t.prototype, "tigerSpine", void 0);
a([ h({
type: sp.SkeletonData,
displayName: ""
}) ], t.prototype, "skeletonDataList", void 0);
return a([ d ], t);
}(cc.Component);
o.default = u;
cc._RF.pop();
}, {
"../Conf/Const": "Const",
"../Data/GameData": "GameData",
"../UIFrame/SoundMgr": "SoundMgr"
} ],
TimeReward: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "127fb2o10hMJ5kwb+CJ3hB9", "TimeReward");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Socket/WebSocketManager"), s = e("../Util/GameUtil"), c = e("./MyEvent"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.timeLabel = null;
t.timeBg = null;
t.redTips = null;
t.giftBox = null;
t.totalTime = 0;
t.passTime = 0;
t.leftTime = 0;
t.rewardList = null;
return t;
}
t.prototype.onLoad = function() {
this.timeLabel = this.node.getChildByName("labelTime").getComponent(cc.Label);
this.redTips = this.node.getChildByName("redTips");
this.timeBg = this.node.getChildByName("bgTime");
this.giftBox = this.node.getChildByName("icon");
this.node.on("click", this.onGetReward, this);
this.node.active = !1;
};
t.prototype.initRewardInfo = function(e) {
this.totalTime = e.totalTime;
this.passTime = e.passTime;
this.rewardList = e.rewards;
this.leftTime = this.totalTime - this.passTime;
this.node.active = !0;
if (this.leftTime <= 0) this.showRewardStatus(); else {
this.showCountDownStatus();
1 == e.flag && this.startTimer();
}
};
t.prototype.setPassTime = function(e) {
this.passTime = e;
this.leftTime = this.totalTime - e;
this.timeLabel.string = s.default.formatTime(this.leftTime, 2);
};
t.prototype.startTimer = function() {
this.leftTime = this.totalTime - this.passTime;
if (this.leftTime <= 0) this.showRewardStatus(); else {
this.stopTimer();
this.showCountDownStatus();
this.timeLabel.string = s.default.formatTime(this.leftTime, 2);
this.schedule(this.countDown, 1);
}
};
t.prototype.countDown = function() {
this.leftTime = this.leftTime - 1;
if (this.leftTime >= 0) this.timeLabel.string = s.default.formatTime(this.leftTime, 2); else {
this.unschedule(this.countDown);
this.showRewardStatus();
}
};
t.prototype.showRewardStatus = function() {
this.timeBg.active = !1;
this.timeLabel.node.active = !1;
this.redTips.active = !0;
this.startGiftAnim();
};
t.prototype.startGiftAnim = function() {
var e = cc.scaleTo(.2, 1.15), t = cc.rotateTo(.2, 6), o = cc.rotateTo(.2, -6), i = cc.rotateTo(.2, 6), n = cc.rotateTo(.2, -6), a = cc.rotateTo(.2, 0), r = cc.rotateTo(.2, 1), s = cc.delayTime(.2), c = cc.sequence(e, t, o, i, n, a, r, s), l = cc.repeatForever(c);
this.giftBox.runAction(l);
};
t.prototype.stopGiftAnim = function() {
this.giftBox.stopAllActions();
this.giftBox.scaleX = 1;
this.giftBox.scaleY = 1;
this.giftBox.angle = 0;
};
t.prototype.showCountDownStatus = function() {
this.timeLabel.string = s.default.formatTime(this.leftTime, 2);
this.timeBg.active = !0;
this.timeLabel.node.active = !0;
this.redTips.active = !1;
this.stopGiftAnim();
};
t.prototype.stopTimer = function() {
this.unschedule(this.countDown);
};
t.prototype.onGetRewardSuccess = function(e) {
this.totalTime = e.nextTotalTime;
this.rewardList = e.nextRewards;
this.passTime = 0;
this.leftTime = this.totalTime;
this.showCountDownStatus();
1 == e.flag ? this.startTimer() : this.stopTimer();
var t = e.rewards || [];
t.length > 0 && c.MyEvent.getInstance().emit("ON_GET_TIME_REWARD", t[0].value);
};
t.prototype.onGetReward = function() {
this.leftTime > 0 || r.default.getInstance().socketSend.getPlayReward();
};
t.prototype.start = function() {};
t.prototype.onDisable = function() {
this.unschedule(this.countDown);
};
return a([ d ], t);
}(cc.Component));
o.default = h;
cc._RF.pop();
}, {
"../Socket/WebSocketManager": "WebSocketManager",
"../Util/GameUtil": "GameUtil",
"./MyEvent": "MyEvent"
} ],
TinyDialog: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "56c1eiTft9HjqBYecEliDxp", "TinyDialog");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Data/LanguageData"), s = e("../Components/DialogBase"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this.node.getChildByName("btnClose").on("click", this.onClose, this);
this.node.getChildByName("btnOK").on("click", this._onOK, this);
this.node.getChildByName("btnCancel").on("click", this._onCancel, this);
this.node.getChildByName("btnOK").getChildByName("Label").getComponent(cc.Label).string = r.default.ins.STRING_DIALOG("enter");
this.node.getChildByName("btnCancel").getChildByName("Label").getComponent(cc.Label).string = r.default.ins.STRING_DIALOG("cancel");
};
t.prototype.start = function() {
e.prototype.start.call(this);
var t = this._data, o = t.content || "", i = t.btnAmount || 2;
this.node.getChildByName("labelContent").getComponent(cc.Label).string = o;
t.okDesc && (this.node.getChildByName("btnOK").getChildByName("Label").getComponent(cc.Label).string = t.okDesc);
t.cancelDesc && (this.node.getChildByName("btnCancel").getChildByName("Label").getComponent(cc.Label).string = t.cancelDesc);
if (1 == i) {
this.node.getChildByName("btnCancel").active = !1;
this.node.getChildByName("btnOK").x = 0;
}
};
t.prototype._onCancel = function() {
this._data.cancelCallback && this._data.cancelCallback();
this.onClose();
};
t.prototype._onOK = function() {
this._data.okCallback && this._data.okCallback();
this.onClose();
};
return a([ l ], t);
}(s.default));
o.default = d;
cc._RF.pop();
}, {
"../Components/DialogBase": "DialogBase",
"../Data/LanguageData": "LanguageData"
} ],
TipsGameMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "16b58tZQPVPO5eKkFW/mqJh", "TipsGameMgr");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, n = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
}, r = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var i = Array(e), n = 0;
for (t = 0; t < o; t++) for (var a = arguments[t], r = 0, s = a.length; r < s; r++, 
n++) i[n] = a[r];
return i;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("../public/ThirdParty/UIGameMgr"), c = cc._decorator, l = c.ccclass, d = (c.property, 
function() {
function e() {}
t = e;
Object.defineProperty(e, "inst", {
get: function() {
null == this._instance && (this._instance = new t());
return this._instance;
},
enumerable: !1,
configurable: !0
});
e.prototype.setLoadingForm = function(e) {
this.loadingFormName = e;
};
e.prototype.showLoadingForm = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
return n(this, void 0, void 0, function() {
var t;
return a(this, function(o) {
switch (o.label) {
case 0:
if (!this.loadingFormName || this.loadingFormName.length <= 0) {
cc.warn("loading form");
return [ 2 ];
}
return [ 4, (t = s.default.inst()).openUIForm.apply(t, r([ this.loadingFormName ], e)) ];

case 1:
o.sent();
return [ 2 ];
}
});
});
};
e.prototype.hideLoadingForm = function() {
return n(this, void 0, void 0, function() {
return a(this, function(e) {
switch (e.label) {
case 0:
return [ 4, s.default.inst().closeUIForm(this.loadingFormName) ];

case 1:
e.sent();
return [ 2 ];
}
});
});
};
e.prototype.setTipsForm = function(e) {
this.tipsFormName = e;
};
var t;
e._instance = null;
return t = i([ l ], e);
}());
o.default = d;
cc._RF.pop();
}, {
"../public/ThirdParty/UIGameMgr": "UIGameMgr"
} ],
TipsMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8ea76v3a95J1pCVcsVKKDKB", "TipsMgr");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, n = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
}, r = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var i = Array(e), n = 0;
for (t = 0; t < o; t++) for (var a = arguments[t], r = 0, s = a.length; r < s; r++, 
n++) i[n] = a[r];
return i;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("./UIManager"), c = cc._decorator, l = c.ccclass, d = (c.property, function() {
function e() {}
t = e;
Object.defineProperty(e, "inst", {
get: function() {
null == this._instance && (this._instance = new t());
return this._instance;
},
enumerable: !1,
configurable: !0
});
e.prototype.setLoadingForm = function(e) {
this.loadingFormName = e;
};
e.prototype.showLoadingForm = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
return n(this, void 0, void 0, function() {
var t;
return a(this, function(o) {
switch (o.label) {
case 0:
if (!this.loadingFormName || this.loadingFormName.length <= 0) {
cc.warn("loading form");
return [ 2 ];
}
return [ 4, (t = s.default.getInstance()).openUIForm.apply(t, r([ this.loadingFormName ], e)) ];

case 1:
o.sent();
return [ 2 ];
}
});
});
};
e.prototype.hideLoadingForm = function() {
return n(this, void 0, void 0, function() {
return a(this, function(e) {
switch (e.label) {
case 0:
return [ 4, s.default.getInstance().closeUIForm(this.loadingFormName) ];

case 1:
e.sent();
return [ 2 ];
}
});
});
};
e.prototype.setTipsForm = function(e) {
this.tipsFormName = e;
};
var t;
e._instance = null;
return t = i([ l ], e);
}());
o.default = d;
cc._RF.pop();
}, {
"./UIManager": "UIManager"
} ],
TouchLayer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f404awKB3tBxZSEqgBbBFxB", "TouchLayer");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = cc._decorator, a = n.ccclass, r = (n.property, function() {
function e() {}
e.prototype.onLoad = function() {};
e.prototype.initLayer = function() {
this._layer = new cc.Node("Sprite");
this._layer.addComponent(cc.BlockInputEvents);
};
e.prototype.setContentSize = function(e, t) {
this._layer.setContentSize(e, t);
};
e.prototype.onTouch = function(e, t) {
this._layer.on(cc.Node.EventType.TOUCH_START, function(o) {
e(o, t);
return !0;
});
this._layer.on(cc.Node.EventType.TOUCH_MOVE, function(o) {
e(o, t);
});
this._layer.on(cc.Node.EventType.TOUCH_END, function(o) {
e(o, t);
});
this._layer.on(cc.Node.EventType.TOUCH_CANCEL, function(o) {
e(o, t);
});
};
e.prototype.offTouch = function(e) {
this._layer.off(e);
};
e.prototype.OffAllTouch = function() {
this._layer.off(cc.Node.EventType.TOUCH_START);
this._layer.off(cc.Node.EventType.TOUCH_MOVE);
this._layer.off(cc.Node.EventType.TOUCH_END);
this._layer.off(cc.Node.EventType.TOUCH_CANCEL);
};
e.prototype.getLayer = function() {
return this._layer;
};
e.prototype.start = function() {};
return i([ a ], e);
}());
o.default = r;
cc._RF.pop();
}, {} ],
UIAdapter: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ee547B1fNdJTriwhiICLLVy", "UIAdapter");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.curDR = null;
return t;
}
t.prototype.onLoad = function() {
var e = cc.find("Canvas").getComponent(cc.Canvas);
this.curDR || (this.curDR = cc.view.getDesignResolutionSize());
var t = this.curDR, o = cc.view.getFrameSize(), i = o.width, n = o.height, a = i, r = n;
i / n > t.width / t.height ? a = (r = t.height) * i / n : r = n / i * (a = t.width);
cc.view.setDesignResolutionSize(a, r, 5);
e.node.setContentSize(a, r);
e.node.emit("resize");
};
return a([ s ], t);
}(cc.Component));
o.default = c;
cc._RF.pop();
}, {} ],
UIBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5c092pNuXFAJZU2ICPnuJou", "UIBase");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
}, c = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var i = Array(e), n = 0;
for (t = 0; t < o; t++) for (var a = arguments[t], r = 0, s = a.length; r < s; r++, 
n++) i[n] = a[r];
return i;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var l = e("./CocosHelper"), d = e("./UIManager"), h = e("./config/SysDefine"), u = e("./FrameType"), p = e("./AdapterMgr"), f = e("./TipsMgr"), m = e("../Components/MyEvent"), g = e("../Util/GameUtil"), y = e("./SoundMgr"), _ = e("../Conf/ScreenAdapter"), C = cc._decorator, b = C.ccclass, v = (C.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.formType = 0;
t.maskType = new u.MaskType();
t.canDestory = !1;
t._inited = !1;
t.needAnimation = !0;
t.needModal = !0;
t.model = null;
t._blocker = null;
return t;
}
Object.defineProperty(t, "prefabPath", {
get: function() {
if (!this._prefabPath || this._prefabPath.length <= 0) {
this._prefabPath = h.SysDefine.UI_PATH_ROOT + l.default.getComponentName(this);
console.log("component name:", l.default.getComponentName(this));
}
return this._prefabPath;
},
set: function(e) {
this._prefabPath = e;
},
enumerable: !1,
configurable: !0
});
t.openView = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
return r(this, void 0, Promise, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
return [ 4, (t = d.default.getInstance()).openUIForm.apply(t, c([ this.prefabPath ], e)) ];

case 1:
return [ 2, o.sent() ];
}
});
});
};
t.openViewWithLoading = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
return r(this, void 0, Promise, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
return [ 4, f.default.inst.showLoadingForm(this.prefabPath) ];

case 1:
o.sent();
return [ 4, this.openView.apply(this, e) ];

case 2:
t = o.sent();
return [ 4, f.default.inst.hideLoadingForm() ];

case 3:
o.sent();
return [ 2, t ];
}
});
});
};
t.closeView = function() {
return r(this, void 0, Promise, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
return [ 4, d.default.getInstance().closeUIForm(this.prefabPath) ];

case 1:
return [ 2, e.sent() ];
}
});
});
};
t.prototype._preInit = function() {
return r(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
if (this._inited) return [ 2 ];
this._inited = !0;
this.view = this.getComponent(this.node.name + "_Auto");
autorun(this.refreshView.bind(this));
return [ 4, this.load() ];

case 1:
e.sent();
this.onInit();
return [ 2 ];
}
});
});
};
t.prototype.refreshView = function() {};
t.prototype.load = function() {
return r(this, void 0, void 0, function() {
return s(this, function() {
return [ 2 ];
});
});
};
t.prototype.onInit = function() {};
t.prototype.onShow = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
};
t.prototype.onHide = function() {
m.MyEvent.getInstance().removeByNode(this._typeName);
y.default.inst.playEffect("closeSound");
};
t.prototype.waitPromise = function() {
var e = this;
return new Promise(function(t) {
e._cb = function(e) {
t(e);
};
});
};
t.prototype.showUIForm = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return r(this, void 0, Promise, function() {
return s(this, function(o) {
switch (o.label) {
case 0:
return [ 4, d.default.getInstance().openUIForm(e, t) ];

case 1:
return [ 2, o.sent() ];
}
});
});
};
t.prototype.closeUIForm = function() {
return r(this, void 0, Promise, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
return [ 4, d.default.getInstance().closeUIForm(this.uid) ];

case 1:
return [ 2, e.sent() ];
}
});
});
};
t.prototype.showAnimation = function() {
return r(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
if (this.formType !== h.FormType.PopUp) return [ 3, 2 ];
if (!this.needAnimation) return [ 3, 2 ];
this.node.scale = 0;
return [ 4, l.default.runTweenSync(this.node, cc.tween().to(.3, {
scale: 1
}, cc.easeBackOut())) ];

case 1:
e.sent();
return [ 3, 2 ];

case 2:
return [ 2 ];
}
});
});
};
t.prototype.hideAnimation = function() {
return r(this, void 0, void 0, function() {
return s(this, function() {
return [ 2 ];
});
});
};
t.prototype.setBlockInput = function(e) {
if (!this._blocker) {
var t = new cc.Node("block_input_events");
this._blocker = t.addComponent(cc.BlockInputEvents);
this._blocker.node.setContentSize(p.default.inst.visibleSize);
this.node.addChild(this._blocker.node, cc.macro.MAX_ZINDEX);
}
this._blocker.node.active = e;
};
t.prototype.register = function(e, t) {
this._typeName = e;
for (var o = 0; o < t.length; o++) {
var i = t[o];
m.MyEvent.getInstance().on(i, this.handleAppEvent.bind(this), e);
}
};
t.prototype.handleAppEvent = function(e) {
console.log(e, "");
};
t.prototype._loadSpineRemote = function() {
return r(this, void 0, Promise, function() {
var e = this;
return s(this, function() {
return [ 2, new Promise(function(t) {
cc.loader.loadRes("spine/loading_time", sp.SkeletonData, function(e, o) {
o ? t(o) : console.log("test:error");
}.bind(e));
}) ];
});
});
};
t.prototype.showLoading = function(e, t, o) {
var i = this;
if (!g.default.isnull(this._loading)) {
this._loading = new cc.Node();
this.node.addChild(this._loading);
this._loading.addComponent(sp.Skeleton);
this._loadSpineRemote().then(function(e) {
i._loading.getComponent(sp.Skeleton).skeletonData = e;
i._loading.getComponent(sp.Skeleton).animation = "animation2";
});
}
this._loading.active = !0;
this._loading.stopAllActions();
this._loading.setPosition(e || 0, t || 0);
this.scheduleOnce(function() {
i._loading.active && i.hideLoading();
o || i.closeUIForm();
}, 10);
};
t.prototype.hideLoading = function() {
if (g.default.isnull(this._loading)) {
this._loading.active = !1;
this.unscheduleAllCallbacks();
}
};
t.prototype.setIpadFull = function() {
if (_.default.getInstance().screenType == _.screenTypeEnum.isIpad) {
this.node.getChildByName("dialog") && (this.node.getChildByName("dialog").width = cc.winSize.width);
this.node.getChildByName("bg") && (this.node.getChildByName("bg").width = cc.winSize.width);
}
};
t._prefabPath = "";
a([ observable ], t.prototype, "model", void 0);
return a([ b ], t);
}(cc.Component));
o.default = v;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Conf/ScreenAdapter": "ScreenAdapter",
"../Util/GameUtil": "GameUtil",
"./AdapterMgr": "AdapterMgr",
"./CocosHelper": "CocosHelper",
"./FrameType": "FrameType",
"./SoundMgr": "SoundMgr",
"./TipsMgr": "TipsMgr",
"./UIManager": "UIManager",
"./config/SysDefine": "SysDefine"
} ],
UIBgScript: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "480bcsRVBlJoKDlorNuPiRB", "UIBgScript");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("./UIGameMgr"), l = e("./GameSysDefine"), d = e("./CocosPublic"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._texture = null;
return t;
}
t.prototype.init = function() {
var e = cc.view.getVisibleSize();
this.node.height = 3 * e.height;
this.node.width = 1.5 * e.width;
var t = this.node.addComponent(cc.Sprite);
t.sizeMode = cc.Sprite.SizeMode.CUSTOM;
cc.loader.loadRes("images/lobby/dialogBg.png", cc.SpriteFrame, function(e, o) {
console.log("dialogBg", o);
t.spriteFrame = o;
}.bind(this));
this.node.opacity = 0;
this.node.active = !0;
console.log("init opacity");
};
t.prototype.clickMaskWindow = function() {
return r(this, void 0, void 0, function() {
var e;
return s(this, function(t) {
switch (t.label) {
case 0:
return (e = c.default.inst().getComponentByUid(this.uid)) && e.maskType.clickMaskClose ? [ 4, c.default.inst().closeUIForm(this.uid) ] : [ 3, 2 ];

case 1:
t.sent();
t.label = 2;

case 2:
return [ 2 ];
}
});
});
};
t.prototype.showModal = function(e, t, o) {
void 0 === t && (t = .6);
void 0 === o && (o = !0);
return r(this, void 0, void 0, function() {
var i;
return s(this, function(n) {
switch (n.label) {
case 0:
i = 0;
switch (e) {
case l.ModalOpacity.None:
this.node.active = !1;
break;

case l.ModalOpacity.OpacityZero:
i = 0;
break;

case l.ModalOpacity.OpacityLow:
i = 63;
break;

case l.ModalOpacity.OpacityHalf:
i = 126;
break;

case l.ModalOpacity.OpacityHigh:
i = 189;
break;

case l.ModalOpacity.OpacityFull:
i = 255;
}
return this.node.active ? o ? [ 4, d.default.runTweenSync(this.node, cc.tween().to(t, {
opacity: i
})) ] : [ 3, 2 ] : [ 2 ];

case 1:
n.sent();
return [ 3, 3 ];

case 2:
this.node.opacity = i;
n.label = 3;

case 3:
return [ 2 ];
}
});
});
};
return a([ u ], t);
}(cc.Component));
o.default = p;
cc._RF.pop();
}, {
"./CocosPublic": "CocosPublic",
"./GameSysDefine": "GameSysDefine",
"./UIGameMgr": "UIGameMgr"
} ],
UIGameBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "74481NyiINL7ZW1F05zCWs/", "UIGameBase");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
}, c = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var i = Array(e), n = 0;
for (t = 0; t < o; t++) for (var a = arguments[t], r = 0, s = a.length; r < s; r++, 
n++) i[n] = a[r];
return i;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var l = e("./CocosPublic"), d = e("./UIGameMgr"), h = e("../../manager/GameSoundMgr"), u = e("../../manager/TipsGameMgr"), p = e("../MyComponent/GameEvent"), f = e("../MyComponent/GameHppayUtil"), m = e("./AdapterHpMgr"), g = e("./FrameGameType"), y = e("./GameSysDefine"), _ = cc._decorator, C = _.ccclass, b = (_.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.formType = 0;
t.maskType = new g.FrameGameType();
t.canDestory = !1;
t._inited = !1;
t.needAnimation = !0;
t.needModal = !0;
t.exView = null;
t.model = null;
t._blocker = null;
return t;
}
Object.defineProperty(t, "prefabPath", {
get: function() {
if (!this._prefabPath || this._prefabPath.length <= 0) {
this._prefabPath = y.GameSysDefine.UI_PATH_ROOT + l.default.getComponentName(this);
console.log("component name:", l.default.getComponentName(this));
}
return this._prefabPath;
},
set: function(e) {
this._prefabPath = e;
},
enumerable: !1,
configurable: !0
});
t.openView = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
return r(this, void 0, Promise, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
return [ 4, (t = d.default.inst()).openUIForm.apply(t, c([ this.prefabPath ], e)) ];

case 1:
return [ 2, o.sent() ];
}
});
});
};
t.openViewWithLoading = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
return r(this, void 0, Promise, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
return [ 4, u.default.inst.showLoadingForm(this.prefabPath) ];

case 1:
o.sent();
return [ 4, this.openView.apply(this, e) ];

case 2:
t = o.sent();
return [ 4, u.default.inst.hideLoadingForm() ];

case 3:
o.sent();
return [ 2, t ];
}
});
});
};
t.closeView = function() {
return r(this, void 0, Promise, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
return [ 4, d.default.inst().closeUIForm(this.prefabPath) ];

case 1:
return [ 2, e.sent() ];
}
});
});
};
t.prototype._preInit = function() {
return r(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
if (this._inited) return [ 2 ];
this._inited = !0;
this.view = this.getComponent(this.node.name + "_Auto");
autorun(this.refreshView.bind(this));
return [ 4, this.load() ];

case 1:
e.sent();
this.onInit();
return [ 2 ];
}
});
});
};
t.prototype.refreshView = function() {};
t.prototype.load = function() {
return r(this, void 0, void 0, function() {
return s(this, function() {
return [ 2 ];
});
});
};
t.prototype.onInit = function() {};
t.prototype.onShow = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
};
t.prototype.onHide = function() {
p.GameEvent.ins().removeByNode(this._typeName);
h.default.inst.playGameEffect("close");
};
t.prototype.waitPromise = function() {
var e = this;
return new Promise(function(t) {
e._cb = function(e) {
t(e);
};
});
};
t.prototype.showUIForm = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return r(this, void 0, Promise, function() {
return s(this, function(o) {
switch (o.label) {
case 0:
return [ 4, d.default.inst().openUIForm(e, t) ];

case 1:
return [ 2, o.sent() ];
}
});
});
};
t.prototype.closeUIForm = function() {
return r(this, void 0, Promise, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
return [ 4, d.default.inst().closeUIForm(this.uid) ];

case 1:
return [ 2, e.sent() ];
}
});
});
};
t.prototype.showAnimation = function() {
return r(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
if (this.formType !== y.FormType.PopUp) return [ 3, 2 ];
if (!this.needAnimation) return [ 3, 2 ];
this.node.scale = 0;
return [ 4, l.default.runTweenSync(this.node, cc.tween().to(.3, {
scale: 1
}, cc.easeBackOut())) ];

case 1:
e.sent();
return [ 3, 2 ];

case 2:
return [ 2 ];
}
});
});
};
t.prototype.hideAnimation = function() {
return r(this, void 0, void 0, function() {
return s(this, function() {
return [ 2 ];
});
});
};
t.prototype.setBlockInput = function(e) {
if (!this._blocker) {
var t = new cc.Node("block_input_events");
this._blocker = t.addComponent(cc.BlockInputEvents);
this._blocker.node.setContentSize(m.default.inst.visibleSize);
this.node.addChild(this._blocker.node, cc.macro.MAX_ZINDEX);
}
this._blocker.node.active = e;
};
t.prototype.register = function(e, t) {
this._typeName = e;
for (var o = 0; o < t.length; o++) {
var i = t[o];
p.GameEvent.ins().on(i, this.handleAppEvent.bind(this), e);
}
};
t.prototype.handleAppEvent = function(e) {
console.log(e, "");
};
t.prototype._loadSpineRemote = function() {
return r(this, void 0, Promise, function() {
var e = this;
return s(this, function() {
return [ 2, new Promise(function(t) {
cc.loader.loadRes("anims/loading/loading_time", sp.SkeletonData, function(e, o) {
o ? t(o) : console.log("test:error");
}.bind(e));
}) ];
});
});
};
t.prototype.showLoading = function(e, t, o) {
var i = this;
f.default.showLoading();
this.scheduleOnce(function() {
i.hideLoading();
o || i.closeUIForm();
}, 10);
};
t.prototype.hideLoading = function() {
f.default.hideLoading();
this.unscheduleAllCallbacks();
};
t.prototype.setNodeFullScreen = function(e) {
var t = cc.winSize.width * cc.view.getCanvasSize().height / cc.winSize.height, o = cc.winSize.height * cc.view.getCanvasSize().width / cc.winSize.width;
o < cc.winSize.height && (e.scaleY = cc.winSize.height / o);
t < cc.winSize.width && (e.scaleX = cc.winSize.width / t);
};
t._prefabPath = "";
a([ observable ], t.prototype, "model", void 0);
return a([ C ], t);
}(cc.Component));
o.default = b;
cc._RF.pop();
}, {
"../../manager/GameSoundMgr": "GameSoundMgr",
"../../manager/TipsGameMgr": "TipsGameMgr",
"../MyComponent/GameEvent": "GameEvent",
"../MyComponent/GameHppayUtil": "GameHppayUtil",
"./AdapterHpMgr": "AdapterHpMgr",
"./CocosPublic": "CocosPublic",
"./FrameGameType": "FrameGameType",
"./GameSysDefine": "GameSysDefine",
"./UIGameMgr": "UIGameMgr"
} ],
UIGameMgr: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d725b/jt+pPg7XkHmvX/P6p", "UIGameMgr");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
}, c = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var i = Array(e), n = 0;
for (t = 0; t < o; t++) for (var a = arguments[t], r = 0, s = a.length; r < s; r++, 
n++) i[n] = a[r];
return i;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var l = e("./UIGameBase"), d = e("./GameSysDefine"), h = e("./ResLoadMgr"), u = e("./ModalGameMgr"), p = e("./AdapterHpMgr"), f = e("../MyComponent/SceneBase"), m = cc._decorator, g = m.ccclass, y = (m.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._NormalNo = null;
t._FixedNo = null;
t._PopUpNo = null;
t._TipsNo = null;
t._StaCurrentUIForms = [];
t._MapAllUIForms = cc.js.createMap();
t._MapCurrentShowUIForms = cc.js.createMap();
t._MapIndependentForms = cc.js.createMap();
t._LoadingForm = cc.js.createMap();
t._currWindowId = "";
t.currShowDialogAccout = 0;
t._currScreenId = "";
return t;
}
o = t;
Object.defineProperty(t.prototype, "currWindowId", {
get: function() {
return this._currWindowId;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "currScreenId", {
get: function() {
return this._currScreenId;
},
enumerable: !1,
configurable: !0
});
t.inst = function() {
var e = this;
if (null == this.instance) {
var t = this.cocos.director.getScene().getChildByName("Canvas"), o = t.getChildByName(d.GameSysDefine.SYS_SCENE_NODE);
if (!o) {
(o = new this.cocos.Node(d.GameSysDefine.SYS_SCENE_NODE)).addComponent(f.default);
o.parent = t;
o.zIndex = 399;
}
var i = new this.cocos.Node(d.GameSysDefine.SYS_UIROOT_NODE);
o.addChild(i);
i.addChild(new this.cocos.Node(d.GameSysDefine.SYS_SCREEN_NODE));
i.addChild(new this.cocos.Node(d.GameSysDefine.SYS_FIXEDUI_NODE));
i.addChild(new this.cocos.Node(d.GameSysDefine.SYS_POPUP_NODE));
i.addChild(new this.cocos.Node(d.GameSysDefine.SYS_TOPTIPS_NODE));
var n = this.cocos.find(d.GameSysDefine.SYS_UIROOT_NAME);
this.instance = n.addComponent(this);
this.cocos.director.once(this.cocos.Director.EVENT_AFTER_SCENE_LAUNCH, function() {
e.instance = null;
});
}
return this.instance;
};
t.prototype.checkUIFormIsShowing = function(e) {
var t = this._MapAllUIForms[e];
return null != t && t.node.active;
};
t.prototype.checkUIFormIsLoading = function(e) {
return !!this._LoadingForm[e];
};
t.setcc = function(e) {
null == this.cocos && (this.cocos = e);
};
t.prototype.onLoad = function() {
this._NormalNo = this.node.getChildByName(d.GameSysDefine.SYS_SCREEN_NODE);
this._FixedNo = this.node.getChildByName(d.GameSysDefine.SYS_FIXEDUI_NODE);
this._PopUpNo = this.node.getChildByName(d.GameSysDefine.SYS_POPUP_NODE);
this._TipsNo = this.node.getChildByName(d.GameSysDefine.SYS_TOPTIPS_NODE);
};
t.prototype.start = function() {};
t.prototype.getComponentByUid = function(e) {
return this._MapAllUIForms[e];
};
t.prototype.loadUIForms = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
return r(this, void 0, void 0, function() {
var t, o, i, n;
return s(this, function(a) {
switch (a.label) {
case 0:
t = 0, o = e;
a.label = 1;

case 1:
if (!(t < o.length)) return [ 3, 4 ];
i = o[t];
return [ 4, this.loadFormsToAllUIFormsCatch(i.prefabPath) ];

case 2:
(n = a.sent()) || console.warn(n + "");
a.label = 3;

case 3:
t++;
return [ 3, 1 ];

case 4:
return [ 2 ];
}
});
});
};
t.prototype.openUIForm = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return r(this, void 0, void 0, function() {
var o;
return s(this, function(i) {
switch (i.label) {
case 0:
if ("" === e || null == e) return [ 2 ];
if (this.checkUIFormIsShowing(e) || this.checkUIFormIsLoading(e)) {
cc.warn(e + ",!");
return [ 2, null ];
}
this.currShowDialogAccout++;
return t && t[0] && t[0].abName ? [ 4, this.loadFormsToAllUIFormsCatch(e, null, t[0].abName) ] : [ 3, 2 ];

case 1:
o = i.sent();
return [ 3, 4 ];

case 2:
return [ 4, this.loadFormsToAllUIFormsCatch(e) ];

case 3:
o = i.sent();
i.label = 4;

case 4:
if (null == o) {
cc.warn(e + "!");
this.currShowDialogAccout--;
return [ 2, null ];
}
o.uid = e;
switch (o.formType) {
case d.FormType.Screen:
return [ 3, 5 ];

case d.FormType.FixedUI:
return [ 3, 7 ];

case d.FormType.PopUp:
return [ 3, 9 ];

case d.FormType.TopTips:
return [ 3, 11 ];
}
return [ 3, 13 ];

case 5:
return [ 4, this.enterUIFormsAndHideOther.apply(this, c([ e ], t)) ];

case 6:
i.sent();
return [ 3, 13 ];

case 7:
return [ 4, this.loadUIToCurrentCache.apply(this, c([ e ], t)) ];

case 8:
i.sent();
return [ 3, 13 ];

case 9:
return [ 4, this.pushUIFormToStack.apply(this, c([ e ], t)) ];

case 10:
i.sent();
return [ 3, 13 ];

case 11:
return [ 4, this.loadUIFormsToIndependent.apply(this, c([ e ], t)) ];

case 12:
i.sent();
return [ 3, 13 ];

case 13:
return [ 2, o ];
}
});
});
};
t.prototype.isUIFormShow = function(e) {
return !(!this.checkUIFormIsShowing(e) && !this.checkUIFormIsLoading(e));
};
t.prototype.openUIFormFromParent = function(e, t) {
for (var o = [], i = 2; i < arguments.length; i++) o[i - 2] = arguments[i];
return r(this, void 0, void 0, function() {
var i;
return s(this, function(n) {
switch (n.label) {
case 0:
if ("" === e || null == e) return [ 2 ];
if (this.checkUIFormIsShowing(e) || this.checkUIFormIsLoading(e)) {
cc.warn(e + ",!");
return [ 2, null ];
}
this.currShowDialogAccout++;
return [ 4, this.loadFormsToAllUIFormsCatch(e, t) ];

case 1:
if (null == (i = n.sent())) {
cc.warn(e + "!");
this.currShowDialogAccout--;
return [ 2, null ];
}
i.uid = e;
switch (i.formType) {
case d.FormType.Screen:
return [ 3, 2 ];

case d.FormType.FixedUI:
return [ 3, 4 ];

case d.FormType.PopUp:
return [ 3, 6 ];

case d.FormType.TopTips:
return [ 3, 8 ];
}
return [ 3, 10 ];

case 2:
return [ 4, this.enterUIFormsAndHideOther.apply(this, c([ e ], o)) ];

case 3:
n.sent();
return [ 3, 10 ];

case 4:
return [ 4, this.loadUIToCurrentCache.apply(this, c([ e ], o)) ];

case 5:
n.sent();
return [ 3, 10 ];

case 6:
return [ 4, this.pushUIFormToStack.apply(this, c([ e ], o)) ];

case 7:
n.sent();
return [ 3, 10 ];

case 8:
return [ 4, this.loadUIFormsToIndependent.apply(this, c([ e ], o)) ];

case 9:
n.sent();
return [ 3, 10 ];

case 10:
return [ 2, i ];
}
});
});
};
t.prototype.closeUIForm = function(e) {
return r(this, void 0, void 0, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
if ("" == e || null == e) return [ 2 ];
if (null == (t = this._MapAllUIForms[e])) return [ 2, !0 ];
this.currShowDialogAccout--;
switch (t.formType) {
case d.FormType.Screen:
return [ 3, 1 ];

case d.FormType.FixedUI:
return [ 3, 3 ];

case d.FormType.PopUp:
return [ 3, 5 ];

case d.FormType.TopTips:
return [ 3, 7 ];
}
return [ 3, 9 ];

case 1:
return [ 4, this.exitUIFormsAndDisplayOther(e) ];

case 2:
o.sent();
return [ 3, 9 ];

case 3:
return [ 4, this.exitUIForms(e) ];

case 4:
o.sent();
return [ 3, 9 ];

case 5:
return [ 4, this.popUIForm() ];

case 6:
o.sent();
return [ 3, 9 ];

case 7:
return [ 4, this.exitIndependentForms(e) ];

case 8:
o.sent();
return [ 3, 9 ];

case 9:
t.canDestory && this.destoryForm(t, e);
return [ 2, !0 ];
}
});
});
};
t.prototype.loadFormsToAllUIFormsCatch = function(e, t, o) {
return r(this, void 0, void 0, function() {
var i;
return s(this, function(n) {
switch (n.label) {
case 0:
if (null != (i = this._MapAllUIForms[e]) || this._LoadingForm[e]) return [ 3, 2 ];
this._LoadingForm[e] = !0;
return [ 4, this.loadUIForm(e, t, o) ];

case 1:
i = n.sent();
this._LoadingForm[e] = !1;
delete this._LoadingForm[e];
n.label = 2;

case 2:
return [ 2, i ];
}
});
});
};
t.prototype.loadUIForm = function(e, t, i) {
return r(this, void 0, void 0, function() {
var n, a, r, c;
return s(this, function(s) {
switch (s.label) {
case 0:
return "" == e || null == e ? [ 2 ] : i ? [ 4, h.default.inst.loadAbForm(e, i) ] : [ 3, 2 ];

case 1:
n = s.sent();
return [ 3, 4 ];

case 2:
return [ 4, h.default.inst.loadForm(e) ];

case 3:
n = s.sent();
s.label = 4;

case 4:
if (!n) {
cc.warn(e + " , ");
return [ 2 ];
}
a = cc.instantiate(n);
if (null == (r = a.getComponent(l.default))) {
cc.warn(e + " UIBaseComponent");
return [ 2 ];
}
a.active = !1;
c = null;
if (t) c = t; else switch (r.formType) {
case d.FormType.Screen:
c = o.inst()._NormalNo;
break;

case d.FormType.FixedUI:
c = o.inst()._FixedNo;
break;

case d.FormType.PopUp:
c = o.inst()._PopUpNo;
break;

case d.FormType.TopTips:
c = o.inst()._TipsNo;
}
c.addChild(a);
this._MapAllUIForms[e] = r;
return [ 2, r ];
}
});
});
};
t.prototype.clearStackArray = function() {
return r(this, void 0, void 0, function() {
var e, t;
return s(this, function(o) {
switch (o.label) {
case 0:
if (null == this._StaCurrentUIForms || this._StaCurrentUIForms.length <= 0) return [ 2 ];
e = 0, t = this._StaCurrentUIForms;
o.label = 1;

case 1:
return e < t.length ? [ 4, t[e].closeUIForm() ] : [ 3, 4 ];

case 2:
o.sent();
o.label = 3;

case 3:
e++;
return [ 3, 1 ];

case 4:
this._StaCurrentUIForms = [];
this.currShowDialogAccout;
return [ 2 ];
}
});
});
};
t.prototype.closeTopStackUIForm = function() {
if (null != this._StaCurrentUIForms && this._StaCurrentUIForms.length >= 1) {
var e = this._StaCurrentUIForms[this._StaCurrentUIForms.length - 1];
e.maskType.clickMaskClose && e.closeUIForm();
}
};
t.prototype.loadUIToCurrentCache = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return r(this, void 0, void 0, function() {
var o;
return s(this, function(i) {
switch (i.label) {
case 0:
o = null;
return null != this._MapCurrentShowUIForms[e] ? [ 2 ] : null == (o = this._MapAllUIForms[e]) ? [ 3, 3 ] : [ 4, o._preInit() ];

case 1:
i.sent();
this._MapCurrentShowUIForms[e] = o;
o.onShow.apply(o, t);
return [ 4, this.showForm(o) ];

case 2:
i.sent();
i.label = 3;

case 3:
return [ 2 ];
}
});
});
};
t.prototype.isDialogShow = function() {
console.log("this.currShowDialogAccout == ", this.currShowDialogAccout);
return this.currShowDialogAccout > 0;
};
t.prototype.pushUIFormToStack = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return r(this, void 0, void 0, function() {
var o;
return s(this, function(i) {
switch (i.label) {
case 0:
this._StaCurrentUIForms.length > 0 && this._StaCurrentUIForms[this._StaCurrentUIForms.length - 1];
return null == (o = this._MapAllUIForms[e]) ? [ 2 ] : [ 4, o._preInit() ];

case 1:
i.sent();
this._StaCurrentUIForms.push(o);
o.node.zIndex = this._StaCurrentUIForms.length;
o.onShow.apply(o, t);
this._currWindowId = o.uid;
u.default.inst.checkModalWindow(this._StaCurrentUIForms);
return [ 4, this.showForm(o) ];

case 2:
i.sent();
return [ 2 ];
}
});
});
};
t.prototype.enterUIFormsAndHideOther = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return r(this, void 0, void 0, function() {
var o, i, n, a, c, l = this;
return s(this, function(d) {
switch (d.label) {
case 0:
if (null != this._MapCurrentShowUIForms[e]) return [ 2 ];
o = [];
for (i in this._MapCurrentShowUIForms) o.push(i);
n = 0;
d.label = 1;

case 1:
if (!(n < o.length)) return [ 3, 4 ];
a = o[n];
return [ 4, this._MapCurrentShowUIForms[a].closeUIForm() ];

case 2:
d.sent();
d.label = 3;

case 3:
n++;
return [ 3, 1 ];

case 4:
this._StaCurrentUIForms.forEach(function(e) {
return r(l, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, e.closeUIForm() ];

case 1:
t.sent();
return [ 2 ];
}
});
});
});
if (null == (c = this._MapAllUIForms[e])) return [ 2 ];
p.default.inst.adapatByType(p.AdaptaterType.FullScreen, c.node);
return [ 4, c._preInit() ];

case 5:
d.sent();
this._MapCurrentShowUIForms[e] = c;
c.onShow.apply(c, t);
this._currScreenId = c.uid;
return [ 4, this.showForm(c) ];

case 6:
d.sent();
return [ 2 ];
}
});
});
};
t.prototype.loadUIFormsToIndependent = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return r(this, void 0, void 0, function() {
var o;
return s(this, function(i) {
switch (i.label) {
case 0:
return null == (o = this._MapAllUIForms[e]) ? [ 2 ] : [ 4, o._preInit() ];

case 1:
i.sent();
this._MapIndependentForms[e] = o;
o.onShow.apply(o, t);
return [ 4, this.showForm(o) ];

case 2:
i.sent();
return [ 2 ];
}
});
});
};
t.prototype.exitUIForms = function(e) {
return r(this, void 0, void 0, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
if (null == (t = this._MapAllUIForms[e])) return [ 2 ];
t.onHide();
return [ 4, this.hideForm(t) ];

case 1:
o.sent();
this._MapCurrentShowUIForms[e] = null;
delete this._MapCurrentShowUIForms[e];
return [ 2 ];
}
});
});
};
t.prototype.popUIForm = function() {
return r(this, void 0, void 0, function() {
var e;
return s(this, function(t) {
switch (t.label) {
case 0:
if (!(this._StaCurrentUIForms.length >= 1)) return [ 3, 2 ];
(e = this._StaCurrentUIForms.pop()).onHide();
u.default.inst.checkModalWindow(this._StaCurrentUIForms);
console.log("modal length = ", this._StaCurrentUIForms.length);
0 == this._StaCurrentUIForms.length && u.default.inst.hideUiModal();
return [ 4, this.hideForm(e) ];

case 1:
t.sent();
this._currWindowId = this._StaCurrentUIForms.length > 0 ? this._StaCurrentUIForms[this._StaCurrentUIForms.length - 1].uid : "";
t.label = 2;

case 2:
return [ 2 ];
}
});
});
};
t.prototype.exitUIFormsAndDisplayOther = function(e) {
return r(this, void 0, void 0, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
if ("" == e || null == e) return [ 2 ];
if (null == (t = this._MapCurrentShowUIForms[e])) return [ 2 ];
t.onHide();
return [ 4, this.hideForm(t) ];

case 1:
o.sent();
this._MapCurrentShowUIForms[e] = null;
delete this._MapCurrentShowUIForms[e];
return [ 2 ];
}
});
});
};
t.prototype.exitIndependentForms = function(e) {
return r(this, void 0, void 0, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
if (null == (t = this._MapAllUIForms[e])) return [ 2 ];
t.onHide();
return [ 4, this.hideForm(t) ];

case 1:
o.sent();
this._MapIndependentForms[e] = null;
delete this._MapIndependentForms[e];
return [ 2 ];
}
});
});
};
t.prototype.showForm = function(e) {
return r(this, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
e.node.active = !0;
return [ 4, e.showAnimation() ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
t.prototype.hideForm = function(e) {
return r(this, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, e.hideAnimation() ];

case 1:
t.sent();
e.node.active = !1;
return [ 2 ];
}
});
});
};
t.prototype.destoryForm = function(e, t) {
h.default.inst.destoryForm(e);
this._MapAllUIForms[t] = null;
delete this._MapAllUIForms[t];
};
var o;
t.instance = null;
t.cocos = null;
return o = a([ g ], t);
}(cc.Component));
o.default = y;
cc._RF.pop();
}, {
"../MyComponent/SceneBase": "SceneBase",
"./AdapterHpMgr": "AdapterHpMgr",
"./GameSysDefine": "GameSysDefine",
"./ModalGameMgr": "ModalGameMgr",
"./ResLoadMgr": "ResLoadMgr",
"./UIGameBase": "UIGameBase"
} ],
UIManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "18e62U/Jt9J/IHYn8qJnnr/", "UIManager");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
}, c = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var i = Array(e), n = 0;
for (t = 0; t < o; t++) for (var a = arguments[t], r = 0, s = a.length; r < s; r++, 
n++) i[n] = a[r];
return i;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var l = e("./UIBase"), d = e("./config/SysDefine"), h = e("./ResMgrs"), u = e("./ModalMgr"), p = e("./AdapterMgr"), f = e("../Scene/Scene"), m = cc._decorator, g = m.ccclass, y = (m.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._NoNormal = null;
t._NoFixed = null;
t._NoPopUp = null;
t._NoTips = null;
t._StaCurrentUIForms = [];
t._MapAllUIForms = cc.js.createMap();
t._MapCurrentShowUIForms = cc.js.createMap();
t._MapIndependentForms = cc.js.createMap();
t._LoadingForm = cc.js.createMap();
t._currWindowId = "";
t.currShowDialogAccout = 0;
t._currScreenId = "";
return t;
}
o = t;
Object.defineProperty(t.prototype, "currWindowId", {
get: function() {
return this._currWindowId;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "currScreenId", {
get: function() {
return this._currScreenId;
},
enumerable: !1,
configurable: !0
});
t.getInstance = function() {
var e = this;
if (null == this.instance) {
var t = this.cocos.director.getScene().getChildByName("Canvas"), o = t.getChildByName(d.SysDefine.SYS_SCENE_NODE);
if (!o) {
(o = new this.cocos.Node(d.SysDefine.SYS_SCENE_NODE)).addComponent(f.default);
o.parent = t;
o.zIndex = 399;
}
var i = new this.cocos.Node(d.SysDefine.SYS_UIROOT_NODE);
o.addChild(i);
i.addChild(new this.cocos.Node(d.SysDefine.SYS_SCREEN_NODE));
i.addChild(new this.cocos.Node(d.SysDefine.SYS_FIXEDUI_NODE));
i.addChild(new this.cocos.Node(d.SysDefine.SYS_POPUP_NODE));
i.addChild(new this.cocos.Node(d.SysDefine.SYS_TOPTIPS_NODE));
var n = this.cocos.find(d.SysDefine.SYS_UIROOT_NAME);
this.instance = n.addComponent(this);
this.cocos.director.once(this.cocos.Director.EVENT_AFTER_SCENE_LAUNCH, function() {
e.instance = null;
});
}
return this.instance;
};
t.setcc = function(e) {
null == this.cocos && (this.cocos = e);
};
t.prototype.onLoad = function() {
this._NoNormal = this.node.getChildByName(d.SysDefine.SYS_SCREEN_NODE);
this._NoFixed = this.node.getChildByName(d.SysDefine.SYS_FIXEDUI_NODE);
this._NoPopUp = this.node.getChildByName(d.SysDefine.SYS_POPUP_NODE);
this._NoTips = this.node.getChildByName(d.SysDefine.SYS_TOPTIPS_NODE);
};
t.prototype.start = function() {};
t.prototype.getComponentByUid = function(e) {
return this._MapAllUIForms[e];
};
t.prototype.loadUIForms = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
return r(this, void 0, void 0, function() {
var t, o, i, n;
return s(this, function(a) {
switch (a.label) {
case 0:
t = 0, o = e;
a.label = 1;

case 1:
if (!(t < o.length)) return [ 3, 4 ];
i = o[t];
return [ 4, this.loadFormsToAllUIFormsCatch(i.prefabPath) ];

case 2:
(n = a.sent()) || console.warn(n + "");
a.label = 3;

case 3:
t++;
return [ 3, 1 ];

case 4:
return [ 2 ];
}
});
});
};
t.prototype.openUIForm = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return r(this, void 0, void 0, function() {
var o;
return s(this, function(i) {
switch (i.label) {
case 0:
if ("" === e || null == e) return [ 2 ];
if (this.checkUIFormIsShowing(e) || this.checkUIFormIsLoading(e)) {
cc.warn(e + ",!");
return [ 2, null ];
}
this.currShowDialogAccout++;
return t && t[0] && t[0].abName ? [ 4, this.loadFormsToAllUIFormsCatch(e, null, t[0].abName) ] : [ 3, 2 ];

case 1:
o = i.sent();
return [ 3, 4 ];

case 2:
return [ 4, this.loadFormsToAllUIFormsCatch(e) ];

case 3:
o = i.sent();
i.label = 4;

case 4:
if (null == o) {
cc.warn(e + "!");
this.currShowDialogAccout--;
return [ 2, null ];
}
o.uid = e;
switch (o.formType) {
case d.FormType.Screen:
return [ 3, 5 ];

case d.FormType.FixedUI:
return [ 3, 7 ];

case d.FormType.PopUp:
return [ 3, 9 ];

case d.FormType.TopTips:
return [ 3, 11 ];
}
return [ 3, 13 ];

case 5:
return [ 4, this.enterUIFormsAndHideOther.apply(this, c([ e ], t)) ];

case 6:
i.sent();
return [ 3, 13 ];

case 7:
return [ 4, this.loadUIToCurrentCache.apply(this, c([ e ], t)) ];

case 8:
i.sent();
return [ 3, 13 ];

case 9:
return [ 4, this.pushUIFormToStack.apply(this, c([ e ], t)) ];

case 10:
i.sent();
return [ 3, 13 ];

case 11:
return [ 4, this.loadUIFormsToIndependent.apply(this, c([ e ], t)) ];

case 12:
i.sent();
return [ 3, 13 ];

case 13:
return [ 2, o ];
}
});
});
};
t.prototype.isUIFormShow = function(e) {
return !(!this.checkUIFormIsShowing(e) && !this.checkUIFormIsLoading(e));
};
t.prototype.openUIFormFromParent = function(e, t) {
for (var o = [], i = 2; i < arguments.length; i++) o[i - 2] = arguments[i];
return r(this, void 0, void 0, function() {
var i;
return s(this, function(n) {
switch (n.label) {
case 0:
if ("" === e || null == e) return [ 2 ];
if (this.checkUIFormIsShowing(e) || this.checkUIFormIsLoading(e)) {
cc.warn(e + ",!");
return [ 2, null ];
}
this.currShowDialogAccout++;
return [ 4, this.loadFormsToAllUIFormsCatch(e, t) ];

case 1:
if (null == (i = n.sent())) {
cc.warn(e + "!");
this.currShowDialogAccout--;
return [ 2, null ];
}
i.uid = e;
switch (i.formType) {
case d.FormType.Screen:
return [ 3, 2 ];

case d.FormType.FixedUI:
return [ 3, 4 ];

case d.FormType.PopUp:
return [ 3, 6 ];

case d.FormType.TopTips:
return [ 3, 8 ];
}
return [ 3, 10 ];

case 2:
return [ 4, this.enterUIFormsAndHideOther.apply(this, c([ e ], o)) ];

case 3:
n.sent();
return [ 3, 10 ];

case 4:
return [ 4, this.loadUIToCurrentCache.apply(this, c([ e ], o)) ];

case 5:
n.sent();
return [ 3, 10 ];

case 6:
return [ 4, this.pushUIFormToStack.apply(this, c([ e ], o)) ];

case 7:
n.sent();
return [ 3, 10 ];

case 8:
return [ 4, this.loadUIFormsToIndependent.apply(this, c([ e ], o)) ];

case 9:
n.sent();
return [ 3, 10 ];

case 10:
return [ 2, i ];
}
});
});
};
t.prototype.closeUIForm = function(e) {
return r(this, void 0, void 0, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
if ("" == e || null == e) return [ 2 ];
if (null == (t = this._MapAllUIForms[e])) return [ 2, !0 ];
this.currShowDialogAccout--;
switch (t.formType) {
case d.FormType.Screen:
return [ 3, 1 ];

case d.FormType.FixedUI:
return [ 3, 3 ];

case d.FormType.PopUp:
return [ 3, 5 ];

case d.FormType.TopTips:
return [ 3, 7 ];
}
return [ 3, 9 ];

case 1:
return [ 4, this.exitUIFormsAndDisplayOther(e) ];

case 2:
o.sent();
return [ 3, 9 ];

case 3:
return [ 4, this.exitUIForms(e) ];

case 4:
o.sent();
return [ 3, 9 ];

case 5:
return [ 4, this.popUIForm() ];

case 6:
o.sent();
return [ 3, 9 ];

case 7:
return [ 4, this.exitIndependentForms(e) ];

case 8:
o.sent();
return [ 3, 9 ];

case 9:
t.canDestory && this.destoryForm(t, e);
return [ 2, !0 ];
}
});
});
};
t.prototype.loadFormsToAllUIFormsCatch = function(e, t, o) {
return r(this, void 0, void 0, function() {
var i;
return s(this, function(n) {
switch (n.label) {
case 0:
if (null != (i = this._MapAllUIForms[e]) || this._LoadingForm[e]) return [ 3, 2 ];
this._LoadingForm[e] = !0;
return [ 4, this.loadUIForm(e, t, o) ];

case 1:
i = n.sent();
this._LoadingForm[e] = !1;
delete this._LoadingForm[e];
n.label = 2;

case 2:
return [ 2, i ];
}
});
});
};
t.prototype.loadUIForm = function(e, t, i) {
return r(this, void 0, void 0, function() {
var n, a, r, c;
return s(this, function(s) {
switch (s.label) {
case 0:
return "" == e || null == e ? [ 2 ] : i ? [ 4, h.default.inst.loadAbForm(e, i) ] : [ 3, 2 ];

case 1:
n = s.sent();
return [ 3, 4 ];

case 2:
return [ 4, h.default.inst.loadForm(e) ];

case 3:
n = s.sent();
s.label = 4;

case 4:
if (!n) {
cc.warn(e + " , ");
return [ 2 ];
}
a = cc.instantiate(n);
if (null == (r = a.getComponent(l.default))) {
cc.warn(e + " UIBaseComponent");
return [ 2 ];
}
a.active = !1;
c = null;
if (t) c = t; else switch (r.formType) {
case d.FormType.Screen:
c = o.getInstance()._NoNormal;
break;

case d.FormType.FixedUI:
c = o.getInstance()._NoFixed;
break;

case d.FormType.PopUp:
c = o.getInstance()._NoPopUp;
break;

case d.FormType.TopTips:
c = o.getInstance()._NoTips;
}
c.addChild(a);
this._MapAllUIForms[e] = r;
return [ 2, r ];
}
});
});
};
t.prototype.clearStackArray = function() {
return r(this, void 0, void 0, function() {
var e, t;
return s(this, function(o) {
switch (o.label) {
case 0:
if (null == this._StaCurrentUIForms || this._StaCurrentUIForms.length <= 0) return [ 2 ];
e = 0, t = this._StaCurrentUIForms;
o.label = 1;

case 1:
return e < t.length ? [ 4, t[e].closeUIForm() ] : [ 3, 4 ];

case 2:
o.sent();
o.label = 3;

case 3:
e++;
return [ 3, 1 ];

case 4:
this._StaCurrentUIForms = [];
this.currShowDialogAccout;
return [ 2 ];
}
});
});
};
t.prototype.closeTopStackUIForm = function() {
if (null != this._StaCurrentUIForms && this._StaCurrentUIForms.length >= 1) {
var e = this._StaCurrentUIForms[this._StaCurrentUIForms.length - 1];
e.maskType.clickMaskClose && e.closeUIForm();
}
};
t.prototype.loadUIToCurrentCache = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return r(this, void 0, void 0, function() {
var o;
return s(this, function(i) {
switch (i.label) {
case 0:
o = null;
return null != this._MapCurrentShowUIForms[e] ? [ 2 ] : null == (o = this._MapAllUIForms[e]) ? [ 3, 3 ] : [ 4, o._preInit() ];

case 1:
i.sent();
this._MapCurrentShowUIForms[e] = o;
o.onShow.apply(o, t);
return [ 4, this.showForm(o) ];

case 2:
i.sent();
i.label = 3;

case 3:
return [ 2 ];
}
});
});
};
t.prototype.isDialogShow = function() {
console.log("this.currShowDialogAccout == ", this.currShowDialogAccout);
return this.currShowDialogAccout > 0;
};
t.prototype.pushUIFormToStack = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return r(this, void 0, void 0, function() {
var o;
return s(this, function(i) {
switch (i.label) {
case 0:
this._StaCurrentUIForms.length > 0 && this._StaCurrentUIForms[this._StaCurrentUIForms.length - 1];
return null == (o = this._MapAllUIForms[e]) ? [ 2 ] : [ 4, o._preInit() ];

case 1:
i.sent();
this._StaCurrentUIForms.push(o);
o.node.zIndex = this._StaCurrentUIForms.length;
o.onShow.apply(o, t);
this._currWindowId = o.uid;
u.default.inst.checkModalWindow(this._StaCurrentUIForms);
return [ 4, this.showForm(o) ];

case 2:
i.sent();
return [ 2 ];
}
});
});
};
t.prototype.enterUIFormsAndHideOther = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return r(this, void 0, void 0, function() {
var o, i, n, a, c, l = this;
return s(this, function(d) {
switch (d.label) {
case 0:
if (null != this._MapCurrentShowUIForms[e]) return [ 2 ];
o = [];
for (i in this._MapCurrentShowUIForms) o.push(i);
n = 0;
d.label = 1;

case 1:
if (!(n < o.length)) return [ 3, 4 ];
a = o[n];
return [ 4, this._MapCurrentShowUIForms[a].closeUIForm() ];

case 2:
d.sent();
d.label = 3;

case 3:
n++;
return [ 3, 1 ];

case 4:
this._StaCurrentUIForms.forEach(function(e) {
return r(l, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, e.closeUIForm() ];

case 1:
t.sent();
return [ 2 ];
}
});
});
});
if (null == (c = this._MapAllUIForms[e])) return [ 2 ];
p.default.inst.adapatByType(p.AdaptaterType.FullScreen, c.node);
return [ 4, c._preInit() ];

case 5:
d.sent();
this._MapCurrentShowUIForms[e] = c;
c.onShow.apply(c, t);
this._currScreenId = c.uid;
return [ 4, this.showForm(c) ];

case 6:
d.sent();
return [ 2 ];
}
});
});
};
t.prototype.loadUIFormsToIndependent = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return r(this, void 0, void 0, function() {
var o;
return s(this, function(i) {
switch (i.label) {
case 0:
return null == (o = this._MapAllUIForms[e]) ? [ 2 ] : [ 4, o._preInit() ];

case 1:
i.sent();
this._MapIndependentForms[e] = o;
o.onShow.apply(o, t);
return [ 4, this.showForm(o) ];

case 2:
i.sent();
return [ 2 ];
}
});
});
};
t.prototype.exitUIForms = function(e) {
return r(this, void 0, void 0, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
if (null == (t = this._MapAllUIForms[e])) return [ 2 ];
t.onHide();
return [ 4, this.hideForm(t) ];

case 1:
o.sent();
this._MapCurrentShowUIForms[e] = null;
delete this._MapCurrentShowUIForms[e];
return [ 2 ];
}
});
});
};
t.prototype.popUIForm = function() {
return r(this, void 0, void 0, function() {
var e;
return s(this, function(t) {
switch (t.label) {
case 0:
if (!(this._StaCurrentUIForms.length >= 1)) return [ 3, 2 ];
(e = this._StaCurrentUIForms.pop()).onHide();
u.default.inst.checkModalWindow(this._StaCurrentUIForms);
1 == this._StaCurrentUIForms.length && u.default.inst.hideUiModal();
return [ 4, this.hideForm(e) ];

case 1:
t.sent();
this._currWindowId = this._StaCurrentUIForms.length > 0 ? this._StaCurrentUIForms[this._StaCurrentUIForms.length - 1].uid : "";
t.label = 2;

case 2:
return [ 2 ];
}
});
});
};
t.prototype.exitUIFormsAndDisplayOther = function(e) {
return r(this, void 0, void 0, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
if ("" == e || null == e) return [ 2 ];
if (null == (t = this._MapCurrentShowUIForms[e])) return [ 2 ];
t.onHide();
return [ 4, this.hideForm(t) ];

case 1:
o.sent();
this._MapCurrentShowUIForms[e] = null;
delete this._MapCurrentShowUIForms[e];
return [ 2 ];
}
});
});
};
t.prototype.exitIndependentForms = function(e) {
return r(this, void 0, void 0, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
if (null == (t = this._MapAllUIForms[e])) return [ 2 ];
t.onHide();
return [ 4, this.hideForm(t) ];

case 1:
o.sent();
this._MapIndependentForms[e] = null;
delete this._MapIndependentForms[e];
return [ 2 ];
}
});
});
};
t.prototype.showForm = function(e) {
return r(this, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
e.node.active = !0;
return [ 4, e.showAnimation() ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
t.prototype.hideForm = function(e) {
return r(this, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, e.hideAnimation() ];

case 1:
t.sent();
e.node.active = !1;
return [ 2 ];
}
});
});
};
t.prototype.destoryForm = function(e, t) {
h.default.inst.destoryForm(e);
this._MapAllUIForms[t] = null;
delete this._MapAllUIForms[t];
};
t.prototype.checkUIFormIsShowing = function(e) {
var t = this._MapAllUIForms[e];
return null != t && t.node.active;
};
t.prototype.checkUIFormIsLoading = function(e) {
return !!this._LoadingForm[e];
};
var o;
t.instance = null;
t.cocos = null;
return o = a([ g ], t);
}(cc.Component));
o.default = y;
cc._RF.pop();
}, {
"../Scene/Scene": "Scene",
"./AdapterMgr": "AdapterMgr",
"./ModalMgr": "ModalMgr",
"./ResMgrs": "ResMgrs",
"./UIBase": "UIBase",
"./config/SysDefine": "SysDefine"
} ],
UIModalScript: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5c294s/boBKvoeMWkdCba46", "UIModalScript");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
}, r = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("./UIManager"), l = e("./config/SysDefine"), d = e("./CocosHelper"), h = e("../Util/SpritePreLoader"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._texture = null;
return t;
}
t.prototype.init = function() {
var e = cc.view.getVisibleSize();
this.node.height = 3 * e.height;
this.node.width = 1.5 * e.width;
var t = this.node.addComponent(cc.Sprite);
t.sizeMode = cc.Sprite.SizeMode.CUSTOM;
t.spriteFrame = h.SPCache.dialogModal;
console.log("init opacity");
this.node.opacity = 0;
this.node.active = !0;
};
t.prototype.showModal = function(e, t, o) {
void 0 === t && (t = .6);
void 0 === o && (o = !0);
return r(this, void 0, void 0, function() {
var i;
return s(this, function(n) {
switch (n.label) {
case 0:
i = 0;
switch (e) {
case l.ModalOpacity.None:
this.node.active = !1;
break;

case l.ModalOpacity.OpacityZero:
i = 0;
break;

case l.ModalOpacity.OpacityLow:
i = 63;
break;

case l.ModalOpacity.OpacityHalf:
i = 126;
break;

case l.ModalOpacity.OpacityHigh:
i = 189;
break;

case l.ModalOpacity.OpacityFull:
i = 255;
}
return this.node.active ? o ? [ 4, d.default.runTweenSync(this.node, cc.tween().to(t, {
opacity: i
})) ] : [ 3, 2 ] : [ 2 ];

case 1:
n.sent();
return [ 3, 3 ];

case 2:
this.node.opacity = i;
n.label = 3;

case 3:
return [ 2 ];
}
});
});
};
t.prototype.clickMaskWindow = function() {
return r(this, void 0, void 0, function() {
var e;
return s(this, function(t) {
switch (t.label) {
case 0:
return (e = c.default.getInstance().getComponentByUid(this.uid)) && e.maskType.clickMaskClose ? [ 4, c.default.getInstance().closeUIForm(this.uid) ] : [ 3, 2 ];

case 1:
t.sent();
t.label = 2;

case 2:
return [ 2 ];
}
});
});
};
return a([ p ], t);
}(cc.Component));
o.default = f;
cc._RF.pop();
}, {
"../Util/SpritePreLoader": "SpritePreLoader",
"./CocosHelper": "CocosHelper",
"./UIManager": "UIManager",
"./config/SysDefine": "SysDefine"
} ],
ViewExecutorBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e4b6d/JsV9NBbjMa9y9N/2e", "ViewExecutorBase");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = cc._decorator, a = n.ccclass, r = (n.property, function() {
function e() {}
e.prototype.setProxy = function(e) {
this.node = e;
this.initSelf();
};
e.prototype.initSelf = function() {};
return i([ a ], e);
}());
o.default = r;
cc._RF.pop();
}, {} ],
WebDialog: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c2ea89lg1xNNpinBQXTqWW7", "WebDialog");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Components/DialogBase"), s = e("../Conf/Const"), c = e("../Conf/ScreenAdapter"), l = e("../Data/GameData"), d = e("../Interface/PhoneInfo"), h = e("../Util/GameUtil"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.orientation = h.SCREEN_ORIENTATION.ORIENTATION_PORTRAIT;
t.title = null;
t.currWebviewHeight = 0;
t.mKeyboardHeight = 0;
t.invisibleKeyboardHeight = 0;
t.isInitKeyboard = !1;
t.isClose = !1;
return t;
}
t.prototype.onLoad = function() {
var e = this.node.getChildByName("bg"), t = e.getChildByName("bg_top");
this.title = t.getChildByName("title");
t.getChildByName("btn_back").on("click", this.onClose, this);
this._webView = e.getChildByName("webview").getComponent(cc.WebView);
this.regesterWebViewCallBack();
this.currWebviewHeight = this._webView.node.height;
if (c.default.getInstance().screenType == s.screenTypeEnum.isIpad) this.orientation = h.SCREEN_ORIENTATION.ORIENTATION_LANDSCAPE; else if (c.default.getInstance().screenType == s.screenTypeEnum.isIphone6Szie) {
this._webView.node.y = 896;
this._webView.node.height = 1984;
t.y = 1150;
this.currWebviewHeight = 1984;
}
};
t.prototype.onClose = function() {
var t = this;
this.isClose = !0;
this.scheduleOnce(function() {
e.prototype.onClose.call(t);
});
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.isClose = !1;
this.needAnimation = !1;
this.needModal = !1;
this.register("WebPayDialog", [ "ON_GET_KEYBOARD_HEIGHT", "ON_GET_KEYBOARD_INVISIBLE_HEIGHT" ]);
this.title.getComponent(cc.Label).string = this._data.title;
this._webView.url = this._data.url;
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_GET_KEYBOARD_HEIGHT":
console.log("invisibleKeyboardHeight = ", this.invisibleKeyboardHeight);
console.log("KeyboardHeightdata = ", t);
var o = t - this.invisibleKeyboardHeight;
console.log("KeyboardHeight1 = ", o);
if (0 == t) {
o = cc.view.getFrameSize().height / 2;
console.log("KeyboardHeight2 = ", o);
} else if (this.mKeyboardHeight < o) {
this.mKeyboardHeight = o;
o = this.mKeyboardHeight;
console.log("KeyboardHeight3 = ", o);
}
console.log("KeyboardHeight4 = ", o);
var i = this.getKeyboardOffset(o);
this._webView.node.height = this.currWebviewHeight - i;
break;

case "ON_GET_KEYBOARD_INVISIBLE_HEIGHT":
if (0 == this.isInitKeyboard) {
this.isInitKeyboard = !0;
this.invisibleKeyboardHeight = t;
}
}
};
t.prototype.getKeyboardOffset = function(e) {
var t = cc.view.getFrameSize(), o = cc.Canvas.instance.designResolution;
console.log("frameSize height", t.height);
console.log("frameSize width", t.width);
console.log("frameSize keyboard height", e);
console.log("frameSize resolusion height", o.height);
console.log("frameSize resolusion width", o.width);
var i = t.height / 2 - t.width * o.height / o.width / 2, n = o.height / (t.height - 2 * i);
console.log("frameSize bottomOffset", i);
i < 0 && (i = 0);
console.log("frameSize bottomOffset1", i);
var a = (e - i) * n;
console.log("frameSize keyboardOffset", i);
return a;
};
t.prototype.regesterWebViewCallBack = function() {
var e = this;
this._webView.setJavascriptInterfaceScheme("happyinworld");
this._webView.setOnJSCallback(function(t, o) {
console.log("js func callback", t, o);
var i = o.replace("happyinworld://", ""), n = i.split("&"), a = {};
for (var r in n) {
var s = n[r].split("=");
"params" == s[0] ? a[s[0]] = JSON.parse(s[1]) : a[s[0]] = s[1];
}
if ("showLoading" == a.fun) e.showLoading(null, null, !0); else if ("hideLoading" == a.fun) e.hideLoading(); else if ("showAlert" == a.fun) h.default.alert(a.params.msg); else if ("startInput" == a.fun) {
console.log("startInput");
d.default.inst.getCurrKeyboardHeight();
e.scheduleOnce(function() {
d.default.inst.getKeyBoardHeight();
}, .5);
} else if ("endInput" == a.fun) {
console.log("endInput");
e._webView.node.height = e.currWebviewHeight;
} else "openBrowser" == a.fun ? cc.sys.openURL(a.params.url) : "chatWithWhatsApp" == a.fun && d.default.inst.chatWithWhatsApp(l.default.UserData.userId, a.params.phone);
console.log("", t, i, a);
});
};
return a([ p ], t);
}(r.default));
o.default = f;
cc._RF.pop();
}, {
"../Components/DialogBase": "DialogBase",
"../Conf/Const": "Const",
"../Conf/ScreenAdapter": "ScreenAdapter",
"../Data/GameData": "GameData",
"../Interface/PhoneInfo": "PhoneInfo",
"../Util/GameUtil": "GameUtil"
} ],
WebFeedbackDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "90771f0SLtMp5mXcGX7NecP", "WebFeedbackDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../public/MyComponent/WindowBase"), s = e("../../data/conf/GameConfig"), c = e("../../data/conf/GameInfo"), l = e("../../data/MyData"), d = e("../../data/GameLangData"), h = e("../../natives/AndroidInfo"), u = e("../../public/MyComponent/GameHppayUtil"), p = e("../../manager/PlatformInterface"), f = cc._decorator, m = f.ccclass, g = (f.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.orientation = u.SCREEN_ORIENTATION.ORIENTATION_PORTRAIT;
t.title = null;
t.currWebviewHeight = 0;
t.mKeyboardHeight = 0;
t.invisibleKeyboardHeight = 0;
t.isInitKeyboard = !1;
return t;
}
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
var e = this.node.getChildByName("dlgBg"), t = e.getChildByName("top");
this.title = t.getChildByName("title").getComponent(cc.Label);
t.getChildByName("closeBtn").on("click", this.onClose, this);
this._webView = e.getChildByName("webview").getComponent(cc.WebView);
this.regesterWebViewCallBack();
this.currWebviewHeight = this._webView.node.height;
if (cc.sys.os == cc.sys.OS_IOS) {
this.title.node.y = -150;
t.getChildByName("closeBtn").y = -140;
}
};
t.prototype.onClose = function() {
var t = this;
this.scheduleOnce(function() {
e.prototype.onClose.call(t);
});
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.needAnimation = !1;
this.needModal = !1;
this.title.getComponent(cc.Label).string = d.default.ins.GET_NEWHALL_LANG("feedback");
this.register("FeedbackWeb", [ "ON_GET_KEYBOARD_HEIGHT", "ON_GET_KEYBOARD_INVISIBLE_HEIGHT" ]);
this._webView.url = this._getCommon("wechat");
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "ON_GET_KEYBOARD_HEIGHT":
console.log("invisibleKeyboardHeight = ", this.invisibleKeyboardHeight);
console.log("KeyboardHeightdata = ", t);
var o = t - this.invisibleKeyboardHeight;
console.log("KeyboardHeight1 = ", o);
if (0 == t) {
o = cc.view.getFrameSize().height / 2;
console.log("KeyboardHeight2 = ", o);
} else if (this.mKeyboardHeight < o) {
this.mKeyboardHeight = o;
o = this.mKeyboardHeight;
console.log("KeyboardHeight3 = ", o);
}
console.log("KeyboardHeight4 = ", o);
var i = this.getKeyboardOffset(o);
this._webView.node.height = this.currWebviewHeight - i;
break;

case "ON_GET_KEYBOARD_INVISIBLE_HEIGHT":
if (0 == this.isInitKeyboard) {
this.isInitKeyboard = !0;
this.invisibleKeyboardHeight = t;
}
}
};
t.prototype.getKeyboardOffset = function(e) {
var t = cc.view.getFrameSize(), o = cc.Canvas.instance.designResolution;
console.log("frameSize height", t.height);
console.log("frameSize width", t.width);
console.log("frameSize keyboard height", e);
console.log("frameSize resolusion height", o.height);
console.log("frameSize resolusion width", o.width);
var i = t.height / 2 - t.width * o.height / o.width / 2, n = o.height / (t.height - 2 * i);
console.log("frameSize bottomOffset", i);
i < 0 && (i = 0);
console.log("frameSize bottomOffset1", i);
var a = (e - i) * n;
console.log("frameSize keyboardOffset", i);
return a;
};
t.prototype.regesterWebViewCallBack = function() {
var e = this, t = c.default.scheme;
this._webView.setJavascriptInterfaceScheme(t);
this._webView.setOnJSCallback(function(o, i) {
console.log("js func callback", o, i);
var n = i.replace(t + "://", ""), a = n.split("&"), r = {};
for (var s in a) {
var c = a[s].split("=");
"params" == c[0] ? r[c[0]] = JSON.parse(c[1]) : r[c[0]] = c[1];
}
if ("showLoading" == r.fun) e.showLoading(null, null, !0); else if ("hideLoading" == r.fun) e.hideLoading(); else if ("showAlert" == r.fun) u.default.alert(r.params.msg); else if ("startInput" == r.fun) {
console.log("startInput");
h.default.inst.getCurrKeyboardHeight();
e.scheduleOnce(function() {
h.default.inst.getKeyBoardHeight();
}, .5);
} else if ("endInput" == r.fun) {
console.log("endInput");
e._webView.node.height = e.currWebviewHeight;
} else "openBrowser" == r.fun ? p.default.openBrowser(r.params.url) : "chatWithWhatsApp" == r.fun && h.default.inst.chatWithWhatsApp(l.default.UserData.userId, r.params.phone);
console.log("", o, n, r);
});
};
t.prototype._getCommon = function(e) {
var t = {};
t.gameid = c.default.gameid;
t.appid = c.default.appid;
t.ver = c.default.ver;
t.hver = c.default.hver;
t.devId = c.default.devId;
t.locale = c.default.localLanguage;
t.ukey = l.default.UserData.ukey;
t.uid = l.default.UserData.userId;
t.width = cc.winSize.width;
t.height = cc.winSize.height;
t.lan = c.default.sourceLanguage;
var o = "";
for (var i in t) o += i + "=" + t[i] + "&";
o = o.substring(0, o.length - 1);
var n = "" + s.default.webviewUrl + e + "?" + o;
console.log("url = ", n);
return n;
};
return a([ m ], t);
}(r.default));
o.default = g;
cc._RF.pop();
}, {
"../../data/GameLangData": "GameLangData",
"../../data/MyData": "MyData",
"../../data/conf/GameConfig": "GameConfig",
"../../data/conf/GameInfo": "GameInfo",
"../../manager/PlatformInterface": "PlatformInterface",
"../../natives/AndroidInfo": "AndroidInfo",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/WindowBase": "WindowBase"
} ],
WebGameData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "cc7dfJC2jFK2pMzhxtBaBiV", "WebGameData");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../Components/MyEvent"), r = e("../Conf/Config"), s = e("../Conf/Const"), c = e("../Conf/Game"), l = e("../Manager/EventRecorder"), d = e("../Util/GameUtil"), h = e("./GameData"), u = function() {
function e() {
this._partnerUrl = "gameLists147.json?version=";
this._downloadCompleted = !0;
}
e.prototype.initWebGameData = function() {
return i(this, void 0, void 0, function() {
var e, t = this;
return n(this, function() {
"none" != c.default.deeplink && l.default.record(l.EventID.openWithUriScheme);
this._webGameList = {};
this._gamesHotList = {};
e = r.default.resourceUrl + this._partnerUrl + "" + r.default.webGameVer;
console.log("gamelistUrl", e);
cc.assetManager.loadAny({
url: e
}, function(e, o) {
if (null != o) {
t._manufacturer(o);
t._downloadCompleted = !0;
a.MyEvent.getInstance().emit("WEBGAME_JSON_DOWNLOAD_COMPLETED_EVENT");
}
});
d.default.readData(h.default.storageData.webGameRecord) ? this._enterWebGameRecord = d.default.readData(h.default.storageData.webGameRecord) : this._enterWebGameRecord = [];
null == this._enterWebGameRecord && (this._enterWebGameRecord = []);
this._enterWebGameRecord.length > 0 && (this._enterWebGameRecord = JSON.parse(this._enterWebGameRecord));
console.log(this._enterWebGameRecord);
return [ 2 ];
});
});
};
e.prototype._manufacturer = function(e) {
return i(this, void 0, void 0, function() {
var t, o, i, a;
return n(this, function() {
console.log("", e);
this._slotData = [];
this._fishing = [];
this._video = [];
this._football = [];
this._cpball = [];
this._hotData = [];
this._tableData = [];
this._factoryName = {};
for (t in e) if (Object.prototype.hasOwnProperty.call(e, t)) {
o = e[t];
if ("Slot" == t) this._slotData = o; else if ("Fishing" == t) this._fishing = o; else if ("Video" == t) this._video = o; else if ("Football" == t) this._football = o; else if ("CPList" == t) this._cpball = o; else if ("Hot" == t) {
this._hotData = o;
for (i = 0; i < this._hotData.length; i++) (a = this._hotData[i]).alias && (s.sceneType[a.alias] || this._hotData.splice(i, 1));
} else "Table2" == t && (this._tableData = o);
}
return [ 2 ];
});
});
};
e.prototype._classification = function(e) {
this._factoryList = {};
for (var t in e) if (Object.prototype.hasOwnProperty.call(e, t)) for (var o = e[t], i = 0; i < o.length; i++) {
var n = o[i], a = this._factoryName[n.type];
null == this._factoryList[a] && (this._factoryList[a] = {});
null == this._factoryList[a][t] && (this._factoryList[a][t] = []);
this._factoryList[a][t].push(n);
}
};
Object.defineProperty(e.prototype, "webGameList", {
get: function() {
return this._webGameList;
},
enumerable: !1,
configurable: !0
});
e.prototype.toNameGetGameList = function(e, t) {
if (this._factoryList[e]) return this._factoryList[e][t];
console.log("errer, name is null");
return null;
};
e.prototype.toCamecodeGetGameInfo = function(e) {
for (var t in this._factoryList) if (Object.prototype.hasOwnProperty.call(this._factoryList, t)) for (var o = this._factoryList[t], i = 0; i < o.length; i++) {
var n = o[i];
if (n.wid == e.wid) return n;
}
return null;
};
Object.defineProperty(e.prototype, "enterWebGameRecord", {
get: function() {
return this._enterWebGameRecord;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "slotData", {
get: function() {
return this._slotData;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "fishing", {
get: function() {
return this._fishing;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "video", {
get: function() {
return this._video;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "football", {
get: function() {
return this._football;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "cp_list", {
get: function() {
return this._cpball;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "hotData", {
get: function() {
return this._hotData;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "tableData", {
get: function() {
return this._tableData;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "factoryName", {
get: function() {
return this._factoryName;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "downloadCompleted", {
get: function() {
return this._downloadCompleted;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "gamesHotList", {
get: function() {
return this._gamesHotList;
},
enumerable: !1,
configurable: !0
});
e.prototype.pushWebGameInfo = function(e) {
null == this._enterWebGameRecord && (this._enterWebGameRecord = []);
for (var t = this._enterWebGameRecord.length; t > 0; t--) {
var o = this._enterWebGameRecord[t - 1];
e.wid == o.wid && this._enterWebGameRecord.splice(t - 1, 1);
}
this._enterWebGameRecord.unshift(e);
this._enterWebGameRecord.length >= 30 && this._enterWebGameRecord.splice(30, 1);
d.default.saceJsonData(h.default.storageData.webGameRecord, this._enterWebGameRecord);
};
Object.defineProperty(e, "ins", {
get: function() {
this.instance || (this.instance = new e());
return this.instance;
},
enumerable: !1,
configurable: !0
});
return e;
}();
o.default = u;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Conf/Config": "Config",
"../Conf/Const": "Const",
"../Conf/Game": "Game",
"../Manager/EventRecorder": "EventRecorder",
"../Util/GameUtil": "GameUtil",
"./GameData": "GameData"
} ],
WebGameHappyData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5022c5wsIVFdJuWRoINjWku", "WebGameHappyData");
var i = this && this.__awaiter || function(e, t, o, i) {
return new (o || (o = Promise))(function(n, a) {
function r(e) {
try {
c(i.next(e));
} catch (e) {
a(e);
}
}
function s(e) {
try {
c(i.throw(e));
} catch (e) {
a(e);
}
}
function c(e) {
e.done ? n(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(r, s);
var t;
}
c((i = i.apply(e, t || [])).next());
});
}, n = this && this.__generator || function(e, t) {
var o, i, n, a, r = {
label: 0,
sent: function() {
if (1 & n[0]) throw n[1];
return n[1];
},
trys: [],
ops: []
};
return a = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;r; ) try {
if (o = 1, i && (n = 2 & a[0] ? i.return : a[0] ? i.throw || ((n = i.return) && n.call(i), 
0) : i.next) && !(n = n.call(i, a[1])).done) return n;
(i = 0, n) && (a = [ 2 & a[0], n.value ]);
switch (a[0]) {
case 0:
case 1:
n = a;
break;

case 4:
r.label++;
return {
value: a[1],
done: !1
};

case 5:
r.label++;
i = a[1];
a = [ 0 ];
continue;

case 7:
a = r.ops.pop();
r.trys.pop();
continue;

default:
if (!(n = r.trys, n = n.length > 0 && n[n.length - 1]) && (6 === a[0] || 2 === a[0])) {
r = 0;
continue;
}
if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {
r.label = a[1];
break;
}
if (6 === a[0] && r.label < n[1]) {
r.label = n[1];
n = a;
break;
}
if (n && r.label < n[2]) {
r.label = n[2];
r.ops.push(a);
break;
}
n[2] && r.ops.pop();
r.trys.pop();
continue;
}
a = t.call(e, r);
} catch (e) {
a = [ 6, e ];
i = 0;
} finally {
o = n = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../public/MyComponent/GameEvent"), r = e("./conf/GameConfig"), s = e("./conf/GameInfo"), c = e("../manager/ReportGameEvent"), l = e("../public/MyComponent/GameHppayUtil"), d = e("./MyData"), h = function() {
function e() {
this._partnerUrl = "gameLists147.json?version=";
this._downloadCompleted = !0;
}
e.prototype.initWebGameData = function() {
return i(this, void 0, void 0, function() {
var e, t, o, i = this;
return n(this, function() {
"none" != s.default.deeplink && c.default.record(c.ReportEventType.openWithUriScheme);
this._webGameList = {};
this._gamesHotList = {};
e = r.default.resourceUrl + this._partnerUrl + "" + r.default.webGameVer;
console.log("gamelistUrl", e);
cc.assetManager.loadAny({
url: e
}, function(e, t) {
if (null != t) {
console.log("gamelist url data ", t);
i._manufacturer(t);
i._downloadCompleted = !0;
a.GameEvent.ins().emit("WEBGAME_JSON_DOWNLOAD_COMPLETED_EVENT");
}
});
l.default.readData(d.default.storageData.webGameRecord) ? this._enterWebGameRecord = l.default.readData(d.default.storageData.webGameRecord) : this._enterWebGameRecord = [];
null == this._enterWebGameRecord && (this._enterWebGameRecord = []);
this._enterWebGameRecord.length > 0 && (this._enterWebGameRecord = JSON.parse(this._enterWebGameRecord));
t = [];
for (o = 0; o < this._enterWebGameRecord.length; o++) 10001 != this._enterWebGameRecord[o].type && t.push(this._enterWebGameRecord[o]);
this._enterWebGameRecord = t;
console.log(this._enterWebGameRecord);
return [ 2 ];
});
});
};
e.prototype._manufacturer = function(e) {
return i(this, void 0, void 0, function() {
var t, o, i, a;
return n(this, function() {
this._slotData = [];
this._fishing = [];
this._video = [];
this._football = [];
this._cpball = [];
this._hotData = [];
this._tableData = [];
this._factoryName = {};
for (t in e) if (Object.prototype.hasOwnProperty.call(e, t)) {
o = e[t];
if ("Slot" == t) this._slotData = o; else if ("Fishing" == t) this._fishing = o; else if ("Video" == t) this._video = o; else if ("Football" == t) this._football = o; else if ("CPList" == t) this._cpball = o; else if ("Hot" == t) {
this._hotData = o;
i = [];
for (a = 0; a < this._hotData.length; a++) 10001 != this._hotData[a].type && i.push(this._hotData[a]);
this._hotData = i;
} else if ("Table2" == t) {
this._tableData = o;
i = [];
for (a = 0; a < this._tableData.length; a++) 10001 != this._tableData[a].type && i.push(this._tableData[a]);
this._tableData = i;
}
}
return [ 2 ];
});
});
};
e.prototype.getGameList = function(e, t) {
return "Slot" == e ? this.getGameListByType(this._slotData, t) : "Fishing" == e ? this.getGameListByType(this._fishing, t) : "Video" == e ? this.getGameListByType(this._video, t) : "Football" == e ? this.getGameListByType(this._football, t) : "CPList" == e ? this.getGameListByType(this._cpball, t) : "Table2" == e ? this.getGameListByType(this._tableData, t) : void 0;
};
e.prototype.getGameListByType = function(e, t) {
for (var o = 0; o < e.length; o++) {
var i = e[o];
if (i.type == t && 0 == i.wid) return i;
}
return null;
};
e.prototype._classification = function(e) {
this._factoryList = {};
for (var t in e) if (Object.prototype.hasOwnProperty.call(e, t)) for (var o = e[t], i = 0; i < o.length; i++) {
var n = o[i], a = this._factoryName[n.type];
null == this._factoryList[a] && (this._factoryList[a] = {});
null == this._factoryList[a][t] && (this._factoryList[a][t] = []);
this._factoryList[a][t].push(n);
}
};
Object.defineProperty(e.prototype, "webGameList", {
get: function() {
return this._webGameList;
},
enumerable: !1,
configurable: !0
});
e.prototype.toNameGetGameList = function(e, t) {
if (this._factoryList[e]) return this._factoryList[e][t];
console.log("errer, name is null");
return null;
};
e.prototype.toCamecodeGetGameInfo = function(e) {
for (var t in this._factoryList) if (Object.prototype.hasOwnProperty.call(this._factoryList, t)) for (var o = this._factoryList[t], i = 0; i < o.length; i++) {
var n = o[i];
if (n.wid == e.wid) return n;
}
return null;
};
Object.defineProperty(e.prototype, "enterWebGameRecord", {
get: function() {
return this._enterWebGameRecord;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "slotData", {
get: function() {
return this._slotData;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "fishing", {
get: function() {
return this._fishing;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "video", {
get: function() {
return this._video;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "football", {
get: function() {
return this._football;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "cp_list", {
get: function() {
return this._cpball;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "hotData", {
get: function() {
return this._hotData;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "tableData", {
get: function() {
return this._tableData;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "factoryName", {
get: function() {
return this._factoryName;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "downloadCompleted", {
get: function() {
return this._downloadCompleted;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "gamesHotList", {
get: function() {
return this._gamesHotList;
},
enumerable: !1,
configurable: !0
});
e.prototype.pushWebGameInfo = function(e) {
null == this._enterWebGameRecord && (this._enterWebGameRecord = []);
for (var t = this._enterWebGameRecord.length; t > 0; t--) {
var o = this._enterWebGameRecord[t - 1];
e.wid == o.wid && this._enterWebGameRecord.splice(t - 1, 1);
}
this._enterWebGameRecord.unshift(e);
this._enterWebGameRecord.length >= 30 && this._enterWebGameRecord.splice(30, 1);
l.default.saceJsonData(d.default.storageData.webGameRecord, this._enterWebGameRecord);
};
Object.defineProperty(e, "ins", {
get: function() {
this.instance || (this.instance = new e());
return this.instance;
},
enumerable: !1,
configurable: !0
});
return e;
}();
o.default = h;
cc._RF.pop();
}, {
"../manager/ReportGameEvent": "ReportGameEvent",
"../public/MyComponent/GameEvent": "GameEvent",
"../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"./MyData": "MyData",
"./conf/GameConfig": "GameConfig",
"./conf/GameInfo": "GameInfo"
} ],
WebGameRepairData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "30e09JiGtBDKrC5VoSRv4eC", "WebGameRepairData");
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../communication/SocketGameManager"), n = function() {
function e() {
this.repairData = {};
}
e.getInstance = function() {
this.instance || (this.instance = new e());
return this.instance;
};
e.prototype.init = function() {
this.repairData = {};
i.default.getInstance().socketSend.getGameThirdPartyRepairInfo();
};
e.prototype.update = function(e, t) {
for (var o = 0; o < e.length; o++) {
var i = e[o];
this.repairData[i] = t;
}
};
e.prototype.isInRepair = function(e) {
return !(!this.repairData[e] || 1 != this.repairData[e]);
};
return e;
}();
o.default = n;
cc._RF.pop();
}, {
"../communication/SocketGameManager": "SocketGameManager"
} ],
WebGuideAndroid: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "cbf05mkwKlAM60iEOAE44fq", "WebGuideAndroid");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../public/MyComponent/WindowBase"), s = e("../../data/conf/GameRes"), c = e("../../public/MyComponent/GameHppayUtil"), l = e("../../manager/GameSoundMgr"), d = e("../../data/MyData"), h = e("../../data/conf/GameInfo"), u = e("../../data/GameLangData"), p = cc._decorator, f = p.ccclass, m = (p.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {};
t.prototype.start = function() {
e.prototype.start.call(this);
this.setView();
};
t.prototype.setView = function() {
this.node.getChildByName("btn_close").on("click", this.onClose, this);
this.node.getChildByName("btn_download").on("click", this.onDownloadAPK, this);
var e = this.node.getChildByName("title_Android"), t = this.node.getChildByName("btn_download").getChildByName("icon"), o = this.node.getChildByName("labelBonus").getComponent(cc.Label), i = this.node.getChildByName("labelBonusHead").getComponent(cc.Label), n = this.node.getChildByName("labelBonusTail").getComponent(cc.Label), a = this.node.getChildByName("labelDesc"), r = this.node.getChildByName("labelTips");
c.default.loadSprAtlasFrame(e, s.GameResInfo.LAN_ROOT_DIR + s.GameResInfo.TITLE_ANDROID);
c.default.loadSprAtlasFrame(t, s.GameResInfo.LAN_ROOT_DIR + s.GameResInfo.BTN_DOWNLOAD);
o.string = h.default.gameMoneyUnit + d.default.hallData.guideReward;
i.string = u.default.ins.GET_NEWHALL_LANG("labelAndroidBonusHead");
n.string = u.default.ins.GET_NEWHALL_LANG("labelAndroidBonusTail");
a.getComponent(cc.Label).string = u.default.ins.GET_NEWHALL_LANG("labelAndroidBonusDesc");
r.getComponent(cc.Label).string = u.default.ins.GET_NEWHALL_LANG("labelAndroidBonusTips");
o._forceUpdateRenderData(!0);
i._forceUpdateRenderData(!0);
n._forceUpdateRenderData(!0);
var l = o.node.width + i.node.width + n.node.width + 20;
i.node.x = 160 - l / 2;
o.node.x = i.node.x + i.node.width + 10;
n.node.x = o.node.x + o.node.width + 10;
};
t.prototype.onDownloadAPK = function() {
l.default.inst.playGameEffect(l.AudioRes.click);
window.open(d.default.hallData.apkUrl, "_blank");
};
return a([ f ], t);
}(r.default));
o.default = m;
cc._RF.pop();
}, {
"../../data/GameLangData": "GameLangData",
"../../data/MyData": "MyData",
"../../data/conf/GameInfo": "GameInfo",
"../../data/conf/GameRes": "GameRes",
"../../manager/GameSoundMgr": "GameSoundMgr",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/WindowBase": "WindowBase"
} ],
WebGuideIOS: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3b572HU+ORDL4LFHnilJ8mz", "WebGuideIOS");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../public/MyComponent/WindowBase"), s = e("../../data/conf/GameInfo"), c = e("../../data/conf/GameRes"), l = e("../../data/MyData"), d = e("../../data/GameLangData"), h = e("../../public/MyComponent/GameHppayUtil"), u = cc._decorator, p = u.ccclass, f = (u.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {};
t.prototype.start = function() {
e.prototype.start.call(this);
this.setView();
};
t.prototype.setView = function() {
this.node.getChildByName("btn_close").on("click", this.onClose, this);
var e = this.node.getChildByName("title_ios"), t = this.node.getChildByName("step"), o = this.node.getChildByName("labelBonus").getComponent(cc.Label), i = this.node.getChildByName("labelBonusHead").getComponent(cc.Label), n = this.node.getChildByName("labelBonusTail").getComponent(cc.Label), a = this.node.getChildByName("labelDesc"), r = this.node.getChildByName("labelTips");
h.default.loadSprAtlasFrame(e, c.GameResInfo.LAN_ROOT_DIR + c.GameResInfo.TITLE_IOS);
h.default.loadSprAtlasFrame(t, c.GameResInfo.CURRENCY_ROOT_DIR + c.GameResInfo.STEP_IOS);
o.string = s.default.gameMoneyUnit + l.default.hallData.guideReward;
i.string = d.default.ins.GET_NEWHALL_LANG("labelIOSBonusHead");
n.string = d.default.ins.GET_NEWHALL_LANG("labelIOSBonusTail");
a.getComponent(cc.Label).string = d.default.ins.GET_NEWHALL_LANG("labelIOSBonusDesc");
r.getComponent(cc.Label).string = d.default.ins.GET_NEWHALL_LANG("labelIOSBonusTips");
o._forceUpdateRenderData(!0);
i._forceUpdateRenderData(!0);
n._forceUpdateRenderData(!0);
var u = o.node.width + i.node.width + n.node.width + 20;
i.node.x = 160 - u / 2;
o.node.x = i.node.x + i.node.width + 10;
n.node.x = o.node.x + o.node.width + 10;
};
return a([ p ], t);
}(r.default));
o.default = f;
cc._RF.pop();
}, {
"../../data/GameLangData": "GameLangData",
"../../data/MyData": "MyData",
"../../data/conf/GameInfo": "GameInfo",
"../../data/conf/GameRes": "GameRes",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/WindowBase": "WindowBase"
} ],
WebSocketManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ab4fekWSvRIm5mKjuGoYhxM", "WebSocketManager");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = cc._decorator, a = n.ccclass, r = (n.property, e("./WebSocketSend")), s = e("./WebSocketRecv"), c = e("../Conf/Game"), l = e("./NetworkListener"), d = e("../Components/MyEvent"), h = e("../Conf/Config"), u = e("./NetworkReprter"), p = e("../SDKInterface/FirebaseInterface"), f = e("./WebSocket"), m = e("../Manager/DialogManager"), g = e("../Interface/PhoneInfo"), y = e("../Util/GameUtil"), _ = function() {
function e() {
this.scheduler = null;
this.TIME_OUT = 2;
this.connectTimeOutTimes = 0;
this.socketList = [];
this.socketAddrs = [];
this.hasConnectedOne = !1;
}
t = e;
e.prototype.initSocketData = function() {
console.log("Websocket Init Data");
this._socketSend = new r.default();
this._socketRecv = new s.default();
this._socketRecv.init_proc_func();
this.scheduler = cc.director.getScheduler();
this.scheduler.enableForTarget(this);
this.scheduler.unscheduleAllForTarget(this);
};
e.prototype.connect = function(e) {
this.clearAllSocket();
this.hasConnectedOne = !1;
this.socketAddrs = e;
var t = e.length;
console.log("start connect , total socket connections = ", t);
this.scheduler.schedule(this.onConnectTimeOut, this, 2, 1, 0, !1);
for (var o = 0; o < t; o++) {
var i = e[o], n = new f.default();
n.connect(i);
this.socketList.push(n);
}
};
e.prototype.clearAllSocket = function() {
for (var e = this.socketList, t = 0; t < this.socketList.length; t++) {
var o = e[t];
if (null != o && o.status != WebSocket.CLOSED) {
o.close();
o = null;
}
}
this.socketList = [];
};
e.prototype.onConnectTimeOut = function() {
this.scheduler.unschedule(this.onConnectTimeOut, this);
if (0 == this.hasConnectedOne) {
this.connectTimeOutTimes++;
if (1 == this.connectTimeOutTimes) for (var e = 0; e < this.socketAddrs.length; e++) g.default.inst.getIPByHost(this.socketAddrs[e]);
console.log("socket timeout times", this.connectTimeOutTimes);
if (this.connectTimeOutTimes < 5) this.connect(this.socketAddrs); else {
console.log("socket timeout times", this.connectTimeOutTimes);
console.log("show bad network dialog");
this.connectTimeOutTimes = 0;
this.hasConnectedOne = !1;
this.clearAllSocket();
m.default.inst.showBadNetworkDialog();
}
} else {
console.log("socket has connected,not timeout");
this.connectTimeOutTimes = 0;
}
};
e.prototype.onOpen = function(e) {
if (0 == this.hasConnectedOne) {
this.scheduler.unschedule(this.onConnectTimeOut, this);
this.hasConnectedOne = !0;
this._ws = e;
this.loginHall();
y.default.hideLoading();
g.default.inst.getIPByHost(e.host);
l.default.inst.startNetworkCheck();
u.NetworkReporter.inst.setEnabled(h.default.delayCheck);
u.NetworkReporter.inst.start();
m.default.inst.closeBadNetwordDialog();
d.MyEvent.getInstance().emit("ON_SOCKET_CONNECTED");
console.log("Websocket connect success,the fastest one ", e.host);
} else {
console.log("Websocket connect success,the snower one ", e.host);
e.close();
e = null;
}
};
e.prototype.loginHall = function() {
d.MyEvent.getInstance().emit("EVENT_SERVER_LOGIN");
var e = c.default.devId, t = "";
if (c.default.currPlatType == c.PlatformType.facebook) {
e = c.default.fbUid;
t = c.default.fbToken;
}
if (c.default.currPlatType == c.PlatformType.google) {
e = p.GoogleAccount.pid;
t = p.GoogleAccount.token;
}
if (c.default.currPlatType == c.PlatformType.apple) {
e = c.default.applePid;
t = c.default.appleToken;
}
if (c.default.currPlatType == c.PlatformType.telephoneWithPassword || c.default.currPlatType == c.PlatformType.telephoneWithVCode) {
e = c.default.phoneNumber;
t = c.default.phonePassword;
}
if (c.default.currPlatType == c.PlatformType.webapp) {
e = c.default.webPid;
t = c.default.webToken;
}
console.log("login game logintype", c.default.currPlatType);
console.log("login game pid = ", e);
console.log("login game password = ", t);
this._socketSend.loginGame(c.default.currPlatType, e, t);
};
e.prototype.onMessage = function(e, t, o) {
this._socketRecv.process(e, t, o);
};
e.prototype.onClose = function(e, t) {
console.log("Socket On Close, reason", t);
d.MyEvent.getInstance().emit("MYSOKET_CLOSE_SLOT_EVENT");
if (null != this._ws && e.host == this._ws.host) {
if (null != this._ws) {
this._ws.close();
this._ws = null;
}
t != f.CloseReason.initiative && this.reconnect();
d.MyEvent.getInstance().emit("MYSOKET_CLOSE_EVENT");
l.default.inst.stopNetworkCheck();
u.NetworkReporter.inst.reportNetworkDelay();
} else console.log("Socket is Closed");
};
e.prototype.sendData = function(e) {
this._ws.isReady() ? this._ws.sendData(e) : console.log("sendData failed , Websocket is not ready,Websocket state is ", this._ws.status);
};
e.prototype.reconnect = function() {
console.log("Reconnect Socket");
this.connect(this.socketAddrs);
y.default.showLoading();
};
e.prototype.isReady = function() {
if (null != this._ws) {
if (this._ws.isReady()) return !0;
console.log("websocket state is " + this._ws.status);
return !1;
}
console.log("websocket state is null");
return !1;
};
e.prototype.close = function() {
console.log("Action Close Websocket");
null != this._ws && this._ws.onClose(f.CloseReason.initiative);
};
e.getInstance = function() {
this.instance || (this.instance = new t());
return this.instance;
};
Object.defineProperty(e.prototype, "socketSend", {
get: function() {
return this._socketSend;
},
enumerable: !1,
configurable: !0
});
var t;
return t = i([ a ], e);
}();
o.default = _;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Conf/Config": "Config",
"../Conf/Game": "Game",
"../Interface/PhoneInfo": "PhoneInfo",
"../Manager/DialogManager": "DialogManager",
"../SDKInterface/FirebaseInterface": "FirebaseInterface",
"../Util/GameUtil": "GameUtil",
"./NetworkListener": "NetworkListener",
"./NetworkReprter": "NetworkReprter",
"./WebSocket": "WebSocket",
"./WebSocketRecv": "WebSocketRecv",
"./WebSocketSend": "WebSocketSend"
} ],
WebSocketRecv: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "19592FvSNZOwon3M2IPNaz5", "WebSocketRecv");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("../Components/MyEvent"), a = e("./NetworkReprter"), r = e("../Conf/Const"), s = e("../Conf/Game"), c = e("../Data/ActivityData"), l = e("../Data/BaccaratRoomList"), d = e("../Data/BroadcastData"), h = e("../Data/GameData"), u = e("../Data/GiftData"), p = e("../Data/InviteData"), f = e("../Data/LanguageData"), m = e("../Data/RedNotificaData"), g = e("../Dialog/Confirm"), y = e("../Manager/DialogManager"), _ = e("../Manager/EventRecorder"), C = e("../Manager/SceneManager"), b = e("../Util/GameUtil"), v = e("./Commond"), S = e("./WebSocketManager"), I = e("./NetworkListener"), B = e("./ReceUnpackFormat"), w = e("../Manager/ADManager"), N = e("../UIFrame/UIManager"), L = e("../Manager/PaymentInterface"), T = e("../Data/ThirdPartyRepairData"), D = cc._decorator, E = D.ccclass, A = (D.property, 
function() {
function e() {
this.websocketRecv = {};
this.viewLength = 0;
this.proc_func = new Map();
this.webDebug = !1;
}
e.prototype.start = function() {};
e.prototype.readBegin = function(e) {
this.viewLength = 11;
this.view = e;
};
e.prototype.readByte = function(e) {
var t;
t = e ? this.view.getInt8(this.viewLength) : this.view.getUint8(this.viewLength);
this.viewLength += 1;
if (1 == this.webDebug) {
console.log("readByte:", t);
console.log("viewLength", this.viewLength);
}
return t;
};
e.prototype.readShort = function(e) {
var t;
t = e ? this.view.getInt16(this.viewLength) : this.view.getUint16(this.viewLength);
this.viewLength = this.viewLength + 2;
if (1 == this.webDebug) {
console.log("readShort:", t);
console.log("viewLength", this.viewLength);
}
return t;
};
e.prototype.readInt = function() {
var e;
e = this.view.getUint32(this.viewLength);
this.viewLength = this.viewLength + 4;
if (1 == this.webDebug) {
console.log("readShort:", e);
console.log("viewLength", this.viewLength);
}
return e;
};
e.prototype.readInt64 = function() {
var e, t = this.view.getUint32(this.viewLength);
this.viewLength += 4;
e = this.view.getUint32(this.viewLength);
this.viewLength += 4;
var o = Math.pow(2, 32) * t + e;
if (1 == this.webDebug) {
console.log("readLong:", e);
console.log("viewLength", this.viewLength);
}
return o;
};
e.prototype.readString = function() {
var e, t = this.readInt(), o = new ArrayBuffer(t - 0);
o = this.viewArr.slice(this.viewLength, t + this.viewLength - 0);
e = this.utf8ByteToUnicodeStr(new Uint8Array(o));
this.viewLength = this.viewLength + t;
if (1 == this.webDebug) {
console.log("viewLength", this.viewLength);
console.log("readString:", e);
}
return e;
};
e.prototype.utf8ByteToUnicodeStr = function(e) {
for (var t = "", o = 0; o < e.length; ) {
var i = e[o], n = 0;
if (i >>> 7 == 0) {
t += String.fromCharCode(e[o]);
o += 1;
} else if (252 == (252 & i)) {
n = (3 & e[o]) << 30;
n |= (63 & e[o + 1]) << 24;
n |= (63 & e[o + 2]) << 18;
n |= (63 & e[o + 3]) << 12;
n |= (63 & e[o + 4]) << 6;
n |= 63 & e[o + 5];
t += String.fromCodePoint(n);
o += 6;
} else if (248 == (248 & i)) {
n = (7 & e[o]) << 24;
n |= (63 & e[o + 1]) << 18;
n |= (63 & e[o + 2]) << 12;
n |= (63 & e[o + 3]) << 6;
n |= 63 & e[o + 4];
t += String.fromCodePoint(n);
o += 5;
} else if (240 == (240 & i)) {
n = (15 & e[o]) << 18;
n |= (63 & e[o + 1]) << 12;
n |= (63 & e[o + 2]) << 6;
n |= 63 & e[o + 3];
t += String.fromCodePoint(n);
o += 4;
} else if (224 == (224 & i)) {
n = (31 & e[o]) << 12;
n |= (63 & e[o + 1]) << 6;
n |= 63 & e[o + 2];
t += String.fromCharCode(n);
o += 3;
} else if (192 == (192 & i)) {
n = (63 & e[o]) << 6;
n |= 63 & e[o + 1];
t += String.fromCharCode(n);
o += 2;
} else {
t += String.fromCharCode(e[o]);
o += 1;
}
}
return t;
};
e.prototype.addCmd = function(e, t) {
n.MyEvent.getInstance().removeByNode(e.toString());
n.MyEvent.getInstance().on(e.toString(), t.bind(this), "event");
};
e.prototype._parseData = function(e) {
var t = {};
for (var o in e) {
var i = e[o];
i == B.DataTypes.BYTE ? t[o] = this.readByte() : i == B.DataTypes.SHORT ? t[o] = this.readShort() : i == B.DataTypes.INT ? t[o] = this.readInt() : i == B.DataTypes.INT64 ? t[o] = this.readInt64() : i == B.DataTypes.BINARY ? t[o] = this.readShort().toString(2) : i == B.DataTypes.LOOP && (t[o] = this._parseData(i));
}
};
e.prototype.process = function(e, t, o) {
console.log("process", e.cmd.toString(16), "time", new Date().getTime());
this.viewArr = o;
this.readBegin(t);
I.default.inst.resetLostTimes();
var i = e.msgType;
console.log("process msg type", i);
i == v.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK ? n.MyEvent.getInstance().emit(i + e.cmd.toString(), t) : i == v.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND ? n.MyEvent.getInstance().emit(i + e.cmd.toString(), t) : i == v.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME ? n.MyEvent.getInstance().emit(i + e.cmd.toString(), t) : i == v.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE ? n.MyEvent.getInstance().emit(i + e.cmd.toString(), t) : i == v.default.MSG_TYPE.MSG_TYPE_GAMESVR_INTDICE ? n.MyEvent.getInstance().emit(i + e.cmd.toString(), t) : i == v.default.MSG_TYPE.MSG_TYPE_GAMESVR_BIRDS ? n.MyEvent.getInstance().emit(i + e.cmd.toString(), t) : i == v.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA ? n.MyEvent.getInstance().emit(i + e.cmd.toString(), t) : i == v.default.MSG_TYPE.MSG_TYPE_GAMESVR_AZTEC ? n.MyEvent.getInstance().emit(i + e.cmd.toString(), t) : n.MyEvent.getInstance().emit(e.cmd.toString(), t);
};
e.prototype.init_proc_func = function() {
this.addCmd(v.default.CMD_NET_CHECK, this.procNetCheck);
this.addCmd(v.default.CMD_LOGIN, this.procLogin);
this.addCmd(v.default.CMD_KICK_OUT, this.procKickOutGame);
this.addCmd(v.default.CMD_GET_BLND_LIST, this.procBindList);
this.addCmd(v.default.CMD_GET_BLND_LIST_INFO, this.procBindListInfo);
this.addCmd(v.default.CMD_LOGIN_HALL, this.procLoginHall);
this.addCmd(v.default.CMD_GET_BACCARAT_ROOM_LIST, this.procBaccaratRoomList);
this.addCmd(v.default.CMD_GET_BACCARAT_ROOM_ROAD, this.procBaccaratRoomRoad);
this.addCmd(v.default.CMD_GET_RANK_LIST, this.procRankList);
this.addCmd(v.default.CMD_UPDATE_HALL_ROOM_INFO, this.upadateHallRoomInfo);
this.addCmd(v.default.CMD_CREATR_VIP_ROOM, this.procCreatrVipRoom);
this.addCmd(v.default.CMD_QUICK_ENTER_ROOM, this.procQuickEnterRoom);
this.addCmd(v.default.CMD_GET_VIP_ROOM_LIST, this.procGetVipRoomList);
this.addCmd(v.default.CMD_GET_RULE_ROOM_LIST, this.procGetRuleRoomList);
this.addCmd(v.default.CMD_GET_PLAYER_HOME_INFO, this.procGetPlayerHomeInfo);
this.addCmd(v.default.CMD_CHANGE_AUTOGRAPH, this.procChangeAutograph);
this.addCmd(v.default.CMD_CHANGE_NAME, this.procChangeName);
this.addCmd(v.default.CMD_INSPECT_NAME_REPEAT, this.procInspectNameRepeat);
this.addCmd(v.default.CMD_CHANGE_VIPEXP, this.procChangeVipExp);
this.addCmd(v.default.CMD_GET_LIMIT_DATA, this.procGetLimitData);
this.addCmd(v.default.CMD_SAFE_OPERATION, this.procSafeOperation);
this.addCmd(v.default.CMD_GET_MONEY_INFO, this.procGetMoneyInfo);
this.addCmd(v.default.CMD_GOOGLE_CONSUME_PURCHASE, this.procGoogleConsumePurchase);
this.addCmd(v.default.CMD_GOOGLE_REPAIR_PURCHASE, this.procGoogleRepairPurchase);
this.addCmd(v.default.CMD_CHANGE_PHOTO, this.procUpdateHeadPhoto);
this.addCmd(v.default.CMD_NOTICE_PRAISE, this.procNoticePraise);
this.addCmd(v.default.CMD_NOTIFY_RSP, this.procNotifyRsp);
this.addCmd(v.default.CMD_BANKRUPTCY_SUBSIDY, this.procBankruptcy);
this.addCmd(v.default.CMD_SET_SETUP, this.procSetUp);
this.addCmd(v.default.CMD_GET_GIFT_LIST, this.procGetGiftList);
this.addCmd(v.default.CMD_NOTICE_GIFTS_FROM_OTHERS, this.procNoticeGiftsFromOthers);
this.addCmd(v.default.CMD_PURCHASE_GIFT, this.procPurchaseGift);
this.addCmd(v.default.CMD_WEAR_GIFT, this.procWearGift);
this.addCmd(v.default.CMD_NOTICE_FRIEND_STATE, this.procNoticeFriendState);
this.addCmd(v.default.CMD_SEARCH_FRIEND, this.proSearchFriend);
this.addCmd(v.default.CMD_GET_HALL_TIMEBOX_INFO, this.procHallTimeboxInfo);
this.addCmd(v.default.CMD_GET_HALL_TIMEBOX_REWARD, this.oricHallTimeboxReward);
this.addCmd(v.default.CMD_PUSH_BROADCAST_MSG, this.procBroadcastMsg);
this.addCmd(v.default.CMD_GET_MAIL_DETAIL, this.procGetMailInfo);
this.addCmd(v.default.CMD_GET_MAIL_LIST, this.procGetMailList);
this.addCmd(v.default.CMD_READ_MAIL, this.procReadMail);
this.addCmd(v.default.CMD_READ_ALL_MAIL, this.procReadAllMail);
this.addCmd(v.default.CMD_GET_MAIL_REWARD, this.procGetMailReward);
this.addCmd(v.default.CMD_GET_ALL_MAIL_REWARD, this.procGetAllMailReward);
this.addCmd(v.default.CMD_DELETE_MAIL, this.procDeleteMail);
this.addCmd(v.default.CMD_DELETE_ALL_MAIL, this.procDeleteAllMail);
this.addCmd(v.default.CMD_NOTIFY_NEW_MAIL, this.procNotifyNewMail);
this.addCmd(v.default.CMD_ENTER_BACCARAT, this.procEnterRoom);
this.addCmd(v.default.CMD_PRE_BET, this.procPreBet);
this.addCmd(v.default.CMD_RECALL_PRE_BET, this.procRecallPreBet);
this.addCmd(v.default.CMD_BET_OVER, this.procBetOver);
this.addCmd(v.default.CMD_LEAVE_ROOM, this.procLeaveRoom);
this.addCmd(v.default.CMD_SITDOWN, this.procSitDown);
this.addCmd(v.default.CMD_STAND_UP, this.procStandUp);
this.addCmd(v.default.CMD_GET_ROOMINFO, this.procGetRoomInfo);
this.addCmd(v.default.CMD_END_MIPAI, this.procEndMipai);
this.addCmd(v.default.CMD_WHEN_TO_CONTINUE, this.procWhenToContinue);
this.addCmd(v.default.CMD_END_CUT_CARD, this.procEndCutCard);
this.addCmd(v.default.CMD_REPORT_OPEN_CARD, this.procReportOpenCard);
this.addCmd(v.default.CMD_GET_ROOM_CARD_NUM, this.procGetCardNum);
this.addCmd(v.default.CMD_BROADCAST_IN_ROOM, this.procBroadcastInRoom);
this.addCmd(v.default.CMD_BROADCAST_PRE_BET, this.procBroadcastPreBet);
this.addCmd(v.default.CMD_BROADCAST_RECALL_PRE_BET, this.procBroadcastRecallPreBet);
this.addCmd(v.default.CMD_BROADCAST_BET_ED, this.procBaccaratBetEd);
this.addCmd(v.default.CMD_BROADCAST_LEAVE_ROOM, this.procBroadcastLeaveRoom);
this.addCmd(v.default.CMD_BROADCAST_SITDOWN, this.procBroadcastSitdown);
this.addCmd(v.default.CMD_BROADCAST_STANDUP, this.procBroadcastStandUp);
this.addCmd(v.default.CMD_BROADCAST_PLAYER_BROADCAST, this.procBroadcastPlayerBroadcast);
this.addCmd(v.default.CMD_BROADCAST_ROOMSTATE, this.procRoomState);
this.addCmd(v.default.CMD_BROADCAST_DEALCARDS, this.procBroadcastDealcards);
this.addCmd(v.default.CMD_BROADCAST_OPEN_CARD, this.procBroadcastOpenCard);
this.addCmd(v.default.CMD_KICKOUT_ROOM, this.procKickoutRoom);
this.addCmd(v.default.CMD_ROOM_INFO, this.procRoomInfo);
this.addCmd(v.default.CMD_BROADCAST_CAT_CARD_CONTINUE, this.procContineCatCard);
this.addCmd(v.default.CMD_BROADCAST_ROOM_GIVE_GIFT, this.procBroadcastRoomGiveGift);
this.addCmd(v.default.CMD_STOP_UPDATE_ROOM_INFO, this.procStopUpdateRoomInfo);
this.addCmd(v.default.CMD_AD_REWARD, this.procADReward);
this.addCmd(v.default.CMD_TIME_REWARD, this.procTimeReward);
this.addCmd(v.default.CMD_INVITE_REGISTER_INFO, this.procInviteRegisterRewardInfo);
this.addCmd(v.default.CMD_INVITE_REGISTER_REWARD, this.procInviteRegisterReward);
this.addCmd(v.default.CMD_REPORT_TASK_PROGRESS, this.procReportTask);
this.addCmd(v.default.CMD_INVITE_FRIEND, this.procInviteToGame);
this.addCmd(v.default.CMD_NOTIFY_INVITED, this.procNotifyInvite);
this.addCmd(v.default.CMD_DENY_INVITED, this.procDenyInvited);
this.addCmd(v.default.CMD_NOTIFY_DENIED, this.procNotifyDenied);
this.addCmd(v.default.CMD_GET_RECOMMEND_USER_LIST, this.procGetRecommondUserList);
this.addCmd(v.default.CMD_GET_RED_NOTIFICATION, this.procRedNotification);
this.addCmd(v.default.CMD_GET_PHP_ACTIVITY, this.procPhpActivity);
this.addCmd(v.default.CMD_TUTORIALS_REWARD, this.procTutorialsReward);
this.addCmd(v.default.CMD_GET_AD_TYPE, this.procGetPresentADType);
this.addCmd(v.default.CMD_GET_HALL_JACKPOT, this.procGetHallJackpot);
this.addCmd(v.default.CMD_UPDATE_JACKPOT, this.procUpdateJackPot);
this.addCmd(v.default.CMD_GET_JACKPOT_REWARD_LIST, this.procGetJackPotRewardList);
this.addCmd(v.default.CMD_UPDATE_ROOM_LIST_JACKPOT, this.procUpdateHallRoomListJackPot);
this.addCmd(v.default.CMD_THIRD_PARTY_GAME_REPAIR, this.procGetThirdPartyRepairInfo);
this.addCmd(v.default.CMD_GET_BLACKJACK_ROOM_LIST, this.procGetBlackjackRoomList);
var e = v.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK;
this.addCmd(e + "" + v.default.CMD_BLACKJACK_ENTER_ROOM.toString(10), this.procBJEnterRoom);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_BET.toString(10), this.procBJUserBet);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_CANCEL_BET.toString(10), this.procBJCancelBet);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_COMPLETE_BET.toString(10), this.procBJCompleteBet);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_QUIT_ROOM.toString(10), this.procBJQuitRoom);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_USER_SIT.toString(10), this.procBJUserSit);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_USER_STAND.toString(10), this.procBJUserStand);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_ROOM_BROADCAST.toString(10), this.procBJRoomBroadcast);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_GET_ROOM_INFO.toString(10), this.procBJRoomInfo);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_BROADCAST_CHAT.toString(10), this.procBJChat);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_USER_INSURANCE.toString(10), this.procBJInsurance);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_GET_LEFT_CARDS.toString(10), this.procBJGetLeftCards);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_USER_ACTION.toString(10), this.procBJUserAction);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_SETTLEMENT.toString(10), this.procBJPreSettlement);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_COLLECT_CARD.toString(10), this.procBJCollectCard);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_DEAL_SECOND_CARD.toString(10), this.procBJDealSecondCard);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_BROADCAST_ENTER_ROOM.toString(10), this.procBJBroadcastEnterRoom);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_BROADCAST_BET.toString(10), this.procBJBroadcastUserBet);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_BROADCAST_CANCEL_BET.toString(10), this.procBJBroadcastCancelBet);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_BROADCAST_COMPLETE_BET.toString(10), this.procBJBroadcastCompleteBet);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_BROADCAST_QUIT_ROOM.toString(10), this.procBJBroadcastQuitRoom);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_BROADCAST_SIT.toString(10), this.procBJBroadcastUserSit);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_BROADCAST_STAND.toString(10), this.procBJBroadcastUserStand);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_BROADCAST_ROOM_BROADCAST.toString(10), this.procBJroadcastRoomBroadcast);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_BROADCAST_ROOM_STATE.toString(10), this.procBJRoomState);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_BROADCAST_ROOM_GIVE_GIFT.toString(10), this.procBJBroadcastRoomGiveGift);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_BROADCAST_JACKPOT.toString(10), this.procBJBroadcastJackpot);
this.addCmd(e + "" + v.default.CMD_BLACKJACK_KICKOUT_ROOM.toString(10), this.procBJKickOut);
this.addCmd(e + "" + v.default.CMD_UPDATE_HALL_ROOM_INFO.toString(10), this.procUpdateBlackjackRoomInfo);
var t = v.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND;
this.addCmd(t + "" + v.default.CMD_GET_BACCARAT_HND_ROOM_LIST, this.procBaccaratHndRoomList);
this.addCmd(t + "" + v.default.CMD_UPDATE_BACCARAT_HND_ROOM_LIST, this.procUpdateBaccaratHndRoomList);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_ENTER_ROOM.toString(10), this.procBacHndEnterRoom);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_BET.toString(10), this.procBacHndUserBet);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_CANCEL_BET.toString(10), this.procBacHndCancelBet);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_COMPLETE_BET.toString(10), this.procBacHndCompleteBet);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_QUIT_ROOM.toString(10), this.procBacHndQuitRoom);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_ROOM_BROADCAST.toString(10), this.procBacHndRoomBroadcast);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_GET_ROOM_INFO.toString(10), this.procBacHndRoomInfo);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_ROOM_CHAT.toString(10), this.procBacHndChat);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_GET_LEFT_CARDS.toString(10), this.procBacHndGetLeftCards);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_END_CUT_CARD.toString(10), this.procBacHndEndCutCard);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_IS_CONTINUE.toString(10), this.procBacHndIsContinue);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ENTER_ROOM.toString(10), this.procBacHndBroadcastEnterRoom);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_BROADCAST_BET.toString(10), this.procBacHndBroadcastUserBet);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_BROADCAST_CANCEL_BET.toString(10), this.procBacHndBroadcastCancelBet);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_BROADCAST_COMPLETE_BET.toString(10), this.procBacHndBroadcastCompleteBet);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_BROADCAST_QUIT_ROOM.toString(10), this.procBacHndBroadcastQuitRoom);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ROOM_BROADCAST.toString(10), this.procBacHndroadcastRoomBroadcast);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ROOM_STATUS.toString(10), this.procBacHndRoomState);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_BROADCAST_IS_CONTINUE.toString(10), this.procBacHndBroadcastIsContinue);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ROOM_GIVE_GIFT.toString(10), this.procBacHndBroadcastRoomGiveGift);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_KICKOUT_ROOM.toString(10), this.procBacHndKickOut);
this.addCmd(t + "" + v.default.CMD_BACCARAT_HND_GET_STAND_USER_LIST.toString(10), this.procBacHndStandUserList);
var o = v.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME;
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_ENTER_ROOM.toString(10), this.procBacHndEnterRoom);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_BET.toString(10), this.procBacHndUserBet);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_CANCEL_BET.toString(10), this.procBacHndCancelBet);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_COMPLETE_BET.toString(10), this.procBacHndCompleteBet);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_QUIT_ROOM.toString(10), this.procBacHndQuitRoom);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_ROOM_BROADCAST.toString(10), this.procBacHndRoomBroadcast);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_GET_ROOM_INFO.toString(10), this.procDTRoomInfo);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_ROOM_CHAT.toString(10), this.procBacHndChat);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_GET_LEFT_CARDS.toString(10), this.procBacHndGetLeftCards);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_END_CUT_CARD.toString(10), this.procBacHndEndCutCard);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_IS_CONTINUE.toString(10), this.procBacHndIsContinue);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ENTER_ROOM.toString(10), this.procBacHndBroadcastEnterRoom);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_BROADCAST_BET.toString(10), this.procBacHndBroadcastUserBet);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_BROADCAST_CANCEL_BET.toString(10), this.procBacHndBroadcastCancelBet);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_BROADCAST_COMPLETE_BET.toString(10), this.procBacHndBroadcastCompleteBet);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_BROADCAST_QUIT_ROOM.toString(10), this.procBacHndBroadcastQuitRoom);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ROOM_BROADCAST.toString(10), this.procBacHndroadcastRoomBroadcast);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ROOM_STATUS.toString(10), this.procBacHndRoomState);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_BROADCAST_IS_CONTINUE.toString(10), this.procBacHndBroadcastIsContinue);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ROOM_GIVE_GIFT.toString(10), this.procBacHndBroadcastRoomGiveGift);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_KICKOUT_ROOM.toString(10), this.procDTKickOut);
this.addCmd(o + "" + v.default.CMD_BACCARAT_HND_GET_STAND_USER_LIST.toString(10), this.procBacHndStandUserList);
var i = v.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE;
this.addCmd(i + "" + v.default.CMD_BACCARAT_HND_ENTER_ROOM.toString(10), this.procBacHndEnterRoom);
this.addCmd(i + "" + v.default.CMD_BACCARAT_HND_BET.toString(10), this.procBacHndUserBet);
this.addCmd(i + "" + v.default.CMD_BACCARAT_HND_CANCEL_BET.toString(10), this.procBacHndCancelBet);
this.addCmd(i + "" + v.default.CMD_BACCARAT_HND_COMPLETE_BET.toString(10), this.procBacHndCompleteBet);
this.addCmd(i + "" + v.default.CMD_BACCARAT_HND_QUIT_ROOM.toString(10), this.procBacHndQuitRoom);
this.addCmd(i + "" + v.default.CMD_BACCARAT_HND_ROOM_BROADCAST.toString(10), this.procBacHndRoomBroadcast);
this.addCmd(i + "" + v.default.CMD_BACCARAT_HND_GET_ROOM_INFO.toString(10), this.procDiceRoomInfo);
this.addCmd(i + "" + v.default.CMD_BACCARAT_HND_ROOM_CHAT.toString(10), this.procBacHndChat);
this.addCmd(i + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ENTER_ROOM.toString(10), this.procBacHndBroadcastEnterRoom);
this.addCmd(i + "" + v.default.CMD_BACCARAT_HND_BROADCAST_BET.toString(10), this.procBacHndBroadcastUserBet);
this.addCmd(i + "" + v.default.CMD_BACCARAT_HND_BROADCAST_CANCEL_BET.toString(10), this.procBacHndBroadcastCancelBet);
this.addCmd(i + "" + v.default.CMD_BACCARAT_HND_BROADCAST_COMPLETE_BET.toString(10), this.procBacHndBroadcastCompleteBet);
this.addCmd(i + "" + v.default.CMD_BACCARAT_HND_BROADCAST_QUIT_ROOM.toString(10), this.procBacHndBroadcastQuitRoom);
this.addCmd(i + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ROOM_BROADCAST.toString(10), this.procBacHndroadcastRoomBroadcast);
this.addCmd(i + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ROOM_STATUS.toString(10), this.procDiceRoomState);
this.addCmd(i + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ROOM_GIVE_GIFT.toString(10), this.procBacHndBroadcastRoomGiveGift);
this.addCmd(i + "" + v.default.CMD_BACCARAT_HND_KICKOUT_ROOM.toString(10), this.procDiceKickOut);
this.addCmd(i + "" + v.default.CMD_BACCARAT_HND_GET_STAND_USER_LIST.toString(10), this.procBacHndStandUserList);
var n = v.default.MSG_TYPE.MSG_TYPE_GAMESVR_INTDICE;
this.addCmd(n + "" + v.default.CMD_BACCARAT_HND_ENTER_ROOM.toString(10), this.procBacHndEnterRoom);
this.addCmd(n + "" + v.default.CMD_BACCARAT_HND_BET.toString(10), this.procBacHndUserBet);
this.addCmd(n + "" + v.default.CMD_BACCARAT_HND_CANCEL_BET.toString(10), this.procBacHndCancelBet);
this.addCmd(n + "" + v.default.CMD_BACCARAT_HND_COMPLETE_BET.toString(10), this.procBacHndCompleteBet);
this.addCmd(n + "" + v.default.CMD_BACCARAT_HND_QUIT_ROOM.toString(10), this.procBacHndQuitRoom);
this.addCmd(n + "" + v.default.CMD_BACCARAT_HND_ROOM_BROADCAST.toString(10), this.procBacHndRoomBroadcast);
this.addCmd(n + "" + v.default.CMD_BACCARAT_HND_GET_ROOM_INFO.toString(10), this.procIntDiceRoomInfo);
this.addCmd(n + "" + v.default.CMD_BACCARAT_HND_ROOM_CHAT.toString(10), this.procBacHndChat);
this.addCmd(n + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ENTER_ROOM.toString(10), this.procBacHndBroadcastEnterRoom);
this.addCmd(n + "" + v.default.CMD_BACCARAT_HND_BROADCAST_BET.toString(10), this.procBacHndBroadcastUserBet);
this.addCmd(n + "" + v.default.CMD_BACCARAT_HND_BROADCAST_CANCEL_BET.toString(10), this.procBacHndBroadcastCancelBet);
this.addCmd(n + "" + v.default.CMD_BACCARAT_HND_BROADCAST_COMPLETE_BET.toString(10), this.procBacHndBroadcastCompleteBet);
this.addCmd(n + "" + v.default.CMD_BACCARAT_HND_BROADCAST_QUIT_ROOM.toString(10), this.procBacHndBroadcastQuitRoom);
this.addCmd(n + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ROOM_BROADCAST.toString(10), this.procBacHndroadcastRoomBroadcast);
this.addCmd(n + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ROOM_STATUS.toString(10), this.procIntDiceRoomState);
this.addCmd(n + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ROOM_GIVE_GIFT.toString(10), this.procBacHndBroadcastRoomGiveGift);
this.addCmd(n + "" + v.default.CMD_BACCARAT_HND_KICKOUT_ROOM.toString(10), this.procIntDiceKickOut);
this.addCmd(n + "" + v.default.CMD_BACCARAT_HND_GET_STAND_USER_LIST.toString(10), this.procBacHndStandUserList);
var a = v.default.MSG_TYPE.MSG_TYPE_GAMESVR_BIRDS;
this.addCmd(a + "" + v.default.CMD_BACCARAT_HND_ENTER_ROOM.toString(10), this.procBacHndEnterRoom);
this.addCmd(a + "" + v.default.CMD_BACCARAT_HND_BET.toString(10), this.procBacHndUserBet);
this.addCmd(a + "" + v.default.CMD_BACCARAT_HND_CANCEL_BET.toString(10), this.procBacHndCancelBet);
this.addCmd(a + "" + v.default.CMD_BACCARAT_HND_COMPLETE_BET.toString(10), this.procBacHndCompleteBet);
this.addCmd(a + "" + v.default.CMD_BACCARAT_HND_QUIT_ROOM.toString(10), this.procBacHndQuitRoom);
this.addCmd(a + "" + v.default.CMD_BACCARAT_HND_ROOM_BROADCAST.toString(10), this.procBacHndRoomBroadcast);
this.addCmd(a + "" + v.default.CMD_BACCARAT_HND_GET_ROOM_INFO.toString(10), this.procBirdseRoomInfo);
this.addCmd(a + "" + v.default.CMD_BACCARAT_HND_ROOM_CHAT.toString(10), this.procBacHndChat);
this.addCmd(a + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ENTER_ROOM.toString(10), this.procBacHndBroadcastEnterRoom);
this.addCmd(a + "" + v.default.CMD_BACCARAT_HND_BROADCAST_BET.toString(10), this.procBacHndBroadcastUserBet);
this.addCmd(a + "" + v.default.CMD_BACCARAT_HND_BROADCAST_CANCEL_BET.toString(10), this.procBacHndBroadcastCancelBet);
this.addCmd(a + "" + v.default.CMD_BACCARAT_HND_BROADCAST_COMPLETE_BET.toString(10), this.procBacHndBroadcastCompleteBet);
this.addCmd(a + "" + v.default.CMD_BACCARAT_HND_BROADCAST_QUIT_ROOM.toString(10), this.procBacHndBroadcastQuitRoom);
this.addCmd(a + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ROOM_BROADCAST.toString(10), this.procBacHndroadcastRoomBroadcast);
this.addCmd(a + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ROOM_STATUS.toString(10), this.procBirdsRoomState);
this.addCmd(a + "" + v.default.CMD_BACCARAT_HND_BROADCAST_ROOM_GIVE_GIFT.toString(10), this.procBacHndBroadcastRoomGiveGift);
this.addCmd(a + "" + v.default.CMD_BACCARAT_HND_KICKOUT_ROOM.toString(10), this.procBirdsKickOut);
this.addCmd(a + "" + v.default.CMD_BACCARAT_HND_GET_STAND_USER_LIST.toString(10), this.procBacHndStandUserList);
var r = v.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA;
this.addCmd(r + "" + v.default.CMD_ROMASLOT_ENTER_ROOM.toString(10), this.procRomaEnterRoom);
this.addCmd(r + "" + v.default.CMD_ROMASLOT_LEAVE_ROOM.toString(10), this.procRomaLeaveRoom);
this.addCmd(r + "" + v.default.CMD_ROMASLOT_KICK_ROOM.toString(10), this.procRomaKickRoom);
this.addCmd(r + "" + v.default.CMD_ROMASLOT_USER_SPIN.toString(10), this.procRomaUserSpin);
this.addCmd(r + "" + v.default.CMD_ROMASLOT_FREE_SPIN.toString(10), this.procRomaUserSpin);
this.addCmd(r + "" + v.default.CMD_ROMASLOT_PLAY_BONUS.toString(10), this.procRomaPlayBonus);
this.addCmd(r + "" + v.default.CMD_ROMASLOT_BUY_FREE.toString(10), this.procRomaBuyFree);
this.addCmd(r + "" + v.default.CMD_ROMASLOT_BUY_BONUSGAME.toString(10), this.procRomaBuyBonusgame);
this.addCmd(r + "" + v.default.CMD_ROMASLOT_JACKPOT_NUM.toString(10), this.procRomaJackpotInfo);
var s = v.default.MSG_TYPE.MSG_TYPE_GAMESVR_AZTEC;
this.addCmd(s + "" + v.default.CMD_ROMASLOT_ENTER_ROOM.toString(10), this.procAztecEnterRoom);
this.addCmd(s + "" + v.default.CMD_ROMASLOT_LEAVE_ROOM.toString(10), this.procAztecLeaveRoom);
this.addCmd(s + "" + v.default.CMD_ROMASLOT_KICK_ROOM.toString(10), this.procAztecKickRoom);
this.addCmd(s + "" + v.default.CMD_ROMASLOT_USER_SPIN.toString(10), this.procAztecUserSpin);
this.addCmd(s + "" + v.default.CMD_ROMASLOT_FREE_SPIN.toString(10), this.procAztecUserSpin);
this.addCmd(s + "" + v.default.CMD_ROMASLOT_BUY_FREE.toString(10), this.procAztecBuyFree);
};
e.prototype.procNetCheck = function() {
var e = this.readInt(), t = Date.now();
t %= 1e5;
h.default.phoneData.delayedTime = Math.ceil((t - e) / 2);
I.default.inst.onlineCheck(e);
a.NetworkReporter.inst.process(e);
};
e.prototype.procLogin = function() {
var e = this.readShort();
if (0 == e) n.MyEvent.getInstance().emit("LOGIN_SUCCESS", e); else {
console.log("", e);
S.default.getInstance().close();
_.default.record(_.EventID.socketLoginFailed, "loginFailedRetCode", e);
n.MyEvent.getInstance().emit("LOGIN_FAILED", e);
C.default.enterLogin();
}
};
e.prototype.procBindList = function() {
var e = this.readShort();
h.default.clearbindData();
if (0 == e) for (var t = this.readByte(), o = 0; o < t; o++) {
var i = this.readByte(), n = this.readString();
console.log("", t, i, n);
if (i == r.bindType.phone) {
h.default.bindData.phoneNum = n;
h.default.UserData.phoneBinding = !0;
}
console.log("bind list ", i);
console.log("bind list ", n);
}
};
e.prototype.procBindListInfo = function() {
if (0 == this.readShort()) for (var e = this.readByte(), t = 0; t < e; t++) {
var o = this.readByte(), i = this.readString(), n = this.readString();
console.log("", e, o, i);
if (o == r.bindType.phone) {
h.default.bindData.phoneNum = i;
s.default.phoneNumber = n;
h.default.UserData.phoneBinding = !0;
}
console.log("bind list type ", o);
console.log("bind list name", i);
console.log("bind list number", n);
}
};
e.prototype.procKickOutGame = function() {
var e = this.readShort();
console.log(" ", e);
if (0 == e) {
y.default.inst.closeAllDialog();
(t = new g.ConfirmData()).desc = f.default.ins.STRING_ALERT("accountTickOut");
t.oneBtn = !0;
t.okCallback = function() {
h.default.clearHallData();
S.default.getInstance().socketSend.loginOut();
S.default.getInstance().close();
y.default.inst.closeAllDialog();
C.default.enterLogin();
};
t.cancelCallback = function() {
h.default.clearHallData();
S.default.getInstance().socketSend.loginOut();
S.default.getInstance().close();
y.default.inst.closeAllDialog();
C.default.enterLogin();
};
N.default.getInstance().openUIForm("prefab/dialog/confirm", [ t ]);
} else if (14 == e) {
y.default.inst.closeAllDialog();
(t = new g.ConfirmData()).desc = f.default.ins.STRING_ALERT("accountInvalid");
t.oneBtn = !0;
t.okCallback = function() {
h.default.clearHallData();
S.default.getInstance().socketSend.loginOut();
S.default.getInstance().close();
y.default.inst.closeAllDialog();
C.default.enterLogin();
};
t.cancelCallback = function() {
h.default.clearHallData();
S.default.getInstance().socketSend.loginOut();
S.default.getInstance().close();
y.default.inst.closeAllDialog();
C.default.enterLogin();
};
N.default.getInstance().openUIForm("prefab/dialog/confirm", [ t ]);
} else {
y.default.inst.closeAllDialog();
var t;
(t = new g.ConfirmData()).desc = f.default.ins.STRING_ALERT("accountTickOut");
t.oneBtn = !0;
t.okCallback = function() {
h.default.clearHallData();
S.default.getInstance().socketSend.loginOut();
S.default.getInstance().close();
y.default.inst.closeAllDialog();
C.default.enterLogin();
};
t.cancelCallback = function() {
h.default.clearHallData();
S.default.getInstance().socketSend.loginOut();
S.default.getInstance().close();
y.default.inst.closeAllDialog();
C.default.enterLogin();
};
N.default.getInstance().openUIForm("prefab/dialog/confirm", [ t ]);
}
};
e.prototype.procLoginHall = function() {
if (0 == this.readShort()) {
var e = {};
e.nickname = this.readString();
e.headID = this.readShort();
e.country = this.readString();
e.exp = this.readInt();
var t = this.readInt64() / s.default.chipMulti;
e.coin = t;
e.chip = this.readInt64() / s.default.chipMulti;
e.point = this.readInt64() / s.default.pointMulti;
e.vipExp = this.readInt();
e.gameType = this.readByte();
e.goldType = this.readByte();
e.roomId = this.readShort();
e.ukey = this.readString();
e.maxvipExp = this.readInt();
e.giftId = this.readShort();
for (var o in e) h.default.UserData[o] = e[o];
0 == e.gameType && 0 == e.roomId ? n.MyEvent.getInstance().emit("LOGIN_HALL_SUCCESS", e) : n.MyEvent.getInstance().emit("LOGIN_HALL_SUCCESS", "");
}
};
e.prototype.procBaccaratRoomList = function() {
if (0 == this.readShort()) {
var e = cc.js.createMap;
e.type = this.readByte();
e.allSize = this.readShort();
e.roomList = [];
for (var t = this.readShort(), o = 0; o < t; o++) {
var i = [];
i.roomId = this.readShort();
i.goldType = this.readByte();
i.playType = this.readByte();
i.smallBlind = this.readInt() / s.default.chipMulti;
i.userCount = this.readShort();
i.maxCount = this.readShort();
i.timeLevel = this.readByte();
i.status = this.readString();
var a = this.readByte();
i.gameRecord = [];
for (var r = 0; r < a; r++) {
var c = [];
c.postion = this.readShort();
c.point = this.readByte();
i.gameRecord.push(c);
}
i.Banker = this.readInt();
i.Player = this.readInt();
i.Tie = this.readInt();
i.zorder = h.default.hallData.getRoomListNum;
e.roomList.push(i);
h.default.hallData.getRoomListNum += 1;
}
l.default.getInstance().roomList = e;
h.default.hallData.getRoomListNum == e.allSize && n.MyEvent.getInstance().emit("GET_BACCARAT_ROOM_INFO_EVENT");
}
};
e.prototype.procBaccaratRoomRoad = function() {
var e = this.readShort();
if (0 == e) {
var t = cc.js.createMap;
t.type = this.readByte();
t.roadInfo = [];
var o = this.readShort();
t.roomNum = o;
for (var i = 0; i < o; i++) {
var a = [];
a.roomId = this.readShort();
a.gameRecord = [];
for (var r = this.readByte(), s = 0; s < r; s++) {
var c = [];
c.postion = this.readShort();
c.point = this.readByte();
a.gameRecord.push(c);
}
t.roadInfo.push(a);
}
l.default.getInstance().roomRoadInfo = t;
n.MyEvent.getInstance().emit("GET_BACCARAT_ROOM_ROAD", o);
} else console.log(" retCode", e);
};
e.prototype.procRankList = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.type = this.readByte();
t.rankIndex = this.readInt();
t.allSize = this.readShort();
t.ranList = [];
for (var o = this.readByte(), i = 0; i < o; i++) {
var a = {};
a.uid = this.readInt();
a.chip = this.readInt64() / s.default.chipMulti;
a.exp = this.readInt();
a.vipExp = this.readInt();
a.nickName = this.readString();
a.headID = this.readShort();
a.country = this.readString();
a.isSubscribe = this.readByte();
t.ranList.push(a);
}
n.MyEvent.getInstance().emit("GET_RANK_LIST_EVENT", t);
} else console.log("", e);
};
e.prototype.upadateHallRoomInfo = function() {
if (0 == this.readShort()) {
var e = {};
e.goldType = this.readByte();
e.roomId = this.readShort();
e.list = [];
for (var t = this.readByte(), o = 0; o < t; o++) {
var i = {}, n = this.readByte(), a = void 0;
i.type = n;
switch (n) {
case r.roomInfoType.playerNum:
case r.roomInfoType.results:
a = this.readShort();
break;

case r.roomInfoType.roomType:
a = this.readString();
}
i.value = a;
e.list.push(i);
}
l.default.getInstance().updateRoomInfo(e);
}
};
e.prototype.procCreatrVipRoom = function() {
var e = this.readShort(), t = {};
t.code = e;
if (0 != e) {
console.log("", e);
102 == e && b.default.alert(f.default.ins.STRING_DIALOG("creatVipTips"));
} else {
t.type = this.readByte();
t.roomId = this.readShort();
}
n.MyEvent.getInstance().emit("CREATR_VIP_ROOM_EVENT", t);
};
e.prototype.procQuickEnterRoom = function() {
var e = this.readShort();
if (0 == e) ; else {
console.log(":", e);
if (6 == e) {
var t = new g.RechargeConf();
N.default.getInstance().openUIForm("prefab/dialog/confirm", [ t ]);
}
}
};
e.prototype.procGetVipRoomList = function() {
var e = this.readShort();
0 != e && console.log(":", e);
for (var t = this.readByte(), o = this.readShort(), i = this.readShort(), a = [], c = 0; c < i; c++) {
var d = {};
d.roomType = r.goldType.vip;
d.goldType = this.readByte();
d.playType = this.readByte();
d.roomId = this.readShort();
d.smallBlind = this.readInt() / s.default.chipMulti;
d.userCount = this.readShort();
d.maxCount = this.readShort();
d.timeLevel = this.readByte();
d.status = this.readString();
var h = this.readByte();
d.gameRecord = [];
for (var u = 0; u < h; u++) {
var p = {};
p.postion = this.readShort();
p.point = this.readByte();
d.gameRecord.push(p);
}
d.Banker = this.readInt();
d.Player = this.readInt();
d.Tie = this.readInt();
d.owner = this.readInt();
d.nickName = this.readString();
d.isPasswd = this.readByte();
a.push(d);
}
t == r.vipRLFlag.self ? l.default.getInstance().pushSelfVipRoomList(a) : l.default.getInstance().pushOtherVipRoomList(a);
n.MyEvent.getInstance().emit("GET_VIP_ROOMLIST_EVENT", {
flag: t,
allSize: o,
size: i
});
};
e.prototype.procGetRuleRoomList = function() {
if (0 == this.readShort()) {
for (var e = this.readShort(), t = [ [], [], [], [], [], [] ], o = 0; o < e; o++) {
var i = this.readByte(), n = this.readInt() / s.default.chipMulti;
t[i].push(n);
}
for (o = 0; o < t.length; o++) {
t[o] = t[o].sort(function(e, t) {
var o = 0;
e > t ? o = 1 : e < t && (o = -1);
return o;
});
t[o].length > 0 && (s.default.roomRuleRoomList[o] = t[o]);
}
}
};
e.prototype.procGetPlayerHomeInfo = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.userId = this.readInt();
t.nickname = this.readString();
t.headID = this.readShort();
t.giftID = this.readShort();
t.totalMoney = this.readInt64() / s.default.chipMulti;
t.canUseMoney = this.readInt64() / s.default.chipMulti;
t.canWithDrawMoney = this.readInt64() / s.default.chipMulti;
t.withdrawLimit = this.readByte();
t.withdrawTimes = this.readByte();
t.withdrawAmount = this.readInt64() / s.default.chipMulti;
n.MyEvent.getInstance().emit("PLAYER_HOME_INFO_EVENT", t);
} else console.log("", e);
};
e.prototype.procChangeAutograph = function() {
var e = this.readShort();
0 != e && console.log("", e);
};
e.prototype.procChangeName = function() {
var e = this.readShort();
0 == e ? n.MyEvent.getInstance().emit("PROC_CHANGE_NAME_EVENT", e) : console.log("", e);
};
e.prototype.procInspectNameRepeat = function() {
var e = this.readShort();
console.log(e, "");
n.MyEvent.getInstance().emit("PROC_INSPECT_NAME_REPEAT_EVENT", e);
};
e.prototype.procChangeVipExp = function() {
if (0 == this.readShort()) {
this.readInt();
h.default.UserData.vipLevel = this.readInt();
h.default.UserData.vipLevel > 5 && (h.default.UserData.vipLevel = 5);
var e = this.readInt();
e > 0 && y.default.inst.showDialog(y.DialogIndex.vipAwardDlg, e);
n.MyEvent.getInstance().emit("PROC_CHANGE_VIPEXP_EVENT");
}
};
e.prototype.procGetLimitData = function() {
var e = this.readShort();
if (0 == e) {
h.default.limitData.nickTimes = this.readByte();
h.default.limitData.loginReward = this.readInt();
h.default.limitData.intervaelReward = this.readInt();
} else console.log("", e);
};
e.prototype.procSafeOperation = function() {
var e = this.readShort();
0 != e && console.log("", e);
n.MyEvent.getInstance().emit("PROC_SAFE_OPERATION_EVENT");
};
e.prototype.procGetMoneyInfo = function() {
if (0 == this.readShort()) {
var e = {};
e.userID = this.readInt();
e.scenceId = this.readShort();
e.exp = this.readInt();
e.coin = this.readInt64() / s.default.chipMulti;
e.chip = this.readInt64() / s.default.chipMulti;
e.point = this.readInt64() / s.default.pointMulti;
e.safe = this.readInt64() / s.default.chipMulti;
console.log("", e);
if (e.userID == h.default.UserData.userId) {
if (0 != e.scenceId && e.scenceId != r.moneyChange.safe && e.scenceId != r.moneyChange.gift && e.scenceId < 300 && e.scenceId != r.moneyChange.broken) {
var t = e.chip - h.default.UserData.chip, o = e.coin - h.default.UserData.coin;
t > 0 ? b.default.awardAnimation(r.MoneyType.chip) : o > 0 && b.default.awardAnimation(r.MoneyType.coin);
}
h.default.UserData.exp = e.exp;
h.default.UserData.chip = e.chip;
h.default.UserData.coin = e.coin;
h.default.UserData.point = e.point;
h.default.UserData.safeChip = e.safe;
e.scenceId == r.moneyChange.gift && S.default.getInstance().socketSend.getPlayerHomeInfo(h.default.UserData.userId);
101 != e.scenceId && 116 != e.scenceId || (h.default.UserData.firstStrike = 0);
}
n.MyEvent.getInstance().emit("MONEY_UPDATE_EVENT", e);
}
};
e.prototype.procNoticeFriendState = function() {
var e = this.readShort();
0 != e && console.log("", e);
var t = {};
t.uid = this.readInt();
t.isOnline = this.readByte();
t.gameType = this.readByte();
t.roomType = this.readByte();
t.roomId = this.readShort();
t.seat = this.readByte();
n.MyEvent.getInstance().emit("NOTIFY_USER_SRATUS", t);
};
e.prototype.proSearchFriend = function() {
var e = this.readShort();
if (0 == e) {
var t = [];
(o = {}).uid = this.readInt();
o.nickName = this.readString();
o.country = this.readString();
o.chips = this.readInt64();
o.coins = this.readInt64();
o.ticket = this.readInt64();
o.exp = this.readInt();
o.vipExp = this.readInt();
o.regTime = this.readInt();
o.lastLoginTime = this.readInt();
o.isOnline = this.readByte();
o.gameType = this.readByte();
o.type = this.readByte();
o.roomId = this.readShort();
o.seat = this.readByte();
t.push(o);
n.MyEvent.getInstance().emit("GET_SEARCH_USER_INFO", t);
} else {
console.log(" error code", e);
var o;
(o = {}).content = f.default.ins.STRING_HALL("userNotFoundDesc");
o.title = f.default.ins.STRING_COMMON("tips");
o.action = f.default.ins.STRING_DIALOG("enter");
o.callback = function() {
y.default.inst.closeDialog(y.DialogIndex.guideDialog);
};
y.default.inst.showDialog(y.DialogIndex.guideDialog, o);
n.MyEvent.getInstance().emit("GET_SEARCH_USER_NOT_FOUND");
}
};
e.prototype.procHallTimeboxInfo = function() {
if (0 == this.readShort()) {
var e = {};
e.reward = this.readInt() / s.default.chipMulti;
e.resetTime = this.readShort();
e.nextReward = this.readInt() / s.default.chipMulti;
n.MyEvent.getInstance().emit("HALL_TIMEBOX_INFO_EVENT", e);
}
};
e.prototype.oricHallTimeboxReward = function() {
if (0 == this.readShort()) {
var e = {};
e.reward = this.readInt() / s.default.chipMulti;
e.nextTime = this.readShort();
n.MyEvent.getInstance().emit("HALL_TIMEBOX_INFO_REWARD", e);
}
};
e.prototype.procBroadcastMsg = function() {
if (0 == this.readShort()) {
for (var e = this.readByte(), t = 0; t < e; t++) {
var o = {};
o.type = this.readByte();
o.fromUid = this.readInt();
o.content = this.readString();
o.ctime = this.readInt();
d.default.ins.pushAiring(o);
}
n.MyEvent.getInstance().emit("GET_BROADCAST_EVENT");
}
};
e.prototype.procEnterRoom = function() {
var e = this.readShort();
n.MyEvent.getInstance().emit("ENTER_ROOM_ERR_EVENT", e);
};
e.prototype.procPreBet = function() {
var e = this.readShort();
if (0 != e) {
console.log("", e);
101 == e && b.default.alert(f.default.ins.STRING_ALERT("redLimitDesc"));
}
};
e.prototype.procRecallPreBet = function() {
var e = this.readShort();
0 != e && console.log("", e);
};
e.prototype.procBetOver = function() {
var e = this.readShort();
0 != e && console.log("", e);
n.MyEvent.getInstance().emit("BET_OVER_EVENT");
};
e.prototype.procLeaveRoom = function() {
var e = this.readShort();
console.log("", e);
if (0 == e) {
h.default.roomData.signOut = !1;
console.log("leave baccarat room success");
} else console.log("leave baccarat room failed");
};
e.prototype.procSitDown = function() {
var e = this.readShort();
0 != e && console.log("", e);
};
e.prototype.procStandUp = function() {
var e = this.readShort();
0 != e && console.log("", e);
};
e.prototype.procGetRoomInfo = function() {
if (0 == this.readShort()) {
h.default.clearRoomData();
h.default.roomData.gameType = this.readByte();
h.default.roomData.roomType = this.readByte();
h.default.roomData.goldType = this.readByte();
h.default.roomData.roomId = this.readShort();
h.default.roomData.timeLevel = this.readByte();
h.default.roomData.autoOpen = this.readByte();
h.default.roomData.dutyType = this.readByte();
h.default.roomData.minChip = this.readInt() / s.default.chipMulti;
h.default.roomData.maxBlind = this.readInt() / s.default.chipMulti;
h.default.roomData.maxOther = this.readInt() / s.default.chipMulti;
h.default.roomData.maxLucky6 = this.readInt() / s.default.chipMulti;
h.default.roomData.maxSmallTiger = this.readInt() / s.default.chipMulti;
h.default.roomData.maxBigTiger = this.readInt() / s.default.chipMulti;
h.default.roomData.maxDrawTiger = this.readInt() / s.default.chipMulti;
h.default.roomData.cardColor = this.readByte();
h.default.roomData.cutCardPos = this.readByte();
h.default.roomData.count = this.readByte();
for (var e = 0; e < h.default.roomData.count; e++) h.default.roomData.road[e] = {
postion: this.readShort().toString(2),
point: this.readByte()
};
h.default.roomData.remainCount = this.readByte(!0);
h.default.roomData.remainCardCount = this.readShort();
var t = this.readString();
h.default.roomData.gameState = t;
console.log("", h.default.roomData, h.default.roomData.gameState, t);
var o = this.readByte(), i = [], a = 0, c = 0;
for (e = 0; e < o; e++) {
var l = this.readByte(), d = this.readShort(), u = this.readShort();
if (1 == l) {
var p = {
whose: l,
card: d,
cardIndex: u,
index: ++a
};
i[e] = p;
} else if (2 == l) {
p = {
whose: l,
card: d,
cardIndex: u,
index: ++c
};
i[e] = p;
} else {
p = {
whose: l,
card: d,
cardIndex: u,
index: 1
};
i[e] = p;
}
}
h.default.roomData.sendCards = i;
var f = this.readByte();
for (e = 0; e < f; e++) {
var m = {
chipType: this.readByte(),
chipValue: this.readInt() / s.default.chipMulti
};
h.default.roomData.allChipins[e] = m;
}
var g = this.readByte();
for (e = 0; e < g; e++) {
m = {
chipType: this.readByte(),
chipValue: this.readInt() / s.default.chipMulti
};
h.default.roomData.standChipins[e] = m;
}
var y = this.readByte();
for (e = 0; e < y; e++) {
m = {
seatId: this.readByte(),
userId: this.readInt(),
userName: this.readString(),
headID: this.readShort(),
country: this.readString(),
money: this.readInt64() / s.default.chipMulti,
exp: this.readInt(),
vipExp: this.readInt(),
isChipsDown: this.readByte(),
chipsData: []
};
for (var _ = this.readByte(), C = 0; C < _; C++) {
var b = {
chipType: this.readByte(),
chipValue: this.readInt() / s.default.chipMulti
};
m.chipsData[C] = b;
}
m.giftId = this.readShort();
h.default.roomData.seatedData[e] = m;
h.default.roomData.roomMembers[m.userId] = m.userId;
}
var v = this.readByte();
for (e = 0; e < v; e++) {
var S = this.readInt();
h.default.roomData.standData[e] = S;
h.default.roomData.roomMembers[S] = S;
console.log(h.default.roomData.standData);
}
var I = this.readByte();
for (e = 0; e < I; e++) {
var B = {
whose: this.readByte(),
index: this.readByte(),
card: this.readShort()
};
h.default.roomData.openCardEd[e] = B;
}
var w = this.readByte();
for (e = 0; e < w; e++) {
B = {
position: this.readByte(),
value: this.readInt() / s.default.chipMulti
};
h.default.roomData.selfChipData[e] = B;
}
h.default.roomData.playerMiCardId = this.readInt();
h.default.roomData.bankerMiCardId = this.readInt();
h.default.roomData.isReconnect = this.readByte();
h.default.roomData.playType = this.readByte();
h.default.roomData.shuffleID = this.readInt();
console.log(h.default.roomData, "  ", h.default.roomData.gameState, h.default.roomData, h.default.roomData.isReconnect);
1 == h.default.roomData.isReconnect || n.MyEvent.getInstance().emit("ON_GET_ROOM_INFO", r.gameType.baccarat);
}
};
e.prototype.procEndMipai = function() {
var e = this.readShort();
0 != e && console.log(" :" + e);
};
e.prototype.procWhenToContinue = function() {
var e = this.readShort();
console.log("", e);
};
e.prototype.procEndCutCard = function() {
this.readShort();
};
e.prototype.procReportOpenCard = function() {
this.readShort();
};
e.prototype.procGetCardNum = function() {
if (0 == this.readShort()) {
var e = this.readShort();
h.default.roomData.remainCardCount = e;
n.MyEvent.getInstance().emit("UPDATE_REMAINCARDCOUNT_EVENT", e);
}
};
e.prototype.procBroadcastPreBet = function() {
if (0 == this.readShort()) {
var e = {};
e.userId = this.readInt();
e.chipsInfo = [];
for (var t = this.readByte(), o = 0; o < t; o++) {
var i = {
chipType: this.readByte(),
chipValue: this.readInt() / s.default.chipMulti
};
i.chipType -= 1;
e.chipsInfo.push(i);
}
e.playerTopper = this.readInt();
e.bankerTopper = this.readInt();
n.MyEvent.getInstance().emit("BACCARAT_ROOM_PREBET", e);
}
};
e.prototype.procBroadcastRecallPreBet = function() {
if (0 == this.readShort()) {
var e = {};
e.userId = this.readInt();
var t = this.readByte();
e.chipInfo = [];
for (var o = 0; o < t; o++) e.chipInfo[o] = {
chipType: this.readByte(),
chipValue: this.readInt() / s.default.chipMulti
};
e.playerTopper = this.readInt();
e.bankerTopper = this.readInt();
n.MyEvent.getInstance().emit("BACCARAT_ROOM_RECALL_PREBET", e);
}
};
e.prototype.procBaccaratBetEd = function() {
if (0 == this.readShort()) {
var e = this.readInt();
n.MyEvent.getInstance().emit("BACCARAT_BETED_EVENT", e);
}
};
e.prototype.procBroadcastInRoom = function() {
if (0 == this.readShort()) {
var e = this.readInt();
h.default.roomData.roomMembers[e] = e;
}
};
e.prototype.procBroadcastLeaveRoom = function() {
if (0 == this.readShort()) {
var e = this.readInt();
h.default.roomData.roomMembers[e] && (h.default.roomData.roomMembers[e] = null);
}
};
e.prototype.procBroadcastSitdown = function() {
if (0 == this.readShort()) {
var e = {};
e.seatId = this.readByte();
e.userId = this.readInt();
e.userName = this.readString();
e.headID = this.readShort();
e.country = this.readString();
e.money = this.readInt64() / s.default.chipMulti;
e.exp = this.readInt();
e.vipExp = this.readInt();
e.isChipsDown = 0;
e.chipsData = [];
e.giftId = this.readShort();
h.default.roomData.seatedData.push(e);
n.MyEvent.getInstance().emit("BACCARAT_ROOM_SITDOWN", e);
}
};
e.prototype.procBroadcastStandUp = function() {
if (0 == this.readShort()) {
var e = {};
e.seatId = this.readByte();
e.userId = this.readInt();
e.userName = this.readString();
n.MyEvent.getInstance().emit("BACCARAT_ROOM_STANDUP", e);
if (101 == this.readShort() && e.userId == h.default.UserData.userId) {
y.default.inst.closeFullViewDialog(y.FullViewIndex.webViewDlg);
y.default.inst.closeFullViewDialog(y.FullViewIndex.gameActivity);
var t = new g.ConfirmData();
t.desc = f.default.ins.STRING_ROOM("kickUp");
t.oneBtn = !0;
N.default.getInstance().openUIForm("prefab/dialog/confirm", [ t ]);
}
}
};
e.prototype.procBroadcastPlayerBroadcast = function() {
var e = this.readShort();
console.log("retCode = ", e);
if (0 == e) {
var t = {};
t.broadType = this.readByte();
console.log("broadType = ", t.broadType);
t.userId = this.readInt();
t.nickname = this.readString(!0);
switch (t.broadType) {
case r.broadcastType.chat:
t.msg = this.readString(!0);
h.default.roomData.chatList.push(t);
break;

case r.broadcastType.mipai_move:
t.cardId = this.readByte();
this.readShort();
var o = this.readByte(!0), i = this.readByte(!0), a = this.readByte(!0), s = this.readByte(!0);
t.startPos = cc.v2(o / 100, i / 100);
t.nowPos = cc.v2(a / 100, s / 100);
break;

case r.broadcastType.mipai_angle:
t.cardId = this.readByte();
this.readShort();
t.angle = this.readShort(!0);
break;

case r.broadcastType.mipai_reset:
t.cardId = this.readByte();
this.readShort();
break;

case r.broadcastType.mipai_open:
t.cardId = this.readByte();
this.readShort();
console.log("mipai_open");
break;

case r.broadcastType.cutCard_move:
t.percentage = this.readByte();
this.readShort();
break;

case r.broadcastType.cutCard_ing:
break;

case r.broadcastType.vociferate:
t.msg = this.readString(!0);
t.type = this.readByte();
break;

case r.broadcastType.ejimo:
t.id = this.readByte();
}
n.MyEvent.getInstance().emit("BROADCAST_PLAYER_BROADCAST_EVENT", t);
}
};
e.prototype.procRoomState = function() {
if (0 == this.readShort()) {
var e = this.readString();
h.default.roomData.gameState = e;
var t = this.readShort();
h.default.roomData.timeOut = t;
var o = this.readShort();
h.default.roomData.RemainTimeOut = o;
var i = {
timeOut: t
};
switch (e) {
case "pause":
break;

case "shuffle":
h.default.roomData.shuffleID = this.readInt();
h.default.roomData.cardColor = this.readByte();
h.default.roomData.cutCardPos = this.readByte();
h.default.roomData.cutCardNum = this.readShort();
i = {
timeOut: t,
RemainTimeOut: o,
userId: this.readInt(),
userName: this.readString(),
headID: this.readShort(),
country: this.readString(),
gold: this.readInt64() / s.default.chipMulti,
coin: this.readInt64() / s.default.chipMulti,
exp: this.readInt()
};
h.default.roomData.shuffleInfo = i;
console.log("", h.default.roomData.cardColor, h.default.roomData.cutCardPos, h.default.roomData.cutCardNum);
break;

case "shuffle_cartoon":
break;

case "chipin":
for (var a = this.readByte(), r = [], c = 0; c < a; c++) {
var l = {
userId: this.readInt(),
seatId: this.readByte(),
money: this.readInt64() / s.default.chipMulti
};
r[c] = l;
}
for (var d = [], u = this.readByte(), p = 0, f = 0, m = 0; m < u; m++) {
var g = this.readByte(), y = this.readShort();
if (1 == g) {
var _ = {
whose: g,
card: 0,
cardIndex: y,
index: ++p
};
d[m] = _;
} else if (2 == g) {
_ = {
whose: g,
card: 0,
cardIndex: y,
index: ++f
};
d[m] = _;
} else {
_ = {
whose: g,
card: 0,
cardIndex: y,
index: 1
};
d[m] = _;
}
}
h.default.roomData.sendCards = d;
i = {
timeOut: t,
RemainTimeOut: o,
seatPlayerData: r,
cardsData: d
};
break;

case "deal_card":
var C = this.readByte(), b = [], v = 0, S = 0;
for (c = 0; c < C; c++) {
g = this.readByte();
var I = this.readShort();
y = this.readShort();
if (1 == g) {
_ = {
whose: g,
card: I,
cardIndex: y,
index: ++v
};
b[c] = _;
} else if (2 == g) {
_ = {
whose: g,
card: I,
cardIndex: y,
index: ++S
};
b[c] = _;
} else {
_ = {
whose: g,
card: I,
cardIndex: y,
index: 1
};
b[c] = _;
}
}
h.default.roomData.sendCards = b;
h.default.roomData.playerMiCardId = this.readInt();
h.default.roomData.bankerMiCardId = this.readInt();
break;

case "check_continue":
break;

case "player_squeeze":
case "banker_squeeze":
case "player_squeeze_second":
case "banker_squeeze_second":
i = {
timeOut: t,
RemainTimeOut: o,
openCardId: this.readInt()
};
break;

case "settlement":
var B = {};
B.userId = this.readInt();
B.getGold = this.readInt64() / s.default.chipMulti;
B.point = this.readInt64();
B.exp = this.readShort();
B.selfWinInfo = [];
var w = this.readByte();
for (c = 0; c < w; c++) {
var N = {
position: this.readByte(),
value: this.readInt() / s.default.chipMulti
};
B.selfWinInfo[c] = N;
}
B.selfChipInfo = [];
var L = this.readByte();
for (c = 0; c < L; c++) {
var T = {
position: this.readByte(),
value: this.readInt() / s.default.chipMulti
};
B.selfChipInfo[c] = T;
}
var D = this.readShort(), E = this.readByte();
B.player = [];
var A = this.readByte();
for (c = 0; c < A; c++) {
var R = {};
R.userId = this.readInt();
R.seatId = this.readByte();
R.playerWinInfo = [];
for (var M = this.readByte(), G = 0; G < M; G++) {
N = {
position: this.readByte(),
value: this.readInt() / s.default.chipMulti
};
R.playerWinInfo[G] = N;
}
R.playerChipInfo = [];
var O = this.readByte();
for (G = 0; G < O; G++) {
T = {
position: this.readByte(),
value: this.readInt() / s.default.chipMulti
};
R.playerChipInfo[G] = T;
}
R.exp = this.readShort();
R.point = this.readInt64();
B.player[c] = R;
}
i = {
timeOut: t,
RemainTimeOut: o,
info: B,
winResult: D,
winPoint: E
};
var P = this.readByte(), k = this.readShort();
console.log("ID", P, k, h.default.roomData.roomId);
if (k != h.default.roomData.roomId) return;
0 == h.default.roomData.roomId || h.default.roomData.road.push({
postion: D.toString(2),
point: E
});
break;

case "show_card":
var x = this.readString(), F = this.readByte(), U = [];
for (c = 0; c < F; c++) U[c] = {
whose: this.readByte(),
index: this.readByte(),
card: this.readShort()
};
h.default.roomData.openCardEd = U;
i = {
timeOut: t,
RemainTimeOut: o,
nextStatus: x,
openCard: U
};
console.log("1111", i, new Date().getTime());
}
console.log("", e, i, h.default.roomData.timeOut, h.default.roomData.RemainTimeOut);
n.MyEvent.getInstance().emit("BACCARAT_ROOM_STATE_CHANGE", i);
}
};
e.prototype.procBroadcastDealcards = function() {};
e.prototype.procBroadcastOpenCard = function() {
var e = this.readShort();
console.log("open card retCode = ", e);
if (0 == e) {
for (var t = this.readByte(), o = this.readByte(), i = [], a = 0; a < o; a++) i[a] = {
whose: this.readByte(),
index: this.readByte(),
card: this.readShort()
};
h.default.roomData.openCardEd = i;
n.MyEvent.getInstance().emit("BACCARAT_OPEN_CARD", {
isPlayerOpend: t,
list: i
});
console.log("", i, h.default.roomData.openCardEd);
}
};
e.prototype.procKickoutRoom = function() {
s.default.lastScene = C.SceneIndex.baccarat;
C.default.enterHall();
};
e.prototype.procRoomInfo = function() {
if (0 == this.readShort()) {
h.default.roomData.reconnectData = {};
h.default.roomData.gameState = this.readString();
var e = this.readShort();
h.default.roomData.timeOut = e;
var t = this.readShort();
h.default.roomData.RemainTimeOut = t;
var o = {
timeOut: e
};
switch (h.default.roomData.gameState) {
case "pause":
break;

case "shuffle":
h.default.roomData.shuffleID = this.readInt();
h.default.roomData.cardColor = this.readByte();
h.default.roomData.cutCardPos = this.readByte();
h.default.roomData.cutCardNum = this.readShort();
o = {
timeOut: e,
RemainTimeOut: t,
userId: this.readInt(),
userName: this.readString(),
headID: this.readShort(),
country: this.readString(),
gold: this.readInt64() / s.default.chipMulti,
coin: this.readInt64() / s.default.chipMulti,
exp: this.readInt()
};
h.default.roomData.shuffleInfo = o;
break;

case "chipin":
for (var i = this.readByte(), a = [], r = 0; r < i; r++) {
var c = {
userId: this.readInt(),
seatId: this.readByte(),
money: this.readInt64() / s.default.chipMulti
};
a[r] = c;
}
for (var l = [], d = this.readByte(), u = 0, p = 0, f = 0; f < d; f++) {
var m = this.readByte(), g = this.readShort();
if (1 == m) {
var y = {
whose: m,
card: 0,
cardIndex: g,
index: ++u
};
l[f] = y;
} else if (2 == m) {
y = {
whose: m,
card: 0,
cardIndex: g,
index: ++p
};
l[f] = y;
} else {
y = {
whose: m,
card: 0,
cardIndex: g,
index: 1
};
l[f] = y;
}
}
h.default.roomData.sendCards = l;
o = {
timeOut: e,
RemainTimeOut: t,
seatPlayerData: a,
cardsData: l
};
break;

case "deal_card":
var _ = this.readByte(), C = [], b = 0, v = 0;
for (r = 0; r < _; r++) {
m = this.readByte();
var S = this.readShort();
g = this.readShort();
if (1 == m) {
y = {
whose: m,
card: S,
cardIndex: g,
index: ++b
};
C[r] = y;
} else if (2 == m) {
y = {
whose: m,
card: S,
cardIndex: g,
index: ++v
};
C[r] = y;
} else {
y = {
whose: m,
card: S,
cardIndex: g,
index: 1
};
C[r] = y;
}
}
h.default.roomData.sendCards = C;
h.default.roomData.playerMiCardId = this.readInt();
h.default.roomData.bankerMiCardId = this.readInt();
break;

case "player_squeeze":
case "banker_squeeze":
case "player_squeeze_second":
case "banker_squeeze_second":
o = {
timeOut: e,
RemainTimeOut: t,
openCardId: this.readInt()
};
break;

case "settlement":
var I = {};
I.userId = this.readInt();
I.getGold = this.readInt64() / s.default.chipMulti;
I.point = this.readInt64();
I.exp = this.readShort();
I.selfWinInfo = [];
var B = this.readByte();
for (r = 0; r < B; r++) {
var w = {
position: this.readByte(),
value: this.readInt() / s.default.chipMulti
};
I.selfWinInfo[r] = w;
}
I.selfChipInfo = [];
var N = this.readByte();
for (r = 0; r < N; r++) {
var L = {
position: this.readByte(),
value: this.readInt() / s.default.chipMulti
};
I.selfChipInfo[r] = L;
}
var T = this.readShort(), D = this.readByte();
I.player = [];
var E = this.readByte();
for (r = 0; r < E; r++) {
var A = {};
A.userId = this.readInt();
A.seatId = this.readByte();
A.playerWinInfo = [];
for (var R = this.readByte(), M = 0; M < R; M++) {
w = {
position: this.readByte(),
value: this.readInt() / s.default.chipMulti
};
A.playerWinInfo[M] = w;
}
A.playerChipInfo = [];
var G = this.readByte();
for (M = 0; M < G; M++) {
L = {
position: this.readByte(),
value: this.readInt() / s.default.chipMulti
};
A.playerChipInfo[M] = L;
}
A.exp = this.readShort();
A.point = this.readInt64();
I.player[r] = A;
}
o = {
timeOut: e,
RemainTimeOut: t,
info: I,
winResult: T,
winPoint: D
};
break;

case "show_card":
var O = this.readString(), P = this.readByte(), k = [];
for (r = 0; r < P; r++) k[r] = {
whose: this.readByte(),
index: this.readByte(),
card: this.readShort()
};
o = {
timeOut: e,
RemainTimeOut: t,
nextStatus: O,
openCard: k
};
}
console.log("", o, h.default.roomData.gameState);
h.default.roomData.reconnectData = o;
1 == h.default.roomData.isReconnect && n.MyEvent.getInstance().emit("BACCARATROOM_RECONNECTION_EVENT");
}
};
e.prototype.procContineCatCard = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.userId = this.readInt();
t.goon = this.readByte();
n.MyEvent.getInstance().emit("CONTINE_CATCARD_EVENT", t);
console.log("", t.userId, t.goon);
} else console.log("", e);
};
e.prototype.procBroadcastRoomGiveGift = function() {
if (0 == this.readShort()) {
var e = {};
e.fromUid = this.readInt();
e.giftId = this.readShort();
e.list = [];
for (var t = this.readByte(), o = 0; o < t; o++) e.list.push(this.readInt());
n.MyEvent.getInstance().emit("BROADCAST_ROOM_GIVEGIFT_EVENT", e);
}
};
e.prototype.procStopUpdateRoomInfo = function() {
0 == this.readShort() ? console.log("procStopUpdateRoomInfo success") : console.log("procStopUpdateRoomInfo failed");
};
e.prototype.procSetUp = function() {
var e = this.readShort();
0 == e || console.log("", e);
};
e.prototype.procGetGiftList = function() {
if (0 == this.readShort()) {
for (var e = this.readByte(), t = [], o = 0; o < e; o++) t.push({
id: this.readInt(),
giftId: this.readShort(),
status: this.readByte(),
expireTime: this.readInt()
});
u.default.ins.myGiftList = t;
}
};
e.prototype.procNoticeGiftsFromOthers = function() {
if (0 == this.readShort()) {
var e = {};
e.fromUid = this.readInt();
e.nickName = this.readString();
e.country = this.readString();
e.exp = this.readInt();
e.vipExp = this.readInt();
e.giftId = this.readShort();
e.expireTime = this.readInt();
e.indexId = this.readInt();
u.default.ins.pushMyGiftList(e);
}
};
e.prototype.procPurchaseGift = function() {
var e = this.readShort();
0 == e && console.log("");
n.MyEvent.getInstance().emit("SELF_BUYGIFT_EVENT", e);
};
e.prototype.procWearGift = function() {
var e = this.readShort();
if (0 == e) {
h.default.UserData.giftId = this.readShort();
console.log("", h.default.UserData.giftId);
}
n.MyEvent.getInstance().emit("WEAR_GIFT_EVENT", e);
};
e.prototype.procGetCoinList = function() {
var e = this.readShort();
0 == e ? this.readString() : console.log("procGetCoinList error code", e);
};
e.prototype.procGetMailInfo = function() {
var e = this.readShort();
if (0 == e) {
for (var t = this.readByte(), o = [], i = 0; i < t; i++) {
var a = {};
a.type = this.readByte();
a.allCount = this.readShort();
a.unreadCount = this.readShort();
a.isRewarded = this.readByte();
o.push(a);
}
n.MyEvent.getInstance().emit("GET_MAIL_INFO", o);
} else console.log(" error code", e);
};
e.prototype.procGetMailList = function() {
var e = this.readShort();
if (0 == e) {
for (var t = {}, o = this.readByte(), i = this.readByte(), a = [], r = 0; r < i; r++) {
var s = {};
s.mailID = this.readInt();
s.sceneID = this.readByte();
s.fromUid = this.readInt();
s.country = this.readString();
s.nickName = this.readString();
s.exp = this.readInt();
s.vipExp = this.readInt();
s.title = this.readString();
s.content = this.readString();
s.time = this.readInt();
s.status = this.readByte();
s.isRewarded = this.readByte();
s.reward = this.readString();
a.push(s);
}
t.type = o;
t.list = a;
n.MyEvent.getInstance().emit("GET_MAIL_LIST", t);
} else console.log(" error code", e);
};
e.prototype.procReadMail = function() {
var e = this.readShort();
0 == e ? console.log("") : console.log(" error code", e);
};
e.prototype.procReadAllMail = function() {
var e = this.readShort();
0 == e ? console.log("") : console.log(" error code", e);
};
e.prototype.procGetMailReward = function() {
var e = this.readShort();
if (0 == e) {
this.readByte();
var t = this.readInt(), o = this.readString(), i = {};
i.mailID = t;
i.reward = o;
n.MyEvent.getInstance().emit("GET_MAIL_REWARD", i);
console.log(" error code", e);
} else 102 == e ? y.default.inst.showTips(f.default.ins.STRING_ALERT("receiveCoinLimit")) : console.log(" error code", e);
};
e.prototype.procGetAllMailReward = function() {
var e = this.readShort();
if (0 == e) {
var t = this.readByte(), o = this.readByte();
if (o > 0) {
for (var i = "", a = 0; a < o; a++) {
var r = this.readString();
a != o - 1 ? i = i + r + "," : i += r;
}
var s = {};
s.mailType = t;
s.reward = i;
n.MyEvent.getInstance().emit("GET_ALL_MAIL_REWARD", s);
}
console.log(" allSize ", o);
} else console.log(" error code", e);
};
e.prototype.procDeleteMail = function() {
var e = this.readShort();
0 == e ? console.log("") : console.log(" error code", e);
};
e.prototype.procDeleteAllMail = function() {
var e = this.readShort();
0 == e ? console.log("") : console.log(" error code", e);
};
e.prototype.procNotifyNewMail = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.type = this.readByte();
n.MyEvent.getInstance().emit("NOTIRY_NEW_MAIL", t);
console.log("");
} else console.log(" error code", e);
};
e.prototype.procADReward = function() {
var e = this.readShort();
if (0 == e) {
for (var t = this.readByte(), o = [], i = 0; i < t; i++) {
(l = {}).type = this.readByte();
l.value = this.readInt() / s.default.chipMulti;
o.push(l);
}
var a = this.readShort();
w.default.inst.adNextRewardIntervalTime = a;
var r = this.readByte(), c = [];
for (i = 0; i < r; i++) {
var l;
(l = {}).type = this.readByte();
l.value = this.readInt() / s.default.chipMulti;
c.push(l);
1 == l.type && (w.default.inst.adNextRewardAmount = l.value);
}
var d = this.readByte();
console.log("nextAdType === ", d);
w.default.inst.adNextShowType = d;
b.default.saveData("adNextShowType", w.default.inst.adNextShowType);
b.default.saveData("adRewardAmount", w.default.inst.adNextRewardAmount);
b.default.saveData("adRewardIntervalTime", w.default.inst.adNextRewardIntervalTime);
b.default.saveData("ADRewardTime", new Date().getTime());
n.MyEvent.getInstance().emit("AD_REWARD_EVENT", o);
n.MyEvent.getInstance().emit("UPDATA_ACTIVITY_STATUS");
w.default.inst.canGetADReward = !1;
console.log(" ");
} else console.log("  error code", e);
};
e.prototype.procTimeReward = function() {
var e = this.readShort();
if (0 == e) {
for (var t = this.readByte(), o = [], i = 0; i < t; i++) {
var a = {};
a.type = this.readByte();
a.value = this.readInt() / s.default.chipMulti;
o.push(a);
}
b.default.saveData("TimeRewardTime" + h.default.UserData.userId, new Date().getTime());
n.MyEvent.getInstance().emit("TIME_REWARD_EVENT", o);
n.MyEvent.getInstance().emit("UPDATA_ACTIVITY_STATUS");
console.log(" ");
} else {
n.MyEvent.getInstance().emit("TIME_REWARD_EVENT", "");
console.log("  error code", e);
}
};
e.prototype.procInviteRegisterRewardInfo = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.invitedNum = this.readShort();
t.rewardedNum = this.readShort();
t.nextRewardedNum = this.readShort();
for (var o = this.readByte(), i = [], a = 0; a < o; a++) {
(h = {}).type = this.readByte();
h.value = this.readInt() / s.default.chipMulti;
i.push(h);
}
t.extraReward = i;
var r = this.readByte(), c = [];
for (a = 0; a < r; a++) {
(h = {}).type = this.readByte();
h.value = this.readInt() / s.default.chipMulti;
c.push(h);
}
t.nextReward = c;
var l = this.readByte(), d = [];
for (a = 0; a < l; a++) {
var h;
(h = {}).uid = this.readInt();
h.nickName = this.readString();
d.push(h);
}
t.inviteUser = d;
n.MyEvent.getInstance().emit("INVITE_REGISTER_INFO", t);
console.log(" ");
} else console.log("  error code", e);
};
e.prototype.procInviteRegisterReward = function() {
var e = this.readShort();
if (0 == e) {
for (var t = {}, o = this.readByte(), i = [], a = 0; a < o; a++) {
(l = {}).type = this.readByte();
l.value = this.readInt() / s.default.chipMulti;
i.push(l);
}
var r = this.readByte(), c = [];
for (a = 0; a < r; a++) {
var l;
(l = {}).type = this.readByte();
l.value = this.readInt() / s.default.chipMulti;
c.push(l);
}
t.reward = i;
t.extraReward = c;
n.MyEvent.getInstance().emit("INVITE_REGISTER_REWARD", t);
S.default.getInstance().socketSend.getInviteRegisterInfo();
console.log("  ");
} else console.log("  error code", e);
};
e.prototype.procInviteToGame = function() {
var e = this.readShort();
if (0 == e) {
console.log("");
y.default.inst.showTips(f.default.ins.STRING_ALERT("inviteSuccess"));
} else console.log(" error code", e);
};
e.prototype.procNotifyInvite = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.isFriend = this.readByte();
t.fromUid = this.readInt();
t.vipExp = this.readInt();
t.gold = this.readInt64() / s.default.chipMulti;
t.nickName = this.readString();
t.platform = this.readString();
t.country = this.readString();
t.type = this.readByte();
t.goldType = this.readByte();
t.roomId = this.readShort();
t.smallBlind = this.readInt() / s.default.chipMulti;
t.maxBlind = this.readInt() / s.default.chipMulti;
t.gameType = this.readByte();
p.default.getInstance().push(t);
n.MyEvent.getInstance().emit("NOTIFY_INVITE", t);
console.log("");
} else console.log(" error code", e);
};
e.prototype.procReportTask = function() {
0 == this.readShort() ? console.log("") : console.log("");
};
e.prototype.procDenyInvited = function() {
var e = this.readShort();
0 == e ? console.log("") : console.log(" error code", e);
};
e.prototype.procNotifyDenied = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.fromUid = this.readInt();
t.nickName = this.readString();
t.platform = this.readString();
t.msg = this.readString();
n.MyEvent.getInstance().emit("NOTIFY_DENIED", t);
console.log("");
} else console.log(" error code", e);
};
e.prototype.procGetRecommondUserList = function() {
var e = this.readShort();
if (0 == e) {
var t = this.readByte(), o = this.readByte(), i = {};
i.type = t;
for (var a = [], r = 0; r < o; r++) {
var c = {};
c.uid = this.readInt();
c.money = this.readInt64() / s.default.chipMulti;
c.exp = this.readInt();
c.vipExp = this.readInt();
c.nickName = this.readString();
c.country = this.readString();
if (1 == t) {
c.lng = this.readInt();
c.lat = this.readInt();
c.distance = this.readInt();
c.isOnline = 1;
} else {
c.isOnline = this.readByte();
c.gameType = this.readByte();
c.type = this.readByte();
c.roomId = this.readShort();
c.seatId = this.readByte();
c.lastLoginTime = this.readInt();
}
a.push(c);
}
i.users = a;
n.MyEvent.getInstance().emit("ON_GET_RECOMMEND_USER_LIST", i);
console.log("");
} else console.log(" error code", e);
};
e.prototype.procRedNotification = function() {
if (0 == this.readShort()) {
for (var e = this.readByte(), t = this.readByte(), o = [], i = 0; i < t; i++) {
var n = {};
n.postion = this.readString();
n.count = this.readShort();
o.push(n);
}
m.default.ins.pushRedData(o, e);
}
};
e.prototype.procPhpActivity = function() {
if (0 == this.readShort()) {
for (var e = [], t = this.readByte(), o = 0; o < t; o++) {
var i = {};
i.sort = this.readByte();
i.fileName = this.readString();
i.activityName = this.readString();
e.push(i);
}
c.default.ins.activityData = e;
n.MyEvent.getInstance().emit("ON_GET_ACTIVITY_LIST_SUCCESS", e);
}
};
e.prototype.procUpdateHeadPhoto = function() {
b.default.clearHeadCache(h.default.UserData.userId);
n.MyEvent.getInstance().emit("UPLOAD_AVATAR_EVENT");
};
e.prototype.procNoticePraise = function() {
console.log("");
h.default.hallData.fiveStart = !0;
};
e.prototype.procNotifyRsp = function() {
h.default.hallData.feedback = 1;
n.MyEvent.getInstance().emit("GAME_REDTIPS_EVENT");
};
e.prototype.procBankruptcy = function() {};
e.prototype.procTutorialsReward = function() {
var e = this.readShort();
0 == e ? console.log("procTutorialsReward success") : console.log("procTutorialsReward fail", e);
};
e.prototype.procGetPresentADType = function() {
var e = this.readShort();
if (0 == e) {
var t = this.readByte();
w.default.inst.presentAD(t);
} else console.log("procGetPresentADType fail", e);
};
e.prototype.procBJEnterRoom = function() {
var e = this.readShort();
0 == e ? console.log("procBJEnterRoom success") : 301 == e ? n.MyEvent.getInstance().emit("ROOM_NOT_EXIST") : 101 == e ? n.MyEvent.getInstance().emit("USER_MAX_LIMIT") : 6 == e ? n.MyEvent.getInstance().emit("MONEY_NOT_ENOUGH") : console.log("procBJEnterRoom fail", e);
};
e.prototype.procBJUserBet = function() {
var e = this.readShort();
0 == e ? console.log("procBJUserBet success") : 302 == e ? n.MyEvent.getInstance().emit("BET_MAX_LIMIT") : console.log("procBJUserBet fail", e);
};
e.prototype.procBJCancelBet = function() {
var e = this.readShort();
0 == e ? console.log("procBJCancelBet success") : console.log("procBJCancelBet fail", e);
};
e.prototype.procBJCompleteBet = function() {
var e = this.readShort();
0 == e ? console.log("procBJCompleteBet success") : console.log("procBJCompleteBet fail", e);
};
e.prototype.procBJQuitRoom = function() {
var e = this.readShort();
0 == e ? console.log("procBJQuitRoom success") : console.log("procBJQuitRoom fail", e);
};
e.prototype.procBJUserSit = function() {
var e = this.readShort();
0 == e ? console.log("procBJUserSit success") : console.log("procBJUserSit fail", e);
};
e.prototype.procBJUserStand = function() {
var e = this.readShort();
0 == e ? console.log("procBJUserStand success") : console.log("procBJUserStand fail", e);
};
e.prototype.procBJRoomBroadcast = function() {
var e = this.readShort();
0 == e ? console.log("procBJRoomBroadcast success") : console.log("procBJRoomBroadcast fail", e);
};
e.prototype.procBJRoomInfo = function() {};
e.prototype.procBJChat = function() {
var e = this.readShort();
0 == e ? console.log("procBJChat success") : console.log("procBJChat fail", e);
};
e.prototype.procBJInsurance = function() {
var e = this.readShort();
0 == e ? console.log("procBJInsurance success") : console.log("procBJInsurance fail", e);
};
e.prototype.procBJGetLeftCards = function() {
var e = this.readShort();
if (0 == e) {
var t = this.readShort();
n.MyEvent.getInstance().emit("UPDATE_LEFT_CARDS", t);
console.log("procBJGetLeftCards success");
} else console.log("procBJGetLeftCards fail", e);
};
e.prototype.procBJUserAction = function() {
var e = this.readShort();
0 == e ? console.log("procBJUserAction success") : console.log("procBJUserAction fail", e);
};
e.prototype.procBJCollectCard = function() {
n.MyEvent.getInstance().emit("BJ_COLLECT_CARD");
};
e.prototype.procBJPreSettlement = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJPreSettlement success");
for (var t = this.readByte(), o = [], i = 0; i < t; i++) {
var a = {};
a.userID = this.readInt();
a.seatID = this.readByte();
a.cardPoint = this.readByte();
for (var r = [], c = this.readByte(), l = 0; l < c; l++) {
var d = {};
d.betAreaID = this.readByte();
d.betMoney = this.readInt64() / s.default.chipMulti;
r.push(d);
}
a.winInfo = r;
for (var h = [], u = this.readByte(), p = 0; p < u; p++) {
var f = {};
f.betAreaID = this.readByte();
f.betMoney = this.readInt64() / s.default.chipMulti;
h.push(f);
}
a.betInfo = h;
a.winExp = this.readShort();
a.winTicket = this.readInt64();
o.push(a);
}
n.MyEvent.getInstance().emit("BJ_PRE_SETTLEMENT", o);
} else console.log("procBJPreSettlement fail", e);
};
e.prototype.procBJDealSecondCard = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJDealSecondCard success");
var t = {};
t.cardValue = this.readShort();
t.cardIndex = this.readShort();
n.MyEvent.getInstance().emit("BJ_BANKER_SECOND_CARD", t);
} else console.log("procBJDealSecondCard fail", e);
};
e.prototype.procBJBroadcastEnterRoom = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJBroadcastEnterRoom success");
var t = {};
t.userID = this.readInt();
t.nickName = this.readString();
t.country = this.readString();
t.chip = this.readInt64() / s.default.chipMulti;
t.coin = this.readInt64() / s.default.chipMulti;
t.exp = this.readInt();
t.vipExp = this.readInt();
n.MyEvent.getInstance().emit("BJ_BROADCAST_USER_ENTER_ROOM", t);
h.default.roomData.roomMembers[t.userID] = t.userID;
} else console.log("procBJBroadcastEnterRoom fail", e);
};
e.prototype.procBJBroadcastUserBet = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJBroadcastUserBet success");
var t = {};
t.userID = this.readInt();
for (var o = this.readByte(), i = [], a = 0; a < o; a++) {
var r = {};
r.betAreaID = this.readByte();
r.betMoney = this.readInt64() / s.default.chipMulti;
i.push(r);
}
t.betInfo = i;
n.MyEvent.getInstance().emit("BJ_BROADCAST_USER_BET", t);
} else console.log("procBJBroadcastUserBet fail", e);
};
e.prototype.procBJBroadcastCancelBet = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJBroadcastCancelBet success");
var t = {};
t.userID = this.readInt();
t.userMoney = this.readInt64() / s.default.chipMulti;
n.MyEvent.getInstance().emit("BJ_BROADCAST_USER_CANCEL_BET", t);
} else console.log("procBJBroadcastCancelBet fail", e);
};
e.prototype.procBJBroadcastCompleteBet = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJBroadcastCompleteBet success");
var t = this.readInt();
n.MyEvent.getInstance().emit("BJ_BROADCAST_USER_COMPLETE_BET", t);
} else console.log("procBJBroadcastCompleteBet fail", e);
};
e.prototype.procBJBroadcastQuitRoom = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJBroadcastQuitRoom success");
var t = this.readInt();
h.default.roomData.roomMembers[t] && (h.default.roomData.roomMembers[t] = null);
n.MyEvent.getInstance().emit("BJ_BROADCAST_USER_QUIT_ROOM", t);
} else console.log("procBJBroadcastQuitRoom fail", e);
};
e.prototype.procBJBroadcastUserSit = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJBroadcastUserSit success");
var t = {};
t.seatID = this.readByte();
t.userID = this.readInt();
t.userName = this.readString();
t.headID = this.readShort();
t.country = this.readString();
t.userMoney = this.readInt64() / s.default.chipMulti;
t.exp = this.readInt();
t.vipExp = this.readInt();
t.giftID = this.readShort();
n.MyEvent.getInstance().emit("BJ_BROADCAST_USER_SIT", t);
} else console.log("procBJBroadcastUserSit fail", e);
};
e.prototype.procBJBroadcastUserStand = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJBroadcastUserStand success");
var t = {};
t.seatID = this.readByte();
t.userID = this.readInt();
t.userName = this.readString();
n.MyEvent.getInstance().emit("BJ_BROADCAST_USER_STAND", t);
} else console.log("procBJBroadcastUserStand fail", e);
};
e.prototype.procBJroadcastRoomBroadcast = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBJroadcastRoomBroadcast success");
var t = {};
t.broadType = this.readByte();
console.log("broadType = ", t.broadType);
t.userId = this.readInt();
t.nickname = this.readString(!0);
switch (t.broadType) {
case r.broadcastType.chat:
t.msg = this.readString(!0);
n.MyEvent.getInstance().emit("USER_CHAT", t);
break;

case r.broadcastType.ejimo:
t.id = this.readByte();
n.MyEvent.getInstance().emit("USER_EJIMO", t);
break;

case r.broadcastType.cutCard_move:
t.percentage = this.readByte();
n.MyEvent.getInstance().emit("CUT_CARD_MOVE", t);
break;

case r.broadcastType.cutCard_ing:
n.MyEvent.getInstance().emit("CUT_CARD_ING", t);
}
} else console.log("procBJroadcastRoomBroadcast fail", e);
};
e.prototype.procBJRoomState = function() {};
e.prototype.procUpdateJackPot = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.gameType = this.readByte();
t.goldType = this.readByte();
t.minBind = this.readInt() / s.default.chipMulti;
for (var o = [], i = this.readByte(), a = 0; a < i; a++) {
var r = {};
r.type = this.readByte();
r.value = this.readInt64() / s.default.chipMulti;
o.push(r);
}
t.jackpotInfo = o;
n.MyEvent.getInstance().emit("UPDATE_JACKPOT", t);
} else console.log("procUpdateJackPot fail", e);
};
e.prototype.procUpdateHallRoomListJackPot = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.gameType = this.readByte();
t.goldType = this.readByte();
for (var o = [], i = this.readByte(), a = 0; a < i; a++) {
var r = {};
r.minBind = this.readInt() / s.default.chipMulti;
for (var c = [], l = this.readByte(), d = 0; d < l; d++) {
var h = {};
h.type = this.readByte();
h.value = this.readInt64() / s.default.chipMulti;
c.push(h);
}
r.jackpotInfo = c;
o.push(r);
}
t.jackpotInfos = o;
n.MyEvent.getInstance().emit("UPDATE_JACKPOT", t);
} else console.log("procUpdateJackPot fail", e);
};
e.prototype.procGetJackPotRewardList = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.gameType = this.readByte();
t.goldType = this.readByte();
t.minBlind = this.readInt();
for (var o = this.readByte(), i = [], a = 0; a < o; a++) {
var r = {};
r.jackpotType = this.readByte();
r.userID = this.readInt();
r.userName = this.readString();
r.vipExp = this.readInt();
r.value = this.readInt64() / s.default.chipMulti;
for (var c = [], l = this.readByte(), d = 0; d < l; d++) c.push(this.readShort());
r.cards = c;
r.time = this.readInt();
r.roomType = this.readByte();
r.roomID = this.readShort();
i.push(r);
}
t.users = i;
n.MyEvent.getInstance().emit("ON_GET_JACKPOT_REWARD_LIST", t);
} else console.log("procGetJackPotRewardList fail", e);
};
e.prototype.procGetHallJackpot = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.gameType = this.readByte();
t.goldType = this.readByte();
t.jackpotType = this.readByte();
for (var o = [], i = this.readByte(), a = 0; a < i; a++) {
var r = {};
r.minBet = this.readInt() / s.default.chipMulti;
r.value = this.readInt64() / s.default.chipMulti;
o.push(r);
}
t.jackpotValues = o;
n.MyEvent.getInstance().emit("ON_GET_HALL_JACKPOT_LIST", t);
} else console.log("procGetHallJackpot fail", e);
};
e.prototype.procBJBroadcastRoomGiveGift = function() {
if (0 == this.readShort()) {
var e = {};
e.fromUid = this.readInt();
e.giftId = this.readShort();
e.list = [];
for (var t = this.readByte(), o = 0; o < t; o++) e.list.push(this.readInt());
n.MyEvent.getInstance().emit("BROADCAST_ROOM_GIVEGIFT_EVENT", e);
}
};
e.prototype.procBJBroadcastJackpot = function() {
var e = this.readShort();
if (0 == e) {
for (var t = this.readByte(), o = [], i = 0; i < t; i++) {
var a = {};
a.userID = this.readInt();
a.winType = this.readByte();
a.winMoney = this.readInt64() / s.default.chipMulti;
a.potMoney = this.readInt64() / s.default.chipMulti;
o.push(a);
}
n.MyEvent.getInstance().emit("BROADCAST_ROOM_JACKPOT_EVENT", o);
} else console.log("procBJBroadcastJackpot fail", e);
};
e.prototype.procBJKickOut = function() {
s.default.lastScene = C.SceneIndex.blackjack;
C.default.enterHall();
};
e.prototype.procGetBlackjackRoomList = function() {};
e.prototype.procUpdateBlackjackRoomInfo = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.goldType = this.readByte();
t.roomID = this.readShort();
for (var o = this.readByte(), i = [], a = 0; a < o; a++) {
var r = {}, s = this.readByte();
r.type = s;
if (1 == s) {
for (var c = this.readByte(), l = [], d = 0; d < c; d++) l.push(this.readByte());
r.seatUsers = l;
} else 2 == s && (r.status = this.readString());
i.push(r);
}
t.updateItems = i;
n.MyEvent.getInstance().emit("ON_UPDATE_ROOM_INFO", t);
} else console.log("procGetUserTotalInfo fail", e);
};
e.prototype.procBacHndEnterRoom = function() {
var e = this.readShort();
0 == e ? console.log("procBacHndEnterRoom success") : 301 == e ? n.MyEvent.getInstance().emit("ROOM_NOT_EXIST") : 101 == e ? n.MyEvent.getInstance().emit("USER_MAX_LIMIT") : 6 == e ? n.MyEvent.getInstance().emit("MONEY_NOT_ENOUGH") : console.log("procBacHndEnterRoom fail", e);
};
e.prototype.procBacHndUserBet = function() {
var e = this.readShort();
0 == e ? console.log("procBacHndUserBet success") : 102 == e ? n.MyEvent.getInstance().emit("BET_MAX_LIMIT") : console.log("procBacHndUserBet fail", e);
};
e.prototype.procBacHndCancelBet = function() {
var e = this.readShort();
0 == e ? console.log("procBacHndCancelBet success") : console.log("procBacHndCancelBet fail", e);
};
e.prototype.procBacHndCompleteBet = function() {
var e = this.readShort();
0 == e ? console.log("procBacHndCompleteBet success") : console.log("procBacHndCompleteBet fail", e);
};
e.prototype.procBacHndQuitRoom = function() {
var e = this.readShort();
0 == e ? console.log("procBacHndQuitRoom success") : console.log("procBacHndQuitRoom fail", e);
};
e.prototype.procBacHndRoomBroadcast = function() {
var e = this.readShort();
0 == e ? console.log("procBacHndRoomBroadcast success") : console.log("procBacHndRoomBroadcast fail", e);
};
e.prototype.procBacHndRoomInfo = function() {};
e.prototype.procBacHndChat = function() {
var e = this.readShort();
0 == e ? console.log("procBacHndChat success") : console.log("procBacHndChat fail", e);
};
e.prototype.procBacHndGetLeftCards = function() {
var e = this.readShort();
if (0 == e) {
var t = this.readShort();
n.MyEvent.getInstance().emit("UPDATE_LEFT_CARDS", t);
console.log("procBacHndGetLeftCards success");
} else console.log("procBacHndGetLeftCards fail", e);
};
e.prototype.procBacHndEndCutCard = function() {
var e = this.readShort();
0 == e ? console.log("procBacHndEndCutCard success") : console.log("procBacHndEndCutCard fail", e);
};
e.prototype.procBacHndIsContinue = function() {
var e = this.readShort();
0 == e ? console.log("procBacHndIsContinue success") : console.log("procBacHndIsContinue fail", e);
};
e.prototype.procBacHndBroadcastEnterRoom = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBacHndBroadcastEnterRoom success");
var t = {};
t.userID = this.readInt();
t.nickName = this.readString();
t.headID = this.readShort();
t.country = this.readString();
t.chip = this.readInt64() / s.default.chipMulti;
t.coin = this.readInt64() / s.default.chipMulti;
t.exp = this.readInt();
t.vipExp = this.readInt();
n.MyEvent.getInstance().emit("BROADCAST_USER_ENTER_ROOM", t);
h.default.roomData.roomMembers[t.userID] = t.userID;
} else console.log("procBacHndBroadcastEnterRoom fail", e);
};
e.prototype.procBacHndBroadcastUserBet = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBacHndBroadcastUserBet success");
var t = {};
t.userID = this.readInt();
t.userMoney = this.readInt64() / s.default.chipMulti;
for (var o = this.readByte(), i = [], a = 0; a < o; a++) {
var r = {};
r.betAreaID = this.readByte();
r.betMoney = this.readInt64() / s.default.chipMulti;
r.betTotalMoney = this.readInt64() / s.default.chipMulti;
r.betTotalUsers = this.readShort();
i.push(r);
}
t.betInfo = i;
n.MyEvent.getInstance().emit("BROADCAST_USER_BET", t);
} else console.log("procBacHndBroadcastUserBet fail", e);
};
e.prototype.procBacHndBroadcastCancelBet = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBacHndBroadcastCancelBet success");
var t = {};
t.userID = this.readInt();
t.userMoney = this.readInt64() / s.default.chipMulti;
var o = this.readByte(), i = [];
if (o > 0) for (var a = 0; a < o; a++) {
(r = {}).betAreaID = this.readByte();
r.betMoney = this.readInt64() / s.default.chipMulti;
r.betMoney = 0;
r.betTotalMoney = this.readInt64() / s.default.chipMulti;
r.betTotalUsers = this.readShort();
i.push(r);
} else for (a = 1; a < 7; a++) {
var r;
(r = {}).betAreaID = a;
r.betMoney = 0;
r.betTotalMoney = 0;
r.betTotalUsers = 0;
i.push(r);
}
t.betInfo = i;
n.MyEvent.getInstance().emit("BROADCAST_USER_CANCEL_BET", t);
} else console.log("procBacHndBroadcastCancelBet fail", e);
};
e.prototype.procBacHndBroadcastCompleteBet = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBacHndBroadcastCompleteBet success");
var t = this.readInt();
n.MyEvent.getInstance().emit("BROADCAST_USER_COMPLETE_BET", t);
} else console.log("procBacHndBroadcastCompleteBet fail", e);
};
e.prototype.procBacHndBroadcastQuitRoom = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBacHndBroadcastQuitRoom success");
var t = this.readInt();
h.default.roomData.roomMembers[t] && (h.default.roomData.roomMembers[t] = null);
n.MyEvent.getInstance().emit("BROADCAST_USER_QUIT_ROOM", t);
} else console.log("procBacHndBroadcastQuitRoom fail", e);
};
e.prototype.procBacHndroadcastRoomBroadcast = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBacHndroadcastRoomBroadcast success");
var t = {};
t.broadType = this.readByte();
console.log("broadType = ", t.broadType);
t.userId = this.readInt();
t.nickname = this.readString(!0);
switch (t.broadType) {
case r.broadcastType.chat:
t.msg = this.readString(!0);
h.default.roomData.chatList.push(t);
n.MyEvent.getInstance().emit("USER_CHAT", t);
break;

case r.broadcastType.ejimo:
t.id = this.readByte();
n.MyEvent.getInstance().emit("USER_EJIMO", t);
break;

case r.broadcastType.cutCard_move:
t.percentage = this.readByte();
n.MyEvent.getInstance().emit("CUT_CARD_MOVE", t);
break;

case r.broadcastType.cutCard_ing:
n.MyEvent.getInstance().emit("CUT_CARD_ING", t);
}
} else console.log("procBacHndroadcastRoomBroadcast fail", e);
};
e.prototype.procBacHndRoomState = function() {};
e.prototype.procBacHndBroadcastIsContinue = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBacHndBroadcastIsContinue success");
var t = {};
t.userID = this.readInt();
t.isContinue = this.readByte();
n.MyEvent.getInstance().emit("USER_IS_CONTINUE", t);
} else console.log("procBacHndBroadcastIsContinue fail", e);
};
e.prototype.procBacHndBroadcastRoomGiveGift = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBacHndBroadcastRoomGiveGift success");
var t = {};
t.fromUid = this.readInt();
t.giftId = this.readShort();
t.list = [];
for (var o = this.readByte(), i = 0; i < o; i++) t.list.push(this.readInt());
n.MyEvent.getInstance().emit("BROADCAST_ROOM_GIVEGIFT_EVENT", t);
} else console.log("procBacHndBroadcastRoomGiveGift fail", e);
};
e.prototype.procBacHndKickOut = function() {
s.default.lastScene = C.SceneIndex.baccaratHnd;
C.default.enterHall();
};
e.prototype.procBacHndStandUserList = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBacHndStandUserList success");
for (var t = [], o = this.readByte(), i = 0; i < o; i++) {
var a = {};
a.seatID = this.readByte();
a.userID = this.readInt();
a.userName = this.readString();
a.headID = this.readShort();
a.country = this.readString();
a.userMoney = this.readInt64() / s.default.chipMulti;
a.exp = this.readInt();
a.vipExp = this.readInt();
a.giftID = this.readShort();
t.push(a);
}
n.MyEvent.getInstance().emit("ON_GET_STAND_USER_LIST", t);
} else console.log("procBacHndStandUserList fail", e);
};
e.prototype.procUpdateBaccaratHndRoomList = function() {
if (0 == this.readShort()) {
var e = {};
e.goldType = this.readByte();
e.roomId = this.readShort();
for (var t = this.readByte(), o = 0; o < t; o++) {
var i = this.readByte();
e.type = i;
if (i == r.roomInfoType.playerNum) {
e.userCount = this.readShort();
n.MyEvent.getInstance().emit("UPDATE_BACCARAT_HND_ROOM_INFO", e);
} else if (i == r.roomInfoType.results) {
e.roadInfo = this.readShort();
n.MyEvent.getInstance().emit("UPDATE_BACCARAT_HND_ROOM_INFO", e);
} else if (i == r.roomInfoType.roomType) {
e.status = this.readString();
n.MyEvent.getInstance().emit("UPDATE_BACCARAT_HND_ROOM_INFO", e);
}
}
}
};
e.prototype.procBaccaratHndRoomList = function() {
var e = this.readShort();
if (0 == e) {
console.log("procBaccaratHndRoomList success");
for (var t = [], o = this.readShort(), i = 0; i < o; i++) {
var a = {};
a.roomType = this.readByte();
a.roomId = this.readShort();
a.userCount = this.readShort();
a.maxCount = this.readShort();
a.smallBlind = this.readInt() / s.default.chipMulti;
a.maxChip = this.readInt() / s.default.chipMulti;
var r = this.readByte();
a.gameRecord = [];
for (var c = 0; c < r; c++) {
var d = [];
d.postion = this.readShort();
d.point = this.readByte();
a.gameRecord.push(d);
}
a.waybillData = l.default.getInstance()._generateWaybill(a.gameRecord);
t.push(a);
}
n.MyEvent.getInstance().emit("GET_BACCARAT_HND_ROOM_INFO_EVENT", t);
} else console.log("procBaccaratHndRoomList failed ,retCode = ", e);
};
e.prototype.procDTRoomInfo = function() {};
e.prototype.procDTKickOut = function() {
s.default.lastScene = C.SceneIndex.dtGame;
C.default.enterHall();
};
e.prototype.procDiceRoomInfo = function() {};
e.prototype.procDiceRoomState = function() {};
e.prototype.procDiceKickOut = function() {
s.default.lastScene = C.SceneIndex.diceGame;
C.default.enterHall();
};
e.prototype.procIntDiceRoomInfo = function() {};
e.prototype.procIntDiceRoomState = function() {};
e.prototype.procIntDiceKickOut = function() {
s.default.lastScene = C.SceneIndex.intDiceGame;
C.default.enterHall();
};
e.prototype.procBirdseRoomInfo = function() {
this.readShort();
};
e.prototype.procBirdsRoomState = function() {};
e.prototype.procBirdsKickOut = function() {
s.default.lastScene = C.SceneIndex.birdsGame;
C.default.enterHall();
};
e.prototype.procGoogleRepairPurchase = function() {
console.log("procGoogleRepairPurchase");
L.default.inst.queryUndonePurchase();
};
e.prototype.procGoogleConsumePurchase = function() {
console.log("procGoogleConsumePurchase");
L.default.inst.consumePurchase(L.default.inst.productID);
};
e.prototype.procGetThirdPartyRepairInfo = function() {
var e = this.readShort();
if (0 == e) {
for (var t = this.readByte(), o = this.readByte(), i = [], a = 0; a < o; a++) {
var r = this.readShort();
i.push(r);
}
T.default.getInstance().update(i, t);
n.MyEvent.getInstance().emit("UPDATE_GAME_REPAIR_INFO");
} else console.log("procGetThirdPartyRepairInfo fail", e);
};
e.prototype.procRomaEnterRoom = function() {};
e.prototype.procRomaLeaveRoom = function() {
var e = this.readShort();
0 == e ? s.default.lastScene = C.SceneIndex.romaSlot : console.log("procRomaQuitRoom fail", e);
};
e.prototype.procRomaKickRoom = function() {
s.default.lastScene = C.SceneIndex.romaSlot;
C.default.enterHall();
};
e.prototype.procRomaUserSpin = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.index = this.readByte();
t.chiped = this.readInt();
t.win = this.readInt64();
t.allWin = this.readInt64();
t.jpMultiple = this.readByte();
t.jackpotType = this.readByte();
t.jackpotCoin = this.readInt64();
t.multiple = t.win / t.chiped;
t.winSize = this.readByte();
t.bonus = this.readByte();
t.bonusLife = this.readByte();
t.stricker = this.readByte();
t.freeTimes = this.readByte();
t.picList = [];
for (var o = this.readByte(), i = 0; i < o; i++) {
(r = {}).row = this.readByte();
r.column = this.readByte();
r.pic = this.readByte();
t.picList.push(r);
}
t.deletedList = [];
var a = this.readByte();
for (i = 0; i < a; i++) {
var r;
(r = {}).row = this.readByte();
r.column = this.readByte();
t.deletedList.push(r);
}
console.log("", t, Date.now());
n.MyEvent.getInstance().emit("ROMA_SLOT_USER_SPIN", t);
} else console.log("romaSlot userSpin err", e);
};
e.prototype.procRomaPlayBonus = function() {
if (0 == this.readShort()) {
var e = {};
e.chiped = this.readInt();
e.imgType = this.readByte();
e.mutiplier = this.readByte();
e.win = this.readInt64();
e.allWin = this.readInt64();
e.winSize = this.readByte();
e.isCounterattack = this.readByte();
e.bonusLife = this.readByte();
console.log("", e);
n.MyEvent.getInstance().emit("ROMA_SLOT_PLAYER_BONUS_EVENT", e);
} else console.log("romaSlot playBonus err");
};
e.prototype.procRomaBuyFree = function() {
if (0 == this.readShort()) {
var e = {};
e.chipValue = this.readInt();
e.nowFreeTimes = this.readByte();
n.MyEvent.getInstance().emit("ROMA_SLOT_ENTER_FREESPIN_EVENT", e);
} else console.log("romaSlot BuyFree err");
};
e.prototype.procRomaBuyBonusgame = function() {
if (0 == this.readShort()) {
var e = {};
e.chipValue = this.readInt();
e.bonusLife = this.readByte();
n.MyEvent.getInstance().emit("ROMA_SLOT_ENTER_BONUS_EVENT", e);
} else console.log("romaSlot BuyBonusgame err");
};
e.prototype.procRomaJackpotInfo = function() {
if (0 == this.readShort()) {
var e = {};
e.chipValue = this.readInt();
e.list = [];
for (var t = this.readByte(), o = 0; o < t; o++) e.list.push({
type: this.readByte(),
money: this.readInt64()
});
n.MyEvent.getInstance().emit("ROMA_SLOT_GET_JOAKPOT_EVENT", e);
} else console.log("romaSlot JackpotInfo err");
};
e.prototype.procAztecEnterRoom = function() {};
e.prototype.procAztecLeaveRoom = function() {
var e = this.readShort();
0 == e ? s.default.lastScene = C.SceneIndex.aztecSlot : console.log("procRomaQuitRoom fail", e);
};
e.prototype.procAztecKickRoom = function() {
s.default.lastScene = C.SceneIndex.aztecSlot;
C.default.enterHall();
};
e.prototype.procAztecUserSpin = function() {
var e = this.readShort();
if (0 == e) {
var t = {};
t.index = this.readByte();
t.chiped = this.readInt();
t.win = this.readInt64();
t.allWin = this.readInt64();
t.newTimes = this.readByte();
t.jackpotType = this.readByte();
t.jackpotCoin = this.readInt64();
t.winSize = this.readByte();
t.freeTimes = this.readByte();
t.picList = [];
t.picList2 = [];
t.nextChangeList = [];
for (var o = this.readByte(), i = 0; i < o; i++) {
(d = {}).row = this.readByte();
d.column = this.readByte();
d.pic = this.readByte();
d.size = this.readByte();
d.color = this.readByte();
t.picList.push(d);
}
var a = this.readByte();
for (i = 0; i < a; i++) {
(d = {}).row = this.readByte();
d.column = this.readByte();
d.pic = this.readByte();
d.size = this.readByte();
d.color = this.readByte();
t.picList2.push(d);
}
var r = this.readByte();
for (i = 0; i < r; i++) {
(d = {}).row = this.readByte();
d.column = this.readByte();
d.pic = this.readByte();
d.size = this.readByte();
d.color = this.readByte();
t.nextChangeList.push(d);
}
t.deletedList = [];
var s = this.readByte();
t.deletedCount = s;
for (i = 0; i < s; i++) {
(d = {}).row = this.readByte();
d.column = this.readByte();
t.deletedList.push(d);
}
t.deletedList2 = [];
var c = this.readByte();
for (i = 0; i < c; i++) {
(d = {}).row = this.readByte();
d.column = this.readByte();
t.deletedList2.push(d);
}
t.changeList = [];
var l = this.readByte();
t.changeCount = l;
for (i = 0; i < l; i++) {
var d;
(d = {}).row = this.readByte();
d.column = this.readByte();
t.changeList.push(d);
}
console.log("", t, Date.now());
n.MyEvent.getInstance().emit("AZTEC_SLOT_USER_SPIN", t);
} else console.log("aztecSlot userSpin err", e);
};
e.prototype.procAztecBuyFree = function() {
if (0 == this.readShort()) {
var e = {};
e.chipValue = this.readInt();
e.nowFreeTimes = this.readByte();
e.picList = [];
e.picList2 = [];
for (var t = this.readByte(), o = 0; o < t; o++) {
(a = {}).row = this.readByte();
a.column = this.readByte();
a.pic = this.readByte();
a.size = this.readByte();
a.color = this.readByte();
e.picList.push(a);
}
var i = this.readByte();
for (o = 0; o < i; o++) {
var a;
(a = {}).row = this.readByte();
a.column = this.readByte();
a.pic = this.readByte();
a.size = this.readByte();
a.color = this.readByte();
e.picList2.push(a);
}
n.MyEvent.getInstance().emit("AZTEC_SLOT_ENTER_FREESPIN_EVENT", e);
} else console.log("Aztec BuyFree err");
};
return i([ E ], e);
}());
o.default = A;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Conf/Const": "Const",
"../Conf/Game": "Game",
"../Data/ActivityData": "ActivityData",
"../Data/BaccaratRoomList": "BaccaratRoomList",
"../Data/BroadcastData": "BroadcastData",
"../Data/GameData": "GameData",
"../Data/GiftData": "GiftData",
"../Data/InviteData": "InviteData",
"../Data/LanguageData": "LanguageData",
"../Data/RedNotificaData": "RedNotificaData",
"../Data/ThirdPartyRepairData": "ThirdPartyRepairData",
"../Dialog/Confirm": "Confirm",
"../Manager/ADManager": "ADManager",
"../Manager/DialogManager": "DialogManager",
"../Manager/EventRecorder": "EventRecorder",
"../Manager/PaymentInterface": "PaymentInterface",
"../Manager/SceneManager": "SceneManager",
"../UIFrame/UIManager": "UIManager",
"../Util/GameUtil": "GameUtil",
"./Commond": "Commond",
"./NetworkListener": "NetworkListener",
"./NetworkReprter": "NetworkReprter",
"./ReceUnpackFormat": "ReceUnpackFormat",
"./WebSocketManager": "WebSocketManager"
} ],
WebSocketSend: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "fd0cfSkLaJD3J1E2ebinVYi", "WebSocketSend");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("../Components/MyEvent"), a = e("../Conf/Const"), r = e("../Conf/Game"), s = e("../Data/GameData"), c = e("../Util/GameUtil"), l = e("./Commond"), d = e("./WebSocketManager"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function() {
function e() {
this.allData = new ArrayBuffer(8192);
this.alldataView = new DataView(this.allData);
this.buffLength = 0;
this.newBuffer = null;
}
e.prototype.start = function() {};
e.prototype.writeBegin = function(e, t) {
this.buffLength = 0;
var o = a.gameType.baccarat, i = t, n = e;
this.writeInt(0);
this.writeByte(0);
this.writeByte(o);
this.writeByte(i);
this.writeByte(0);
this.writeByte(0);
this.writeShort(n);
console.log("send", e.toString(16), t);
};
e.prototype.writeByte = function(e) {
this.alldataView.setInt8(this.buffLength, e);
this.buffLength += 1;
};
e.prototype.writeShort = function(e) {
this.alldataView.setInt16(this.buffLength, e);
this.buffLength += 2;
};
e.prototype.writeInt = function(e) {
this.alldataView.setInt32(this.buffLength, e);
this.buffLength += 4;
};
e.prototype.writeInt64 = function(e) {
var t = e % Math.pow(2, 32), o = Math.floor(e / Math.pow(2, 32));
this.alldataView.setUint32(this.buffLength, o, !1);
this.buffLength += 4;
this.alldataView.setUint32(this.buffLength, t, !1);
this.buffLength += 4;
};
e.prototype.writeString = function(e) {
var t = this.encodeUtf8(e), o = new Uint8Array(t), i = o.length, n = new DataView(o.buffer);
this.writeInt(i);
for (var a = 0; a < i; a++) this.writeByte(n.getInt8(a));
};
e.prototype.encodeUtf8 = function(e) {
for (var t = encodeURIComponent(e), o = [], i = 0; i < t.length; i++) {
var n = t.charAt(i);
if ("%" === n) {
var a = t.charAt(i + 1) + t.charAt(i + 2), r = parseInt(a, 16);
o.push(r);
i += 2;
} else o.push(n.charCodeAt(0));
}
return o;
};
e.prototype.writeEnd = function() {
this.alldataView.setInt16(2, this.buffLength - 4, !1);
this.alldataView.setInt16(0, 29800);
this.newBuffer = this.allData.slice(0, this.buffLength);
d.default.getInstance().isReady() ? d.default.getInstance().sendData(this.newBuffer) : console.log("Websockett is not ready");
this.buffLength = 0;
};
e.prototype.sendNetCheck = function(e) {
this.writeBegin(l.default.CMD_NET_CHECK, l.default.MSG_TYPE.MSG_TYPE_CONNECT);
s.default.phoneData.sendTime = e;
e %= 1e5;
this.writeInt(e);
this.writeEnd();
};
e.prototype.loginGame = function(e, t, o) {
this.writeBegin(l.default.CMD_LOGIN, l.default.MSG_TYPE.MSG_TYPE_CONNECT);
this.writeInt(s.default.UserData.userId);
this.writeShort(e);
this.writeString(t);
this.writeString(o);
this.writeShort(0);
this.writeShort(0);
this.writeShort(r.default.ver);
this.writeInt(0);
this.writeInt(0);
this.writeEnd();
};
e.prototype.loginOut = function() {
this.writeBegin(l.default.CMD_LOGINOUT, l.default.MSG_TYPE.MSG_TYPE_CONNECT);
this.writeEnd();
};
e.prototype.loginGameHall = function() {
this.writeBegin(l.default.CMD_LOGIN_HALL, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(s.default.UserData.userId);
this.writeShort(0);
this.writeShort(0);
this.writeShort(0);
this.writeShort(r.default.ver);
this.writeInt(0);
this.writeInt(0);
this.writeEnd();
};
e.prototype.getBaccaratRoomList = function(e, t, o) {
s.default.hallData.getRoomListNum = 0;
this.writeBegin(l.default.CMD_GET_BACCARAT_ROOM_LIST, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeInt(t * r.default.chipMulti);
this.writeByte(o);
this.writeEnd();
};
e.prototype.getBaccaratHndRoomList = function() {
this.writeBegin(l.default.CMD_GET_BACCARAT_HND_ROOM_LIST, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeEnd();
};
e.prototype.getBaccaratRoomRoad = function(e, t) {
this.writeBegin(l.default.CMD_GET_BACCARAT_ROOM_ROAD, l.default.MSG_TYPE.MSG_TYPE_HALL);
var o = t.length;
this.writeByte(e);
this.writeByte(o);
for (var i = 0; i < o; i++) this.writeShort(t[i]);
this.writeEnd();
};
e.prototype.getRankList = function(e, t) {
this.writeBegin(l.default.CMD_GET_RANK_LIST, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeShort(t);
this.writeEnd();
};
e.prototype.setSetUp = function(e, t, o, i, n) {
this.writeBegin(l.default.CMD_SET_SETUP, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeString(t);
this.writeString(o);
this.writeString(i);
n ? this.writeByte(1) : this.writeByte(0);
this.writeEnd();
};
e.prototype.getGiftList = function() {
this.writeBegin(l.default.CMD_GET_GIFT_LIST, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.purchaseGift = function(e, t) {
var o = this;
this.writeBegin(l.default.CMD_PURCHASE_GIFT, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeShort(e);
this.writeByte(t.length);
t.forEach(function(e) {
o.writeInt(e);
});
this.writeEnd();
};
e.prototype.wearGift = function(e) {
this.writeBegin(l.default.CMD_WEAR_GIFT, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeEnd();
};
e.prototype.getPlayerHomeInfo = function(e) {
this.writeBegin(l.default.CMD_GET_PLAYER_HOME_INFO, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeEnd();
};
e.prototype.changeAutograph = function(e) {
this.writeBegin(l.default.CMD_CHANGE_AUTOGRAPH, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeString(e);
this.writeEnd();
};
e.prototype.changeName = function(e) {
this.writeBegin(l.default.CMD_CHANGE_NAME, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeString(e);
this.writeEnd();
};
e.prototype.inspectNameRepeat = function(e) {
this.writeBegin(l.default.CMD_INSPECT_NAME_REPEAT, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeString(e);
this.writeEnd();
};
e.prototype.setPraiseChoice = function(e) {
this.writeBegin(l.default.CMD_PRAISE_CHOICE, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeEnd();
};
e.prototype.getLimitData = function() {
this.writeBegin(l.default.CMD_GET_LIMIT_DATA, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.sendSafeOperation = function(e, t) {
this.writeBegin(l.default.CMD_SAFE_OPERATION, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeInt64(t * r.default.chipMulti);
this.writeEnd();
};
e.prototype.getPlayerMoneyInfo = function(e) {
this.writeBegin(l.default.CMD_GET_MONEY_INFO, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeEnd();
};
e.prototype.grantRedbag = function(e, t, o, i, n, a, r) {
this.writeBegin(l.default.CMD_GRANT_REDBAG, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeInt(t);
this.writeByte(o);
this.writeString(i);
this.writeInt(n);
this.writeByte(a);
this.writeByte(r);
this.writeEnd();
};
e.prototype.receiveRedbag = function(e) {
this.writeBegin(l.default.CMD_RECEIVE_REDBAG, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeEnd();
};
e.prototype.getRedbagInfo = function(e) {
this.writeBegin(l.default.CMD_GET_REDBAG_INFO, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeEnd();
};
e.prototype.getRedbagState = function(e) {
var t = this;
this.writeBegin(l.default.CMD_GET_REDBAG_STATE, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e.length);
e.forEach(function(e) {
t.writeInt(e);
});
this.writeEnd();
};
e.prototype.getRedbagLimit = function() {
this.writeBegin(l.default.CMD_REDBAG_LIMIT, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.addFriend = function(e, t) {
this.writeBegin(l.default.CMD_ADD_FRIEND, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeString(t);
this.writeEnd();
};
e.prototype.replyAddFriend = function(e, t) {
this.writeBegin(l.default.CMD_REPLY_ADD_FRIEND, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeByte(t);
this.writeEnd();
};
e.prototype.getFriendAddList = function(e, t) {
this.writeBegin(l.default.CMD_GET_FRIEND_ADD_LIST, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeShort(e);
this.writeByte(t);
this.writeEnd();
};
e.prototype.deleteFriend = function(e) {
this.writeBegin(l.default.CMD_DELETE_FRIEND, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeEnd();
};
e.prototype.notifyAddFriend = function(e, t) {
this.writeBegin(l.default.CMD_NOTIFY_ADD_FRIEND, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeString(t);
this.writeEnd();
};
e.prototype.getLooksList = function(e, t) {
this.writeBegin(l.default.CMD_GET_LOOK_LIST, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeShort(e);
this.writeByte(t);
this.writeEnd();
};
e.prototype.getFansList = function(e, t) {
this.writeBegin(l.default.CMD_GET_FANS_LIST, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeShort(e);
this.writeByte(t);
this.writeEnd();
};
e.prototype.lickPlayer = function(e) {
this.writeBegin(l.default.CMD_LICK_GAME_PLAYER, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeEnd();
};
e.prototype.getVisitorList = function() {
this.writeBegin(l.default.CMD_GET_VISITOR_LIST, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.getLickList = function() {
this.writeBegin(l.default.CMD_GET_LICK_LIST, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.searchFriend = function(e) {
this.writeBegin(l.default.CMD_SEARCH_FRIEND, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeEnd();
};
e.prototype.getFriendList = function(e, t) {
this.writeBegin(l.default.CMD_GET_FRIEND_LIST, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeShort(e);
this.writeByte(t);
this.writeEnd();
};
e.prototype.getFriendGiveCoinList = function() {
this.writeBegin(l.default.CMD_FRIEND_GIVE_COIN_LIST, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.isFollowPlayer = function(e, t) {
this.writeBegin(l.default.CMD_IS_FOLLOW, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeByte(t);
this.writeEnd();
};
e.prototype.giveCoinToFriend = function(e) {
this.writeBegin(l.default.CMD_GIVE_COIN_TO_FRIEND, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeEnd();
};
e.prototype.getRecommendFriend = function() {
this.writeBegin(l.default.CMD_RECOMMEND_FRIEND, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.loginWorldChannel = function(e) {
this.writeBegin(l.default.CMD_PROPELLING_WORLD_MSG, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeEnd();
};
e.prototype.sendWorldMsg = function(e, t, o) {
this.writeBegin(l.default.CMD_WORLD_SEND_MSG, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(o);
this.writeByte(e);
this.writeString(t);
this.writeEnd();
};
e.prototype.getFriendMsg = function(e) {
this.writeBegin(l.default.CMD_GET_FRIEND_MSG, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeEnd();
};
e.prototype.sendFriendMsg = function(e, t, o) {
this.writeBegin(l.default.CMD_FRIEND_SEND_MSG, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeInt(t);
this.writeString(o);
this.writeEnd();
};
e.prototype.enterBaccaratRoom = function(e, t, o, i, n) {
this.writeBegin(l.default.CMD_ENTER_BACCARAT, l.default.MSG_TYPE.MSG_TYPE_GAMESVR);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
var a = "";
n && (a = n);
this.writeString(a);
this.writeEnd();
};
e.prototype.creatrVipRoom = function(e) {
this.writeBegin(l.default.CMD_CREATR_VIP_ROOM, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e.type);
this.writeByte(a.goldType.charge);
this.writeInt(e.smallBlind * r.default.chipMulti);
this.writeShort(e.chipTimeOut);
this.writeShort(e.squeezeTimeOut);
this.writeShort(e.squeezeSecondTimeOut);
this.writeString(e.password);
this.writeEnd();
};
e.prototype.quickEnterBaccaratRoom = function(e, t) {
this.writeBegin(l.default.CMD_QUICK_ENTER_ROOM, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeByte(t);
this.writeEnd();
};
e.prototype.getVipRoomList = function(e) {
this.writeBegin(l.default.CMD_GET_VIP_ROOM_LIST, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeEnd();
};
e.prototype.baccaratPreBet = function(e) {
if (0 != s.default.UserData.seatId) {
this.writeBegin(l.default.CMD_PRE_BET, l.default.MSG_TYPE.MSG_TYPE_GAMESVR);
this.writeByte(e.length);
for (var t = 0; t < e.length; t++) {
var o = e[t];
o.chipType += 1;
this.writeByte(o.chipType);
this.writeInt(o.chipValue * r.default.chipMulti);
console.log("", o.chipType, o.chipValue);
n.MyEvent.getInstance().emit("THATS_THE_LIMIT_EVENT", {
chipType: o.chipType,
chipValue: o.chipValue
});
}
this.writeEnd();
} else c.default.alert("");
};
e.prototype.baccaratRecallPreBet = function() {
this.writeBegin(l.default.CMD_RECALL_PRE_BET, l.default.MSG_TYPE.MSG_TYPE_GAMESVR);
this.writeEnd();
};
e.prototype.betOver = function() {
this.writeBegin(l.default.CMD_BET_OVER, l.default.MSG_TYPE.MSG_TYPE_GAMESVR);
this.writeEnd();
};
e.prototype.loaveRoom = function() {
this.writeBegin(l.default.CMD_LEAVE_ROOM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR);
this.writeEnd();
};
e.prototype.sitDown = function(e) {
this.writeBegin(l.default.CMD_SITDOWN, l.default.MSG_TYPE.MSG_TYPE_GAMESVR);
this.writeByte(e);
this.writeEnd();
};
e.prototype.standUp = function() {
this.writeBegin(l.default.CMD_STAND_UP, l.default.MSG_TYPE.MSG_TYPE_GAMESVR);
this.writeEnd();
};
e.prototype.sendBroadcast = function(e, t) {
e == a.broadcastType.chat ? this.writeBegin(l.default.CMD_ROOM_CHAT, l.default.MSG_TYPE.MSG_TYPE_GAMESVR) : this.writeBegin(l.default.CMD_SEND_BROADCAST, l.default.MSG_TYPE.MSG_TYPE_GAMESVR);
this.writeByte(e);
this.writeInt(s.default.UserData.userId);
this.writeString(s.default.UserData.nickname);
e == a.broadcastType.chat && this.writeString(t);
if (e == a.broadcastType.mipai_move) {
this.writeByte(t.id);
this.writeShort(t.time);
this.writeByte(Math.floor(100 * t.startPos.x));
this.writeByte(Math.floor(100 * t.startPos.y));
this.writeByte(Math.floor(100 * t.nowPos.x));
this.writeByte(Math.floor(100 * t.nowPos.y));
} else if (e == a.broadcastType.mipai_angle) {
this.writeByte(t.id);
this.writeShort(t.time);
this.writeShort(t.angle);
} else if (e == a.broadcastType.mipai_reset) {
this.writeByte(t.id);
this.writeShort(t.time);
} else if (e == a.broadcastType.mipai_open) {
this.writeByte(t.id);
this.writeShort(t.time);
} else if (e == a.broadcastType.cutCard_move) {
this.writeByte(Math.floor(100 * t.percentage));
this.writeShort(t.time);
} else if (e == a.broadcastType.cutCard_ing) ; else if (e == a.broadcastType.vociferate) {
this.writeString(t.msg);
this.writeByte(t.type);
} else e == a.broadcastType.ejimo && this.writeByte(t.id);
this.writeEnd();
};
e.prototype.getCardNum = function(e, t, o) {
this.writeBegin(l.default.CMD_GET_ROOM_CARD_NUM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.getRoomInfo = function(e, t, o, i) {
console.log("");
this.writeBegin(l.default.CMD_GET_ROOMINFO, l.default.MSG_TYPE.MSG_TYPE_GAMESVR);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeEnd();
};
e.prototype.endMipai = function(e) {
this.writeBegin(l.default.CMD_END_MIPAI, l.default.MSG_TYPE.MSG_TYPE_GAMESVR);
this.writeString(e);
this.writeEnd();
};
e.prototype.whenContinue = function(e) {
this.writeBegin(l.default.CMD_WHEN_TO_CONTINUE, l.default.MSG_TYPE.MSG_TYPE_GAMESVR);
console.log(" 1 0", e);
this.writeByte(e);
this.writeEnd();
};
e.prototype.endCutCard = function() {
this.writeBegin(l.default.CMD_END_CUT_CARD, l.default.MSG_TYPE.MSG_TYPE_GAMESVR);
this.writeEnd();
};
e.prototype.reportOpenCard = function(e) {
this.writeBegin(l.default.CMD_REPORT_OPEN_CARD, l.default.MSG_TYPE.MSG_TYPE_GAMESVR);
this.writeByte(e.length);
for (var t = 0; t < e.length; t++) {
var o = e[t];
this.writeByte(o.whose);
this.writeByte(o.index);
this.writeShort(o.card);
}
this.writeEnd();
};
e.prototype.reportAddMoney = function() {
this.writeBegin(l.default.CMD_GAME_SCENE_REPORT_MONEY, l.default.MSG_TYPE.MSG_TYPE_GAMESVR);
this.writeEnd();
};
e.prototype.getMailInfo = function() {
this.writeBegin(l.default.CMD_GET_MAIL_DETAIL, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.getMailList = function(e, t, o) {
this.writeBegin(l.default.CMD_GET_MAIL_LIST, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeShort(t);
this.writeByte(o);
this.writeEnd();
};
e.prototype.readMail = function(e) {
this.writeBegin(l.default.CMD_READ_MAIL, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeEnd();
};
e.prototype.readAllMail = function(e) {
this.writeBegin(l.default.CMD_READ_ALL_MAIL, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeEnd();
};
e.prototype.getMailReward = function(e) {
this.writeBegin(l.default.CMD_GET_MAIL_REWARD, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeEnd();
};
e.prototype.getAllMailReward = function(e) {
this.writeBegin(l.default.CMD_GET_ALL_MAIL_REWARD, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeEnd();
};
e.prototype.deleMail = function(e) {
this.writeBegin(l.default.CMD_DELETE_MAIL, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeEnd();
};
e.prototype.deleAllMail = function(e) {
this.writeBegin(l.default.CMD_DELETE_ALL_MAIL, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeEnd();
};
e.prototype.getAdRewardInfo = function(e) {
this.writeBegin(l.default.CMD_AD_REWARD, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeEnd();
};
e.prototype.getTimeRewardInfo = function() {
this.writeBegin(l.default.CMD_TIME_REWARD, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.getDailyTaskConfig = function(e) {
this.writeBegin(l.default.CMD_DAILY_TASK_CONFIG, l.default.MSG_TYPE.MSG_TYPE_TASKSVR);
this.writeByte(e);
this.writeEnd();
};
e.prototype.getDailyTaskList = function(e) {
this.writeBegin(l.default.CMD_DAILY_TASK_LIST, l.default.MSG_TYPE.MSG_TYPE_TASKSVR);
this.writeInt(e);
this.writeEnd();
};
e.prototype.getTaskReward = function(e) {
this.writeBegin(l.default.CMD_GET_TASK_REWARD, l.default.MSG_TYPE.MSG_TYPE_TASKSVR);
this.writeShort(e);
this.writeEnd();
};
e.prototype.getTaskProgress = function(e) {
this.writeBegin(l.default.CMD_GET_TASK_PROGRESS, l.default.MSG_TYPE.MSG_TYPE_TASKSVR);
this.writeShort(e);
this.writeEnd();
};
e.prototype.getInviteRegisterInfo = function() {
this.writeBegin(l.default.CMD_INVITE_REGISTER_INFO, l.default.MSG_TYPE.MSG_TYPE_TASKSVR);
this.writeEnd();
};
e.prototype.getInviteRegisterReward = function() {
this.writeBegin(l.default.CMD_INVITE_REGISTER_REWARD, l.default.MSG_TYPE.MSG_TYPE_TASKSVR);
this.writeEnd();
};
e.prototype.sendGameInvite = function(e) {
this.writeBegin(l.default.CMD_INVITE_FRIEND, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeEnd();
};
e.prototype.denyInvite = function(e, t) {
this.writeBegin(l.default.CMD_DENY_INVITED, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeString(t);
this.writeEnd();
};
e.prototype.getRecommendUserList = function(e) {
this.writeBegin(l.default.CMD_GET_RECOMMEND_USER_LIST, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeEnd();
};
e.prototype.deleteFans = function(e) {
this.writeBegin(l.default.CMD_DELETE_FANS, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeEnd();
};
e.prototype.getBildList = function() {
this.writeBegin(l.default.CMD_GET_BLND_LIST, l.default.MSG_TYPE.MSG_TYPE_CONNECT);
this.writeEnd();
};
e.prototype.getBildListInfo = function() {
this.writeBegin(l.default.CMD_GET_BLND_LIST_INFO, l.default.MSG_TYPE.MSG_TYPE_CONNECT);
this.writeEnd();
};
e.prototype.reportTaskProgress = function(e, t, o) {
this.writeBegin(l.default.CMD_REPORT_TASK_PROGRESS, l.default.MSG_TYPE.MSG_TYPE_TASKSVR);
this.writeByte(e);
this.writeInt(t);
this.writeInt(o);
this.writeEnd();
};
e.prototype.getRedNotification = function() {
this.writeBegin(l.default.CMD_GET_RED_NOTIFICATION, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.getPhpActivity = function() {
this.writeBegin(l.default.CMD_GET_PHP_ACTIVITY, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.getTutorialReward = function() {
this.writeBegin(l.default.CMD_TUTORIALS_REWARD, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.getSendInfo = function() {
this.writeBegin(l.default.CMD_GET_SEDN_INFO, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.sendChips = function(e, t, o) {
this.writeBegin(l.default.CMD_SEND_CHIPS, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeByte(t);
this.writeInt64(o * r.default.chipMulti);
this.writeEnd();
};
e.prototype.replaySendChips = function(e, t) {
this.writeBegin(l.default.CMD_RECEIVE_CHIPS, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeByte(t);
this.writeEnd();
};
e.prototype.confirmSendChips = function(e, t, o) {
this.writeBegin(l.default.CMD_SEND_CHIPS_COMFIRM, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeByte(t);
this.writeString(o);
this.writeEnd();
};
e.prototype.getRecentSendList = function() {
this.writeBegin(l.default.CMD_GET_RECENT_SEND_LIST, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.getPresentADType = function() {
this.writeBegin(l.default.CMD_GET_AD_TYPE, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.bjEnterRoom = function(e, t, o, i, n) {
this.writeBegin(l.default.CMD_BLACKJACK_ENTER_ROOM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeString(n || "");
this.writeEnd();
};
e.prototype.bjUserBet = function(e) {
this.writeBegin(l.default.CMD_BLACKJACK_BET, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
var t = e.length;
this.writeByte(t);
for (var o = 0; o < t; o++) {
this.writeByte(e[o].betAreaID);
this.writeInt64(e[o].betMoney * r.default.chipMulti);
}
this.writeEnd();
};
e.prototype.bjUserCancelBet = function() {
this.writeBegin(l.default.CMD_BLACKJACK_CANCEL_BET, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeEnd();
};
e.prototype.bjUserCompleteBet = function() {
this.writeBegin(l.default.CMD_BLACKJACK_COMPLETE_BET, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeEnd();
};
e.prototype.bjUserLeaveRoom = function() {
this.writeBegin(l.default.CMD_BLACKJACK_QUIT_ROOM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeEnd();
};
e.prototype.bjUserSit = function(e) {
this.writeBegin(l.default.CMD_BLACKJACK_USER_SIT, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(e);
this.writeEnd();
};
e.prototype.bjUserStand = function() {
this.writeBegin(l.default.CMD_BLACKJACK_USER_STAND, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeEnd();
};
e.prototype.bjUserBroadcastChat = function(e) {
this.writeBegin(l.default.CMD_BLACKJACK_BROADCAST_CHAT, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(a.broadcastType.chat);
this.writeInt(s.default.UserData.userId);
this.writeString(s.default.UserData.nickname);
this.writeString(e);
this.writeEnd();
};
e.prototype.bjUserBroadcastEjimo = function(e) {
this.writeBegin(l.default.CMD_BLACKJACK_ROOM_BROADCAST, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(a.broadcastType.ejimo);
this.writeInt(s.default.UserData.userId);
this.writeString(s.default.UserData.nickname);
this.writeByte(e);
this.writeEnd();
};
e.prototype.bjEndCutCard = function() {
this.writeBegin(l.default.CMD_BLACKJACK_END_CUT_CARD, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeEnd();
};
e.prototype.bjUserBroadcastCutCardMove = function(e) {
this.writeBegin(l.default.CMD_BLACKJACK_ROOM_BROADCAST, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(a.broadcastType.cutCard_move);
this.writeInt(s.default.UserData.userId);
this.writeString(s.default.UserData.nickname);
this.writeByte(Math.floor(100 * e.percentage));
this.writeShort(e.time);
this.writeEnd();
};
e.prototype.bjUserBroadcastCutCardIng = function() {
this.writeBegin(l.default.CMD_BLACKJACK_ROOM_BROADCAST, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(a.broadcastType.cutCard_ing);
this.writeInt(s.default.UserData.userId);
this.writeString(s.default.UserData.nickname);
this.writeEnd();
};
e.prototype.bjGetRoomInfo = function(e, t, o, i) {
this.writeBegin(l.default.CMD_BLACKJACK_GET_ROOM_INFO, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeEnd();
};
e.prototype.bjGetRoomState = function(e, t, o) {
this.writeBegin(l.default.CMD_BLACKJACK_GET_GAME_STATE, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.bjUserBuyInsurance = function(e) {
this.writeBegin(l.default.CMD_BLACKJACK_USER_INSURANCE, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(e);
this.writeEnd();
};
e.prototype.bjGetLeftCards = function(e, t, o) {
this.writeBegin(l.default.CMD_BLACKJACK_GET_LEFT_CARDS, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.bjUserAction = function(e, t) {
this.writeBegin(l.default.CMD_BLACKJACK_USER_ACTION, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeByte(e);
this.writeByte(t);
this.writeEnd();
};
e.prototype.updateJackPot = function(e, t, o, i) {
this.writeBegin(l.default.CMD_UPDATE_JACKPOT, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeByte(t);
this.writeInt(o * r.default.chipMulti);
var n = i.length;
this.writeByte(n);
for (var a = 0; a < n; a++) this.writeByte(i[a]);
this.writeEnd();
};
e.prototype.updateBJRoomListJackPot = function(e, t, o, i) {
this.writeBegin(l.default.CMD_UPDATE_ROOM_LIST_JACKPOT, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeByte(t);
var n = o.length;
this.writeByte(n);
for (var a = 0; a < n; a++) this.writeInt(o[a] * r.default.chipMulti);
var s = i.length;
this.writeByte(s);
for (a = 0; a < s; a++) this.writeByte(i[a]);
this.writeEnd();
};
e.prototype.getJackpotRewardList = function(e, t, o, i) {
this.writeBegin(l.default.CMD_GET_JACKPOT_REWARD_LIST, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeByte(t);
this.writeInt(o * r.default.chipMulti);
var n = i.length;
this.writeByte(n);
for (var a = 0; a < n; a++) this.writeByte(i[a]);
this.writeEnd();
};
e.prototype.getUserGameInfo = function(e, t) {
this.writeBegin(l.default.CMD_GET_USER_GAMEINFO, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeByte(t);
this.writeEnd();
};
e.prototype.getUserTotalInfo = function(e) {
this.writeBegin(l.default.CMD_GET_USER_TOTAL_INFO, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeInt(e);
this.writeEnd();
};
e.prototype.getHallTimeboxInfo = function() {
this.writeBegin(l.default.CMD_GET_HALL_TIMEBOX_INFO, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.getHallTimeboxReward = function() {
this.writeBegin(l.default.CMD_GET_HALL_TIMEBOX_REWARD, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.getHallJackPot = function(e, t, o) {
this.writeBegin(l.default.CMD_GET_HALL_JACKPOT, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeByte(t);
this.writeByte(o);
this.writeEnd();
};
e.prototype.getBlackJackRoomList = function(e, t) {
this.writeBegin(l.default.CMD_GET_BLACKJACK_ROOM_LIST, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeByte(e);
this.writeInt(t * r.default.chipMulti);
this.writeEnd();
};
e.prototype.bjReportAddMoney = function() {
this.writeBegin(l.default.CMD_GAME_SCENE_REPORT_MONEY, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BLACKJACK);
this.writeEnd();
};
e.prototype.getLoginRewardInfo = function() {
this.writeBegin(l.default.CMB_GET_LOGIN_REWARD_INFO, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.getLoginReward = function() {
this.writeBegin(l.default.CMB_GET_LOGIN_REWARD, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.getPlayRewardInfo = function() {
this.writeBegin(l.default.CMD_PLAY_REWARD_INFO, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.getPlayReward = function() {
this.writeBegin(l.default.CMD_GET_PLAY_REWARD, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.bacHndEnterRoom = function(e, t, o, i, n) {
this.writeBegin(l.default.CMD_BACCARAT_HND_ENTER_ROOM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeString(n || "");
this.writeEnd();
};
e.prototype.bacHndUserBet = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_BET, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
var t = e.length;
this.writeByte(t);
for (var o = 0; o < t; o++) {
this.writeByte(e[o].betAreaID);
this.writeInt64(e[o].betMoney * r.default.chipMulti);
}
this.writeEnd();
};
e.prototype.bacHndUserCancelBet = function() {
this.writeBegin(l.default.CMD_BACCARAT_HND_CANCEL_BET, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeEnd();
};
e.prototype.bacHndUserCompleteBet = function() {
this.writeBegin(l.default.CMD_BACCARAT_HND_COMPLETE_BET, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeEnd();
};
e.prototype.bacHndUserLeaveRoom = function() {
this.writeBegin(l.default.CMD_BACCARAT_HND_QUIT_ROOM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeEnd();
};
e.prototype.bacHndUserBroadcastChat = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_ROOM_CHAT, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(a.broadcastType.chat);
this.writeInt(s.default.UserData.userId);
this.writeString(s.default.UserData.nickname);
this.writeString(e);
this.writeEnd();
};
e.prototype.bacHndUserBroadcastEjimo = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_ROOM_BROADCAST, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(a.broadcastType.ejimo);
this.writeInt(s.default.UserData.userId);
this.writeString(s.default.UserData.nickname);
this.writeByte(e);
this.writeEnd();
};
e.prototype.bacHndEndCutCard = function() {
this.writeBegin(l.default.CMD_BACCARAT_HND_END_CUT_CARD, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeEnd();
};
e.prototype.bacHndUserBroadcastCutCardMove = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_ROOM_BROADCAST, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(a.broadcastType.cutCard_move);
this.writeInt(s.default.UserData.userId);
this.writeString(s.default.UserData.nickname);
this.writeByte(Math.floor(100 * e.percentage));
this.writeShort(e.time);
this.writeEnd();
};
e.prototype.bacHndUserBroadcastCutCardIng = function() {
this.writeBegin(l.default.CMD_BACCARAT_HND_ROOM_BROADCAST, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(a.broadcastType.cutCard_ing);
this.writeInt(s.default.UserData.userId);
this.writeString(s.default.UserData.nickname);
this.writeEnd();
};
e.prototype.bacHndGetRoomInfo = function(e, t, o, i) {
this.writeBegin(l.default.CMD_BACCARAT_HND_GET_ROOM_INFO, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeEnd();
};
e.prototype.bacHndGetRoomState = function(e, t, o) {
this.writeBegin(l.default.CMD_BACCARAT_HND_GET_ROOM_STATUS, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.bacHndGetLeftCards = function(e, t, o) {
this.writeBegin(l.default.CMD_BACCARAT_HND_GET_LEFT_CARDS, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.bacHndIsContinue = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_END_CUT_CARD, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(e);
this.writeEnd();
};
e.prototype.bacHndGetStandUserList = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_GET_STAND_USER_LIST, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeByte(e);
this.writeEnd();
};
e.prototype.bacHndReportAddMoney = function() {
this.writeBegin(l.default.CMD_GAME_SCENE_REPORT_MONEY, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BACCARAT_HND);
this.writeEnd();
};
e.prototype.stopNotifyRoomInfo = function() {
this.writeBegin(l.default.CMD_STOP_UPDATE_ROOM_INFO, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.DTEnterRoom = function(e, t, o, i, n) {
this.writeBegin(l.default.CMD_BACCARAT_HND_ENTER_ROOM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeString(n || "");
this.writeEnd();
};
e.prototype.DTUserBet = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_BET, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
var t = e.length;
this.writeByte(t);
for (var o = 0; o < t; o++) {
this.writeByte(e[o].betAreaID);
this.writeInt64(e[o].betMoney * r.default.chipMulti);
}
this.writeEnd();
};
e.prototype.DTUserCancelBet = function() {
this.writeBegin(l.default.CMD_BACCARAT_HND_CANCEL_BET, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeEnd();
};
e.prototype.DTUserLeaveRoom = function() {
this.writeBegin(l.default.CMD_BACCARAT_HND_QUIT_ROOM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeEnd();
};
e.prototype.DTUserBroadcastChat = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_ROOM_CHAT, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(a.broadcastType.chat);
this.writeInt(s.default.UserData.userId);
this.writeString(s.default.UserData.nickname);
this.writeString(e);
this.writeEnd();
};
e.prototype.DTUserBroadcastEjimo = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_ROOM_BROADCAST, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(a.broadcastType.ejimo);
this.writeInt(s.default.UserData.userId);
this.writeString(s.default.UserData.nickname);
this.writeByte(e);
this.writeEnd();
};
e.prototype.DTEndCutCard = function() {
this.writeBegin(l.default.CMD_BACCARAT_HND_END_CUT_CARD, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeEnd();
};
e.prototype.DTUserBroadcastCutCardMove = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_ROOM_BROADCAST, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(a.broadcastType.cutCard_move);
this.writeInt(s.default.UserData.userId);
this.writeString(s.default.UserData.nickname);
this.writeByte(Math.floor(100 * e.percentage));
this.writeShort(e.time);
this.writeEnd();
};
e.prototype.DTUserBroadcastCutCardIng = function() {
this.writeBegin(l.default.CMD_BACCARAT_HND_ROOM_BROADCAST, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(a.broadcastType.cutCard_ing);
this.writeInt(s.default.UserData.userId);
this.writeString(s.default.UserData.nickname);
this.writeEnd();
};
e.prototype.DTGetRoomInfo = function(e, t, o, i) {
this.writeBegin(l.default.CMD_BACCARAT_HND_GET_ROOM_INFO, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeEnd();
};
e.prototype.DTGetRoomState = function(e, t, o) {
this.writeBegin(l.default.CMD_BACCARAT_HND_GET_ROOM_STATUS, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.DTGetLeftCards = function(e, t, o) {
this.writeBegin(l.default.CMD_BACCARAT_HND_GET_LEFT_CARDS, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.DTIsContinue = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_END_CUT_CARD, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(e);
this.writeEnd();
};
e.prototype.DTGetStandUserList = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_GET_STAND_USER_LIST, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeByte(e);
this.writeEnd();
};
e.prototype.DTReportAddMoney = function() {
this.writeBegin(l.default.CMD_GAME_SCENE_REPORT_MONEY, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DTGAME);
this.writeEnd();
};
e.prototype.DiceEnterRoom = function(e, t, o, i, n) {
this.writeBegin(l.default.CMD_BACCARAT_HND_ENTER_ROOM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeString(n || "");
this.writeEnd();
};
e.prototype.DiceUserBet = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_BET, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
var t = e.length;
this.writeByte(t);
for (var o = 0; o < t; o++) {
this.writeByte(e[o].betAreaID);
this.writeInt64(e[o].betMoney * r.default.chipMulti);
}
this.writeEnd();
};
e.prototype.DiceUserCancelBet = function() {
this.writeBegin(l.default.CMD_BACCARAT_HND_CANCEL_BET, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
this.writeEnd();
};
e.prototype.DiceUserLeaveRoom = function() {
this.writeBegin(l.default.CMD_BACCARAT_HND_QUIT_ROOM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
this.writeEnd();
};
e.prototype.DiceUserBroadcastChat = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_ROOM_CHAT, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
this.writeByte(a.broadcastType.chat);
this.writeInt(s.default.UserData.userId);
this.writeString(s.default.UserData.nickname);
this.writeString(e);
this.writeEnd();
};
e.prototype.DiceUserBroadcastEjimo = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_ROOM_BROADCAST, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
this.writeByte(a.broadcastType.ejimo);
this.writeInt(s.default.UserData.userId);
this.writeString(s.default.UserData.nickname);
this.writeByte(e);
this.writeEnd();
};
e.prototype.DiceGetRoomInfo = function(e, t, o, i) {
this.writeBegin(l.default.CMD_BACCARAT_HND_GET_ROOM_INFO, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeEnd();
};
e.prototype.DiceGetRoomState = function(e, t, o) {
this.writeBegin(l.default.CMD_BACCARAT_HND_GET_ROOM_STATUS, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.DiceGetStandUserList = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_GET_STAND_USER_LIST, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
this.writeByte(e);
this.writeEnd();
};
e.prototype.DiceReportAddMoney = function() {
this.writeBegin(l.default.CMD_GAME_SCENE_REPORT_MONEY, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_DICE);
this.writeEnd();
};
e.prototype.IntDiceEnterRoom = function(e, t, o, i, n) {
this.writeBegin(l.default.CMD_BACCARAT_HND_ENTER_ROOM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_INTDICE);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeString(n || "");
this.writeEnd();
};
e.prototype.IntDiceUserBet = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_BET, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_INTDICE);
var t = e.length;
this.writeByte(t);
for (var o = 0; o < t; o++) {
this.writeByte(e[o].betAreaID);
this.writeInt64(e[o].betMoney * r.default.chipMulti);
}
this.writeEnd();
};
e.prototype.IntDiceUserCancelBet = function() {
this.writeBegin(l.default.CMD_BACCARAT_HND_CANCEL_BET, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_INTDICE);
this.writeEnd();
};
e.prototype.IntDiceUserLeaveRoom = function() {
this.writeBegin(l.default.CMD_BACCARAT_HND_QUIT_ROOM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_INTDICE);
this.writeEnd();
};
e.prototype.IntDiceUserBroadcastChat = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_ROOM_CHAT, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_INTDICE);
this.writeByte(a.broadcastType.chat);
this.writeInt(s.default.UserData.userId);
this.writeString(s.default.UserData.nickname);
this.writeString(e);
this.writeEnd();
};
e.prototype.IntDiceUserBroadcastEjimo = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_ROOM_BROADCAST, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_INTDICE);
this.writeByte(a.broadcastType.ejimo);
this.writeInt(s.default.UserData.userId);
this.writeString(s.default.UserData.nickname);
this.writeByte(e);
this.writeEnd();
};
e.prototype.IntDiceGetRoomInfo = function(e, t, o, i) {
this.writeBegin(l.default.CMD_BACCARAT_HND_GET_ROOM_INFO, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_INTDICE);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeEnd();
};
e.prototype.IntDiceGetRoomState = function(e, t, o) {
this.writeBegin(l.default.CMD_BACCARAT_HND_GET_ROOM_STATUS, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_INTDICE);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.IntDiceGetStandUserList = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_GET_STAND_USER_LIST, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_INTDICE);
this.writeByte(e);
this.writeEnd();
};
e.prototype.IntDiceReportAddMoney = function() {
this.writeBegin(l.default.CMD_GAME_SCENE_REPORT_MONEY, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_INTDICE);
this.writeEnd();
};
e.prototype.BirdsEnterRoom = function(e, t, o, i, n) {
this.writeBegin(l.default.CMD_BACCARAT_HND_ENTER_ROOM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BIRDS);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeString(n || "");
this.writeEnd();
};
e.prototype.BirdsUserBet = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_BET, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BIRDS);
var t = e.length;
this.writeByte(t);
for (var o = 0; o < t; o++) {
this.writeByte(e[o].betAreaID);
this.writeInt64(e[o].betMoney * r.default.chipMulti);
}
this.writeEnd();
};
e.prototype.BirdsUserCancelBet = function() {
this.writeBegin(l.default.CMD_BACCARAT_HND_CANCEL_BET, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BIRDS);
this.writeEnd();
};
e.prototype.BirdsUserLeaveRoom = function() {
this.writeBegin(l.default.CMD_BACCARAT_HND_QUIT_ROOM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BIRDS);
this.writeEnd();
};
e.prototype.BirdsUserBroadcastChat = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_ROOM_CHAT, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BIRDS);
this.writeByte(a.broadcastType.chat);
this.writeInt(s.default.UserData.userId);
this.writeString(s.default.UserData.nickname);
this.writeString(e);
this.writeEnd();
};
e.prototype.BirdsUserBroadcastEjimo = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_ROOM_BROADCAST, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BIRDS);
this.writeByte(a.broadcastType.ejimo);
this.writeInt(s.default.UserData.userId);
this.writeString(s.default.UserData.nickname);
this.writeByte(e);
this.writeEnd();
};
e.prototype.BirdsGetRoomInfo = function(e, t, o, i) {
this.writeBegin(l.default.CMD_BACCARAT_HND_GET_ROOM_INFO, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BIRDS);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeByte(i);
this.writeEnd();
};
e.prototype.BirdsGetRoomState = function(e, t, o) {
this.writeBegin(l.default.CMD_BACCARAT_HND_GET_ROOM_STATUS, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BIRDS);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.BirdsGetStandUserList = function(e) {
this.writeBegin(l.default.CMD_BACCARAT_HND_GET_STAND_USER_LIST, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BIRDS);
this.writeByte(e);
this.writeEnd();
};
e.prototype.BirdsReportAddMoney = function() {
this.writeBegin(l.default.CMD_GAME_SCENE_REPORT_MONEY, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_BIRDS);
this.writeEnd();
};
e.prototype.getThirdPartyRepairInfo = function() {
this.writeBegin(l.default.CMD_THIRD_PARTY_GAME_REPAIR, l.default.MSG_TYPE.MSG_TYPE_HALL);
this.writeEnd();
};
e.prototype.RomaSlotEnterRoom = function(e, t, o) {
this.writeBegin(l.default.CMD_ROMASLOT_ENTER_ROOM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.RomaSlotLeaveRoom = function() {
this.writeBegin(l.default.CMD_ROMASLOT_LEAVE_ROOM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA);
this.writeEnd();
};
e.prototype.RomaSlotUserSpin = function(e) {
this.writeBegin(l.default.CMD_ROMASLOT_USER_SPIN, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA);
this.writeInt(e);
this.writeEnd();
};
e.prototype.RomaSlotFreeSpin = function() {
this.writeBegin(l.default.CMD_ROMASLOT_FREE_SPIN, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA);
this.writeEnd();
};
e.prototype.RomaPlayBonus = function() {
this.writeBegin(l.default.CMD_ROMASLOT_PLAY_BONUS, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA);
this.writeEnd();
};
e.prototype.RomaBuyFree = function(e) {
this.writeBegin(l.default.CMD_ROMASLOT_BUY_FREE, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA);
this.writeInt(e);
this.writeEnd();
};
e.prototype.RomaBuyBonusgame = function(e) {
this.writeBegin(l.default.CMD_ROMASLOT_BUY_BONUSGAME, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA);
this.writeInt(e);
this.writeEnd();
};
e.prototype.RomaGetJackpot = function(e) {
this.writeBegin(l.default.CMD_ROMASLOT_JACKPOT_NUM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_ROMA);
this.writeInt(e);
this.writeEnd();
};
e.prototype.AztecSlotEnterRoom = function(e, t, o) {
this.writeBegin(l.default.CMD_ROMASLOT_ENTER_ROOM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_AZTEC);
this.writeByte(e);
this.writeByte(t);
this.writeShort(o);
this.writeEnd();
};
e.prototype.AztecSlotLeaveRoom = function() {
this.writeBegin(l.default.CMD_ROMASLOT_LEAVE_ROOM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_AZTEC);
this.writeEnd();
};
e.prototype.AztecSlotUserSpin = function(e) {
this.writeBegin(l.default.CMD_ROMASLOT_USER_SPIN, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_AZTEC);
this.writeInt(e);
this.writeEnd();
};
e.prototype.AztecSlotFreeSpin = function() {
this.writeBegin(l.default.CMD_ROMASLOT_FREE_SPIN, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_AZTEC);
this.writeEnd();
};
e.prototype.AztecBuyFree = function(e) {
this.writeBegin(l.default.CMD_ROMASLOT_BUY_FREE, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_AZTEC);
this.writeInt(e);
this.writeEnd();
};
e.prototype.AztecGetJackpot = function(e) {
this.writeBegin(l.default.CMD_ROMASLOT_JACKPOT_NUM, l.default.MSG_TYPE.MSG_TYPE_GAMESVR_AZTEC);
this.writeInt(e);
this.writeEnd();
};
return i([ u ], e);
}());
o.default = p;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Conf/Const": "Const",
"../Conf/Game": "Game",
"../Data/GameData": "GameData",
"../Util/GameUtil": "GameUtil",
"./Commond": "Commond",
"./WebSocketManager": "WebSocketManager"
} ],
WebSocket: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d1d68ueK+FE8q+jOgA0BkqJ", "WebSocket");
var i = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.CloseReason = void 0;
var n, a = e("./WebSocketManager");
(function(e) {
e[e.initiative = 0] = "initiative";
e[e.passive = 1] = "passive";
e[e.error = 2] = "error";
e[e.unuse = 3] = "unuse";
e[e.invalid = 4] = "invalid";
})(n = o.CloseReason || (o.CloseReason = {}));
var r = cc._decorator, s = r.ccclass, c = (r.property, function() {
function e() {
this._ws = null;
this._addr = "";
}
e.prototype.connect = function(e) {
this._addr = e;
if (null != this._ws) {
this._ws.close();
this._ws = null;
}
console.log("Websocket start connect url = " + e);
var t = new WebSocket(e);
this._ws = t;
this._ws.binaryType = "arraybuffer";
this._ws.onopen = this._onOpen.bind(this);
this._ws.onmessage = this._onMessage.bind(this);
this._ws.onclose = this._onClose.bind(this);
this._ws.onerror = this._onError.bind(this);
};
Object.defineProperty(e.prototype, "host", {
get: function() {
return this._addr;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "status", {
get: function() {
return null != this._ws ? this._ws.readyState : WebSocket.CLOSED;
},
enumerable: !1,
configurable: !0
});
e.prototype._onOpen = function(e) {
console.log(e);
a.default.getInstance().onOpen(this);
};
e.prototype._onMessage = function(e) {
var t = new DataView(e.data), o = {};
new ArrayBuffer(2);
e.data.slice(0, 1);
o.length = t.getInt16(2);
o.code = t.getInt8(4);
o.gameType = t.getInt8(5);
o.msgType = t.getInt8(6);
o.version = t.getInt8(7);
o.subver = t.getInt8(8);
o.cmd = t.getInt16(9);
var i = e.data.slice(0);
a.default.getInstance().onMessage(o, t, i);
};
e.prototype._onClose = function() {
console.log("Socket On Close", this.host);
this.onClose(n.passive);
};
e.prototype._onError = function() {
console.log("Socket On Error", this.host);
this.onClose(n.error);
};
e.prototype.sendData = function(e) {
if (null != this._ws && this._ws.readyState === WebSocket.OPEN) this._ws.send(e); else {
console.log("sendData failed , Websocket is not ready,Websocket state is " + this._ws.readyState);
this.onClose(n.invalid);
}
};
e.prototype.isReady = function() {
if (null != this._ws) {
if (this._ws.readyState === WebSocket.OPEN) return !0;
console.log("websocket state is " + this._ws.readyState);
return !1;
}
console.log("websocket state is null");
return !1;
};
e.prototype.onClose = function(e) {
null != this._ws && this._ws.close();
this._ws = null;
a.default.getInstance().onClose(this, e);
};
e.prototype.close = function() {
null != this._ws && this._ws.close();
this._ws = null;
};
return i([ s ], e);
}());
o.default = c;
cc._RF.pop();
}, {
"./WebSocketManager": "WebSocketManager"
} ],
WebViewDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "62945i7OSJNF4rrUrCi69ob", "WebViewDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.WebViewData = o.webUrlEnum = void 0;
var r, s = e("../Components/MyEvent"), c = e("../Conf/Config"), l = e("../Conf/Const"), d = e("../Conf/Game"), h = e("../Data/GameData"), u = e("../Data/LanguageData"), p = e("../Interface/PhoneInfo"), f = e("../UIFrame/config/SysDefine"), m = e("../UIFrame/SoundMgr"), g = e("../UIFrame/UIBase"), y = e("../Util/GameUtil");
(function(e) {
e.priWeb = "page/privacy-policy";
e.serWeb = "page/terms-of-service";
e.cookie = "page/cookie-policy";
e.ruleWeb = "page/rule";
e.comWeb = "faq";
e.verWeb = "version";
e.olfbWeb = "chat";
e.vip = "page/vip";
})(r = o.webUrlEnum || (o.webUrlEnum = {}));
var _ = cc._decorator, C = _.ccclass, b = (_.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.formType = f.FormType.FixedUI;
t.gameType = l.gameType.baccarat;
return t;
}
o = t;
t.prototype.onLoad = function() {
var e = this;
y.default.seekChild(this.node, "closeBtn").on("click", this.onClose, this);
this._dialog = this.node.getChildByName("dialog");
this.btnList = [];
for (var t = 1; t < 7; t++) {
var o = y.default.seekChild(this._dialog, "btn" + t);
this.btnList[t] = o;
}
this._sideSelectedItem = y.default.seekChild(this._dialog, "sideSelectedItem");
this.btnList.forEach(function(t, o) {
t.active = !1;
t.on("click", e.onBtn, e);
if (o <= e._pageData.length) {
t.attr({
url: e._pageData[o - 1].url
});
t.active = !0;
t.getChildByName("label").getComponent(cc.Label).string = e._pageData[o - 1].title;
}
});
this._webView = this._dialog.getChildByName("webview").getComponent(cc.WebView);
this._webView.node.width = this._webView.node.width / y.default.getWebviewScale();
this._feedBackRedTips = this._dialog.getChildByName("sideBar").getChildByName("btn4").getChildByName("redTips");
this.webViewCallCCC();
this.showLoading();
this.setIpadFull();
};
t.prototype.webViewCallCCC = function() {
var e = this;
this._webView.setJavascriptInterfaceScheme("happyinworld");
this._webView.setOnJSCallback(function(t, o) {
console.log("js func callback", t, o);
var i = o.replace("happyinworld://", ""), n = i.split("&"), a = {};
for (var r in n) {
var s = n[r].split("=");
"params" == s[0] ? a[s[0]] = JSON.parse(s[1]) : a[s[0]] = s[1];
}
"openfeedback" == a.fun ? e._choiceChange(e.btnList[4], a.params) : "showLoading" == a.fun ? e.showLoading(null, null, !0) : "hideLoading" == a.fun ? e.hideLoading() : "showAlert" == a.fun ? y.default.alert(a.params.msg) : "startInput" == a.fun ? e.scheduleOnce(function() {
p.default.inst.onStartInput();
}, .3) : "endInput" == a.fun ? p.default.inst.onEndInput() : "openBrowser" == a.fun ? cc.sys.openURL(a.params.url) : "chatWithWhatsApp" == a.fun && p.default.inst.chatWithWhatsApp(h.default.UserData.userId, a.params.phone);
console.log("", t, i, a);
});
};
t.prototype.start = function() {
this._choiceChange(this.btnList[this._type]);
this.updateFeedBackRedTips();
};
t.prototype._getCommon = function(e, t) {
var o = {};
o.gameid = d.default.gameid;
o.appid = d.default.appid;
o.ver = d.default.ver;
o.hver = d.default.hver;
o.devId = d.default.devId;
o.locale = d.default.uploadLanguage[h.default.UserData.showLanguage];
o.ukey = h.default.UserData.ukey;
o.uid = h.default.UserData.userId;
o.width = cc.winSize.width;
o.height = cc.winSize.height;
o.gameType = this.gameType;
var i = "";
for (var n in o) i += n + "=" + o[n] + "&";
if (t) for (var n in t) i += n + "=" + t[n] + "&";
return "" + c.default.webviewUrl + e + "?" + i;
};
t.prototype.onBtn = function(e) {
m.default.inst.playEffect("btnSound");
switch (e.node.name) {
case "closeBtn":
this.onClose();
break;

case "btn1":
case "btn2":
case "btn3":
case "btn4":
case "btn5":
case "btn6":
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
this._choiceChange(e.node);
}
};
t.prototype._choiceChange = function(e, t) {
this.btnList.forEach(function(e) {
e.getChildByName("label").color = new cc.Color(150, 183, 233);
});
e.getChildByName("label").color = new cc.Color(240, 241, 242);
this._sideSelectedItem.y = e.y;
this._webView.url = this._getCommon(e.url, t);
console.log("web url = " + this._getCommon(e.url, t));
if ("btn4" == e.name) {
h.default.hallData.feedback = 0;
s.MyEvent.getInstance().emit("GAME_REDTIPS_EVENT");
this.updateFeedBackRedTips();
}
};
t.prototype.onShow = function(e, t, o) {
this.canDestory = !0;
this._pageData = e;
this._type = t;
o && (this.gameType = o);
};
t.prototype.onClose = function() {
o.prefabPath = this.uid;
s.MyEvent.getInstance().emit("SHOW_CLICK_EFFECT");
o.closeView();
};
t.prototype.updateFeedBackRedTips = function() {
h.default.hallData.feedback >= 1 ? this._feedBackRedTips.active = !0 : this._feedBackRedTips.active = !1;
};
var o;
return o = a([ C ], t);
}(g.default));
o.default = b;
var v = function() {
function e() {
this.commonProblem = [ {
title: u.default.ins.STRING_DIALOG("gameInstructions"),
url: r.ruleWeb
} ];
this.clause = [ {
title: u.default.ins.STRING_DIALOG("privacyPolicy"),
url: r.priWeb
}, {
title: u.default.ins.STRING_DIALOG("termService"),
url: r.serWeb
} ];
}
Object.defineProperty(e, "inst", {
get: function() {
if (null == this._inst) this._inst = new e(); else {
this._inst = null;
this._inst = new e();
}
return this._inst;
},
enumerable: !1,
configurable: !0
});
e._inst = null;
return e;
}();
o.WebViewData = v;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Conf/Config": "Config",
"../Conf/Const": "Const",
"../Conf/Game": "Game",
"../Data/GameData": "GameData",
"../Data/LanguageData": "LanguageData",
"../Interface/PhoneInfo": "PhoneInfo",
"../UIFrame/SoundMgr": "SoundMgr",
"../UIFrame/UIBase": "UIBase",
"../UIFrame/config/SysDefine": "SysDefine",
"../Util/GameUtil": "GameUtil"
} ],
WindowBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9983ctR9KFHFbkZSK9BaWHb", "WindowBase");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../data/conf/AndroidInterfaces"), s = e("../../manager/DlgGameMgr"), c = e("../../manager/GameSoundMgr"), l = e("../../manager/PlatformInterface"), d = e("../ThirdParty/GameSysDefine"), h = e("../ThirdParty/UIGameBase"), u = e("./GameEvent"), p = e("./GameHppayUtil"), f = cc._decorator, m = f.ccclass, g = (f.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._data = null;
t._callback = null;
t.formType = d.FormType.PopUp;
t.orientation = p.SCREEN_ORIENTATION.ORIENTATION_LANDSCAPE;
t.loadingNode = null;
return t;
}
o = t;
t.prototype.onLoad = function() {
this.__initUI();
};
t.prototype.__initUI = function() {
var e = this, t = function(o) {
for (var i = 0, n = o.childrenCount; i < n; i++) {
var a = o.children[i];
if (!e["_" + a.name]) {
a.sprite = a.getComponent(cc.Sprite);
a.label = a.getComponent(cc.Label);
a.editbox = a.getComponent(cc.EditBox);
a.button = a.getComponent(cc.Button);
a.scrollview = a.getComponent(cc.ScrollView);
e["_" + a.name] = a;
t(a);
}
}
};
t(this.node);
};
t.prototype.getNodeByName = function(e) {
return this["_" + e] || null;
};
t.prototype.getComByName = function(e, t) {
return this["_" + e] ? this["_" + e].getComponent(t) : null;
};
t.prototype.onShow = function(e) {
this._data = e;
};
t.prototype.start = function() {
u.GameEvent.ins().emit("ON_SHOW_DIALOG", this.uid);
this.canDestory = !0;
this.addBtnClick();
this.orientation == p.SCREEN_ORIENTATION.ORIENTATION_PORTRAIT && l.default.setOrientantion(p.SCREEN_ORIENTATION.ORIENTATION_PORTRAIT);
};
t.prototype.addBtnClick = function() {
if (this._btnList && !(this._btnList.length <= 0)) for (var e = 0; e < this._btnList.length; e++) this._btnList[e].on("click", this.onBtnClick, this);
};
t.prototype.onBtnClick = function() {
c.default.inst.playGameEffect(c.AudioRes.click);
};
t.prototype.onClose = function() {
this.unscheduleAllCallbacks();
this.closeDialog();
};
t.prototype.closeDialog = function() {
o.prefabPath = this.uid;
o.closeView();
};
t.prototype.onDisable = function() {
if (this.orientation == p.SCREEN_ORIENTATION.ORIENTATION_PORTRAIT) {
l.default.setOrientantion(p.SCREEN_ORIENTATION.ORIENTATION_LANDSCAPE);
if (cc.sys.isBrowser) return;
cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(r.InterfaceAndroidPath.androidNativeInterface, "resetKeyboardHeight", "()V");
}
};
t.prototype.onDestroy = function() {
u.GameEvent.ins().emit("ON_CLOSE_DIALOG", this.uid);
s.default.inst.onCloseDialog(this.uid);
};
t.prototype.startLoading = function(e, t, o) {
var i = this;
if (!p.default.isnull(this.loadingNode)) {
this.loadingNode = new cc.Node();
this.node.addChild(this.loadingNode);
this.loadingNode.addComponent(sp.Skeleton);
this._loadSpineRemote().then(function(e) {
i.loadingNode.getComponent(sp.Skeleton).skeletonData = e;
i.loadingNode.getComponent(sp.Skeleton).animation = "animation2";
});
}
this.loadingNode.active = !0;
this.loadingNode.stopAllActions();
this.loadingNode.setPosition(e || 0, t || 0);
this.scheduleOnce(function() {
i.loadingNode.active && i.stopLoading();
o || i.closeDialog();
}, 10);
};
t.prototype.stopLoading = function() {
if (p.default.isnull(this.loadingNode)) {
this.loadingNode.active = !1;
this.unscheduleAllCallbacks();
}
};
var o;
return o = a([ m ], t);
}(h.default));
o.default = g;
cc._RF.pop();
}, {
"../../data/conf/AndroidInterfaces": "AndroidInterfaces",
"../../manager/DlgGameMgr": "DlgGameMgr",
"../../manager/GameSoundMgr": "GameSoundMgr",
"../../manager/PlatformInterface": "PlatformInterface",
"../ThirdParty/GameSysDefine": "GameSysDefine",
"../ThirdParty/UIGameBase": "UIGameBase",
"./GameEvent": "GameEvent",
"./GameHppayUtil": "GameHppayUtil"
} ],
XlItem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "281b5ElshdGG7oamE3q6b3w", "XlItem");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._gzArr = [];
t._rgzArr = [];
t._lgzArr = [];
return t;
}
t.prototype.onLoad = function() {
this._gzArr = [];
for (var e = 1; e <= 6; e++) {
var t = this.node.getChildByName("xlgz" + e), o = {};
o.xlBlue = t.getChildByName("xlBlue");
o.xlRed = t.getChildByName("xlRed");
this._gzArr[e - 1] = o;
}
this._rgzArr = [];
this._lgzArr = [];
for (e = 1; e <= 3; e++) {
this._rgzArr[e - 1] = this.node.getChildByName("rgzbj" + e);
this._lgzArr[e - 1] = this.node.getChildByName("lgzbj" + e);
}
};
t.prototype.reset = function() {
for (var e = 0; e < this._gzArr.length; e++) {
var t = this._gzArr[e];
for (var o in t) t[o].opacity = 0;
}
this.resetBgGz(this._rgzArr, 0);
this.resetBgGz(this._lgzArr, 0);
};
t.prototype.resetBgGz = function(e, t) {
for (var o = 0; o < e.length; o++) e[o].opacity = t;
};
t.prototype.setData = function(e, t) {
this.reset();
e % 2 == 0 ? this.resetBgGz(this._lgzArr, 255) : this.resetBgGz(this._rgzArr, 255);
for (var o = 0; o < t.length; o++) {
var i = t[o], n = this._gzArr[o];
1 == i ? n.xlRed.opacity = 255 : 2 == i && (n.xlBlue.opacity = 255);
}
};
return a([ s ], t);
}(cc.Component));
o.default = c;
cc._RF.pop();
}, {} ],
YyItem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b74c5JvLUNBuJYdfunPiWow", "YyItem");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._gzArr = [];
t._rgzArr = [];
t._lgzArr = [];
return t;
}
t.prototype.onLoad = function() {
this._gzArr = [];
for (var e = 1; e <= 6; e++) {
var t = this.node.getChildByName("yylgz" + e), o = {};
o.yylBlueLine = t.getChildByName("yylBlueLine");
o.yylRedLine = t.getChildByName("yylRedLine");
this._gzArr[e - 1] = o;
}
this._rgzArr = [];
this._lgzArr = [];
for (e = 1; e <= 3; e++) {
this._rgzArr[e - 1] = this.node.getChildByName("rgzbj" + e);
this._lgzArr[e - 1] = this.node.getChildByName("lgzbj" + e);
}
};
t.prototype.reset = function() {
for (var e = 0; e < this._gzArr.length; e++) {
var t = this._gzArr[e];
for (var o in t) t[o].opacity = 0;
}
this.resetBgGz(this._rgzArr, 0);
this.resetBgGz(this._lgzArr, 0);
};
t.prototype.resetBgGz = function(e, t) {
for (var o = 0; o < e.length; o++) e[o].opacity = t;
};
t.prototype.setData = function(e, t) {
this.reset();
e % 2 == 0 ? this.resetBgGz(this._lgzArr, 255) : this.resetBgGz(this._rgzArr, 255);
for (var o = 0; o < t.length; o++) {
var i = t[o], n = this._gzArr[o];
1 == i ? n.yylRedLine.opacity = 255 : 2 == i && (n.yylBlueLine.opacity = 255);
}
};
return a([ s ], t);
}(cc.Component));
o.default = c;
cc._RF.pop();
}, {} ],
Zplitem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "73d5eMVeHVCD6HBPJm7KeUq", "Zplitem");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../Conf/Const"), s = e("../../Data/GameData"), c = e("../../Data/LanguageData"), l = e("../../Util/GameUtil"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._data = null;
t._gzArr = [];
return t;
}
t.prototype.onLoad = function() {
this.node.getChildByName("gz1");
this._gzArr = [];
for (var e = 1; e <= 6; e++) {
var t = this.node.getChildByName("gz" + e), o = {};
o.zplBlue = t.getChildByName("zplBlue");
o.zplGreen = t.getChildByName("zplGreen");
o.zplRed = t.getChildByName("zplRed");
o.zplBluePoint = t.getChildByName("zplBluePoint");
o.zplRedPoint = t.getChildByName("zplRedPoint");
o.lucky = t.getChildByName("lucky");
o.tigerLuck = t.getChildByName("tigerLuck");
o.tigerDraw = t.getChildByName("tigerDraw");
this._gzArr[e - 1] = o;
}
};
t.prototype.start = function() {};
t.prototype.reset = function() {
for (var e = 0; e < this._gzArr.length; e++) {
var t = this._gzArr[e];
for (var o in t) t[o].opacity = 0;
}
"cn" == c.default.ins.getCountryLanguage() || "tw" == c.default.ins.getCountryLanguage() ? "zplPlayer" != this._gzArr[0].zplBlue.getComponent(cc.Sprite).spriteFrame.name && this._gzArr.forEach(function(e) {
l.default.loadSpriteFrame(e.zplBlue, "zplPlayer", "room/waybill/next/next");
l.default.loadSpriteFrame(e.zplGreen, "zplPeace", "room/waybill/next/next");
l.default.loadSpriteFrame(e.zplRed, "zplBanker", "room/waybill/next/next");
}) : this._gzArr.forEach(function(e) {
l.default.loadSpriteFrame(e.zplBlue, "zplPlayerEn", "room/waybill/next/next");
l.default.loadSpriteFrame(e.zplGreen, "zplPeaceEn", "room/waybill/next/next");
l.default.loadSpriteFrame(e.zplRed, "zplBankerEn", "room/waybill/next/next");
});
};
t.prototype.setData = function(e, t) {
this.reset(t);
for (var o = 0; o < e.length; o++) {
var i = e[o], n = this._gzArr[o];
1 == i.result ? this.result2(n) : 2 == i.result ? this.result1(n) : 3 == i.result && this.result3(n);
i.playerPair && this.result5(n);
i.bankerPair && this.result4(n);
i.lucky && this.result8(n);
i.tigerDraw && s.default.roomData.playType == r.baccaratRoomType.singapore && this.result7(n);
}
};
t.prototype.texiao = function(e) {
for (var t, o = 0; o < e.length; o++) {
var i = e[o];
this._gzArr[o];
o < e.length - 1 ? 0 == i.result && (t = this._gzArr[o]) : t = this._gzArr[o];
t.node.scale = 2;
}
};
t.prototype.result1 = function(e) {
e.zplRed.opacity = 255;
};
t.prototype.result2 = function(e) {
e.zplBlue.opacity = 255;
};
t.prototype.result3 = function(e) {
e.zplGreen.opacity = 255;
};
t.prototype.result4 = function(e) {
e.zplRedPoint.opacity = 255;
};
t.prototype.result5 = function(e) {
e.zplBluePoint.opacity = 255;
};
t.prototype.result6 = function(e) {
e.zplRed.opacity = 0;
e.zplBlue.opacity = 0;
e.zplGreen.opacity = 0;
e.lucky.opacity = 255;
};
t.prototype.result7 = function(e) {
e.zplRed.opacity = 0;
e.zplBlue.opacity = 0;
e.zplGreen.opacity = 0;
e.tigerDraw.opacity = 255;
};
t.prototype.result8 = function(e) {
e.zplRed.opacity = 0;
e.zplBlue.opacity = 0;
e.zplGreen.opacity = 0;
e.tigerLuck.opacity = 255;
};
t.prototype.onTouch = function() {};
return a([ h ], t);
}(cc.Component));
o.default = u;
cc._RF.pop();
}, {
"../../Conf/Const": "Const",
"../../Data/GameData": "GameData",
"../../Data/LanguageData": "LanguageData",
"../../Util/GameUtil": "GameUtil"
} ],
aes: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7c0b2FcU2lAeragv9jHUqhm", "aes");
i = function(e) {
(function() {
var t = e, o = t.lib.BlockCipher, i = t.algo, n = [], a = [], r = [], s = [], c = [], l = [], d = [], h = [], u = [], p = [];
(function() {
for (var e = [], t = 0; t < 256; t++) e[t] = t < 128 ? t << 1 : t << 1 ^ 283;
var o = 0, i = 0;
for (t = 0; t < 256; t++) {
var f = i ^ i << 1 ^ i << 2 ^ i << 3 ^ i << 4;
f = f >>> 8 ^ 255 & f ^ 99;
n[o] = f;
a[f] = o;
var m = e[o], g = e[m], y = e[g], _ = 257 * e[f] ^ 16843008 * f;
r[o] = _ << 24 | _ >>> 8;
s[o] = _ << 16 | _ >>> 16;
c[o] = _ << 8 | _ >>> 24;
l[o] = _;
_ = 16843009 * y ^ 65537 * g ^ 257 * m ^ 16843008 * o;
d[f] = _ << 24 | _ >>> 8;
h[f] = _ << 16 | _ >>> 16;
u[f] = _ << 8 | _ >>> 24;
p[f] = _;
if (o) {
o = m ^ e[e[e[y ^ m]]];
i ^= e[e[i]];
} else o = i = 1;
}
})();
var f = [ 0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54 ], m = i.AES = o.extend({
_doReset: function() {
if (!this._nRounds || this._keyPriorReset !== this._key) {
for (var e = this._keyPriorReset = this._key, t = e.words, o = e.sigBytes / 4, i = 4 * ((this._nRounds = o + 6) + 1), a = this._keySchedule = [], r = 0; r < i; r++) if (r < o) a[r] = t[r]; else {
var s = a[r - 1];
if (r % o) o > 6 && r % o == 4 && (s = n[s >>> 24] << 24 | n[s >>> 16 & 255] << 16 | n[s >>> 8 & 255] << 8 | n[255 & s]); else {
s = n[(s = s << 8 | s >>> 24) >>> 24] << 24 | n[s >>> 16 & 255] << 16 | n[s >>> 8 & 255] << 8 | n[255 & s];
s ^= f[r / o | 0] << 24;
}
a[r] = a[r - o] ^ s;
}
for (var c = this._invKeySchedule = [], l = 0; l < i; l++) {
r = i - l;
s = l % 4 ? a[r] : a[r - 4];
c[l] = l < 4 || r <= 4 ? s : d[n[s >>> 24]] ^ h[n[s >>> 16 & 255]] ^ u[n[s >>> 8 & 255]] ^ p[n[255 & s]];
}
}
},
encryptBlock: function(e, t) {
this._doCryptBlock(e, t, this._keySchedule, r, s, c, l, n);
},
decryptBlock: function(e, t) {
var o = e[t + 1];
e[t + 1] = e[t + 3];
e[t + 3] = o;
this._doCryptBlock(e, t, this._invKeySchedule, d, h, u, p, a);
o = e[t + 1];
e[t + 1] = e[t + 3];
e[t + 3] = o;
},
_doCryptBlock: function(e, t, o, i, n, a, r, s) {
for (var c = this._nRounds, l = e[t] ^ o[0], d = e[t + 1] ^ o[1], h = e[t + 2] ^ o[2], u = e[t + 3] ^ o[3], p = 4, f = 1; f < c; f++) {
var m = i[l >>> 24] ^ n[d >>> 16 & 255] ^ a[h >>> 8 & 255] ^ r[255 & u] ^ o[p++], g = i[d >>> 24] ^ n[h >>> 16 & 255] ^ a[u >>> 8 & 255] ^ r[255 & l] ^ o[p++], y = i[h >>> 24] ^ n[u >>> 16 & 255] ^ a[l >>> 8 & 255] ^ r[255 & d] ^ o[p++], _ = i[u >>> 24] ^ n[l >>> 16 & 255] ^ a[d >>> 8 & 255] ^ r[255 & h] ^ o[p++];
l = m;
d = g;
h = y;
u = _;
}
m = (s[l >>> 24] << 24 | s[d >>> 16 & 255] << 16 | s[h >>> 8 & 255] << 8 | s[255 & u]) ^ o[p++], 
g = (s[d >>> 24] << 24 | s[h >>> 16 & 255] << 16 | s[u >>> 8 & 255] << 8 | s[255 & l]) ^ o[p++], 
y = (s[h >>> 24] << 24 | s[u >>> 16 & 255] << 16 | s[l >>> 8 & 255] << 8 | s[255 & d]) ^ o[p++], 
_ = (s[u >>> 24] << 24 | s[l >>> 16 & 255] << 16 | s[d >>> 8 & 255] << 8 | s[255 & h]) ^ o[p++];
e[t] = m;
e[t + 1] = g;
e[t + 2] = y;
e[t + 3] = _;
},
keySize: 8
});
t.AES = o._createHelper(m);
})();
return e.AES;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./enc-base64"), e("./md5"), e("./evpkdf"), e("./cipher-core")) : "function" == typeof define && define.amd ? define([ "./core", "./enc-base64", "./md5", "./evpkdf", "./cipher-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./cipher-core": "cipher-core",
"./core": "core",
"./enc-base64": "enc-base64",
"./evpkdf": "evpkdf",
"./md5": "md5"
} ],
card: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f8037BSALdGW6B0vTDcqc1R", "card");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r, s = e("../Conf/BaccatRoomConf"), c = e("../Conf/ScreenAdapter"), l = e("../Data/GameData"), d = e("./GameUtil"), h = cc._decorator, u = h.ccclass;
h.property;
(function(e) {
e[e.spade = 1] = "spade";
e[e.heart = 2] = "heart";
e[e.plum = 3] = "plum";
e[e.block = 4] = "block";
})(r || (r = {}));
var p = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.cardPointConf = {
2: {
count: 2,
pointArr: [ {
x: 0,
y: 294,
angle: 0
}, {
x: 0,
y: -294,
angle: 180
} ]
},
3: {
count: 3,
pointArr: [ {
x: 0,
y: 294,
angle: 0
}, {
x: 0,
y: 0,
angle: 0
}, {
x: 0,
y: -294,
angle: 180
} ]
},
4: {
count: 4,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
5: {
count: 5,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: 0,
y: 0,
angle: 0
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
6: {
count: 6,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: -140,
y: 0,
angle: 0
}, {
x: 138,
y: 0,
angle: 0
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
7: {
count: 7,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: 0,
y: 147,
angle: 0
}, {
x: -140,
y: 0,
angle: 0
}, {
x: 138,
y: 0,
angle: 0
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
8: {
count: 8,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: 0,
y: 147,
angle: 0
}, {
x: -140,
y: 0,
angle: 0
}, {
x: 138,
y: 0,
angle: 0
}, {
x: 0,
y: -147,
angle: 180
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
9: {
count: 9,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: -140,
y: 98,
angle: 0
}, {
x: 138,
y: 98,
angle: 0
}, {
x: 0,
y: 0,
angle: 0
}, {
x: -140,
y: -98,
angle: 180
}, {
x: 138,
y: -98,
angle: 180
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
10: {
count: 10,
pointArr: [ {
x: -140,
y: 294,
angle: 0
}, {
x: 138,
y: 294,
angle: 0
}, {
x: 0,
y: 196,
angle: 0
}, {
x: -140,
y: 98,
angle: 0
}, {
x: 138,
y: 98,
angle: 0
}, {
x: -140,
y: -98,
angle: 180
}, {
x: 138,
y: -98,
angle: 180
}, {
x: 0,
y: -196,
angle: 180
}, {
x: -140,
y: -294,
angle: 180
}, {
x: 138,
y: -294,
angle: 180
} ]
},
11: {
count: 1,
pointArr: [ {
x: 0,
y: 0,
angle: 0
} ]
},
12: {
count: 1,
pointArr: [ {
x: 0,
y: 0,
angle: 0
} ]
},
13: {
count: 1,
pointArr: [ {
x: 0,
y: 0,
angle: 0
} ]
},
14: {
count: 1,
pointArr: [ {
x: 0,
y: 0,
angle: 0
} ]
}
};
t.copySprArr = [];
return t;
}
t.prototype.onLoad = function() {};
t.prototype.initSelf = function() {
this.topNum = this.node.getChildByName("topNum");
this.topColor = this.node.getChildByName("topColor");
this.bottomNum = this.node.getChildByName("bottomNum");
this.bottomColor = this.node.getChildByName("bottomColor");
this.centerColor = this.node.getChildByName("centerColor");
};
t.prototype.reset = function() {
this.topNum.opacity = 0;
this.topColor.opacity = 0;
this.bottomNum.opacity = 0;
this.bottomColor.opacity = 0;
this.centerColor.opacity = 0;
for (var e = 0; e < this.copySprArr.length; e++) this.copySprArr[e].opacity = 0;
};
t.prototype.setNum = function(e, t, o) {
var i = this;
this.color = Math.floor(e / 256);
this.num = e % 16;
if (0 == e) {
this.reset();
d.default.loadSpriteFrame(this.node, s.default.getInstance().getCardColor());
} else {
if (!o && l.default.getCard(e, !1)) {
this.node.getComponent(cc.Sprite).spriteFrame = l.default.getCard(e, !1);
t();
return;
}
if (!o) {
this.topNum.opacity = 0;
this.bottomNum.opacity = 0;
this.topColor.opacity = 0;
this.bottomColor.opacity = 0;
}
this.initCard();
if (o) return;
this.scheduleOnce(function() {
i.screenshotsInti();
i.scheduleOnce(function() {
i.screenshots(function(n) {
l.default.setCard(e, n, o);
t();
i.node.destroy();
});
}, 0);
}, 10 / 60);
}
};
t.prototype.initCard = function() {
this.setCardNum(this.num);
this.setCardColor();
this.setCardCenter();
};
t.prototype.setCardNum = function(e) {
switch (this.color) {
case r.spade:
case r.plum:
d.default.loadSpriteFrame(this.topNum, "card/black/" + e);
d.default.loadSpriteFrame(this.bottomNum, "card/black/" + e);
break;

case r.heart:
case r.block:
d.default.loadSpriteFrame(this.topNum, "card/red/" + e);
d.default.loadSpriteFrame(this.bottomNum, "card/red/" + e);
}
};
t.prototype.setCardColor = function() {
d.default.loadSpriteFrame(this.topColor, "card/color/small" + this.color);
d.default.loadSpriteFrame(this.bottomColor, "card/color/small" + this.color);
};
t.prototype.setCardCenter = function() {
var e;
e = this.num <= 10 ? "card/color/color" + this.color : this.num <= 13 ? "card/color/color" + this.color + "_" + this.num : this.color == r.spade ? "card/color/color1A" : "card/color/color" + this.color;
this.createCenter(this.cardPointConf[this.num], e);
};
t.prototype.createCenter = function(e, t) {
if (e) for (var o = 0; o < e.count; o++) if (0 == o) {
d.default.loadSpriteFrame(this.centerColor, t);
this.centerColor.setPosition(e.pointArr[o].x, e.pointArr[o].y);
} else {
var i = cc.instantiate(this.centerColor);
i.angle = e.pointArr[o].angle;
d.default.loadSpriteFrame(i, t);
i.setPosition(e.pointArr[o].x, e.pointArr[o].y);
i.parent = this.node;
this.copySprArr.push(i);
} else console.log(" ", e);
};
t.prototype.start = function() {};
t.prototype.cardRtt = function() {
var e = this.node.getComponent(cc.Sprite).spriteFrame, t = new cc.SpriteFrame();
t.setOriginalSize(e.getOriginalSize());
t.setRect(e.getRect());
t.setOffset(e.getOffset());
t.setRotated(e.isRotated());
t.insetTop = e.insetTop;
t.insetLeft = e.insetLeft;
t.insetBottom = e.insetBottom;
t.insetRight = e.insetRight;
var o = this._renderTex = new cc.RenderTexture();
o.initWithSize(this.node.width, this.node.height, cc.RenderTexture.DepthStencilFormat.RB_FMT_D24S8);
this.texture = this._renderTex;
var i = this.initImage();
o.initWithData(i, cc.Texture2D.PixelFormat.RGBA8888, this._width, this._height);
this.camera.targetTexture = o;
t.setTexture(o);
};
t.prototype.screenshots = function(e) {
var t = this.initImage(), o = this.showSprite(t);
e && e(o);
};
t.prototype.screenshotsInti = function() {
this.node.parent = cc.find("Canvas");
this.camera = this.node.addComponent(cc.Camera);
this.camera.zoomRatio = 1.15;
c.default.getInstance().screenType == c.screenTypeEnum.isIphone6Szie ? this.camera.zoomRatio = 1.08 : c.default.getInstance().screenType == c.screenTypeEnum.isIpad && (this.camera.zoomRatio = 1.65);
this._width = 0;
this._height = 0;
var e = new cc.RenderTexture();
e.initWithSize(this.node.width, this.node.height, cc.RenderTexture.DepthStencilFormat.RB_FMT_S8);
this.camera.targetTexture = e;
this.texture = e;
};
t.prototype.initImage = function() {
var e = this.texture.readPixels();
this._width = this.texture.width;
this._height = this.texture.height;
return this.filpYImage(e, this._width, this._height);
};
t.prototype.showSprite = function(e) {
var t = new cc.Texture2D();
t.initWithData(e, cc.Texture2D.PixelFormat.RGBA8888, this._width, this._height);
var o = new cc.SpriteFrame();
o.setTexture(t);
return o;
};
t.prototype.filpYImage = function(e, t, o) {
for (var i = new Uint8Array(t * o * 4), n = 4 * t, a = 0; a < o; a++) for (var r = (o - 1 - a) * t * 4, s = a * t * 4, c = 0; c < n; c++) i[s + c] = e[r + c];
return i;
};
return a([ u ], t);
}(cc.Component);
o.default = p;
cc._RF.pop();
}, {
"../Conf/BaccatRoomConf": "BaccatRoomConf",
"../Conf/ScreenAdapter": "ScreenAdapter",
"../Data/GameData": "GameData",
"./GameUtil": "GameUtil"
} ],
ccmd5: [ function(e, t) {
"use strict";
cc._RF.push(t, "9773510emRGYpzHvOyjjeeA", "ccmd5");
var o = {
safeAdd: function(e, t) {
var o = (65535 & e) + (65535 & t);
return (e >> 16) + (t >> 16) + (o >> 16) << 16 | 65535 & o;
},
bitRotateLeft: function(e, t) {
return e << t | e >>> 32 - t;
},
md5cmn: function(e, t, o, i, n, a) {
return this.safeAdd(this.bitRotateLeft(this.safeAdd(this.safeAdd(t, e), this.safeAdd(i, a)), n), o);
},
md5ff: function(e, t, o, i, n, a, r) {
return this.md5cmn(t & o | ~t & i, e, t, n, a, r);
},
md5gg: function(e, t, o, i, n, a, r) {
return this.md5cmn(t & i | o & ~i, e, t, n, a, r);
},
md5hh: function(e, t, o, i, n, a, r) {
return this.md5cmn(t ^ o ^ i, e, t, n, a, r);
},
md5ii: function(e, t, o, i, n, a, r) {
return this.md5cmn(o ^ (t | ~i), e, t, n, a, r);
},
binlMD5: function(e, t) {
e[t >> 5] |= 128 << t % 32;
e[14 + (t + 64 >>> 9 << 4)] = t;
var o, i, n, a, r, s = 1732584193, c = -271733879, l = -1732584194, d = 271733878;
for (o = 0; o < e.length; o += 16) {
i = s;
n = c;
a = l;
r = d;
s = this.md5ff(s, c, l, d, e[o], 7, -680876936);
d = this.md5ff(d, s, c, l, e[o + 1], 12, -389564586);
l = this.md5ff(l, d, s, c, e[o + 2], 17, 606105819);
c = this.md5ff(c, l, d, s, e[o + 3], 22, -1044525330);
s = this.md5ff(s, c, l, d, e[o + 4], 7, -176418897);
d = this.md5ff(d, s, c, l, e[o + 5], 12, 1200080426);
l = this.md5ff(l, d, s, c, e[o + 6], 17, -1473231341);
c = this.md5ff(c, l, d, s, e[o + 7], 22, -45705983);
s = this.md5ff(s, c, l, d, e[o + 8], 7, 1770035416);
d = this.md5ff(d, s, c, l, e[o + 9], 12, -1958414417);
l = this.md5ff(l, d, s, c, e[o + 10], 17, -42063);
c = this.md5ff(c, l, d, s, e[o + 11], 22, -1990404162);
s = this.md5ff(s, c, l, d, e[o + 12], 7, 1804603682);
d = this.md5ff(d, s, c, l, e[o + 13], 12, -40341101);
l = this.md5ff(l, d, s, c, e[o + 14], 17, -1502002290);
c = this.md5ff(c, l, d, s, e[o + 15], 22, 1236535329);
s = this.md5gg(s, c, l, d, e[o + 1], 5, -165796510);
d = this.md5gg(d, s, c, l, e[o + 6], 9, -1069501632);
l = this.md5gg(l, d, s, c, e[o + 11], 14, 643717713);
c = this.md5gg(c, l, d, s, e[o], 20, -373897302);
s = this.md5gg(s, c, l, d, e[o + 5], 5, -701558691);
d = this.md5gg(d, s, c, l, e[o + 10], 9, 38016083);
l = this.md5gg(l, d, s, c, e[o + 15], 14, -660478335);
c = this.md5gg(c, l, d, s, e[o + 4], 20, -405537848);
s = this.md5gg(s, c, l, d, e[o + 9], 5, 568446438);
d = this.md5gg(d, s, c, l, e[o + 14], 9, -1019803690);
l = this.md5gg(l, d, s, c, e[o + 3], 14, -187363961);
c = this.md5gg(c, l, d, s, e[o + 8], 20, 1163531501);
s = this.md5gg(s, c, l, d, e[o + 13], 5, -1444681467);
d = this.md5gg(d, s, c, l, e[o + 2], 9, -51403784);
l = this.md5gg(l, d, s, c, e[o + 7], 14, 1735328473);
c = this.md5gg(c, l, d, s, e[o + 12], 20, -1926607734);
s = this.md5hh(s, c, l, d, e[o + 5], 4, -378558);
d = this.md5hh(d, s, c, l, e[o + 8], 11, -2022574463);
l = this.md5hh(l, d, s, c, e[o + 11], 16, 1839030562);
c = this.md5hh(c, l, d, s, e[o + 14], 23, -35309556);
s = this.md5hh(s, c, l, d, e[o + 1], 4, -1530992060);
d = this.md5hh(d, s, c, l, e[o + 4], 11, 1272893353);
l = this.md5hh(l, d, s, c, e[o + 7], 16, -155497632);
c = this.md5hh(c, l, d, s, e[o + 10], 23, -1094730640);
s = this.md5hh(s, c, l, d, e[o + 13], 4, 681279174);
d = this.md5hh(d, s, c, l, e[o], 11, -358537222);
l = this.md5hh(l, d, s, c, e[o + 3], 16, -722521979);
c = this.md5hh(c, l, d, s, e[o + 6], 23, 76029189);
s = this.md5hh(s, c, l, d, e[o + 9], 4, -640364487);
d = this.md5hh(d, s, c, l, e[o + 12], 11, -421815835);
l = this.md5hh(l, d, s, c, e[o + 15], 16, 530742520);
c = this.md5hh(c, l, d, s, e[o + 2], 23, -995338651);
s = this.md5ii(s, c, l, d, e[o], 6, -198630844);
d = this.md5ii(d, s, c, l, e[o + 7], 10, 1126891415);
l = this.md5ii(l, d, s, c, e[o + 14], 15, -1416354905);
c = this.md5ii(c, l, d, s, e[o + 5], 21, -57434055);
s = this.md5ii(s, c, l, d, e[o + 12], 6, 1700485571);
d = this.md5ii(d, s, c, l, e[o + 3], 10, -1894986606);
l = this.md5ii(l, d, s, c, e[o + 10], 15, -1051523);
c = this.md5ii(c, l, d, s, e[o + 1], 21, -2054922799);
s = this.md5ii(s, c, l, d, e[o + 8], 6, 1873313359);
d = this.md5ii(d, s, c, l, e[o + 15], 10, -30611744);
l = this.md5ii(l, d, s, c, e[o + 6], 15, -1560198380);
c = this.md5ii(c, l, d, s, e[o + 13], 21, 1309151649);
s = this.md5ii(s, c, l, d, e[o + 4], 6, -145523070);
d = this.md5ii(d, s, c, l, e[o + 11], 10, -1120210379);
l = this.md5ii(l, d, s, c, e[o + 2], 15, 718787259);
c = this.md5ii(c, l, d, s, e[o + 9], 21, -343485551);
s = this.safeAdd(s, i);
c = this.safeAdd(c, n);
l = this.safeAdd(l, a);
d = this.safeAdd(d, r);
}
return [ s, c, l, d ];
},
binl2rstr: function(e) {
var t, o = "", i = 32 * e.length;
for (t = 0; t < i; t += 8) o += String.fromCharCode(e[t >> 5] >>> t % 32 & 255);
return o;
},
rstr2binl: function(e) {
var t, o = [];
o[(e.length >> 2) - 1] = void 0;
for (t = 0; t < o.length; t += 1) o[t] = 0;
var i = 8 * e.length;
for (t = 0; t < i; t += 8) o[t >> 5] |= (255 & e.charCodeAt(t / 8)) << t % 32;
return o;
},
rstrMD5: function(e) {
return this.binl2rstr(this.binlMD5(this.rstr2binl(e), 8 * e.length));
},
rstrHMACMD5: function(e, t) {
var o, i, n = rstr2binl(e), a = [], r = [];
a[15] = r[15] = void 0;
n.length > 16 && (n = binlMD5(n, 8 * e.length));
for (o = 0; o < 16; o += 1) {
a[o] = 909522486 ^ n[o];
r[o] = 1549556828 ^ n[o];
}
i = binlMD5(a.concat(rstr2binl(t)), 512 + 8 * t.length);
return binl2rstr(binlMD5(r.concat(i), 640));
},
rstr2hex: function(e) {
var t, o, i = "";
for (o = 0; o < e.length; o += 1) {
t = e.charCodeAt(o);
i += "0123456789abcdef".charAt(t >>> 4 & 15) + "0123456789abcdef".charAt(15 & t);
}
return i;
},
str2rstrUTF8: function(e) {
return unescape(encodeURIComponent(e));
},
rawMD5: function(e) {
return this.rstrMD5(this.str2rstrUTF8(e));
},
hexMD5: function(e) {
return this.rstr2hex(this.rawMD5(e));
},
rawHMACMD5: function(e, t) {
return this.rstrHMACMD5(this.str2rstrUTF8(e), this.str2rstrUTF8(t));
},
hexHMACMD5: function(e, t) {
return this.rstr2hex(this.rawHMACMD5(e, t));
},
md5: function(e, t, o) {
return t ? o ? this.rawHMACMD5(t, e) : this.hexHMACMD5(t, e) : o ? this.rawMD5(e) : this.hexMD5(e);
}
};
t.exports = o;
cc._RF.pop();
}, {} ],
"cipher-core": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7727finVORC0I+RuLWG+KYf", "cipher-core");
i = function(e) {
e.lib.Cipher || function(t) {
var o = e, i = o.lib, n = i.Base, a = i.WordArray, r = i.BufferedBlockAlgorithm, s = o.enc, c = (s.Utf8, 
s.Base64), l = o.algo.EvpKDF, d = i.Cipher = r.extend({
cfg: n.extend(),
createEncryptor: function(e, t) {
return this.create(this._ENC_XFORM_MODE, e, t);
},
createDecryptor: function(e, t) {
return this.create(this._DEC_XFORM_MODE, e, t);
},
init: function(e, t, o) {
this.cfg = this.cfg.extend(o);
this._xformMode = e;
this._key = t;
this.reset();
},
reset: function() {
r.reset.call(this);
this._doReset();
},
process: function(e) {
this._append(e);
return this._process();
},
finalize: function(e) {
e && this._append(e);
return this._doFinalize();
},
keySize: 4,
ivSize: 4,
_ENC_XFORM_MODE: 1,
_DEC_XFORM_MODE: 2,
_createHelper: function() {
function e(e) {
return "string" == typeof e ? C : y;
}
return function(t) {
return {
encrypt: function(o, i, n) {
return e(i).encrypt(t, o, i, n);
},
decrypt: function(o, i, n) {
return e(i).decrypt(t, o, i, n);
}
};
};
}()
}), h = (i.StreamCipher = d.extend({
_doFinalize: function() {
return this._process(!0);
},
blockSize: 1
}), o.mode = {}), u = i.BlockCipherMode = n.extend({
createEncryptor: function(e, t) {
return this.Encryptor.create(e, t);
},
createDecryptor: function(e, t) {
return this.Decryptor.create(e, t);
},
init: function(e, t) {
this._cipher = e;
this._iv = t;
}
}), p = h.CBC = function() {
var e = u.extend();
e.Encryptor = e.extend({
processBlock: function(e, t) {
var i = this._cipher, n = i.blockSize;
o.call(this, e, t, n);
i.encryptBlock(e, t);
this._prevBlock = e.slice(t, t + n);
}
});
e.Decryptor = e.extend({
processBlock: function(e, t) {
var i = this._cipher, n = i.blockSize, a = e.slice(t, t + n);
i.decryptBlock(e, t);
o.call(this, e, t, n);
this._prevBlock = a;
}
});
function o(e, o, i) {
var n = this._iv;
if (n) {
var a = n;
this._iv = t;
} else a = this._prevBlock;
for (var r = 0; r < i; r++) e[o + r] ^= a[r];
}
return e;
}(), f = (o.pad = {}).Pkcs7 = {
pad: function(e, t) {
for (var o = 4 * t, i = o - e.sigBytes % o, n = i << 24 | i << 16 | i << 8 | i, r = [], s = 0; s < i; s += 4) r.push(n);
var c = a.create(r, i);
e.concat(c);
},
unpad: function(e) {
var t = 255 & e.words[e.sigBytes - 1 >>> 2];
e.sigBytes -= t;
}
}, m = (i.BlockCipher = d.extend({
cfg: d.cfg.extend({
mode: p,
padding: f
}),
reset: function() {
d.reset.call(this);
var e = this.cfg, t = e.iv, o = e.mode;
if (this._xformMode == this._ENC_XFORM_MODE) var i = o.createEncryptor; else {
i = o.createDecryptor;
this._minBufferSize = 1;
}
if (this._mode && this._mode.__creator == i) this._mode.init(this, t && t.words); else {
this._mode = i.call(o, this, t && t.words);
this._mode.__creator = i;
}
},
_doProcessBlock: function(e, t) {
this._mode.processBlock(e, t);
},
_doFinalize: function() {
var e = this.cfg.padding;
if (this._xformMode == this._ENC_XFORM_MODE) {
e.pad(this._data, this.blockSize);
var t = this._process(!0);
} else {
t = this._process(!0);
e.unpad(t);
}
return t;
},
blockSize: 4
}), i.CipherParams = n.extend({
init: function(e) {
this.mixIn(e);
},
toString: function(e) {
return (e || this.formatter).stringify(this);
}
})), g = (o.format = {}).OpenSSL = {
stringify: function(e) {
var t = e.ciphertext, o = e.salt;
if (o) var i = a.create([ 1398893684, 1701076831 ]).concat(o).concat(t); else i = t;
return i.toString(c);
},
parse: function(e) {
var t = c.parse(e), o = t.words;
if (1398893684 == o[0] && 1701076831 == o[1]) {
var i = a.create(o.slice(2, 4));
o.splice(0, 4);
t.sigBytes -= 16;
}
return m.create({
ciphertext: t,
salt: i
});
}
}, y = i.SerializableCipher = n.extend({
cfg: n.extend({
format: g
}),
encrypt: function(e, t, o, i) {
i = this.cfg.extend(i);
var n = e.createEncryptor(o, i), a = n.finalize(t), r = n.cfg;
return m.create({
ciphertext: a,
key: o,
iv: r.iv,
algorithm: e,
mode: r.mode,
padding: r.padding,
blockSize: e.blockSize,
formatter: i.format
});
},
decrypt: function(e, t, o, i) {
i = this.cfg.extend(i);
t = this._parse(t, i.format);
return e.createDecryptor(o, i).finalize(t.ciphertext);
},
_parse: function(e, t) {
return "string" == typeof e ? t.parse(e, this) : e;
}
}), _ = (o.kdf = {}).OpenSSL = {
execute: function(e, t, o, i) {
i || (i = a.random(8));
var n = l.create({
keySize: t + o
}).compute(e, i), r = a.create(n.words.slice(t), 4 * o);
n.sigBytes = 4 * t;
return m.create({
key: n,
iv: r,
salt: i
});
}
}, C = i.PasswordBasedCipher = y.extend({
cfg: y.cfg.extend({
kdf: _
}),
encrypt: function(e, t, o, i) {
var n = (i = this.cfg.extend(i)).kdf.execute(o, e.keySize, e.ivSize);
i.iv = n.iv;
var a = y.encrypt.call(this, e, t, n.key, i);
a.mixIn(n);
return a;
},
decrypt: function(e, t, o, i) {
i = this.cfg.extend(i);
t = this._parse(t, i.format);
var n = i.kdf.execute(o, e.keySize, e.ivSize, t.salt);
i.iv = n.iv;
return y.decrypt.call(this, e, t, n.key, i);
}
});
}();
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./evpkdf")) : "function" == typeof define && define.amd ? define([ "./core", "./evpkdf" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core",
"./evpkdf": "evpkdf"
} ],
core: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "477d6XNuaxAtZpTVHnfGFhD", "core");
i = function() {
var e = e || function(e) {
var t = Object.create || function() {
function e() {}
return function(t) {
var o;
e.prototype = t;
o = new e();
e.prototype = null;
return o;
};
}(), o = {}, i = o.lib = {}, n = i.Base = {
extend: function(e) {
var o = t(this);
e && o.mixIn(e);
o.hasOwnProperty("init") && this.init !== o.init || (o.init = function() {
o.$super.init.apply(this, arguments);
});
o.init.prototype = o;
o.$super = this;
return o;
},
create: function() {
var e = this.extend();
e.init.apply(e, arguments);
return e;
},
init: function() {},
mixIn: function(e) {
for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t]);
e.hasOwnProperty("toString") && (this.toString = e.toString);
},
clone: function() {
return this.init.prototype.extend(this);
}
}, a = i.WordArray = n.extend({
init: function(e, t) {
e = this.words = e || [];
this.sigBytes = null != t ? t : 4 * e.length;
},
toString: function(e) {
return (e || s).stringify(this);
},
concat: function(e) {
var t = this.words, o = e.words, i = this.sigBytes, n = e.sigBytes;
this.clamp();
if (i % 4) for (var a = 0; a < n; a++) {
var r = o[a >>> 2] >>> 24 - a % 4 * 8 & 255;
t[i + a >>> 2] |= r << 24 - (i + a) % 4 * 8;
} else for (a = 0; a < n; a += 4) t[i + a >>> 2] = o[a >>> 2];
this.sigBytes += n;
return this;
},
clamp: function() {
var t = this.words, o = this.sigBytes;
t[o >>> 2] &= 4294967295 << 32 - o % 4 * 8;
t.length = e.ceil(o / 4);
},
clone: function() {
var e = n.clone.call(this);
e.words = this.words.slice(0);
return e;
},
random: function(t) {
for (var o, i = [], n = function(t) {
t = t;
var o = 987654321, i = 4294967295;
return function() {
var n = ((o = 36969 * (65535 & o) + (o >> 16) & i) << 16) + (t = 18e3 * (65535 & t) + (t >> 16) & i) & i;
n /= 4294967296;
return (n += .5) * (e.random() > .5 ? 1 : -1);
};
}, r = 0; r < t; r += 4) {
var s = n(4294967296 * (o || e.random()));
o = 987654071 * s();
i.push(4294967296 * s() | 0);
}
return new a.init(i, t);
}
}), r = o.enc = {}, s = r.Hex = {
stringify: function(e) {
for (var t = e.words, o = e.sigBytes, i = [], n = 0; n < o; n++) {
var a = t[n >>> 2] >>> 24 - n % 4 * 8 & 255;
i.push((a >>> 4).toString(16));
i.push((15 & a).toString(16));
}
return i.join("");
},
parse: function(e) {
for (var t = e.length, o = [], i = 0; i < t; i += 2) o[i >>> 3] |= parseInt(e.substr(i, 2), 16) << 24 - i % 8 * 4;
return new a.init(o, t / 2);
}
}, c = r.Latin1 = {
stringify: function(e) {
for (var t = e.words, o = e.sigBytes, i = [], n = 0; n < o; n++) {
var a = t[n >>> 2] >>> 24 - n % 4 * 8 & 255;
i.push(String.fromCharCode(a));
}
return i.join("");
},
parse: function(e) {
for (var t = e.length, o = [], i = 0; i < t; i++) o[i >>> 2] |= (255 & e.charCodeAt(i)) << 24 - i % 4 * 8;
return new a.init(o, t);
}
}, l = r.Utf8 = {
stringify: function(e) {
try {
return decodeURIComponent(escape(c.stringify(e)));
} catch (e) {
throw new Error("Malformed UTF-8 data");
}
},
parse: function(e) {
return c.parse(unescape(encodeURIComponent(e)));
}
}, d = i.BufferedBlockAlgorithm = n.extend({
reset: function() {
this._data = new a.init();
this._nDataBytes = 0;
},
_append: function(e) {
"string" == typeof e && (e = l.parse(e));
this._data.concat(e);
this._nDataBytes += e.sigBytes;
},
_process: function(t) {
var o = this._data, i = o.words, n = o.sigBytes, r = this.blockSize, s = n / (4 * r), c = (s = t ? e.ceil(s) : e.max((0 | s) - this._minBufferSize, 0)) * r, l = e.min(4 * c, n);
if (c) {
for (var d = 0; d < c; d += r) this._doProcessBlock(i, d);
var h = i.splice(0, c);
o.sigBytes -= l;
}
return new a.init(h, l);
},
clone: function() {
var e = n.clone.call(this);
e._data = this._data.clone();
return e;
},
_minBufferSize: 0
}), h = (i.Hasher = d.extend({
cfg: n.extend(),
init: function(e) {
this.cfg = this.cfg.extend(e);
this.reset();
},
reset: function() {
d.reset.call(this);
this._doReset();
},
update: function(e) {
this._append(e);
this._process();
return this;
},
finalize: function(e) {
e && this._append(e);
return this._doFinalize();
},
blockSize: 16,
_createHelper: function(e) {
return function(t, o) {
return new e.init(o).finalize(t);
};
},
_createHmacHelper: function(e) {
return function(t, o) {
return new h.HMAC.init(e, o).finalize(t);
};
}
}), o.algo = {});
return o;
}(Math);
return e;
}, "object" == typeof o ? t.exports = o = i() : "function" == typeof define && define.amd ? define([], i) : (void 0).CryptoJS = i();
var i;
cc._RF.pop();
}, {} ],
"crypto-js": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "fa50arzzX9Oappsa3wvgJPe", "crypto-js");
i = function() {
var e, t, o, i = i || function(e) {
var t = Object.create || function() {
function e() {}
return function(t) {
var o;
e.prototype = t;
o = new e();
e.prototype = null;
return o;
};
}(), o = {}, i = o.lib = {}, n = i.Base = {
extend: function(e) {
var o = t(this);
e && o.mixIn(e);
o.hasOwnProperty("init") && this.init !== o.init || (o.init = function() {
o.$super.init.apply(this, arguments);
});
o.init.prototype = o;
o.$super = this;
return o;
},
create: function() {
var e = this.extend();
e.init.apply(e, arguments);
return e;
},
init: function() {},
mixIn: function(e) {
for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t]);
e.hasOwnProperty("toString") && (this.toString = e.toString);
},
clone: function() {
return this.init.prototype.extend(this);
}
}, a = i.WordArray = n.extend({
init: function(e, t) {
e = this.words = e || [];
this.sigBytes = null != t ? t : 4 * e.length;
},
toString: function(e) {
return (e || s).stringify(this);
},
concat: function(e) {
var t = this.words, o = e.words, i = this.sigBytes, n = e.sigBytes;
this.clamp();
if (i % 4) for (var a = 0; a < n; a++) {
var r = o[a >>> 2] >>> 24 - a % 4 * 8 & 255;
t[i + a >>> 2] |= r << 24 - (i + a) % 4 * 8;
} else for (a = 0; a < n; a += 4) t[i + a >>> 2] = o[a >>> 2];
this.sigBytes += n;
return this;
},
clamp: function() {
var t = this.words, o = this.sigBytes;
t[o >>> 2] &= 4294967295 << 32 - o % 4 * 8;
t.length = e.ceil(o / 4);
},
clone: function() {
var e = n.clone.call(this);
e.words = this.words.slice(0);
return e;
},
random: function(t) {
for (var o, i = [], n = function(t) {
t = t;
var o = 987654321, i = 4294967295;
return function() {
var n = ((o = 36969 * (65535 & o) + (o >> 16) & i) << 16) + (t = 18e3 * (65535 & t) + (t >> 16) & i) & i;
n /= 4294967296;
return (n += .5) * (e.random() > .5 ? 1 : -1);
};
}, r = 0; r < t; r += 4) {
var s = n(4294967296 * (o || e.random()));
o = 987654071 * s();
i.push(4294967296 * s() | 0);
}
return new a.init(i, t);
}
}), r = o.enc = {}, s = r.Hex = {
stringify: function(e) {
for (var t = e.words, o = e.sigBytes, i = [], n = 0; n < o; n++) {
var a = t[n >>> 2] >>> 24 - n % 4 * 8 & 255;
i.push((a >>> 4).toString(16));
i.push((15 & a).toString(16));
}
return i.join("");
},
parse: function(e) {
for (var t = e.length, o = [], i = 0; i < t; i += 2) o[i >>> 3] |= parseInt(e.substr(i, 2), 16) << 24 - i % 8 * 4;
return new a.init(o, t / 2);
}
}, c = r.Latin1 = {
stringify: function(e) {
for (var t = e.words, o = e.sigBytes, i = [], n = 0; n < o; n++) {
var a = t[n >>> 2] >>> 24 - n % 4 * 8 & 255;
i.push(String.fromCharCode(a));
}
return i.join("");
},
parse: function(e) {
for (var t = e.length, o = [], i = 0; i < t; i++) o[i >>> 2] |= (255 & e.charCodeAt(i)) << 24 - i % 4 * 8;
return new a.init(o, t);
}
}, l = r.Utf8 = {
stringify: function(e) {
try {
return decodeURIComponent(escape(c.stringify(e)));
} catch (e) {
throw new Error("Malformed UTF-8 data");
}
},
parse: function(e) {
return c.parse(unescape(encodeURIComponent(e)));
}
}, d = i.BufferedBlockAlgorithm = n.extend({
reset: function() {
this._data = new a.init();
this._nDataBytes = 0;
},
_append: function(e) {
"string" == typeof e && (e = l.parse(e));
this._data.concat(e);
this._nDataBytes += e.sigBytes;
},
_process: function(t) {
var o = this._data, i = o.words, n = o.sigBytes, r = this.blockSize, s = n / (4 * r), c = (s = t ? e.ceil(s) : e.max((0 | s) - this._minBufferSize, 0)) * r, l = e.min(4 * c, n);
if (c) {
for (var d = 0; d < c; d += r) this._doProcessBlock(i, d);
var h = i.splice(0, c);
o.sigBytes -= l;
}
return new a.init(h, l);
},
clone: function() {
var e = n.clone.call(this);
e._data = this._data.clone();
return e;
},
_minBufferSize: 0
}), h = (i.Hasher = d.extend({
cfg: n.extend(),
init: function(e) {
this.cfg = this.cfg.extend(e);
this.reset();
},
reset: function() {
d.reset.call(this);
this._doReset();
},
update: function(e) {
this._append(e);
this._process();
return this;
},
finalize: function(e) {
e && this._append(e);
return this._doFinalize();
},
blockSize: 16,
_createHelper: function(e) {
return function(t, o) {
return new e.init(o).finalize(t);
};
},
_createHmacHelper: function(e) {
return function(t, o) {
return new h.HMAC.init(e, o).finalize(t);
};
}
}), o.algo = {});
return o;
}(Math);
(function() {
var e = i, t = e.lib.WordArray;
e.enc.Base64 = {
stringify: function(e) {
var t = e.words, o = e.sigBytes, i = this._map;
e.clamp();
for (var n = [], a = 0; a < o; a += 3) for (var r = (t[a >>> 2] >>> 24 - a % 4 * 8 & 255) << 16 | (t[a + 1 >>> 2] >>> 24 - (a + 1) % 4 * 8 & 255) << 8 | t[a + 2 >>> 2] >>> 24 - (a + 2) % 4 * 8 & 255, s = 0; s < 4 && a + .75 * s < o; s++) n.push(i.charAt(r >>> 6 * (3 - s) & 63));
var c = i.charAt(64);
if (c) for (;n.length % 4; ) n.push(c);
return n.join("");
},
parse: function(e) {
var t = e.length, i = this._map, n = this._reverseMap;
if (!n) {
n = this._reverseMap = [];
for (var a = 0; a < i.length; a++) n[i.charCodeAt(a)] = a;
}
var r = i.charAt(64);
if (r) {
var s = e.indexOf(r);
-1 !== s && (t = s);
}
return o(e, t, n);
},
_map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
};
function o(e, o, i) {
for (var n = [], a = 0, r = 0; r < o; r++) if (r % 4) {
var s = i[e.charCodeAt(r - 1)] << r % 4 * 2, c = i[e.charCodeAt(r)] >>> 6 - r % 4 * 2;
n[a >>> 2] |= (s | c) << 24 - a % 4 * 8;
a++;
}
return t.create(n, a);
}
})();
(function(e) {
var t = i, o = t.lib, n = o.WordArray, a = o.Hasher, r = t.algo, s = [];
(function() {
for (var t = 0; t < 64; t++) s[t] = 4294967296 * e.abs(e.sin(t + 1)) | 0;
})();
var c = r.MD5 = a.extend({
_doReset: function() {
this._hash = new n.init([ 1732584193, 4023233417, 2562383102, 271733878 ]);
},
_doProcessBlock: function(e, t) {
for (var o = 0; o < 16; o++) {
var i = t + o, n = e[i];
e[i] = 16711935 & (n << 8 | n >>> 24) | 4278255360 & (n << 24 | n >>> 8);
}
var a = this._hash.words, r = e[t + 0], c = e[t + 1], p = e[t + 2], f = e[t + 3], m = e[t + 4], g = e[t + 5], y = e[t + 6], _ = e[t + 7], C = e[t + 8], b = e[t + 9], v = e[t + 10], S = e[t + 11], I = e[t + 12], B = e[t + 13], w = e[t + 14], N = e[t + 15], L = a[0], T = a[1], D = a[2], E = a[3];
L = l(L, T, D, E, r, 7, s[0]);
E = l(E, L, T, D, c, 12, s[1]);
D = l(D, E, L, T, p, 17, s[2]);
T = l(T, D, E, L, f, 22, s[3]);
L = l(L, T, D, E, m, 7, s[4]);
E = l(E, L, T, D, g, 12, s[5]);
D = l(D, E, L, T, y, 17, s[6]);
T = l(T, D, E, L, _, 22, s[7]);
L = l(L, T, D, E, C, 7, s[8]);
E = l(E, L, T, D, b, 12, s[9]);
D = l(D, E, L, T, v, 17, s[10]);
T = l(T, D, E, L, S, 22, s[11]);
L = l(L, T, D, E, I, 7, s[12]);
E = l(E, L, T, D, B, 12, s[13]);
D = l(D, E, L, T, w, 17, s[14]);
L = d(L, T = l(T, D, E, L, N, 22, s[15]), D, E, c, 5, s[16]);
E = d(E, L, T, D, y, 9, s[17]);
D = d(D, E, L, T, S, 14, s[18]);
T = d(T, D, E, L, r, 20, s[19]);
L = d(L, T, D, E, g, 5, s[20]);
E = d(E, L, T, D, v, 9, s[21]);
D = d(D, E, L, T, N, 14, s[22]);
T = d(T, D, E, L, m, 20, s[23]);
L = d(L, T, D, E, b, 5, s[24]);
E = d(E, L, T, D, w, 9, s[25]);
D = d(D, E, L, T, f, 14, s[26]);
T = d(T, D, E, L, C, 20, s[27]);
L = d(L, T, D, E, B, 5, s[28]);
E = d(E, L, T, D, p, 9, s[29]);
D = d(D, E, L, T, _, 14, s[30]);
L = h(L, T = d(T, D, E, L, I, 20, s[31]), D, E, g, 4, s[32]);
E = h(E, L, T, D, C, 11, s[33]);
D = h(D, E, L, T, S, 16, s[34]);
T = h(T, D, E, L, w, 23, s[35]);
L = h(L, T, D, E, c, 4, s[36]);
E = h(E, L, T, D, m, 11, s[37]);
D = h(D, E, L, T, _, 16, s[38]);
T = h(T, D, E, L, v, 23, s[39]);
L = h(L, T, D, E, B, 4, s[40]);
E = h(E, L, T, D, r, 11, s[41]);
D = h(D, E, L, T, f, 16, s[42]);
T = h(T, D, E, L, y, 23, s[43]);
L = h(L, T, D, E, b, 4, s[44]);
E = h(E, L, T, D, I, 11, s[45]);
D = h(D, E, L, T, N, 16, s[46]);
L = u(L, T = h(T, D, E, L, p, 23, s[47]), D, E, r, 6, s[48]);
E = u(E, L, T, D, _, 10, s[49]);
D = u(D, E, L, T, w, 15, s[50]);
T = u(T, D, E, L, g, 21, s[51]);
L = u(L, T, D, E, I, 6, s[52]);
E = u(E, L, T, D, f, 10, s[53]);
D = u(D, E, L, T, v, 15, s[54]);
T = u(T, D, E, L, c, 21, s[55]);
L = u(L, T, D, E, C, 6, s[56]);
E = u(E, L, T, D, N, 10, s[57]);
D = u(D, E, L, T, y, 15, s[58]);
T = u(T, D, E, L, B, 21, s[59]);
L = u(L, T, D, E, m, 6, s[60]);
E = u(E, L, T, D, S, 10, s[61]);
D = u(D, E, L, T, p, 15, s[62]);
T = u(T, D, E, L, b, 21, s[63]);
a[0] = a[0] + L | 0;
a[1] = a[1] + T | 0;
a[2] = a[2] + D | 0;
a[3] = a[3] + E | 0;
},
_doFinalize: function() {
var t = this._data, o = t.words, i = 8 * this._nDataBytes, n = 8 * t.sigBytes;
o[n >>> 5] |= 128 << 24 - n % 32;
var a = e.floor(i / 4294967296), r = i;
o[15 + (n + 64 >>> 9 << 4)] = 16711935 & (a << 8 | a >>> 24) | 4278255360 & (a << 24 | a >>> 8);
o[14 + (n + 64 >>> 9 << 4)] = 16711935 & (r << 8 | r >>> 24) | 4278255360 & (r << 24 | r >>> 8);
t.sigBytes = 4 * (o.length + 1);
this._process();
for (var s = this._hash, c = s.words, l = 0; l < 4; l++) {
var d = c[l];
c[l] = 16711935 & (d << 8 | d >>> 24) | 4278255360 & (d << 24 | d >>> 8);
}
return s;
},
clone: function() {
var e = a.clone.call(this);
e._hash = this._hash.clone();
return e;
}
});
function l(e, t, o, i, n, a, r) {
var s = e + (t & o | ~t & i) + n + r;
return (s << a | s >>> 32 - a) + t;
}
function d(e, t, o, i, n, a, r) {
var s = e + (t & i | o & ~i) + n + r;
return (s << a | s >>> 32 - a) + t;
}
function h(e, t, o, i, n, a, r) {
var s = e + (t ^ o ^ i) + n + r;
return (s << a | s >>> 32 - a) + t;
}
function u(e, t, o, i, n, a, r) {
var s = e + (o ^ (t | ~i)) + n + r;
return (s << a | s >>> 32 - a) + t;
}
t.MD5 = a._createHelper(c);
t.HmacMD5 = a._createHmacHelper(c);
})(Math);
(function() {
var e = i, t = e.lib, o = t.WordArray, n = t.Hasher, a = e.algo, r = [], s = a.SHA1 = n.extend({
_doReset: function() {
this._hash = new o.init([ 1732584193, 4023233417, 2562383102, 271733878, 3285377520 ]);
},
_doProcessBlock: function(e, t) {
for (var o = this._hash.words, i = o[0], n = o[1], a = o[2], s = o[3], c = o[4], l = 0; l < 80; l++) {
if (l < 16) r[l] = 0 | e[t + l]; else {
var d = r[l - 3] ^ r[l - 8] ^ r[l - 14] ^ r[l - 16];
r[l] = d << 1 | d >>> 31;
}
var h = (i << 5 | i >>> 27) + c + r[l];
h += l < 20 ? 1518500249 + (n & a | ~n & s) : l < 40 ? 1859775393 + (n ^ a ^ s) : l < 60 ? (n & a | n & s | a & s) - 1894007588 : (n ^ a ^ s) - 899497514;
c = s;
s = a;
a = n << 30 | n >>> 2;
n = i;
i = h;
}
o[0] = o[0] + i | 0;
o[1] = o[1] + n | 0;
o[2] = o[2] + a | 0;
o[3] = o[3] + s | 0;
o[4] = o[4] + c | 0;
},
_doFinalize: function() {
var e = this._data, t = e.words, o = 8 * this._nDataBytes, i = 8 * e.sigBytes;
t[i >>> 5] |= 128 << 24 - i % 32;
t[14 + (i + 64 >>> 9 << 4)] = Math.floor(o / 4294967296);
t[15 + (i + 64 >>> 9 << 4)] = o;
e.sigBytes = 4 * t.length;
this._process();
return this._hash;
},
clone: function() {
var e = n.clone.call(this);
e._hash = this._hash.clone();
return e;
}
});
e.SHA1 = n._createHelper(s);
e.HmacSHA1 = n._createHmacHelper(s);
})();
(function(e) {
var t = i, o = t.lib, n = o.WordArray, a = o.Hasher, r = t.algo, s = [], c = [];
(function() {
function t(t) {
for (var o = e.sqrt(t), i = 2; i <= o; i++) if (!(t % i)) return !1;
return !0;
}
function o(e) {
return 4294967296 * (e - (0 | e)) | 0;
}
for (var i = 2, n = 0; n < 64; ) {
if (t(i)) {
n < 8 && (s[n] = o(e.pow(i, .5)));
c[n] = o(e.pow(i, 1 / 3));
n++;
}
i++;
}
})();
var l = [], d = r.SHA256 = a.extend({
_doReset: function() {
this._hash = new n.init(s.slice(0));
},
_doProcessBlock: function(e, t) {
for (var o = this._hash.words, i = o[0], n = o[1], a = o[2], r = o[3], s = o[4], d = o[5], h = o[6], u = o[7], p = 0; p < 64; p++) {
if (p < 16) l[p] = 0 | e[t + p]; else {
var f = l[p - 15], m = (f << 25 | f >>> 7) ^ (f << 14 | f >>> 18) ^ f >>> 3, g = l[p - 2], y = (g << 15 | g >>> 17) ^ (g << 13 | g >>> 19) ^ g >>> 10;
l[p] = m + l[p - 7] + y + l[p - 16];
}
var _ = i & n ^ i & a ^ n & a, C = (i << 30 | i >>> 2) ^ (i << 19 | i >>> 13) ^ (i << 10 | i >>> 22), b = u + ((s << 26 | s >>> 6) ^ (s << 21 | s >>> 11) ^ (s << 7 | s >>> 25)) + (s & d ^ ~s & h) + c[p] + l[p];
u = h;
h = d;
d = s;
s = r + b | 0;
r = a;
a = n;
n = i;
i = b + (C + _) | 0;
}
o[0] = o[0] + i | 0;
o[1] = o[1] + n | 0;
o[2] = o[2] + a | 0;
o[3] = o[3] + r | 0;
o[4] = o[4] + s | 0;
o[5] = o[5] + d | 0;
o[6] = o[6] + h | 0;
o[7] = o[7] + u | 0;
},
_doFinalize: function() {
var t = this._data, o = t.words, i = 8 * this._nDataBytes, n = 8 * t.sigBytes;
o[n >>> 5] |= 128 << 24 - n % 32;
o[14 + (n + 64 >>> 9 << 4)] = e.floor(i / 4294967296);
o[15 + (n + 64 >>> 9 << 4)] = i;
t.sigBytes = 4 * o.length;
this._process();
return this._hash;
},
clone: function() {
var e = a.clone.call(this);
e._hash = this._hash.clone();
return e;
}
});
t.SHA256 = a._createHelper(d);
t.HmacSHA256 = a._createHmacHelper(d);
})(Math);
(function() {
var e = i, t = e.lib.WordArray, o = e.enc;
o.Utf16 = o.Utf16BE = {
stringify: function(e) {
for (var t = e.words, o = e.sigBytes, i = [], n = 0; n < o; n += 2) {
var a = t[n >>> 2] >>> 16 - n % 4 * 8 & 65535;
i.push(String.fromCharCode(a));
}
return i.join("");
},
parse: function(e) {
for (var o = e.length, i = [], n = 0; n < o; n++) i[n >>> 1] |= e.charCodeAt(n) << 16 - n % 2 * 16;
return t.create(i, 2 * o);
}
};
o.Utf16LE = {
stringify: function(e) {
for (var t = e.words, o = e.sigBytes, i = [], a = 0; a < o; a += 2) {
var r = n(t[a >>> 2] >>> 16 - a % 4 * 8 & 65535);
i.push(String.fromCharCode(r));
}
return i.join("");
},
parse: function(e) {
for (var o = e.length, i = [], a = 0; a < o; a++) i[a >>> 1] |= n(e.charCodeAt(a) << 16 - a % 2 * 16);
return t.create(i, 2 * o);
}
};
function n(e) {
return e << 8 & 4278255360 | e >>> 8 & 16711935;
}
})();
(function() {
if ("function" == typeof ArrayBuffer) {
var e = i.lib.WordArray, t = e.init;
(e.init = function(e) {
e instanceof ArrayBuffer && (e = new Uint8Array(e));
(e instanceof Int8Array || "undefined" != typeof Uint8ClampedArray && e instanceof Uint8ClampedArray || e instanceof Int16Array || e instanceof Uint16Array || e instanceof Int32Array || e instanceof Uint32Array || e instanceof Float32Array || e instanceof Float64Array) && (e = new Uint8Array(e.buffer, e.byteOffset, e.byteLength));
if (e instanceof Uint8Array) {
for (var o = e.byteLength, i = [], n = 0; n < o; n++) i[n >>> 2] |= e[n] << 24 - n % 4 * 8;
t.call(this, i, o);
} else t.apply(this, arguments);
}).prototype = e;
}
})();
(function() {
var e = i, t = e.lib, o = t.WordArray, n = t.Hasher, a = e.algo, r = o.create([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13 ]), s = o.create([ 5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11 ]), c = o.create([ 11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6 ]), l = o.create([ 8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11 ]), d = o.create([ 0, 1518500249, 1859775393, 2400959708, 2840853838 ]), h = o.create([ 1352829926, 1548603684, 1836072691, 2053994217, 0 ]), u = a.RIPEMD160 = n.extend({
_doReset: function() {
this._hash = o.create([ 1732584193, 4023233417, 2562383102, 271733878, 3285377520 ]);
},
_doProcessBlock: function(e, t) {
for (var o = 0; o < 16; o++) {
var i = t + o, n = e[i];
e[i] = 16711935 & (n << 8 | n >>> 24) | 4278255360 & (n << 24 | n >>> 8);
}
var a, u, C, b, v, S, I, B, w, N, L, T = this._hash.words, D = d.words, E = h.words, A = r.words, R = s.words, M = c.words, G = l.words;
S = a = T[0];
I = u = T[1];
B = C = T[2];
w = b = T[3];
N = v = T[4];
for (o = 0; o < 80; o += 1) {
L = a + e[t + A[o]] | 0;
L += o < 16 ? p(u, C, b) + D[0] : o < 32 ? f(u, C, b) + D[1] : o < 48 ? m(u, C, b) + D[2] : o < 64 ? g(u, C, b) + D[3] : y(u, C, b) + D[4];
L = (L = _(L |= 0, M[o])) + v | 0;
a = v;
v = b;
b = _(C, 10);
C = u;
u = L;
L = S + e[t + R[o]] | 0;
L += o < 16 ? y(I, B, w) + E[0] : o < 32 ? g(I, B, w) + E[1] : o < 48 ? m(I, B, w) + E[2] : o < 64 ? f(I, B, w) + E[3] : p(I, B, w) + E[4];
L = (L = _(L |= 0, G[o])) + N | 0;
S = N;
N = w;
w = _(B, 10);
B = I;
I = L;
}
L = T[1] + C + w | 0;
T[1] = T[2] + b + N | 0;
T[2] = T[3] + v + S | 0;
T[3] = T[4] + a + I | 0;
T[4] = T[0] + u + B | 0;
T[0] = L;
},
_doFinalize: function() {
var e = this._data, t = e.words, o = 8 * this._nDataBytes, i = 8 * e.sigBytes;
t[i >>> 5] |= 128 << 24 - i % 32;
t[14 + (i + 64 >>> 9 << 4)] = 16711935 & (o << 8 | o >>> 24) | 4278255360 & (o << 24 | o >>> 8);
e.sigBytes = 4 * (t.length + 1);
this._process();
for (var n = this._hash, a = n.words, r = 0; r < 5; r++) {
var s = a[r];
a[r] = 16711935 & (s << 8 | s >>> 24) | 4278255360 & (s << 24 | s >>> 8);
}
return n;
},
clone: function() {
var e = n.clone.call(this);
e._hash = this._hash.clone();
return e;
}
});
function p(e, t, o) {
return e ^ t ^ o;
}
function f(e, t, o) {
return e & t | ~e & o;
}
function m(e, t, o) {
return (e | ~t) ^ o;
}
function g(e, t, o) {
return e & o | t & ~o;
}
function y(e, t, o) {
return e ^ (t | ~o);
}
function _(e, t) {
return e << t | e >>> 32 - t;
}
e.RIPEMD160 = n._createHelper(u);
e.HmacRIPEMD160 = n._createHmacHelper(u);
})(Math);
t = (e = i).lib.Base, o = e.enc.Utf8, e.algo.HMAC = t.extend({
init: function(e, t) {
e = this._hasher = new e.init();
"string" == typeof t && (t = o.parse(t));
var i = e.blockSize, n = 4 * i;
t.sigBytes > n && (t = e.finalize(t));
t.clamp();
for (var a = this._oKey = t.clone(), r = this._iKey = t.clone(), s = a.words, c = r.words, l = 0; l < i; l++) {
s[l] ^= 1549556828;
c[l] ^= 909522486;
}
a.sigBytes = r.sigBytes = n;
this.reset();
},
reset: function() {
var e = this._hasher;
e.reset();
e.update(this._iKey);
},
update: function(e) {
this._hasher.update(e);
return this;
},
finalize: function(e) {
var t = this._hasher, o = t.finalize(e);
t.reset();
return t.finalize(this._oKey.clone().concat(o));
}
});
(function() {
var e = i, t = e.lib, o = t.Base, n = t.WordArray, a = e.algo, r = a.SHA1, s = a.HMAC, c = a.PBKDF2 = o.extend({
cfg: o.extend({
keySize: 4,
hasher: r,
iterations: 1
}),
init: function(e) {
this.cfg = this.cfg.extend(e);
},
compute: function(e, t) {
for (var o = this.cfg, i = s.create(o.hasher, e), a = n.create(), r = n.create([ 1 ]), c = a.words, l = r.words, d = o.keySize, h = o.iterations; c.length < d; ) {
var u = i.update(t).finalize(r);
i.reset();
for (var p = u.words, f = p.length, m = u, g = 1; g < h; g++) {
m = i.finalize(m);
i.reset();
for (var y = m.words, _ = 0; _ < f; _++) p[_] ^= y[_];
}
a.concat(u);
l[0]++;
}
a.sigBytes = 4 * d;
return a;
}
});
e.PBKDF2 = function(e, t, o) {
return c.create(o).compute(e, t);
};
})();
(function() {
var e = i, t = e.lib, o = t.Base, n = t.WordArray, a = e.algo, r = a.MD5, s = a.EvpKDF = o.extend({
cfg: o.extend({
keySize: 4,
hasher: r,
iterations: 1
}),
init: function(e) {
this.cfg = this.cfg.extend(e);
},
compute: function(e, t) {
for (var o = this.cfg, i = o.hasher.create(), a = n.create(), r = a.words, s = o.keySize, c = o.iterations; r.length < s; ) {
l && i.update(l);
var l = i.update(e).finalize(t);
i.reset();
for (var d = 1; d < c; d++) {
l = i.finalize(l);
i.reset();
}
a.concat(l);
}
a.sigBytes = 4 * s;
return a;
}
});
e.EvpKDF = function(e, t, o) {
return s.create(o).compute(e, t);
};
})();
(function() {
var e = i, t = e.lib.WordArray, o = e.algo, n = o.SHA256, a = o.SHA224 = n.extend({
_doReset: function() {
this._hash = new t.init([ 3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428 ]);
},
_doFinalize: function() {
var e = n._doFinalize.call(this);
e.sigBytes -= 4;
return e;
}
});
e.SHA224 = n._createHelper(a);
e.HmacSHA224 = n._createHmacHelper(a);
})();
(function() {
var e = i, t = e.lib, o = t.Base, n = t.WordArray, a = e.x64 = {};
a.Word = o.extend({
init: function(e, t) {
this.high = e;
this.low = t;
}
}), a.WordArray = o.extend({
init: function(e, t) {
e = this.words = e || [];
this.sigBytes = null != t ? t : 8 * e.length;
},
toX32: function() {
for (var e = this.words, t = e.length, o = [], i = 0; i < t; i++) {
var a = e[i];
o.push(a.high);
o.push(a.low);
}
return n.create(o, this.sigBytes);
},
clone: function() {
for (var e = o.clone.call(this), t = e.words = this.words.slice(0), i = t.length, n = 0; n < i; n++) t[n] = t[n].clone();
return e;
}
});
})();
(function(e) {
var t = i, o = t.lib, n = o.WordArray, a = o.Hasher, r = t.x64.Word, s = t.algo, c = [], l = [], d = [];
(function() {
for (var e = 1, t = 0, o = 0; o < 24; o++) {
c[e + 5 * t] = (o + 1) * (o + 2) / 2 % 64;
var i = (2 * e + 3 * t) % 5;
e = t % 5;
t = i;
}
for (e = 0; e < 5; e++) for (t = 0; t < 5; t++) l[e + 5 * t] = t + (2 * e + 3 * t) % 5 * 5;
for (var n = 1, a = 0; a < 24; a++) {
for (var s = 0, h = 0, u = 0; u < 7; u++) {
if (1 & n) {
var p = (1 << u) - 1;
p < 32 ? h ^= 1 << p : s ^= 1 << p - 32;
}
128 & n ? n = n << 1 ^ 113 : n <<= 1;
}
d[a] = r.create(s, h);
}
})();
var h = [];
(function() {
for (var e = 0; e < 25; e++) h[e] = r.create();
})();
var u = s.SHA3 = a.extend({
cfg: a.cfg.extend({
outputLength: 512
}),
_doReset: function() {
for (var e = this._state = [], t = 0; t < 25; t++) e[t] = new r.init();
this.blockSize = (1600 - 2 * this.cfg.outputLength) / 32;
},
_doProcessBlock: function(e, t) {
for (var o = this._state, i = this.blockSize / 2, n = 0; n < i; n++) {
var a = e[t + 2 * n], r = e[t + 2 * n + 1];
a = 16711935 & (a << 8 | a >>> 24) | 4278255360 & (a << 24 | a >>> 8);
r = 16711935 & (r << 8 | r >>> 24) | 4278255360 & (r << 24 | r >>> 8);
(T = o[n]).high ^= r;
T.low ^= a;
}
for (var s = 0; s < 24; s++) {
for (var u = 0; u < 5; u++) {
for (var p = 0, f = 0, m = 0; m < 5; m++) {
p ^= (T = o[u + 5 * m]).high;
f ^= T.low;
}
var g = h[u];
g.high = p;
g.low = f;
}
for (u = 0; u < 5; u++) {
var y = h[(u + 4) % 5], _ = h[(u + 1) % 5], C = _.high, b = _.low;
for (p = y.high ^ (C << 1 | b >>> 31), f = y.low ^ (b << 1 | C >>> 31), m = 0; m < 5; m++) {
(T = o[u + 5 * m]).high ^= p;
T.low ^= f;
}
}
for (var v = 1; v < 25; v++) {
var S = (T = o[v]).high, I = T.low, B = c[v];
B < 32 ? (p = S << B | I >>> 32 - B, f = I << B | S >>> 32 - B) : (p = I << B - 32 | S >>> 64 - B, 
f = S << B - 32 | I >>> 64 - B);
var w = h[l[v]];
w.high = p;
w.low = f;
}
var N = h[0], L = o[0];
N.high = L.high;
N.low = L.low;
for (u = 0; u < 5; u++) for (m = 0; m < 5; m++) {
var T = o[v = u + 5 * m], D = h[v], E = h[(u + 1) % 5 + 5 * m], A = h[(u + 2) % 5 + 5 * m];
T.high = D.high ^ ~E.high & A.high;
T.low = D.low ^ ~E.low & A.low;
}
T = o[0];
var R = d[s];
T.high ^= R.high;
T.low ^= R.low;
}
},
_doFinalize: function() {
var t = this._data, o = t.words, i = (this._nDataBytes, 8 * t.sigBytes), a = 32 * this.blockSize;
o[i >>> 5] |= 1 << 24 - i % 32;
o[(e.ceil((i + 1) / a) * a >>> 5) - 1] |= 128;
t.sigBytes = 4 * o.length;
this._process();
for (var r = this._state, s = this.cfg.outputLength / 8, c = s / 8, l = [], d = 0; d < c; d++) {
var h = r[d], u = h.high, p = h.low;
u = 16711935 & (u << 8 | u >>> 24) | 4278255360 & (u << 24 | u >>> 8);
p = 16711935 & (p << 8 | p >>> 24) | 4278255360 & (p << 24 | p >>> 8);
l.push(p);
l.push(u);
}
return new n.init(l, s);
},
clone: function() {
for (var e = a.clone.call(this), t = e._state = this._state.slice(0), o = 0; o < 25; o++) t[o] = t[o].clone();
return e;
}
});
t.SHA3 = a._createHelper(u);
t.HmacSHA3 = a._createHmacHelper(u);
})(Math);
(function() {
var e = i, t = e.lib.Hasher, o = e.x64, n = o.Word, a = o.WordArray, r = e.algo;
function s() {
return n.create.apply(n, arguments);
}
var c = [ s(1116352408, 3609767458), s(1899447441, 602891725), s(3049323471, 3964484399), s(3921009573, 2173295548), s(961987163, 4081628472), s(1508970993, 3053834265), s(2453635748, 2937671579), s(2870763221, 3664609560), s(3624381080, 2734883394), s(310598401, 1164996542), s(607225278, 1323610764), s(1426881987, 3590304994), s(1925078388, 4068182383), s(2162078206, 991336113), s(2614888103, 633803317), s(3248222580, 3479774868), s(3835390401, 2666613458), s(4022224774, 944711139), s(264347078, 2341262773), s(604807628, 2007800933), s(770255983, 1495990901), s(1249150122, 1856431235), s(1555081692, 3175218132), s(1996064986, 2198950837), s(2554220882, 3999719339), s(2821834349, 766784016), s(2952996808, 2566594879), s(3210313671, 3203337956), s(3336571891, 1034457026), s(3584528711, 2466948901), s(113926993, 3758326383), s(338241895, 168717936), s(666307205, 1188179964), s(773529912, 1546045734), s(1294757372, 1522805485), s(1396182291, 2643833823), s(1695183700, 2343527390), s(1986661051, 1014477480), s(2177026350, 1206759142), s(2456956037, 344077627), s(2730485921, 1290863460), s(2820302411, 3158454273), s(3259730800, 3505952657), s(3345764771, 106217008), s(3516065817, 3606008344), s(3600352804, 1432725776), s(4094571909, 1467031594), s(275423344, 851169720), s(430227734, 3100823752), s(506948616, 1363258195), s(659060556, 3750685593), s(883997877, 3785050280), s(958139571, 3318307427), s(1322822218, 3812723403), s(1537002063, 2003034995), s(1747873779, 3602036899), s(1955562222, 1575990012), s(2024104815, 1125592928), s(2227730452, 2716904306), s(2361852424, 442776044), s(2428436474, 593698344), s(2756734187, 3733110249), s(3204031479, 2999351573), s(3329325298, 3815920427), s(3391569614, 3928383900), s(3515267271, 566280711), s(3940187606, 3454069534), s(4118630271, 4000239992), s(116418474, 1914138554), s(174292421, 2731055270), s(289380356, 3203993006), s(460393269, 320620315), s(685471733, 587496836), s(852142971, 1086792851), s(1017036298, 365543100), s(1126000580, 2618297676), s(1288033470, 3409855158), s(1501505948, 4234509866), s(1607167915, 987167468), s(1816402316, 1246189591) ], l = [];
(function() {
for (var e = 0; e < 80; e++) l[e] = s();
})();
var d = r.SHA512 = t.extend({
_doReset: function() {
this._hash = new a.init([ new n.init(1779033703, 4089235720), new n.init(3144134277, 2227873595), new n.init(1013904242, 4271175723), new n.init(2773480762, 1595750129), new n.init(1359893119, 2917565137), new n.init(2600822924, 725511199), new n.init(528734635, 4215389547), new n.init(1541459225, 327033209) ]);
},
_doProcessBlock: function(e, t) {
for (var o = this._hash.words, i = o[0], n = o[1], a = o[2], r = o[3], s = o[4], d = o[5], h = o[6], u = o[7], p = i.high, f = i.low, m = n.high, g = n.low, y = a.high, _ = a.low, C = r.high, b = r.low, v = s.high, S = s.low, I = d.high, B = d.low, w = h.high, N = h.low, L = u.high, T = u.low, D = p, E = f, A = m, R = g, M = y, G = _, O = C, P = b, k = v, x = S, F = I, U = B, H = w, V = N, j = L, W = T, z = 0; z < 80; z++) {
var Y = l[z];
if (z < 16) var J = Y.high = 0 | e[t + 2 * z], K = Y.low = 0 | e[t + 2 * z + 1]; else {
var X = l[z - 15], q = X.high, Q = X.low, Z = (q >>> 1 | Q << 31) ^ (q >>> 8 | Q << 24) ^ q >>> 7, $ = (Q >>> 1 | q << 31) ^ (Q >>> 8 | q << 24) ^ (Q >>> 7 | q << 25), ee = l[z - 2], te = ee.high, oe = ee.low, ie = (te >>> 19 | oe << 13) ^ (te << 3 | oe >>> 29) ^ te >>> 6, ne = (oe >>> 19 | te << 13) ^ (oe << 3 | te >>> 29) ^ (oe >>> 6 | te << 26), ae = l[z - 7], re = ae.high, se = ae.low, ce = l[z - 16], le = ce.high, de = ce.low;
J = (J = (J = Z + re + ((K = $ + se) >>> 0 < $ >>> 0 ? 1 : 0)) + ie + ((K += ne) >>> 0 < ne >>> 0 ? 1 : 0)) + le + ((K += de) >>> 0 < de >>> 0 ? 1 : 0);
Y.high = J;
Y.low = K;
}
var he, ue = k & F ^ ~k & H, pe = x & U ^ ~x & V, fe = D & A ^ D & M ^ A & M, me = E & R ^ E & G ^ R & G, ge = (D >>> 28 | E << 4) ^ (D << 30 | E >>> 2) ^ (D << 25 | E >>> 7), ye = (E >>> 28 | D << 4) ^ (E << 30 | D >>> 2) ^ (E << 25 | D >>> 7), _e = (k >>> 14 | x << 18) ^ (k >>> 18 | x << 14) ^ (k << 23 | x >>> 9), Ce = (x >>> 14 | k << 18) ^ (x >>> 18 | k << 14) ^ (x << 23 | k >>> 9), be = c[z], ve = be.high, Se = be.low, Ie = j + _e + ((he = W + Ce) >>> 0 < W >>> 0 ? 1 : 0), Be = ye + me;
j = H;
W = V;
H = F;
V = U;
F = k;
U = x;
k = O + (Ie = (Ie = (Ie = Ie + ue + ((he += pe) >>> 0 < pe >>> 0 ? 1 : 0)) + ve + ((he += Se) >>> 0 < Se >>> 0 ? 1 : 0)) + J + ((he += K) >>> 0 < K >>> 0 ? 1 : 0)) + ((x = P + he | 0) >>> 0 < P >>> 0 ? 1 : 0) | 0;
O = M;
P = G;
M = A;
G = R;
A = D;
R = E;
D = Ie + (ge + fe + (Be >>> 0 < ye >>> 0 ? 1 : 0)) + ((E = he + Be | 0) >>> 0 < he >>> 0 ? 1 : 0) | 0;
}
f = i.low = f + E;
i.high = p + D + (f >>> 0 < E >>> 0 ? 1 : 0);
g = n.low = g + R;
n.high = m + A + (g >>> 0 < R >>> 0 ? 1 : 0);
_ = a.low = _ + G;
a.high = y + M + (_ >>> 0 < G >>> 0 ? 1 : 0);
b = r.low = b + P;
r.high = C + O + (b >>> 0 < P >>> 0 ? 1 : 0);
S = s.low = S + x;
s.high = v + k + (S >>> 0 < x >>> 0 ? 1 : 0);
B = d.low = B + U;
d.high = I + F + (B >>> 0 < U >>> 0 ? 1 : 0);
N = h.low = N + V;
h.high = w + H + (N >>> 0 < V >>> 0 ? 1 : 0);
T = u.low = T + W;
u.high = L + j + (T >>> 0 < W >>> 0 ? 1 : 0);
},
_doFinalize: function() {
var e = this._data, t = e.words, o = 8 * this._nDataBytes, i = 8 * e.sigBytes;
t[i >>> 5] |= 128 << 24 - i % 32;
t[30 + (i + 128 >>> 10 << 5)] = Math.floor(o / 4294967296);
t[31 + (i + 128 >>> 10 << 5)] = o;
e.sigBytes = 4 * t.length;
this._process();
return this._hash.toX32();
},
clone: function() {
var e = t.clone.call(this);
e._hash = this._hash.clone();
return e;
},
blockSize: 32
});
e.SHA512 = t._createHelper(d);
e.HmacSHA512 = t._createHmacHelper(d);
})();
(function() {
var e = i, t = e.x64, o = t.Word, n = t.WordArray, a = e.algo, r = a.SHA512, s = a.SHA384 = r.extend({
_doReset: function() {
this._hash = new n.init([ new o.init(3418070365, 3238371032), new o.init(1654270250, 914150663), new o.init(2438529370, 812702999), new o.init(355462360, 4144912697), new o.init(1731405415, 4290775857), new o.init(2394180231, 1750603025), new o.init(3675008525, 1694076839), new o.init(1203062813, 3204075428) ]);
},
_doFinalize: function() {
var e = r._doFinalize.call(this);
e.sigBytes -= 16;
return e;
}
});
e.SHA384 = r._createHelper(s);
e.HmacSHA384 = r._createHmacHelper(s);
})();
i.lib.Cipher || function(e) {
var t = i, o = t.lib, n = o.Base, a = o.WordArray, r = o.BufferedBlockAlgorithm, s = t.enc, c = (s.Utf8, 
s.Base64), l = t.algo.EvpKDF, d = o.Cipher = r.extend({
cfg: n.extend(),
createEncryptor: function(e, t) {
return this.create(this._ENC_XFORM_MODE, e, t);
},
createDecryptor: function(e, t) {
return this.create(this._DEC_XFORM_MODE, e, t);
},
init: function(e, t, o) {
this.cfg = this.cfg.extend(o);
this._xformMode = e;
this._key = t;
this.reset();
},
reset: function() {
r.reset.call(this);
this._doReset();
},
process: function(e) {
this._append(e);
return this._process();
},
finalize: function(e) {
e && this._append(e);
return this._doFinalize();
},
keySize: 4,
ivSize: 4,
_ENC_XFORM_MODE: 1,
_DEC_XFORM_MODE: 2,
_createHelper: function() {
function e(e) {
return "string" == typeof e ? C : y;
}
return function(t) {
return {
encrypt: function(o, i, n) {
return e(i).encrypt(t, o, i, n);
},
decrypt: function(o, i, n) {
return e(i).decrypt(t, o, i, n);
}
};
};
}()
}), h = (o.StreamCipher = d.extend({
_doFinalize: function() {
return this._process(!0);
},
blockSize: 1
}), t.mode = {}), u = o.BlockCipherMode = n.extend({
createEncryptor: function(e, t) {
return this.Encryptor.create(e, t);
},
createDecryptor: function(e, t) {
return this.Decryptor.create(e, t);
},
init: function(e, t) {
this._cipher = e;
this._iv = t;
}
}), p = h.CBC = function() {
var t = u.extend();
t.Encryptor = t.extend({
processBlock: function(e, t) {
var i = this._cipher, n = i.blockSize;
o.call(this, e, t, n);
i.encryptBlock(e, t);
this._prevBlock = e.slice(t, t + n);
}
});
t.Decryptor = t.extend({
processBlock: function(e, t) {
var i = this._cipher, n = i.blockSize, a = e.slice(t, t + n);
i.decryptBlock(e, t);
o.call(this, e, t, n);
this._prevBlock = a;
}
});
function o(t, o, i) {
var n = this._iv;
if (n) {
var a = n;
this._iv = e;
} else a = this._prevBlock;
for (var r = 0; r < i; r++) t[o + r] ^= a[r];
}
return t;
}(), f = (t.pad = {}).Pkcs7 = {
pad: function(e, t) {
for (var o = 4 * t, i = o - e.sigBytes % o, n = i << 24 | i << 16 | i << 8 | i, r = [], s = 0; s < i; s += 4) r.push(n);
var c = a.create(r, i);
e.concat(c);
},
unpad: function(e) {
var t = 255 & e.words[e.sigBytes - 1 >>> 2];
e.sigBytes -= t;
}
}, m = (o.BlockCipher = d.extend({
cfg: d.cfg.extend({
mode: p,
padding: f
}),
reset: function() {
d.reset.call(this);
var e = this.cfg, t = e.iv, o = e.mode;
if (this._xformMode == this._ENC_XFORM_MODE) var i = o.createEncryptor; else {
i = o.createDecryptor;
this._minBufferSize = 1;
}
if (this._mode && this._mode.__creator == i) this._mode.init(this, t && t.words); else {
this._mode = i.call(o, this, t && t.words);
this._mode.__creator = i;
}
},
_doProcessBlock: function(e, t) {
this._mode.processBlock(e, t);
},
_doFinalize: function() {
var e = this.cfg.padding;
if (this._xformMode == this._ENC_XFORM_MODE) {
e.pad(this._data, this.blockSize);
var t = this._process(!0);
} else {
t = this._process(!0);
e.unpad(t);
}
return t;
},
blockSize: 4
}), o.CipherParams = n.extend({
init: function(e) {
this.mixIn(e);
},
toString: function(e) {
return (e || this.formatter).stringify(this);
}
})), g = (t.format = {}).OpenSSL = {
stringify: function(e) {
var t = e.ciphertext, o = e.salt;
if (o) var i = a.create([ 1398893684, 1701076831 ]).concat(o).concat(t); else i = t;
return i.toString(c);
},
parse: function(e) {
var t = c.parse(e), o = t.words;
if (1398893684 == o[0] && 1701076831 == o[1]) {
var i = a.create(o.slice(2, 4));
o.splice(0, 4);
t.sigBytes -= 16;
}
return m.create({
ciphertext: t,
salt: i
});
}
}, y = o.SerializableCipher = n.extend({
cfg: n.extend({
format: g
}),
encrypt: function(e, t, o, i) {
i = this.cfg.extend(i);
var n = e.createEncryptor(o, i), a = n.finalize(t), r = n.cfg;
return m.create({
ciphertext: a,
key: o,
iv: r.iv,
algorithm: e,
mode: r.mode,
padding: r.padding,
blockSize: e.blockSize,
formatter: i.format
});
},
decrypt: function(e, t, o, i) {
i = this.cfg.extend(i);
t = this._parse(t, i.format);
return e.createDecryptor(o, i).finalize(t.ciphertext);
},
_parse: function(e, t) {
return "string" == typeof e ? t.parse(e, this) : e;
}
}), _ = (t.kdf = {}).OpenSSL = {
execute: function(e, t, o, i) {
i || (i = a.random(8));
var n = l.create({
keySize: t + o
}).compute(e, i), r = a.create(n.words.slice(t), 4 * o);
n.sigBytes = 4 * t;
return m.create({
key: n,
iv: r,
salt: i
});
}
}, C = o.PasswordBasedCipher = y.extend({
cfg: y.cfg.extend({
kdf: _
}),
encrypt: function(e, t, o, i) {
var n = (i = this.cfg.extend(i)).kdf.execute(o, e.keySize, e.ivSize);
i.iv = n.iv;
var a = y.encrypt.call(this, e, t, n.key, i);
a.mixIn(n);
return a;
},
decrypt: function(e, t, o, i) {
i = this.cfg.extend(i);
t = this._parse(t, i.format);
var n = i.kdf.execute(o, e.keySize, e.ivSize, t.salt);
i.iv = n.iv;
return y.decrypt.call(this, e, t, n.key, i);
}
});
}();
i.mode.CFB = function() {
var e = i.lib.BlockCipherMode.extend();
e.Encryptor = e.extend({
processBlock: function(e, o) {
var i = this._cipher, n = i.blockSize;
t.call(this, e, o, n, i);
this._prevBlock = e.slice(o, o + n);
}
});
e.Decryptor = e.extend({
processBlock: function(e, o) {
var i = this._cipher, n = i.blockSize, a = e.slice(o, o + n);
t.call(this, e, o, n, i);
this._prevBlock = a;
}
});
function t(e, t, o, i) {
var n = this._iv;
if (n) {
var a = n.slice(0);
this._iv = void 0;
} else a = this._prevBlock;
i.encryptBlock(a, 0);
for (var r = 0; r < o; r++) e[t + r] ^= a[r];
}
return e;
}();
i.mode.ECB = function() {
var e = i.lib.BlockCipherMode.extend();
e.Encryptor = e.extend({
processBlock: function(e, t) {
this._cipher.encryptBlock(e, t);
}
});
e.Decryptor = e.extend({
processBlock: function(e, t) {
this._cipher.decryptBlock(e, t);
}
});
return e;
}();
i.pad.AnsiX923 = {
pad: function(e, t) {
var o = e.sigBytes, i = 4 * t, n = i - o % i, a = o + n - 1;
e.clamp();
e.words[a >>> 2] |= n << 24 - a % 4 * 8;
e.sigBytes += n;
},
unpad: function(e) {
var t = 255 & e.words[e.sigBytes - 1 >>> 2];
e.sigBytes -= t;
}
};
i.pad.Iso10126 = {
pad: function(e, t) {
var o = 4 * t, n = o - e.sigBytes % o;
e.concat(i.lib.WordArray.random(n - 1)).concat(i.lib.WordArray.create([ n << 24 ], 1));
},
unpad: function(e) {
var t = 255 & e.words[e.sigBytes - 1 >>> 2];
e.sigBytes -= t;
}
};
i.pad.Iso97971 = {
pad: function(e, t) {
e.concat(i.lib.WordArray.create([ 2147483648 ], 1));
i.pad.ZeroPadding.pad(e, t);
},
unpad: function(e) {
i.pad.ZeroPadding.unpad(e);
e.sigBytes--;
}
};
i.mode.OFB = function() {
var e = i.lib.BlockCipherMode.extend(), t = e.Encryptor = e.extend({
processBlock: function(e, t) {
var o = this._cipher, i = o.blockSize, n = this._iv, a = this._keystream;
if (n) {
a = this._keystream = n.slice(0);
this._iv = void 0;
}
o.encryptBlock(a, 0);
for (var r = 0; r < i; r++) e[t + r] ^= a[r];
}
});
e.Decryptor = t;
return e;
}();
i.pad.NoPadding = {
pad: function() {},
unpad: function() {}
};
(function() {
var e = i, t = e.lib.CipherParams, o = e.enc.Hex;
e.format.Hex = {
stringify: function(e) {
return e.ciphertext.toString(o);
},
parse: function(e) {
var i = o.parse(e);
return t.create({
ciphertext: i
});
}
};
})();
(function() {
var e = i, t = e.lib.BlockCipher, o = e.algo, n = [], a = [], r = [], s = [], c = [], l = [], d = [], h = [], u = [], p = [];
(function() {
for (var e = [], t = 0; t < 256; t++) e[t] = t < 128 ? t << 1 : t << 1 ^ 283;
var o = 0, i = 0;
for (t = 0; t < 256; t++) {
var f = i ^ i << 1 ^ i << 2 ^ i << 3 ^ i << 4;
f = f >>> 8 ^ 255 & f ^ 99;
n[o] = f;
a[f] = o;
var m = e[o], g = e[m], y = e[g], _ = 257 * e[f] ^ 16843008 * f;
r[o] = _ << 24 | _ >>> 8;
s[o] = _ << 16 | _ >>> 16;
c[o] = _ << 8 | _ >>> 24;
l[o] = _;
_ = 16843009 * y ^ 65537 * g ^ 257 * m ^ 16843008 * o;
d[f] = _ << 24 | _ >>> 8;
h[f] = _ << 16 | _ >>> 16;
u[f] = _ << 8 | _ >>> 24;
p[f] = _;
if (o) {
o = m ^ e[e[e[y ^ m]]];
i ^= e[e[i]];
} else o = i = 1;
}
})();
var f = [ 0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54 ], m = o.AES = t.extend({
_doReset: function() {
if (!this._nRounds || this._keyPriorReset !== this._key) {
for (var e = this._keyPriorReset = this._key, t = e.words, o = e.sigBytes / 4, i = 4 * ((this._nRounds = o + 6) + 1), a = this._keySchedule = [], r = 0; r < i; r++) if (r < o) a[r] = t[r]; else {
var s = a[r - 1];
if (r % o) o > 6 && r % o == 4 && (s = n[s >>> 24] << 24 | n[s >>> 16 & 255] << 16 | n[s >>> 8 & 255] << 8 | n[255 & s]); else {
s = n[(s = s << 8 | s >>> 24) >>> 24] << 24 | n[s >>> 16 & 255] << 16 | n[s >>> 8 & 255] << 8 | n[255 & s];
s ^= f[r / o | 0] << 24;
}
a[r] = a[r - o] ^ s;
}
for (var c = this._invKeySchedule = [], l = 0; l < i; l++) {
r = i - l;
s = l % 4 ? a[r] : a[r - 4];
c[l] = l < 4 || r <= 4 ? s : d[n[s >>> 24]] ^ h[n[s >>> 16 & 255]] ^ u[n[s >>> 8 & 255]] ^ p[n[255 & s]];
}
}
},
encryptBlock: function(e, t) {
this._doCryptBlock(e, t, this._keySchedule, r, s, c, l, n);
},
decryptBlock: function(e, t) {
var o = e[t + 1];
e[t + 1] = e[t + 3];
e[t + 3] = o;
this._doCryptBlock(e, t, this._invKeySchedule, d, h, u, p, a);
o = e[t + 1];
e[t + 1] = e[t + 3];
e[t + 3] = o;
},
_doCryptBlock: function(e, t, o, i, n, a, r, s) {
for (var c = this._nRounds, l = e[t] ^ o[0], d = e[t + 1] ^ o[1], h = e[t + 2] ^ o[2], u = e[t + 3] ^ o[3], p = 4, f = 1; f < c; f++) {
var m = i[l >>> 24] ^ n[d >>> 16 & 255] ^ a[h >>> 8 & 255] ^ r[255 & u] ^ o[p++], g = i[d >>> 24] ^ n[h >>> 16 & 255] ^ a[u >>> 8 & 255] ^ r[255 & l] ^ o[p++], y = i[h >>> 24] ^ n[u >>> 16 & 255] ^ a[l >>> 8 & 255] ^ r[255 & d] ^ o[p++], _ = i[u >>> 24] ^ n[l >>> 16 & 255] ^ a[d >>> 8 & 255] ^ r[255 & h] ^ o[p++];
l = m;
d = g;
h = y;
u = _;
}
m = (s[l >>> 24] << 24 | s[d >>> 16 & 255] << 16 | s[h >>> 8 & 255] << 8 | s[255 & u]) ^ o[p++], 
g = (s[d >>> 24] << 24 | s[h >>> 16 & 255] << 16 | s[u >>> 8 & 255] << 8 | s[255 & l]) ^ o[p++], 
y = (s[h >>> 24] << 24 | s[u >>> 16 & 255] << 16 | s[l >>> 8 & 255] << 8 | s[255 & d]) ^ o[p++], 
_ = (s[u >>> 24] << 24 | s[l >>> 16 & 255] << 16 | s[d >>> 8 & 255] << 8 | s[255 & h]) ^ o[p++];
e[t] = m;
e[t + 1] = g;
e[t + 2] = y;
e[t + 3] = _;
},
keySize: 8
});
e.AES = t._createHelper(m);
})();
(function() {
var e = i, t = e.lib, o = t.WordArray, n = t.BlockCipher, a = e.algo, r = [ 57, 49, 41, 33, 25, 17, 9, 1, 58, 50, 42, 34, 26, 18, 10, 2, 59, 51, 43, 35, 27, 19, 11, 3, 60, 52, 44, 36, 63, 55, 47, 39, 31, 23, 15, 7, 62, 54, 46, 38, 30, 22, 14, 6, 61, 53, 45, 37, 29, 21, 13, 5, 28, 20, 12, 4 ], s = [ 14, 17, 11, 24, 1, 5, 3, 28, 15, 6, 21, 10, 23, 19, 12, 4, 26, 8, 16, 7, 27, 20, 13, 2, 41, 52, 31, 37, 47, 55, 30, 40, 51, 45, 33, 48, 44, 49, 39, 56, 34, 53, 46, 42, 50, 36, 29, 32 ], c = [ 1, 2, 4, 6, 8, 10, 12, 14, 15, 17, 19, 21, 23, 25, 27, 28 ], l = [ {
0: 8421888,
268435456: 32768,
536870912: 8421378,
805306368: 2,
1073741824: 512,
1342177280: 8421890,
1610612736: 8389122,
1879048192: 8388608,
2147483648: 514,
2415919104: 8389120,
2684354560: 33280,
2952790016: 8421376,
3221225472: 32770,
3489660928: 8388610,
3758096384: 0,
4026531840: 33282,
134217728: 0,
402653184: 8421890,
671088640: 33282,
939524096: 32768,
1207959552: 8421888,
1476395008: 512,
1744830464: 8421378,
2013265920: 2,
2281701376: 8389120,
2550136832: 33280,
2818572288: 8421376,
3087007744: 8389122,
3355443200: 8388610,
3623878656: 32770,
3892314112: 514,
4160749568: 8388608,
1: 32768,
268435457: 2,
536870913: 8421888,
805306369: 8388608,
1073741825: 8421378,
1342177281: 33280,
1610612737: 512,
1879048193: 8389122,
2147483649: 8421890,
2415919105: 8421376,
2684354561: 8388610,
2952790017: 33282,
3221225473: 514,
3489660929: 8389120,
3758096385: 32770,
4026531841: 0,
134217729: 8421890,
402653185: 8421376,
671088641: 8388608,
939524097: 512,
1207959553: 32768,
1476395009: 8388610,
1744830465: 2,
2013265921: 33282,
2281701377: 32770,
2550136833: 8389122,
2818572289: 514,
3087007745: 8421888,
3355443201: 8389120,
3623878657: 0,
3892314113: 33280,
4160749569: 8421378
}, {
0: 1074282512,
16777216: 16384,
33554432: 524288,
50331648: 1074266128,
67108864: 1073741840,
83886080: 1074282496,
100663296: 1073758208,
117440512: 16,
134217728: 540672,
150994944: 1073758224,
167772160: 1073741824,
184549376: 540688,
201326592: 524304,
218103808: 0,
234881024: 16400,
251658240: 1074266112,
8388608: 1073758208,
25165824: 540688,
41943040: 16,
58720256: 1073758224,
75497472: 1074282512,
92274688: 1073741824,
109051904: 524288,
125829120: 1074266128,
142606336: 524304,
159383552: 0,
176160768: 16384,
192937984: 1074266112,
209715200: 1073741840,
226492416: 540672,
243269632: 1074282496,
260046848: 16400,
268435456: 0,
285212672: 1074266128,
301989888: 1073758224,
318767104: 1074282496,
335544320: 1074266112,
352321536: 16,
369098752: 540688,
385875968: 16384,
402653184: 16400,
419430400: 524288,
436207616: 524304,
452984832: 1073741840,
469762048: 540672,
486539264: 1073758208,
503316480: 1073741824,
520093696: 1074282512,
276824064: 540688,
293601280: 524288,
310378496: 1074266112,
327155712: 16384,
343932928: 1073758208,
360710144: 1074282512,
377487360: 16,
394264576: 1073741824,
411041792: 1074282496,
427819008: 1073741840,
444596224: 1073758224,
461373440: 524304,
478150656: 0,
494927872: 16400,
511705088: 1074266128,
528482304: 540672
}, {
0: 260,
1048576: 0,
2097152: 67109120,
3145728: 65796,
4194304: 65540,
5242880: 67108868,
6291456: 67174660,
7340032: 67174400,
8388608: 67108864,
9437184: 67174656,
10485760: 65792,
11534336: 67174404,
12582912: 67109124,
13631488: 65536,
14680064: 4,
15728640: 256,
524288: 67174656,
1572864: 67174404,
2621440: 0,
3670016: 67109120,
4718592: 67108868,
5767168: 65536,
6815744: 65540,
7864320: 260,
8912896: 4,
9961472: 256,
11010048: 67174400,
12058624: 65796,
13107200: 65792,
14155776: 67109124,
15204352: 67174660,
16252928: 67108864,
16777216: 67174656,
17825792: 65540,
18874368: 65536,
19922944: 67109120,
20971520: 256,
22020096: 67174660,
23068672: 67108868,
24117248: 0,
25165824: 67109124,
26214400: 67108864,
27262976: 4,
28311552: 65792,
29360128: 67174400,
30408704: 260,
31457280: 65796,
32505856: 67174404,
17301504: 67108864,
18350080: 260,
19398656: 67174656,
20447232: 0,
21495808: 65540,
22544384: 67109120,
23592960: 256,
24641536: 67174404,
25690112: 65536,
26738688: 67174660,
27787264: 65796,
28835840: 67108868,
29884416: 67109124,
30932992: 67174400,
31981568: 4,
33030144: 65792
}, {
0: 2151682048,
65536: 2147487808,
131072: 4198464,
196608: 2151677952,
262144: 0,
327680: 4198400,
393216: 2147483712,
458752: 4194368,
524288: 2147483648,
589824: 4194304,
655360: 64,
720896: 2147487744,
786432: 2151678016,
851968: 4160,
917504: 4096,
983040: 2151682112,
32768: 2147487808,
98304: 64,
163840: 2151678016,
229376: 2147487744,
294912: 4198400,
360448: 2151682112,
425984: 0,
491520: 2151677952,
557056: 4096,
622592: 2151682048,
688128: 4194304,
753664: 4160,
819200: 2147483648,
884736: 4194368,
950272: 4198464,
1015808: 2147483712,
1048576: 4194368,
1114112: 4198400,
1179648: 2147483712,
1245184: 0,
1310720: 4160,
1376256: 2151678016,
1441792: 2151682048,
1507328: 2147487808,
1572864: 2151682112,
1638400: 2147483648,
1703936: 2151677952,
1769472: 4198464,
1835008: 2147487744,
1900544: 4194304,
1966080: 64,
2031616: 4096,
1081344: 2151677952,
1146880: 2151682112,
1212416: 0,
1277952: 4198400,
1343488: 4194368,
1409024: 2147483648,
1474560: 2147487808,
1540096: 64,
1605632: 2147483712,
1671168: 4096,
1736704: 2147487744,
1802240: 2151678016,
1867776: 4160,
1933312: 2151682048,
1998848: 4194304,
2064384: 4198464
}, {
0: 128,
4096: 17039360,
8192: 262144,
12288: 536870912,
16384: 537133184,
20480: 16777344,
24576: 553648256,
28672: 262272,
32768: 16777216,
36864: 537133056,
40960: 536871040,
45056: 553910400,
49152: 553910272,
53248: 0,
57344: 17039488,
61440: 553648128,
2048: 17039488,
6144: 553648256,
10240: 128,
14336: 17039360,
18432: 262144,
22528: 537133184,
26624: 553910272,
30720: 536870912,
34816: 537133056,
38912: 0,
43008: 553910400,
47104: 16777344,
51200: 536871040,
55296: 553648128,
59392: 16777216,
63488: 262272,
65536: 262144,
69632: 128,
73728: 536870912,
77824: 553648256,
81920: 16777344,
86016: 553910272,
90112: 537133184,
94208: 16777216,
98304: 553910400,
102400: 553648128,
106496: 17039360,
110592: 537133056,
114688: 262272,
118784: 536871040,
122880: 0,
126976: 17039488,
67584: 553648256,
71680: 16777216,
75776: 17039360,
79872: 537133184,
83968: 536870912,
88064: 17039488,
92160: 128,
96256: 553910272,
100352: 262272,
104448: 553910400,
108544: 0,
112640: 553648128,
116736: 16777344,
120832: 262144,
124928: 537133056,
129024: 536871040
}, {
0: 268435464,
256: 8192,
512: 270532608,
768: 270540808,
1024: 268443648,
1280: 2097152,
1536: 2097160,
1792: 268435456,
2048: 0,
2304: 268443656,
2560: 2105344,
2816: 8,
3072: 270532616,
3328: 2105352,
3584: 8200,
3840: 270540800,
128: 270532608,
384: 270540808,
640: 8,
896: 2097152,
1152: 2105352,
1408: 268435464,
1664: 268443648,
1920: 8200,
2176: 2097160,
2432: 8192,
2688: 268443656,
2944: 270532616,
3200: 0,
3456: 270540800,
3712: 2105344,
3968: 268435456,
4096: 268443648,
4352: 270532616,
4608: 270540808,
4864: 8200,
5120: 2097152,
5376: 268435456,
5632: 268435464,
5888: 2105344,
6144: 2105352,
6400: 0,
6656: 8,
6912: 270532608,
7168: 8192,
7424: 268443656,
7680: 270540800,
7936: 2097160,
4224: 8,
4480: 2105344,
4736: 2097152,
4992: 268435464,
5248: 268443648,
5504: 8200,
5760: 270540808,
6016: 270532608,
6272: 270540800,
6528: 270532616,
6784: 8192,
7040: 2105352,
7296: 2097160,
7552: 0,
7808: 268435456,
8064: 268443656
}, {
0: 1048576,
16: 33555457,
32: 1024,
48: 1049601,
64: 34604033,
80: 0,
96: 1,
112: 34603009,
128: 33555456,
144: 1048577,
160: 33554433,
176: 34604032,
192: 34603008,
208: 1025,
224: 1049600,
240: 33554432,
8: 34603009,
24: 0,
40: 33555457,
56: 34604032,
72: 1048576,
88: 33554433,
104: 33554432,
120: 1025,
136: 1049601,
152: 33555456,
168: 34603008,
184: 1048577,
200: 1024,
216: 34604033,
232: 1,
248: 1049600,
256: 33554432,
272: 1048576,
288: 33555457,
304: 34603009,
320: 1048577,
336: 33555456,
352: 34604032,
368: 1049601,
384: 1025,
400: 34604033,
416: 1049600,
432: 1,
448: 0,
464: 34603008,
480: 33554433,
496: 1024,
264: 1049600,
280: 33555457,
296: 34603009,
312: 1,
328: 33554432,
344: 1048576,
360: 1025,
376: 34604032,
392: 33554433,
408: 34603008,
424: 0,
440: 34604033,
456: 1049601,
472: 1024,
488: 33555456,
504: 1048577
}, {
0: 134219808,
1: 131072,
2: 134217728,
3: 32,
4: 131104,
5: 134350880,
6: 134350848,
7: 2048,
8: 134348800,
9: 134219776,
10: 133120,
11: 134348832,
12: 2080,
13: 0,
14: 134217760,
15: 133152,
2147483648: 2048,
2147483649: 134350880,
2147483650: 134219808,
2147483651: 134217728,
2147483652: 134348800,
2147483653: 133120,
2147483654: 133152,
2147483655: 32,
2147483656: 134217760,
2147483657: 2080,
2147483658: 131104,
2147483659: 134350848,
2147483660: 0,
2147483661: 134348832,
2147483662: 134219776,
2147483663: 131072,
16: 133152,
17: 134350848,
18: 32,
19: 2048,
20: 134219776,
21: 134217760,
22: 134348832,
23: 131072,
24: 0,
25: 131104,
26: 134348800,
27: 134219808,
28: 134350880,
29: 133120,
30: 2080,
31: 134217728,
2147483664: 131072,
2147483665: 2048,
2147483666: 134348832,
2147483667: 133152,
2147483668: 32,
2147483669: 134348800,
2147483670: 134217728,
2147483671: 134219808,
2147483672: 134350880,
2147483673: 134217760,
2147483674: 134219776,
2147483675: 0,
2147483676: 133120,
2147483677: 2080,
2147483678: 131104,
2147483679: 134350848
} ], d = [ 4160749569, 528482304, 33030144, 2064384, 129024, 8064, 504, 2147483679 ], h = a.DES = n.extend({
_doReset: function() {
for (var e = this._key.words, t = [], o = 0; o < 56; o++) {
var i = r[o] - 1;
t[o] = e[i >>> 5] >>> 31 - i % 32 & 1;
}
for (var n = this._subKeys = [], a = 0; a < 16; a++) {
var l = n[a] = [], d = c[a];
for (o = 0; o < 24; o++) {
l[o / 6 | 0] |= t[(s[o] - 1 + d) % 28] << 31 - o % 6;
l[4 + (o / 6 | 0)] |= t[28 + (s[o + 24] - 1 + d) % 28] << 31 - o % 6;
}
l[0] = l[0] << 1 | l[0] >>> 31;
for (o = 1; o < 7; o++) l[o] = l[o] >>> 4 * (o - 1) + 3;
l[7] = l[7] << 5 | l[7] >>> 27;
}
var h = this._invSubKeys = [];
for (o = 0; o < 16; o++) h[o] = n[15 - o];
},
encryptBlock: function(e, t) {
this._doCryptBlock(e, t, this._subKeys);
},
decryptBlock: function(e, t) {
this._doCryptBlock(e, t, this._invSubKeys);
},
_doCryptBlock: function(e, t, o) {
this._lBlock = e[t];
this._rBlock = e[t + 1];
u.call(this, 4, 252645135);
u.call(this, 16, 65535);
p.call(this, 2, 858993459);
p.call(this, 8, 16711935);
u.call(this, 1, 1431655765);
for (var i = 0; i < 16; i++) {
for (var n = o[i], a = this._lBlock, r = this._rBlock, s = 0, c = 0; c < 8; c++) s |= l[c][((r ^ n[c]) & d[c]) >>> 0];
this._lBlock = r;
this._rBlock = a ^ s;
}
var h = this._lBlock;
this._lBlock = this._rBlock;
this._rBlock = h;
u.call(this, 1, 1431655765);
p.call(this, 8, 16711935);
p.call(this, 2, 858993459);
u.call(this, 16, 65535);
u.call(this, 4, 252645135);
e[t] = this._lBlock;
e[t + 1] = this._rBlock;
},
keySize: 2,
ivSize: 2,
blockSize: 2
});
function u(e, t) {
var o = (this._lBlock >>> e ^ this._rBlock) & t;
this._rBlock ^= o;
this._lBlock ^= o << e;
}
function p(e, t) {
var o = (this._rBlock >>> e ^ this._lBlock) & t;
this._lBlock ^= o;
this._rBlock ^= o << e;
}
e.DES = n._createHelper(h);
var f = a.TripleDES = n.extend({
_doReset: function() {
var e = this._key.words;
this._des1 = h.createEncryptor(o.create(e.slice(0, 2)));
this._des2 = h.createEncryptor(o.create(e.slice(2, 4)));
this._des3 = h.createEncryptor(o.create(e.slice(4, 6)));
},
encryptBlock: function(e, t) {
this._des1.encryptBlock(e, t);
this._des2.decryptBlock(e, t);
this._des3.encryptBlock(e, t);
},
decryptBlock: function(e, t) {
this._des3.decryptBlock(e, t);
this._des2.encryptBlock(e, t);
this._des1.decryptBlock(e, t);
},
keySize: 6,
ivSize: 2,
blockSize: 2
});
e.TripleDES = n._createHelper(f);
})();
(function() {
var e = i, t = e.lib.StreamCipher, o = e.algo, n = o.RC4 = t.extend({
_doReset: function() {
for (var e = this._key, t = e.words, o = e.sigBytes, i = this._S = [], n = 0; n < 256; n++) i[n] = n;
n = 0;
for (var a = 0; n < 256; n++) {
var r = n % o, s = t[r >>> 2] >>> 24 - r % 4 * 8 & 255;
a = (a + i[n] + s) % 256;
var c = i[n];
i[n] = i[a];
i[a] = c;
}
this._i = this._j = 0;
},
_doProcessBlock: function(e, t) {
e[t] ^= a.call(this);
},
keySize: 8,
ivSize: 0
});
function a() {
for (var e = this._S, t = this._i, o = this._j, i = 0, n = 0; n < 4; n++) {
o = (o + e[t = (t + 1) % 256]) % 256;
var a = e[t];
e[t] = e[o];
e[o] = a;
i |= e[(e[t] + e[o]) % 256] << 24 - 8 * n;
}
this._i = t;
this._j = o;
return i;
}
e.RC4 = t._createHelper(n);
var r = o.RC4Drop = n.extend({
cfg: n.cfg.extend({
drop: 192
}),
_doReset: function() {
n._doReset.call(this);
for (var e = this.cfg.drop; e > 0; e--) a.call(this);
}
});
e.RC4Drop = t._createHelper(r);
})();
i.mode.CTRGladman = function() {
var e = i.lib.BlockCipherMode.extend();
function t(e) {
if (255 == (e >> 24 & 255)) {
var t = e >> 16 & 255, o = e >> 8 & 255, i = 255 & e;
if (255 === t) {
t = 0;
if (255 === o) {
o = 0;
255 === i ? i = 0 : ++i;
} else ++o;
} else ++t;
e = 0;
e += t << 16;
e += o << 8;
e += i;
} else e += 1 << 24;
return e;
}
function o(e) {
0 === (e[0] = t(e[0])) && (e[1] = t(e[1]));
return e;
}
var n = e.Encryptor = e.extend({
processBlock: function(e, t) {
var i = this._cipher, n = i.blockSize, a = this._iv, r = this._counter;
if (a) {
r = this._counter = a.slice(0);
this._iv = void 0;
}
o(r);
var s = r.slice(0);
i.encryptBlock(s, 0);
for (var c = 0; c < n; c++) e[t + c] ^= s[c];
}
});
e.Decryptor = n;
return e;
}();
(function() {
var e = i, t = e.lib.StreamCipher, o = e.algo, n = [], a = [], r = [], s = o.Rabbit = t.extend({
_doReset: function() {
for (var e = this._key.words, t = this.cfg.iv, o = 0; o < 4; o++) e[o] = 16711935 & (e[o] << 8 | e[o] >>> 24) | 4278255360 & (e[o] << 24 | e[o] >>> 8);
var i = this._X = [ e[0], e[3] << 16 | e[2] >>> 16, e[1], e[0] << 16 | e[3] >>> 16, e[2], e[1] << 16 | e[0] >>> 16, e[3], e[2] << 16 | e[1] >>> 16 ], n = this._C = [ e[2] << 16 | e[2] >>> 16, 4294901760 & e[0] | 65535 & e[1], e[3] << 16 | e[3] >>> 16, 4294901760 & e[1] | 65535 & e[2], e[0] << 16 | e[0] >>> 16, 4294901760 & e[2] | 65535 & e[3], e[1] << 16 | e[1] >>> 16, 4294901760 & e[3] | 65535 & e[0] ];
this._b = 0;
for (o = 0; o < 4; o++) c.call(this);
for (o = 0; o < 8; o++) n[o] ^= i[o + 4 & 7];
if (t) {
var a = t.words, r = a[0], s = a[1], l = 16711935 & (r << 8 | r >>> 24) | 4278255360 & (r << 24 | r >>> 8), d = 16711935 & (s << 8 | s >>> 24) | 4278255360 & (s << 24 | s >>> 8), h = l >>> 16 | 4294901760 & d, u = d << 16 | 65535 & l;
n[0] ^= l;
n[1] ^= h;
n[2] ^= d;
n[3] ^= u;
n[4] ^= l;
n[5] ^= h;
n[6] ^= d;
n[7] ^= u;
for (o = 0; o < 4; o++) c.call(this);
}
},
_doProcessBlock: function(e, t) {
var o = this._X;
c.call(this);
n[0] = o[0] ^ o[5] >>> 16 ^ o[3] << 16;
n[1] = o[2] ^ o[7] >>> 16 ^ o[5] << 16;
n[2] = o[4] ^ o[1] >>> 16 ^ o[7] << 16;
n[3] = o[6] ^ o[3] >>> 16 ^ o[1] << 16;
for (var i = 0; i < 4; i++) {
n[i] = 16711935 & (n[i] << 8 | n[i] >>> 24) | 4278255360 & (n[i] << 24 | n[i] >>> 8);
e[t + i] ^= n[i];
}
},
blockSize: 4,
ivSize: 2
});
function c() {
for (var e = this._X, t = this._C, o = 0; o < 8; o++) a[o] = t[o];
t[0] = t[0] + 1295307597 + this._b | 0;
t[1] = t[1] + 3545052371 + (t[0] >>> 0 < a[0] >>> 0 ? 1 : 0) | 0;
t[2] = t[2] + 886263092 + (t[1] >>> 0 < a[1] >>> 0 ? 1 : 0) | 0;
t[3] = t[3] + 1295307597 + (t[2] >>> 0 < a[2] >>> 0 ? 1 : 0) | 0;
t[4] = t[4] + 3545052371 + (t[3] >>> 0 < a[3] >>> 0 ? 1 : 0) | 0;
t[5] = t[5] + 886263092 + (t[4] >>> 0 < a[4] >>> 0 ? 1 : 0) | 0;
t[6] = t[6] + 1295307597 + (t[5] >>> 0 < a[5] >>> 0 ? 1 : 0) | 0;
t[7] = t[7] + 3545052371 + (t[6] >>> 0 < a[6] >>> 0 ? 1 : 0) | 0;
this._b = t[7] >>> 0 < a[7] >>> 0 ? 1 : 0;
for (o = 0; o < 8; o++) {
var i = e[o] + t[o], n = 65535 & i, s = i >>> 16, c = ((n * n >>> 17) + n * s >>> 15) + s * s, l = ((4294901760 & i) * i | 0) + ((65535 & i) * i | 0);
r[o] = c ^ l;
}
e[0] = r[0] + (r[7] << 16 | r[7] >>> 16) + (r[6] << 16 | r[6] >>> 16) | 0;
e[1] = r[1] + (r[0] << 8 | r[0] >>> 24) + r[7] | 0;
e[2] = r[2] + (r[1] << 16 | r[1] >>> 16) + (r[0] << 16 | r[0] >>> 16) | 0;
e[3] = r[3] + (r[2] << 8 | r[2] >>> 24) + r[1] | 0;
e[4] = r[4] + (r[3] << 16 | r[3] >>> 16) + (r[2] << 16 | r[2] >>> 16) | 0;
e[5] = r[5] + (r[4] << 8 | r[4] >>> 24) + r[3] | 0;
e[6] = r[6] + (r[5] << 16 | r[5] >>> 16) + (r[4] << 16 | r[4] >>> 16) | 0;
e[7] = r[7] + (r[6] << 8 | r[6] >>> 24) + r[5] | 0;
}
e.Rabbit = t._createHelper(s);
})();
i.mode.CTR = function() {
var e = i.lib.BlockCipherMode.extend(), t = e.Encryptor = e.extend({
processBlock: function(e, t) {
var o = this._cipher, i = o.blockSize, n = this._iv, a = this._counter;
if (n) {
a = this._counter = n.slice(0);
this._iv = void 0;
}
var r = a.slice(0);
o.encryptBlock(r, 0);
a[i - 1] = a[i - 1] + 1 | 0;
for (var s = 0; s < i; s++) e[t + s] ^= r[s];
}
});
e.Decryptor = t;
return e;
}();
(function() {
var e = i, t = e.lib.StreamCipher, o = e.algo, n = [], a = [], r = [], s = o.RabbitLegacy = t.extend({
_doReset: function() {
var e = this._key.words, t = this.cfg.iv, o = this._X = [ e[0], e[3] << 16 | e[2] >>> 16, e[1], e[0] << 16 | e[3] >>> 16, e[2], e[1] << 16 | e[0] >>> 16, e[3], e[2] << 16 | e[1] >>> 16 ], i = this._C = [ e[2] << 16 | e[2] >>> 16, 4294901760 & e[0] | 65535 & e[1], e[3] << 16 | e[3] >>> 16, 4294901760 & e[1] | 65535 & e[2], e[0] << 16 | e[0] >>> 16, 4294901760 & e[2] | 65535 & e[3], e[1] << 16 | e[1] >>> 16, 4294901760 & e[3] | 65535 & e[0] ];
this._b = 0;
for (var n = 0; n < 4; n++) c.call(this);
for (n = 0; n < 8; n++) i[n] ^= o[n + 4 & 7];
if (t) {
var a = t.words, r = a[0], s = a[1], l = 16711935 & (r << 8 | r >>> 24) | 4278255360 & (r << 24 | r >>> 8), d = 16711935 & (s << 8 | s >>> 24) | 4278255360 & (s << 24 | s >>> 8), h = l >>> 16 | 4294901760 & d, u = d << 16 | 65535 & l;
i[0] ^= l;
i[1] ^= h;
i[2] ^= d;
i[3] ^= u;
i[4] ^= l;
i[5] ^= h;
i[6] ^= d;
i[7] ^= u;
for (n = 0; n < 4; n++) c.call(this);
}
},
_doProcessBlock: function(e, t) {
var o = this._X;
c.call(this);
n[0] = o[0] ^ o[5] >>> 16 ^ o[3] << 16;
n[1] = o[2] ^ o[7] >>> 16 ^ o[5] << 16;
n[2] = o[4] ^ o[1] >>> 16 ^ o[7] << 16;
n[3] = o[6] ^ o[3] >>> 16 ^ o[1] << 16;
for (var i = 0; i < 4; i++) {
n[i] = 16711935 & (n[i] << 8 | n[i] >>> 24) | 4278255360 & (n[i] << 24 | n[i] >>> 8);
e[t + i] ^= n[i];
}
},
blockSize: 4,
ivSize: 2
});
function c() {
for (var e = this._X, t = this._C, o = 0; o < 8; o++) a[o] = t[o];
t[0] = t[0] + 1295307597 + this._b | 0;
t[1] = t[1] + 3545052371 + (t[0] >>> 0 < a[0] >>> 0 ? 1 : 0) | 0;
t[2] = t[2] + 886263092 + (t[1] >>> 0 < a[1] >>> 0 ? 1 : 0) | 0;
t[3] = t[3] + 1295307597 + (t[2] >>> 0 < a[2] >>> 0 ? 1 : 0) | 0;
t[4] = t[4] + 3545052371 + (t[3] >>> 0 < a[3] >>> 0 ? 1 : 0) | 0;
t[5] = t[5] + 886263092 + (t[4] >>> 0 < a[4] >>> 0 ? 1 : 0) | 0;
t[6] = t[6] + 1295307597 + (t[5] >>> 0 < a[5] >>> 0 ? 1 : 0) | 0;
t[7] = t[7] + 3545052371 + (t[6] >>> 0 < a[6] >>> 0 ? 1 : 0) | 0;
this._b = t[7] >>> 0 < a[7] >>> 0 ? 1 : 0;
for (o = 0; o < 8; o++) {
var i = e[o] + t[o], n = 65535 & i, s = i >>> 16, c = ((n * n >>> 17) + n * s >>> 15) + s * s, l = ((4294901760 & i) * i | 0) + ((65535 & i) * i | 0);
r[o] = c ^ l;
}
e[0] = r[0] + (r[7] << 16 | r[7] >>> 16) + (r[6] << 16 | r[6] >>> 16) | 0;
e[1] = r[1] + (r[0] << 8 | r[0] >>> 24) + r[7] | 0;
e[2] = r[2] + (r[1] << 16 | r[1] >>> 16) + (r[0] << 16 | r[0] >>> 16) | 0;
e[3] = r[3] + (r[2] << 8 | r[2] >>> 24) + r[1] | 0;
e[4] = r[4] + (r[3] << 16 | r[3] >>> 16) + (r[2] << 16 | r[2] >>> 16) | 0;
e[5] = r[5] + (r[4] << 8 | r[4] >>> 24) + r[3] | 0;
e[6] = r[6] + (r[5] << 16 | r[5] >>> 16) + (r[4] << 16 | r[4] >>> 16) | 0;
e[7] = r[7] + (r[6] << 8 | r[6] >>> 24) + r[5] | 0;
}
e.RabbitLegacy = t._createHelper(s);
})();
i.pad.ZeroPadding = {
pad: function(e, t) {
var o = 4 * t;
e.clamp();
e.sigBytes += o - (e.sigBytes % o || o);
},
unpad: function(e) {
for (var t = e.words, o = e.sigBytes - 1; !(t[o >>> 2] >>> 24 - o % 4 * 8 & 255); ) o--;
e.sigBytes = o + 1;
}
};
return i;
}, "object" == typeof o ? t.exports = o = i() : "function" == typeof define && define.amd ? define([], i) : (void 0).CryptoJS = i();
var i;
cc._RF.pop();
}, {} ],
"enc-base64": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "34b33oLo4JEnJCWiiOufAkL", "enc-base64");
i = function(e) {
(function() {
var t = e, o = t.lib.WordArray;
t.enc.Base64 = {
stringify: function(e) {
var t = e.words, o = e.sigBytes, i = this._map;
e.clamp();
for (var n = [], a = 0; a < o; a += 3) for (var r = (t[a >>> 2] >>> 24 - a % 4 * 8 & 255) << 16 | (t[a + 1 >>> 2] >>> 24 - (a + 1) % 4 * 8 & 255) << 8 | t[a + 2 >>> 2] >>> 24 - (a + 2) % 4 * 8 & 255, s = 0; s < 4 && a + .75 * s < o; s++) n.push(i.charAt(r >>> 6 * (3 - s) & 63));
var c = i.charAt(64);
if (c) for (;n.length % 4; ) n.push(c);
return n.join("");
},
parse: function(e) {
var t = e.length, o = this._map, n = this._reverseMap;
if (!n) {
n = this._reverseMap = [];
for (var a = 0; a < o.length; a++) n[o.charCodeAt(a)] = a;
}
var r = o.charAt(64);
if (r) {
var s = e.indexOf(r);
-1 !== s && (t = s);
}
return i(e, t, n);
},
_map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
};
function i(e, t, i) {
for (var n = [], a = 0, r = 0; r < t; r++) if (r % 4) {
var s = i[e.charCodeAt(r - 1)] << r % 4 * 2, c = i[e.charCodeAt(r)] >>> 6 - r % 4 * 2;
n[a >>> 2] |= (s | c) << 24 - a % 4 * 8;
a++;
}
return o.create(n, a);
}
})();
return e.enc.Base64;
}, "object" == typeof o ? t.exports = o = i(e("./core")) : "function" == typeof define && define.amd ? define([ "./core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core"
} ],
"enc-hex": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1dc27PQNk5NeqZBPUSdvkAJ", "enc-hex");
i = function(e) {
return e.enc.Hex;
}, "object" == typeof o ? t.exports = o = i(e("./core")) : "function" == typeof define && define.amd ? define([ "./core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core"
} ],
"enc-latin1": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4b58dH0LfFFmKX3tTjU8Oj9", "enc-latin1");
i = function(e) {
return e.enc.Latin1;
}, "object" == typeof o ? t.exports = o = i(e("./core")) : "function" == typeof define && define.amd ? define([ "./core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core"
} ],
"enc-utf16": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b9ccbGKg7hCm7C+NCgYUtVV", "enc-utf16");
i = function(e) {
(function() {
var t = e, o = t.lib.WordArray, i = t.enc;
i.Utf16 = i.Utf16BE = {
stringify: function(e) {
for (var t = e.words, o = e.sigBytes, i = [], n = 0; n < o; n += 2) {
var a = t[n >>> 2] >>> 16 - n % 4 * 8 & 65535;
i.push(String.fromCharCode(a));
}
return i.join("");
},
parse: function(e) {
for (var t = e.length, i = [], n = 0; n < t; n++) i[n >>> 1] |= e.charCodeAt(n) << 16 - n % 2 * 16;
return o.create(i, 2 * t);
}
};
i.Utf16LE = {
stringify: function(e) {
for (var t = e.words, o = e.sigBytes, i = [], a = 0; a < o; a += 2) {
var r = n(t[a >>> 2] >>> 16 - a % 4 * 8 & 65535);
i.push(String.fromCharCode(r));
}
return i.join("");
},
parse: function(e) {
for (var t = e.length, i = [], a = 0; a < t; a++) i[a >>> 1] |= n(e.charCodeAt(a) << 16 - a % 2 * 16);
return o.create(i, 2 * t);
}
};
function n(e) {
return e << 8 & 4278255360 | e >>> 8 & 16711935;
}
})();
return e.enc.Utf16;
}, "object" == typeof o ? t.exports = o = i(e("./core")) : "function" == typeof define && define.amd ? define([ "./core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core"
} ],
"enc-utf8": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9f8b89C9ihP5bpWniuVixJe", "enc-utf8");
i = function(e) {
return e.enc.Utf8;
}, "object" == typeof o ? t.exports = o = i(e("./core")) : "function" == typeof define && define.amd ? define([ "./core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core"
} ],
evpkdf: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "113b873c/tPf5jZuRsfZaYa", "evpkdf");
i = function(e) {
i = (o = (t = e).lib).Base, n = o.WordArray, r = (a = t.algo).MD5, s = a.EvpKDF = i.extend({
cfg: i.extend({
keySize: 4,
hasher: r,
iterations: 1
}),
init: function(e) {
this.cfg = this.cfg.extend(e);
},
compute: function(e, t) {
for (var o = this.cfg, i = o.hasher.create(), a = n.create(), r = a.words, s = o.keySize, c = o.iterations; r.length < s; ) {
l && i.update(l);
var l = i.update(e).finalize(t);
i.reset();
for (var d = 1; d < c; d++) {
l = i.finalize(l);
i.reset();
}
a.concat(l);
}
a.sigBytes = 4 * s;
return a;
}
}), t.EvpKDF = function(e, t, o) {
return s.create(o).compute(e, t);
};
var t, o, i, n, a, r, s;
return e.EvpKDF;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./sha1"), e("./hmac")) : "function" == typeof define && define.amd ? define([ "./core", "./sha1", "./hmac" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core",
"./hmac": "hmac",
"./sha1": "sha1"
} ],
exccmd5: [ function(e, t) {
"use strict";
cc._RF.push(t, "8c986bl7UhPe5AeI5ptW5eZ", "exccmd5");
var o = {
safeAdd: function(e, t) {
var o = (65535 & e) + (65535 & t);
return (e >> 16) + (t >> 16) + (o >> 16) << 16 | 65535 & o;
},
bitRotateLeft: function(e, t) {
return e << t | e >>> 32 - t;
},
md5cmn: function(e, t, o, i, n, a) {
return this.safeAdd(this.bitRotateLeft(this.safeAdd(this.safeAdd(t, e), this.safeAdd(i, a)), n), o);
},
md5ff: function(e, t, o, i, n, a, r) {
return this.md5cmn(t & o | ~t & i, e, t, n, a, r);
},
md5gg: function(e, t, o, i, n, a, r) {
return this.md5cmn(t & i | o & ~i, e, t, n, a, r);
},
md5hh: function(e, t, o, i, n, a, r) {
return this.md5cmn(t ^ o ^ i, e, t, n, a, r);
},
md5ii: function(e, t, o, i, n, a, r) {
return this.md5cmn(o ^ (t | ~i), e, t, n, a, r);
},
binlMD5: function(e, t) {
e[t >> 5] |= 128 << t % 32;
e[14 + (t + 64 >>> 9 << 4)] = t;
var o, i, n, a, r, s = 1732584193, c = -271733879, l = -1732584194, d = 271733878;
for (o = 0; o < e.length; o += 16) {
i = s;
n = c;
a = l;
r = d;
s = this.md5ff(s, c, l, d, e[o], 7, -680876936);
d = this.md5ff(d, s, c, l, e[o + 1], 12, -389564586);
l = this.md5ff(l, d, s, c, e[o + 2], 17, 606105819);
c = this.md5ff(c, l, d, s, e[o + 3], 22, -1044525330);
s = this.md5ff(s, c, l, d, e[o + 4], 7, -176418897);
d = this.md5ff(d, s, c, l, e[o + 5], 12, 1200080426);
l = this.md5ff(l, d, s, c, e[o + 6], 17, -1473231341);
c = this.md5ff(c, l, d, s, e[o + 7], 22, -45705983);
s = this.md5ff(s, c, l, d, e[o + 8], 7, 1770035416);
d = this.md5ff(d, s, c, l, e[o + 9], 12, -1958414417);
l = this.md5ff(l, d, s, c, e[o + 10], 17, -42063);
c = this.md5ff(c, l, d, s, e[o + 11], 22, -1990404162);
s = this.md5ff(s, c, l, d, e[o + 12], 7, 1804603682);
d = this.md5ff(d, s, c, l, e[o + 13], 12, -40341101);
l = this.md5ff(l, d, s, c, e[o + 14], 17, -1502002290);
c = this.md5ff(c, l, d, s, e[o + 15], 22, 1236535329);
s = this.md5gg(s, c, l, d, e[o + 1], 5, -165796510);
d = this.md5gg(d, s, c, l, e[o + 6], 9, -1069501632);
l = this.md5gg(l, d, s, c, e[o + 11], 14, 643717713);
c = this.md5gg(c, l, d, s, e[o], 20, -373897302);
s = this.md5gg(s, c, l, d, e[o + 5], 5, -701558691);
d = this.md5gg(d, s, c, l, e[o + 10], 9, 38016083);
l = this.md5gg(l, d, s, c, e[o + 15], 14, -660478335);
c = this.md5gg(c, l, d, s, e[o + 4], 20, -405537848);
s = this.md5gg(s, c, l, d, e[o + 9], 5, 568446438);
d = this.md5gg(d, s, c, l, e[o + 14], 9, -1019803690);
l = this.md5gg(l, d, s, c, e[o + 3], 14, -187363961);
c = this.md5gg(c, l, d, s, e[o + 8], 20, 1163531501);
s = this.md5gg(s, c, l, d, e[o + 13], 5, -1444681467);
d = this.md5gg(d, s, c, l, e[o + 2], 9, -51403784);
l = this.md5gg(l, d, s, c, e[o + 7], 14, 1735328473);
c = this.md5gg(c, l, d, s, e[o + 12], 20, -1926607734);
s = this.md5hh(s, c, l, d, e[o + 5], 4, -378558);
d = this.md5hh(d, s, c, l, e[o + 8], 11, -2022574463);
l = this.md5hh(l, d, s, c, e[o + 11], 16, 1839030562);
c = this.md5hh(c, l, d, s, e[o + 14], 23, -35309556);
s = this.md5hh(s, c, l, d, e[o + 1], 4, -1530992060);
d = this.md5hh(d, s, c, l, e[o + 4], 11, 1272893353);
l = this.md5hh(l, d, s, c, e[o + 7], 16, -155497632);
c = this.md5hh(c, l, d, s, e[o + 10], 23, -1094730640);
s = this.md5hh(s, c, l, d, e[o + 13], 4, 681279174);
d = this.md5hh(d, s, c, l, e[o], 11, -358537222);
l = this.md5hh(l, d, s, c, e[o + 3], 16, -722521979);
c = this.md5hh(c, l, d, s, e[o + 6], 23, 76029189);
s = this.md5hh(s, c, l, d, e[o + 9], 4, -640364487);
d = this.md5hh(d, s, c, l, e[o + 12], 11, -421815835);
l = this.md5hh(l, d, s, c, e[o + 15], 16, 530742520);
c = this.md5hh(c, l, d, s, e[o + 2], 23, -995338651);
s = this.md5ii(s, c, l, d, e[o], 6, -198630844);
d = this.md5ii(d, s, c, l, e[o + 7], 10, 1126891415);
l = this.md5ii(l, d, s, c, e[o + 14], 15, -1416354905);
c = this.md5ii(c, l, d, s, e[o + 5], 21, -57434055);
s = this.md5ii(s, c, l, d, e[o + 12], 6, 1700485571);
d = this.md5ii(d, s, c, l, e[o + 3], 10, -1894986606);
l = this.md5ii(l, d, s, c, e[o + 10], 15, -1051523);
c = this.md5ii(c, l, d, s, e[o + 1], 21, -2054922799);
s = this.md5ii(s, c, l, d, e[o + 8], 6, 1873313359);
d = this.md5ii(d, s, c, l, e[o + 15], 10, -30611744);
l = this.md5ii(l, d, s, c, e[o + 6], 15, -1560198380);
c = this.md5ii(c, l, d, s, e[o + 13], 21, 1309151649);
s = this.md5ii(s, c, l, d, e[o + 4], 6, -145523070);
d = this.md5ii(d, s, c, l, e[o + 11], 10, -1120210379);
l = this.md5ii(l, d, s, c, e[o + 2], 15, 718787259);
c = this.md5ii(c, l, d, s, e[o + 9], 21, -343485551);
s = this.safeAdd(s, i);
c = this.safeAdd(c, n);
l = this.safeAdd(l, a);
d = this.safeAdd(d, r);
}
return [ s, c, l, d ];
},
binl2rstr: function(e) {
var t, o = "", i = 32 * e.length;
for (t = 0; t < i; t += 8) o += String.fromCharCode(e[t >> 5] >>> t % 32 & 255);
return o;
},
rstr2binl: function(e) {
var t, o = [];
o[(e.length >> 2) - 1] = void 0;
for (t = 0; t < o.length; t += 1) o[t] = 0;
var i = 8 * e.length;
for (t = 0; t < i; t += 8) o[t >> 5] |= (255 & e.charCodeAt(t / 8)) << t % 32;
return o;
},
rstrMD5: function(e) {
return this.binl2rstr(this.binlMD5(this.rstr2binl(e), 8 * e.length));
},
rstrHMACMD5: function(e, t) {
var o, i, n = rstr2binl(e), a = [], r = [];
a[15] = r[15] = void 0;
n.length > 16 && (n = binlMD5(n, 8 * e.length));
for (o = 0; o < 16; o += 1) {
a[o] = 909522486 ^ n[o];
r[o] = 1549556828 ^ n[o];
}
i = binlMD5(a.concat(rstr2binl(t)), 512 + 8 * t.length);
return binl2rstr(binlMD5(r.concat(i), 640));
},
rstr2hex: function(e) {
var t, o, i = "";
for (o = 0; o < e.length; o += 1) {
t = e.charCodeAt(o);
i += "0123456789abcdef".charAt(t >>> 4 & 15) + "0123456789abcdef".charAt(15 & t);
}
return i;
},
str2rstrUTF8: function(e) {
return unescape(encodeURIComponent(e));
},
rawMD5: function(e) {
return this.rstrMD5(this.str2rstrUTF8(e));
},
hexMD5: function(e) {
return this.rstr2hex(this.rawMD5(e));
},
rawHMACMD5: function(e, t) {
return this.rstrHMACMD5(this.str2rstrUTF8(e), this.str2rstrUTF8(t));
},
hexHMACMD5: function(e, t) {
return this.rstr2hex(this.rawHMACMD5(e, t));
},
md5: function(e, t, o) {
return t ? o ? this.rawHMACMD5(t, e) : this.hexHMACMD5(t, e) : o ? this.rawMD5(e) : this.hexMD5(e);
}
};
t.exports = o;
cc._RF.pop();
}, {} ],
exmd5: [ function(e, t) {
"use strict";
cc._RF.push(t, "88f66BHO4ZH6J45AFQk459v", "exmd5");
var o = {
safeAdd: function(e, t) {
var o = (65535 & e) + (65535 & t);
return (e >> 16) + (t >> 16) + (o >> 16) << 16 | 65535 & o;
},
bitRotateLeft: function(e, t) {
return e << t | e >>> 32 - t;
},
md5cmn: function(e, t, o, i, n, a) {
return this.safeAdd(this.bitRotateLeft(this.safeAdd(this.safeAdd(t, e), this.safeAdd(i, a)), n), o);
},
md5ff: function(e, t, o, i, n, a, r) {
return this.md5cmn(t & o | ~t & i, e, t, n, a, r);
},
md5gg: function(e, t, o, i, n, a, r) {
return this.md5cmn(t & i | o & ~i, e, t, n, a, r);
},
md5hh: function(e, t, o, i, n, a, r) {
return this.md5cmn(t ^ o ^ i, e, t, n, a, r);
},
md5ii: function(e, t, o, i, n, a, r) {
return this.md5cmn(o ^ (t | ~i), e, t, n, a, r);
},
binlMD5: function(e, t) {
e[t >> 5] |= 128 << t % 32;
e[14 + (t + 64 >>> 9 << 4)] = t;
var o, i, n, a, r, s = 1732584193, c = -271733879, l = -1732584194, d = 271733878;
for (o = 0; o < e.length; o += 16) {
i = s;
n = c;
a = l;
r = d;
s = this.md5ff(s, c, l, d, e[o], 7, -680876936);
d = this.md5ff(d, s, c, l, e[o + 1], 12, -389564586);
l = this.md5ff(l, d, s, c, e[o + 2], 17, 606105819);
c = this.md5ff(c, l, d, s, e[o + 3], 22, -1044525330);
s = this.md5ff(s, c, l, d, e[o + 4], 7, -176418897);
d = this.md5ff(d, s, c, l, e[o + 5], 12, 1200080426);
l = this.md5ff(l, d, s, c, e[o + 6], 17, -1473231341);
c = this.md5ff(c, l, d, s, e[o + 7], 22, -45705983);
s = this.md5ff(s, c, l, d, e[o + 8], 7, 1770035416);
d = this.md5ff(d, s, c, l, e[o + 9], 12, -1958414417);
l = this.md5ff(l, d, s, c, e[o + 10], 17, -42063);
c = this.md5ff(c, l, d, s, e[o + 11], 22, -1990404162);
s = this.md5ff(s, c, l, d, e[o + 12], 7, 1804603682);
d = this.md5ff(d, s, c, l, e[o + 13], 12, -40341101);
l = this.md5ff(l, d, s, c, e[o + 14], 17, -1502002290);
c = this.md5ff(c, l, d, s, e[o + 15], 22, 1236535329);
s = this.md5gg(s, c, l, d, e[o + 1], 5, -165796510);
d = this.md5gg(d, s, c, l, e[o + 6], 9, -1069501632);
l = this.md5gg(l, d, s, c, e[o + 11], 14, 643717713);
c = this.md5gg(c, l, d, s, e[o], 20, -373897302);
s = this.md5gg(s, c, l, d, e[o + 5], 5, -701558691);
d = this.md5gg(d, s, c, l, e[o + 10], 9, 38016083);
l = this.md5gg(l, d, s, c, e[o + 15], 14, -660478335);
c = this.md5gg(c, l, d, s, e[o + 4], 20, -405537848);
s = this.md5gg(s, c, l, d, e[o + 9], 5, 568446438);
d = this.md5gg(d, s, c, l, e[o + 14], 9, -1019803690);
l = this.md5gg(l, d, s, c, e[o + 3], 14, -187363961);
c = this.md5gg(c, l, d, s, e[o + 8], 20, 1163531501);
s = this.md5gg(s, c, l, d, e[o + 13], 5, -1444681467);
d = this.md5gg(d, s, c, l, e[o + 2], 9, -51403784);
l = this.md5gg(l, d, s, c, e[o + 7], 14, 1735328473);
c = this.md5gg(c, l, d, s, e[o + 12], 20, -1926607734);
s = this.md5hh(s, c, l, d, e[o + 5], 4, -378558);
d = this.md5hh(d, s, c, l, e[o + 8], 11, -2022574463);
l = this.md5hh(l, d, s, c, e[o + 11], 16, 1839030562);
c = this.md5hh(c, l, d, s, e[o + 14], 23, -35309556);
s = this.md5hh(s, c, l, d, e[o + 1], 4, -1530992060);
d = this.md5hh(d, s, c, l, e[o + 4], 11, 1272893353);
l = this.md5hh(l, d, s, c, e[o + 7], 16, -155497632);
c = this.md5hh(c, l, d, s, e[o + 10], 23, -1094730640);
s = this.md5hh(s, c, l, d, e[o + 13], 4, 681279174);
d = this.md5hh(d, s, c, l, e[o], 11, -358537222);
l = this.md5hh(l, d, s, c, e[o + 3], 16, -722521979);
c = this.md5hh(c, l, d, s, e[o + 6], 23, 76029189);
s = this.md5hh(s, c, l, d, e[o + 9], 4, -640364487);
d = this.md5hh(d, s, c, l, e[o + 12], 11, -421815835);
l = this.md5hh(l, d, s, c, e[o + 15], 16, 530742520);
c = this.md5hh(c, l, d, s, e[o + 2], 23, -995338651);
s = this.md5ii(s, c, l, d, e[o], 6, -198630844);
d = this.md5ii(d, s, c, l, e[o + 7], 10, 1126891415);
l = this.md5ii(l, d, s, c, e[o + 14], 15, -1416354905);
c = this.md5ii(c, l, d, s, e[o + 5], 21, -57434055);
s = this.md5ii(s, c, l, d, e[o + 12], 6, 1700485571);
d = this.md5ii(d, s, c, l, e[o + 3], 10, -1894986606);
l = this.md5ii(l, d, s, c, e[o + 10], 15, -1051523);
c = this.md5ii(c, l, d, s, e[o + 1], 21, -2054922799);
s = this.md5ii(s, c, l, d, e[o + 8], 6, 1873313359);
d = this.md5ii(d, s, c, l, e[o + 15], 10, -30611744);
l = this.md5ii(l, d, s, c, e[o + 6], 15, -1560198380);
c = this.md5ii(c, l, d, s, e[o + 13], 21, 1309151649);
s = this.md5ii(s, c, l, d, e[o + 4], 6, -145523070);
d = this.md5ii(d, s, c, l, e[o + 11], 10, -1120210379);
l = this.md5ii(l, d, s, c, e[o + 2], 15, 718787259);
c = this.md5ii(c, l, d, s, e[o + 9], 21, -343485551);
s = this.safeAdd(s, i);
c = this.safeAdd(c, n);
l = this.safeAdd(l, a);
d = this.safeAdd(d, r);
}
return [ s, c, l, d ];
},
binl2rstr: function(e) {
var t, o = "", i = 32 * e.length;
for (t = 0; t < i; t += 8) o += String.fromCharCode(e[t >> 5] >>> t % 32 & 255);
return o;
},
rstr2binl: function(e) {
var t, o = [];
o[(e.length >> 2) - 1] = void 0;
for (t = 0; t < o.length; t += 1) o[t] = 0;
var i = 8 * e.length;
for (t = 0; t < i; t += 8) o[t >> 5] |= (255 & e.charCodeAt(t / 8)) << t % 32;
return o;
},
rstrMD5: function(e) {
return this.binl2rstr(this.binlMD5(this.rstr2binl(e), 8 * e.length));
},
rstrHMACMD5: function(e, t) {
var o, i, n = rstr2binl(e), a = [], r = [];
a[15] = r[15] = void 0;
n.length > 16 && (n = binlMD5(n, 8 * e.length));
for (o = 0; o < 16; o += 1) {
a[o] = 909522486 ^ n[o];
r[o] = 1549556828 ^ n[o];
}
i = binlMD5(a.concat(rstr2binl(t)), 512 + 8 * t.length);
return binl2rstr(binlMD5(r.concat(i), 640));
},
rstr2hex: function(e) {
var t, o, i = "";
for (o = 0; o < e.length; o += 1) {
t = e.charCodeAt(o);
i += "0123456789abcdef".charAt(t >>> 4 & 15) + "0123456789abcdef".charAt(15 & t);
}
return i;
},
str2rstrUTF8: function(e) {
return unescape(encodeURIComponent(e));
},
rawMD5: function(e) {
return this.rstrMD5(this.str2rstrUTF8(e));
},
hexMD5: function(e) {
return this.rstr2hex(this.rawMD5(e));
},
rawHMACMD5: function(e, t) {
return this.rstrHMACMD5(this.str2rstrUTF8(e), this.str2rstrUTF8(t));
},
hexHMACMD5: function(e, t) {
return this.rstr2hex(this.rawHMACMD5(e, t));
},
md5: function(e, t, o) {
return t ? o ? this.rawHMACMD5(t, e) : this.hexHMACMD5(t, e) : o ? this.rawMD5(e) : this.hexMD5(e);
}
};
t.exports = o;
cc._RF.pop();
}, {} ],
"format-hex": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "39c80WO3/RLAoKpj3oOi0cW", "format-hex");
i = function(e) {
o = (t = e).lib.CipherParams, i = t.enc.Hex, t.format.Hex = {
stringify: function(e) {
return e.ciphertext.toString(i);
},
parse: function(e) {
var t = i.parse(e);
return o.create({
ciphertext: t
});
}
};
var t, o, i;
return e.format.Hex;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./cipher-core")) : "function" == typeof define && define.amd ? define([ "./core", "./cipher-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./cipher-core": "cipher-core",
"./core": "core"
} ],
"format-openssl": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "65812lEIhpDNKzH+QD+kFLN", "format-openssl");
i = function(e) {
return e.format.OpenSSL;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./cipher-core")) : "function" == typeof define && define.amd ? define([ "./core", "./cipher-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./cipher-core": "cipher-core",
"./core": "core"
} ],
happyGameHttp: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e30ddC5UPFAib7tXbCCNU+e", "happyGameHttp");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc._decorator, r = (a.ccclass, a.property, e("../public/MyComponent/GameEvent")), s = e("../data/conf/GameConfig"), c = e("../data/conf/GameInfo"), l = e("../data/MyData"), d = e("../public/MyComponent/GameHppayUtil"), h = e("../public/ThirdParty/ccmd5"), u = e("../login/GamePreLoader"), p = e("../manager/PlatformInterface"), f = function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.httpGet = function(e, t) {
console.log("url get = ", e);
var o = cc.loader.getXMLHttpRequest();
o.onreadystatechange = function() {
console.log("Get: readyState:" + o.readyState + " status:" + o.status);
console.log("xhr = ", o);
if (4 === o.readyState && 200 == o.status) {
var e = o.responseText, i = JSON.parse(e);
t(i);
} else 4 === o.readyState && 401 == o.status && t({
ret: 1
});
};
o.open("GET", e, !0);
o.setRequestHeader("Content-Type", "application/json");
o.timeout = 8e3;
o.send();
};
t.prototype.httpPost = function(e, t, o, i, n) {
var a = cc.loader.getXMLHttpRequest();
a.onreadystatechange = function() {
if (d.default.isnull(a) && d.default.isnull(a.readyState)) if (4 === a.readyState && 200 == a.status) {
var e = a.responseText, t = JSON.parse(e);
o(t);
r.GameEvent.ins().emit("ON_HTTP_POST_SUCCESS");
} else if (4 === a.readyState) {
e = a.responseText, t = JSON.parse(e);
i && i(t);
r.GameEvent.ins().emit("ON_HTTP_POST_FAILED");
}
};
var u = {};
u.gameid = c.default.gameid;
u.appid = c.default.appid;
u.ver = c.default.ver;
u.hver = c.default.hver;
u.devId = c.default.devId;
u.locale = c.default.localLanguage;
u.lan = c.default.sourceLanguage;
u.stl = c.default.stl;
null != l.default.UserData.ukey && (u.ukey = l.default.UserData.ukey);
null != l.default.UserData.userId && (u.uid = l.default.UserData.userId);
u = Object.assign(u, t);
var p = Object.keys(u);
p.sort();
for (var f = "", m = 0; m < p.length; m++) {
var g = u[b = p[m]];
m >= p.length - 1 ? f += b + "=" + g : f += b + "=" + g + "&";
}
f += "7b3ba41e71352703";
console.log("param5 = ", f);
u.sign = h.md5(f);
console.log("signparam5 = ", u.sign);
var y = "v" + c.default.version + "/";
0 == n && (y = "");
var _ = s.default.phpUrl + y + e;
a.open("POST", _, !0);
a.setRequestHeader("Content-Type", "application/json");
a.timeout = 8e3;
this.encodeFormDatatt(u);
a.send(JSON.stringify(u));
var C = "";
for (var b in u) C += b + "=" + u[b] + "&";
console.log("PHP", _ + "?" + C);
a.ontimeout = function() {
console.log("");
r.GameEvent.ins().emit("PHP_TIME_OUT");
};
a.onerror = function() {
console.log("");
r.GameEvent.ins().emit("PHP_REQUEST_ERROR");
};
};
t.prototype.getUrlWithParams = function(e, t) {
var o = {};
o.gameid = c.default.gameid;
o.appid = c.default.appid;
o.ver = c.default.ver;
o.hver = c.default.hver;
o.devId = c.default.devId;
o.locale = c.default.localLanguage;
o.ukey = l.default.UserData.ukey;
o.uid = l.default.UserData.userId;
o.width = cc.winSize.width;
o.height = cc.winSize.height;
o = Object.assign(o, t);
var i = Object.keys(o);
i.sort();
for (var n = "", a = 0; a < i.length; a++) {
var r = i[a], s = o[r];
a >= i.length - 1 ? n += r + "=" + s : n += r + "=" + s + "&";
}
n += "7b3ba41e71352703";
console.log("param5 = ", n);
o.sign = h.md5(n);
console.log("signparam5 = ", o.sign);
};
t.prototype.encodeFormDatatt = function(e) {
var t = [];
for (var o in e) {
var i;
i = null == e[o] || null == e[o] ? "" : e[o].toString();
var n = encodeURIComponent(o) + "=" + i;
t.push(n);
}
return t;
};
t.prototype.encodeFormData = function(e) {
var t = [];
for (var o in e) {
var i;
i = null == e[o] || null == e[o] ? "" : e[o].toString();
var n = encodeURIComponent(o) + "=" + i;
t.push(n);
}
return t.join("&");
};
t.prototype.handleHomeData = function(e) {
p.default.setAFCUID(l.default.UserData.userId);
l.default.UserData.server = e.svr;
l.default.UserData.conf = e.conf;
l.default.UserData.firstStrike = e.firstStrike;
l.default.hallData.feedback = e.feedback;
l.default.hallData.isDownLoadedApp = e.isDownLoadApp;
l.default.hallData.activityData = e.activitys || [];
l.default.hallData.newActiviys = e.hall_atlas || [];
l.default.hallData.kickbackDescImage = e.rebate2 || "";
console.log("GameData.hallData.activityData = " + l.default.hallData.activityData.length);
console.log("GameData.hallData.newActiviys = " + l.default.hallData.newActiviys.length);
u.default.preLoadActivity(l.default.hallData.activityData);
u.default.preLoadNewActivity(l.default.hallData.newActiviys);
u.default.preLoadKickbackDescImage(l.default.hallData.kickbackDescImage);
console.log(e, l.default.UserData.firstStrike);
l.default.UserData.vipLevel = e.vip_level;
};
return t;
}(cc.Component);
o.default = f;
cc._RF.pop();
}, {
"../data/MyData": "MyData",
"../data/conf/GameConfig": "GameConfig",
"../data/conf/GameInfo": "GameInfo",
"../login/GamePreLoader": "GamePreLoader",
"../manager/PlatformInterface": "PlatformInterface",
"../public/MyComponent/GameEvent": "GameEvent",
"../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../public/ThirdParty/ccmd5": "ccmd5"
} ],
happyListItem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1c2e1KDpH1Kuakj9Lj8cA+0", "happyListItem");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r, s = cc._decorator, c = s.ccclass, l = s.property, d = s.disallowMultiple, h = s.menu, u = s.executionOrder;
(function(e) {
e[e.NONE = 0] = "NONE";
e[e.TOGGLE = 1] = "TOGGLE";
e[e.SWITCH = 2] = "SWITCH";
})(r || (r = {}));
var p = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.icon = null;
t.title = null;
t.selectedMode = r.NONE;
t.selectedFlag = null;
t.selectedSpriteFrame = null;
t._unselectedSpriteFrame = null;
t.adaptiveSize = !1;
t._selected = !1;
t._eventReg = !1;
return t;
}
Object.defineProperty(t.prototype, "selected", {
get: function() {
return this._selected;
},
set: function(e) {
this._selected = e;
if (this.selectedFlag) switch (this.selectedMode) {
case r.TOGGLE:
this.selectedFlag.active = e;
break;

case r.SWITCH:
var t = this.selectedFlag.getComponent(cc.Sprite);
t && (t.spriteFrame = e ? this.selectedSpriteFrame : this._unselectedSpriteFrame);
}
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "btnCom", {
get: function() {
this._btnCom || (this._btnCom = this.node.getComponent(cc.Button));
return this._btnCom;
},
enumerable: !1,
configurable: !0
});
t.prototype.onLoad = function() {
if (this.selectedMode == r.SWITCH) {
var e = this.selectedFlag.getComponent(cc.Sprite);
this._unselectedSpriteFrame = e.spriteFrame;
}
};
t.prototype.createEvt = function(e, t, o) {
void 0 === o && (o = null);
if (e.isValid) {
e.comName = e.comName || e.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g, "");
var i = new cc.Component.EventHandler();
i.target = o || e.node;
i.component = e.comName;
i.handler = t;
return i;
}
};
t.prototype._registerEvent = function() {
if (!this._eventReg) {
this.btnCom && this.list.selectedMode > 0 && this.btnCom.clickEvents.unshift(this.createEvt(this, "onClickThis"));
this.adaptiveSize && this.node.on(cc.Node.EventType.SIZE_CHANGED, this._onSizeChange, this);
this._eventReg = !0;
}
};
t.prototype._onSizeChange = function() {
this.list._onItemAdaptive(this.node);
};
t.prototype.showAni = function(e, t, o) {
var i, n = this;
switch (e) {
case 0:
i = [ cc.scaleTo(.2, .7), cc.moveBy(.3, 0, 2 * this.node.height) ];
break;

case 1:
i = [ cc.scaleTo(.2, .7), cc.moveBy(.3, 2 * this.node.width, 0) ];
break;

case 2:
i = [ cc.scaleTo(.2, .7), cc.moveBy(.3, 0, -2 * this.node.height) ];
break;

case 3:
i = [ cc.scaleTo(.2, .7), cc.moveBy(.3, -2 * this.node.width, 0) ];
break;

default:
i = [ cc.scaleTo(.3, .1) ];
}
(t || o) && i.push(cc.callFunc(function() {
if (o) {
n.list._delSingleItem(n.node);
for (var e = n.list.displayData.length - 1; e >= 0; e--) if (n.list.displayData[e].id == n.listId) {
n.list.displayData.splice(e, 1);
break;
}
}
t();
}));
this.node.runAction(cc.sequence(i));
};
t.prototype.onClickThis = function() {
this.list.selectedId = this.listId;
};
t.prototype.onDestroy = function() {
this.node.off(cc.Node.EventType.SIZE_CHANGED, this._onSizeChange, this);
};
a([ l({
type: cc.Sprite,
tooltip: !1
}) ], t.prototype, "icon", void 0);
a([ l({
type: cc.Node,
tooltip: !1
}) ], t.prototype, "title", void 0);
a([ l({
type: cc.Enum(r),
tooltip: !1
}) ], t.prototype, "selectedMode", void 0);
a([ l({
type: cc.Node,
tooltip: !1,
visible: function() {
return this.selectedMode > r.NONE;
}
}) ], t.prototype, "selectedFlag", void 0);
a([ l({
type: cc.SpriteFrame,
tooltip: !1,
visible: function() {
return this.selectedMode == r.SWITCH;
}
}) ], t.prototype, "selectedSpriteFrame", void 0);
a([ l({
tooltip: !1
}) ], t.prototype, "adaptiveSize", void 0);
return a([ c, d(), h("/happyList Item"), u(-5001) ], t);
}(cc.Component);
o.default = p;
cc._RF.pop();
}, {} ],
happyList: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "fa199RucaBMtq/5xq2xQp6k", "happyList");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r, s, c, l = cc._decorator, d = l.ccclass, h = l.property, u = l.disallowMultiple, p = l.menu, f = l.executionOrder, m = l.requireComponent, g = e("./happyListItem");
(function(e) {
e[e.NONE = 0] = "NONE";
e[e.SINGLE = 1] = "SINGLE";
e[e.MULT = 2] = "MULT";
})(r || (r = {}));
(function(e) {
e[e.NODE = 1] = "NODE";
e[e.PREFAB = 2] = "PREFAB";
})(s || (s = {}));
(function(e) {
e[e.NORMAL = 1] = "NORMAL";
e[e.ADHERING = 2] = "ADHERING";
e[e.PAGE = 3] = "PAGE";
})(c || (c = {}));
var y = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.templateType = s.NODE;
t.tmpNode = null;
t.tmpPrefab = null;
t._slideMode = c.NORMAL;
t.pageDistance = .3;
t.pageChangeEvent = new cc.Component.EventHandler();
t._virtual = !0;
t.cyclic = !1;
t.lackCenter = !1;
t.lackSlide = !1;
t._updateRate = 0;
t.frameByFrameRenderNum = 0;
t.renderEvent = new cc.Component.EventHandler();
t.selectedMode = r.NONE;
t.repeatEventSingle = !1;
t.selectedEvent = null;
t._selectedId = -1;
t._doneUpdate = !0;
t._updateEnabled = !0;
t._updateForce = !1;
t._numItems = 0;
t._inited = !1;
t._needUpdateWidget = !1;
t._aniDelRuning = !1;
t._doneAfterUpdate = !1;
t.adhering = !1;
t._adheringBarrier = !1;
t.curPageNum = 0;
return t;
}
Object.defineProperty(t.prototype, "slideMode", {
get: function() {
return this._slideMode;
},
set: function(e) {
this._slideMode = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "virtual", {
get: function() {
return this._virtual;
},
set: function(e) {
null != e && (this._virtual = e);
0 != this._numItems && this._onScrolling();
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "updateRate", {
get: function() {
return this._updateRate;
},
set: function(e) {
e >= 0 && e <= 6 && (this._updateRate = e);
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "selectedId", {
get: function() {
return this._selectedId;
},
set: function(e) {
var t, o = this;
switch (o.selectedMode) {
case r.SINGLE:
if (!o.repeatEventSingle && e == o._selectedId) return;
t = o.getItemByListId(e);
var i = void 0;
o._selectedId >= 0 ? o._lastSelectedId = o._selectedId : o._lastSelectedId = null;
o._selectedId = e;
t && ((i = t.getComponent(g.default)).selected = !0);
if (o._lastSelectedId >= 0 && o._lastSelectedId != o._selectedId) {
var n = o.getItemByListId(o._lastSelectedId);
n && (n.getComponent(g.default).selected = !1);
}
o.selectedEvent && cc.Component.EventHandler.emitEvents([ o.selectedEvent ], t, e % this._actualNumItems, null == o._lastSelectedId ? null : o._lastSelectedId % this._actualNumItems);
break;

case r.MULT:
if (!(t = o.getItemByListId(e))) return;
i = t.getComponent(g.default);
o._selectedId >= 0 && (o._lastSelectedId = o._selectedId);
o._selectedId = e;
var a = !i.selected;
i.selected = a;
var s = o.multSelected.indexOf(e);
a && s < 0 ? o.multSelected.push(e) : !a && s >= 0 && o.multSelected.splice(s, 1);
o.selectedEvent && cc.Component.EventHandler.emitEvents([ o.selectedEvent ], t, e % this._actualNumItems, null == o._lastSelectedId ? null : o._lastSelectedId % this._actualNumItems, a);
}
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "numItems", {
get: function() {
return this._actualNumItems;
},
set: function(e) {
var t = this;
if (t.checkInited(!1)) if (null == e || e < 0) cc.error("numItems set the wrong::", e); else {
t._actualNumItems = t._numItems = e;
t._updateForce = !0;
if (t._virtual) {
t._resizeContent();
t.cyclic && (t._numItems = t._Numcyclic * t._numItems);
t._onScrolling();
t.frameByFrameRenderNum || t.slideMode != c.PAGE || (t.curPageNum = t.nearestListId);
} else {
var o = t.content.getComponent(cc.Layout);
o && (o.enabled = !0);
t._delRedundantItem();
t.firstListId = 0;
if (t.frameByFrameRenderNum > 0) {
for (var i = t.frameByFrameRenderNum > t._numItems ? t._numItems : t.frameByFrameRenderNum, n = 0; n < i; n++) t._createOrUpdateItem2(n);
if (t.frameByFrameRenderNum < t._numItems) {
t._counterUpdate = t.frameByFrameRenderNum;
t._doneUpdate = !1;
}
} else {
for (n = 0; n < e; n++) t._createOrUpdateItem2(n);
t.displayItemNum = e;
}
}
}
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "scrollView", {
get: function() {
return this._scrollView;
},
enumerable: !1,
configurable: !0
});
t.prototype.onLoad = function() {
this._init();
};
t.prototype.onDestroy = function() {
var e = this;
e._itemTmp && e._itemTmp.isValid && e._itemTmp.destroy();
e.tmpNode && e.tmpNode.isValid && e.tmpNode.destroy();
for (;e._pool.size(); ) e._pool.get().destroy();
};
t.prototype.onEnable = function() {
this._registerEvent();
this._init();
};
t.prototype.onDisable = function() {
this._unregisterEvent();
};
t.prototype._registerEvent = function() {
var e = this;
e.node.on(cc.Node.EventType.TOUCH_START, e._onTouchStart, e, !0);
e.node.on("touch-up", e._onTouchUp, e);
e.node.on(cc.Node.EventType.TOUCH_CANCEL, e._onTouchCancelled, e, !0);
e.node.on("scroll-began", e._onScrollBegan, e, !0);
e.node.on("scroll-ended", e._onScrollEnded, e, !0);
e.node.on("scrolling", e._onScrolling, e, !0);
e.node.on(cc.Node.EventType.SIZE_CHANGED, e._onSizeChanged, e);
};
t.prototype._unregisterEvent = function() {
var e = this;
e.node.off(cc.Node.EventType.TOUCH_START, e._onTouchStart, e, !0);
e.node.off("touch-up", e._onTouchUp, e);
e.node.off(cc.Node.EventType.TOUCH_CANCEL, e._onTouchCancelled, e, !0);
e.node.off("scroll-began", e._onScrollBegan, e, !0);
e.node.off("scroll-ended", e._onScrollEnded, e, !0);
e.node.off("scrolling", e._onScrolling, e, !0);
e.node.off(cc.Node.EventType.SIZE_CHANGED, e._onSizeChanged, e);
};
t.prototype._init = function() {
var e = this;
if (!e._inited) {
e._scrollView = e.node.getComponent(cc.ScrollView);
e.content = e._scrollView.content;
if (e.content) {
e._layout = e.content.getComponent(cc.Layout);
e._align = e._layout.type;
e._resizeMode = e._layout.resizeMode;
e._startAxis = e._layout.startAxis;
e._topGap = e._layout.paddingTop;
e._rightGap = e._layout.paddingRight;
e._bottomGap = e._layout.paddingBottom;
e._leftGap = e._layout.paddingLeft;
e._columnGap = e._layout.spacingX;
e._lineGap = e._layout.spacingY;
e._colLineNum;
e._verticalDir = e._layout.verticalDirection;
e._horizontalDir = e._layout.horizontalDirection;
e.setTemplateItem(cc.instantiate(e.templateType == s.PREFAB ? e.tmpPrefab : e.tmpNode));
if (e._slideMode == c.ADHERING || e._slideMode == c.PAGE) {
e._scrollView.inertia = !1;
e._scrollView._onMouseWheel = function() {};
}
e.virtual || (e.lackCenter = !1);
e._lastDisplayData = [];
e.displayData = [];
e._pool = new cc.NodePool();
e._forceUpdate = !1;
e._updateCounter = 0;
e._updateDone = !0;
e.curPageNum = 0;
if (e.cyclic) {
e._scrollView._processAutoScrolling = this._processAutoScrolling.bind(e);
e._scrollView._startBounceBackIfNeeded = function() {
return !1;
};
}
switch (e._align) {
case cc.Layout.Type.HORIZONTAL:
switch (e._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
e._alignCalcType = 1;
break;

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
e._alignCalcType = 2;
}
break;

case cc.Layout.Type.VERTICAL:
switch (e._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
e._alignCalcType = 3;
break;

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
e._alignCalcType = 4;
}
break;

case cc.Layout.Type.GRID:
switch (e._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
switch (e._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
e._alignCalcType = 3;
break;

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
e._alignCalcType = 4;
}
break;

case cc.Layout.AxisDirection.VERTICAL:
switch (e._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
e._alignCalcType = 1;
break;

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
e._alignCalcType = 2;
}
}
}
e.content.removeAllChildren();
e._inited = !0;
} else cc.error(e.node.name + "'s cc.ScrollView unset content!");
}
};
t.prototype._processAutoScrolling = function(e) {
this._scrollView._autoScrollAccumulatedTime += 1 * e;
var t = Math.min(1, this._scrollView._autoScrollAccumulatedTime / this._scrollView._autoScrollTotalTime);
if (this._scrollView._autoScrollAttenuate) {
var o = t - 1;
t = o * o * o * o * o + 1;
}
var i = this._scrollView._autoScrollStartPosition.add(this._scrollView._autoScrollTargetDelta.mul(t)), n = this._scrollView.getScrollEndedEventTiming(), a = Math.abs(t - 1) <= n;
if (Math.abs(t - 1) <= this._scrollView.getScrollEndedEventTiming() && !this._scrollView._isScrollEndedWithThresholdEventFired) {
this._scrollView._dispatchEvent("scroll-ended-with-threshold");
this._scrollView._isScrollEndedWithThresholdEventFired = !0;
}
a && (this._scrollView._autoScrolling = !1);
var r = i.sub(this._scrollView.getContentPosition());
this._scrollView._moveContent(this._scrollView._clampDelta(r), a);
this._scrollView._dispatchEvent("scrolling");
if (!this._scrollView._autoScrolling) {
this._scrollView._isBouncing = !1;
this._scrollView._scrolling = !1;
this._scrollView._dispatchEvent("scroll-ended");
}
};
t.prototype.setTemplateItem = function(e) {
if (e) {
var t = this;
t._itemTmp = e;
t._resizeMode == cc.Layout.ResizeMode.CHILDREN ? t._itemSize = t._layout.cellSize : t._itemSize = cc.size(e.width, e.height);
var o = e.getComponent(g.default), i = !1;
o || (i = !0);
i && (t.selectedMode = r.NONE);
(o = e.getComponent(cc.Widget)) && o.enabled && (t._needUpdateWidget = !0);
t.selectedMode == r.MULT && (t.multSelected = []);
switch (t._align) {
case cc.Layout.Type.HORIZONTAL:
t._colLineNum = 1;
t._sizeType = !1;
break;

case cc.Layout.Type.VERTICAL:
t._colLineNum = 1;
t._sizeType = !0;
break;

case cc.Layout.Type.GRID:
switch (t._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
var n = t.content.width - t._leftGap - t._rightGap;
t._colLineNum = Math.floor((n + t._columnGap) / (t._itemSize.width + t._columnGap));
t._sizeType = !0;
break;

case cc.Layout.AxisDirection.VERTICAL:
var a = t.content.height - t._topGap - t._bottomGap;
t._colLineNum = Math.floor((a + t._lineGap) / (t._itemSize.height + t._lineGap));
t._sizeType = !1;
}
}
}
};
t.prototype.checkInited = function(e) {
void 0 === e && (e = !0);
if (!this._inited) {
e && cc.error("List initialization not completed!");
return !1;
}
return !0;
};
t.prototype._resizeContent = function() {
var e, t = this;
switch (t._align) {
case cc.Layout.Type.HORIZONTAL:
if (t._customSize) {
var o = t._getFixedSize(null);
e = t._leftGap + o.val + t._itemSize.width * (t._numItems - o.count) + t._columnGap * (t._numItems - 1) + t._rightGap;
} else e = t._leftGap + t._itemSize.width * t._numItems + t._columnGap * (t._numItems - 1) + t._rightGap;
break;

case cc.Layout.Type.VERTICAL:
if (t._customSize) {
o = t._getFixedSize(null);
e = t._topGap + o.val + t._itemSize.height * (t._numItems - o.count) + t._lineGap * (t._numItems - 1) + t._bottomGap;
} else e = t._topGap + t._itemSize.height * t._numItems + t._lineGap * (t._numItems - 1) + t._bottomGap;
break;

case cc.Layout.Type.GRID:
t.lackCenter && (t.lackCenter = !1);
switch (t._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
var i = Math.ceil(t._numItems / t._colLineNum);
e = t._topGap + t._itemSize.height * i + t._lineGap * (i - 1) + t._bottomGap;
break;

case cc.Layout.AxisDirection.VERTICAL:
var n = Math.ceil(t._numItems / t._colLineNum);
e = t._leftGap + t._itemSize.width * n + t._columnGap * (n - 1) + t._rightGap;
}
}
var a = t.content.getComponent(cc.Layout);
a && (a.enabled = !1);
t._allItemSize = e;
t._allItemSizeNoEdge = t._allItemSize - (t._sizeType ? t._topGap + t._bottomGap : t._leftGap + t._rightGap);
if (t.cyclic) {
var r = t._sizeType ? t.node.height : t.node.width;
t._cyclicPos1 = 0;
r -= t._cyclicPos1;
t._cyclicNum = Math.ceil(r / t._allItemSizeNoEdge) + 1;
var s = t._sizeType ? t._lineGap : t._columnGap;
t._cyclicPos2 = t._cyclicPos1 + t._allItemSizeNoEdge + s;
t._cyclicAllItemSize = t._allItemSize + t._allItemSizeNoEdge * (t._cyclicNum - 1) + s * (t._cyclicNum - 1);
t._cycilcAllItemSizeNoEdge = t._allItemSizeNoEdge * t._cyclicNum;
t._cycilcAllItemSizeNoEdge += s * (t._cyclicNum - 1);
}
t._lack = !t.cyclic && t._allItemSize < (t._sizeType ? t.node.height : t.node.width);
var c = t._lack && t.lackCenter || !t.lackSlide ? .1 : 0, l = t._lack ? (t._sizeType ? t.node.height : t.node.width) - c : t.cyclic ? t._cyclicAllItemSize : t._allItemSize;
l < 0 && (l = 0);
t._sizeType ? t.content.height = l : t.content.width = l;
};
t.prototype._onScrolling = function(e) {
void 0 === e && (e = null);
null == this.frameCount && (this.frameCount = this._updateRate);
if (!this._updateForce && e && "scroll-ended" != e.type && this.frameCount > 0) this.frameCount--; else {
this.frameCount = this._updateRate;
if (!this._aniDelRuning) {
if (this.cyclic) {
var t = this.content.getPosition();
t = this._sizeType ? t.y : t.x;
var o = this._allItemSizeNoEdge + (this._sizeType ? this._lineGap : this._columnGap), i = this._sizeType ? cc.v2(0, o) : cc.v2(o, 0);
switch (this._alignCalcType) {
case 1:
if (t > -this._cyclicPos1) {
this.content.x = -this._cyclicPos2;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.sub(i));
} else if (t < -this._cyclicPos2) {
this.content.x = -this._cyclicPos1;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.add(i));
}
break;

case 2:
if (t < this._cyclicPos1) {
this.content.x = this._cyclicPos2;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.add(i));
} else if (t > this._cyclicPos2) {
this.content.x = this._cyclicPos1;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.sub(i));
}
break;

case 3:
if (t < this._cyclicPos1) {
this.content.y = this._cyclicPos2;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.add(i));
} else if (t > this._cyclicPos2) {
this.content.y = this._cyclicPos1;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.sub(i));
}
break;

case 4:
if (t > -this._cyclicPos1) {
this.content.y = -this._cyclicPos2;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.sub(i));
} else if (t < -this._cyclicPos2) {
this.content.y = -this._cyclicPos1;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.add(i));
}
}
}
this._calcViewPos();
var n, a, r, s;
if (this._sizeType) {
n = this.viewTop;
r = this.viewBottom;
} else {
a = this.viewRight;
s = this.viewLeft;
}
if (this._virtual) {
this.displayData = [];
var c = void 0, l = 0, d = this._numItems - 1;
if (this._customSize) for (var h = !1; l <= d && !h; l++) {
c = this._calcItemPos(l);
switch (this._align) {
case cc.Layout.Type.HORIZONTAL:
c.right >= s && c.left <= a ? this.displayData.push(c) : 0 != l && this.displayData.length > 0 && (h = !0);
break;

case cc.Layout.Type.VERTICAL:
c.bottom <= n && c.top >= r ? this.displayData.push(c) : 0 != l && this.displayData.length > 0 && (h = !0);
break;

case cc.Layout.Type.GRID:
switch (this._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
c.bottom <= n && c.top >= r ? this.displayData.push(c) : 0 != l && this.displayData.length > 0 && (h = !0);
break;

case cc.Layout.AxisDirection.VERTICAL:
c.right >= s && c.left <= a ? this.displayData.push(c) : 0 != l && this.displayData.length > 0 && (h = !0);
}
}
} else {
var u = this._itemSize.width + this._columnGap, p = this._itemSize.height + this._lineGap;
switch (this._alignCalcType) {
case 1:
l = (s + this._leftGap) / u;
d = (a + this._rightGap) / u;
break;

case 2:
l = (-a - this._rightGap) / u;
d = (-s - this._leftGap) / u;
break;

case 3:
l = (-n - this._topGap) / p;
d = (-r - this._bottomGap) / p;
break;

case 4:
l = (r + this._bottomGap) / p;
d = (n + this._topGap) / p;
}
l = Math.floor(l) * this._colLineNum;
d = Math.ceil(d) * this._colLineNum;
l < 0 && (l = 0);
--d >= this._numItems && (d = this._numItems - 1);
for (;l <= d; l++) this.displayData.push(this._calcItemPos(l));
}
this._delRedundantItem();
if (this.displayData.length <= 0 || !this._numItems) {
this._lastDisplayData = [];
return;
}
this.firstListId = this.displayData[0].id;
this.displayItemNum = this.displayData.length;
var f = this._lastDisplayData.length, m = this.displayItemNum != f;
if (m) {
this.frameByFrameRenderNum > 0 && this._lastDisplayData.sort(function(e, t) {
return e - t;
});
m = this.firstListId != this._lastDisplayData[0] || this.displayData[this.displayItemNum - 1].id != this._lastDisplayData[f - 1];
}
if (this._updateForce || m) if (this.frameByFrameRenderNum > 0) if (this._numItems > 0) {
this._doneUpdate ? this._counterUpdate = 0 : this._doneAfterUpdate = !0;
this._doneUpdate = !1;
} else {
this._counterUpdate = 0;
this._doneUpdate = !0;
} else {
this._lastDisplayData = [];
for (var g = 0; g < this.displayItemNum; g++) this._createOrUpdateItem(this.displayData[g]);
this._updateForce = !1;
}
this._calcNearestItem();
}
}
}
};
t.prototype._calcViewPos = function() {
var e = this.content.getPosition();
switch (this._alignCalcType) {
case 1:
this.elasticLeft = e.x > 0 ? e.x : 0;
this.viewLeft = (e.x < 0 ? -e.x : 0) - this.elasticLeft;
this.viewRight = this.viewLeft + this.node.width;
this.elasticRight = this.viewRight > this.content.width ? Math.abs(this.viewRight - this.content.width) : 0;
this.viewRight += this.elasticRight;
break;

case 2:
this.elasticRight = e.x < 0 ? -e.x : 0;
this.viewRight = (e.x > 0 ? -e.x : 0) + this.elasticRight;
this.viewLeft = this.viewRight - this.node.width;
this.elasticLeft = this.viewLeft < -this.content.width ? Math.abs(this.viewLeft + this.content.width) : 0;
this.viewLeft -= this.elasticLeft;
break;

case 3:
this.elasticTop = e.y < 0 ? Math.abs(e.y) : 0;
this.viewTop = (e.y > 0 ? -e.y : 0) + this.elasticTop;
this.viewBottom = this.viewTop - this.node.height;
this.elasticBottom = this.viewBottom < -this.content.height ? Math.abs(this.viewBottom + this.content.height) : 0;
this.viewBottom += this.elasticBottom;
break;

case 4:
this.elasticBottom = e.y > 0 ? Math.abs(e.y) : 0;
this.viewBottom = (e.y < 0 ? -e.y : 0) - this.elasticBottom;
this.viewTop = this.viewBottom + this.node.height;
this.elasticTop = this.viewTop > this.content.height ? Math.abs(this.viewTop - this.content.height) : 0;
this.viewTop -= this.elasticTop;
}
};
t.prototype._calcItemPos = function(e) {
var t, o, i, n, a, r, s, c;
switch (this._align) {
case cc.Layout.Type.HORIZONTAL:
switch (this._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
if (this._customSize) {
var l = this._getFixedSize(e);
a = this._leftGap + (this._itemSize.width + this._columnGap) * (e - l.count) + (l.val + this._columnGap * l.count);
t = (d = this._customSize[e]) > 0 ? d : this._itemSize.width;
} else {
a = this._leftGap + (this._itemSize.width + this._columnGap) * e;
t = this._itemSize.width;
}
r = a + t;
if (this.lackCenter) {
a += h = this.content.width / 2 - this._allItemSizeNoEdge / 2;
r += h;
}
return {
id: e,
left: a,
right: r,
x: a + this._itemTmp.anchorX * t,
y: this._itemTmp.y
};

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
if (this._customSize) {
l = this._getFixedSize(e);
r = -this._rightGap - (this._itemSize.width + this._columnGap) * (e - l.count) - (l.val + this._columnGap * l.count);
t = (d = this._customSize[e]) > 0 ? d : this._itemSize.width;
} else {
r = -this._rightGap - (this._itemSize.width + this._columnGap) * e;
t = this._itemSize.width;
}
a = r - t;
if (this.lackCenter) {
a -= h = this.content.width / 2 - this._allItemSizeNoEdge / 2;
r -= h;
}
return {
id: e,
right: r,
left: a,
x: a + this._itemTmp.anchorX * t,
y: this._itemTmp.y
};
}
break;

case cc.Layout.Type.VERTICAL:
switch (this._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
if (this._customSize) {
l = this._getFixedSize(e);
i = -this._topGap - (this._itemSize.height + this._lineGap) * (e - l.count) - (l.val + this._lineGap * l.count);
o = (d = this._customSize[e]) > 0 ? d : this._itemSize.height;
} else {
i = -this._topGap - (this._itemSize.height + this._lineGap) * e;
o = this._itemSize.height;
}
n = i - o;
if (this.lackCenter) {
i -= h = this.content.height / 2 - this._allItemSizeNoEdge / 2;
n -= h;
}
return {
id: e,
top: i,
bottom: n,
x: this._itemTmp.x,
y: n + this._itemTmp.anchorY * o
};

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
if (this._customSize) {
var d;
l = this._getFixedSize(e);
n = this._bottomGap + (this._itemSize.height + this._lineGap) * (e - l.count) + (l.val + this._lineGap * l.count);
o = (d = this._customSize[e]) > 0 ? d : this._itemSize.height;
} else {
n = this._bottomGap + (this._itemSize.height + this._lineGap) * e;
o = this._itemSize.height;
}
i = n + o;
if (this.lackCenter) {
var h;
i += h = this.content.height / 2 - this._allItemSizeNoEdge / 2;
n += h;
}
return {
id: e,
top: i,
bottom: n,
x: this._itemTmp.x,
y: n + this._itemTmp.anchorY * o
};
}

case cc.Layout.Type.GRID:
var u = Math.floor(e / this._colLineNum);
switch (this._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
switch (this._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
c = (n = (i = -this._topGap - (this._itemSize.height + this._lineGap) * u) - this._itemSize.height) + this._itemTmp.anchorY * this._itemSize.height;
break;

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
i = (n = this._bottomGap + (this._itemSize.height + this._lineGap) * u) + this._itemSize.height;
c = n + this._itemTmp.anchorY * this._itemSize.height;
}
s = this._leftGap + e % this._colLineNum * (this._itemSize.width + this._columnGap);
switch (this._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
s += this._itemTmp.anchorX * this._itemSize.width;
s -= this.content.anchorX * this.content.width;
break;

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
s += (1 - this._itemTmp.anchorX) * this._itemSize.width;
s -= (1 - this.content.anchorX) * this.content.width;
s *= -1;
}
return {
id: e,
top: i,
bottom: n,
x: s,
y: c
};

case cc.Layout.AxisDirection.VERTICAL:
switch (this._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
r = (a = this._leftGap + (this._itemSize.width + this._columnGap) * u) + this._itemSize.width;
s = a + this._itemTmp.anchorX * this._itemSize.width;
s -= this.content.anchorX * this.content.width;
break;

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
s = (a = (r = -this._rightGap - (this._itemSize.width + this._columnGap) * u) - this._itemSize.width) + this._itemTmp.anchorX * this._itemSize.width;
s += (1 - this.content.anchorX) * this.content.width;
}
c = -this._topGap - e % this._colLineNum * (this._itemSize.height + this._lineGap);
switch (this._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
c -= (1 - this._itemTmp.anchorY) * this._itemSize.height;
c += (1 - this.content.anchorY) * this.content.height;
break;

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
c -= this._itemTmp.anchorY * this._itemSize.height;
c += this.content.anchorY * this.content.height;
c *= -1;
}
return {
id: e,
left: a,
right: r,
x: s,
y: c
};
}
}
};
t.prototype._calcExistItemPos = function(e) {
var t = this.getItemByListId(e);
if (!t) return null;
var o = {
id: e,
x: t.x,
y: t.y
};
if (this._sizeType) {
o.top = t.y + t.height * (1 - t.anchorY);
o.bottom = t.y - t.height * t.anchorY;
} else {
o.left = t.x - t.width * t.anchorX;
o.right = t.x + t.width * (1 - t.anchorX);
}
return o;
};
t.prototype.getItemPos = function(e) {
return this._virtual ? this._calcItemPos(e) : this.frameByFrameRenderNum ? this._calcItemPos(e) : this._calcExistItemPos(e);
};
t.prototype._getFixedSize = function(e) {
if (!this._customSize) return null;
null == e && (e = this._numItems);
var t = 0, o = 0;
for (var i in this._customSize) if (parseInt(i) < e) {
t += this._customSize[i];
o++;
}
return {
val: t,
count: o
};
};
t.prototype._onScrollBegan = function() {
this._beganPos = this._sizeType ? this.viewTop : this.viewLeft;
};
t.prototype._onScrollEnded = function() {
var e = this;
if (null != e.scrollToListId) {
var t = e.getItemByListId(e.scrollToListId);
e.scrollToListId = null;
t && t.runAction(cc.sequence(cc.scaleTo(.1, 1.06), cc.scaleTo(.1, 1)));
}
e._onScrolling();
e._slideMode != c.ADHERING || e.adhering ? e._slideMode == c.PAGE && (null != e._beganPos ? this._pageAdhere() : e.adhere()) : e.adhere();
};
t.prototype._onTouchStart = function(e, t) {
if (!this._scrollView._hasNestedViewGroup(e, t) && (e.eventPhase !== cc.Event.AT_TARGET || e.target !== this.node)) {
for (var o = e.target; null == o._listId && o.parent; ) o = o.parent;
this._scrollItem = null != o._listId ? o : e.target;
}
};
t.prototype._onTouchUp = function() {
var e = this;
e._scrollPos = null;
if (e._slideMode == c.ADHERING) {
this.adhering && (this._adheringBarrier = !0);
e.adhere();
} else e._slideMode == c.PAGE && (null != e._beganPos ? this._pageAdhere() : e.adhere());
this._scrollItem = null;
};
t.prototype._onTouchCancelled = function(e, t) {
var o = this;
if (!o._scrollView._hasNestedViewGroup(e, t) && !e.simulate) {
o._scrollPos = null;
if (o._slideMode == c.ADHERING) {
o.adhering && (o._adheringBarrier = !0);
o.adhere();
} else o._slideMode == c.PAGE && (null != o._beganPos ? o._pageAdhere() : o.adhere());
this._scrollItem = null;
}
};
t.prototype._onSizeChanged = function() {
this.checkInited(!1) && this._onScrolling();
};
t.prototype._onItemAdaptive = function(e) {
if (!this._sizeType && e.width != this._itemSize.width || this._sizeType && e.height != this._itemSize.height) {
this._customSize || (this._customSize = {});
var t = this._sizeType ? e.height : e.width;
if (this._customSize[e._listId] != t) {
this._customSize[e._listId] = t;
this._resizeContent();
this.updateAll();
if (null != this._scrollToListId) {
this._scrollPos = null;
this.unschedule(this._scrollToSo);
this.scrollTo(this._scrollToListId, Math.max(0, this._scrollToEndTime - new Date().getTime() / 1e3));
}
}
}
};
t.prototype._pageAdhere = function() {
var e = this;
if (e.cyclic || !(e.elasticTop > 0 || e.elasticRight > 0 || e.elasticBottom > 0 || e.elasticLeft > 0)) {
var t = e._sizeType ? e.viewTop : e.viewLeft, o = (e._sizeType ? e.node.height : e.node.width) * e.pageDistance;
if (Math.abs(e._beganPos - t) > o) switch (e._alignCalcType) {
case 1:
case 4:
e._beganPos > t ? e.prePage(.5) : e.nextPage(.5);
break;

case 2:
case 3:
e._beganPos < t ? e.prePage(.5) : e.nextPage(.5);
} else e.elasticTop <= 0 && e.elasticRight <= 0 && e.elasticBottom <= 0 && e.elasticLeft <= 0 && e.adhere();
e._beganPos = null;
}
};
t.prototype.adhere = function() {
var e = this;
if (e.checkInited() && !(e.elasticTop > 0 || e.elasticRight > 0 || e.elasticBottom > 0 || e.elasticLeft > 0)) {
e.adhering = !0;
e._calcNearestItem();
var t = (e._sizeType ? e._topGap : e._leftGap) / (e._sizeType ? e.node.height : e.node.width);
e.scrollTo(e.nearestListId, .7, t);
}
};
t.prototype.pauseUpdate = function() {
this._updateEnabled = !1;
};
t.prototype.resumeUpdate = function() {
this._updateEnabled = !0;
};
t.prototype.update = function() {
if (0 != this._updateEnabled && !(this.frameByFrameRenderNum <= 0 || this._doneUpdate)) if (this._virtual) {
for (var e = this._counterUpdate + this.frameByFrameRenderNum > this.displayItemNum ? this.displayItemNum : this._counterUpdate + this.frameByFrameRenderNum, t = this._counterUpdate; t < e; t++) {
var o = this.displayData[t];
o && this._createOrUpdateItem(o);
}
if (this._counterUpdate >= this.displayItemNum - 1) if (this._doneAfterUpdate) {
this._counterUpdate = 0;
this._doneUpdate = !1;
this._doneAfterUpdate = !1;
} else {
this._doneUpdate = !0;
this._delRedundantItem();
this._updateForce = !1;
this._calcNearestItem();
this.slideMode == c.PAGE && (this.curPageNum = this.nearestListId);
} else this._counterUpdate += this.frameByFrameRenderNum;
} else if (this._counterUpdate < this._numItems) {
for (e = this._counterUpdate + this.frameByFrameRenderNum > this._numItems ? this._numItems : this._counterUpdate + this.frameByFrameRenderNum, 
t = this._counterUpdate; t < e; t++) this._createOrUpdateItem2(t);
this._counterUpdate += this.frameByFrameRenderNum;
} else {
this._doneUpdate = !0;
this._calcNearestItem();
this.slideMode == c.PAGE && (this.curPageNum = this.nearestListId);
}
};
t.prototype._createOrUpdateItem = function(e) {
var t = this.getItemByListId(e.id);
if (t) {
if (this._updateForce && this.renderEvent) {
t.setPosition(cc.v2(e.x, e.y));
this._resetItemSize(t);
this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], t, e.id % this._actualNumItems);
}
} else {
var o = this._pool.size() > 0;
if ((t = o ? this._pool.get() : cc.instantiate(this._itemTmp))._listId != e.id) {
t._listId = e.id;
t.setContentSize(this._itemSize);
}
t.setPosition(cc.v2(e.x, e.y));
this._resetItemSize(t);
this.content.addChild(t);
if (o && this._needUpdateWidget) {
var i = t.getComponent(cc.Widget);
i && i.updateAlignment();
}
t.setSiblingIndex(this.content.childrenCount - 1);
var n = t.getComponent(g.default);
t.listItem = n;
if (n) {
n.listId = e.id;
n.list = this;
n._registerEvent();
}
this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], t, e.id % this._actualNumItems);
}
this._resetItemSize(t);
this._updateListItem(t.listItem);
this._lastDisplayData.indexOf(e.id) < 0 && this._lastDisplayData.push(e.id);
};
t.prototype._createOrUpdateItem2 = function(e) {
var t, o = this.content.children[e];
if (o) {
if (this._updateForce && this.renderEvent) {
o._listId = e;
t && (t.listId = e);
this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], o, e);
}
} else {
(o = cc.instantiate(this._itemTmp))._listId = e;
this.content.addChild(o);
t = o.getComponent(g.default);
o.listItem = t;
if (t) {
t.listId = e;
t.list = this;
t._registerEvent();
}
this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], o, e);
}
this._updateListItem(t);
this._lastDisplayData.indexOf(e) < 0 && this._lastDisplayData.push(e);
};
t.prototype._updateListItem = function(e) {
if (e && this.selectedMode > r.NONE) {
var t = e.node;
switch (this.selectedMode) {
case r.SINGLE:
e.selected = this.selectedId == t._listId;
break;

case r.MULT:
e.selected = this.multSelected.indexOf(t._listId) >= 0;
}
}
};
t.prototype._resetItemSize = function() {};
t.prototype._updateItemPos = function(e) {
var t = isNaN(e) ? e : this.getItemByListId(e), o = this.getItemPos(t._listId);
t.setPosition(o.x, o.y);
};
t.prototype.setMultSelected = function(e, t) {
var o = this;
if (o.checkInited()) {
Array.isArray(e) || (e = [ e ]);
if (null == t) o.multSelected = e; else {
var i = void 0, n = void 0;
if (t) for (var a = e.length - 1; a >= 0; a--) {
i = e[a];
(n = o.multSelected.indexOf(i)) < 0 && o.multSelected.push(i);
} else for (a = e.length - 1; a >= 0; a--) {
i = e[a];
(n = o.multSelected.indexOf(i)) >= 0 && o.multSelected.splice(n, 1);
}
}
o._forceUpdate = !0;
o._onScrolling();
}
};
t.prototype.updateItem = function(e) {
if (this.checkInited()) {
Array.isArray(e) || (e = [ e ]);
for (var t = 0, o = e.length; t < o; t++) {
var i = e[t], n = this.getItemByListId(i);
n && cc.Component.EventHandler.emitEvents([ this.renderEvent ], n, i % this._actualNumItems);
}
}
};
t.prototype.updateAll = function() {
this.checkInited() && (this.numItems = this.numItems);
};
t.prototype.getItemByListId = function(e) {
for (var t = this.content.childrenCount - 1; t >= 0; t--) {
var o = this.content.children[t];
if (o._listId == e) return o;
}
};
t.prototype.getVisualItems = function() {
return this.content.children;
};
t.prototype.clearItems = function() {
this.content.removeAllChildren(!0);
};
t.prototype.clearPoolItems = function() {
this._pool.clear();
};
t.prototype._getOutsideItem = function() {
for (var e, t = [], o = this.content.childrenCount - 1; o >= 0; o--) {
e = this.content.children[o];
this.displayData.find(function(t) {
return t.id == e._listId;
}) || t.push(e);
}
return t;
};
t.prototype._delRedundantItem = function() {
if (this._virtual) for (var e = this._getOutsideItem(), t = e.length - 1; t >= 0; t--) {
var o = e[t];
if (!this._scrollItem || o._listId != this._scrollItem._listId) {
this._pool.put(o);
for (var i = this._lastDisplayData.length - 1; i >= 0; i--) if (this._lastDisplayData[i] == o._listId) {
this._lastDisplayData.splice(i, 1);
break;
}
}
} else for (;this.content.childrenCount > this._numItems; ) this._delSingleItem(this.content.children[this.content.childrenCount - 1]);
};
t.prototype._delSingleItem = function(e) {
e.removeFromParent();
e.destroy && e.destroy();
e = null;
};
t.prototype.aniDelItem = function(e, t, o) {
var i = this;
if (!i.checkInited() || i.cyclic || !i._virtual) return cc.error("This function is not allowed to be called!");
if (i._aniDelRuning) return cc.warn("Please wait for the current deletion to finish!");
var n, a = i.getItemByListId(e);
if (a) {
n = a.getComponent(g.default);
i._aniDelRuning = !0;
var s = i.displayData[i.displayData.length - 1].id, c = n.selected;
n.showAni(o, function() {
var o, n, l;
s < i._numItems - 2 && (o = s + 1);
if (null != o) {
var d = i._calcItemPos(o);
i.displayData.push(d);
i._virtual ? i._createOrUpdateItem(d) : i._createOrUpdateItem2(o);
} else i._numItems--;
if (i.selectedMode == r.SINGLE) c ? i._selectedId = -1 : i._selectedId - 1 >= 0 && i._selectedId--; else if (i.selectedMode == r.MULT && i.multSelected.length) {
var h = i.multSelected.indexOf(e);
h >= 0 && i.multSelected.splice(h, 1);
for (var u = i.multSelected.length - 1; u >= 0; u--) (m = i.multSelected[u]) >= e && i.multSelected[u]--;
}
if (i._customSize) {
i._customSize[e] && delete i._customSize[e];
var p = {}, f = void 0;
for (var m in i._customSize) {
f = i._customSize[m];
var g = parseInt(m);
p[g - (g >= e ? 1 : 0)] = f;
}
i._customSize = p;
}
for (u = null != o ? o : s; u >= e + 1; u--) if (a = i.getItemByListId(u)) {
var y = i._calcItemPos(u - 1);
n = [ cc.moveTo(.2333, cc.v2(y.x, y.y)) ];
if (u <= e + 1) {
l = !0;
n.push(cc.callFunc(function() {
i._aniDelRuning = !1;
t(e);
}));
}
n.length > 1 ? a.runAction(cc.sequence(n)) : a.runAction(n[0]);
}
if (!l) {
i._aniDelRuning = !1;
t(e);
}
}, !0);
} else t(e);
};
t.prototype.scrollTo = function(e, t, o, i) {
void 0 === t && (t = .5);
void 0 === o && (o = null);
void 0 === i && (i = !1);
var n = this;
if (n.checkInited(!1)) {
null == t ? t = .5 : t < 0 && (t = 0);
e < 0 ? e = 0 : e >= n._numItems && (e = n._numItems - 1);
!n._virtual && n._layout && n._layout.enabled && n._layout.updateLayout();
var a, r, s = n.getItemPos(e);
switch (n._alignCalcType) {
case 1:
a = s.left;
a -= null != o ? n.node.width * o : n._leftGap;
s = cc.v2(a, 0);
break;

case 2:
a = s.right - n.node.width;
a += null != o ? n.node.width * o : n._rightGap;
s = cc.v2(a + n.content.width, 0);
break;

case 3:
r = s.top;
r += null != o ? n.node.height * o : n._topGap;
s = cc.v2(0, -r);
break;

case 4:
r = s.bottom + n.node.height;
r -= null != o ? n.node.height * o : n._bottomGap;
s = cc.v2(0, -r + n.content.height);
}
var c = n.content.getPosition();
c = Math.abs(n._sizeType ? c.y : c.x);
var l = n._sizeType ? s.y : s.x;
if (Math.abs((null != n._scrollPos ? n._scrollPos : c) - l) > .5) {
n._scrollView.scrollToOffset(s, t);
n._scrollToListId = e;
n._scrollToEndTime = new Date().getTime() / 1e3 + t;
n._scrollToSo = n.scheduleOnce(function() {
n._adheringBarrier || (n.adhering = n._adheringBarrier = !1);
n._scrollPos = n._scrollToListId = n._scrollToEndTime = n._scrollToSo = null;
if (i) {
var t = n.getItemByListId(e);
t && t.runAction(cc.sequence(cc.scaleTo(.1, 1.05), cc.scaleTo(.1, 1)));
}
}, t + .1);
t <= 0 && n._onScrolling();
}
}
};
t.prototype._calcNearestItem = function() {
var e, t, o, i, n, a, r = this;
r.nearestListId = null;
r._virtual && r._calcViewPos();
o = r.viewTop;
i = r.viewRight;
n = r.viewBottom;
a = r.viewLeft;
for (var s = !1, c = 0; c < r.content.childrenCount && !s; c += r._colLineNum) if (e = r._virtual ? r.displayData[c] : r._calcExistItemPos(c)) {
t = r._sizeType ? (e.top + e.bottom) / 2 : t = (e.left + e.right) / 2;
switch (r._alignCalcType) {
case 1:
if (e.right >= a) {
r.nearestListId = e.id;
a > t && (r.nearestListId += r._colLineNum);
s = !0;
}
break;

case 2:
if (e.left <= i) {
r.nearestListId = e.id;
i < t && (r.nearestListId += r._colLineNum);
s = !0;
}
break;

case 3:
if (e.bottom <= o) {
r.nearestListId = e.id;
o < t && (r.nearestListId += r._colLineNum);
s = !0;
}
break;

case 4:
if (e.top >= n) {
r.nearestListId = e.id;
n > t && (r.nearestListId += r._colLineNum);
s = !0;
}
}
}
if ((e = r._virtual ? r.displayData[r.displayItemNum - 1] : r._calcExistItemPos(r._numItems - 1)) && e.id == r._numItems - 1) {
t = r._sizeType ? (e.top + e.bottom) / 2 : t = (e.left + e.right) / 2;
switch (r._alignCalcType) {
case 1:
i > t && (r.nearestListId = e.id);
break;

case 2:
a < t && (r.nearestListId = e.id);
break;

case 3:
n < t && (r.nearestListId = e.id);
break;

case 4:
o > t && (r.nearestListId = e.id);
}
}
};
t.prototype.prePage = function(e) {
void 0 === e && (e = .5);
this.checkInited() && this.skipPage(this.curPageNum - 1, e);
};
t.prototype.nextPage = function(e) {
void 0 === e && (e = .5);
this.checkInited() && this.skipPage(this.curPageNum + 1, e);
};
t.prototype.skipPage = function(e, t) {
var o = this;
if (o.checkInited()) {
if (o._slideMode != c.PAGE) return cc.error("This function is not allowed to be called, Must SlideMode = PAGE!");
if (!(e < 0 || e >= o._numItems) && o.curPageNum != e) {
o.curPageNum = e;
o.pageChangeEvent && cc.Component.EventHandler.emitEvents([ o.pageChangeEvent ], e);
o.scrollTo(e, t);
}
}
};
t.prototype.calcCustomSize = function(e) {
var t = this;
if (t.checkInited()) {
if (!t._itemTmp) return cc.error("Unset template item!");
if (!t.renderEvent) return cc.error("Unset Render-Event!");
t._customSize = {};
var o = cc.instantiate(t._itemTmp);
t.content.addChild(o);
for (var i = 0; i < e; i++) {
cc.Component.EventHandler.emitEvents([ t.renderEvent ], o, i);
o.height == t._itemSize.height && o.width == t._itemSize.width || (t._customSize[i] = t._sizeType ? o.height : o.width);
}
Object.keys(t._customSize).length || (t._customSize = null);
o.removeFromParent();
o.destroy && o.destroy();
return t._customSize;
}
};
a([ h({
type: cc.Enum(s),
tooltip: !1
}) ], t.prototype, "templateType", void 0);
a([ h({
type: cc.Node,
tooltip: !1,
visible: function() {
return this.templateType == s.NODE;
}
}) ], t.prototype, "tmpNode", void 0);
a([ h({
type: cc.Prefab,
tooltip: !1,
visible: function() {
return this.templateType == s.PREFAB;
}
}) ], t.prototype, "tmpPrefab", void 0);
a([ h() ], t.prototype, "_slideMode", void 0);
a([ h({
type: cc.Enum(c),
tooltip: !1
}) ], t.prototype, "slideMode", null);
a([ h({
type: cc.Float,
range: [ 0, 1, .1 ],
tooltip: !1,
slide: !0,
visible: function() {
return this._slideMode == c.PAGE;
}
}) ], t.prototype, "pageDistance", void 0);
a([ h({
type: cc.Component.EventHandler,
tooltip: !1,
visible: function() {
return this._slideMode == c.PAGE;
}
}) ], t.prototype, "pageChangeEvent", void 0);
a([ h() ], t.prototype, "_virtual", void 0);
a([ h({
type: cc.Boolean,
tooltip: !1
}) ], t.prototype, "virtual", null);
a([ h({
tooltip: !1,
visible: function() {
var e = this.virtual && this.slideMode == c.NORMAL;
e || (this.cyclic = !1);
return e;
}
}) ], t.prototype, "cyclic", void 0);
a([ h({
tooltip: !1,
visible: function() {
return this.virtual;
}
}) ], t.prototype, "lackCenter", void 0);
a([ h({
tooltip: !1,
visible: function() {
var e = this.virtual && !this.lackCenter;
e || (this.lackSlide = !1);
return e;
}
}) ], t.prototype, "lackSlide", void 0);
a([ h({
type: cc.Integer
}) ], t.prototype, "_updateRate", void 0);
a([ h({
type: cc.Integer,
range: [ 0, 6, 1 ],
tooltip: !1,
slide: !0
}) ], t.prototype, "updateRate", null);
a([ h({
type: cc.Integer,
range: [ 0, 12, 1 ],
tooltip: !1,
slide: !0
}) ], t.prototype, "frameByFrameRenderNum", void 0);
a([ h({
type: cc.Component.EventHandler,
tooltip: !1
}) ], t.prototype, "renderEvent", void 0);
a([ h({
type: cc.Enum(r),
tooltip: !1
}) ], t.prototype, "selectedMode", void 0);
a([ h({
tooltip: !1,
visible: function() {
return this.selectedMode == r.SINGLE;
}
}) ], t.prototype, "repeatEventSingle", void 0);
a([ h({
type: cc.Component.EventHandler,
tooltip: !1,
visible: function() {
return this.selectedMode > r.NONE;
}
}) ], t.prototype, "selectedEvent", void 0);
a([ h({
serializable: !1
}) ], t.prototype, "_numItems", void 0);
return a([ d, u(), p("/happyList"), m(cc.ScrollView), f(-5e3) ], t);
}(cc.Component);
o.default = y;
cc._RF.pop();
}, {
"./happyListItem": "happyListItem"
} ],
"hmac-md5": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c52a8iINOhPiZJ2nOAEsMe0", "hmac-md5");
i = function(e) {
return e.HmacMD5;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./md5"), e("./hmac")) : "function" == typeof define && define.amd ? define([ "./core", "./md5", "./hmac" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core",
"./hmac": "hmac",
"./md5": "md5"
} ],
"hmac-ripemd160": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "acb8enjI1dJvIP2RjWOgFcw", "hmac-ripemd160");
i = function(e) {
return e.HmacRIPEMD160;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./ripemd160"), e("./hmac")) : "function" == typeof define && define.amd ? define([ "./core", "./ripemd160", "./hmac" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core",
"./hmac": "hmac",
"./ripemd160": "ripemd160"
} ],
"hmac-sha1": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "bf852Y8WqRE5pyAFG9m9mHM", "hmac-sha1");
i = function(e) {
return e.HmacSHA1;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./sha1"), e("./hmac")) : "function" == typeof define && define.amd ? define([ "./core", "./sha1", "./hmac" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core",
"./hmac": "hmac",
"./sha1": "sha1"
} ],
"hmac-sha224": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4d3ef0QhWFG64KeDRXXIAe8", "hmac-sha224");
i = function(e) {
return e.HmacSHA224;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./sha256"), e("./sha224"), e("./hmac")) : "function" == typeof define && define.amd ? define([ "./core", "./sha256", "./sha224", "./hmac" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core",
"./hmac": "hmac",
"./sha224": "sha224",
"./sha256": "sha256"
} ],
"hmac-sha256": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "722d6oiAApMr4agtjhKqDgU", "hmac-sha256");
i = function(e) {
return e.HmacSHA256;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./sha256"), e("./hmac")) : "function" == typeof define && define.amd ? define([ "./core", "./sha256", "./hmac" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core",
"./hmac": "hmac",
"./sha256": "sha256"
} ],
"hmac-sha384": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4ddd9jUUAJMRp8VhJl3irvA", "hmac-sha384");
i = function(e) {
return e.HmacSHA384;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./x64-core"), e("./sha512"), e("./sha384"), e("./hmac")) : "function" == typeof define && define.amd ? define([ "./core", "./x64-core", "./sha512", "./sha384", "./hmac" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core",
"./hmac": "hmac",
"./sha384": "sha384",
"./sha512": "sha512",
"./x64-core": "x64-core"
} ],
"hmac-sha3": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1a534EFeVNLvI3qn7QBm0lC", "hmac-sha3");
i = function(e) {
return e.HmacSHA3;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./x64-core"), e("./sha3"), e("./hmac")) : "function" == typeof define && define.amd ? define([ "./core", "./x64-core", "./sha3", "./hmac" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core",
"./hmac": "hmac",
"./sha3": "sha3",
"./x64-core": "x64-core"
} ],
"hmac-sha512": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0f002mjg7NE/Lw1T2HsvA+Y", "hmac-sha512");
i = function(e) {
return e.HmacSHA512;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./x64-core"), e("./sha512"), e("./hmac")) : "function" == typeof define && define.amd ? define([ "./core", "./x64-core", "./sha512", "./hmac" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core",
"./hmac": "hmac",
"./sha512": "sha512",
"./x64-core": "x64-core"
} ],
hmac: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f6c22cyoiJMYbE7Kacwtxf5", "hmac");
i = function(e) {
o = (t = e).lib.Base, i = t.enc.Utf8, t.algo.HMAC = o.extend({
init: function(e, t) {
e = this._hasher = new e.init();
"string" == typeof t && (t = i.parse(t));
var o = e.blockSize, n = 4 * o;
t.sigBytes > n && (t = e.finalize(t));
t.clamp();
for (var a = this._oKey = t.clone(), r = this._iKey = t.clone(), s = a.words, c = r.words, l = 0; l < o; l++) {
s[l] ^= 1549556828;
c[l] ^= 909522486;
}
a.sigBytes = r.sigBytes = n;
this.reset();
},
reset: function() {
var e = this._hasher;
e.reset();
e.update(this._iKey);
},
update: function(e) {
this._hasher.update(e);
return this;
},
finalize: function(e) {
var t = this._hasher, o = t.finalize(e);
t.reset();
return t.finalize(this._oKey.clone().concat(o));
}
});
var t, o, i;
}, "object" == typeof o ? t.exports = o = i(e("./core")) : "function" == typeof define && define.amd ? define([ "./core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core"
} ],
index: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c078cqwugpOsoMRfzxvExZg", "index");
i = function(e) {
return e;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./x64-core"), e("./lib-typedarrays"), e("./enc-utf16"), e("./enc-base64"), e("./md5"), e("./sha1"), e("./sha256"), e("./sha224"), e("./sha512"), e("./sha384"), e("./sha3"), e("./ripemd160"), e("./hmac"), e("./pbkdf2"), e("./evpkdf"), e("./cipher-core"), e("./mode-cfb"), e("./mode-ctr"), e("./mode-ctr-gladman"), e("./mode-ofb"), e("./mode-ecb"), e("./pad-ansix923"), e("./pad-iso10126"), e("./pad-iso97971"), e("./pad-zeropadding"), e("./pad-nopadding"), e("./format-hex"), e("./aes"), e("./tripledes"), e("./rc4"), e("./rabbit"), e("./rabbit-legacy")) : "function" == typeof define && define.amd ? define([ "./core", "./x64-core", "./lib-typedarrays", "./enc-utf16", "./enc-base64", "./md5", "./sha1", "./sha256", "./sha224", "./sha512", "./sha384", "./sha3", "./ripemd160", "./hmac", "./pbkdf2", "./evpkdf", "./cipher-core", "./mode-cfb", "./mode-ctr", "./mode-ctr-gladman", "./mode-ofb", "./mode-ecb", "./pad-ansix923", "./pad-iso10126", "./pad-iso97971", "./pad-zeropadding", "./pad-nopadding", "./format-hex", "./aes", "./tripledes", "./rc4", "./rabbit", "./rabbit-legacy" ], i) : (void 0).CryptoJS = i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./aes": "aes",
"./cipher-core": "cipher-core",
"./core": "core",
"./enc-base64": "enc-base64",
"./enc-utf16": "enc-utf16",
"./evpkdf": "evpkdf",
"./format-hex": "format-hex",
"./hmac": "hmac",
"./lib-typedarrays": "lib-typedarrays",
"./md5": "md5",
"./mode-cfb": "mode-cfb",
"./mode-ctr": "mode-ctr",
"./mode-ctr-gladman": "mode-ctr-gladman",
"./mode-ecb": "mode-ecb",
"./mode-ofb": "mode-ofb",
"./pad-ansix923": "pad-ansix923",
"./pad-iso10126": "pad-iso10126",
"./pad-iso97971": "pad-iso97971",
"./pad-nopadding": "pad-nopadding",
"./pad-zeropadding": "pad-zeropadding",
"./pbkdf2": "pbkdf2",
"./rabbit": "rabbit",
"./rabbit-legacy": "rabbit-legacy",
"./rc4": "rc4",
"./ripemd160": "ripemd160",
"./sha1": "sha1",
"./sha224": "sha224",
"./sha256": "sha256",
"./sha3": "sha3",
"./sha384": "sha384",
"./sha512": "sha512",
"./tripledes": "tripledes",
"./x64-core": "x64-core"
} ],
"lib-typedarrays": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "afc22vSEDdC8aK6iogLo4QL", "lib-typedarrays");
i = function(e) {
(function() {
if ("function" == typeof ArrayBuffer) {
var t = e.lib.WordArray, o = t.init;
(t.init = function(e) {
e instanceof ArrayBuffer && (e = new Uint8Array(e));
(e instanceof Int8Array || "undefined" != typeof Uint8ClampedArray && e instanceof Uint8ClampedArray || e instanceof Int16Array || e instanceof Uint16Array || e instanceof Int32Array || e instanceof Uint32Array || e instanceof Float32Array || e instanceof Float64Array) && (e = new Uint8Array(e.buffer, e.byteOffset, e.byteLength));
if (e instanceof Uint8Array) {
for (var t = e.byteLength, i = [], n = 0; n < t; n++) i[n >>> 2] |= e[n] << 24 - n % 4 * 8;
o.call(this, i, t);
} else o.apply(this, arguments);
}).prototype = t;
}
})();
return e.lib.WordArray;
}, "object" == typeof o ? t.exports = o = i(e("./core")) : "function" == typeof define && define.amd ? define([ "./core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core"
} ],
md5: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "50204ZXJshB9bSltwjujVuZ", "md5");
i = function(e) {
(function(t) {
var o = e, i = o.lib, n = i.WordArray, a = i.Hasher, r = o.algo, s = [];
(function() {
for (var e = 0; e < 64; e++) s[e] = 4294967296 * t.abs(t.sin(e + 1)) | 0;
})();
var c = r.MD5 = a.extend({
_doReset: function() {
this._hash = new n.init([ 1732584193, 4023233417, 2562383102, 271733878 ]);
},
_doProcessBlock: function(e, t) {
for (var o = 0; o < 16; o++) {
var i = t + o, n = e[i];
e[i] = 16711935 & (n << 8 | n >>> 24) | 4278255360 & (n << 24 | n >>> 8);
}
var a = this._hash.words, r = e[t + 0], c = e[t + 1], p = e[t + 2], f = e[t + 3], m = e[t + 4], g = e[t + 5], y = e[t + 6], _ = e[t + 7], C = e[t + 8], b = e[t + 9], v = e[t + 10], S = e[t + 11], I = e[t + 12], B = e[t + 13], w = e[t + 14], N = e[t + 15], L = a[0], T = a[1], D = a[2], E = a[3];
L = l(L, T, D, E, r, 7, s[0]);
E = l(E, L, T, D, c, 12, s[1]);
D = l(D, E, L, T, p, 17, s[2]);
T = l(T, D, E, L, f, 22, s[3]);
L = l(L, T, D, E, m, 7, s[4]);
E = l(E, L, T, D, g, 12, s[5]);
D = l(D, E, L, T, y, 17, s[6]);
T = l(T, D, E, L, _, 22, s[7]);
L = l(L, T, D, E, C, 7, s[8]);
E = l(E, L, T, D, b, 12, s[9]);
D = l(D, E, L, T, v, 17, s[10]);
T = l(T, D, E, L, S, 22, s[11]);
L = l(L, T, D, E, I, 7, s[12]);
E = l(E, L, T, D, B, 12, s[13]);
D = l(D, E, L, T, w, 17, s[14]);
L = d(L, T = l(T, D, E, L, N, 22, s[15]), D, E, c, 5, s[16]);
E = d(E, L, T, D, y, 9, s[17]);
D = d(D, E, L, T, S, 14, s[18]);
T = d(T, D, E, L, r, 20, s[19]);
L = d(L, T, D, E, g, 5, s[20]);
E = d(E, L, T, D, v, 9, s[21]);
D = d(D, E, L, T, N, 14, s[22]);
T = d(T, D, E, L, m, 20, s[23]);
L = d(L, T, D, E, b, 5, s[24]);
E = d(E, L, T, D, w, 9, s[25]);
D = d(D, E, L, T, f, 14, s[26]);
T = d(T, D, E, L, C, 20, s[27]);
L = d(L, T, D, E, B, 5, s[28]);
E = d(E, L, T, D, p, 9, s[29]);
D = d(D, E, L, T, _, 14, s[30]);
L = h(L, T = d(T, D, E, L, I, 20, s[31]), D, E, g, 4, s[32]);
E = h(E, L, T, D, C, 11, s[33]);
D = h(D, E, L, T, S, 16, s[34]);
T = h(T, D, E, L, w, 23, s[35]);
L = h(L, T, D, E, c, 4, s[36]);
E = h(E, L, T, D, m, 11, s[37]);
D = h(D, E, L, T, _, 16, s[38]);
T = h(T, D, E, L, v, 23, s[39]);
L = h(L, T, D, E, B, 4, s[40]);
E = h(E, L, T, D, r, 11, s[41]);
D = h(D, E, L, T, f, 16, s[42]);
T = h(T, D, E, L, y, 23, s[43]);
L = h(L, T, D, E, b, 4, s[44]);
E = h(E, L, T, D, I, 11, s[45]);
D = h(D, E, L, T, N, 16, s[46]);
L = u(L, T = h(T, D, E, L, p, 23, s[47]), D, E, r, 6, s[48]);
E = u(E, L, T, D, _, 10, s[49]);
D = u(D, E, L, T, w, 15, s[50]);
T = u(T, D, E, L, g, 21, s[51]);
L = u(L, T, D, E, I, 6, s[52]);
E = u(E, L, T, D, f, 10, s[53]);
D = u(D, E, L, T, v, 15, s[54]);
T = u(T, D, E, L, c, 21, s[55]);
L = u(L, T, D, E, C, 6, s[56]);
E = u(E, L, T, D, N, 10, s[57]);
D = u(D, E, L, T, y, 15, s[58]);
T = u(T, D, E, L, B, 21, s[59]);
L = u(L, T, D, E, m, 6, s[60]);
E = u(E, L, T, D, S, 10, s[61]);
D = u(D, E, L, T, p, 15, s[62]);
T = u(T, D, E, L, b, 21, s[63]);
a[0] = a[0] + L | 0;
a[1] = a[1] + T | 0;
a[2] = a[2] + D | 0;
a[3] = a[3] + E | 0;
},
_doFinalize: function() {
var e = this._data, o = e.words, i = 8 * this._nDataBytes, n = 8 * e.sigBytes;
o[n >>> 5] |= 128 << 24 - n % 32;
var a = t.floor(i / 4294967296), r = i;
o[15 + (n + 64 >>> 9 << 4)] = 16711935 & (a << 8 | a >>> 24) | 4278255360 & (a << 24 | a >>> 8);
o[14 + (n + 64 >>> 9 << 4)] = 16711935 & (r << 8 | r >>> 24) | 4278255360 & (r << 24 | r >>> 8);
e.sigBytes = 4 * (o.length + 1);
this._process();
for (var s = this._hash, c = s.words, l = 0; l < 4; l++) {
var d = c[l];
c[l] = 16711935 & (d << 8 | d >>> 24) | 4278255360 & (d << 24 | d >>> 8);
}
return s;
},
clone: function() {
var e = a.clone.call(this);
e._hash = this._hash.clone();
return e;
}
});
function l(e, t, o, i, n, a, r) {
var s = e + (t & o | ~t & i) + n + r;
return (s << a | s >>> 32 - a) + t;
}
function d(e, t, o, i, n, a, r) {
var s = e + (t & i | o & ~i) + n + r;
return (s << a | s >>> 32 - a) + t;
}
function h(e, t, o, i, n, a, r) {
var s = e + (t ^ o ^ i) + n + r;
return (s << a | s >>> 32 - a) + t;
}
function u(e, t, o, i, n, a, r) {
var s = e + (o ^ (t | ~i)) + n + r;
return (s << a | s >>> 32 - a) + t;
}
o.MD5 = a._createHelper(c);
o.HmacMD5 = a._createHmacHelper(c);
})(Math);
return e.MD5;
}, "object" == typeof o ? t.exports = o = i(e("./core")) : "function" == typeof define && define.amd ? define([ "./core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core"
} ],
"mode-cfb": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a4b34aqLWBK2b2lorfyua/Q", "mode-cfb");
i = function(e) {
e.mode.CFB = function() {
var t = e.lib.BlockCipherMode.extend();
t.Encryptor = t.extend({
processBlock: function(e, t) {
var i = this._cipher, n = i.blockSize;
o.call(this, e, t, n, i);
this._prevBlock = e.slice(t, t + n);
}
});
t.Decryptor = t.extend({
processBlock: function(e, t) {
var i = this._cipher, n = i.blockSize, a = e.slice(t, t + n);
o.call(this, e, t, n, i);
this._prevBlock = a;
}
});
function o(e, t, o, i) {
var n = this._iv;
if (n) {
var a = n.slice(0);
this._iv = void 0;
} else a = this._prevBlock;
i.encryptBlock(a, 0);
for (var r = 0; r < o; r++) e[t + r] ^= a[r];
}
return t;
}();
return e.mode.CFB;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./cipher-core")) : "function" == typeof define && define.amd ? define([ "./core", "./cipher-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./cipher-core": "cipher-core",
"./core": "core"
} ],
"mode-ctr-gladman": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "6b39e1pUz1LX4ZYPqEDNtrt", "mode-ctr-gladman");
i = function(e) {
e.mode.CTRGladman = function() {
var t = e.lib.BlockCipherMode.extend();
function o(e) {
if (255 == (e >> 24 & 255)) {
var t = e >> 16 & 255, o = e >> 8 & 255, i = 255 & e;
if (255 === t) {
t = 0;
if (255 === o) {
o = 0;
255 === i ? i = 0 : ++i;
} else ++o;
} else ++t;
e = 0;
e += t << 16;
e += o << 8;
e += i;
} else e += 1 << 24;
return e;
}
function i(e) {
0 === (e[0] = o(e[0])) && (e[1] = o(e[1]));
return e;
}
var n = t.Encryptor = t.extend({
processBlock: function(e, t) {
var o = this._cipher, n = o.blockSize, a = this._iv, r = this._counter;
if (a) {
r = this._counter = a.slice(0);
this._iv = void 0;
}
i(r);
var s = r.slice(0);
o.encryptBlock(s, 0);
for (var c = 0; c < n; c++) e[t + c] ^= s[c];
}
});
t.Decryptor = n;
return t;
}();
return e.mode.CTRGladman;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./cipher-core")) : "function" == typeof define && define.amd ? define([ "./core", "./cipher-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./cipher-core": "cipher-core",
"./core": "core"
} ],
"mode-ctr": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9757f4ZVtxL741rKxFsf+8x", "mode-ctr");
i = function(e) {
e.mode.CTR = function() {
var t = e.lib.BlockCipherMode.extend(), o = t.Encryptor = t.extend({
processBlock: function(e, t) {
var o = this._cipher, i = o.blockSize, n = this._iv, a = this._counter;
if (n) {
a = this._counter = n.slice(0);
this._iv = void 0;
}
var r = a.slice(0);
o.encryptBlock(r, 0);
a[i - 1] = a[i - 1] + 1 | 0;
for (var s = 0; s < i; s++) e[t + s] ^= r[s];
}
});
t.Decryptor = o;
return t;
}();
return e.mode.CTR;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./cipher-core")) : "function" == typeof define && define.amd ? define([ "./core", "./cipher-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./cipher-core": "cipher-core",
"./core": "core"
} ],
"mode-ecb": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9faffiNUQdFkKYNHz4o/omh", "mode-ecb");
i = function(e) {
e.mode.ECB = function() {
var t = e.lib.BlockCipherMode.extend();
t.Encryptor = t.extend({
processBlock: function(e, t) {
this._cipher.encryptBlock(e, t);
}
});
t.Decryptor = t.extend({
processBlock: function(e, t) {
this._cipher.decryptBlock(e, t);
}
});
return t;
}();
return e.mode.ECB;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./cipher-core")) : "function" == typeof define && define.amd ? define([ "./core", "./cipher-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./cipher-core": "cipher-core",
"./core": "core"
} ],
"mode-ofb": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "caf7eyDn49C44GUvrofOFdb", "mode-ofb");
i = function(e) {
e.mode.OFB = function() {
var t = e.lib.BlockCipherMode.extend(), o = t.Encryptor = t.extend({
processBlock: function(e, t) {
var o = this._cipher, i = o.blockSize, n = this._iv, a = this._keystream;
if (n) {
a = this._keystream = n.slice(0);
this._iv = void 0;
}
o.encryptBlock(a, 0);
for (var r = 0; r < i; r++) e[t + r] ^= a[r];
}
});
t.Decryptor = o;
return t;
}();
return e.mode.OFB;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./cipher-core")) : "function" == typeof define && define.amd ? define([ "./core", "./cipher-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./cipher-core": "cipher-core",
"./core": "core"
} ],
moneyNotEnough: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "31d40RdUupFJaTSIx7F6Q7d", "moneyNotEnough");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../GameCores/ApplePay"), s = e("../Manager/PaymentInterface"), c = e("../PublicTools/DialogRoot"), l = cc._decorator, d = l.ccclass, h = (l.property, 
l.menu), u = function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this._dialog = this.node.getChildByName("dialog");
this._dialog.getChildByName("closeBtn").on("click", this.onClose, this);
this._cancelBtn = this._dialog.getChildByName("cancelBtn");
this._okBtn = this._dialog.getChildByName("okBtn");
this._cancelBtn.on("click", this.onClose, this);
this._okBtn.on("click", this._openMall, this);
};
t.prototype.start = function() {};
t.prototype.onShow = function(t) {
e.prototype.onShow.call(this, t);
this.canDestory = !0;
};
t.prototype.handleAppEvent = function(e) {
e.arg;
switch (e.key) {
case "APPPAY_CALLBACK_EVENT":
this.onClose();
this.hideLoading();
}
};
t.prototype._openMall = function() {
s.default.inst.buyCommodity(r.default.inst.productID);
this.onClose();
};
t.prototype.onClose = function() {
e.prototype.onClose.call(this);
};
return a([ d, h("dialog/ChipInsufficient") ], t);
}(c.default);
o.default = u;
cc._RF.pop();
}, {
"../GameCores/ApplePay": "ApplePay",
"../Manager/PaymentInterface": "PaymentInterface",
"../PublicTools/DialogRoot": "DialogRoot"
} ],
"pad-ansix923": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "bc552a8YcpK8aBvKIYqts71", "pad-ansix923");
i = function(e) {
e.pad.AnsiX923 = {
pad: function(e, t) {
var o = e.sigBytes, i = 4 * t, n = i - o % i, a = o + n - 1;
e.clamp();
e.words[a >>> 2] |= n << 24 - a % 4 * 8;
e.sigBytes += n;
},
unpad: function(e) {
var t = 255 & e.words[e.sigBytes - 1 >>> 2];
e.sigBytes -= t;
}
};
return e.pad.Ansix923;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./cipher-core")) : "function" == typeof define && define.amd ? define([ "./core", "./cipher-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./cipher-core": "cipher-core",
"./core": "core"
} ],
"pad-iso10126": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f8ead33oShJ/IyfYZEVJp3t", "pad-iso10126");
i = function(e) {
e.pad.Iso10126 = {
pad: function(t, o) {
var i = 4 * o, n = i - t.sigBytes % i;
t.concat(e.lib.WordArray.random(n - 1)).concat(e.lib.WordArray.create([ n << 24 ], 1));
},
unpad: function(e) {
var t = 255 & e.words[e.sigBytes - 1 >>> 2];
e.sigBytes -= t;
}
};
return e.pad.Iso10126;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./cipher-core")) : "function" == typeof define && define.amd ? define([ "./core", "./cipher-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./cipher-core": "cipher-core",
"./core": "core"
} ],
"pad-iso97971": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "212daZAEB5G14g0yi/p6c2D", "pad-iso97971");
i = function(e) {
e.pad.Iso97971 = {
pad: function(t, o) {
t.concat(e.lib.WordArray.create([ 2147483648 ], 1));
e.pad.ZeroPadding.pad(t, o);
},
unpad: function(t) {
e.pad.ZeroPadding.unpad(t);
t.sigBytes--;
}
};
return e.pad.Iso97971;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./cipher-core")) : "function" == typeof define && define.amd ? define([ "./core", "./cipher-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./cipher-core": "cipher-core",
"./core": "core"
} ],
"pad-nopadding": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "36d3bq/NdZK/KsZu3Sehk8x", "pad-nopadding");
i = function(e) {
e.pad.NoPadding = {
pad: function() {},
unpad: function() {}
};
return e.pad.NoPadding;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./cipher-core")) : "function" == typeof define && define.amd ? define([ "./core", "./cipher-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./cipher-core": "cipher-core",
"./core": "core"
} ],
"pad-pkcs7": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a0326ziym5Iqro1TtSHsy0s", "pad-pkcs7");
i = function(e) {
return e.pad.Pkcs7;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./cipher-core")) : "function" == typeof define && define.amd ? define([ "./core", "./cipher-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./cipher-core": "cipher-core",
"./core": "core"
} ],
"pad-zeropadding": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "904a7Gp24xICr4AR7mmMtQF", "pad-zeropadding");
i = function(e) {
e.pad.ZeroPadding = {
pad: function(e, t) {
var o = 4 * t;
e.clamp();
e.sigBytes += o - (e.sigBytes % o || o);
},
unpad: function(e) {
for (var t = e.words, o = e.sigBytes - 1; !(t[o >>> 2] >>> 24 - o % 4 * 8 & 255); ) o--;
e.sigBytes = o + 1;
}
};
return e.pad.ZeroPadding;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./cipher-core")) : "function" == typeof define && define.amd ? define([ "./core", "./cipher-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./cipher-core": "cipher-core",
"./core": "core"
} ],
pbkdf2: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d7d4d1W/ZVMYp8mKP/qZ5/d", "pbkdf2");
i = function(e) {
i = (o = (t = e).lib).Base, n = o.WordArray, r = (a = t.algo).SHA1, s = a.HMAC, 
c = a.PBKDF2 = i.extend({
cfg: i.extend({
keySize: 4,
hasher: r,
iterations: 1
}),
init: function(e) {
this.cfg = this.cfg.extend(e);
},
compute: function(e, t) {
for (var o = this.cfg, i = s.create(o.hasher, e), a = n.create(), r = n.create([ 1 ]), c = a.words, l = r.words, d = o.keySize, h = o.iterations; c.length < d; ) {
var u = i.update(t).finalize(r);
i.reset();
for (var p = u.words, f = p.length, m = u, g = 1; g < h; g++) {
m = i.finalize(m);
i.reset();
for (var y = m.words, _ = 0; _ < f; _++) p[_] ^= y[_];
}
a.concat(u);
l[0]++;
}
a.sigBytes = 4 * d;
return a;
}
}), t.PBKDF2 = function(e, t, o) {
return c.create(o).compute(e, t);
};
var t, o, i, n, a, r, s, c;
return e.PBKDF2;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./sha1"), e("./hmac")) : "function" == typeof define && define.amd ? define([ "./core", "./sha1", "./hmac" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core",
"./hmac": "hmac",
"./sha1": "sha1"
} ],
playerAddPaymentDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "84bc9E3KshOt5vNPJRgkA57", "playerAddPaymentDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../../public/MyComponent/GameHppayUtil"), c = e("../../executor/bank/playerAddPaymentEx"), l = cc._decorator, d = l.ccclass, h = (l.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.cardHolder = null;
t.bankName = null;
t.bankNumber = null;
t.currSelectBank = {};
t.root = null;
return t;
}
t.prototype.onLoad = function() {
this.setView();
this.exView = new c.default();
this.exView.setProxy(this);
};
t.prototype.setView = function() {
this.root = this.node.getChildByName("dlgBg");
this.root.getChildByName("closeBtn").on("click", this.onClose, this);
this.root.getChildByName("btnConfirm").on("click", this.onConfirm, this);
this.root.getChildByName("btnSelectBank").on("click", this.onSelectBank, this);
this.root.getChildByName("input1").on("click", this.onSelectBank, this);
this.cardHolder = this.root.getChildByName("editboxName").getComponent(cc.EditBox);
this.bankNumber = this.root.getChildByName("editboxCardNumber").getComponent(cc.EditBox);
this.bankName = this.root.getChildByName("bankName").getComponent(cc.Label);
this.root.getChildByName("btnConfirm").getComponent(cc.Button).interactable = !1;
this.cardHolder.node.on("editing-did-ended", this.onInputCardHolderNameEnded, this);
this.bankNumber.node.on("editing-did-ended", this.onInputBankNumberEnded, this);
};
t.prototype.updateLanguageUI = function() {
this.exView.updateLanguageUIEx();
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.updateLanguageUI();
s.default.labelShadow(this.root.getChildByName("labelTitle").getComponent(cc.Label), new cc.Color(223, 32, 193), cc.v2(0, -3));
if (null != this._data) {
this.cardHolder.string = this._data.cardholder || "";
this.bankNumber.string = this._data.number || "";
this.bankName.string = this._data.bankName || "";
this.currSelectBank.bank_code = this._data.bankCode;
this.currSelectBank.bank_name = this._data.bankName;
}
this.register("WithdrawBankInfoDialog", [ "CHOOSE_BANK_EVENT" ]);
};
t.prototype.onConfirm = function() {
this.exView.onConfirmEx();
};
t.prototype.onSelectBank = function() {
this.exView.onSelectBankEx();
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "CHOOSE_BANK_EVENT":
this.chooseBank(t);
}
};
t.prototype.chooseBank = function(e) {
console.log("currSelectBank", this.currSelectBank);
this.currSelectBank = e;
this.bankName.string = e.bank_name;
this.bankName.node.color = new cc.Color(255, 255, 255);
this.bankNumber.string = "";
this.onInputBankNameEnded();
};
t.prototype.onInputCardHolderNameEnded = function() {
"" != this.bankName.string && "" != this.cardHolder.string && "" != this.bankNumber.string && (this.root.getChildByName("btnConfirm").getComponent(cc.Button).interactable = !0);
};
t.prototype.onInputBankNameEnded = function() {
"" != this.bankName.string && "" != this.cardHolder.string && "" != this.bankNumber.string && (this.root.getChildByName("btnConfirm").getComponent(cc.Button).interactable = !0);
};
t.prototype.onInputBankNumberEnded = function() {
"" != this.bankName.string && "" != this.cardHolder.string && (this.root.getChildByName("btnConfirm").getComponent(cc.Button).interactable = !0);
};
return a([ d ], t);
}(r.default));
o.default = h;
cc._RF.pop();
}, {
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../executor/bank/playerAddPaymentEx": "playerAddPaymentEx"
} ],
playerAddPaymentEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2712cVQc/xNabY2QxmxKLjG", "playerAddPaymentEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../communication/GameLobbyHttp"), s = e("../../../data/GameLangData"), c = e("../../../manager/DlgGameMgr"), l = e("../../../manager/GameSoundMgr"), d = e("../../../public/MyComponent/ViewExecutorBase"), h = cc._decorator, u = h.ccclass, p = (h.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {
this.root = this.node.root;
this.cardHolder = this.node.cardHolder;
this.bankNumber = this.node.bankNumber;
this.bankName = this.node.bankName;
this.currSelectBank = this.node.currSelectBank;
};
t.prototype.updateLanguageUIEx = function() {
this.root.getChildByName("labelTitle").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("addCardInfo");
this.root.getChildByName("labelName").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("reveiveCardHolder");
this.root.getChildByName("labelBankName").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("receiveBankName");
this.root.getChildByName("labelBankNumber").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("receiveBankNumber");
this.root.getChildByName("btnConfirm").getChildByName("label").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("confirm");
this.root.getChildByName("tips2").getComponent(cc.Label).string = s.default.ins.GET_NEWHALL_LANG("bindDesc3");
this.cardHolder.placeholderLabel.string = s.default.ins.GET_NEWHALL_LANG("inputCardHolderName");
this.bankNumber.placeholderLabel.string = s.default.ins.GET_NEWHALL_LANG("inputCardHolderNumber");
this.bankName.string = s.default.ins.GET_NEWHALL_LANG("selectBank");
};
t.prototype.onConfirmEx = function() {
l.default.inst.playGameEffect(l.AudioRes.click);
var e = this.cardHolder.string, t = this.bankNumber.string, o = {};
o.bankCode = this.node.currSelectBank.bank_code;
o.cardholder = e;
o.number = t;
console.log("bank params ", o);
r.default.getInstance().updateBankInfo(o);
};
t.prototype.onSelectBankEx = function() {
l.default.inst.playGameEffect(l.AudioRes.click);
c.default.inst.showDlg(c.DlgType.selectCharge);
};
return a([ u ], t);
}(d.default));
o.default = p;
cc._RF.pop();
}, {
"../../../communication/GameLobbyHttp": "GameLobbyHttp",
"../../../data/GameLangData": "GameLangData",
"../../../manager/DlgGameMgr": "DlgGameMgr",
"../../../manager/GameSoundMgr": "GameSoundMgr",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
playerChangeNameDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "bbc46OFr0JFH7+2tNxweXlK", "playerChangeNameDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../public/MyComponent/GameEvent"), s = e("../../data/MyData"), c = e("../../data/GameLangData"), l = e("../../manager/DlgGameMgr"), d = e("../../communication/SocketGameManager"), h = e("../../public/ThirdParty/GameSysDefine"), u = e("../../manager/GameSoundMgr"), p = e("../../public/ThirdParty/UIGameMgr"), f = e("../../public/MyComponent/GameHppayUtil"), m = e("./GameConfirmDlg"), g = e("../../public/MyComponent/WindowBase"), y = cc._decorator, _ = y.ccclass, C = (y.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.formType = h.FormType.PopUp;
t._changeMoney = 0;
return t;
}
o = t;
t.prototype.onLoad = function() {
this.setView();
};
t.prototype.setView = function() {
f.default.seekNodeChild(this.node, "closeBtn").on("click", this.onClose, this);
this._dialog = this.node.getChildByName("dlgBg");
this._enterBtn = this._dialog.getChildByName("enterBtn");
this._enterBtn.on("click", this.onBtn, this);
this._enterBtn.getComponent(cc.Button).interactable = !1;
this._ediBox = this._dialog.getChildByName("ediBox");
this._dialog.getChildByName("titelLabel").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("changNameTitle");
f.default.labelShadow(this._dialog.getChildByName("titelLabel").getComponent(cc.Label));
this._ediBox.getComponent(cc.EditBox).placeholder = c.default.ins.GET_DIALOG_LANG("inputName");
this._enterBtn.getChildByName("label").getComponent(cc.Label).string = c.default.ins.GET_DIALOG_LANG("enter");
};
t.prototype.onBtn = function(e) {
u.default.inst.playGameEffect(u.AudioRes.click);
switch (e.node.name) {
case "closeBtn":
this.onClose();
break;

case "enterBtn":
this.sendChangName();
}
};
t.prototype.sendChangName = function() {
var e = this._ediBox.getComponent(cc.EditBox).string;
d.default.getInstance().socketSend.changeNIckName(e);
};
t.prototype.start = function() {
var e = this;
this._ediBox.on("editing-did-began", function() {});
this._ediBox.on("editing-did-ended", function(t) {
var o = t.node.getComponent(cc.EditBox).string;
e._legalDetection(o);
});
};
t.prototype._legalDetection = function(e) {
var t = this;
if (s.default.UserData.chip < this._changeMoney) {
var o = new m.RechargeConf();
o.okCallback = function() {
t.onClose();
l.default.inst.showFullView(l.FullScreenType.charge);
};
p.default.inst().openUIForm(l.DlgType.confirm, [ o ]);
} else 0 != f.default.isUserName(e) ? d.default.getInstance().socketSend.checkNickNameRepeat(e) : f.default.alert(c.default.ins.GET_DIALOG_LANG("nameTips"), new cc.Color(253, 174, 45));
};
t.prototype.onShow = function() {
this.canDestory = !0;
this.register("ChangeNameDlg", [ "PROC_INSPECT_NAME_REPEAT_EVENT", "PROC_CHANGE_NAME_EVENT" ]);
};
t.prototype.handleAppEvent = function(e) {
var t = e.arg;
switch (e.key) {
case "PROC_INSPECT_NAME_REPEAT_EVENT":
this.inspectNameRepeat(t);
break;

case "PROC_CHANGE_NAME_EVENT":
this.procChangeName();
}
};
t.prototype.procChangeName = function() {
s.default.UserData.nickname = this._ediBox.getComponent(cc.EditBox).string;
r.GameEvent.ins().emit("UPDATE_ALL_NAME_LABEL_EVENT");
s.default.limitData.nickTimes += 1;
this.onClose();
};
t.prototype.inspectNameRepeat = function(e) {
0 == e ? this._enterBtn.getComponent(cc.Button).interactable = !0 : f.default.alert(c.default.ins.GET_DIALOG_LANG("changeNameRepeat"), new cc.Color(253, 174, 45));
};
t.prototype.onClose = function() {
o.closeView();
};
var o;
t._prefabPath = "prefabs/lobby/profile/setNickDlg";
return o = a([ _ ], t);
}(g.default));
o.default = C;
cc._RF.pop();
}, {
"../../communication/SocketGameManager": "SocketGameManager",
"../../data/GameLangData": "GameLangData",
"../../data/MyData": "MyData",
"../../manager/DlgGameMgr": "DlgGameMgr",
"../../manager/GameSoundMgr": "GameSoundMgr",
"../../public/MyComponent/GameEvent": "GameEvent",
"../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../public/MyComponent/WindowBase": "WindowBase",
"../../public/ThirdParty/GameSysDefine": "GameSysDefine",
"../../public/ThirdParty/UIGameMgr": "UIGameMgr",
"./GameConfirmDlg": "GameConfirmDlg"
} ],
"rabbit-legacy": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7f5d4yG/HVE064jXqmYoa/+", "rabbit-legacy");
i = function(e) {
(function() {
var t = e, o = t.lib.StreamCipher, i = t.algo, n = [], a = [], r = [], s = i.RabbitLegacy = o.extend({
_doReset: function() {
var e = this._key.words, t = this.cfg.iv, o = this._X = [ e[0], e[3] << 16 | e[2] >>> 16, e[1], e[0] << 16 | e[3] >>> 16, e[2], e[1] << 16 | e[0] >>> 16, e[3], e[2] << 16 | e[1] >>> 16 ], i = this._C = [ e[2] << 16 | e[2] >>> 16, 4294901760 & e[0] | 65535 & e[1], e[3] << 16 | e[3] >>> 16, 4294901760 & e[1] | 65535 & e[2], e[0] << 16 | e[0] >>> 16, 4294901760 & e[2] | 65535 & e[3], e[1] << 16 | e[1] >>> 16, 4294901760 & e[3] | 65535 & e[0] ];
this._b = 0;
for (var n = 0; n < 4; n++) c.call(this);
for (n = 0; n < 8; n++) i[n] ^= o[n + 4 & 7];
if (t) {
var a = t.words, r = a[0], s = a[1], l = 16711935 & (r << 8 | r >>> 24) | 4278255360 & (r << 24 | r >>> 8), d = 16711935 & (s << 8 | s >>> 24) | 4278255360 & (s << 24 | s >>> 8), h = l >>> 16 | 4294901760 & d, u = d << 16 | 65535 & l;
i[0] ^= l;
i[1] ^= h;
i[2] ^= d;
i[3] ^= u;
i[4] ^= l;
i[5] ^= h;
i[6] ^= d;
i[7] ^= u;
for (n = 0; n < 4; n++) c.call(this);
}
},
_doProcessBlock: function(e, t) {
var o = this._X;
c.call(this);
n[0] = o[0] ^ o[5] >>> 16 ^ o[3] << 16;
n[1] = o[2] ^ o[7] >>> 16 ^ o[5] << 16;
n[2] = o[4] ^ o[1] >>> 16 ^ o[7] << 16;
n[3] = o[6] ^ o[3] >>> 16 ^ o[1] << 16;
for (var i = 0; i < 4; i++) {
n[i] = 16711935 & (n[i] << 8 | n[i] >>> 24) | 4278255360 & (n[i] << 24 | n[i] >>> 8);
e[t + i] ^= n[i];
}
},
blockSize: 4,
ivSize: 2
});
function c() {
for (var e = this._X, t = this._C, o = 0; o < 8; o++) a[o] = t[o];
t[0] = t[0] + 1295307597 + this._b | 0;
t[1] = t[1] + 3545052371 + (t[0] >>> 0 < a[0] >>> 0 ? 1 : 0) | 0;
t[2] = t[2] + 886263092 + (t[1] >>> 0 < a[1] >>> 0 ? 1 : 0) | 0;
t[3] = t[3] + 1295307597 + (t[2] >>> 0 < a[2] >>> 0 ? 1 : 0) | 0;
t[4] = t[4] + 3545052371 + (t[3] >>> 0 < a[3] >>> 0 ? 1 : 0) | 0;
t[5] = t[5] + 886263092 + (t[4] >>> 0 < a[4] >>> 0 ? 1 : 0) | 0;
t[6] = t[6] + 1295307597 + (t[5] >>> 0 < a[5] >>> 0 ? 1 : 0) | 0;
t[7] = t[7] + 3545052371 + (t[6] >>> 0 < a[6] >>> 0 ? 1 : 0) | 0;
this._b = t[7] >>> 0 < a[7] >>> 0 ? 1 : 0;
for (o = 0; o < 8; o++) {
var i = e[o] + t[o], n = 65535 & i, s = i >>> 16, c = ((n * n >>> 17) + n * s >>> 15) + s * s, l = ((4294901760 & i) * i | 0) + ((65535 & i) * i | 0);
r[o] = c ^ l;
}
e[0] = r[0] + (r[7] << 16 | r[7] >>> 16) + (r[6] << 16 | r[6] >>> 16) | 0;
e[1] = r[1] + (r[0] << 8 | r[0] >>> 24) + r[7] | 0;
e[2] = r[2] + (r[1] << 16 | r[1] >>> 16) + (r[0] << 16 | r[0] >>> 16) | 0;
e[3] = r[3] + (r[2] << 8 | r[2] >>> 24) + r[1] | 0;
e[4] = r[4] + (r[3] << 16 | r[3] >>> 16) + (r[2] << 16 | r[2] >>> 16) | 0;
e[5] = r[5] + (r[4] << 8 | r[4] >>> 24) + r[3] | 0;
e[6] = r[6] + (r[5] << 16 | r[5] >>> 16) + (r[4] << 16 | r[4] >>> 16) | 0;
e[7] = r[7] + (r[6] << 8 | r[6] >>> 24) + r[5] | 0;
}
t.RabbitLegacy = o._createHelper(s);
})();
return e.RabbitLegacy;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./enc-base64"), e("./md5"), e("./evpkdf"), e("./cipher-core")) : "function" == typeof define && define.amd ? define([ "./core", "./enc-base64", "./md5", "./evpkdf", "./cipher-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./cipher-core": "cipher-core",
"./core": "core",
"./enc-base64": "enc-base64",
"./evpkdf": "evpkdf",
"./md5": "md5"
} ],
rabbit: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a75c6fYMilCjZOgsMB7EGSz", "rabbit");
i = function(e) {
(function() {
var t = e, o = t.lib.StreamCipher, i = t.algo, n = [], a = [], r = [], s = i.Rabbit = o.extend({
_doReset: function() {
for (var e = this._key.words, t = this.cfg.iv, o = 0; o < 4; o++) e[o] = 16711935 & (e[o] << 8 | e[o] >>> 24) | 4278255360 & (e[o] << 24 | e[o] >>> 8);
var i = this._X = [ e[0], e[3] << 16 | e[2] >>> 16, e[1], e[0] << 16 | e[3] >>> 16, e[2], e[1] << 16 | e[0] >>> 16, e[3], e[2] << 16 | e[1] >>> 16 ], n = this._C = [ e[2] << 16 | e[2] >>> 16, 4294901760 & e[0] | 65535 & e[1], e[3] << 16 | e[3] >>> 16, 4294901760 & e[1] | 65535 & e[2], e[0] << 16 | e[0] >>> 16, 4294901760 & e[2] | 65535 & e[3], e[1] << 16 | e[1] >>> 16, 4294901760 & e[3] | 65535 & e[0] ];
this._b = 0;
for (o = 0; o < 4; o++) c.call(this);
for (o = 0; o < 8; o++) n[o] ^= i[o + 4 & 7];
if (t) {
var a = t.words, r = a[0], s = a[1], l = 16711935 & (r << 8 | r >>> 24) | 4278255360 & (r << 24 | r >>> 8), d = 16711935 & (s << 8 | s >>> 24) | 4278255360 & (s << 24 | s >>> 8), h = l >>> 16 | 4294901760 & d, u = d << 16 | 65535 & l;
n[0] ^= l;
n[1] ^= h;
n[2] ^= d;
n[3] ^= u;
n[4] ^= l;
n[5] ^= h;
n[6] ^= d;
n[7] ^= u;
for (o = 0; o < 4; o++) c.call(this);
}
},
_doProcessBlock: function(e, t) {
var o = this._X;
c.call(this);
n[0] = o[0] ^ o[5] >>> 16 ^ o[3] << 16;
n[1] = o[2] ^ o[7] >>> 16 ^ o[5] << 16;
n[2] = o[4] ^ o[1] >>> 16 ^ o[7] << 16;
n[3] = o[6] ^ o[3] >>> 16 ^ o[1] << 16;
for (var i = 0; i < 4; i++) {
n[i] = 16711935 & (n[i] << 8 | n[i] >>> 24) | 4278255360 & (n[i] << 24 | n[i] >>> 8);
e[t + i] ^= n[i];
}
},
blockSize: 4,
ivSize: 2
});
function c() {
for (var e = this._X, t = this._C, o = 0; o < 8; o++) a[o] = t[o];
t[0] = t[0] + 1295307597 + this._b | 0;
t[1] = t[1] + 3545052371 + (t[0] >>> 0 < a[0] >>> 0 ? 1 : 0) | 0;
t[2] = t[2] + 886263092 + (t[1] >>> 0 < a[1] >>> 0 ? 1 : 0) | 0;
t[3] = t[3] + 1295307597 + (t[2] >>> 0 < a[2] >>> 0 ? 1 : 0) | 0;
t[4] = t[4] + 3545052371 + (t[3] >>> 0 < a[3] >>> 0 ? 1 : 0) | 0;
t[5] = t[5] + 886263092 + (t[4] >>> 0 < a[4] >>> 0 ? 1 : 0) | 0;
t[6] = t[6] + 1295307597 + (t[5] >>> 0 < a[5] >>> 0 ? 1 : 0) | 0;
t[7] = t[7] + 3545052371 + (t[6] >>> 0 < a[6] >>> 0 ? 1 : 0) | 0;
this._b = t[7] >>> 0 < a[7] >>> 0 ? 1 : 0;
for (o = 0; o < 8; o++) {
var i = e[o] + t[o], n = 65535 & i, s = i >>> 16, c = ((n * n >>> 17) + n * s >>> 15) + s * s, l = ((4294901760 & i) * i | 0) + ((65535 & i) * i | 0);
r[o] = c ^ l;
}
e[0] = r[0] + (r[7] << 16 | r[7] >>> 16) + (r[6] << 16 | r[6] >>> 16) | 0;
e[1] = r[1] + (r[0] << 8 | r[0] >>> 24) + r[7] | 0;
e[2] = r[2] + (r[1] << 16 | r[1] >>> 16) + (r[0] << 16 | r[0] >>> 16) | 0;
e[3] = r[3] + (r[2] << 8 | r[2] >>> 24) + r[1] | 0;
e[4] = r[4] + (r[3] << 16 | r[3] >>> 16) + (r[2] << 16 | r[2] >>> 16) | 0;
e[5] = r[5] + (r[4] << 8 | r[4] >>> 24) + r[3] | 0;
e[6] = r[6] + (r[5] << 16 | r[5] >>> 16) + (r[4] << 16 | r[4] >>> 16) | 0;
e[7] = r[7] + (r[6] << 8 | r[6] >>> 24) + r[5] | 0;
}
t.Rabbit = o._createHelper(s);
})();
return e.Rabbit;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./enc-base64"), e("./md5"), e("./evpkdf"), e("./cipher-core")) : "function" == typeof define && define.amd ? define([ "./core", "./enc-base64", "./md5", "./evpkdf", "./cipher-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./cipher-core": "cipher-core",
"./core": "core",
"./enc-base64": "enc-base64",
"./evpkdf": "evpkdf",
"./md5": "md5"
} ],
rc4: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "33ca9APwudHa5IQ4Pu9Xrh/", "rc4");
i = function(e) {
(function() {
var t = e, o = t.lib.StreamCipher, i = t.algo, n = i.RC4 = o.extend({
_doReset: function() {
for (var e = this._key, t = e.words, o = e.sigBytes, i = this._S = [], n = 0; n < 256; n++) i[n] = n;
n = 0;
for (var a = 0; n < 256; n++) {
var r = n % o, s = t[r >>> 2] >>> 24 - r % 4 * 8 & 255;
a = (a + i[n] + s) % 256;
var c = i[n];
i[n] = i[a];
i[a] = c;
}
this._i = this._j = 0;
},
_doProcessBlock: function(e, t) {
e[t] ^= a.call(this);
},
keySize: 8,
ivSize: 0
});
function a() {
for (var e = this._S, t = this._i, o = this._j, i = 0, n = 0; n < 4; n++) {
o = (o + e[t = (t + 1) % 256]) % 256;
var a = e[t];
e[t] = e[o];
e[o] = a;
i |= e[(e[t] + e[o]) % 256] << 24 - 8 * n;
}
this._i = t;
this._j = o;
return i;
}
t.RC4 = o._createHelper(n);
var r = i.RC4Drop = n.extend({
cfg: n.cfg.extend({
drop: 192
}),
_doReset: function() {
n._doReset.call(this);
for (var e = this.cfg.drop; e > 0; e--) a.call(this);
}
});
t.RC4Drop = o._createHelper(r);
})();
return e.RC4;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./enc-base64"), e("./md5"), e("./evpkdf"), e("./cipher-core")) : "function" == typeof define && define.amd ? define([ "./core", "./enc-base64", "./md5", "./evpkdf", "./cipher-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./cipher-core": "cipher-core",
"./core": "core",
"./enc-base64": "enc-base64",
"./evpkdf": "evpkdf",
"./md5": "md5"
} ],
ripemd160: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "224f1IxtpdGwrx6yoh0OGs7", "ripemd160");
i = function(e) {
(function() {
var t = e, o = t.lib, i = o.WordArray, n = o.Hasher, a = t.algo, r = i.create([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13 ]), s = i.create([ 5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11 ]), c = i.create([ 11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6 ]), l = i.create([ 8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11 ]), d = i.create([ 0, 1518500249, 1859775393, 2400959708, 2840853838 ]), h = i.create([ 1352829926, 1548603684, 1836072691, 2053994217, 0 ]), u = a.RIPEMD160 = n.extend({
_doReset: function() {
this._hash = i.create([ 1732584193, 4023233417, 2562383102, 271733878, 3285377520 ]);
},
_doProcessBlock: function(e, t) {
for (var o = 0; o < 16; o++) {
var i = t + o, n = e[i];
e[i] = 16711935 & (n << 8 | n >>> 24) | 4278255360 & (n << 24 | n >>> 8);
}
var a, u, C, b, v, S, I, B, w, N, L, T = this._hash.words, D = d.words, E = h.words, A = r.words, R = s.words, M = c.words, G = l.words;
S = a = T[0];
I = u = T[1];
B = C = T[2];
w = b = T[3];
N = v = T[4];
for (o = 0; o < 80; o += 1) {
L = a + e[t + A[o]] | 0;
L += o < 16 ? p(u, C, b) + D[0] : o < 32 ? f(u, C, b) + D[1] : o < 48 ? m(u, C, b) + D[2] : o < 64 ? g(u, C, b) + D[3] : y(u, C, b) + D[4];
L = (L = _(L |= 0, M[o])) + v | 0;
a = v;
v = b;
b = _(C, 10);
C = u;
u = L;
L = S + e[t + R[o]] | 0;
L += o < 16 ? y(I, B, w) + E[0] : o < 32 ? g(I, B, w) + E[1] : o < 48 ? m(I, B, w) + E[2] : o < 64 ? f(I, B, w) + E[3] : p(I, B, w) + E[4];
L = (L = _(L |= 0, G[o])) + N | 0;
S = N;
N = w;
w = _(B, 10);
B = I;
I = L;
}
L = T[1] + C + w | 0;
T[1] = T[2] + b + N | 0;
T[2] = T[3] + v + S | 0;
T[3] = T[4] + a + I | 0;
T[4] = T[0] + u + B | 0;
T[0] = L;
},
_doFinalize: function() {
var e = this._data, t = e.words, o = 8 * this._nDataBytes, i = 8 * e.sigBytes;
t[i >>> 5] |= 128 << 24 - i % 32;
t[14 + (i + 64 >>> 9 << 4)] = 16711935 & (o << 8 | o >>> 24) | 4278255360 & (o << 24 | o >>> 8);
e.sigBytes = 4 * (t.length + 1);
this._process();
for (var n = this._hash, a = n.words, r = 0; r < 5; r++) {
var s = a[r];
a[r] = 16711935 & (s << 8 | s >>> 24) | 4278255360 & (s << 24 | s >>> 8);
}
return n;
},
clone: function() {
var e = n.clone.call(this);
e._hash = this._hash.clone();
return e;
}
});
function p(e, t, o) {
return e ^ t ^ o;
}
function f(e, t, o) {
return e & t | ~e & o;
}
function m(e, t, o) {
return (e | ~t) ^ o;
}
function g(e, t, o) {
return e & o | t & ~o;
}
function y(e, t, o) {
return e ^ (t | ~o);
}
function _(e, t) {
return e << t | e >>> 32 - t;
}
t.RIPEMD160 = n._createHelper(u);
t.HmacRIPEMD160 = n._createHmacHelper(u);
})(Math);
return e.RIPEMD160;
}, "object" == typeof o ? t.exports = o = i(e("./core")) : "function" == typeof define && define.amd ? define([ "./core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core"
} ],
sha1: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3316c/rSntB3J4Zk2D0aLfZ", "sha1");
i = function(e) {
(function() {
var t = e, o = t.lib, i = o.WordArray, n = o.Hasher, a = t.algo, r = [], s = a.SHA1 = n.extend({
_doReset: function() {
this._hash = new i.init([ 1732584193, 4023233417, 2562383102, 271733878, 3285377520 ]);
},
_doProcessBlock: function(e, t) {
for (var o = this._hash.words, i = o[0], n = o[1], a = o[2], s = o[3], c = o[4], l = 0; l < 80; l++) {
if (l < 16) r[l] = 0 | e[t + l]; else {
var d = r[l - 3] ^ r[l - 8] ^ r[l - 14] ^ r[l - 16];
r[l] = d << 1 | d >>> 31;
}
var h = (i << 5 | i >>> 27) + c + r[l];
h += l < 20 ? 1518500249 + (n & a | ~n & s) : l < 40 ? 1859775393 + (n ^ a ^ s) : l < 60 ? (n & a | n & s | a & s) - 1894007588 : (n ^ a ^ s) - 899497514;
c = s;
s = a;
a = n << 30 | n >>> 2;
n = i;
i = h;
}
o[0] = o[0] + i | 0;
o[1] = o[1] + n | 0;
o[2] = o[2] + a | 0;
o[3] = o[3] + s | 0;
o[4] = o[4] + c | 0;
},
_doFinalize: function() {
var e = this._data, t = e.words, o = 8 * this._nDataBytes, i = 8 * e.sigBytes;
t[i >>> 5] |= 128 << 24 - i % 32;
t[14 + (i + 64 >>> 9 << 4)] = Math.floor(o / 4294967296);
t[15 + (i + 64 >>> 9 << 4)] = o;
e.sigBytes = 4 * t.length;
this._process();
return this._hash;
},
clone: function() {
var e = n.clone.call(this);
e._hash = this._hash.clone();
return e;
}
});
t.SHA1 = n._createHelper(s);
t.HmacSHA1 = n._createHmacHelper(s);
})();
return e.SHA1;
}, "object" == typeof o ? t.exports = o = i(e("./core")) : "function" == typeof define && define.amd ? define([ "./core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core"
} ],
sha224: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d1bb9vHgNNLt6Mu6copDIIV", "sha224");
i = function(e) {
(function() {
var t = e, o = t.lib.WordArray, i = t.algo, n = i.SHA256, a = i.SHA224 = n.extend({
_doReset: function() {
this._hash = new o.init([ 3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428 ]);
},
_doFinalize: function() {
var e = n._doFinalize.call(this);
e.sigBytes -= 4;
return e;
}
});
t.SHA224 = n._createHelper(a);
t.HmacSHA224 = n._createHmacHelper(a);
})();
return e.SHA224;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./sha256")) : "function" == typeof define && define.amd ? define([ "./core", "./sha256" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core",
"./sha256": "sha256"
} ],
sha256: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "db35b/q7BlHAo4qUMq4YzZ0", "sha256");
i = function(e) {
(function(t) {
var o = e, i = o.lib, n = i.WordArray, a = i.Hasher, r = o.algo, s = [], c = [];
(function() {
function e(e) {
for (var o = t.sqrt(e), i = 2; i <= o; i++) if (!(e % i)) return !1;
return !0;
}
function o(e) {
return 4294967296 * (e - (0 | e)) | 0;
}
for (var i = 2, n = 0; n < 64; ) {
if (e(i)) {
n < 8 && (s[n] = o(t.pow(i, .5)));
c[n] = o(t.pow(i, 1 / 3));
n++;
}
i++;
}
})();
var l = [], d = r.SHA256 = a.extend({
_doReset: function() {
this._hash = new n.init(s.slice(0));
},
_doProcessBlock: function(e, t) {
for (var o = this._hash.words, i = o[0], n = o[1], a = o[2], r = o[3], s = o[4], d = o[5], h = o[6], u = o[7], p = 0; p < 64; p++) {
if (p < 16) l[p] = 0 | e[t + p]; else {
var f = l[p - 15], m = (f << 25 | f >>> 7) ^ (f << 14 | f >>> 18) ^ f >>> 3, g = l[p - 2], y = (g << 15 | g >>> 17) ^ (g << 13 | g >>> 19) ^ g >>> 10;
l[p] = m + l[p - 7] + y + l[p - 16];
}
var _ = i & n ^ i & a ^ n & a, C = (i << 30 | i >>> 2) ^ (i << 19 | i >>> 13) ^ (i << 10 | i >>> 22), b = u + ((s << 26 | s >>> 6) ^ (s << 21 | s >>> 11) ^ (s << 7 | s >>> 25)) + (s & d ^ ~s & h) + c[p] + l[p];
u = h;
h = d;
d = s;
s = r + b | 0;
r = a;
a = n;
n = i;
i = b + (C + _) | 0;
}
o[0] = o[0] + i | 0;
o[1] = o[1] + n | 0;
o[2] = o[2] + a | 0;
o[3] = o[3] + r | 0;
o[4] = o[4] + s | 0;
o[5] = o[5] + d | 0;
o[6] = o[6] + h | 0;
o[7] = o[7] + u | 0;
},
_doFinalize: function() {
var e = this._data, o = e.words, i = 8 * this._nDataBytes, n = 8 * e.sigBytes;
o[n >>> 5] |= 128 << 24 - n % 32;
o[14 + (n + 64 >>> 9 << 4)] = t.floor(i / 4294967296);
o[15 + (n + 64 >>> 9 << 4)] = i;
e.sigBytes = 4 * o.length;
this._process();
return this._hash;
},
clone: function() {
var e = a.clone.call(this);
e._hash = this._hash.clone();
return e;
}
});
o.SHA256 = a._createHelper(d);
o.HmacSHA256 = a._createHmacHelper(d);
})(Math);
return e.SHA256;
}, "object" == typeof o ? t.exports = o = i(e("./core")) : "function" == typeof define && define.amd ? define([ "./core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core"
} ],
sha384: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "473895C7YVK94qOedpELTUU", "sha384");
i = function(e) {
(function() {
var t = e, o = t.x64, i = o.Word, n = o.WordArray, a = t.algo, r = a.SHA512, s = a.SHA384 = r.extend({
_doReset: function() {
this._hash = new n.init([ new i.init(3418070365, 3238371032), new i.init(1654270250, 914150663), new i.init(2438529370, 812702999), new i.init(355462360, 4144912697), new i.init(1731405415, 4290775857), new i.init(2394180231, 1750603025), new i.init(3675008525, 1694076839), new i.init(1203062813, 3204075428) ]);
},
_doFinalize: function() {
var e = r._doFinalize.call(this);
e.sigBytes -= 16;
return e;
}
});
t.SHA384 = r._createHelper(s);
t.HmacSHA384 = r._createHmacHelper(s);
})();
return e.SHA384;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./x64-core"), e("./sha512")) : "function" == typeof define && define.amd ? define([ "./core", "./x64-core", "./sha512" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core",
"./sha512": "sha512",
"./x64-core": "x64-core"
} ],
sha3: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9489f413WpObLwrPrwWLD04", "sha3");
i = function(e) {
(function(t) {
var o = e, i = o.lib, n = i.WordArray, a = i.Hasher, r = o.x64.Word, s = o.algo, c = [], l = [], d = [];
(function() {
for (var e = 1, t = 0, o = 0; o < 24; o++) {
c[e + 5 * t] = (o + 1) * (o + 2) / 2 % 64;
var i = (2 * e + 3 * t) % 5;
e = t % 5;
t = i;
}
for (e = 0; e < 5; e++) for (t = 0; t < 5; t++) l[e + 5 * t] = t + (2 * e + 3 * t) % 5 * 5;
for (var n = 1, a = 0; a < 24; a++) {
for (var s = 0, h = 0, u = 0; u < 7; u++) {
if (1 & n) {
var p = (1 << u) - 1;
p < 32 ? h ^= 1 << p : s ^= 1 << p - 32;
}
128 & n ? n = n << 1 ^ 113 : n <<= 1;
}
d[a] = r.create(s, h);
}
})();
var h = [];
(function() {
for (var e = 0; e < 25; e++) h[e] = r.create();
})();
var u = s.SHA3 = a.extend({
cfg: a.cfg.extend({
outputLength: 512
}),
_doReset: function() {
for (var e = this._state = [], t = 0; t < 25; t++) e[t] = new r.init();
this.blockSize = (1600 - 2 * this.cfg.outputLength) / 32;
},
_doProcessBlock: function(e, t) {
for (var o = this._state, i = this.blockSize / 2, n = 0; n < i; n++) {
var a = e[t + 2 * n], r = e[t + 2 * n + 1];
a = 16711935 & (a << 8 | a >>> 24) | 4278255360 & (a << 24 | a >>> 8);
r = 16711935 & (r << 8 | r >>> 24) | 4278255360 & (r << 24 | r >>> 8);
(T = o[n]).high ^= r;
T.low ^= a;
}
for (var s = 0; s < 24; s++) {
for (var u = 0; u < 5; u++) {
for (var p = 0, f = 0, m = 0; m < 5; m++) {
p ^= (T = o[u + 5 * m]).high;
f ^= T.low;
}
var g = h[u];
g.high = p;
g.low = f;
}
for (u = 0; u < 5; u++) {
var y = h[(u + 4) % 5], _ = h[(u + 1) % 5], C = _.high, b = _.low;
for (p = y.high ^ (C << 1 | b >>> 31), f = y.low ^ (b << 1 | C >>> 31), m = 0; m < 5; m++) {
(T = o[u + 5 * m]).high ^= p;
T.low ^= f;
}
}
for (var v = 1; v < 25; v++) {
var S = (T = o[v]).high, I = T.low, B = c[v];
B < 32 ? (p = S << B | I >>> 32 - B, f = I << B | S >>> 32 - B) : (p = I << B - 32 | S >>> 64 - B, 
f = S << B - 32 | I >>> 64 - B);
var w = h[l[v]];
w.high = p;
w.low = f;
}
var N = h[0], L = o[0];
N.high = L.high;
N.low = L.low;
for (u = 0; u < 5; u++) for (m = 0; m < 5; m++) {
var T = o[v = u + 5 * m], D = h[v], E = h[(u + 1) % 5 + 5 * m], A = h[(u + 2) % 5 + 5 * m];
T.high = D.high ^ ~E.high & A.high;
T.low = D.low ^ ~E.low & A.low;
}
T = o[0];
var R = d[s];
T.high ^= R.high;
T.low ^= R.low;
}
},
_doFinalize: function() {
var e = this._data, o = e.words, i = (this._nDataBytes, 8 * e.sigBytes), a = 32 * this.blockSize;
o[i >>> 5] |= 1 << 24 - i % 32;
o[(t.ceil((i + 1) / a) * a >>> 5) - 1] |= 128;
e.sigBytes = 4 * o.length;
this._process();
for (var r = this._state, s = this.cfg.outputLength / 8, c = s / 8, l = [], d = 0; d < c; d++) {
var h = r[d], u = h.high, p = h.low;
u = 16711935 & (u << 8 | u >>> 24) | 4278255360 & (u << 24 | u >>> 8);
p = 16711935 & (p << 8 | p >>> 24) | 4278255360 & (p << 24 | p >>> 8);
l.push(p);
l.push(u);
}
return new n.init(l, s);
},
clone: function() {
for (var e = a.clone.call(this), t = e._state = this._state.slice(0), o = 0; o < 25; o++) t[o] = t[o].clone();
return e;
}
});
o.SHA3 = a._createHelper(u);
o.HmacSHA3 = a._createHmacHelper(u);
})(Math);
return e.SHA3;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./x64-core")) : "function" == typeof define && define.amd ? define([ "./core", "./x64-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core",
"./x64-core": "x64-core"
} ],
sha512: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ee724DmyZ1AfrdxrDAQ2NQ4", "sha512");
i = function(e) {
(function() {
var t = e, o = t.lib.Hasher, i = t.x64, n = i.Word, a = i.WordArray, r = t.algo;
function s() {
return n.create.apply(n, arguments);
}
var c = [ s(1116352408, 3609767458), s(1899447441, 602891725), s(3049323471, 3964484399), s(3921009573, 2173295548), s(961987163, 4081628472), s(1508970993, 3053834265), s(2453635748, 2937671579), s(2870763221, 3664609560), s(3624381080, 2734883394), s(310598401, 1164996542), s(607225278, 1323610764), s(1426881987, 3590304994), s(1925078388, 4068182383), s(2162078206, 991336113), s(2614888103, 633803317), s(3248222580, 3479774868), s(3835390401, 2666613458), s(4022224774, 944711139), s(264347078, 2341262773), s(604807628, 2007800933), s(770255983, 1495990901), s(1249150122, 1856431235), s(1555081692, 3175218132), s(1996064986, 2198950837), s(2554220882, 3999719339), s(2821834349, 766784016), s(2952996808, 2566594879), s(3210313671, 3203337956), s(3336571891, 1034457026), s(3584528711, 2466948901), s(113926993, 3758326383), s(338241895, 168717936), s(666307205, 1188179964), s(773529912, 1546045734), s(1294757372, 1522805485), s(1396182291, 2643833823), s(1695183700, 2343527390), s(1986661051, 1014477480), s(2177026350, 1206759142), s(2456956037, 344077627), s(2730485921, 1290863460), s(2820302411, 3158454273), s(3259730800, 3505952657), s(3345764771, 106217008), s(3516065817, 3606008344), s(3600352804, 1432725776), s(4094571909, 1467031594), s(275423344, 851169720), s(430227734, 3100823752), s(506948616, 1363258195), s(659060556, 3750685593), s(883997877, 3785050280), s(958139571, 3318307427), s(1322822218, 3812723403), s(1537002063, 2003034995), s(1747873779, 3602036899), s(1955562222, 1575990012), s(2024104815, 1125592928), s(2227730452, 2716904306), s(2361852424, 442776044), s(2428436474, 593698344), s(2756734187, 3733110249), s(3204031479, 2999351573), s(3329325298, 3815920427), s(3391569614, 3928383900), s(3515267271, 566280711), s(3940187606, 3454069534), s(4118630271, 4000239992), s(116418474, 1914138554), s(174292421, 2731055270), s(289380356, 3203993006), s(460393269, 320620315), s(685471733, 587496836), s(852142971, 1086792851), s(1017036298, 365543100), s(1126000580, 2618297676), s(1288033470, 3409855158), s(1501505948, 4234509866), s(1607167915, 987167468), s(1816402316, 1246189591) ], l = [];
(function() {
for (var e = 0; e < 80; e++) l[e] = s();
})();
var d = r.SHA512 = o.extend({
_doReset: function() {
this._hash = new a.init([ new n.init(1779033703, 4089235720), new n.init(3144134277, 2227873595), new n.init(1013904242, 4271175723), new n.init(2773480762, 1595750129), new n.init(1359893119, 2917565137), new n.init(2600822924, 725511199), new n.init(528734635, 4215389547), new n.init(1541459225, 327033209) ]);
},
_doProcessBlock: function(e, t) {
for (var o = this._hash.words, i = o[0], n = o[1], a = o[2], r = o[3], s = o[4], d = o[5], h = o[6], u = o[7], p = i.high, f = i.low, m = n.high, g = n.low, y = a.high, _ = a.low, C = r.high, b = r.low, v = s.high, S = s.low, I = d.high, B = d.low, w = h.high, N = h.low, L = u.high, T = u.low, D = p, E = f, A = m, R = g, M = y, G = _, O = C, P = b, k = v, x = S, F = I, U = B, H = w, V = N, j = L, W = T, z = 0; z < 80; z++) {
var Y = l[z];
if (z < 16) var J = Y.high = 0 | e[t + 2 * z], K = Y.low = 0 | e[t + 2 * z + 1]; else {
var X = l[z - 15], q = X.high, Q = X.low, Z = (q >>> 1 | Q << 31) ^ (q >>> 8 | Q << 24) ^ q >>> 7, $ = (Q >>> 1 | q << 31) ^ (Q >>> 8 | q << 24) ^ (Q >>> 7 | q << 25), ee = l[z - 2], te = ee.high, oe = ee.low, ie = (te >>> 19 | oe << 13) ^ (te << 3 | oe >>> 29) ^ te >>> 6, ne = (oe >>> 19 | te << 13) ^ (oe << 3 | te >>> 29) ^ (oe >>> 6 | te << 26), ae = l[z - 7], re = ae.high, se = ae.low, ce = l[z - 16], le = ce.high, de = ce.low;
J = (J = (J = Z + re + ((K = $ + se) >>> 0 < $ >>> 0 ? 1 : 0)) + ie + ((K += ne) >>> 0 < ne >>> 0 ? 1 : 0)) + le + ((K += de) >>> 0 < de >>> 0 ? 1 : 0);
Y.high = J;
Y.low = K;
}
var he, ue = k & F ^ ~k & H, pe = x & U ^ ~x & V, fe = D & A ^ D & M ^ A & M, me = E & R ^ E & G ^ R & G, ge = (D >>> 28 | E << 4) ^ (D << 30 | E >>> 2) ^ (D << 25 | E >>> 7), ye = (E >>> 28 | D << 4) ^ (E << 30 | D >>> 2) ^ (E << 25 | D >>> 7), _e = (k >>> 14 | x << 18) ^ (k >>> 18 | x << 14) ^ (k << 23 | x >>> 9), Ce = (x >>> 14 | k << 18) ^ (x >>> 18 | k << 14) ^ (x << 23 | k >>> 9), be = c[z], ve = be.high, Se = be.low, Ie = j + _e + ((he = W + Ce) >>> 0 < W >>> 0 ? 1 : 0), Be = ye + me;
j = H;
W = V;
H = F;
V = U;
F = k;
U = x;
k = O + (Ie = (Ie = (Ie = Ie + ue + ((he += pe) >>> 0 < pe >>> 0 ? 1 : 0)) + ve + ((he += Se) >>> 0 < Se >>> 0 ? 1 : 0)) + J + ((he += K) >>> 0 < K >>> 0 ? 1 : 0)) + ((x = P + he | 0) >>> 0 < P >>> 0 ? 1 : 0) | 0;
O = M;
P = G;
M = A;
G = R;
A = D;
R = E;
D = Ie + (ge + fe + (Be >>> 0 < ye >>> 0 ? 1 : 0)) + ((E = he + Be | 0) >>> 0 < he >>> 0 ? 1 : 0) | 0;
}
f = i.low = f + E;
i.high = p + D + (f >>> 0 < E >>> 0 ? 1 : 0);
g = n.low = g + R;
n.high = m + A + (g >>> 0 < R >>> 0 ? 1 : 0);
_ = a.low = _ + G;
a.high = y + M + (_ >>> 0 < G >>> 0 ? 1 : 0);
b = r.low = b + P;
r.high = C + O + (b >>> 0 < P >>> 0 ? 1 : 0);
S = s.low = S + x;
s.high = v + k + (S >>> 0 < x >>> 0 ? 1 : 0);
B = d.low = B + U;
d.high = I + F + (B >>> 0 < U >>> 0 ? 1 : 0);
N = h.low = N + V;
h.high = w + H + (N >>> 0 < V >>> 0 ? 1 : 0);
T = u.low = T + W;
u.high = L + j + (T >>> 0 < W >>> 0 ? 1 : 0);
},
_doFinalize: function() {
var e = this._data, t = e.words, o = 8 * this._nDataBytes, i = 8 * e.sigBytes;
t[i >>> 5] |= 128 << 24 - i % 32;
t[30 + (i + 128 >>> 10 << 5)] = Math.floor(o / 4294967296);
t[31 + (i + 128 >>> 10 << 5)] = o;
e.sigBytes = 4 * t.length;
this._process();
return this._hash.toX32();
},
clone: function() {
var e = o.clone.call(this);
e._hash = this._hash.clone();
return e;
},
blockSize: 32
});
t.SHA512 = o._createHelper(d);
t.HmacSHA512 = o._createHmacHelper(d);
})();
return e.SHA512;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./x64-core")) : "function" == typeof define && define.amd ? define([ "./core", "./x64-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core",
"./x64-core": "x64-core"
} ],
spinAction: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "94a59FHYu9G9Yrt48uOMe3d", "spinAction");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = r.property, l = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.label = null;
t.text = "hello";
return t;
}
o = t;
t.prototype.start = function() {};
t.prototype.spinAction = function() {
o.spinAction();
};
t.spinAction = function() {
jsb.reflection.callStaticMethod("ZTSpinVC", "spinAction");
};
var o;
a([ c(cc.Label) ], t.prototype, "label", void 0);
a([ c ], t.prototype, "text", void 0);
return o = a([ s ], t);
}(cc.Component);
o.default = l;
cc._RF.pop();
}, {} ],
test: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c8b9aVN/yNIsL2f+AofScw9", "test");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../Components/MyEvent"), s = e("../Conf/Const"), c = e("../Conf/ScreenAdapter"), l = e("../Data/GameData"), d = e("../UIFrame/SoundMgr"), h = e("./GameUtil"), u = e("../Manager/CardManager"), p = e("./SpritePreLoader"), f = cc._decorator, m = f.ccclass, g = (f.property, 
function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._timeX = 0;
t._isOpenTouch = !1;
t._isCardOpen = !1;
t._canMiCard = !1;
t._firstTouchBeganPos = null;
t._lastTouchEndPos = null;
t._currTouchBeganPos = null;
t._currTouchEndPos = null;
return t;
}
t.prototype.initData = function() {
this._pukeDisRatio = .1;
};
t.prototype.start = function() {
cc.dynamicAtlasManager.enabled = !1;
this.initData();
this._bgMaterialNode = this.node.getChildByName("cardBg");
this.addCardBackNumber();
this._zmMaterialNode = this._bgMaterialNode.getChildByName("cardNum");
this._cardFace = this.node.getChildByName("cardFace");
this._bgMaterial = this._bgMaterialNode.getComponent(cc.Sprite).getMaterials()[0];
this._zmMaterial = this._zmMaterialNode.getComponent(cc.Sprite).getMaterials()[0];
this.resetCardRect();
var e = this._bgMaterialNode.width * this._bgMaterialNode.scaleX * .15;
this._zmMaterial.effect.setProperty("shadowDis", e);
this._cardFace.active = !1;
};
t.prototype.addCardBackNumber = function() {
if (0 != this.node.sha512 && null != this._bgMaterialNode) {
var e = this.node.cardIndex;
if (!(e <= 0)) {
var t = new cc.Node();
t.addComponent(cc.Sprite);
t.getComponent(cc.Sprite).spriteFrame = p.SPCache.pokerFlagBig;
t.anchorX = 0;
t.anchorY = 0;
t.x = -333;
t.y = -467;
t.name = "flag";
t.parent = this._bgMaterialNode;
var o = new cc.Node();
o.addComponent(cc.Label);
o.getComponent(cc.Label).string = h.default.formatNumberToStr(e, 3);
o.getComponent(cc.Label).fontSize = 150;
o.getComponent(cc.Label).lineHeight = 150;
o.getComponent(cc.Label).enableBold = !0;
o.addComponent(cc.LabelOutline);
o.getComponent(cc.LabelOutline).color = new cc.Color(255, 255, 255);
o.getComponent(cc.LabelOutline).width = 16;
o.color = new cc.Color(79, 79, 79);
o.anchorY = 1;
o.anchorX = 1;
o.x = 330;
o.y = 480;
o.name = "cardIndex";
o.parent = this._bgMaterialNode;
t.active = !1;
o.active = !1;
}
}
};
t.prototype.addCardNumer = function() {
if (0 != this.node.sha512 && null != this._cardFace) {
var e = this._cardFace.getChildByName("flag");
if (null == e) {
(e = new cc.Node()).addComponent(cc.Sprite);
e.getComponent(cc.Sprite).spriteFrame = p.SPCache.pokerFlagBig;
e.anchorX = 0;
e.anchorY = 0;
e.x = -333;
e.y = -467;
e.name = "flag";
e.parent = this._cardFace;
}
var t = this.node.cardIndex, o = this._cardFace.getChildByName("cardIndex");
if (null == o) {
(o = new cc.Node()).addComponent(cc.Label);
o.getComponent(cc.Label).string = h.default.formatNumberToStr(t, 3);
o.getComponent(cc.Label).fontSize = 150;
o.getComponent(cc.Label).lineHeight = 150;
o.getComponent(cc.Label).enableBold = !0;
o.addComponent(cc.LabelOutline);
o.getComponent(cc.LabelOutline).color = new cc.Color(255, 255, 255);
o.getComponent(cc.LabelOutline).width = 16;
o.color = new cc.Color(79, 79, 79);
o.anchorY = 1;
o.anchorX = 1;
o.x = 330;
o.y = 480;
o.name = "cardIndex";
o.parent = this._cardFace;
}
e.active = !1;
o.active = !1;
}
};
t.prototype.removeCardBackNumber = function() {
if (null != this._bgMaterialNode) {
var e = this._bgMaterialNode.getChildByName("flag");
null != e && e.removeFromParent(!0);
var t = this._bgMaterialNode.getChildByName("cardIndex");
null != t && t.removeFromParent(!0);
}
};
t.prototype.smallSizeBgMaterial = function(e) {
var t = this;
c.default.getInstance().screenType == s.screenTypeEnum.isIphone6Szie && (e ? this.scheduleOnce(function() {
t._bgMaterialNode.getComponent(cc.Sprite).spriteFrame = u.default.inst.getCardBackSpriteFrame(l.default.roomData.cardColor, !0);
t._bgMaterialNode.width = 664;
t._bgMaterialNode.height = 936;
}, 1 / 60) : this.scheduleOnce(function() {
t._bgMaterialNode.getComponent(cc.Sprite).spriteFrame = u.default.inst.getCardBackSpriteFrame(l.default.roomData.cardColor);
}, 1 / 60));
};
t.prototype.openTouch = function(e) {
this._call = e;
this.touchLayer = this.node.getChildByName("touchLayer");
this.touchLayer.on(cc.Node.EventType.TOUCH_START, this.touchBegan, this);
this.touchLayer.on(cc.Node.EventType.TOUCH_MOVE, this.touchMove, this);
this.touchLayer.on(cc.Node.EventType.TOUCH_END, this.touchEnded, this);
this.touchLayer.on(cc.Node.EventType.TOUCH_CANCEL, this.touchCancel, this);
this.touchLayer._touchListener.setSwallowTouches(!0);
this._isOpenTouch = !0;
this.node.off("click");
};
t.prototype.openClick = function() {
this.cardFace || r.MyEvent.getInstance().emit("UNMANNED_CARD_CLICK_OPEN_EVENT", {
id: this.node.cardid,
card: this.node.cardnum,
rotate: this._bgMaterialNode.angle
});
};
t.prototype.closeTouch = function() {
if (h.default.isnull(this.touchLayer)) {
this.touchLayer.off(cc.Node.EventType.TOUCH_START);
this.touchLayer.off(cc.Node.EventType.TOUCH_MOVE);
this.touchLayer.off(cc.Node.EventType.TOUCH_END);
this.touchLayer.off(cc.Node.EventType.TOUCH_CANCEL);
}
};
t.prototype.resetCardRect = function() {
if (this._bgMaterialNode.angle % 180 == 0) {
this._cardWidth = this._cardFace.width * this.node.scaleX;
this._cardHeight = this._cardFace.height * this.node.scaleY;
} else {
this._cardWidth = this._cardFace.height * this.node.scaleY;
this._cardHeight = this._cardFace.width * this.node.scaleX;
}
this._cardPosX = this.node.x - this._cardWidth / 2;
this._cardPosY = this.node.y - this._cardHeight / 2;
this._cardRect = cc.rect(this._cardPosX, this._cardPosY, this._cardWidth, this._cardHeight);
};
t.prototype.automaticFlop = function(e, t) {
var o = this;
if (this.node.scaleX > .5) this.openCardFace(); else if (h.default.isnull(this._cardFace)) {
0 == this._cardFace.active && d.default.inst.playEffect("flop");
if (this._cardFace.angle % 180 == 0) {
this.node.scaleX;
if (0 == this._cardFace.active) {
if (l.default.roomData.roomReconnectIng) {
this.scheduleOnce(function() {
o._cardFace.active = !0;
o._bgMaterialNode.active = !1;
o._zmMaterialNode.active = !1;
}, 1 / 60);
return;
}
var i = 0;
t && "left" == t ? i = -15 : t && "right" == t && (i = 15);
var n = new cc.Node();
n.addComponent(cc.Sprite);
n.getComponent(cc.Sprite).spriteFrame = p.SPCache.pokerFront;
n.parent = this.node.parent;
n.setPosition(this.node.getPosition().x, this.node.getPosition().y - 2);
n.color = new cc.Color(0, 0, 0, 255);
n.opacity = 40;
n.setScale(112 / 634, 150 / 936);
n.angle = 0;
cc.tween(n).to(.2, {
y: n.getPosition().y + 12,
scaleX: 30 / 634,
scaleY: 159 / 936 * .8,
skewY: 28
}, {
easing: "quadOut"
}).call(function() {
n.skewY = -28;
n.y = n.getPosition().y + 10;
}, this).to(.2, {
scaleX: 124 / 634,
scaleY: 166 / 936,
y: n.getPosition().y + 14,
x: n.getPosition().x + i,
skewY: 0
}, {
easing: "circOut"
}).to(.1, {
scaleX: 112 / 634,
scaleY: 150 / 936,
y: n.getPosition().y,
x: n.getPosition().x
}, {
easing: "quadOut"
}).call(function() {
n.removeFromParent();
}, this).start();
cc.tween(this.node).to(.2, {
scaleX: 34 / 634,
scaleY: 244 / 936 * .8,
y: this.node.getPosition().y + 52,
skewY: 28
}, {
easing: "quadOut"
}).call(function() {
o._cardFace.active = !0;
o._bgMaterialNode.active = !1;
o._zmMaterialNode.active = !1;
o.node.skewY = -28;
}, this).to(.2, {
scaleX: 124 / 634,
scaleY: 166 / 936,
y: this.node.getPosition().y + 45,
x: this.node.getPosition().x + i,
skewY: 0
}, {
easing: "circOut"
}).to(.1, {
scaleX: 112 / 634,
scaleY: 150 / 936,
y: this.node.getPosition().y,
x: this.node.getPosition().x
}, {
easing: "quadOut"
}).call(function() {}).start();
}
} else {
this.node.scaleY;
if (0 == this._cardFace.active) {
if (l.default.roomData.roomReconnectIng) {
this.scheduleOnce(function() {
o._cardFace.active = !0;
o._bgMaterialNode.active = !1;
o._zmMaterialNode.active = !1;
}, 1 / 60);
return;
}
i = 0;
t && "left" == t ? i = -4 : t && "right" == t && (i = 4);
var a = new cc.Node();
a.addComponent(cc.Sprite);
a.getComponent(cc.Sprite).spriteFrame = p.SPCache.pokerFront;
a.parent = this.node.parent;
a.setPosition(this.node.getPosition().x, this.node.getPosition().y - 2);
a.color = new cc.Color(0, 0, 0, 255);
a.opacity = 40;
a.setScale(112 / 634, 150 / 936);
a.angle = -90;
cc.tween(a).to(.2, {
x: a.getPosition().x + 1,
y: a.getPosition().y + 20,
scaleX: 90 / 634,
scaleY: 150 / 936,
skewY: -7
}, {
easing: "quadOut"
}).call(function() {
a.skewY = 0;
a.y = a.getPosition().y + 3;
a.x = a.getPosition().x - 10;
a.scaleX = 76 / 634;
a.scaleY = 150 / 936;
}, this).to(.2, {
scaleY: 118 / 634,
scaleX: 158 / 936,
y: a.getPosition().y - 14,
x: a.getPosition().x + i,
skewY: 0,
skewX: 0
}, {
easing: "circOut"
}).to(.1, {
scaleY: 112 / 634,
scaleX: 150 / 936,
y: a.getPosition().y,
x: a.getPosition().x
}, {
easing: "quadOut"
}).call(function() {
a.removeFromParent();
}, this).start();
cc.tween(this.node).to(.2, {
scaleX: 157 / 936,
scaleY: 56 / 634,
x: this.node.getPosition().x - 4,
y: this.node.getPosition().y + 42,
skewX: 7
}, {
easing: "quadOut"
}).call(function() {
o._cardFace.active = !0;
o._bgMaterialNode.active = !1;
o._zmMaterialNode.active = !1;
o.node.x = o.node.getPosition().x + 4;
o.node.y = o.node.getPosition().y + 24;
o.node.scaleY = 15 / 634;
o.node.skewX = -8;
}, this).to(.2, {
scaleX: 117 / 634,
scaleY: 157 / 936,
y: this.node.getPosition().y + 32,
x: this.node.getPosition().x + i,
skewX: 0
}, {
easing: "circOut"
}).to(.1, {
scaleX: 112 / 634,
scaleY: 150 / 936,
y: this.node.getPosition().y,
x: this.node.getPosition().x
}, {
easing: "quadOut"
}).call(function() {}).start();
}
}
}
};
t.prototype.reconnectAutomaticFlop = function() {
var e = this;
console.log("333333", this._cardFace.angle % 180, this._cardFace.active);
this._cardFace.angle, 0 == this._cardFace.active && this.scheduleOnce(function() {
e._cardFace.active = !0;
e._bgMaterialNode.active = !1;
e._zmMaterialNode.active = !1;
}, 1 / 60);
};
t.prototype.getCardIfFlop = function() {
return 1 == this._cardFace.active;
};
t.prototype.getRotatePos = function(e, t, o) {
var i = o / (180 / Math.PI), n = cc.v2(t.x - e.x, t.y - e.y), a = cc.v2(0, 0);
a.x = n.x * Math.cos(i) - n.y * Math.sin(i);
a.y = n.x * Math.sin(i) + n.y * Math.cos(i);
a.x = a.x + e.x;
a.y = a.y + e.y;
return a;
};
t.prototype.isInside = function(e, t, o, i) {
for (var n = !1, a = e - 1, r = 0; r < e; a = r++) {
var s = o[r] > i.y != o[a] > i.y, c = i.x < (t[a] - t[r]) * (i.y - o[r]) / (o[a] - o[r]) + t[r];
s && c && (n = !n);
}
return n;
};
t.prototype.getTouchTypeByNode = function(e, t) {
var o = t.convertToWorldSpaceAR(cc.v2(0, 0)), i = t.anchorX, n = t.anchorY, a = t.angle, r = t.width * t.scaleX, s = t.height * t.scaleY, c = Math.max(100, r * this._pukeDisRatio), l = Math.max(100, s * this._pukeDisRatio), d = cc.v2(-r * i + o.x, s * (1 - n) + o.y), h = cc.v2(-r * i + o.x, -s * n + o.y), u = cc.v2(r * (1 - i) + o.x, -s * n + o.y), p = cc.v2(r * (1 - i) + o.x, s * (1 - n) + o.y), f = cc.v2(d.x + c, d.y - l), m = cc.v2(h.x + c, h.y + l), g = cc.v2(u.x - c, u.y + l), y = cc.v2(p.x - c, p.y - l);
d = this.getRotatePos(o, d, a);
h = this.getRotatePos(o, h, a);
u = this.getRotatePos(o, u, a);
p = this.getRotatePos(o, p, a);
f = this.getRotatePos(o, f, a);
m = this.getRotatePos(o, m, a);
g = this.getRotatePos(o, g, a);
y = this.getRotatePos(o, y, a);
var _ = [ d.x, h.x, u.x, p.x ], C = [ d.y, h.y, u.y, p.y ], b = [ f.x, m.x, g.x, y.x ], v = [ f.y, m.y, g.y, y.y ];
return this.isInside(4, _, C, e) && !this.isInside(4, b, v, e) ? 2 : this.isInside(4, b, v, e) ? 1 : 3;
};
t.prototype.resetPos = function() {
var e = cc.v2(0, 0);
this._bgMaterial.effect.setProperty("firstPos", e);
this._bgMaterial.effect.setProperty("secondPos", e);
this._zmMaterial.effect.setProperty("firstPos", e);
this._zmMaterial.effect.setProperty("secondPos", e);
var t = Date.now() - this._timeX;
if (this._isOpenTouch) {
this._timeX = Date.now();
t > 15e4 && (t = 0);
r.MyEvent.getInstance().emit("MIPAI_DATA_EVENT", {
type: s.broadcastType.mipai_reset,
id: this.node.cardid,
time: t
});
}
};
t.prototype.runActionCard = function(e, t) {
this._bgMaterial.effect.setProperty("firstPos", e);
this._bgMaterial.effect.setProperty("secondPos", t);
this._zmMaterial.effect.setProperty("firstPos", e);
this._zmMaterial.effect.setProperty("secondPos", t);
var o = Date.now() - this._timeX;
if (this._isOpenTouch && o > 200) {
this._timeX = Date.now();
o > 15e4 && (o = 0);
var i = this.node.x - this._cardFace.width / 2 * this.node.scaleX, n = this.node.y - this._cardFace.height / 2 * this.node.scaleY, a = (e.x - i) / (this._cardFace.width * this.node.scaleX), c = (e.y - n) / (this._cardFace.height * this.node.scaleY), l = (t.x - i) / (this._cardFace.width * this.node.scaleX), d = (t.y - n) / (this._cardFace.height * this.node.scaleY), h = cc.v2(a, c), u = cc.v2(l, d);
r.MyEvent.getInstance().emit("MIPAI_DATA_EVENT", {
type: s.broadcastType.mipai_move,
id: this.node.cardid,
startPos: h,
nowPos: u,
time: o
});
}
};
t.prototype.broadcastMove = function(e, t) {
if (e && t && h.default.isnull(this._bgMaterialNode)) {
var o = this._cardFace.width * this.node.scaleX, i = this._cardFace.height * this.node.scaleY, n = this.node.x - o / 2, a = this.node.y - i / 2, r = new cc.Vec2(n + o * e.x, a + i * e.y), s = new cc.Vec2(n + o * t.x, a + i * t.y);
this._bgMaterial.effect.setProperty("firstPos", r);
this._bgMaterial.effect.setProperty("secondPos", s);
this._zmMaterial.effect.setProperty("firstPos", r);
this._zmMaterial.effect.setProperty("secondPos", s);
}
};
t.prototype.broadcastAngle = function(e) {
if (h.default.isnull(this._bgMaterialNode)) {
this._bgMaterialNode.angle = e;
this._cardFace.angle = this._bgMaterialNode.angle;
}
};
t.prototype.broadcastResetPos = function() {
if (h.default.isnull(this._bgMaterialNode)) {
var e = cc.v2(0, 0);
this._bgMaterial.effect.setProperty("firstPos", e);
this._bgMaterial.effect.setProperty("secondPos", e);
this._zmMaterial.effect.setProperty("firstPos", e);
this._zmMaterial.effect.setProperty("secondPos", e);
}
};
t.prototype.getAngleByPos = function(e, t) {
var o = t.x - e.x, i = t.y - e.y;
if (0 == o) return i > 0 ? 90 : 180;
var n = Math.atan(i / o);
return 180 / Math.PI * n;
};
t.prototype.runRatationAction = function(e, t) {
var o = this._bgMaterialNode.convertToWorldSpaceAR(cc.v2(0, 0)), i = this.getAngleByPos(o, e), n = this.getAngleByPos(o, t);
this._bgMaterialNode.angle = this.backAngle + (n - i);
};
t.prototype.touchBegan = function(e) {
r.MyEvent.getInstance().emit("CHANGE_GUIDE_STATUS", 0);
var t = e.getLocation();
this._currTouchBeganPos = t;
var o = this.getTouchTypeByNode(t, this._bgMaterialNode);
if (this._isCardOpen) if (this.isTouchCardFront(this._currTouchBeganPos)) this._canMiCard = !0; else if (2 == o) {
this._firstTouchBeganPos = t;
this._currTouchEndPos = null;
this._lastTouchEndPos = t;
this._canMiCard = !0;
this.resetCardRect();
this.resetRotate();
this._isCardOpen = !1;
} else this._canMiCard = !1; else {
this._firstTouchBeganPos = t;
this._currTouchEndPos = null;
this._lastTouchEndPos = t;
if (1 == o) this._canMiCard = !1; else if (2 == o) {
this._canMiCard = !0;
this._isCardOpen = !1;
} else {
this._canMiCard = !1;
this._isCardOpen = !1;
}
}
};
t.prototype.touchMove = function(e) {
var t = e.getLocation(), o = this.getTouchTypeByNode(t, this._bgMaterialNode);
if (0 == this._canMiCard && 2 == o) {
this._firstTouchBeganPos = t;
this._currTouchBeganPos = t;
this._lastTouchEndPos = t;
this._canMiCard = !0;
} else if (this._canMiCard && (this._isCardOpen || 1 == o)) {
this._isCardOpen = !0;
var i = cc.v2(t.x - this._currTouchBeganPos.x, t.y - this._currTouchBeganPos.y), n = cc.v2(this._lastTouchEndPos.x + i.x, this._lastTouchEndPos.y + i.y), a = Date.now() - this._timeX;
if (this.isCoverHalfCard(n)) {
if (this._isOpenTouch) {
this._timeX = Date.now();
a > 15e4 && (a = 0);
r.MyEvent.getInstance().emit("MIPAI_DATA_EVENT", {
type: s.broadcastType.mipai_open,
id: this.node.cardid,
time: a
});
}
var c = this._bgMaterialNode.angle, l = c;
if (n.x - this._firstTouchBeganPos.x != 0) {
var d = (n.y - this._firstTouchBeganPos.y) / (n.x - this._firstTouchBeganPos.x), h = 180 * Math.atan(Math.abs(d)) / Math.PI;
l = d > 0 ? 2 * -h : 2 * -(90 - h);
}
l = c % 180 == 0 ? -(180 + l) : -(90 + l);
this._cardFace.angle = l;
this.openCardFace();
this.playerOpen();
this._canMiCard = !1;
}
this.runActionCard(this._firstTouchBeganPos, n);
}
};
t.prototype.touchEnded = function(e) {
var t = e.getLocation();
if (this._canMiCard) {
var o = cc.v2(t.x - this._currTouchBeganPos.x, t.y - this._currTouchBeganPos.y);
this._lastTouchEndPos = cc.v2(this._lastTouchEndPos.x + o.x, this._lastTouchEndPos.y + o.y);
}
this._currTouchEndPos = t;
if (0 == this._canMiCard && this._cardRect.contains(t) && Math.abs(this._currTouchBeganPos.x - this._currTouchEndPos.x) < 5 && Math.abs(this._currTouchBeganPos.y - this._currTouchEndPos.y) < 5) {
this._isCardOpen ? this.resetRotate() : this.setRotate();
this._currTouchBeganPos = null;
this._currTouchEndPos = null;
this._firstTouchBeganPos = null;
this._lastTouchEndPos = null;
}
};
t.prototype.moveCard = function(e, t, o, i, n, a) {
var r = this;
this.closeTouch();
var s = i / o, c = (t.x - e.x) / 30, l = (t.y - e.y) / 30, d = (i - o) / 30, h = null, u = null, p = 0, f = 0, m = 0, g = 0, y = 0, _ = 0, C = 0, b = 0;
if (this._isCardOpen) {
var v = this._firstTouchBeganPos.x - e.x, S = this._firstTouchBeganPos.y - e.y, I = this._lastTouchEndPos.x - e.x, B = this._lastTouchEndPos.y - e.y;
y = t.x + v * s;
_ = t.y + S * s;
C = t.x + I * s;
b = t.y + B * s;
var w = y - this._firstTouchBeganPos.x, N = _ - this._firstTouchBeganPos.y, L = C - this._lastTouchEndPos.x, T = b - this._lastTouchEndPos.y;
u = this._lastTouchEndPos;
h = this._firstTouchBeganPos;
p = w / 30;
f = N / 30;
m = L / 30;
g = T / 30;
}
this.schedule(function() {
r.node.x = r.node.x + c;
r.node.y = r.node.y + l;
r.node.scaleX = r.node.scaleX + d;
r.node.scaleY = r.node.scaleY + d;
if (r._isCardOpen) {
h.x = h.x + p;
h.y = h.y + f;
u.x = u.x + m;
u.y = u.y + g;
r._bgMaterial.effect.setProperty("firstPos", h);
r._bgMaterial.effect.setProperty("secondPos", u);
r._zmMaterial.effect.setProperty("firstPos", h);
r._zmMaterial.effect.setProperty("secondPos", u);
}
}, n / 30, 29, a);
cc.tween(this.node).delay(a + .5).call(function() {
r.resetCardRect();
if (r._isCardOpen) {
r._firstTouchBeganPos = cc.v2(y, _);
r._lastTouchEndPos = cc.v2(C, b);
}
r.touchLayer = r.node.getChildByName("touchLayer");
r.touchLayer.on(cc.Node.EventType.TOUCH_START, r.touchBegan, r);
r.touchLayer.on(cc.Node.EventType.TOUCH_MOVE, r.touchMove, r);
r.touchLayer.on(cc.Node.EventType.TOUCH_END, r.touchEnded, r);
r.touchLayer.on(cc.Node.EventType.TOUCH_CANCEL, r.touchCancel, r);
r.touchLayer._touchListener.setSwallowTouches(!0);
r._isOpenTouch = !0;
}, this).start();
};
t.prototype.touchCancel = function() {
this.resetRotate();
this._currTouchBeganPos = null;
this._currTouchEndPos = null;
this._firstTouchBeganPos = null;
this._lastTouchEndPos = null;
};
t.prototype.isCoverHalfCard = function(e) {
var t = !1, o = Math.sqrt(Math.pow(this._firstTouchBeganPos.x - e.x, 2) + Math.pow(this._firstTouchBeganPos.y - e.y, 2)), i = (e.y - this._firstTouchBeganPos.y) / (e.x - this._firstTouchBeganPos.x), n = 180 * Math.atan(Math.abs(i)) / Math.PI * Math.PI / 180, a = this._cardHeight * this._cardWidth, r = 0, s = o / 2;
if (e.y - this._firstTouchBeganPos.y >= 0 && e.x - this._firstTouchBeganPos.x >= 0) {
var c = Math.abs(this._firstTouchBeganPos.y - this._cardPosY);
if ((h = Math.abs(this._firstTouchBeganPos.x - this._cardPosX)) >= c) {
var l = (u = c / Math.sin(n)) * Math.cos(n);
s = Math.cos(n) * (this._firstTouchBeganPos.x - this._cardPosX - l) + o / 2 + u;
} else {
var d = (u = h / Math.sin(Math.PI / 2 - n)) * Math.cos(Math.PI / 2 - n);
s = Math.cos(Math.PI / 2 - n) * (this._firstTouchBeganPos.y - this._cardPosY - d) + o / 2 + u;
}
} else if (e.y - this._firstTouchBeganPos.y <= 0 && e.x - this._firstTouchBeganPos.x <= 0) {
c = Math.abs(this._cardPosY + this._cardHeight - this._firstTouchBeganPos.y);
if ((h = Math.abs(this._cardPosX + this._cardWidth - this._firstTouchBeganPos.x)) >= c) {
l = (u = c / Math.sin(n)) * Math.cos(n);
s = Math.cos(n) * (this._cardPosX + this._cardWidth - this._firstTouchBeganPos.x - l) + o / 2 + u;
} else {
d = (u = h / Math.sin(Math.PI / 2 - n)) * Math.cos(Math.PI / 2 - n);
s = Math.cos(Math.PI / 2 - n) * (this._cardPosY + this._cardHeight - this._firstTouchBeganPos.y - d) + o / 2 + u;
}
} else if (e.y - this._firstTouchBeganPos.y >= 0 && e.x - this._firstTouchBeganPos.x <= 0) {
c = Math.abs(this._firstTouchBeganPos.y - this._cardPosY);
if ((h = Math.abs(this._cardPosX + this._cardWidth - this._firstTouchBeganPos.x)) >= c) {
l = (u = c / Math.sin(n)) * Math.cos(n);
s = Math.cos(n) * (this._cardPosX + this._cardWidth - this._firstTouchBeganPos.x - l) + o / 2 + u;
} else {
d = (u = h / Math.sin(Math.PI / 2 - n)) * Math.cos(Math.PI / 2 - n);
s = Math.cos(Math.PI / 2 - n) * (this._firstTouchBeganPos.y - this._cardPosY - d) + o / 2 + u;
}
} else if (e.y - this._firstTouchBeganPos.y <= 0 && e.x - this._firstTouchBeganPos.x >= 0) {
var h;
c = Math.abs(this._cardPosY + this._cardHeight - this._firstTouchBeganPos.y);
if ((h = Math.abs(this._firstTouchBeganPos.x - this._cardPosX)) >= c) {
l = (u = c / Math.sin(n)) * Math.cos(n);
s = Math.cos(n) * (this._firstTouchBeganPos.x - this._cardPosX - l) + o / 2 + u;
} else {
var u;
d = (u = h / Math.sin(Math.PI / 2 - n)) * Math.cos(Math.PI / 2 - n);
s = Math.sin(n) * (this._cardPosY + this._cardHeight - this._firstTouchBeganPos.y - d) + o / 2 + u;
}
}
var p = s / Math.cos(n), f = s / Math.cos(Math.PI / 2 - n);
if (!(p > this._cardWidth || f > this._cardHeight)) return !1;
p > this._cardWidth ? r = ((d = (p - this._cardWidth) * f / p) + f) * this._cardWidth / 2 : f > this._cardHeight && (r = ((l = (f - this._cardHeight) * p / f) + p) * this._cardHeight / 2);
2 * r > a && (t = !0);
return t;
};
t.prototype.getAngleByPoints = function(e, t, o) {
var i = e.x - o.x, n = e.y - o.y, a = t.x - o.x, r = t.y - o.y, s = (i * a + n * r) / (Math.sqrt(i * i + n * n) * Math.sqrt(a * a + r * r));
return 180 * Math.acos(s) / Math.PI;
};
t.prototype.isTouchCardFront = function(e) {
var t = this._lastTouchEndPos, o = Math.sqrt(Math.pow(this._firstTouchBeganPos.x - t.x, 2) + Math.pow(this._firstTouchBeganPos.y - t.y, 2)), i = (t.y - this._firstTouchBeganPos.y) / (t.x - this._firstTouchBeganPos.x), n = 180 * Math.atan(Math.abs(i)) / Math.PI * Math.PI / 180, a = o / 2;
if (t.y - this._firstTouchBeganPos.y >= 0 && t.x - this._firstTouchBeganPos.x >= 0) {
var r = Math.abs(this._firstTouchBeganPos.y - this._cardPosY);
if ((l = Math.abs(this._firstTouchBeganPos.x - this._cardPosX)) >= r) {
var s = (d = r / Math.sin(n)) * Math.cos(n);
a = Math.cos(n) * (this._firstTouchBeganPos.x - this._cardPosX - s) + o / 2 + d;
} else {
var c = (d = l / Math.sin(Math.PI / 2 - n)) * Math.cos(Math.PI / 2 - n);
a = Math.cos(Math.PI / 2 - n) * (this._firstTouchBeganPos.y - this._cardPosY - c) + o / 2 + d;
}
} else if (t.y - this._firstTouchBeganPos.y <= 0 && t.x - this._firstTouchBeganPos.x <= 0) {
r = Math.abs(this._cardPosY + this._cardHeight - this._firstTouchBeganPos.y);
if ((l = Math.abs(this._cardPosX + this._cardWidth - this._firstTouchBeganPos.x)) >= r) {
s = (d = r / Math.sin(n)) * Math.cos(n);
a = Math.cos(n) * (this._cardPosX + this._cardWidth - this._firstTouchBeganPos.x - s) + o / 2 + d;
} else {
c = (d = l / Math.sin(Math.PI / 2 - n)) * Math.cos(Math.PI / 2 - n);
a = Math.cos(Math.PI / 2 - n) * (this._cardPosY + this._cardHeight - this._firstTouchBeganPos.y - c) + o / 2 + d;
}
} else if (t.y - this._firstTouchBeganPos.y >= 0 && t.x - this._firstTouchBeganPos.x <= 0) {
r = Math.abs(this._firstTouchBeganPos.y - this._cardPosY);
if ((l = Math.abs(this._cardPosX + this._cardWidth - this._firstTouchBeganPos.x)) >= r) {
s = (d = r / Math.sin(n)) * Math.cos(n);
a = Math.cos(n) * (this._cardPosX + this._cardWidth - this._firstTouchBeganPos.x - s) + o / 2 + d;
} else {
c = (d = l / Math.sin(Math.PI / 2 - n)) * Math.cos(Math.PI / 2 - n);
a = Math.cos(Math.PI / 2 - n) * (this._firstTouchBeganPos.y - this._cardPosY - c) + o / 2 + d;
}
} else if (t.y - this._firstTouchBeganPos.y <= 0 && t.x - this._firstTouchBeganPos.x >= 0) {
var l;
r = Math.abs(this._cardPosY + this._cardHeight - this._firstTouchBeganPos.y);
if ((l = Math.abs(this._firstTouchBeganPos.x - this._cardPosX)) >= r) {
s = (d = r / Math.sin(n)) * Math.cos(n);
a = Math.cos(n) * (this._firstTouchBeganPos.x - this._cardPosX - s) + o / 2 + d;
} else {
var d;
c = (d = l / Math.sin(Math.PI / 2 - n)) * Math.cos(Math.PI / 2 - n);
a = Math.sin(n) * (this._cardPosY + this._cardHeight - this._firstTouchBeganPos.y - c) + o / 2 + d;
}
}
a *= 2;
var h = Math.abs(a * Math.cos(n)), u = Math.abs(a * Math.sin(n)), p = cc.v2(this._cardPosX + h, this._cardPosY + u), f = a / (2 * Math.cos(n)), m = a / (2 * Math.cos(Math.PI / 2 - n)), g = null, y = null;
if (t.y - this._firstTouchBeganPos.y >= 0 && t.x - this._firstTouchBeganPos.x >= 0) {
p = cc.v2(this._cardPosX + h, this._cardPosY + u);
if (f > this._cardWidth) {
var _ = (c = (f - this._cardWidth) * m / f) * Math.sin(Math.PI - 2 * n), C = c * Math.cos(Math.PI - 2 * n), b = cc.v2(this._cardPosX + this._cardWidth + _, this._cardPosY + c + C);
g = [ this._cardPosX, p.x, b.x, this._cardPosX + this._cardWidth ];
y = [ this._cardPosY + m, p.y, b.y, this._cardPosY + c ];
} else if (m > this._cardHeight) {
_ = (s = (m - this._cardHeight) * f / m) * Math.cos(2 * n), C = s * Math.sin(2 * n), 
b = cc.v2(this._cardPosX + s + _, this._cardPosY + this._cardHeight + C);
g = [ this._cardPosX + s, b.x, p.x, this._cardPosX + f ];
y = [ this._cardPosY + this._cardHeight, b.y, p.y, this._cardPosY ];
} else {
g = [ this._cardPosX, p.x, this._cardPosX + f ];
y = [ this._cardPosY + m, p.y, this._cardPosY ];
}
} else if (t.y - this._firstTouchBeganPos.y <= 0 && t.x - this._firstTouchBeganPos.x <= 0) {
p = cc.v2(this._cardPosX + this._cardWidth - h, this._cardPosY + this._cardHeight - u);
if (f > this._cardWidth) {
_ = (c = (f - this._cardWidth) * m / f) * Math.sin(Math.PI - 2 * n), C = c * Math.cos(Math.PI - 2 * n), 
b = cc.v2(this._cardPosX - _, this._cardPosY + this._cardHeight - c - C);
g = [ this._cardPosX + this._cardWidth, p.x, b.x, this._cardPosX ];
y = [ this._cardPosY + this._cardHeight - m, p.y, b.y, this._cardPosY + this._cardHeight - c ];
} else if (m > this._cardHeight) {
_ = (s = (m - this._cardHeight) * f / m) * Math.cos(2 * n), C = s * Math.sin(2 * n), 
b = cc.v2(this._cardPosX + this._cardWidth - s - _, this._cardPosY - C);
g = [ this._cardPosX + this._cardWidth - s, b.x, p.x, this._cardPosX + this._cardWidth - f ];
y = [ this._cardPosY, b.y, p.y, this._cardPosY + this._cardHeight ];
} else {
g = [ this._cardPosX + this._cardWidth - f, p.x, this._cardPosX + this._cardWidth ];
y = [ this._cardPosY + this._cardHeight, p.y, this._cardPosY + this._cardHeight - m ];
}
} else if (t.y - this._firstTouchBeganPos.y >= 0 && t.x - this._firstTouchBeganPos.x <= 0) {
p = cc.v2(this._cardPosX + this._cardWidth - h, this._cardPosY + u);
if (f > this._cardWidth) {
_ = (c = (f - this._cardWidth) * m / f) * Math.sin(Math.PI - 2 * n), C = c * Math.cos(Math.PI - 2 * n), 
b = cc.v2(this._cardPosX - _, this._cardPosY + c + C);
g = [ this._cardPosX + this._cardWidth, p.x, b.x, this._cardPosX ];
y = [ this._cardPosY + m, p.y, b.y, this._cardPosY + c ];
} else if (m > this._cardHeight) {
_ = (s = (m - this._cardHeight) * f / m) * Math.cos(2 * n), C = s * Math.sin(2 * n), 
b = cc.v2(this._cardPosX + this._cardWidth - s - _, this._cardPosY + this._cardHeight + C);
g = [ this._cardPosX + this._cardWidth - s, b.x, p.x, this._cardPosX + this._cardWidth - f ];
y = [ this._cardPosY + this._cardHeight, b.y, p.y, this._cardPosY ];
} else {
g = [ this._cardPosX + this._cardWidth - f, p.x, this._cardPosX + this._cardWidth ];
y = [ this._cardPosY, p.y, this._cardPosY + m ];
}
} else if (t.y - this._firstTouchBeganPos.y <= 0 && t.x - this._firstTouchBeganPos.x >= 0) {
p = cc.v2(this._cardPosX + h, this._cardPosY + this._cardHeight - u);
if (f > this._cardWidth) {
_ = (c = (f - this._cardWidth) * m / f) * Math.sin(Math.PI - 2 * n), C = c * Math.cos(Math.PI - 2 * n), 
b = cc.v2(this._cardPosX + this._cardWidth + _, this._cardPosY + this._cardHeight - c - C);
g = [ this._cardPosX + this._cardWidth, b.x, p.x, this._cardPosX ];
y = [ this._cardPosY + this._cardHeight - c, b.y, p.y, this._cardPosY + this._cardHeight - m ];
} else if (m > this._cardHeight) {
_ = (s = (m - this._cardHeight) * f / m) * Math.cos(2 * n), C = s * Math.sin(2 * n), 
b = cc.v2(this._cardPosX + s + _, this._cardPosY - C);
g = [ this._cardPosX + s, b.x, p.x, this._cardPosX + f ];
y = [ this._cardPosY, b.y, p.y, this._cardPosY + this._cardHeight ];
} else {
g = [ this._cardPosX + f, p.x, this._cardPosX ];
y = [ this._cardPosY + this._cardHeight, p.y, this._cardPosY + this._cardHeight - m ];
}
}
return this.isInside(g.length, g, y, e);
};
t.prototype.isTouchCardBg = function() {
return !0;
};
t.prototype.openCardFace = function() {
0 == this._cardFace.active && d.default.inst.playEffect("flop");
this._cardFace.active = !0;
this._bgMaterialNode.active = !1;
this._zmMaterialNode.active = !1;
this.node.isopen = 1;
this._call && this._call();
this.closeTouch();
};
t.prototype.playerOpen = function() {
r.MyEvent.getInstance().emit("PLAYER_OPEN_EVENT", {
id: this.node.cardid,
card: this.node.cardnum
});
};
Object.defineProperty(t.prototype, "cardFace", {
get: function() {
if (h.default.isnull(this._cardFace)) return this._cardFace.active;
console.log("false test cardFace");
return !1;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "cardBg", {
get: function() {
if (h.default.isnull(this._bgMaterialNode)) return this._bgMaterialNode;
console.log("false test cardBg");
return !1;
},
enumerable: !1,
configurable: !0
});
t.prototype.setRotate = function() {
if (h.default.isnull(this._bgMaterialNode)) {
var e = this._bgMaterialNode.angle;
e = e % 180 == 0 ? -90 : 0;
this._bgMaterialNode.angle = e;
this._cardFace.angle = this._bgMaterialNode.angle;
var t = Date.now() - this._timeX;
if (this._isOpenTouch) {
this._timeX = Date.now();
t > 15e4 && (t = 0);
r.MyEvent.getInstance().emit("MIPAI_DATA_EVENT", {
type: s.broadcastType.mipai_angle,
id: this.node.cardid,
angle: e,
time: t
});
}
this.resetPos();
this.resetCardRect();
this._isCardOpen = !1;
}
};
t.prototype.resetRotate = function() {
var e = this._bgMaterialNode.angle;
this._cardFace.angle = this._bgMaterialNode.angle;
var t = Date.now() - this._timeX;
if (this._isOpenTouch) {
this._timeX = Date.now();
t > 15e4 && (t = 0);
r.MyEvent.getInstance().emit("MIPAI_DATA_EVENT", {
type: s.broadcastType.mipai_angle,
id: this.node.cardid,
angle: e,
time: t
});
}
this.resetPos();
this.resetCardRect();
this._isCardOpen = !1;
};
t.prototype.rotateAnimation = function(e, t) {
var o = this;
cc.tween(this._bgMaterialNode).to(e, {
angle: t
}).call(function() {
o.resetRotate();
}).start();
};
Object.defineProperty(t.prototype, "isOpenTouch", {
get: function() {
return this._isOpenTouch;
},
enumerable: !1,
configurable: !0
});
return a([ m ], t);
}(cc.Component));
o.default = g;
cc._RF.pop();
}, {
"../Components/MyEvent": "MyEvent",
"../Conf/Const": "Const",
"../Conf/ScreenAdapter": "ScreenAdapter",
"../Data/GameData": "GameData",
"../Manager/CardManager": "CardManager",
"../UIFrame/SoundMgr": "SoundMgr",
"./GameUtil": "GameUtil",
"./SpritePreLoader": "SpritePreLoader"
} ],
tips: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "43f1ajHsWZC5aw8CBXqxZZg", "tips");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator, s = r.ccclass, c = (r.property, function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {};
t.prototype.setData = function(e, t) {
var o = this;
this._msg = this.node.getChildByName("msg");
this._msg.getComponent(cc.Label).string = e;
var i = new cc.Color(255, 47, 47);
this._msg.color = t || i;
this._msg.getComponent(cc.Label)._forceUpdateRenderData(!0);
this.node.width = this._msg.width + 100;
this.node.setPosition(cc.winSize.width / 2, cc.winSize.height / 2);
this.scheduleOnce(function() {
o.node.destroy();
}, 2);
};
t.prototype.start = function() {};
return a([ s ], t);
}(cc.Component));
o.default = c;
cc._RF.pop();
}, {} ],
tripledes: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "93678n1SJ5Jl4FVhmvCRT/E", "tripledes");
i = function(e) {
(function() {
var t = e, o = t.lib, i = o.WordArray, n = o.BlockCipher, a = t.algo, r = [ 57, 49, 41, 33, 25, 17, 9, 1, 58, 50, 42, 34, 26, 18, 10, 2, 59, 51, 43, 35, 27, 19, 11, 3, 60, 52, 44, 36, 63, 55, 47, 39, 31, 23, 15, 7, 62, 54, 46, 38, 30, 22, 14, 6, 61, 53, 45, 37, 29, 21, 13, 5, 28, 20, 12, 4 ], s = [ 14, 17, 11, 24, 1, 5, 3, 28, 15, 6, 21, 10, 23, 19, 12, 4, 26, 8, 16, 7, 27, 20, 13, 2, 41, 52, 31, 37, 47, 55, 30, 40, 51, 45, 33, 48, 44, 49, 39, 56, 34, 53, 46, 42, 50, 36, 29, 32 ], c = [ 1, 2, 4, 6, 8, 10, 12, 14, 15, 17, 19, 21, 23, 25, 27, 28 ], l = [ {
0: 8421888,
268435456: 32768,
536870912: 8421378,
805306368: 2,
1073741824: 512,
1342177280: 8421890,
1610612736: 8389122,
1879048192: 8388608,
2147483648: 514,
2415919104: 8389120,
2684354560: 33280,
2952790016: 8421376,
3221225472: 32770,
3489660928: 8388610,
3758096384: 0,
4026531840: 33282,
134217728: 0,
402653184: 8421890,
671088640: 33282,
939524096: 32768,
1207959552: 8421888,
1476395008: 512,
1744830464: 8421378,
2013265920: 2,
2281701376: 8389120,
2550136832: 33280,
2818572288: 8421376,
3087007744: 8389122,
3355443200: 8388610,
3623878656: 32770,
3892314112: 514,
4160749568: 8388608,
1: 32768,
268435457: 2,
536870913: 8421888,
805306369: 8388608,
1073741825: 8421378,
1342177281: 33280,
1610612737: 512,
1879048193: 8389122,
2147483649: 8421890,
2415919105: 8421376,
2684354561: 8388610,
2952790017: 33282,
3221225473: 514,
3489660929: 8389120,
3758096385: 32770,
4026531841: 0,
134217729: 8421890,
402653185: 8421376,
671088641: 8388608,
939524097: 512,
1207959553: 32768,
1476395009: 8388610,
1744830465: 2,
2013265921: 33282,
2281701377: 32770,
2550136833: 8389122,
2818572289: 514,
3087007745: 8421888,
3355443201: 8389120,
3623878657: 0,
3892314113: 33280,
4160749569: 8421378
}, {
0: 1074282512,
16777216: 16384,
33554432: 524288,
50331648: 1074266128,
67108864: 1073741840,
83886080: 1074282496,
100663296: 1073758208,
117440512: 16,
134217728: 540672,
150994944: 1073758224,
167772160: 1073741824,
184549376: 540688,
201326592: 524304,
218103808: 0,
234881024: 16400,
251658240: 1074266112,
8388608: 1073758208,
25165824: 540688,
41943040: 16,
58720256: 1073758224,
75497472: 1074282512,
92274688: 1073741824,
109051904: 524288,
125829120: 1074266128,
142606336: 524304,
159383552: 0,
176160768: 16384,
192937984: 1074266112,
209715200: 1073741840,
226492416: 540672,
243269632: 1074282496,
260046848: 16400,
268435456: 0,
285212672: 1074266128,
301989888: 1073758224,
318767104: 1074282496,
335544320: 1074266112,
352321536: 16,
369098752: 540688,
385875968: 16384,
402653184: 16400,
419430400: 524288,
436207616: 524304,
452984832: 1073741840,
469762048: 540672,
486539264: 1073758208,
503316480: 1073741824,
520093696: 1074282512,
276824064: 540688,
293601280: 524288,
310378496: 1074266112,
327155712: 16384,
343932928: 1073758208,
360710144: 1074282512,
377487360: 16,
394264576: 1073741824,
411041792: 1074282496,
427819008: 1073741840,
444596224: 1073758224,
461373440: 524304,
478150656: 0,
494927872: 16400,
511705088: 1074266128,
528482304: 540672
}, {
0: 260,
1048576: 0,
2097152: 67109120,
3145728: 65796,
4194304: 65540,
5242880: 67108868,
6291456: 67174660,
7340032: 67174400,
8388608: 67108864,
9437184: 67174656,
10485760: 65792,
11534336: 67174404,
12582912: 67109124,
13631488: 65536,
14680064: 4,
15728640: 256,
524288: 67174656,
1572864: 67174404,
2621440: 0,
3670016: 67109120,
4718592: 67108868,
5767168: 65536,
6815744: 65540,
7864320: 260,
8912896: 4,
9961472: 256,
11010048: 67174400,
12058624: 65796,
13107200: 65792,
14155776: 67109124,
15204352: 67174660,
16252928: 67108864,
16777216: 67174656,
17825792: 65540,
18874368: 65536,
19922944: 67109120,
20971520: 256,
22020096: 67174660,
23068672: 67108868,
24117248: 0,
25165824: 67109124,
26214400: 67108864,
27262976: 4,
28311552: 65792,
29360128: 67174400,
30408704: 260,
31457280: 65796,
32505856: 67174404,
17301504: 67108864,
18350080: 260,
19398656: 67174656,
20447232: 0,
21495808: 65540,
22544384: 67109120,
23592960: 256,
24641536: 67174404,
25690112: 65536,
26738688: 67174660,
27787264: 65796,
28835840: 67108868,
29884416: 67109124,
30932992: 67174400,
31981568: 4,
33030144: 65792
}, {
0: 2151682048,
65536: 2147487808,
131072: 4198464,
196608: 2151677952,
262144: 0,
327680: 4198400,
393216: 2147483712,
458752: 4194368,
524288: 2147483648,
589824: 4194304,
655360: 64,
720896: 2147487744,
786432: 2151678016,
851968: 4160,
917504: 4096,
983040: 2151682112,
32768: 2147487808,
98304: 64,
163840: 2151678016,
229376: 2147487744,
294912: 4198400,
360448: 2151682112,
425984: 0,
491520: 2151677952,
557056: 4096,
622592: 2151682048,
688128: 4194304,
753664: 4160,
819200: 2147483648,
884736: 4194368,
950272: 4198464,
1015808: 2147483712,
1048576: 4194368,
1114112: 4198400,
1179648: 2147483712,
1245184: 0,
1310720: 4160,
1376256: 2151678016,
1441792: 2151682048,
1507328: 2147487808,
1572864: 2151682112,
1638400: 2147483648,
1703936: 2151677952,
1769472: 4198464,
1835008: 2147487744,
1900544: 4194304,
1966080: 64,
2031616: 4096,
1081344: 2151677952,
1146880: 2151682112,
1212416: 0,
1277952: 4198400,
1343488: 4194368,
1409024: 2147483648,
1474560: 2147487808,
1540096: 64,
1605632: 2147483712,
1671168: 4096,
1736704: 2147487744,
1802240: 2151678016,
1867776: 4160,
1933312: 2151682048,
1998848: 4194304,
2064384: 4198464
}, {
0: 128,
4096: 17039360,
8192: 262144,
12288: 536870912,
16384: 537133184,
20480: 16777344,
24576: 553648256,
28672: 262272,
32768: 16777216,
36864: 537133056,
40960: 536871040,
45056: 553910400,
49152: 553910272,
53248: 0,
57344: 17039488,
61440: 553648128,
2048: 17039488,
6144: 553648256,
10240: 128,
14336: 17039360,
18432: 262144,
22528: 537133184,
26624: 553910272,
30720: 536870912,
34816: 537133056,
38912: 0,
43008: 553910400,
47104: 16777344,
51200: 536871040,
55296: 553648128,
59392: 16777216,
63488: 262272,
65536: 262144,
69632: 128,
73728: 536870912,
77824: 553648256,
81920: 16777344,
86016: 553910272,
90112: 537133184,
94208: 16777216,
98304: 553910400,
102400: 553648128,
106496: 17039360,
110592: 537133056,
114688: 262272,
118784: 536871040,
122880: 0,
126976: 17039488,
67584: 553648256,
71680: 16777216,
75776: 17039360,
79872: 537133184,
83968: 536870912,
88064: 17039488,
92160: 128,
96256: 553910272,
100352: 262272,
104448: 553910400,
108544: 0,
112640: 553648128,
116736: 16777344,
120832: 262144,
124928: 537133056,
129024: 536871040
}, {
0: 268435464,
256: 8192,
512: 270532608,
768: 270540808,
1024: 268443648,
1280: 2097152,
1536: 2097160,
1792: 268435456,
2048: 0,
2304: 268443656,
2560: 2105344,
2816: 8,
3072: 270532616,
3328: 2105352,
3584: 8200,
3840: 270540800,
128: 270532608,
384: 270540808,
640: 8,
896: 2097152,
1152: 2105352,
1408: 268435464,
1664: 268443648,
1920: 8200,
2176: 2097160,
2432: 8192,
2688: 268443656,
2944: 270532616,
3200: 0,
3456: 270540800,
3712: 2105344,
3968: 268435456,
4096: 268443648,
4352: 270532616,
4608: 270540808,
4864: 8200,
5120: 2097152,
5376: 268435456,
5632: 268435464,
5888: 2105344,
6144: 2105352,
6400: 0,
6656: 8,
6912: 270532608,
7168: 8192,
7424: 268443656,
7680: 270540800,
7936: 2097160,
4224: 8,
4480: 2105344,
4736: 2097152,
4992: 268435464,
5248: 268443648,
5504: 8200,
5760: 270540808,
6016: 270532608,
6272: 270540800,
6528: 270532616,
6784: 8192,
7040: 2105352,
7296: 2097160,
7552: 0,
7808: 268435456,
8064: 268443656
}, {
0: 1048576,
16: 33555457,
32: 1024,
48: 1049601,
64: 34604033,
80: 0,
96: 1,
112: 34603009,
128: 33555456,
144: 1048577,
160: 33554433,
176: 34604032,
192: 34603008,
208: 1025,
224: 1049600,
240: 33554432,
8: 34603009,
24: 0,
40: 33555457,
56: 34604032,
72: 1048576,
88: 33554433,
104: 33554432,
120: 1025,
136: 1049601,
152: 33555456,
168: 34603008,
184: 1048577,
200: 1024,
216: 34604033,
232: 1,
248: 1049600,
256: 33554432,
272: 1048576,
288: 33555457,
304: 34603009,
320: 1048577,
336: 33555456,
352: 34604032,
368: 1049601,
384: 1025,
400: 34604033,
416: 1049600,
432: 1,
448: 0,
464: 34603008,
480: 33554433,
496: 1024,
264: 1049600,
280: 33555457,
296: 34603009,
312: 1,
328: 33554432,
344: 1048576,
360: 1025,
376: 34604032,
392: 33554433,
408: 34603008,
424: 0,
440: 34604033,
456: 1049601,
472: 1024,
488: 33555456,
504: 1048577
}, {
0: 134219808,
1: 131072,
2: 134217728,
3: 32,
4: 131104,
5: 134350880,
6: 134350848,
7: 2048,
8: 134348800,
9: 134219776,
10: 133120,
11: 134348832,
12: 2080,
13: 0,
14: 134217760,
15: 133152,
2147483648: 2048,
2147483649: 134350880,
2147483650: 134219808,
2147483651: 134217728,
2147483652: 134348800,
2147483653: 133120,
2147483654: 133152,
2147483655: 32,
2147483656: 134217760,
2147483657: 2080,
2147483658: 131104,
2147483659: 134350848,
2147483660: 0,
2147483661: 134348832,
2147483662: 134219776,
2147483663: 131072,
16: 133152,
17: 134350848,
18: 32,
19: 2048,
20: 134219776,
21: 134217760,
22: 134348832,
23: 131072,
24: 0,
25: 131104,
26: 134348800,
27: 134219808,
28: 134350880,
29: 133120,
30: 2080,
31: 134217728,
2147483664: 131072,
2147483665: 2048,
2147483666: 134348832,
2147483667: 133152,
2147483668: 32,
2147483669: 134348800,
2147483670: 134217728,
2147483671: 134219808,
2147483672: 134350880,
2147483673: 134217760,
2147483674: 134219776,
2147483675: 0,
2147483676: 133120,
2147483677: 2080,
2147483678: 131104,
2147483679: 134350848
} ], d = [ 4160749569, 528482304, 33030144, 2064384, 129024, 8064, 504, 2147483679 ], h = a.DES = n.extend({
_doReset: function() {
for (var e = this._key.words, t = [], o = 0; o < 56; o++) {
var i = r[o] - 1;
t[o] = e[i >>> 5] >>> 31 - i % 32 & 1;
}
for (var n = this._subKeys = [], a = 0; a < 16; a++) {
var l = n[a] = [], d = c[a];
for (o = 0; o < 24; o++) {
l[o / 6 | 0] |= t[(s[o] - 1 + d) % 28] << 31 - o % 6;
l[4 + (o / 6 | 0)] |= t[28 + (s[o + 24] - 1 + d) % 28] << 31 - o % 6;
}
l[0] = l[0] << 1 | l[0] >>> 31;
for (o = 1; o < 7; o++) l[o] = l[o] >>> 4 * (o - 1) + 3;
l[7] = l[7] << 5 | l[7] >>> 27;
}
var h = this._invSubKeys = [];
for (o = 0; o < 16; o++) h[o] = n[15 - o];
},
encryptBlock: function(e, t) {
this._doCryptBlock(e, t, this._subKeys);
},
decryptBlock: function(e, t) {
this._doCryptBlock(e, t, this._invSubKeys);
},
_doCryptBlock: function(e, t, o) {
this._lBlock = e[t];
this._rBlock = e[t + 1];
u.call(this, 4, 252645135);
u.call(this, 16, 65535);
p.call(this, 2, 858993459);
p.call(this, 8, 16711935);
u.call(this, 1, 1431655765);
for (var i = 0; i < 16; i++) {
for (var n = o[i], a = this._lBlock, r = this._rBlock, s = 0, c = 0; c < 8; c++) s |= l[c][((r ^ n[c]) & d[c]) >>> 0];
this._lBlock = r;
this._rBlock = a ^ s;
}
var h = this._lBlock;
this._lBlock = this._rBlock;
this._rBlock = h;
u.call(this, 1, 1431655765);
p.call(this, 8, 16711935);
p.call(this, 2, 858993459);
u.call(this, 16, 65535);
u.call(this, 4, 252645135);
e[t] = this._lBlock;
e[t + 1] = this._rBlock;
},
keySize: 2,
ivSize: 2,
blockSize: 2
});
function u(e, t) {
var o = (this._lBlock >>> e ^ this._rBlock) & t;
this._rBlock ^= o;
this._lBlock ^= o << e;
}
function p(e, t) {
var o = (this._rBlock >>> e ^ this._lBlock) & t;
this._lBlock ^= o;
this._rBlock ^= o << e;
}
t.DES = n._createHelper(h);
var f = a.TripleDES = n.extend({
_doReset: function() {
var e = this._key.words;
this._des1 = h.createEncryptor(i.create(e.slice(0, 2)));
this._des2 = h.createEncryptor(i.create(e.slice(2, 4)));
this._des3 = h.createEncryptor(i.create(e.slice(4, 6)));
},
encryptBlock: function(e, t) {
this._des1.encryptBlock(e, t);
this._des2.decryptBlock(e, t);
this._des3.encryptBlock(e, t);
},
decryptBlock: function(e, t) {
this._des3.decryptBlock(e, t);
this._des2.encryptBlock(e, t);
this._des1.decryptBlock(e, t);
},
keySize: 6,
ivSize: 2,
blockSize: 2
});
t.TripleDES = n._createHelper(f);
})();
return e.TripleDES;
}, "object" == typeof o ? t.exports = o = i(e("./core"), e("./enc-base64"), e("./md5"), e("./evpkdf"), e("./cipher-core")) : "function" == typeof define && define.amd ? define([ "./core", "./enc-base64", "./md5", "./evpkdf", "./cipher-core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./cipher-core": "cipher-core",
"./core": "core",
"./enc-base64": "enc-base64",
"./evpkdf": "evpkdf",
"./md5": "md5"
} ],
vipUpDlg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b066aimK/dOJK2RwqueGFhs", "vipUpDlg");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../public/MyComponent/WindowBase"), s = e("../../executor/vip/vipUpEx"), c = cc._decorator, l = c.ccclass, d = c.property, h = function(e) {
n(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.cardSkeleton = null;
t.skeletonDataList = [];
return t;
}
t.prototype.onLoad = function() {
var e = this;
this.dialog = this.node.getChildByName("dlgBg");
this.closeBtn = this.dialog.getChildByName("cloneBtn");
this.closeBtn.on("click", function() {
e.onClose();
});
this.titleLabel = this.dialog.getChildByName("titleLabel").getComponent(cc.Label);
this.descLabel1 = this.dialog.getChildByName("descLabel1").getComponent(cc.RichText);
this.descLabel2 = this.dialog.getChildByName("descLabel2").getComponent(cc.RichText);
this.okBtn = this.dialog.getChildByName("okBtn");
this.okBtn.on("click", function() {
e.onClose();
});
this.exView = new s.default();
this.exView.setProxy(this);
};
t.prototype.start = function() {
e.prototype.start.call(this);
this.exView.initInfo();
};
a([ d(sp.Skeleton) ], t.prototype, "cardSkeleton", void 0);
a([ d({
type: sp.SkeletonData,
displayName: ""
}) ], t.prototype, "skeletonDataList", void 0);
return a([ l ], t);
}(r.default);
o.default = h;
cc._RF.pop();
}, {
"../../../public/MyComponent/WindowBase": "WindowBase",
"../../executor/vip/vipUpEx": "vipUpEx"
} ],
vipUpEx: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1aba3Vl8flKxZiLLkQEz3CI", "vipUpEx");
var i, n = this && this.__extends || (i = function(e, t) {
return (i = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
i(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), a = this && this.__decorate || function(e, t, o, i) {
var n, a = arguments.length, r = a < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, o) : i;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, o, i); else for (var s = e.length - 1; s >= 0; s--) (n = e[s]) && (r = (a < 3 ? n(r) : a > 3 ? n(t, o, r) : n(t, o)) || r);
return a > 3 && r && Object.defineProperty(t, o, r), r;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../data/GameLangData"), s = e("../../../data/MyData"), c = e("../../../public/MyComponent/GameHppayUtil"), l = e("../../../public/MyComponent/ViewExecutorBase"), d = cc._decorator, h = d.ccclass, u = (d.property, 
function(e) {
n(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.initSelf = function() {};
t.prototype.initInfo = function() {
this.node.titleLabel.string = r.default.ins.GET_DIALOG_LANG("vipAwardTips1");
c.default.labelShadow(this.node.titleLabel);
this.node.descLabel1.string = "<color=#EBEBEB>" + r.default.ins.GET_DIALOG_LANG("vipAwardTips2") + "</c><color=#FDF570> " + r.default.ins.GET_DIALOG_LANG("vipAwardTips3") + r.default.ins.GET_DIALOG_LANG("vipCardName" + (s.default.UserData.vipLevel + 1)) + "</color>";
this.node.descLabel2.string = "<color=#EBEBEB>" + r.default.ins.GET_DIALOG_LANG("vipAwardTips4") + "</c><color=#FDF570> " + this.node._data + "</color>";
this.node.okBtn.getChildByName("label").getComponent(cc.Label).string = r.default.ins.GET_DIALOG_LANG("vipAwardTips5");
this.node.cardSkeleton.skeletonData = this.node.skeletonDataList[s.default.UserData.vipLevel];
this.node.cardSkeleton.setAnimation(0, "animation", !0);
};
return a([ h ], t);
}(l.default));
o.default = u;
cc._RF.pop();
}, {
"../../../data/GameLangData": "GameLangData",
"../../../data/MyData": "MyData",
"../../../public/MyComponent/GameHppayUtil": "GameHppayUtil",
"../../../public/MyComponent/ViewExecutorBase": "ViewExecutorBase"
} ],
"x64-core": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "00569OfXKBJDZjjsRUEdXWW", "x64-core");
i = function(e) {
o = (t = e).lib, i = o.Base, n = o.WordArray, (a = t.x64 = {}).Word = i.extend({
init: function(e, t) {
this.high = e;
this.low = t;
}
}), a.WordArray = i.extend({
init: function(e, t) {
e = this.words = e || [];
this.sigBytes = null != t ? t : 8 * e.length;
},
toX32: function() {
for (var e = this.words, t = e.length, o = [], i = 0; i < t; i++) {
var a = e[i];
o.push(a.high);
o.push(a.low);
}
return n.create(o, this.sigBytes);
},
clone: function() {
for (var e = i.clone.call(this), t = e.words = this.words.slice(0), o = t.length, n = 0; n < o; n++) t[n] = t[n].clone();
return e;
}
});
var t, o, i, n, a;
return e;
}, "object" == typeof o ? t.exports = o = i(e("./core")) : "function" == typeof define && define.amd ? define([ "./core" ], i) : i((void 0).CryptoJS);
var i;
cc._RF.pop();
}, {
"./core": "core"
} ]
}, {}, [ "MainScene", "spinAction", "BaseView", "CommonDialog", "EXRewardDialog", "Help", "NewCommonTip", "Profile", "SetupDialog", "Shop", "Task", "TaskItem", "moneyNotEnough", "BigNumUtils", "CommonUtils", "DebugWindowUtils", "DrawingBoard", "EnumUtils", "GlobalHelper", "MatchUtils", "Pool", "PriorityQueue", "PropBind", "Queue", "CardRecorder", "CardSHA512", "ChipPool", "ClickEffect", "CutCardNode", "DialogBase", "DialogChoice", "FlipCard", "HeadPhoto", "Layer", "ListViewAssistant", "ListViewItem", "MyAnimation", "MyEvent", "Number", "PeekCardNode", "Read", "Scheduler", "SignalView", "SpriteRadius", "TimeReward", "WebDialog", "BaccatRoomConf", "Config", "Const", "Game", "GuardConfig", "Init", "Resources", "ScreenAdapter", "ActivityData", "BaccaratRoomList", "BankData", "BroadcastData", "CountryData", "ExchangeData", "FriendList", "GameData", "GiftData", "InviteData", "LanguageData", "MailData", "RedBagData", "RedNotificaData", "RoomData", "TaskData", "ThirdPartyRepairData", "WebGameData", "ActivityDialog", "Alert", "AlertWithConfirm", "AlertWithNoTitle", "CoinInsuficient", "CommonTip", "Confirm", "ConfirmDialog", "CutCardTips", "EffectReward", "GameWeb", "GameWebNative", "RichCommonTip", "RichConfirmDialog", "ScrollRichConfirmDialog", "TinyDialog", "WebViewDlg", "tips", "EXAdapterMgr", "EXCocosHelper", "EXColorAssembler2D", "EXEventCenter", "EXEventType", "EXFrameType", "EXList", "EXListItem", "EXModalMgr", "EXResMgrs", "EXShaderOffset", "EXSoundMgr", "EXTaskMgr", "EXTipsMgr", "EXUIBase", "EXUIManager", "EXUIModalScript", "EXSysDefine", "CommonData", "PublicActivityData", "GameBJAnimPlayer", "GameBJConst", "GameBJData", "GameBJLogic", "GameBJScene", "GameBJSoundPlayer", "GameActions", "GameBankerOperator", "GameBets", "GameButtons", "GameChips", "GameInsurance", "GameManager", "GameMenu", "GameMyInfo", "GameOperator", "GamePlayerOperators", "GameSeat", "GameTimer", "NVSGameUtil", "PrivateMD5", "ResourceManager", "SpriteLoad", "ApplePay", "DialogLogic", "EXSceneManager", "GameLayerManager", "GameRecorder", "MyCardCreator", "MyChipCreator", "GameAdapter", "GameAllConst", "GameAllData", "GameDataInfo", "GameStartInit", "HttpTools", "exmd5", "EXScene", "LayerHobby", "LayerLaunch", "LayerLoading", "LayerLogin", "LayerStart", "ResourceLoader", "LobbyBottomReview", "LobbyTopReview", "ListenNetWork", "NetCMD", "NetPackage", "NetRecieve", "NetSend", "NetWorkAll", "RepairNetWork", "ReportNetWork", "RootView", "GameFBInterface", "LoginDialog", "LoginSelecter", "RegestDialog", "CryptoJS", "MyHttp", "aes", "cipher-core", "core", "crypto-js", "enc-base64", "enc-hex", "enc-latin1", "enc-utf16", "enc-utf8", "evpkdf", "format-hex", "format-openssl", "hmac-md5", "hmac-ripemd160", "hmac-sha1", "hmac-sha224", "hmac-sha256", "hmac-sha3", "hmac-sha384", "hmac-sha512", "hmac", "index", "lib-typedarrays", "md5", "mode-cfb", "mode-ctr-gladman", "mode-ctr", "mode-ecb", "mode-ofb", "pad-ansix923", "pad-iso10126", "pad-iso97971", "pad-nopadding", "pad-pkcs7", "pad-zeropadding", "pbkdf2", "rabbit-legacy", "rabbit", "rc4", "ripemd160", "sha1", "sha224", "sha256", "sha3", "sha384", "sha512", "tripledes", "x64-core", "exccmd5", "PhoneInfo", "ADManager", "BaccaratSeatManager", "CardCreator", "CardManager", "ChipCreator", "DialogManager", "EmoticonPlayer", "EventRecorder", "LaunchDialogManager", "LayerManager", "MiCard", "MsgBoxManager", "PaymentInterface", "SceneManager", "SystemInterface", "GameQueue", "DialogRoot", "GameEvents", "TouchLayer", "AniLayerScript", "BJLCardRecorder", "BJLCardSHA512", "BetScript", "CardLayerScript", "GameDenyInviteDialog", "GameInviteHead", "GameInviteListDialog", "GameInviteListItem", "HallGameInviteHold", "HallInviteDialog", "InviteTips", "IpadRoomWaybill", "MenuView", "RoomGuide", "RoomWaybill", "RoomWaybillHnd", "RoomWaybillHndPad", "Seat", "TableBet", "TableBtnScript", "TableLayer", "TigerNode", "DlItem", "DyzItem", "RoomWaybillScroll", "XlItem", "YyItem", "Zplitem", "EjimoList", "RecordChat", "BirdAnimalsData", "IntDiceData", "FirebaseInterface", "GoogleAdMob", "LaunchPage", "Scene", "Commond", "NetworkListener", "NetworkReprter", "PhpApiManager", "ReceUnpackFormat", "WebSocket", "WebSocketManager", "WebSocketRecv", "WebSocketSend", "AdapterMgr", "CocosHelper", "ColorAssembler2D", "EventCenter", "EventType", "FrameType", "List", "ListItem", "ModalMgr", "ResMgrs", "ScrollViewPlus", "ScrollViewPlusItem", "ShaderOffset", "SoundMgr", "TaskMgr", "TipsMgr", "UIBase", "UIManager", "UIModalScript", "SysDefine", "CalculationLine", "GameUtil", "MD5", "RandomPointsInPolygon", "ResMgr", "SpritePreLoader", "card", "test", "Main", "GameCmd", "GameLobbyHttp", "GameLoginHttp", "GameNetReprter", "GameRecvSocket", "GameSendSocket", "GameSocket", "HappyGameSocket", "NetworkCheck", "SocketGameManager", "happyGameHttp", "BroadcastGameData", "EmailData", "GameLangData", "GameRedData", "MyData", "WebGameHappyData", "WebGameRepairData", "AndroidInterfaces", "GameConfig", "GameInfo", "GameRes", "InitGame", "ScreenGameAdapter", "UIAdapter", "BindMPEx", "FirstStoreEx", "GameRankEx", "GameSettingsEx", "GameShareEx", "GameWebEx", "HpgWebNativeGameEx", "LobbyTimeBoxEx", "PageHomeEx", "GameActivityPageEx", "GameRewardEx", "BindPixDialogEX", "GameBankerSelectorEx", "GameBindGCashEx", "GameBindUPIEx", "GameCgAttentionEx", "GameCgConfirmEx", "GameChargeP2PEx", "GameChargeQRCodeEx", "GameConfirmGCashEx", "GameConfirmPixEx", "GameStoreEx", "HpgAgentGameEx", "HpgChargeRecordListEx", "IndiaBankWithdrawInfoEx", "PlayerKickbackEx", "PlayerWithdrawEx", "PlayerWithdrawRecordEx", "SelectorFISCCodeEx", "playerAddPaymentEx", "EmailGameEx", "GameSetPasswordEx", "GameUpdatePasswordEx", "SetUpGameEx", "GameVipEx", "vipUpEx", "BindMPDlg", "FirstStoreDlg", "GameAlert", "GameAlertConfirmDlg", "GameAlertNoTitleDlg", "GameConfirmDlg", "GameGuideDlg", "GameNewConfirmDlg", "GameRankDlg", "GameRegDlg", "GameScrollRichDlg", "GameSettings", "GameShareDlg", "GameTips", "GameUpdateDlg", "GameWebDlg", "GameWebFive", "HpgWebGame", "HpgWebNativeGame", "LobbyTimeBox", "LuckySpin", "OldTips", "PageHomeDlg", "PlayerPhotoSelectorDlg", "RankDialog", "WebFeedbackDlg", "WebGuideAndroid", "WebGuideIOS", "ActivityListDlg", "GameActivityPageDlg", "GameRewardDlg", "BindPixDialog", "GameBankerItem", "GameBankerSelectorDlg", "GameBindGCashDlg", "GameBindUPIDlg", "GameCgAttentionDlg", "GameCgConfirmDlg", "GameChargeP2PDlg", "GameChargeQRCodeDlg", "GameChooseBankDlg", "GameChoosePixDlg", "GameConfirmGCashDlg", "GameConfirmPixDlg", "GameConfirmUPIDlg", "GameConfirmWithdrawDlg", "GamePayWebDlg", "GameStore", "HpgAgentGame", "HpgChargeRecordListDialog", "IndiaBankWithdrawInfoDlg", "PlayerKickback", "PlayerWithdraw", "PlayerWithdrawRecordDlg", "SelectorFISCCodeDlg", "StoreSelecter", "playerAddPaymentDlg", "EmailGame", "GameDltAllReadMailDlg", "GameNoticeMailItem", "GameReadMailDlg", "GameReadNoticeDlg", "GameStmMailItem", "GetEmailRewardDlg", "ChargeOldDlg", "ConfirmRichDlg", "GameRichTip", "playerChangeNameDlg", "GameSetPasswordDlg", "GameUpdatePasswordDlg", "SetUpGameDlg", "GameVipDlg", "GameVipItemPrefab", "vipUpDlg", "GameBeginScene", "GameInitLogic", "GamePreLoader", "HotUpdateManager", "LaunchScene", "GameBeginSceneEx", "GetLoginCodeEx", "LoginResetPdEx", "GetLoginCode", "LoginResetPd", "DlgGameMgr", "GamePhpManager", "GameSceneMgr", "GameSoundMgr", "LaunchGameDlgMgr", "MyWebView", "PlatformInterface", "ReportGameEvent", "SpriteFramePreLoader", "TipsGameMgr", "AndroidFirebase", "AndroidInfo", "AndroidPayment", "GameBaseView", "GameEvent", "GameHppayUtil", "GameRedIcon", "HpgNumberImg", "ReadIcon", "ResGameMgr", "SceneBase", "SchedulerGame", "ViewExecutorBase", "WindowBase", "AdapterHpMgr", "CocosPublic", "ColorAssemblerGame", "EventGameType", "EventHpCenter", "FrameGameType", "GameScrollPlus", "GameScrollPlusItem", "GameSysDefine", "GameTaskMgr", "ModalGameMgr", "OffsetShader", "ResLoadMgr", "UIBgScript", "UIGameBase", "UIGameMgr", "ccmd5", "happyList", "happyListItem", "GamePool", "QueuePriority" ]);